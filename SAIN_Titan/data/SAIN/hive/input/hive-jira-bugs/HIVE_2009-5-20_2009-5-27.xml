<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:13:28 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2009-5-20+AND+created+%3C%3D+2009-5-27+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="21" total="21"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-498] UDFRegExp NullPointerException on empty replacement string</title>
                <link>https://issues.apache.org/jira/browse/HIVE-498</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;UDFRegExp, UDFRegExpReplace, UDFRegExpExtract will throw out NullPointerException if the replacement String is empty or pattern is empty&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425947">HIVE-498</key>
            <summary>UDFRegExp NullPointerException on empty replacement string</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 May 2009 18:24:20 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:41 +0000</updated>
                            <resolved>Wed, 20 May 2009 21:55:00 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12711292" author="zshao" created="Wed, 20 May 2009 18:57:53 +0000"  >&lt;p&gt;This patch fixes the problem.&lt;/p&gt;</comment>
                            <comment id="12711317" author="athusoo" created="Wed, 20 May 2009 20:23:04 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Running tests now. Will checkin when they are done. &lt;/p&gt;</comment>
                            <comment id="12711379" author="athusoo" created="Wed, 20 May 2009 21:55:00 +0000"  >&lt;p&gt;committed. Thanks Zheng!!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408609" name="HIVE-498.1.patch" size="9023" author="zshao" created="Wed, 20 May 2009 18:57:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 May 2009 20:23:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73493</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122291</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-499] CAST(intcolumn as INT) is failing</title>
                <link>https://issues.apache.org/jira/browse/HIVE-499</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The bug can be reproduced by:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE zshao_int(a &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;);
select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(a as &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;) from zshao_int;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12425957">HIVE-499</key>
            <summary>CAST(intcolumn as INT) is failing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 May 2009 21:07:44 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:54 +0000</updated>
                            <resolved>Wed, 20 May 2009 22:36:54 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12711370" author="zshao" created="Wed, 20 May 2009 21:45:34 +0000"  >&lt;p&gt;Fixed the problem and added a test case.&lt;/p&gt;</comment>
                            <comment id="12711377" author="athusoo" created="Wed, 20 May 2009 21:54:19 +0000"  >&lt;p&gt;+1. &lt;/p&gt;

&lt;p&gt;Looks good. Will commit once the tests pass.&lt;/p&gt;</comment>
                            <comment id="12711399" author="athusoo" created="Wed, 20 May 2009 22:36:54 +0000"  >&lt;p&gt;committed. Thanks Zheng!!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408628" name="HIVE-499.1.patch" size="6120" author="zshao" created="Wed, 20 May 2009 21:45:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 May 2009 21:54:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73492</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122292</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-500] select from newly created table will fail</title>
                <link>https://issues.apache.org/jira/browse/HIVE-500</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The bug can be reproduced by:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table zshao_int (a &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;);
select 1 from zshao_int;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem is that the directory for the table does not exist yet, but FileInputFormat.getSplits will fail in case the directory does not exist.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425958">HIVE-500</key>
            <summary>select from newly created table will fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 May 2009 21:52:46 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:48 +0000</updated>
                            <resolved>Sat, 23 May 2009 09:11:03 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12711584" author="he yongqiang" created="Thu, 21 May 2009 11:58:27 +0000"  >&lt;p&gt;It is caused by inputting nonexist files&lt;/p&gt;</comment>
                            <comment id="12711770" author="athusoo" created="Thu, 21 May 2009 19:39:05 +0000"  >&lt;p&gt;assigned.&lt;/p&gt;</comment>
                            <comment id="12712354" author="he yongqiang" created="Sat, 23 May 2009 04:57:59 +0000"  >&lt;p&gt;Namit did a patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-507&quot; title=&quot;empty files not handled properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-507&quot;&gt;&lt;del&gt;HIVE-507&lt;/del&gt;&lt;/a&gt;, which includes the codes for fixing this issue. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Patched another file against trunk code.&lt;/p&gt;</comment>
                            <comment id="12712357" author="namit" created="Sat, 23 May 2009 05:41:05 +0000"  >&lt;p&gt;DUPLICATE OF 507&lt;/p&gt;</comment>
                            <comment id="12712359" author="he yongqiang" created="Sat, 23 May 2009 05:50:46 +0000"  >&lt;p&gt;Namit, I think &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-507&quot; title=&quot;empty files not handled properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-507&quot;&gt;&lt;del&gt;HIVE-507&lt;/del&gt;&lt;/a&gt; does not resolve this issue. The error still exists there.&lt;/p&gt;</comment>
                            <comment id="12712384" author="zshao" created="Sat, 23 May 2009 08:31:56 +0000"  >&lt;p&gt;Yep I think we still need this to go in. Reviewing it right now...&lt;/p&gt;</comment>
                            <comment id="12712387" author="zshao" created="Sat, 23 May 2009 08:45:52 +0000"  >&lt;p&gt;Without the patch, the error message from the map task is:&lt;/p&gt;

&lt;p&gt;java.lang.RuntimeException: Map operator close failed during initialize&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:89)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:220)&lt;br/&gt;
	at org.apache.hadoop.mapred.TaskTracker$Child.main(TaskTracker.java:2137)&lt;br/&gt;
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Configuration and input path are inconsistent&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MapOperator.initialize(MapOperator.java:162)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:84)&lt;br/&gt;
	... 3 more&lt;/p&gt;
</comment>
                            <comment id="12712392" author="zshao" created="Sat, 23 May 2009 09:11:03 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408689" name="hive-500-2009-05-21.patch" size="3234" author="he yongqiang" created="Thu, 21 May 2009 11:58:27 +0000"/>
                            <attachment id="12408868" name="hive-500-2009-05-23.patch" size="2122" author="he yongqiang" created="Sat, 23 May 2009 04:57:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 May 2009 11:58:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73491</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122293</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-500&quot; title=&quot;select from newly created table will fail&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-500&quot;&gt;&lt;strike&gt;HIVE-500&lt;/strike&gt;&lt;/a&gt;. Fix select from newly created table. (Yongqiang He via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-501] UDFLower is doing uppercase instead of lowercase</title>
                <link>https://issues.apache.org/jira/browse/HIVE-501</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The current code is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;UDFLower &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; UDF {

  Text t = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Text();
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; UDFLower() {
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Text evaluate(Text s) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (s == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    }
    t.set(s.toString().toUpperCase());
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; t;
  }

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12425984">HIVE-501</key>
            <summary>UDFLower is doing uppercase instead of lowercase</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 May 2009 01:33:29 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:25 +0000</updated>
                            <resolved>Thu, 21 May 2009 02:30:03 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12711450" author="prasadc" created="Thu, 21 May 2009 01:51:06 +0000"  >&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="12711453" author="prasadc" created="Thu, 21 May 2009 02:30:03 +0000"  >&lt;p&gt;Thanks Zheng!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408648" name="HIVE-501.1.patch" size="2783" author="zshao" created="Thu, 21 May 2009 01:33:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 May 2009 01:51:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73490</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122294</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-502] Optimize RCFile&apos;s performance by removeing all synchronized modifiers</title>
                <link>https://issues.apache.org/jira/browse/HIVE-502</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Tests by Zheng and me both show that removing all synchronized modifiers can improve RCFile&apos;s performance by  about 15+%.&lt;br/&gt;
This will make RCFile&apos;s reader and writer not thread safe any longer. This will be ok,since hive always does its work in single thread.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426004">HIVE-502</key>
            <summary>Optimize RCFile&apos;s performance by removeing all synchronized modifiers</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 May 2009 09:30:04 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:21 +0000</updated>
                            <resolved>Fri, 22 May 2009 06:48:17 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12711948" author="zshao" created="Fri, 22 May 2009 04:54:15 +0000"  >&lt;p&gt;In the future if needed, we can add synchronized keyword to RCFile&apos;s read/write methods.&lt;br/&gt;
These methods will be called once per row, so the cost is much smaller than what we had - once per row per column.&lt;/p&gt;</comment>
                            <comment id="12711954" author="he yongqiang" created="Fri, 22 May 2009 05:38:22 +0000"  >&lt;p&gt;Fix a typo in class HiveDataInputBuffer&apos;s comment. Thanks, Zheng.&lt;/p&gt;</comment>
                            <comment id="12711970" author="zshao" created="Fri, 22 May 2009 06:48:17 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang.&lt;/p&gt;

&lt;p&gt;Note that this transaction only changes 5 files - none of which is used by Hive by default.&lt;br/&gt;
M      CHANGES.txt&lt;br/&gt;
A      ql/src/test/org/apache/hadoop/hive/ql/io/TestHiveInputOutputBuffer.java&lt;br/&gt;
A      ql/src/java/org/apache/hadoop/hive/ql/io/HiveDataInputBuffer.java&lt;br/&gt;
A      ql/src/java/org/apache/hadoop/hive/ql/io/HiveDataOutputBuffer.java&lt;br/&gt;
M      ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408673" name="hive-502-2009-05-21.patch" size="35369" author="he yongqiang" created="Thu, 21 May 2009 09:37:23 +0000"/>
                            <attachment id="12408774" name="hive-502-2009-05-22.patch" size="35114" author="he yongqiang" created="Fri, 22 May 2009 05:38:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 May 2009 04:54:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122295</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-502&quot; title=&quot;Optimize RCFile&amp;#39;s performance by removeing all synchronized modifiers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-502&quot;&gt;&lt;strike&gt;HIVE-502&lt;/strike&gt;&lt;/a&gt;. Optimize RCFile&amp;#39;s performance by removeing all synchronized modifiers. (Yongqiang He via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-503] improvement on distinct: distinguish distinct aggregate function from distinct</title>
                <link>https://issues.apache.org/jira/browse/HIVE-503</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;h4&gt;&lt;a name=&quot;distinct&quot;&gt;&lt;/a&gt;distinct&lt;/h4&gt;
&lt;ol&gt;
	&lt;li&gt;OK
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; 
   &lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; col
&lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; 
  tbl
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;FAILED
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; 
   &lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt;  col1,
   &lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt;  col2
&lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; 
  tbl
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;h4&gt;&lt;a name=&quot;distinctaggregatefunction&quot;&gt;&lt;/a&gt;distinct aggregate function&lt;/h4&gt;
&lt;ol&gt;
	&lt;li&gt;OK
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; 
   &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; col % 10)
&lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; 
  tbl
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;OK
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; 
   &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; col1% 10)
   &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; col1% 9)
&lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; 
  tbl
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;OK
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; 
   &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; col1 % 10)
   &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; col2 % 9)
&lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; 
  tbl
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;OK
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; 
  &lt;span class=&quot;code-keyword&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; col1 % 10),
  &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; col2 % 9)
&lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; 
  tbl
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
	&lt;li&gt;OK
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; 
  &lt;span class=&quot;code-keyword&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; substr(col1, 1, 10)),
  &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; col2 % 9)
&lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; 
  tbl
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The keyword &quot;distinct&quot; ofen produce more than one results, so it&apos;s impossible removing two different columns&apos; duplicates in only one mapreduce job, so it failed.&lt;/p&gt;

&lt;p&gt;But the term &quot;distinct aggregate function&quot; with a form like aggregate_function(distinct ....),  is in connection with the term &quot;all aggregate function&quot;,  it essentially is an aggregate function. Only one result each aggregate function will produce,  it&apos;s very possible one mapreduce job could deal with two or more different aggregate expression simultaneously.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426016">HIVE-503</key>
            <summary>improvement on distinct: distinguish distinct aggregate function from distinct</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="coderplay">Min Zhou</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 May 2009 11:48:48 +0000</created>
                <updated>Mon, 25 May 2009 05:32:51 +0000</updated>
                                                                                <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12711961" author="zshao" created="Fri, 22 May 2009 06:07:32 +0000"  >&lt;p&gt;Can you explain how to do it in one mapreduce job simultaneously?&lt;/p&gt;

&lt;p&gt;Also, what does &quot;distinct 1.OK and 2.Failed&quot; mean? I don&apos;t think 2 will fail.&lt;/p&gt;</comment>
                            <comment id="12711988" author="coderplay" created="Fri, 22 May 2009 08:16:38 +0000"  >&lt;p&gt;oops, my mistake. 2 shoule be select  distinct col1, distinct col2, which will fail.&lt;/p&gt;

&lt;p&gt;okay,  take 4 for example: &lt;/p&gt;

&lt;p&gt;mapper output: &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;other_key + &apos;1&apos; + &quot;col1%10&quot;,  value&amp;gt;
&amp;lt;other_key + &apos;2 + &quot;col2%9&quot;,  value&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;after doing distinct,  then redcuer:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;if(1) {
  sum_result += ..
} else {
  count_result++
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;reducer output: &lt;br/&gt;
&amp;lt;sum_result + delimiter + count_result, ...&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12712177" author="athusoo" created="Fri, 22 May 2009 17:26:49 +0000"  >&lt;p&gt;Actually we had talked about this approach a long time back but we were not sure that this would be better than running 2 map/reduce jobs. The reason being that this approach leads to a sort of mn amount of data where m is the number of distincts and n the number of rows as opposed to a sort of m+n data if we do this with m map/reduce jobs. Granted that we also scan the data mn times in the second approach as opposed to 1 time in the first approach but we find in our cluster that scan bandwidth is not an issue (mostly because we store data compressed) and the sort and memory used in the reducer or the mapper becomes the issue. I think this does call for some experimentation to determine the value of m where one approach becomes better than other..&lt;/p&gt;</comment>
                            <comment id="12712344" author="coderplay" created="Sat, 23 May 2009 03:11:12 +0000"  >&lt;p&gt;Is that intermediate data outputed by mappers for shuffling the data you mentioned? Could you explain why that amount  brought by your second approach was m+n  which I thought may be mn too?&lt;/p&gt;

&lt;p&gt;btw, I think you must caculate in addition the overhead of  at least one piece of join query when you finally merge your m distincted results into one table. That isnot the first approach needed.&lt;/p&gt;</comment>
                            <comment id="12712641" author="coderplay" created="Mon, 25 May 2009 05:32:51 +0000"  >&lt;p&gt;consider about a real world example&lt;/p&gt;

&lt;p&gt;Approach 1: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;set&lt;/span&gt; hive.groupby.skewindata=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;

&lt;span class=&quot;code-keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;table&lt;/span&gt; rslt_tbg_pvuv (tbg &lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt;, memeber_pv &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;, guest_pv &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;, memeber_uv &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;, guest_uv &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;INSERT&lt;/span&gt; OVERWRITE &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; rslt_tbg_pvuv 
&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt;
  tbg,
  &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;CASE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;WHEN&lt;/span&gt; is_member=0 &lt;span class=&quot;code-keyword&quot;&gt;THEN&lt;/span&gt; 1 &lt;span class=&quot;code-keyword&quot;&gt;ELSE&lt;/span&gt; 0 &lt;span class=&quot;code-keyword&quot;&gt;END&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; member_pv,
  &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;CASE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;WHEN&lt;/span&gt; is_member=1 &lt;span class=&quot;code-keyword&quot;&gt;THEN&lt;/span&gt; 1 &lt;span class=&quot;code-keyword&quot;&gt;ELSE&lt;/span&gt; 0 &lt;span class=&quot;code-keyword&quot;&gt;END&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; guest_pv,
  &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;CASE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;WHEN&lt;/span&gt; is_member=0 &lt;span class=&quot;code-keyword&quot;&gt;THEN&lt;/span&gt; id &lt;span class=&quot;code-keyword&quot;&gt;END&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; member_uv,
  &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;CASE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;WHEN&lt;/span&gt; is_member=1 &lt;span class=&quot;code-keyword&quot;&gt;THEN&lt;/span&gt; id &lt;span class=&quot;code-keyword&quot;&gt;END&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; guest_uv
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; 
  (&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt;
    regexp_extract(url, &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=([0-9]+\.[0-9]+\.[0-9]+\.[0-9]+).*&apos;&lt;/span&gt;, 1) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; tbg,
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;uid&lt;/span&gt; &amp;lt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;-&apos;&lt;/span&gt;, 0, 1) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; is_member,
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;uid&lt;/span&gt; &amp;lt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;-&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;uid&lt;/span&gt;, mid) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; id
  &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt;
    web_log
  &lt;span class=&quot;code-keyword&quot;&gt;WHERE&lt;/span&gt;
    (  url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.1.1&apos;&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;OR&lt;/span&gt; url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.2.2&apos;&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;OR&lt;/span&gt; url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.3.3&apos;&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;OR&lt;/span&gt; url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.4.4&apos;&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;OR&lt;/span&gt; url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.5.5&apos;&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;OR&lt;/span&gt; url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.6.6&apos;&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;OR&lt;/span&gt; url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.7.7&apos;&lt;/span&gt; )
    &lt;span class=&quot;code-keyword&quot;&gt;AND&lt;/span&gt; refer &lt;span class=&quot;code-keyword&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;/1.gif?%&apos;&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;AND&lt;/span&gt; logdate=&lt;span class=&quot;code-quote&quot;&gt;&apos;20090510&apos;&lt;/span&gt;)
&lt;span class=&quot;code-keyword&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BY&lt;/span&gt; tbg;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Approach 2:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;set&lt;/span&gt; hive.groupby.skewindata=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;

&lt;span class=&quot;code-keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;table&lt;/span&gt; tmp_tbg_pvuv_1 (tbg &lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt;, is_member &lt;span class=&quot;code-keyword&quot;&gt;tinyint&lt;/span&gt;, id &lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;INSERT&lt;/span&gt; OVERWRITE &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; tmp_tbg_pvuv_1
&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt;
  regexp_extract(url, &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=([0-9]+\.[0-9]+\.[0-9]+\.[0-9]+).*&apos;&lt;/span&gt;, 1) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; tbg,
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;uid&lt;/span&gt; &amp;lt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;-&apos;&lt;/span&gt;, 0, 1) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; is_member,
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;uid&lt;/span&gt; &amp;lt;&amp;gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;-&apos;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;uid&lt;/span&gt;, mid) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; id
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt;
  web_log
&lt;span class=&quot;code-keyword&quot;&gt;WHERE&lt;/span&gt;
  (  url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.1.1&apos;&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;OR&lt;/span&gt; url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.2.2&apos;&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;OR&lt;/span&gt; url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.3.3&apos;&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;OR&lt;/span&gt; url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.4.4&apos;&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;OR&lt;/span&gt; url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.5.5&apos;&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;OR&lt;/span&gt; url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.6.6&apos;&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;OR&lt;/span&gt; url &lt;span class=&quot;code-keyword&quot;&gt;rlike&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;http://.*TBG=1.3.7.7&apos;&lt;/span&gt; )
 &lt;span class=&quot;code-keyword&quot;&gt;AND&lt;/span&gt; refer &lt;span class=&quot;code-keyword&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;/1.gif?%&apos;&lt;/span&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;AND&lt;/span&gt; logdate=&lt;span class=&quot;code-quote&quot;&gt;&apos;20090510&apos;&lt;/span&gt;;

&lt;span class=&quot;code-keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;table&lt;/span&gt; tmp_tbg_pvuv_2 (tbg &lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt;, member_pv &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;, guest_pv &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;INSERT&lt;/span&gt; OVERWRITE &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; tmp_tbg_pvuv_2
&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt;
  tbg,
  &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;CASE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;WHEN&lt;/span&gt; is_member=0 &lt;span class=&quot;code-keyword&quot;&gt;THEN&lt;/span&gt; 1 &lt;span class=&quot;code-keyword&quot;&gt;ELSE&lt;/span&gt; 0 &lt;span class=&quot;code-keyword&quot;&gt;END&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; member_pv,
  &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;CASE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;WHEN&lt;/span&gt; is_member=1 &lt;span class=&quot;code-keyword&quot;&gt;THEN&lt;/span&gt; 1 &lt;span class=&quot;code-keyword&quot;&gt;ELSE&lt;/span&gt; 0 &lt;span class=&quot;code-keyword&quot;&gt;END&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; guest_pv
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; 
 tmp_tbg_pvuv_1
&lt;span class=&quot;code-keyword&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BY&lt;/span&gt; tbg

&lt;span class=&quot;code-keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;table&lt;/span&gt; tmp_tbg_pvuv_3 (tbg &lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt;, member_uv &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;INSERT&lt;/span&gt; OVERWRITE &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; tmp_tbg_pvuv_3
&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt;
  tbg,
  &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;CASE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;WHEN&lt;/span&gt; is_member=0 &lt;span class=&quot;code-keyword&quot;&gt;THEN&lt;/span&gt; id &lt;span class=&quot;code-keyword&quot;&gt;ELSE&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;NULL&lt;/span&gt;&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;END&lt;/span&gt;) - 1 &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; member_uv
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; 
 tmp_tbg_pvuv_1
&lt;span class=&quot;code-keyword&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BY&lt;/span&gt; tbg

&lt;span class=&quot;code-keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;table&lt;/span&gt; tmp_tbg_pvuv_4 (tbg &lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt;, guest_uv &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;INSERT&lt;/span&gt; OVERWRITE &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; tmp_tbg_pvuv_4
&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt;
  tbg,
  &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;distinct&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;CASE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;WHEN&lt;/span&gt; is_member=1 &lt;span class=&quot;code-keyword&quot;&gt;THEN&lt;/span&gt; id &lt;span class=&quot;code-keyword&quot;&gt;ELSE&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;NULL&lt;/span&gt;&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;END&lt;/span&gt;) - 1 &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; guest_uv
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; 
 tmp_tbg_pvuv_1
&lt;span class=&quot;code-keyword&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BY&lt;/span&gt; tbg

&lt;span class=&quot;code-keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;table&lt;/span&gt; rslt_tbg_pvuv (tbg &lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt;, memeber_pv &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;, guest_pv &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;, memeber_uv &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;, guest_uv &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;INSERT&lt;/span&gt; OVERWRITE &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; rslt_tbg_pvuv
&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt;
  t2.tbg,
  member_pv,
  guest_pv,
  member_uv,
  guest_uv
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt;
    tmp_tbg_pvuv_2 t2 
    &lt;span class=&quot;code-keyword&quot;&gt;join&lt;/span&gt; tmp_tbg_pvuv_3 t3 &lt;span class=&quot;code-keyword&quot;&gt;on&lt;/span&gt; t2.tbg=t3.tbg
    &lt;span class=&quot;code-keyword&quot;&gt;join&lt;/span&gt; tmp_tbg_pvuv_4 t4 &lt;span class=&quot;code-keyword&quot;&gt;on&lt;/span&gt; t2.tbg=t4.tbg
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Do you insist the second approach is faster than the first one?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 May 2009 06:07:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42815</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08oi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48569</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-504] script operator fails when there is an empty input file</title>
                <link>https://issues.apache.org/jira/browse/HIVE-504</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Get the following error:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;Timer-2&quot; 09/05/21 11:58:13 INFO exec.FilterOperator: Initialization Done&lt;br/&gt;
 java.lang.NullPointerException&lt;br/&gt;
   at org.apache.hadoop.hive.ql.exec.ScriptOperator$ReporterTask.run(ScriptOperator.java:485)&lt;br/&gt;
   at java.util.TimerThread.mainLoop(Timer.java:512)&lt;br/&gt;
   at java.util.TimerThread.run(Timer.java:462)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426049">HIVE-504</key>
            <summary>script operator fails when there is an empty input file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 May 2009 19:47:13 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:57 +0000</updated>
                            <resolved>Fri, 22 May 2009 03:12:16 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12711911" author="rsm" created="Fri, 22 May 2009 01:23:53 +0000"  >&lt;p&gt;Without the fix to ScriptOperator.java, the query in nullscript.q fails.&lt;/p&gt;</comment>
                            <comment id="12711929" author="zshao" created="Fri, 22 May 2009 02:28:45 +0000"  >&lt;p&gt;Looks good. Will test and commit.&lt;/p&gt;</comment>
                            <comment id="12711935" author="zshao" created="Fri, 22 May 2009 03:12:16 +0000"  >&lt;p&gt;Committed. Thanks Raghu.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408769" name="hive-504.1.patch" size="5715" author="rsm" created="Fri, 22 May 2009 01:23:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 May 2009 02:28:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73488</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122296</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-504&quot; title=&quot;script operator fails when there is an empty input file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-504&quot;&gt;&lt;strike&gt;HIVE-504&lt;/strike&gt;&lt;/a&gt;. Fix script operator with empty input file. (Raghu Murthy via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-505] console.info should print to stderr</title>
                <link>https://issues.apache.org/jira/browse/HIVE-505</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;the requirement is to be able to redirect the output of a hive client run to a file while still getting information during query execution. Currently, the way to get only data into a file is to run in silent mode, which does not provide any information about the query execution.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426075">HIVE-505</key>
            <summary>console.info should print to stderr</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 May 2009 00:28:10 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:30 +0000</updated>
                            <resolved>Fri, 22 May 2009 04:50:53 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12711900" author="prasadc" created="Fri, 22 May 2009 01:03:07 +0000"  >&lt;p&gt;same as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-484&quot; title=&quot;Add flag to redirect system messages to stderr.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-484&quot;&gt;&lt;del&gt;HIVE-484&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="12711901" author="namit" created="Fri, 22 May 2009 01:03:12 +0000"  >&lt;p&gt;+1 &lt;br/&gt;
looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12711947" author="namit" created="Fri, 22 May 2009 04:50:53 +0000"  >&lt;p&gt;Committed. Thanks Raghu&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408765" name="hive-505.1.patch" size="568" author="rsm" created="Fri, 22 May 2009 00:57:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 May 2009 01:03:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73487</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122297</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-506] MoveTask was not reporting errors</title>
                <link>https://issues.apache.org/jira/browse/HIVE-506</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;INSERT&lt;/span&gt; OVERWRITE &lt;span class=&quot;code-keyword&quot;&gt;LOCAL&lt;/span&gt; DIRECTORY &lt;span class=&quot;code-quote&quot;&gt;&apos;/home/jerryf/bb&apos;&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; *
  &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; tmp_table &lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The message is&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;09/05/22 14:20:19 INFO exec.MoveTask: Copying data to local directory /home/jerryf/bb from /tmp/hive-zshao/1172840657/53111279.10000.insclause-0
Unable to delete the existing destination directory: /home/jerryf/bb
09/05/22 14:20:19 INFO exec.MoveTask: Unable to delete the existing destination directory: /home/jerryf/bb
1 Rows loaded to /home/jerryf/bb
09/05/22 14:20:19 INFO exec.HiveHistory: 1 Rows loaded to /home/jerryf/bb
OK
09/05/22 14:20:19 INFO ql.Driver: OK
Time taken: 14.835 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Hive should report error instead.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426151">HIVE-506</key>
            <summary>MoveTask was not reporting errors</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 May 2009 21:26:28 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:39 +0000</updated>
                            <resolved>Sat, 30 May 2009 01:07:01 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12712271" author="zshao" created="Fri, 22 May 2009 21:27:18 +0000"  >&lt;p&gt;This happens if the current user does not have privilege to delete an existing output directory.&lt;/p&gt;</comment>
                            <comment id="12714373" author="he yongqiang" created="Fri, 29 May 2009 09:11:35 +0000"  >&lt;p&gt;An update against trunk.&lt;/p&gt;</comment>
                            <comment id="12714644" author="zshao" created="Sat, 30 May 2009 01:07:01 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408870" name="patch-506-2009-05-23.patch" size="923" author="he yongqiang" created="Sat, 23 May 2009 06:09:21 +0000"/>
                            <attachment id="12409358" name="patch-506-2009-05-29.patch" size="866" author="he yongqiang" created="Fri, 29 May 2009 09:11:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 May 2009 09:11:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73486</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122298</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-506&quot; title=&quot;MoveTask was not reporting errors&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-506&quot;&gt;&lt;strike&gt;HIVE-506&lt;/strike&gt;&lt;/a&gt;. MoveTask should fail if target path cannot be deleted. (Yongqiang He via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-507] empty files not handled properly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-507</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;file: for the path of the empty file only works in local mode&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426156">HIVE-507</key>
            <summary>empty files not handled properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 May 2009 22:20:20 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:22 +0000</updated>
                            <resolved>Sat, 23 May 2009 00:13:08 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12712303" author="zshao" created="Fri, 22 May 2009 23:17:19 +0000"  >&lt;p&gt;+1. Testing now...&lt;/p&gt;</comment>
                            <comment id="12712318" author="zshao" created="Sat, 23 May 2009 00:13:08 +0000"  >&lt;p&gt;Committed. Thanks Namit.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408853" name="hive.507.1.patch" size="3221" author="namit" created="Fri, 22 May 2009 22:28:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 May 2009 23:17:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73485</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122299</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-507&quot; title=&quot;empty files not handled properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-507&quot;&gt;&lt;strike&gt;HIVE-507&lt;/strike&gt;&lt;/a&gt;. Handle empty files properly. (Namit Jain via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-508] Better error message for UDF parameter handling</title>
                <link>https://issues.apache.org/jira/browse/HIVE-508</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE x (a map&amp;lt;string,string&amp;gt;);
SELECT round(a) FROM x;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This will show an error message:&lt;br/&gt;
FAILED: Unknown exception : org.apache.hadoop.hive.serde2.typeinfo.MapTypeInfo cannot be cast to org.apache.hadoop.hive.serde2.typeinfo.PrimitiveTypeInfo&lt;/p&gt;

&lt;p&gt;We need better error messsage like:&lt;br/&gt;
FAILED: Unable to pass a (type: map&amp;lt;string,string&amp;gt;) to function round.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426158">HIVE-508</key>
            <summary>Better error message for UDF parameter handling</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 May 2009 23:14:02 +0000</created>
                <updated>Mon, 26 Sep 2011 20:49:20 +0000</updated>
                            <resolved>Mon, 26 Sep 2011 20:49:20 +0000</resolved>
                                                                    <component>Diagnosability</component>
                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13114911" author="jvs" created="Mon, 26 Sep 2011 20:49:20 +0000"  >&lt;p&gt;Not sure where along the line this got fixed, but these days the error message is reasonable:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;FAILED: Error in semantic analysis: Line 1:7 Wrong arguments &apos;a&apos;: No matching method for class org.apache.hadoop.hive.ql.udf.UDFRound with (map&amp;lt;string,string&amp;gt;). Possible choices: _FUNC_(double)  _FUNC_(double, int)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 26 Sep 2011 20:49:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>774</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-509] Support CREATE TABLE a LIKE b</title>
                <link>https://issues.apache.org/jira/browse/HIVE-509</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/create-table.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/create-table.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426159">HIVE-509</key>
            <summary>Support CREATE TABLE a LIKE b</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 May 2009 23:35:11 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:45 +0000</updated>
                            <resolved>Fri, 29 May 2009 20:34:19 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12713821" author="namit" created="Thu, 28 May 2009 01:08:32 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12714035" author="namit" created="Thu, 28 May 2009 16:10:13 +0000"  >&lt;p&gt;lot of tests failed - can you refresh and regenerate the patch&lt;/p&gt;</comment>
                            <comment id="12714050" author="prasadc" created="Thu, 28 May 2009 16:46:22 +0000"  >&lt;p&gt;EXTERNAL should default to that of the like table instead of internal when EXTERNAL key word is not mentioned. Like means, all properties should be like the other table unless otherwise specified.&lt;/p&gt;</comment>
                            <comment id="12714221" author="zshao" created="Thu, 28 May 2009 23:29:07 +0000"  >&lt;p&gt;I still think EXTERNAL should be specified when we create the new table.&lt;/p&gt;

&lt;p&gt;&quot;External&quot; is just like the location where we store the table - we create a new table &quot;like&quot; the old table in every aspect except where the data is stored.  Both &quot;location&quot; and &quot;external&quot; are descriptions of where the data is stored, so I don&apos;t think they should be inherited.&lt;/p&gt;

&lt;p&gt;Also, there is no &quot;internal&quot; keyword, which means there is no way to create an internal table like an external table, if the proposed way is implemented. (I don&apos;t think there is a way to alter a table to internal or external as well)&lt;/p&gt;</comment>
                            <comment id="12714232" author="zshao" created="Thu, 28 May 2009 23:52:13 +0000"  >&lt;p&gt;Fixed another test error.&lt;/p&gt;</comment>
                            <comment id="12714560" author="namit" created="Fri, 29 May 2009 19:24:52 +0000"  >&lt;p&gt;+1 &lt;br/&gt;
looks good&lt;/p&gt;

&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12714584" author="namit" created="Fri, 29 May 2009 20:34:18 +0000"  >&lt;p&gt;committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12407384">HIVE-31</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12409227" name="HIVE-509.1.patch" size="17648" author="zshao" created="Thu, 28 May 2009 00:42:43 +0000"/>
                            <attachment id="12409320" name="HIVE-509.2.patch" size="27511" author="zshao" created="Thu, 28 May 2009 23:29:07 +0000"/>
                            <attachment id="12409324" name="HIVE-509.3.patch" size="27511" author="zshao" created="Thu, 28 May 2009 23:52:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 May 2009 01:08:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73484</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122301</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-510] Implement EXPLODE UDTF</title>
                <link>https://issues.apache.org/jira/browse/HIVE-510</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;EXPLODE will take an array and turn it into a bunch of rows.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426160">HIVE-510</key>
            <summary>Implement EXPLODE UDTF</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 May 2009 23:44:28 +0000</created>
                <updated>Wed, 28 Oct 2015 03:51:43 +0000</updated>
                            <resolved>Thu, 14 Jan 2010 00:05:52 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>5</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12733809" author="zshao" created="Tue, 21 Jul 2009 20:25:46 +0000"  >&lt;p&gt;explode will be a special case of UDTF.&lt;/p&gt;</comment>
                            <comment id="12800026" author="cwsteinbach" created="Thu, 14 Jan 2010 00:05:52 +0000"  >&lt;p&gt;Resolved in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-935&quot; title=&quot;support LATERAL VIEW&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-935&quot;&gt;&lt;del&gt;HIVE-935&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12430846">HIVE-655</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Jan 2010 00:05:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73483</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122302</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>svn_id:&lt;a href=&apos;mailto:trunk@889672&apos;&gt;trunk@889672&lt;/a&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-511] Change the hashcode for DoubleWritable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-511</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The current DoubleWritable hashCode takes only the last 32 bits. This is a big problem because for small integer values like 1.0, 2.0, 15.0, the hashCode are all 0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426161">HIVE-511</key>
            <summary>Change the hashcode for DoubleWritable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Sat, 23 May 2009 00:12:17 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:45 +0000</updated>
                            <resolved>Thu, 28 May 2009 00:03:10 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12712324" author="zshao" created="Sat, 23 May 2009 00:31:23 +0000"  >&lt;p&gt;Changed hash code implementation.&lt;/p&gt;</comment>
                            <comment id="12712328" author="namit" created="Sat, 23 May 2009 00:47:09 +0000"  >

&lt;p&gt;I am not sure I follow - what if if it a Text Writable Object.&lt;/p&gt;

&lt;p&gt;Wont it go to default case, and error out&lt;/p&gt;</comment>
                            <comment id="12712329" author="zshao" created="Sat, 23 May 2009 00:52:14 +0000"  >&lt;p&gt;Text and String are both &quot;STRING&quot; primitive type.&lt;br/&gt;
The relationship between Text and String are the same as that between IntWritable and Integer - they will have WritableStringOI and JavaStringOI, which both implements StringOI.&lt;/p&gt;</comment>
                            <comment id="12712337" author="rsm" created="Sat, 23 May 2009 01:59:06 +0000"  >&lt;p&gt;I dont think this change works well for longs with the code in UDFDefaultSampleHashFn since we just call o.hashCode(). Long.hashCode() returns (int)(value ^ (value &amp;gt;&amp;gt;&amp;gt; 32)) which is not the same as what you are doing. Notice &apos;&amp;gt;&amp;gt;&amp;gt;&apos; instead of &apos;&amp;gt;&amp;gt;&apos;. Also, maybe you want to change UDFDefaultSampleHashFn to use your hashCode method as well.&lt;/p&gt;</comment>
                            <comment id="12713738" author="zshao" created="Wed, 27 May 2009 21:09:00 +0000"  >&lt;p&gt;This patch moves hash function to GenericUDF. Now we supports variable number of arguments in the hash function.&lt;/p&gt;</comment>
                            <comment id="12713751" author="rsm" created="Wed, 27 May 2009 21:26:56 +0000"  >&lt;p&gt; r = r * 31 + ObjectInspectorUtils.hashCode(arguments&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;.get(), argumentOIs&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;);&lt;br/&gt;
Wont this overflow?&lt;/p&gt;

&lt;p&gt;Maybe change it to something like the following?&lt;/p&gt;

&lt;p&gt;r = r ^ ObjectInspectorUtils.hashCode(arguments&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;.get(), argumentOIs&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;);&lt;/p&gt;</comment>
                            <comment id="12713761" author="zshao" created="Wed, 27 May 2009 21:41:15 +0000"  >&lt;p&gt;Sorry I should have put a comment.&lt;br/&gt;
We are using &lt;a href=&quot;http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html#hashCode(&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/j2se/1.4.2/docs/api/java/util/List.html#hashCode(&lt;/a&gt;) here.&lt;/p&gt;</comment>
                            <comment id="12713764" author="zshao" created="Wed, 27 May 2009 21:45:10 +0000"  >&lt;p&gt;Added a comment for the hash function.&lt;/p&gt;</comment>
                            <comment id="12713796" author="rsm" created="Wed, 27 May 2009 23:17:28 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good. will commit once tests pass.&lt;/p&gt;</comment>
                            <comment id="12713807" author="rsm" created="Thu, 28 May 2009 00:03:10 +0000"  >&lt;p&gt;Committed. Thanks Zheng!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408860" name="HIVE-511.1.patch" size="3613" author="zshao" created="Sat, 23 May 2009 00:31:23 +0000"/>
                            <attachment id="12409206" name="HIVE-511.2.patch" size="76429" author="zshao" created="Wed, 27 May 2009 21:09:00 +0000"/>
                            <attachment id="12409213" name="HIVE-511.3.patch" size="76512" author="zshao" created="Wed, 27 May 2009 21:45:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 23 May 2009 00:47:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73482</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122303</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-512] [GenericUDF] new string function ELT(N,str1,str2,str3,...) </title>
                <link>https://issues.apache.org/jira/browse/HIVE-512</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ELT(N,str1,str2,str3,...)&lt;/p&gt;

&lt;p&gt;Returns str1 if N = 1, str2 if N = 2, and so on. Returns NULL if N is less than 1 or greater than the number of arguments. ELT() is the complement of FIELD().&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mysql&amp;gt; SELECT ELT(1, &apos;ej&apos;, &apos;Heja&apos;, &apos;hej&apos;, &apos;foo&apos;);
        -&amp;gt; &apos;ej&apos;
mysql&amp;gt; SELECT ELT(4, &apos;ej&apos;, &apos;Heja&apos;, &apos;hej&apos;, &apos;foo&apos;);
        -&amp;gt; &apos;foo&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment></environment>
        <key id="12426244">HIVE-512</key>
            <summary>[GenericUDF] new string function ELT(N,str1,str2,str3,...) </summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="coderplay">Min Zhou</assignee>
                                    <reporter username="coderplay">Min Zhou</reporter>
                        <labels>
                    </labels>
                <created>Sun, 24 May 2009 13:05:18 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:22 +0000</updated>
                            <resolved>Mon, 20 Jul 2009 17:04:52 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12712623" author="coderplay" created="Mon, 25 May 2009 01:55:31 +0000"  >&lt;p&gt;patch w/o unit test.  the api of GenericUDF leaded something inconvenient to custom an GenericUDF. &lt;br/&gt;
I&apos;ve commentted those inconvenience in my patch.&lt;/p&gt;</comment>
                            <comment id="12732383" author="coderplay" created="Fri, 17 Jul 2009 07:08:02 +0000"  >&lt;p&gt;patch, tested all test cases.&lt;/p&gt;</comment>
                            <comment id="12732612" author="namit" created="Fri, 17 Jul 2009 17:07:10 +0000"  >&lt;p&gt;mysql&amp;gt; create table t1 as select elt(1, 2, 3);&lt;br/&gt;
Query OK, 1 row affected (0.27 sec)&lt;br/&gt;
Records: 1  Duplicates: 0  Warnings: 0&lt;/p&gt;

&lt;p&gt;mysql&amp;gt; describe t1;&lt;br/&gt;
&lt;ins&gt;-------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Field        &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Type         &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Null &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Key &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Extra &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;-------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; elt(1, 2, 3) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; varbinary(1) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; YES  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; NULL    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;-------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;br/&gt;
1 row in set (0.00 sec)&lt;/p&gt;

&lt;p&gt;mysql&amp;gt; create table t2 as select elt(1, &apos;a&apos;, &apos;b&apos;);&lt;br/&gt;
Query OK, 1 row affected (0.07 sec)&lt;br/&gt;
Records: 1  Duplicates: 0  Warnings: 0&lt;/p&gt;

&lt;p&gt;mysql&amp;gt; describe t2;&lt;br/&gt;
&lt;ins&gt;-----------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;----------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Field            &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Type       &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Null &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Key &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Extra &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;-----------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;----------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; elt(1, &apos;a&apos;, &apos;b&apos;) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; varchar(1) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; YES  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; NULL    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;-----------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;----------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;br/&gt;
1 row in set (0.00 sec)&lt;/p&gt;



&lt;p&gt;the return datatype of elt is the least common denominator of all the arguments, whereas it is always string in your case.&lt;br/&gt;
Can you change the function to return the least common denominator ?&lt;/p&gt;</comment>
                            <comment id="12732828" author="coderplay" created="Sat, 18 Jul 2009 03:25:49 +0000"  >&lt;p&gt;actually, elt return only two types of results in mysql : varbinary, varchar. &lt;br/&gt;
varchar will be returned if all arguments are varchars, or varbinarys will be returned. &lt;/p&gt;

&lt;p&gt;mysql&amp;gt; create table t3 as select elt(1, &apos;a&apos;,  3);&lt;br/&gt;
Query OK, 1 row affected (0.01 sec)&lt;br/&gt;
Records: 1  Duplicates: 0  Warnings: 0&lt;/p&gt;

&lt;p&gt;mysql&amp;gt; describe t3;                   &lt;br/&gt;
&lt;ins&gt;----------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Field           &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Type         &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Null &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Key &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Extra &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;----------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; elt(1, &apos;a&apos;,  3) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; varbinary(1) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; YES  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; NULL    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;----------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;br/&gt;
1 row in set (0.00 sec)&lt;/p&gt;

&lt;p&gt;mysql&amp;gt; create table t4 as select elt(1, true,  false);     &lt;br/&gt;
Query OK, 1 row affected (0.00 sec)&lt;br/&gt;
Records: 1  Duplicates: 0  Warnings: 0&lt;/p&gt;

&lt;p&gt;mysql&amp;gt; describe t4;                  &lt;br/&gt;
&lt;ins&gt;---------------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Field                &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Type         &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Null &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Key &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Extra &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;---------------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; elt(1, true,  false) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; varbinary(1) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; YES  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; NULL    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;---------------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;br/&gt;
1 row in set (0.00 sec)&lt;/p&gt;


&lt;p&gt;mysql&amp;gt; create table t5 as select elt(1, 2.0,  false);     &lt;br/&gt;
Query OK, 1 row affected (0.01 sec)&lt;br/&gt;
Records: 1  Duplicates: 0  Warnings: 0&lt;/p&gt;

&lt;p&gt;mysql&amp;gt; describe t5;                  &lt;br/&gt;
&lt;ins&gt;--------------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Field               &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Type         &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Null &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Key &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Default &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Extra &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;--------------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; elt(1, 2.0,  false) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; varbinary(4) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; YES  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; NULL    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;--------------------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------------&lt;del&gt;&lt;ins&gt;&lt;/del&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;---&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;------+&lt;br/&gt;
1 row in set (0.00 sec)&lt;/p&gt;


&lt;p&gt;Based on the above, I think it better return string as binary is commonly used  in hive. &lt;/p&gt;</comment>
                            <comment id="12732829" author="coderplay" created="Sat, 18 Jul 2009 03:29:11 +0000"  >&lt;p&gt;some typo.&lt;br/&gt;
Based on the above, I think it better return string sine binary isnot commonly used in hive. &lt;/p&gt;</comment>
                            <comment id="12732903" author="namit" created="Sat, 18 Jul 2009 14:25:46 +0000"  >&lt;p&gt;select elt(1,2,3) should return an int instead of string&lt;/p&gt;</comment>
                            <comment id="12732911" author="coderplay" created="Sat, 18 Jul 2009 15:38:31 +0000"  >&lt;p&gt;Here is the definition of elt:  Return string at index number. &lt;br/&gt;
It&apos;s essentially a string function&lt;br/&gt;
select elt(1, 2, 3) will return a varbinary in mysql, rather than a int. I still insist returning string is better. &lt;/p&gt;

&lt;p&gt;Even if do it as you said,  what  type of results will  return when doing queries like below?&lt;/p&gt;

&lt;p&gt;select(1, &apos;2&apos;, 3)&lt;br/&gt;
select(2, &apos;2&apos;, 3)&lt;br/&gt;
select(1, true, 3)&lt;br/&gt;
select(2, 2.0, cast(3 as double))&lt;/p&gt;
</comment>
                            <comment id="12732912" author="prasadc" created="Sat, 18 Jul 2009 15:46:59 +0000"  >&lt;p&gt;it may have been more useful to return a common denominator type but mysql behaves differently. varbinary in mysql seems to be more closer to a string than to a number. so if we want to follow mysql it is better to return number and let user cast it to int. it is weird though to return a string if all arguments are numeric.&lt;/p&gt;</comment>
                            <comment id="12732913" author="coderplay" created="Sat, 18 Jul 2009 15:55:14 +0000"  >&lt;p&gt;Originally, arguments after the first one of elt the can only be strings, but for more widely applicable,  automatic conversion is added. &lt;br/&gt;
It&apos;s a string function, not a function on ints and other types besides strings. I think is very resonable return a string.  &lt;/p&gt;</comment>
                            <comment id="12733012" author="namit" created="Sun, 19 Jul 2009 15:04:00 +0000"  >&lt;p&gt;I think we should follow the same convention as we do for CASE statement. The same denominator type should be returned&lt;/p&gt;</comment>
                            <comment id="12733015" author="coderplay" created="Sun, 19 Jul 2009 15:28:58 +0000"  >&lt;p&gt;can you answer me about this queries?&lt;/p&gt;</comment>
                            <comment id="12733016" author="coderplay" created="Sun, 19 Jul 2009 15:32:08 +0000"  >&lt;p&gt;select(1, &apos;2&apos;, 3)&lt;br/&gt;
select(2, &apos;2&apos;, 3)&lt;br/&gt;
select(1, true, 3)&lt;br/&gt;
select(2, 2.0, cast(3 as double))&lt;/p&gt;

&lt;p&gt;if we don&apos;t uniformly return strings, it would be confused to user detemining which type will return.&lt;/p&gt;</comment>
                            <comment id="12733082" author="namit" created="Sun, 19 Jul 2009 22:16:11 +0000"  >&lt;p&gt;As I said before, the return type should be the same as would be for case&lt;/p&gt;


&lt;p&gt;select case x then &apos;2&apos; else 3 &lt;br/&gt;
select case x then &apos;2&apos; else 3&lt;br/&gt;
select case x then true else 3&lt;br/&gt;
select case x then 2.0 else cast(3 as double)&lt;/p&gt;

&lt;p&gt;The first argument&apos;s value is not important as far as the return type is concerned&lt;/p&gt;</comment>
                            <comment id="12733103" author="coderplay" created="Mon, 20 Jul 2009 01:53:09 +0000"  >&lt;p&gt;If you inspected the implementation of case, you will know it&apos;s unacceptable to case with different types of arguments.&lt;br/&gt;
see: GenericUDFCase.java , GenericUDFWhen.java &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; select &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; when &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt; then &lt;span class=&quot;code-quote&quot;&gt;&apos;2&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; 3 end from pokes limit 1;
FAILED: Error in semantic analysis: line 1:36 Argument Type Mismatch 3: The expression after ELSE should have the same type as those after THEN: &lt;span class=&quot;code-quote&quot;&gt;&quot;string&quot;&lt;/span&gt; is expected but &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&quot;&lt;/span&gt; is found
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;elt is a string function, confusion will be caused if we casually change its behavior. It no need make things more complex.&lt;/p&gt;</comment>
                            <comment id="12733246" author="namit" created="Mon, 20 Jul 2009 15:49:52 +0000"  >&lt;p&gt;OK&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;I will commit it if the  tests pass&lt;/p&gt;</comment>
                            <comment id="12733282" author="namit" created="Mon, 20 Jul 2009 17:04:52 +0000"  >&lt;p&gt;Committed. Thanks Min&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12429770">HIVE-615</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12413780" name="HIVE-512.2.patch" size="11656" author="coderplay" created="Fri, 17 Jul 2009 07:08:02 +0000"/>
                            <attachment id="12408918" name="HIVE-512.patch" size="5010" author="coderplay" created="Mon, 25 May 2009 01:55:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Jul 2009 17:07:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73481</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122304</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-513] UDFToString bug</title>
                <link>https://issues.apache.org/jira/browse/HIVE-513</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;execute a query like below,&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select cast(&apos;my string&apos; as string) from pokes;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;you will get the result:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;NULL
NULL
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the reason is UDFToString hasn&apos;t an evaluate method acceptes Text or BytesWritable argument.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426253">HIVE-513</key>
            <summary>UDFToString bug</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="coderplay">Min Zhou</assignee>
                                    <reporter username="coderplay">Min Zhou</reporter>
                        <labels>
                    </labels>
                <created>Sun, 24 May 2009 16:27:15 +0000</created>
                <updated>Mon, 7 Mar 2011 19:35:54 +0000</updated>
                            <resolved>Mon, 7 Mar 2011 19:35:54 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12712646" author="coderplay" created="Mon, 25 May 2009 06:02:19 +0000"  >&lt;p&gt;it&apos;s okay now, select result:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;my string
my string
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12713740" author="zshao" created="Wed, 27 May 2009 21:12:23 +0000"  >&lt;p&gt;Are you working on the latest trunk? There was a recent change that might have fixed it.&lt;/p&gt;

&lt;p&gt;We remove redundant conversion functions at compile time.&lt;br/&gt;
I tried &quot;select cast(&apos;my string&apos; as string) from mytable;&quot; with the latest trunk and it correctly outputs &quot;my string&quot;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408925" name="HIVE-513.patch" size="391" author="coderplay" created="Mon, 25 May 2009 06:02:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 May 2009 21:12:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73480</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122306</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-514] partition key names should be case insensitive in alter table add partition statement.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-514</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;create table testpc(a int) partitioned by (ds string, hr string);&lt;/p&gt;

&lt;p&gt;alter table testpc add partition (ds=&quot;1&quot;, hr=&quot;1&quot;); --&amp;gt; works&lt;br/&gt;
alter table testpc add partition (ds=&quot;1&quot;, Hr=&quot;1&quot;); --&amp;gt; doesn&apos;t work&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426268">HIVE-514</key>
            <summary>partition key names should be case insensitive in alter table add partition statement.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 May 2009 05:02:43 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:43 +0000</updated>
                            <resolved>Fri, 29 May 2009 00:27:21 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12712638" author="prasadc" created="Mon, 25 May 2009 05:03:31 +0000"  >&lt;p&gt;the second stmt above silently inserts &apos;null&apos; for the &apos;hr&apos; partition key value.&lt;/p&gt;</comment>
                            <comment id="12712643" author="prasadc" created="Mon, 25 May 2009 05:53:33 +0000"  >&lt;p&gt;fixed not lowercasing the partition key names in couple of places.&lt;br/&gt;
added a check that load/insert query contains all partition keys for the specified table. currently it inserts a null value. fixed that.&lt;/p&gt;</comment>
                            <comment id="12712777" author="prasadc" created="Mon, 25 May 2009 19:18:34 +0000"  >&lt;p&gt;added more tests to check that partition key names are case insensitive and partition key values are case sensitive.&lt;/p&gt;</comment>
                            <comment id="12714235" author="zshao" created="Fri, 29 May 2009 00:06:23 +0000"  >&lt;p&gt;+1. Will commit once the tests pass.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408959" name="hive-514.2.patch" size="7716" author="prasadc" created="Mon, 25 May 2009 19:18:34 +0000"/>
                            <attachment id="12408924" name="hive-514.patch" size="6265" author="prasadc" created="Mon, 25 May 2009 05:53:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 May 2009 00:06:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73479</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122307</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-514&quot; title=&quot;partition key names should be case insensitive in alter table add partition statement.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-514&quot;&gt;&lt;strike&gt;HIVE-514&lt;/strike&gt;&lt;/a&gt;. Partition key names should be case insensitive in alter table add partition statement. (Prasad Chakka via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-515] [UDF] new string function INSTR(str,substr)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-515</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;UDF for string function INSTR(str,substr)&lt;br/&gt;
This extends the function from MySQL&lt;br/&gt;
&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/string-functions.html#function_instr&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/string-functions.html#function_instr&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;usage:&lt;br/&gt;
 INSTR(str, substr)&lt;br/&gt;
 INSTR(str, substr, start)&lt;/p&gt;

&lt;p&gt;example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; instr(&lt;span class=&quot;code-quote&quot;&gt;&apos;abcd&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;abc&apos;&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; pokes;  // &lt;span class=&quot;code-keyword&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;are&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; instr(&lt;span class=&quot;code-quote&quot;&gt;&apos;abcabc&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;ccc&apos;&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; pokes;  // &lt;span class=&quot;code-keyword&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;are&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;0&apos;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; instr(&lt;span class=&quot;code-quote&quot;&gt;&apos;abcabc&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;abc&apos;&lt;/span&gt;, 2) &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; pokes;  // &lt;span class=&quot;code-keyword&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;are&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;4&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12426280">HIVE-515</key>
            <summary>[UDF] new string function INSTR(str,substr)</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="coderplay">Min Zhou</assignee>
                                    <reporter username="coderplay">Min Zhou</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 May 2009 10:46:33 +0000</created>
                <updated>Thu, 16 Jul 2009 08:59:17 +0000</updated>
                            <resolved>Thu, 16 Jul 2009 08:59:17 +0000</resolved>
                                                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12712687" author="coderplay" created="Mon, 25 May 2009 10:52:38 +0000"  >&lt;p&gt;patch&lt;/p&gt;</comment>
                            <comment id="12712710" author="coderplay" created="Mon, 25 May 2009 12:39:03 +0000"  >&lt;p&gt;deal with null arguments&lt;/p&gt;</comment>
                            <comment id="12731864" author="coderplay" created="Thu, 16 Jul 2009 08:59:17 +0000"  >&lt;p&gt;duplicates &lt;a href=&quot;#HIVE-541&quot;&gt;HIVE-541&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12429770">HIVE-615</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12408946" name="HIVE-515-2.patch" size="3120" author="coderplay" created="Mon, 25 May 2009 12:39:03 +0000"/>
                            <attachment id="12408936" name="HIVE-515.patch" size="2967" author="coderplay" created="Mon, 25 May 2009 10:52:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73478</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122308</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-516] Enable predicate pushdown</title>
                <link>https://issues.apache.org/jira/browse/HIVE-516</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Enable predicate pushdown by default.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426321">HIVE-516</key>
            <summary>Enable predicate pushdown</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 May 2009 06:13:58 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:42 +0000</updated>
                            <resolved>Wed, 24 Jun 2009 04:05:41 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12714755" author="prasadc" created="Sat, 30 May 2009 18:23:48 +0000"  >&lt;p&gt;two tests that are interesting&lt;/p&gt;

&lt;p&gt;ql/src/test/results/clientpositive/order2.q.out&lt;/p&gt;

&lt;p&gt;predicate changes type from string to int, so the &apos;key &amp;lt; 10&apos; filter behaves differently.&lt;/p&gt;

&lt;p&gt;ql/src/test/results/clientpositive/rand_partitionpruner3.q.out&lt;/p&gt;

&lt;p&gt;rand() is applied after filtering rows so number of output rows are smaller than before.&lt;/p&gt;</comment>
                            <comment id="12716434" author="namit" created="Thu, 4 Jun 2009 22:34:50 +0000"  >&lt;p&gt;I did not go over all the test plan outputs - I made sure that there are no data changes.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good. will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12716435" author="prasadc" created="Thu, 4 Jun 2009 22:39:50 +0000"  >&lt;p&gt;this one is from base dir. sorry about that.&lt;/p&gt;</comment>
                            <comment id="12716436" author="namit" created="Thu, 4 Jun 2009 22:40:39 +0000"  >&lt;p&gt;the patch has been generated from ql directory. Can you regenerate the patch ?&lt;/p&gt;</comment>
                            <comment id="12716445" author="namit" created="Thu, 4 Jun 2009 22:55:08 +0000"  >&lt;p&gt;After discussing more with Raghu, it will not be a good idea to enable predicate pushdown in junit, and disable them otherwise.&lt;br/&gt;
Any production system is using a codebase, which we are not testing.&lt;/p&gt;

&lt;p&gt;So, it would be necessary to run tests in junit with predicate pushdown enabled and disabled.&lt;/p&gt;

&lt;p&gt;However, it would increase the time of unit tests substantially. We need the unit tests in parallel before that&lt;/p&gt;</comment>
                            <comment id="12723298" author="prasadc" created="Tue, 23 Jun 2009 20:50:48 +0000"  >&lt;p&gt;here is the latest patch for enabling partition pruning in hive-default.xml&lt;/p&gt;</comment>
                            <comment id="12723373" author="zshao" created="Wed, 24 Jun 2009 00:09:27 +0000"  >&lt;p&gt;Testing: Will commit when test succeeds.&lt;/p&gt;</comment>
                            <comment id="12723421" author="zshao" created="Wed, 24 Jun 2009 04:05:41 +0000"  >&lt;p&gt;Committed. Thanks Prasad.&lt;/p&gt;</comment>
                            <comment id="12723432" author="prasadc" created="Wed, 24 Jun 2009 04:44:27 +0000"  >&lt;p&gt;changed title and description. this feature has been in for quite sometime and enabling it before we make a branch for 0.4&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12426954">HIVE-532</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12426955">HIVE-533</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12427168">HIVE-544</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12409913" name="hive-516.2.patch" size="1527795" author="prasadc" created="Thu, 4 Jun 2009 22:39:50 +0000"/>
                            <attachment id="12411570" name="hive-516.3.patch" size="1525490" author="prasadc" created="Tue, 23 Jun 2009 20:50:48 +0000"/>
                            <attachment id="12409901" name="hive-516.patch" size="1525850" author="prasadc" created="Thu, 4 Jun 2009 19:17:18 +0000"/>
                            <attachment id="12409474" name="hive-516.patch" size="1525484" author="prasadc" created="Sat, 30 May 2009 18:23:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Jun 2009 22:34:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73477</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122309</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-516&quot; title=&quot;Enable predicate pushdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-516&quot;&gt;&lt;strike&gt;HIVE-516&lt;/strike&gt;&lt;/a&gt;. Enable predicate pushdown for junit tests. (Prasad Chakka via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-517] Silent flag does not work on local jobs.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-517</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The commands&lt;br/&gt;
  hive2 -S -e &quot;from tmp_foo select count(1)&quot; &amp;gt; my_stdout.txt&lt;br/&gt;
and&lt;br/&gt;
  hive2 -S -hiveconf mapred.job.tracker=local -hiveconf mapred.local.dir=/tmp/foo -e &quot;from tmp_foo select count(1)&quot; &amp;gt; my_stdout.txt&lt;br/&gt;
give different results.&lt;/p&gt;

&lt;p&gt;The former looks like:&lt;br/&gt;
56&lt;/p&gt;

&lt;p&gt;and the latter looks like:&lt;br/&gt;
plan = /tmp/plan61908.xml&lt;br/&gt;
Number of reduce tasks determined at compile time: 1&lt;br/&gt;
In order to change the average load for a reducer (in bytes):&lt;br/&gt;
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to limit the maximum number of reducers:&lt;br/&gt;
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to set a constant number of reducers:&lt;br/&gt;
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;&lt;br/&gt;
Job running in-process (local Hadoop)&lt;br/&gt;
 map = 100%,  reduce =0%&lt;br/&gt;
 map = 100%,  reduce =100%&lt;br/&gt;
Ended Job = job_local_1&lt;br/&gt;
56&lt;/p&gt;</description>
                <environment></environment>
        <key id="12426390">HIVE-517</key>
            <summary>Silent flag does not work on local jobs.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sasmith">S. Alex Smith</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 May 2009 20:33:12 +0000</created>
                <updated>Wed, 27 May 2009 00:27:45 +0000</updated>
                            <resolved>Wed, 27 May 2009 00:27:45 +0000</resolved>
                                                                    <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12713238" author="rsm" created="Tue, 26 May 2009 20:40:54 +0000"  >&lt;p&gt;would your problem be solved if hive wrote only data to stdout and the rest to stderr?&lt;/p&gt;</comment>
                            <comment id="12713272" author="jsensarma" created="Tue, 26 May 2009 21:44:27 +0000"  >&lt;p&gt;there&apos;s a bug outstanding (would have to find the number) to fix the logging in the local mode. once that is fixed - this problem will go away.&lt;/p&gt;

&lt;p&gt;if this is urgent i can take a stab at it ..&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12409528">HIVE-88</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 May 2009 20:40:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73476</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122310</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-518] test mode in hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-518</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It would be good to have a test mode in hive - this will help in checking the validity of a hive drop on a production cluster.&lt;/p&gt;

&lt;p&gt;The following would be good to have:&lt;/p&gt;

&lt;p&gt;Testmode --&amp;gt; In testmode, all input tables are sampled (if not already sampled) and all output tables are prefixed by a user supplied name.&lt;br/&gt;
This way, multiple hive drops can be compared quickly for correctness&lt;/p&gt;


&lt;p&gt;New Options:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// whether hive is running in test mode. If yes, it turns on sampling and prefixes the output tablename
&lt;/span&gt;set hive.test.mode=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; hive is running in test mode, prefixes the output table by &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; string
&lt;/span&gt;set hive.test.mode.prefix=;
&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; hive is running in test mode and table is not bucketed, sampling frequency
&lt;/span&gt;set hive.test.mode.samplefreq=256;
&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; hive is running in test mode, dont sample the above comma seperated list of tables
&lt;/span&gt;set hive.test.mode.nosamplelist=;

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12426392">HIVE-518</key>
            <summary>test mode in hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 May 2009 20:45:48 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:46 +0000</updated>
                            <resolved>Thu, 28 May 2009 08:02:24 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12713342" author="zshao" created="Wed, 27 May 2009 00:43:53 +0000"  >&lt;p&gt;1. Can you add comment for SemanticAnalyzer.genSamplePredicate? Especially for the new planExpr parameter. It&apos;s not clear what this parameter means.&lt;/p&gt;

&lt;p&gt;2. Can you add comments on what we will do in case hive is running in test mode and table is bucketed?&lt;/p&gt;

&lt;p&gt;+&amp;lt;property&amp;gt;&lt;br/&gt;
+  &amp;lt;name&amp;gt;hive.test.mode.samplefreq&amp;lt;/name&amp;gt;&lt;br/&gt;
+  &amp;lt;value&amp;gt;32&amp;lt;/value&amp;gt;&lt;br/&gt;
+  &amp;lt;description&amp;gt;if hive is running in test mode and table is not bucketed, sampling frequency&amp;lt;/description&amp;gt;&lt;br/&gt;
+&amp;lt;/property&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12713358" author="namit" created="Wed, 27 May 2009 01:14:18 +0000"  >&lt;p&gt;incorporated comments&lt;/p&gt;</comment>
                            <comment id="12713393" author="zshao" created="Wed, 27 May 2009 03:44:50 +0000"  >&lt;p&gt;One additional comment: Can you use random(460476415) instead of random(1)? random(1) is likely to appear in user&apos;s query as well, which may make the query sampling non-uniform.&lt;/p&gt;

&lt;p&gt;This is a really simple change now, but might save a lot of time debugging in the future.&lt;/p&gt;</comment>
                            <comment id="12713396" author="rsm" created="Wed, 27 May 2009 04:02:00 +0000"  >&lt;p&gt;what happens if the production query has one sampled table joined against an unsampled table? A common example is facts table sampled by user, joined with a dimension table on a dimension attribute like gender/country etc. by adding an arbitrary sample clause on the dimension table, the join result may be empty.&lt;/p&gt;</comment>
                            <comment id="12713419" author="namit" created="Wed, 27 May 2009 05:19:31 +0000"  >&lt;p&gt;I agree with it - it will not lead to any problem since the join results will be empty in both the new and&lt;br/&gt;
the old drop, but the whole purpose of testing may be lost.&lt;/p&gt;

&lt;p&gt;Hinting	seems useless, because if the pipelines can be modified to add query level hints, the queries themselves&lt;br/&gt;
can be modified.&lt;/p&gt;

&lt;p&gt;Via a configuration parameter, the list of tables can be specified and sampling may only	be applicable to&lt;br/&gt;
those tables. It will need the pipelines to be modified, or we can take a more aggressive approach and add&lt;br/&gt;
sampling to all tables unless the user asks us not to do so. This way, only the offending pipelines (for eg.&lt;br/&gt;
the one	pointed by Raghu) needs to be modified.&lt;/p&gt;</comment>
                            <comment id="12713666" author="rsm" created="Wed, 27 May 2009 18:06:53 +0000"  >&lt;p&gt;one solution would be to provide another set option with the list of tables which should not be sampled in test mode.&lt;/p&gt;

&lt;p&gt;set hive.test.mode.unsampled.tables=table1,table2&lt;/p&gt;

&lt;p&gt;Another option might be to actually allow users to specify the entire tablesample clause for every table that needs to sampled in test-mode. But that seems like a lot more work for not a lot of additional benefit.&lt;/p&gt;</comment>
                            <comment id="12713673" author="namit" created="Wed, 27 May 2009 18:24:14 +0000"  >&lt;p&gt;incorporated comments&lt;/p&gt;</comment>
                            <comment id="12713694" author="rsm" created="Wed, 27 May 2009 19:03:28 +0000"  >&lt;p&gt;can you add a test for the unsampled tables feature?&lt;/p&gt;</comment>
                            <comment id="12713714" author="rsm" created="Wed, 27 May 2009 20:15:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good. will commit once tests pass.&lt;/p&gt;</comment>
                            <comment id="12713795" author="rsm" created="Wed, 27 May 2009 23:12:24 +0000"  >&lt;p&gt;Seeing some weird errors. input30.q, input31.q and input32.q individually succeed. But, when run along with other queries, it seems like the specific queries are not being run in test mode.&lt;/p&gt;</comment>
                            <comment id="12713825" author="rsm" created="Thu, 28 May 2009 01:19:12 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will commit once tests pass.&lt;/p&gt;</comment>
                            <comment id="12713830" author="rsm" created="Thu, 28 May 2009 01:53:33 +0000"  >&lt;p&gt;There is now a test failure because of a change in hive-511 which was committed after you created the patch. Can you regenerate the patch with the latest code?&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 09/05/27 18:25:14 INFO exec.FileSinkOperator: Moving tmp dir: /mnt/vol/devrs005.snc1/rmurthy/hive-committer/build/ql/tmp/_tmp.816501927.10000.insclause-0 to: /mnt/vol/devrs005.snc1/rmurthy/hive-committer/build/ql/tmp/816501927.10000.insclause-0&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; diff -a -I &amp;#40;&lt;a href=&quot;file:)&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:&amp;amp;#41;\&lt;/a&gt;|&amp;#40;/tmp/.*&amp;#41; /mnt/vol/devrs005.snc1/rmurthy/hive-committer/build/ql/test/logs/clientpositive/input30.q.out /mnt/vol/devrs005.snc1/rmurthy/hive-committer/ql/src/test/results/clientpositive/input30.q.out&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 23c23&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt;                     expr: (((hash(rand(UDFToLong(460476415))) &amp;amp; 2147483647) % 32) = 0)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt;                     expr: (((default_sample_hashfn(rand(UDFToLong(460476415))) &amp;amp; 2147483647) % 32) = 0)&lt;/p&gt;</comment>
                            <comment id="12713885" author="namit" created="Thu, 28 May 2009 05:31:35 +0000"  >&lt;p&gt;resolved conflicts&lt;/p&gt;</comment>
                            <comment id="12713898" author="rsm" created="Thu, 28 May 2009 07:26:37 +0000"  >&lt;p&gt;running tests now.&lt;/p&gt;</comment>
                            <comment id="12713902" author="rsm" created="Thu, 28 May 2009 08:02:24 +0000"  >&lt;p&gt;Committed. Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12409223" name="hive-518.5.patch" size="19232" author="rsm" created="Wed, 27 May 2009 23:12:24 +0000"/>
                            <attachment id="12409074" name="hive.518.1.patch" size="13276" author="namit" created="Tue, 26 May 2009 20:47:42 +0000"/>
                            <attachment id="12409106" name="hive.518.2.patch" size="14549" author="namit" created="Wed, 27 May 2009 01:14:18 +0000"/>
                            <attachment id="12409192" name="hive.518.3.patch" size="15342" author="namit" created="Wed, 27 May 2009 18:24:14 +0000"/>
                            <attachment id="12409199" name="hive.518.4.patch" size="18656" author="namit" created="Wed, 27 May 2009 20:13:08 +0000"/>
                            <attachment id="12409228" name="hive.518.6.patch" size="20696" author="namit" created="Thu, 28 May 2009 00:54:59 +0000"/>
                            <attachment id="12409239" name="hive.518.7.patch" size="20665" author="namit" created="Thu, 28 May 2009 05:31:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 May 2009 00:43:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73475</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122311</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
