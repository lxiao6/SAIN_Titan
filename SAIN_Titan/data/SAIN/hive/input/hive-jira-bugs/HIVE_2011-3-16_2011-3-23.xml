<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:17:50 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2011-3-16+AND+created+%3C%3D+2011-3-23+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="13" total="13"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2058] MySQL Upgrade scripts missing new defaults for two table&apos;s columns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2058</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Upgraded from 0.5.0 to 0.7.0, and the upgrade scripts to 0.6.0 and 0.7.0 did not have two defaults that are necessary for being able to create a hive table.  The columns missing default values are:&lt;/p&gt;

&lt;p&gt;COLUMNS.INTEGER_IDX&lt;br/&gt;
SDS.IS_COMPRESSED&lt;/p&gt;

&lt;p&gt;I set them both to zero(0) (false for IS_COMPRESSED, obviously)&lt;/p&gt;

&lt;p&gt;The absence of these two default prevents the ability to create a table in Hive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501604">HIVE-2058</key>
            <summary>MySQL Upgrade scripts missing new defaults for two table&apos;s columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="alo.alt">Alexander Alten-Lorenz</assignee>
                                    <reporter username="stunney">Stephen Tunney</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Mar 2011 17:24:11 +0000</created>
                <updated>Mon, 2 Sep 2013 23:46:52 +0000</updated>
                                            <version>0.7.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13756270" author="thejas" created="Mon, 2 Sep 2013 23:46:52 +0000"  >&lt;p&gt;This is an issue that was reported for hive 0.7, and it is not clear if this issue is present in newer versions, so marking it as major instead of blocker.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stunney&quot; class=&quot;user-hover&quot; rel=&quot;stunney&quot;&gt;Stephen Tunney&lt;/a&gt;&lt;br/&gt;
Is this an issue with upgrade script for one particular database (derby?) ? (I see you had a derby label earlier).&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 2 Sep 2013 23:46:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42290</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123606</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2059] Add datanucleus.identifierFactory property to HiveConf to avoid unintentional MetaStore Schema corruption</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2059</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive 0.6.0 we upgraded the version of DataNucleus from 1.0 to 2.0, which changed some of the defaults for how field names get mapped to datastore identifiers. This was problem was resolved in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1435&quot; title=&quot;Upgraded naming scheme causes JDO exceptions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1435&quot;&gt;&lt;del&gt;HIVE-1435&lt;/del&gt;&lt;/a&gt; by setting datanucleus.identifierFactory=datanucleus in hive-default.xml&lt;/p&gt;

&lt;p&gt;However, this property definition was not added to HiveConf. This can result in schema corruption if the user upgrades from Hive 0.5.0 to 0.6.0 or 0.7.0 and retains the Hive 0.5.0 version hive-default.xml on their classpath.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501611">HIVE-2059</key>
            <summary>Add datanucleus.identifierFactory property to HiveConf to avoid unintentional MetaStore Schema corruption</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Mar 2011 18:56:15 +0000</created>
                <updated>Sat, 17 Dec 2011 00:01:16 +0000</updated>
                            <resolved>Thu, 17 Mar 2011 04:39:58 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13007631" author="cwsteinbach" created="Wed, 16 Mar 2011 19:00:47 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/515/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/515/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13007636" author="jvs" created="Wed, 16 Mar 2011 19:18:04 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="13007804" author="jvs" created="Thu, 17 Mar 2011 04:39:58 +0000"  >&lt;p&gt;Committed to branch and trunk.  Thanks Carl!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12467851">HIVE-1435</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12473831" name="HIVE-2059.1.patch.txt" size="3583" author="cwsteinbach" created="Wed, 16 Mar 2011 18:56:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Mar 2011 19:18:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72568</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123607</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2060] CLI local mode hit NPE when exiting by ^D</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2060</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;CLI gets an NPE when running in local mode and hit an ^D to exit it. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12501716">HIVE-2060</key>
            <summary>CLI local mode hit NPE when exiting by ^D</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Mar 2011 18:28:01 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:03 +0000</updated>
                            <resolved>Mon, 21 Mar 2011 00:41:01 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13008065" author="he yongqiang" created="Thu, 17 Mar 2011 18:41:38 +0000"  >&lt;p&gt;+1, running tests&lt;/p&gt;</comment>
                            <comment id="13008992" author="he yongqiang" created="Mon, 21 Mar 2011 00:41:01 +0000"  >&lt;p&gt;committed! Thanks Ning!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12473934" name="HIVE-2060.patch" size="1163" author="nzhang" created="Thu, 17 Mar 2011 18:29:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 Mar 2011 18:41:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72567</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123608</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2061] Create a hive_contrib.jar symlink to hive-contrib-{version}.jar for backward compatibility</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2061</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We have seen a use case where in the user&apos;s script, it run &apos;add jar hive_contrib.jar&apos;. Since Hive has moved the jar file to be hive-contrib-&lt;/p&gt;
{version}
&lt;p&gt;.jar, it introduced backward incompatibility. If we as the user to change the script and when Hive upgrade version again, the user need to change the script again. Creating a symlink seems to be the best solution. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12501761">HIVE-2061</key>
            <summary>Create a hive_contrib.jar symlink to hive-contrib-{version}.jar for backward compatibility</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Mar 2011 05:26:31 +0000</created>
                <updated>Fri, 16 Dec 2011 23:55:40 +0000</updated>
                            <resolved>Tue, 5 Apr 2011 21:44:25 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13008363" author="pauly" created="Fri, 18 Mar 2011 07:41:35 +0000"  >&lt;p&gt;Looks good, will test and commit.&lt;/p&gt;</comment>
                            <comment id="13008585" author="pauly" created="Fri, 18 Mar 2011 19:14:25 +0000"  >&lt;p&gt;Committed. Thanks Ning!&lt;/p&gt;</comment>
                            <comment id="13016136" author="cwsteinbach" created="Tue, 5 Apr 2011 21:44:25 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12473972" name="HIVE-2061.patch" size="779" author="nzhang" created="Fri, 18 Mar 2011 05:28:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Mar 2011 07:41:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72566</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123609</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2062] HivePreparedStatement.executeImmediate always throw exception</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2062</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;executeImmediate:&lt;/p&gt;

&lt;p&gt;try {&lt;br/&gt;
  clearWarnings();&lt;br/&gt;
  resultSet = null;&lt;br/&gt;
  client.execute(sql);&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;but:&lt;br/&gt;
  public void clearWarnings() throws SQLException &lt;/p&gt;
{
    // TODO Auto-generated method stub
    throw new SQLException(&quot;Method not supported&quot;);
  }

&lt;p&gt;in result all calls executeQuery() for prepared statement return exception&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501785">HIVE-2062</key>
            <summary>HivePreparedStatement.executeImmediate always throw exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="humanoid">Alexey Diomin</assignee>
                                    <reporter username="humanoid">Alexey Diomin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Mar 2011 13:09:39 +0000</created>
                <updated>Fri, 16 Dec 2011 23:57:05 +0000</updated>
                            <resolved>Mon, 21 Mar 2011 17:39:31 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13008700" author="namit" created="Sat, 19 Mar 2011 00:30:54 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13009231" author="namit" created="Mon, 21 Mar 2011 17:39:31 +0000"  >&lt;p&gt;Committed. Thanks Alexey&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12473989" name="HIVE-2062.patch" size="547" author="humanoid" created="Fri, 18 Mar 2011 13:12:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 19 Mar 2011 00:30:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05iof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30123</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2063] jdbc return only 1 collumn</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2063</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;we not set separator for data and all data return in first columns and all other fields set NULL&lt;/p&gt;

&lt;p&gt;addition we get WARNING: Missing fields! Expected 27 fields but only got 1! Ignoring similar problems.&lt;/p&gt;

&lt;p&gt;it&apos;s regresion after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1378&quot; title=&quot;Return value for map, array, and struct needs to return a string &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1378&quot;&gt;&lt;del&gt;HIVE-1378&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;bug:&lt;/p&gt;

&lt;p&gt;use delimiter &apos;\t&apos; for fields on server side&lt;/p&gt;

&lt;p&gt;use default delimiter with code &apos;1&apos; on client side&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501790">HIVE-2063</key>
            <summary>jdbc return only 1 collumn</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="humanoid">Alexey Diomin</assignee>
                                    <reporter username="humanoid">Alexey Diomin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Mar 2011 13:24:09 +0000</created>
                <updated>Mon, 14 Apr 2014 21:51:24 +0000</updated>
                            <resolved>Mon, 14 Apr 2014 21:51:24 +0000</resolved>
                                    <version>0.7.0</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13008564" author="namit" created="Fri, 18 Mar 2011 18:25:52 +0000"  >&lt;p&gt;Can you use Utilities.tabCode instead of hardcoding &quot;9&quot; ?&lt;/p&gt;
</comment>
                            <comment id="13008808" author="humanoid" created="Sat, 19 Mar 2011 19:01:18 +0000"  >&lt;p&gt;fixed patch for use Utilities.tabCode&lt;/p&gt;</comment>
                            <comment id="13009241" author="slider" created="Mon, 21 Mar 2011 17:59:37 +0000"  >&lt;p&gt;Can you add a unit test that exposes this bug?&lt;/p&gt;</comment>
                            <comment id="13009623" author="humanoid" created="Tue, 22 Mar 2011 12:00:15 +0000"  >&lt;p&gt;wait&lt;br/&gt;
bug very interesting&lt;/p&gt;

&lt;p&gt;reproducing on hadoop-0.20.2, but&lt;/p&gt;

&lt;p&gt;on cloudera CDH3B4 bug not reproducing and apply patch break correct parsing input row,&lt;br/&gt;
as delimiter in input row is have code &apos;1&apos; (default)&lt;/p&gt;
</comment>
                            <comment id="13968900" author="ashutoshc" created="Mon, 14 Apr 2014 21:51:24 +0000"  >&lt;p&gt;Feel free to reopen if you can still repro this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12474081" name="HIVE-2063.patch" size="1100" author="humanoid" created="Sat, 19 Mar 2011 18:56:01 +0000"/>
                            <attachment id="12473992" name="HIVE-2063.patch" size="650" author="humanoid" created="Fri, 18 Mar 2011 13:25:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Mar 2011 18:25:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42289</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 41 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123610</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2064] Make call to SecurityUtil.getServerPrincipal unambiguous</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2064</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HadoopThriftAuthBridge20S calls SecurityUtil.getServerPrincipal and passes null for the 2nd arg. When building against the hadoop security branch this is a compilation error as it matches the signatures of both getServerPrincipal methods (one takes a String for the 2nd arg, one an InetAddress). This call needs to be made unambiguous eg by passing &quot;0.0.0.0&quot; instead of null, which per the getServerPrincipal javadoc is equivalent:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;It replaces hostname pattern with hostname, which should be&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;fully-qualified domain name. If hostname is null or &quot;0.0.0.0&quot;, it uses&lt;/li&gt;
	&lt;li&gt;dynamically looked-up fqdn of the current host instead.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12501807">HIVE-2064</key>
            <summary>Make call to SecurityUtil.getServerPrincipal unambiguous</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eli">Eli Collins</assignee>
                                    <reporter username="eli">Eli Collins</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Mar 2011 17:14:01 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:59 +0000</updated>
                            <resolved>Sat, 19 Mar 2011 01:29:37 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13008521" author="eli" created="Fri, 18 Mar 2011 17:15:10 +0000"  >&lt;p&gt;Patch attached.&lt;/p&gt;</comment>
                            <comment id="13008535" author="tlipcon" created="Fri, 18 Mar 2011 17:37:55 +0000"  >&lt;p&gt;This broke with &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7104&quot; title=&quot;Remove unnecessary DNS reverse lookups from RPC layer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7104&quot;&gt;&lt;del&gt;HADOOP-7104&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Patch looks good to me.&lt;/p&gt;</comment>
                            <comment id="13008543" author="cwsteinbach" created="Fri, 18 Mar 2011 17:48:57 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13008707" author="cwsteinbach" created="Sat, 19 Mar 2011 01:29:37 +0000"  >&lt;p&gt;Committed to trunk and branch-0.7. Thanks Eli!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12474018" name="hive-2064-1.patch" size="865" author="eli" created="Fri, 18 Mar 2011 17:15:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Mar 2011 17:37:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72565</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06ahr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34631</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2065] RCFile issues</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2065</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Some potential issues with RCFile&lt;/p&gt;

&lt;p&gt;1. Remove unwanted synchronized modifiers on the methods of RCFile. As per yongqiang he, the class is not meant to be thread-safe (and it is not). Might as well get rid of the confusing and performance-impacting lock acquisitions.&lt;/p&gt;

&lt;p&gt;2. Record Length overstated for compressed files. IIUC, the key compression happens after we have written the record length.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; keyLength = key.getSize();
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (keyLength &amp;lt; 0) {
        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;negative length keys not allowed: &quot;&lt;/span&gt; + key);
      }

      out.writeInt(keyLength + valueLength); &lt;span class=&quot;code-comment&quot;&gt;// total record length
&lt;/span&gt;      out.writeInt(keyLength); &lt;span class=&quot;code-comment&quot;&gt;// key portion length
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!isCompressed()) {
        out.writeInt(keyLength);
        key.write(out); &lt;span class=&quot;code-comment&quot;&gt;// key
&lt;/span&gt;      } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
        keyCompressionBuffer.reset();
        keyDeflateFilter.resetState();
        key.write(keyDeflateOut);
        keyDeflateOut.flush();
        keyDeflateFilter.finish();
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; compressedKeyLen = keyCompressionBuffer.getLength();
        out.writeInt(compressedKeyLen);
        out.write(keyCompressionBuffer.getData(), 0, compressedKeyLen);
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3. For sequence file compatibility, the compressed key length should be the next field to record length, not the uncompressed key length.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501852">HIVE-2065</key>
            <summary>RCFile issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="n_krishna_kumar">Krishna Kumar</assignee>
                                    <reporter username="n_krishna_kumar">Krishna Kumar</reporter>
                        <labels>
                    </labels>
                <created>Sat, 19 Mar 2011 02:04:39 +0000</created>
                <updated>Thu, 1 Dec 2011 07:12:46 +0000</updated>
                                                                            <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13008713" author="n_krishna_kumar" created="Sat, 19 Mar 2011 02:05:56 +0000"  >&lt;p&gt;Compressed RCFile Layout&lt;/p&gt;</comment>
                            <comment id="13008730" author="he yongqiang" created="Sat, 19 Mar 2011 04:46:12 +0000"  >&lt;p&gt;Good catch about point 2. It is for uncompressed length, and then is used as compressed length in the code when seeking to next block. Fortunately we have not triggered this bug in Hive so far &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; .&lt;/p&gt;</comment>
                            <comment id="13008741" author="n_krishna_kumar" created="Sat, 19 Mar 2011 07:47:39 +0000"  >&lt;p&gt;So should I go ahead and fix #2 and #3 as well? Note that these are non-compatible changes, so the version number will need to be bumped up.&lt;/p&gt;

&lt;p&gt;My proposal:&lt;/p&gt;

&lt;p&gt;Fix the issues in the new format&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;up the version number to 7.&lt;/li&gt;
	&lt;li&gt;compute and store record length as (compressed key length = 4 + compressed key contents length) + compressed value length&lt;/li&gt;
	&lt;li&gt;store compressed key length as the next 4-byte field&lt;/li&gt;
	&lt;li&gt;key contains 4-byte uncompressed key contents length + compressed key contents&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Provide backward compatibility&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;while reading version 6,&lt;/li&gt;
	&lt;li&gt;interpret fields as now but recalculate the recordlength from the next two fields (as record length = record length - uncompressed key length + compressed key length)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13008742" author="n_krishna_kumar" created="Sat, 19 Mar 2011 07:50:34 +0000"  >&lt;p&gt;Notation : Length bracket inside the dashed box means it is the uncompressed length. Length bracket outside the dashed box means it is the compressed length. &lt;/p&gt;</comment>
                            <comment id="13008747" author="he yongqiang" created="Sat, 19 Mar 2011 08:41:54 +0000"  >&lt;p&gt;Yes. This should be fixed. It should be ok to increase the version number. Also need to fix seekToNextKeyBuffer() to minus 4 if you want to add 4 to recordlength.&lt;/p&gt;

&lt;p&gt;For issue 3, do you think it can still be compatible with today&apos;s sequencefile. (I haven&apos;t looked at the recent of impl of seqfile.) If not, maybe we can just leave it as today is, so we do not have any backward compatibility issue. &lt;/p&gt;</comment>
                            <comment id="13009981" author="n_krishna_kumar" created="Wed, 23 Mar 2011 03:24:45 +0000"  >&lt;p&gt;Hmm. #3 is taking me a bit too far than I originally thought. I assume being able to read an RCFile as SequenceFile is required, while being able to write an RCFile via the SequenceFile interface is desirable.&lt;/p&gt;

&lt;p&gt;Having made changes so that record length is correctly set, in order to be able to make sure that the rcfile is handled correctly as a sequence file, the following changes are also required, IIUC.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the second field should be the key length (4 + compressed/plain key contents)&lt;/li&gt;
	&lt;li&gt;the key class (KeyBuffer) must be made responsible for reading/writing the next field - plain key contents length - as well as compression/decompression of the key contents&lt;/li&gt;
	&lt;li&gt;the value class (ValueBuffer) related changes will be trickier. Since the value is not compressed as a unit, we can not use record-compressed format. We need to mark the records as plain records, and move the codec to a metadata entry. Then the valueBuffer class will work correctly with sequencefile implementation.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thoughts? worth it?&lt;/p&gt;</comment>
                            <comment id="13009982" author="he yongqiang" created="Wed, 23 Mar 2011 03:39:49 +0000"  >&lt;p&gt;if being compatible with sequencefile does not break the rcfile&apos;s backward compatibility, it should be ok. But even after that, hive still won&apos;t be able to process it as a sequence file because of hive&apos;s serde layer.&lt;/p&gt;</comment>
                            <comment id="13012123" author="n_krishna_kumar" created="Mon, 28 Mar 2011 16:19:14 +0000"  >&lt;p&gt;The layout as implemented in the attached patch&lt;/p&gt;</comment>
                            <comment id="13012124" author="n_krishna_kumar" created="Mon, 28 Mar 2011 16:21:11 +0000"  >&lt;p&gt;Patch. Since it contains binary files, it was generated with &quot;--binary&quot;, and needs to be applied as &quot;git apply HIVE.2065.patch.0.txt&quot;&lt;/p&gt;</comment>
                            <comment id="13012125" author="n_krishna_kumar" created="Mon, 28 Mar 2011 16:27:17 +0000"  >&lt;p&gt;Review Board Entry at &lt;a href=&quot;https://reviews.apache.org/r/529/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/529/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13013644" author="he yongqiang" created="Wed, 30 Mar 2011 20:57:52 +0000"  >&lt;p&gt;will take a look. but Krishna, I still do not get the benefit of letting RCFile being read by SequenceFile. can you explain more about the benefit?&lt;/p&gt;</comment>
                            <comment id="13014065" author="n_krishna_kumar" created="Thu, 31 Mar 2011 16:54:48 +0000"  >&lt;p&gt;The RCFile layout seems to have been designed initially to be compatible to SequenceFile but over a period of time (esp. due to key compression enhancement?), it seems to have drifted away. The compatibility intent goes as far as to have boolean values always false etc (blockCompression), but couple of bugs have been introduced later whereby the recordlength is no longer the ondisk record length, and the keylength field is no longer the ondisk key length. Once I started writing a unit test for ensuring that the rcfile layout does stay in sync with sequence file layout, I also found that the classes designated as the keyclass/valueclass are no longer able to read themselves in or write themselves out, even if properly &apos;primed&apos;. That is the primary aim of the changes due to #3. &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;PS. The reason I am looking into this now is experiment with column-specific compression (&amp;#39;use this codec for this sorted, numeric column&amp;#39;) or type-specific compression (&amp;#39;use this codec for all enumerations types of this table&amp;#39;). Presumably, if successful, this information will be put into metadata as I am doing with the generic codec in the changes above.&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="13014272" author="he yongqiang" created="Thu, 31 Mar 2011 23:13:58 +0000"  >&lt;p&gt;The column-specific compression is very interesting, but it is not directly related to make RCFile compatible with Seqfile. We can still do that without this compatibility. &lt;/p&gt;

&lt;p&gt;Some inputs maybe useful to you:&lt;br/&gt;
we examined column groups, and sort the data internally based on one column in one column group. (But we did not try different compressions across column groups.) Tried this with 3-4 tables, and we see ~20% storage savings on one table compared the previous RCFile. The main problems for this approach is that it is hard to find out the correct/most efficient column group definitions.&lt;br/&gt;
One example, table tbl_1 has 20 columns, and user can define:&lt;/p&gt;

&lt;p&gt;col_1,col_2,col_11,col_13:0;col_3,col_4,col_15,col_16:1;&lt;/p&gt;

&lt;p&gt;This will put col_1, col_2,col_11, col_13 into one column group, and reorder that column group based on sorting col_1 (0 is the first column in this column group), and put col_3, col_4, col_15,col_16 into another column group, and reorder this column group based on sorting col_4, and finally put all other columns into the default column group with original order.&lt;br/&gt;
And should be easy to allow different compression codec for different column groups.&lt;/p&gt;

&lt;p&gt;The main block issue for this approach is have a full set of utils to find out the best column group definition.&lt;/p&gt;

&lt;p&gt;Instead of doing that in the existing RCFile, do you think it would be better if we can explore it in the new one that i just mentioned. If you think interesting, we can share you the existing code that we have for things i mentioned. And you can work on the compression codec based on the new one, and provide a util tool to find out the best column group definition.&lt;/p&gt;

&lt;p&gt;what do you think?&lt;/p&gt;</comment>
                            <comment id="13014351" author="n_krishna_kumar" created="Fri, 1 Apr 2011 01:53:45 +0000"  >&lt;p&gt;As I indicated, the reason I made changes for sequence file compatibility is that the original design was more or less compatible, but the compatibility is now currently broken. If we decide that the compatibility is not a requirement, I am fine with that - a few documentation changes will be all that is necessary to indicate that situation. The current layout itself, with the SEQ prefix, incorrect key length and keyclass/valueclass header etc, will not make much sense, but we can designate all that &apos;legacy&apos; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;


&lt;p&gt;I&apos;d like to move the discussions re potential approaches for better compression to another thread - any existing bug#? or should I open a new one?.&lt;/p&gt;</comment>
                            <comment id="13014361" author="he yongqiang" created="Fri, 1 Apr 2011 02:12:27 +0000"  >&lt;p&gt;Let&apos;s leave the compatibility issue, and fix the incorrect length issue in this jira.&lt;/p&gt;

&lt;p&gt;And feel free to open a new jira for the discussion of better compression.&lt;/p&gt;</comment>
                            <comment id="13016441" author="n_krishna_kumar" created="Wed, 6 Apr 2011 17:14:09 +0000"  >&lt;p&gt;Updated patch where sequence file compliance is not addressed but the other two issues are.&lt;/p&gt;</comment>
                            <comment id="13016443" author="jiraposter@reviews.apache.org" created="Wed, 6 Apr 2011 17:15:06 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/529/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/529/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-04-06 17:13:30.910168)&lt;/p&gt;


&lt;p&gt;Review request for hive and Yongqiang He.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Updated patch where sequence file compliance is not addressed but the other two issues are. &lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2065&quot; title=&quot;RCFile issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2065&quot;&gt;HIVE-2065&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2065&quot; title=&quot;RCFile issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2065&quot;&gt;HIVE-2065&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2065&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  build-common.xml 9f21a69 &lt;br/&gt;
  data/files/test_v6dot0_compressed.rc PRE-CREATION &lt;br/&gt;
  data/files/test_v6dot0_uncompressed.rc PRE-CREATION &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java eb5305b &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/RCFileBlockMergeRecordReader.java 20d1f4e &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/RCFileKeyBufferWrapper.java f7eacdc &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/RCFileMergeMapper.java bb1e3c9 &lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/TestRCFile.java 8bb6f3a &lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge.q.out 25f36c0 &lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge_stats.q.out 243f7cc &lt;br/&gt;
  ql/src/test/results/clientpositive/partition_wise_fileformat.q.out cee2e72 &lt;br/&gt;
  ql/src/test/results/clientpositive/partition_wise_fileformat3.q.out 067ab43 &lt;br/&gt;
  ql/src/test/results/clientpositive/sample10.q.out 50406c3 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/529/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/529/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Tests added, existing tests updated&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Krishna&lt;/p&gt;
</comment>
                            <comment id="13016444" author="n_krishna_kumar" created="Wed, 6 Apr 2011 17:16:47 +0000"  >&lt;p&gt;Updated patch where sequence file compliance is not addressed but the other two issues are. Review board also updated : &lt;a href=&quot;https://reviews.apache.org/r/529/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/529/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13017121" author="he yongqiang" created="Thu, 7 Apr 2011 20:19:33 +0000"  >&lt;p&gt;why is there a minor.version needed in metadata? &lt;br/&gt;
Mostly looks good, but i prefer not to change the code too much as some other external things are depending on it.&lt;/p&gt;</comment>
                            <comment id="13017124" author="he yongqiang" created="Thu, 7 Apr 2011 20:21:51 +0000"  >&lt;p&gt;sorry, maybe not clear, i am not discouraging changing the code, i am just saying the risk worths the benefits.&lt;/p&gt;</comment>
                            <comment id="13017229" author="n_krishna_kumar" created="Fri, 8 Apr 2011 01:29:23 +0000"  >&lt;p&gt;The minor version is needed so that we can still read 6.0 files correctly. To recap, 6.0 files have incorrect record length and while reading, we make the necessary recalculations to fix it up, while 6.1 onwards have the correct record length stored on disk.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;PS. I had suggested bumping up the sequence file version to 7 in a comment above, but I think a minor version is a better idea. The layout itself is still &amp;#39;kinda sorta&amp;#39; version-6-compatible. For all we know, there may be a sequence file version 7, and then sequence file version 7 and rc file version 7 would be divergent.&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;[PPS. For the sake of completeness of documentation, here are the reason why the layout, even after the current patch, is still short of complete version-6 compatibility : &lt;span class=&quot;error&quot;&gt;&amp;#91;a&amp;#93;&lt;/span&gt; The KeyBuffer, denoted as the key class, is unable to read or write itself from/to the disk stream as the reading/writing the 4-byte key contents length field and the compression/decompression are being done by the reader/writer and not the KeyBuffer class and &lt;span class=&quot;error&quot;&gt;&amp;#91;b&amp;#93;&lt;/span&gt; The ValueBuffer, the value class, must be compressed as a unit to be compatible to sequence file reader/writer, but it is actually compressed as several units.] &lt;/p&gt;</comment>
                            <comment id="13071330" author="jvs" created="Tue, 26 Jul 2011 20:13:50 +0000"  >&lt;p&gt;This one has been sitting in Patch Available queue for a while...are there issues that still need to be resolved?&lt;/p&gt;
</comment>
                            <comment id="13071335" author="he yongqiang" created="Tue, 26 Jul 2011 20:23:22 +0000"  >&lt;p&gt;okay, i did a &apos;cancel patch&apos;. The current patch is still not very clean,&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12474785" name="HIVE.2065.patch.0.txt" size="116083" author="n_krishna_kumar" created="Mon, 28 Mar 2011 16:21:11 +0000"/>
                            <attachment id="12475606" name="HIVE.2065.patch.1.txt" size="92033" author="n_krishna_kumar" created="Wed, 6 Apr 2011 17:14:09 +0000"/>
                            <attachment id="12474055" name="Slide1.png" size="124270" author="n_krishna_kumar" created="Sat, 19 Mar 2011 02:05:56 +0000"/>
                            <attachment id="12474784" name="proposal.png" size="155207" author="n_krishna_kumar" created="Mon, 28 Mar 2011 16:19:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 19 Mar 2011 04:46:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123611</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>rcfile</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2066] Metastore Schema Scripts</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2066</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12501962">HIVE-2066</key>
            <summary>Metastore Schema Scripts</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Mar 2011 17:06:29 +0000</created>
                <updated>Tue, 5 Apr 2011 20:07:04 +0000</updated>
                            <resolved>Tue, 5 Apr 2011 20:07:04 +0000</resolved>
                                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13016098" author="cwsteinbach" created="Tue, 5 Apr 2011 20:06:31 +0000"  >&lt;p&gt;This ticket is being used as a convenient public storage space for versioned dumps of the Hive MetaStore database schema.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12474196" name="hive-schema-0.3.0.derby.sql" size="8202" author="cwsteinbach" created="Mon, 21 Mar 2011 17:08:05 +0000"/>
                            <attachment id="12474190" name="hive-schema-0.3.0.mysql.sql" size="12322" author="cwsteinbach" created="Mon, 21 Mar 2011 17:08:05 +0000"/>
                            <attachment id="12474474" name="hive-schema-0.3.0.postgres.sql" size="6790" author="yourchanges" created="Thu, 24 Mar 2011 07:35:39 +0000"/>
                            <attachment id="12474197" name="hive-schema-0.4.0.derby.sql" size="8202" author="cwsteinbach" created="Mon, 21 Mar 2011 17:08:05 +0000"/>
                            <attachment id="12474191" name="hive-schema-0.4.0.mysql.sql" size="12322" author="cwsteinbach" created="Mon, 21 Mar 2011 17:08:05 +0000"/>
                            <attachment id="12474475" name="hive-schema-0.4.0.postgres.sql" size="6790" author="yourchanges" created="Thu, 24 Mar 2011 07:36:50 +0000"/>
                            <attachment id="12474198" name="hive-schema-0.4.1.derby.sql" size="8202" author="cwsteinbach" created="Mon, 21 Mar 2011 17:08:05 +0000"/>
                            <attachment id="12474192" name="hive-schema-0.4.1.mysql.sql" size="12322" author="cwsteinbach" created="Mon, 21 Mar 2011 17:08:05 +0000"/>
                            <attachment id="12474476" name="hive-schema-0.4.1.postgres.sql" size="6790" author="yourchanges" created="Thu, 24 Mar 2011 07:36:50 +0000"/>
                            <attachment id="12474199" name="hive-schema-0.5.0.derby.sql" size="8202" author="cwsteinbach" created="Mon, 21 Mar 2011 17:08:05 +0000"/>
                            <attachment id="12474193" name="hive-schema-0.5.0.mysql.sql" size="12322" author="cwsteinbach" created="Mon, 21 Mar 2011 17:08:05 +0000"/>
                            <attachment id="12474477" name="hive-schema-0.5.0.postgres.sql" size="6790" author="yourchanges" created="Thu, 24 Mar 2011 07:36:50 +0000"/>
                            <attachment id="12474200" name="hive-schema-0.6.0.derby.sql" size="8337" author="cwsteinbach" created="Mon, 21 Mar 2011 17:08:05 +0000"/>
                            <attachment id="12474194" name="hive-schema-0.6.0.mysql.sql" size="12555" author="cwsteinbach" created="Mon, 21 Mar 2011 17:08:05 +0000"/>
                            <attachment id="12474478" name="hive-schema-0.6.0.postgres.sql" size="6950" author="yourchanges" created="Thu, 24 Mar 2011 07:36:51 +0000"/>
                            <attachment id="12474201" name="hive-schema-0.7.0.derby.sql" size="15314" author="cwsteinbach" created="Mon, 21 Mar 2011 17:08:05 +0000"/>
                            <attachment id="12474195" name="hive-schema-0.7.0.mysql.sql" size="23473" author="cwsteinbach" created="Mon, 21 Mar 2011 17:08:05 +0000"/>
                            <attachment id="12474479" name="hive-schema-0.7.0.postgres.sql" size="14376" author="yourchanges" created="Thu, 24 Mar 2011 07:36:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72564</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lia7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123612</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2067] Add JDO filter to explain plan</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2067</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When partition pruning is done through JDO filtering (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2049&quot; title=&quot;Push down partition pruning to JDO filtering for a subset of partition predicates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2049&quot;&gt;&lt;del&gt;HIVE-2049&lt;/del&gt;&lt;/a&gt;), the JDO filter should be shown in the explain plan to make it easy to debug. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12501995">HIVE-2067</key>
            <summary>Add JDO filter to explain plan</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12501190">HIVE-2048</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Mar 2011 22:42:13 +0000</created>
                <updated>Mon, 21 Mar 2011 23:29:33 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12501191">HIVE-2049</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42287</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0liaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123613</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2068] Speed up query &quot;select xx,xx from xxx LIMIT xxx&quot; if no filtering or aggregation</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2068</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, &quot;select xx,xx from xxx where ...(only partition conditions) LIMIT xxx&quot; will start a MapReduce job with input to be the whole table or partition. The latency can be huge if the table or partition is big. We could reduce number of input files to speed up the queries.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12502004">HIVE-2068</key>
            <summary>Speed up query &quot;select xx,xx from xxx LIMIT xxx&quot; if no filtering or aggregation</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="sdong">Siying Dong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Mar 2011 01:05:36 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:59 +0000</updated>
                            <resolved>Tue, 19 Apr 2011 18:18:16 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13012376" author="sdong" created="Tue, 29 Mar 2011 08:09:11 +0000"  >&lt;p&gt;Features are mostly finished and I did some manual tests.&lt;br/&gt;
I&apos;m still running all the tests. I&apos;m also thinking of how to add tests to cover the Driver changes with retry.&lt;/p&gt;</comment>
                            <comment id="13013774" author="namit" created="Thu, 31 Mar 2011 01:05:06 +0000"  >&lt;p&gt;Can you add a review board entry ?&lt;/p&gt;</comment>
                            <comment id="13013873" author="sdong" created="Thu, 31 Mar 2011 08:08:09 +0000"  >&lt;p&gt;previous patch missed a file.&lt;/p&gt;</comment>
                            <comment id="13013874" author="sdong" created="Thu, 31 Mar 2011 08:11:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/540/diff/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/540/diff/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13016030" author="namit" created="Tue, 5 Apr 2011 17:32:28 +0000"  >&lt;p&gt;comments in review-board&lt;/p&gt;</comment>
                            <comment id="13016207" author="sdong" created="Wed, 6 Apr 2011 01:12:40 +0000"  >&lt;p&gt;addressing Namit&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13016518" author="namit" created="Wed, 6 Apr 2011 20:38:33 +0000"  >&lt;p&gt;can you update the review-board entry ?&lt;/p&gt;</comment>
                            <comment id="13016535" author="sdong" created="Wed, 6 Apr 2011 21:05:39 +0000"  >&lt;p&gt;review-board updated.&lt;/p&gt;</comment>
                            <comment id="13016597" author="namit" created="Wed, 6 Apr 2011 22:57:54 +0000"  >&lt;p&gt;Siying, I dont see the new changes&lt;/p&gt;</comment>
                            <comment id="13016604" author="sdong" created="Wed, 6 Apr 2011 23:23:19 +0000"  >&lt;p&gt;Namit, you can&apos;t see trunk/conf/hive-default.xml is already included in the diff of the review board?&lt;/p&gt;</comment>
                            <comment id="13017092" author="jiraposter@reviews.apache.org" created="Thu, 7 Apr 2011 19:18:06 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/540/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/540/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and namit jain.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;For &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2068&quot; title=&quot;Speed up query &amp;quot;select xx,xx from xxx LIMIT xxx&amp;quot; if no filtering or aggregation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2068&quot;&gt;&lt;del&gt;HIVE-2068&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2068&quot; title=&quot;Speed up query &amp;quot;select xx,xx from xxx LIMIT xxx&amp;quot; if no filtering or aggregation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2068&quot;&gt;&lt;del&gt;HIVE-2068&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2068&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2068&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java 1086466 &lt;br/&gt;
  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1086466 &lt;br/&gt;
  trunk/conf/hive-default.xml 1086466 &lt;br/&gt;
  trunk/hwi/src/java/org/apache/hadoop/hive/hwi/HWISessionItem.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/CommandNeedRetryException.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/Context.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FetchTask.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/LimitOperator.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SamplePruner.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/FetchWork.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/LimitDesc.java 1086466 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/CommandProcessor.java 1086466 &lt;br/&gt;
  trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java 1086466 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/global_limit.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/global_limit.q.out PRE-CREATION &lt;br/&gt;
  trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java 1086466 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/540/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/540/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;added a test to test suite.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Siying&lt;/p&gt;
</comment>
                            <comment id="13017897" author="namit" created="Sat, 9 Apr 2011 16:22:38 +0000"  >&lt;p&gt;Can you regenerate the patch ?&lt;br/&gt;
I am getting a lot of conflicts&lt;/p&gt;</comment>
                            <comment id="13020386" author="namit" created="Fri, 15 Apr 2011 18:23:51 +0000"  >&lt;p&gt;FetchTask: return false if number of rows found.&lt;br/&gt;
Else, it looks good&lt;/p&gt;</comment>
                            <comment id="13020390" author="jiraposter@reviews.apache.org" created="Fri, 15 Apr 2011 18:38:05 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/540/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/540/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-04-15 18:37:21.441402)&lt;/p&gt;


&lt;p&gt;Review request for hive and namit jain.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;fix a small logic bug.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;For &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2068&quot; title=&quot;Speed up query &amp;quot;select xx,xx from xxx LIMIT xxx&amp;quot; if no filtering or aggregation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2068&quot;&gt;&lt;del&gt;HIVE-2068&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2068&quot; title=&quot;Speed up query &amp;quot;select xx,xx from xxx LIMIT xxx&amp;quot; if no filtering or aggregation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2068&quot;&gt;&lt;del&gt;HIVE-2068&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2068&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2068&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java 1091258 &lt;br/&gt;
  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1091258 &lt;br/&gt;
  trunk/conf/hive-default.xml 1091258 &lt;br/&gt;
  trunk/hwi/src/java/org/apache/hadoop/hive/hwi/HWISessionItem.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/CommandNeedRetryException.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/Context.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FetchTask.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/LimitOperator.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Task.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SamplePruner.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/FetchWork.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/LimitDesc.java 1091258 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/CommandProcessor.java 1091258 &lt;br/&gt;
  trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java 1091258 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/global_limit.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/global_limit.q.out PRE-CREATION &lt;br/&gt;
  trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java 1091258 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/540/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/540/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;added a test to test suite.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Siying&lt;/p&gt;
</comment>
                            <comment id="13020391" author="sdong" created="Fri, 15 Apr 2011 18:38:10 +0000"  >&lt;p&gt;fix the issue. I think what Namit means is that the function should always return true(no more rows).&lt;/p&gt;</comment>
                            <comment id="13020394" author="sdong" created="Fri, 15 Apr 2011 18:49:16 +0000"  >&lt;p&gt;found some problem with last modified piece of codes.&lt;/p&gt;</comment>
                            <comment id="13020396" author="sdong" created="Fri, 15 Apr 2011 18:58:33 +0000"  >&lt;p&gt;deleted the latest patch. The fetchTask return part is actually OK.&lt;/p&gt;</comment>
                            <comment id="13020762" author="namit" created="Sun, 17 Apr 2011 10:26:17 +0000"  >&lt;p&gt;Can you rerun the tests ?&lt;br/&gt;
I am getting some failures - in global_limit.q&lt;/p&gt;</comment>
                            <comment id="13021263" author="sdong" created="Mon, 18 Apr 2011 21:07:01 +0000"  >&lt;p&gt;looks like simple &quot;... limit ...&quot; depends on the sequence of list files, which is not deterministic. I modify the test case to always put the 3 same files so that the results will be deterministic.&lt;/p&gt;</comment>
                            <comment id="13021698" author="namit" created="Tue, 19 Apr 2011 18:18:16 +0000"  >&lt;p&gt;Committed. Thanks Siying&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12474856" name="HIVE-2068.1.patch" size="73925" author="sdong" created="Tue, 29 Mar 2011 08:09:11 +0000"/>
                            <attachment id="12474952" name="HIVE-2068.2.patch" size="78758" author="sdong" created="Wed, 30 Mar 2011 07:01:08 +0000"/>
                            <attachment id="12475074" name="HIVE-2068.3.patch" size="79520" author="sdong" created="Thu, 31 Mar 2011 08:08:09 +0000"/>
                            <attachment id="12475549" name="HIVE-2068.4.patch" size="81570" author="sdong" created="Wed, 6 Apr 2011 01:12:40 +0000"/>
                            <attachment id="12476070" name="HIVE-2068.5.patch" size="81169" author="sdong" created="Tue, 12 Apr 2011 00:06:43 +0000"/>
                            <attachment id="12476653" name="HIVE-2068.6.patch" size="81070" author="sdong" created="Mon, 18 Apr 2011 21:05:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 31 Mar 2011 01:05:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66847</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lian:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123614</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2069] NullPointerException on getSchemas</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2069</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Calling getSchemas will cause a nullpointerexception&lt;/p&gt;</description>
                <environment></environment>
        <key id="12502100">HIVE-2069</key>
            <summary>NullPointerException on getSchemas</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bennies">Bennie Schut</assignee>
                                    <reporter username="bennies">Bennie Schut</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Mar 2011 20:32:43 +0000</created>
                <updated>Tue, 16 Sep 2014 08:52:26 +0000</updated>
                            <resolved>Wed, 23 Mar 2011 17:57:02 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13009825" author="bennies" created="Tue, 22 Mar 2011 20:34:22 +0000"  >&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
at java.util.ArrayList.&amp;lt;init&amp;gt;(ArrayList.java:131)&lt;br/&gt;
at org.apache.hadoop.hive.jdbc.HiveMetaDataResultSet.&amp;lt;init&amp;gt;(HiveMetaDataResultSet.java:32)&lt;br/&gt;
at org.apache.hadoop.hive.jdbc.HiveDatabaseMetaData$3.&amp;lt;init&amp;gt;(HiveDatabaseMetaData.java:481)&lt;br/&gt;
at org.apache.hadoop.hive.jdbc.HiveDatabaseMetaData.getSchemas(HiveDatabaseMetaData.java:480)&lt;br/&gt;
at org.apache.hadoop.hive.jdbc.HiveDatabaseMetaData.getSchemas(HiveDatabaseMetaData.java:475)&lt;br/&gt;
at org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetSchemas(TestJdbcDriver.java:488)&lt;/p&gt;

&lt;p&gt;Probably introduced on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1126&quot; title=&quot;Missing some Jdbc functionality like getTables getColumns and HiveResultSet.get* methods based on column name.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1126&quot;&gt;&lt;del&gt;HIVE-1126&lt;/del&gt;&lt;/a&gt;. getCatalogs works correctly but this wasn&apos;t tested.&lt;/p&gt;</comment>
                            <comment id="13009827" author="bennies" created="Tue, 22 Mar 2011 20:39:29 +0000"  >&lt;p&gt;This patch includes a fix and a test which can be used to reproduce the nullpointer.&lt;/p&gt;</comment>
                            <comment id="13009841" author="nzhang" created="Tue, 22 Mar 2011 21:05:26 +0000"  >&lt;p&gt;+1. will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="13010257" author="nzhang" created="Wed, 23 Mar 2011 17:57:02 +0000"  >&lt;p&gt;Committed. Thanks Bennie!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12740120">HIVE-8030</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12474335" name="HIVE-2069.1.patch.txt" size="2061" author="bennies" created="Tue, 22 Mar 2011 20:39:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 22 Mar 2011 21:05:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37488</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05io7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fix for NullPointerException on the jdbc driver on getSchemas</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2070] SHOW GRANT grantTime field should be a human-readable timestamp</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2070</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Unix timestamps are not super useful when trying to interpret metadata&lt;/p&gt;

&lt;p&gt;hive&amp;gt; show grant user foo on table bar;&lt;br/&gt;
database	default	&lt;br/&gt;
table	bar	&lt;br/&gt;
principalName	foo	&lt;br/&gt;
principalType	USER	&lt;br/&gt;
privilege	Select	&lt;br/&gt;
grantTime	1300828549	&lt;br/&gt;
grantor	natty	&lt;/p&gt;</description>
                <environment></environment>
        <key id="12502108">HIVE-2070</key>
            <summary>SHOW GRANT grantTime field should be a human-readable timestamp</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="natty">Jonathan Natkins</assignee>
                                    <reporter username="natty">Jonathan Natkins</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Mar 2011 21:30:29 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:51 +0000</updated>
                            <resolved>Mon, 2 May 2011 06:10:08 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13020153" author="jiraposter@reviews.apache.org" created="Fri, 15 Apr 2011 01:31:05 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/603/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/603/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;This changes the grantTimestamp that gets outputted in a SHOW GRANT from a Unix timestamp to a human-readable date.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2070&quot; title=&quot;SHOW GRANT grantTime field should be a human-readable timestamp&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2070&quot;&gt;&lt;del&gt;HIVE-2070&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2070&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2070&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 9d8919c &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/603/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/603/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Manual.  The field is normally not excluded from diffs, because it will vary from test run to test run, so it didn&apos;t seem prudent to try to write an automated test for this.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jonathan&lt;/p&gt;
</comment>
                            <comment id="13020154" author="natty" created="Fri, 15 Apr 2011 01:31:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/603/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/603/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13021505" author="he yongqiang" created="Tue, 19 Apr 2011 09:19:25 +0000"  >&lt;p&gt;the change looks good to me.&lt;/p&gt;</comment>
                            <comment id="13022642" author="cwsteinbach" created="Thu, 21 Apr 2011 06:56:14 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13027311" author="he yongqiang" created="Sat, 30 Apr 2011 09:47:34 +0000"  >&lt;p&gt;Carl?&lt;/p&gt;</comment>
                            <comment id="13027561" author="cwsteinbach" created="Mon, 2 May 2011 06:10:08 +0000"  >&lt;p&gt;Committed to trunk. Thanks Jonathan!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12476403" name="HIVE-2070.1.patch" size="954" author="natty" created="Fri, 15 Apr 2011 01:31:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Apr 2011 01:31:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72563</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06ahj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34630</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
