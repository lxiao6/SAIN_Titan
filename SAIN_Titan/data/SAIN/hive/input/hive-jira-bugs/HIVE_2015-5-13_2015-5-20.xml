<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 03:34:24 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2015-5-13+AND+created+%3C%3D+2015-5-20+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="66" total="66"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-10696] TestAddResource tests are non-portable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10696</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We need to make sure these tests work in windows as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829398">HIVE-10696</key>
            <summary>TestAddResource tests are non-portable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</assignee>
                                    <reporter username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 May 2015 00:04:19 +0000</created>
                <updated>Fri, 5 Jun 2015 20:57:35 +0000</updated>
                            <resolved>Mon, 18 May 2015 20:28:13 +0000</resolved>
                                                    <fixVersion>1.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14541073" author="hsubramaniyan" created="Wed, 13 May 2015 00:07:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; can you please review the fix.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14541917" author="hiveqa" created="Wed, 13 May 2015 13:34:24 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12732432/HIVE-10696.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12732432/HIVE-10696.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8921 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3875/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3875/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3875/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3875/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3875/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3875/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12732432 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14543014" author="apivovarov" created="Thu, 14 May 2015 00:56:16 +0000"  >&lt;p&gt;Can we use new Path(path).toUri() for both Win and Unix cases?&lt;/p&gt;

&lt;p&gt;What is the benefit of using new URI(path) for Unix?&lt;/p&gt;

&lt;p&gt;It would be easier to review if you add RB link to the Jira&lt;/p&gt;</comment>
                            <comment id="14543045" author="hsubramaniyan" created="Thu, 14 May 2015 01:25:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt;  Thank you for looking at the change. There are a couple of reasons why I didnt use  new Path(path).toUri() for both windows and linux.&lt;br/&gt;
1. It is a slightly more expensive call (which involves some additional parsing) which is unnecessary can be avoided in non-windows since Linux or HDFS always has / as the path delimiter.&lt;br/&gt;
2. There can be a case where a user can accidently pass escape sequence in the jar path in unix and instead of getting an exception, he gets a valid URI object which might get exposed elsewhere.&lt;/p&gt;

&lt;p&gt;Apart from the minor reasons stated above using new Path().toUri() is fine in both linux and windows.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14546121" author="apivovarov" created="Fri, 15 May 2015 20:21:17 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14549156" author="hsubramaniyan" created="Mon, 18 May 2015 20:28:13 +0000"  >&lt;p&gt;Patch committed to master and branch-1.2 . Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; for the review. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt;, Can you please make note of this jira for 1.2.1 inclusion.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12732432" name="HIVE-10696.1.patch" size="9566" author="hsubramaniyan" created="Wed, 13 May 2015 00:07:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 May 2015 13:34:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2enkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10697] ObjectInspectorConvertors#UnionConvertor does a faulty conversion</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10697</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently the UnionConvertor in the ObjectInspectorConvertors class has an issue with the convert method where it attempts to convert the objectinspector itself instead of converting the field.&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. This should be changed to convert the field itself. This could result in a ClassCastException as shown below:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.ClassCastException: org.apache.hadoop.hive.serde2.lazy.objectinspector.LazyUnionObjectInspector cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to org.apache.hadoop.hive.serde2.lazy.LazyString
	at org.apache.hadoop.hive.serde2.lazy.objectinspector.primitive.LazyStringObjectInspector.getPrimitiveWritableObject(LazyStringObjectInspector.java:51)
	at org.apache.hadoop.hive.serde2.objectinspector.primitive.PrimitiveObjectInspectorConverter$TextConverter.convert(PrimitiveObjectInspectorConverter.java:391)
	at org.apache.hadoop.hive.serde2.objectinspector.primitive.PrimitiveObjectInspectorConverter$TextConverter.convert(PrimitiveObjectInspectorConverter.java:338)
	at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorConverters$UnionConverter.convert(ObjectInspectorConverters.java:456)
	at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorConverters$StructConverter.convert(ObjectInspectorConverters.java:395)
	at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorConverters$MapConverter.convert(ObjectInspectorConverters.java:539)
	at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorConverters$StructConverter.convert(ObjectInspectorConverters.java:395)
	at org.apache.hadoop.hive.ql.exec.MapOperator$MapOpCtx.readRow(MapOperator.java:154)
	at org.apache.hadoop.hive.ql.exec.MapOperator$MapOpCtx.access$200(MapOperator.java:127)
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:518)
	... 9 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/hive/blob/master/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java#L466&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/master/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java#L466&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829405">HIVE-10697</key>
            <summary>ObjectInspectorConvertors#UnionConvertor does a faulty conversion</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="swarnim">Swarnim Kulkarni</assignee>
                                    <reporter username="swarnim">Swarnim Kulkarni</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 May 2015 00:30:10 +0000</created>
                <updated>Tue, 12 Sep 2017 16:40:06 +0000</updated>
                            <resolved>Wed, 19 Aug 2015 17:27:18 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14542178" author="swarnim" created="Wed, 13 May 2015 16:19:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;Hari Sankar Sivarama Subramaniyan&lt;/a&gt; Seems like this UnionConvertor was added as a part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5202&quot; title=&quot;Support for SettableUnionObjectInspector and implement isSettable/hasAllFieldsSettable APIs for all data types.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5202&quot;&gt;&lt;del&gt;HIVE-5202&lt;/del&gt;&lt;/a&gt;. Could you please help me understand why are we doing a conversion from one objectinspector to another in this code?&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; Aren&apos;t the ObjectinspectorConvertors supposed to be used to convert from one object to another given the two OIs and not the OIs themselves?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/hive/blob/master/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java#L466&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/master/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorConverters.java#L466&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14542182" author="swarnim" created="Wed, 13 May 2015 16:22:04 +0000"  >&lt;p&gt;Also seems like we have unit tests missing for the UnionConverter as well that should be added as a part of this JIRA.&lt;/p&gt;</comment>
                            <comment id="14542504" author="hsubramaniyan" created="Wed, 13 May 2015 19:19:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; You are right regarding the fact that ObjectinspectorConvertors are supposed to be used to convert from one object to another given the two OIs and not the OIs themselves. The below line needs to be modified to change fieldConverters.get(f).convert(inputOI) to fieldConverters.get(f).convert(input)  :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; convert(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; input) {
.....
      &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; f = 0; f &amp;lt; minFields; f++) {
        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; outputFieldValue = fieldConverters.get(f).convert(inputOI);
 ....
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;
</comment>
                            <comment id="14546401" author="swarnim" created="Fri, 15 May 2015 23:55:44 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;Hari Sankar Sivarama Subramaniyan&lt;/a&gt;. Looks like I am still running into this after that:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.ClassCastException: org.apache.hadoop.hive.serde2.objectinspector.StandardUnionObjectInspector$StandardUnion cannot be cast to java.lang.Integer
	at org.apache.hadoop.hive.serde2.objectinspector.primitive.JavaIntObjectInspector.get(JavaIntObjectInspector.java:40)
	at org.apache.hadoop.hive.serde2.objectinspector.primitive.PrimitiveObjectInspectorUtils.getString(PrimitiveObjectInspectorUtils.java:810)
	at org.apache.hadoop.hive.serde2.objectinspector.primitive.PrimitiveObjectInspectorConverter$StringConverter.convert(PrimitiveObjectInspectorConverter.java:446)
	at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorConverters$UnionConverter.convert(ObjectInspectorConverters.java:484)
	at org.apache.hadoop.hive.serde2.objectinspector.TestObjectInspectorConverters.testObjectInspectorConverters(TestObjectInspectorConverters.java:201)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:255)
	at junit.framework.TestSuite.run(TestSuite.java:250)
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:84)
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:675)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14549317" author="hsubramaniyan" created="Mon, 18 May 2015 21:57:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; Thanks for getting back on this, can you please provide the test case you are trying. It looks like the current code is faulty as you pointed out initially and will require modification. &lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14636730" author="hjarraya" created="Wed, 22 Jul 2015 11:16:42 +0000"  >&lt;p&gt;Hi, &lt;/p&gt;

&lt;p&gt;We are facing similar issue, is there a workaround?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Haithem&lt;/p&gt;</comment>
                            <comment id="14700681" author="swarnim" created="Tue, 18 Aug 2015 03:36:37 +0000"  >&lt;p&gt;Patch attached.&lt;/p&gt;</comment>
                            <comment id="14700682" author="swarnim" created="Tue, 18 Aug 2015 03:36:52 +0000"  >&lt;p&gt;RB: &lt;a href=&quot;https://reviews.apache.org/r/37563/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/37563/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14700683" author="swarnim" created="Tue, 18 Aug 2015 03:37:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;Hari Sankar Sivarama Subramaniyan&lt;/a&gt; Would you mind reviewing the patch?&lt;/p&gt;</comment>
                            <comment id="14700881" author="hiveqa" created="Tue, 18 Aug 2015 07:58:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12750955/HIVE-10697.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12750955/HIVE-10697.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 9370 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4993/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4993/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4993/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4993/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4993/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4993/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12750955 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14701706" author="hsubramaniyan" created="Tue, 18 Aug 2015 18:08:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; Thanks for the patch, the patch looks good overall. There a few comments I have added in the review. Can you please take a look at it.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14701937" author="swarnim" created="Tue, 18 Aug 2015 20:31:56 +0000"  >&lt;p&gt;Thanks for the review &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;Hari Sankar Sivarama Subramaniyan&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Addressed the comments and updated the patch.&lt;/p&gt;</comment>
                            <comment id="14701938" author="swarnim" created="Tue, 18 Aug 2015 20:32:18 +0000"  >&lt;p&gt;The RB has been updated too.&lt;/p&gt;</comment>
                            <comment id="14701942" author="hsubramaniyan" created="Tue, 18 Aug 2015 20:34:28 +0000"  >&lt;p&gt;+1 pending unit test runs on patch#2.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14702798" author="hiveqa" created="Wed, 19 Aug 2015 10:06:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12751109/HIVE-10697.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12751109/HIVE-10697.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 9370 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5007/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5007/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5007/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5007/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5007/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5007/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12751109 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14703407" author="hsubramaniyan" created="Wed, 19 Aug 2015 17:27:18 +0000"  >&lt;p&gt;Committed to master, branch-1. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt; for the fix.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12666789">HIVE-5202</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12750955" name="HIVE-10697.1.patch.txt" size="8254" author="swarnim" created="Tue, 18 Aug 2015 03:36:37 +0000"/>
                            <attachment id="12751109" name="HIVE-10697.2.patch.txt" size="10177" author="swarnim" created="Tue, 18 Aug 2015 20:31:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 May 2015 19:19:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2enlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10698] query on view results fails with table not found error if view is created with subquery alias (CTE).</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10698</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;To reproduce it, &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;use bugtest;
create table basetb(id &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;, name string);
create view testv1 as
with subtb as (select id, name from bugtest.basetb)
select id from subtb;
use castest;
explain select * from bugtest.testv1;
hive&amp;gt; explain select * from bugtest.testv1;
FAILED: SemanticException Line 2:15 Table not found &lt;span class=&quot;code-quote&quot;&gt;&apos;subtb&apos;&lt;/span&gt; in definition of VIEW testv1 [
with subtb as (select id, name from bugtest.basetb)
select id from `bugtest`.`subtb`
] used as testv1 at Line 1:22
Note that there is a database prefix `bugtest`.`subtb`
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12829636">HIVE-10698</key>
            <summary>query on view results fails with table not found error if view is created with subquery alias (CTE).</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pxiong">Pengcheng Xiong</assignee>
                                    <reporter username="pxiong">Pengcheng Xiong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 May 2015 18:24:53 +0000</created>
                <updated>Thu, 17 Nov 2016 17:41:06 +0000</updated>
                            <resolved>Sun, 31 May 2015 07:53:24 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Query Planning</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14544177" author="pxiong" created="Thu, 14 May 2015 18:40:16 +0000"  >&lt;p&gt;According to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt;&apos;s comments, add the following things to do&lt;/p&gt;

&lt;p&gt;1. When a fully qualified identifier (db.tablename) is specified in the from clause we seems to resolve it against CTE aliases. This is wrong if table doesn&apos;t exist in catalog then we should fail.&lt;br/&gt;
2. If fully qualified name is not used in the from clause then &lt;br/&gt;
a) we should first resolve the identifier against CTE aliases &lt;br/&gt;
b) if identifier is not found in the CTE list then try to resolve against catalog.&lt;br/&gt;
3) Views: in unparsetranslator we treat CTE name as catalog table; this is a bug.&lt;/p&gt;</comment>
                            <comment id="14544679" author="pxiong" created="Fri, 15 May 2015 00:37:04 +0000"  >&lt;p&gt;We will address this in this patch, i.e., when there is an alias in CTE and catalog, we prefer CTE.&lt;/p&gt;</comment>
                            <comment id="14544865" author="pxiong" created="Fri, 15 May 2015 03:42:20 +0000"  >&lt;p&gt;first patch, may need to update q files.&lt;/p&gt;</comment>
                            <comment id="14545182" author="hiveqa" created="Fri, 15 May 2015 08:59:26 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733058/HIVE-10698.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733058/HIVE-10698.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 8940 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbortAndCommit
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3905/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3905/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3905/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3905/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3905/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3905/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733058 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14545781" author="pxiong" created="Fri, 15 May 2015 16:54:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt;, the failed tests are unrelated. It seems that the patch passes all the CTE tests in cte_1.q, cte_2.q, cbo_views.q and also two negative tests. Could you recommend some more tests? Thanks.&lt;/p&gt;</comment>
                            <comment id="14563390" author="pxiong" created="Thu, 28 May 2015 18:12:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, could you please review it? Thanks.&lt;/p&gt;</comment>
                            <comment id="14564028" author="ashutoshc" created="Fri, 29 May 2015 01:07:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14566418" author="ashutoshc" created="Sun, 31 May 2015 07:53:24 +0000"  >&lt;p&gt;Pushed to master. Thanks, Pengcheng!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12861691">HIVE-11728</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12780502">HIVE-9897</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13021529">HIVE-15231</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12780502">HIVE-9897</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12733058" name="HIVE-10698.01.patch" size="14756" author="pxiong" created="Fri, 15 May 2015 03:42:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 May 2015 08:59:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eoz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10699] Query resultset metadata show wrong column name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10699</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;select c1 from table1&lt;br/&gt;
resultset metadata show getColumnName = &quot;c1&quot;&lt;/p&gt;

&lt;p&gt;however,&lt;br/&gt;
select * from table1&lt;br/&gt;
resultset metadata show getColumnName = &quot;table1.c1&quot;.&lt;br/&gt;
getColumnName should be &quot;c1&quot;,&lt;br/&gt;
table name can be show in getTableName column.&lt;/p&gt;

&lt;p&gt;The problem not seen in hive 0.12.&lt;br/&gt;
Thanks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829639">HIVE-10699</key>
            <summary>Query resultset metadata show wrong column name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tracyy">Tracy Y</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 May 2015 18:29:40 +0000</created>
                <updated>Tue, 22 Dec 2015 11:39:38 +0000</updated>
                                            <version>0.13.0</version>
                    <version>0.14.0</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14597043" author="jason.louer@gmail.com" created="Tue, 23 Jun 2015 02:55:21 +0000"  >&lt;p&gt;JDBC convention here is to show the column name without table name or other non-column information. &lt;/p&gt;</comment>
                            <comment id="15067992" author="huang xiaomeng" created="Tue, 22 Dec 2015 11:39:38 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tracyy&quot; class=&quot;user-hover&quot; rel=&quot;tracyy&quot;&gt;Tracy Y&lt;/a&gt;&lt;br/&gt;
try to use &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; set hive.resultset.use.unique.column.names=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;; &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Jun 2015 02:55:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eozr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10700] LLAP: Log additional debug information in the scheduler</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10700</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Temporarily, while we&apos;re debugging issues. Change to the DBEUG log level is too verbose.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829672">HIVE-10700</key>
            <summary>LLAP: Log additional debug information in the scheduler</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12738189">HIVE-7926</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseth">Siddharth Seth</assignee>
                                    <reporter username="sseth">Siddharth Seth</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 May 2015 20:01:49 +0000</created>
                <updated>Wed, 17 Feb 2016 01:33:22 +0000</updated>
                            <resolved>Wed, 13 May 2015 20:03:33 +0000</resolved>
                                                    <fixVersion>llap</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                            <attachment id="12732662" name="HIVE-10700.1.txt" size="3140" author="sseth" created="Wed, 13 May 2015 20:02:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ep6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10701] Escape apostrophe not work properly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10701</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SELECT  &apos;S&apos;&apos;2&apos;  FROM table return S2 instead of S&apos;2&lt;br/&gt;
The apostrophe suppose to be escaped by the single quote in front.  &lt;br/&gt;
Thanks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829678">HIVE-10701</key>
            <summary>Escape apostrophe not work properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tracyy">Tracy Y</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 May 2015 20:31:46 +0000</created>
                <updated>Mon, 7 Nov 2016 14:24:06 +0000</updated>
                                            <version>0.12.0</version>
                    <version>0.13.0</version>
                    <version>0.14.0</version>
                                                    <component>Hive</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15506651" author="mcsanady" created="Tue, 20 Sep 2016 14:10:09 +0000"  >&lt;p&gt;According to &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Types#LanguageManualTypes-string&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Types#LanguageManualTypes-string&lt;/a&gt;&lt;br/&gt;
&quot;Hive uses C-style escaping within the strings.&quot;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;1: jdbc:hive2://&amp;gt; select &apos;s&apos;&apos;2&apos; ;
OK
 +------+
 | _c0  |
 +------+
 | s2   |
 +------+
1 row selected (0.051 seconds)
1: jdbc:hive2://&amp;gt; select &apos;s\&apos;2&apos; ;
OK
 +------+
 | _c0  |
 +------+
 | s&apos;2  |
 +------+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;IMHO the &apos;&apos; is not meant to be an escape-sequence, but two string literals.&lt;/p&gt;</comment>
                            <comment id="15644311" author="mcsanady" created="Mon, 7 Nov 2016 14:24:05 +0000"  >&lt;p&gt;can be closed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Sep 2016 14:10:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ep7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10702] COUNT(*) over windowing &apos;x preceding and y preceding&apos; doesn&apos;t work properly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10702</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Given the following query:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select ts, f, count(*) over (partition by ts order by f rows between 2 preceding and 1 preceding) from over10k limit 100;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It returns the result &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2013-03-01 09:11:58.70307       3.17    0
2013-03-01 09:11:58.70307       10.89   0
2013-03-01 09:11:58.70307       14.54   1
2013-03-01 09:11:58.70307       14.78   1
2013-03-01 09:11:58.70307       17.85   1
2013-03-01 09:11:58.70307       20.61   1
2013-03-01 09:11:58.70307       28.69   1
2013-03-01 09:11:58.70307       29.22   1
2013-03-01 09:11:58.70307       31.17   1
2013-03-01 09:11:58.70307       38.35   1
2013-03-01 09:11:58.70307       38.61   1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mostly it should return count 2 rather than 1.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829690">HIVE-10702</key>
            <summary>COUNT(*) over windowing &apos;x preceding and y preceding&apos; doesn&apos;t work properly</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12826329">HIVE-10555</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aihuaxu">Aihua Xu</assignee>
                                    <reporter username="aihuaxu">Aihua Xu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 May 2015 21:23:22 +0000</created>
                <updated>Tue, 16 Feb 2016 23:50:23 +0000</updated>
                            <resolved>Tue, 26 May 2015 06:25:23 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>PTF-Windowing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14555670" author="hiveqa" created="Fri, 22 May 2015 06:32:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12734646/HIVE-10702.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12734646/HIVE-10702.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8967 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3996/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3996/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3996/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3996/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3996/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3996/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12734646 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14556029" author="aihuaxu" created="Fri, 22 May 2015 11:58:58 +0000"  >&lt;p&gt;The test failure seems not related.&lt;/p&gt;</comment>
                            <comment id="14556031" author="aihuaxu" created="Fri, 22 May 2015 11:59:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; Can you help me review this patch?&lt;/p&gt;</comment>
                            <comment id="14558571" author="ashutoshc" created="Mon, 25 May 2015 23:05:25 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14558729" author="ashutoshc" created="Tue, 26 May 2015 06:25:23 +0000"  >&lt;p&gt;Pushed to master. Thanks, Aihua!&lt;/p&gt;</comment>
                            <comment id="14559118" author="aihuaxu" created="Tue, 26 May 2015 13:52:50 +0000"  >&lt;p&gt;Thanks for reviewing and checkingin, Ashutosh.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12734646" name="HIVE-10702.patch" size="27170" author="aihuaxu" created="Thu, 21 May 2015 21:02:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 May 2015 06:32:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2epaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10703] update sql standard authorization configuration whitelist for 1.0.x , 1.1.x </title>
                <link>https://issues.apache.org/jira/browse/HIVE-10703</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add hive.exec.parallel, hive.groupby.orderby.position.alias and hive.server2.proxy.user to sql standard authorization whitelist.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829727">HIVE-10703</key>
            <summary>update sql standard authorization configuration whitelist for 1.0.x , 1.1.x </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2015 00:20:31 +0000</created>
                <updated>Thu, 14 May 2015 14:39:50 +0000</updated>
                                            <version>0.14.0</version>
                    <version>1.0.0</version>
                    <version>1.1.0</version>
                                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                            <attachment id="12732870" name="HIVE-10703.1-branch-1.0.patch" size="937" author="thejas" created="Thu, 14 May 2015 14:39:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2epif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10704] Errors in Tez HashTableLoader when estimated table size is 0</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10704</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Couple of issues:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;If the table sizes in MapJoinOperator.getParentDataSizes() are 0 for all tables, the largest small table selection is wrong and could select the large table (which results in NPE)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The memory estimates can either divide-by-zero, or allocate 0 memory if the table size is 0. Try to come up with a sensible default for this.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12829745">HIVE-10704</key>
            <summary>Errors in Tez HashTableLoader when estimated table size is 0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdere">Jason Dere</assignee>
                                    <reporter username="jdere">Jason Dere</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2015 01:48:12 +0000</created>
                <updated>Mon, 15 Jun 2015 22:43:04 +0000</updated>
                            <resolved>Mon, 15 Jun 2015 22:43:04 +0000</resolved>
                                                    <fixVersion>1.2.1</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14543210" author="hiveqa" created="Thu, 14 May 2015 05:21:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12732741/HIVE-10704.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12732741/HIVE-10704.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 8920 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCustomAuthentication - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbort
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3886/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3886/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3886/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3886/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3886/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3886/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12732741 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14544766" author="apivovarov" created="Fri, 15 May 2015 01:54:04 +0000"  >&lt;p&gt;you calling &quot;desc.getParentDataSizes().get(pos)&quot; two times...&lt;br/&gt;
Jason, can you &quot;rbt post -g yes&quot; and attach the link?&lt;/p&gt;</comment>
                            <comment id="14546000" author="jdere" created="Fri, 15 May 2015 18:58:25 +0000"  >&lt;p&gt;Patch v2 - removed redundant calls. Also changed the logic so that the memory for all hashtables are computed at the same time. If we have to do the fallback logic for one table, we should probably do it for all tables.&lt;/p&gt;</comment>
                            <comment id="14546017" author="jdere" created="Fri, 15 May 2015 19:09:04 +0000"  >&lt;p&gt;RB link at &lt;a href=&quot;https://reviews.apache.org/r/34287/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/34287/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14546277" author="jdere" created="Fri, 15 May 2015 22:18:10 +0000"  >&lt;p&gt;would like to include to 1.2 branch&lt;/p&gt;</comment>
                            <comment id="14546511" author="hiveqa" created="Sat, 16 May 2015 02:21:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733220/HIVE-10704.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733220/HIVE-10704.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8945 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3913/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3913/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3913/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3913/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3913/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3913/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733220 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14555524" author="mmokhtar" created="Fri, 22 May 2015 03:40:17 +0000"  >&lt;p&gt;Rebase patch on latest. &lt;/p&gt;</comment>
                            <comment id="14555598" author="apivovarov" created="Fri, 22 May 2015 05:23:48 +0000"  >&lt;p&gt;Can you update RB?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ rbt post -g yes -u
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14556604" author="hiveqa" created="Fri, 22 May 2015 18:46:34 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12734732/HIVE-10704.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12734732/HIVE-10704.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8967 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4004/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4004/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4004/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4004/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4004/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4004/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12734732 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14556665" author="mmokhtar" created="Fri, 22 May 2015 19:14:47 +0000"  >&lt;p&gt;Test failures are unrelated.&lt;/p&gt;</comment>
                            <comment id="14560083" author="mmokhtar" created="Tue, 26 May 2015 23:12:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt;&lt;br/&gt;
Ditto for this one. &lt;/p&gt;</comment>
                            <comment id="14560431" author="apivovarov" created="Wed, 27 May 2015 05:24:19 +0000"  >&lt;p&gt;Mostafa, can you check RB link? I&apos;m not sure it shows &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10704&quot; title=&quot;Errors in Tez HashTableLoader when estimated table size is 0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10704&quot;&gt;&lt;del&gt;HIVE-10704&lt;/del&gt;&lt;/a&gt;.3.patch&lt;/p&gt;</comment>
                            <comment id="14560432" author="apivovarov" created="Wed, 27 May 2015 05:24:26 +0000"  >&lt;p&gt;Mostafa, can you check RB link? I&apos;m not sure it shows &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10704&quot; title=&quot;Errors in Tez HashTableLoader when estimated table size is 0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10704&quot;&gt;&lt;del&gt;HIVE-10704&lt;/del&gt;&lt;/a&gt;.3.patch&lt;/p&gt;</comment>
                            <comment id="14560489" author="mmokhtar" created="Wed, 27 May 2015 06:33:51 +0000"  >&lt;p&gt;Done, command line rb was giving me some headache. &lt;/p&gt;</comment>
                            <comment id="14561397" author="apivovarov" created="Wed, 27 May 2015 18:13:05 +0000"  >&lt;p&gt;What is the negative side of dividing memory equally?&lt;br/&gt;
If we have 3 tables  (1KB, 0B, 2MB) how we should divided the memory? (Map&amp;lt;Integer, Long&amp;gt; tableMemorySizes). Is dividing memory equally the best solution?&lt;br/&gt;
Maybe we should treat 0B table as 1B table and give it minimum amount of the memory.&lt;/p&gt;</comment>
                            <comment id="14563841" author="mmokhtar" created="Thu, 28 May 2015 23:01:57 +0000"  >&lt;p&gt;Table size of 0 is usually an error in the statistics and the actual table can be arbitrary big, so evenly dividing the memory is a much safer bet.&lt;br/&gt;
And in the case you mentioned above each hash table will get hive.auto.convert.join.noconditionaltask.size / 3.&lt;br/&gt;
By default this is Container size/3 which is more than enough for smaller tables. &lt;/p&gt;</comment>
                            <comment id="14563842" author="mmokhtar" created="Thu, 28 May 2015 23:02:00 +0000"  >&lt;p&gt;Table size of 0 is usually an error in the statistics and the actual table can be arbitrary big, so evenly dividing the memory is a much safer bet.&lt;br/&gt;
And in the case you mentioned above each hash table will get hive.auto.convert.join.noconditionaltask.size / 3.&lt;br/&gt;
By default this is Container size/3 which is more than enough for smaller tables. &lt;/p&gt;</comment>
                            <comment id="14565796" author="mmokhtar" created="Sat, 30 May 2015 02:36:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt;&lt;br/&gt;
Any updates?&lt;/p&gt;</comment>
                            <comment id="14568289" author="mmokhtar" created="Tue, 2 Jun 2015 00:28:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt;&lt;br/&gt;
Ping. &lt;/p&gt;</comment>
                            <comment id="14580806" author="mmokhtar" created="Wed, 10 Jun 2015 17:01:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt;&lt;br/&gt;
Do you have any more comments?&lt;/p&gt;</comment>
                            <comment id="14581360" author="apivovarov" created="Thu, 11 Jun 2015 02:37:01 +0000"  >&lt;p&gt;I put my comment on RB on May 30, 2015&lt;/p&gt;</comment>
                            <comment id="14581361" author="apivovarov" created="Thu, 11 Jun 2015 02:37:35 +0000"  >&lt;p&gt;I put my comment on RB on May 30, 2015&lt;/p&gt;</comment>
                            <comment id="14582700" author="mmokhtar" created="Thu, 11 Jun 2015 23:52:45 +0000"  >&lt;p&gt;Replied to your comments. &lt;/p&gt;</comment>
                            <comment id="14582813" author="apivovarov" created="Fri, 12 Jun 2015 01:53:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14587066" author="jdere" created="Mon, 15 Jun 2015 22:43:04 +0000"  >&lt;p&gt;Committed to master/branch-1/branch-1.2&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12732741" name="HIVE-10704.1.patch" size="3490" author="jdere" created="Thu, 14 May 2015 01:49:05 +0000"/>
                            <attachment id="12733220" name="HIVE-10704.2.patch" size="5033" author="jdere" created="Fri, 15 May 2015 18:58:25 +0000"/>
                            <attachment id="12734732" name="HIVE-10704.3.patch" size="5025" author="mmokhtar" created="Fri, 22 May 2015 03:40:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 May 2015 05:21:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2epmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10705] Update tests for HIVE-9302 after removing binaries</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10705</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12829751">HIVE-10705</key>
            <summary>Update tests for HIVE-9302 after removing binaries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Ferd">Ferdinand Xu</assignee>
                                    <reporter username="Ferd">Ferdinand Xu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2015 02:13:07 +0000</created>
                <updated>Tue, 16 Feb 2016 23:52:41 +0000</updated>
                            <resolved>Thu, 4 Jun 2015 01:07:31 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14568215" author="vgumashta" created="Mon, 1 Jun 2015 23:19:45 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt;, was wondering if you plan to work on this. It&apos;ll be good to put the fix in 1.2.1 - the absence of the 2 jars (DummyDriver-1.0-SNAPSHOT.jar, postgresql-9.3.jdbc3.jar) raises a false alarm in TestBeelineArgParsing.&lt;/p&gt;</comment>
                            <comment id="14568321" author="ferd" created="Tue, 2 Jun 2015 00:54:57 +0000"  >&lt;p&gt;Sure, I will work on this issue today.&lt;/p&gt;</comment>
                            <comment id="14568461" author="ferd" created="Tue, 2 Jun 2015 03:42:12 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;Hari Sankar Sivarama Subramaniyan&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt;, do you have some time reviewing this patch? Thank you!&lt;/p&gt;</comment>
                            <comment id="14568830" author="hiveqa" created="Tue, 2 Jun 2015 09:27:39 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12736739/HIVE-10705.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12736739/HIVE-10705.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 8995 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCustomAuthentication - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_histogram_numeric
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4141/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4141/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4141/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4141/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4141/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4141/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12736739 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14569763" author="hsubramaniyan" created="Tue, 2 Jun 2015 21:03:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt; I have a comment in RB. &lt;br/&gt;
Thanks, &lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14570192" author="ferd" created="Wed, 3 Jun 2015 02:53:26 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;Hari Sankar Sivarama Subramaniyan&lt;/a&gt; for your review. Update patch addressing your comments.&lt;/p&gt;</comment>
                            <comment id="14570193" author="hsubramaniyan" created="Wed, 3 Jun 2015 02:54:50 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14570264" author="hiveqa" created="Wed, 3 Jun 2015 04:31:46 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12737072/HIVE-10705.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12737072/HIVE-10705.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 8969 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_autogen_colalias
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_nondeterministic
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_2
org.apache.hive.beeline.TestBeelineArgParsing.initializationError
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4151/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4151/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4151/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4151/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4151/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4151/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12737072 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14570285" author="ferd" created="Wed, 3 Jun 2015 05:05:12 +0000"  >&lt;p&gt;This patch is used for committing to the master.&lt;/p&gt;</comment>
                            <comment id="14570517" author="hiveqa" created="Wed, 3 Jun 2015 09:10:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12737086/HIVE-10705.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12737086/HIVE-10705.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 8992 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_autogen_colalias
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_histogram_numeric
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_nondeterministic
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4154/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4154/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4154/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4154/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4154/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4154/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12737086 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14571934" author="ferd" created="Thu, 4 Jun 2015 01:07:31 +0000"  >&lt;p&gt;Committed to the master. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;Hari Sankar Sivarama Subramaniyan&lt;/a&gt; for your review.&lt;/p&gt;</comment>
                            <comment id="14572330" author="lefty@hortonworks.com" created="Thu, 4 Jun 2015 07:53:51 +0000"  >&lt;p&gt;Fix version 1.2.1 or 1.3.0?&lt;/p&gt;

&lt;p&gt;The only commit I&apos;ve found is to master (commit aec98e9f1b9d3bd0926b0b84c6ed49bbe494667a).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12828984">HIVE-10674</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12838763">HIVE-11041</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12736739" name="HIVE-10705.1.patch" size="12138" author="Ferd" created="Tue, 2 Jun 2015 05:14:44 +0000"/>
                            <attachment id="12737072" name="HIVE-10705.2.patch" size="11712" author="Ferd" created="Wed, 3 Jun 2015 02:53:26 +0000"/>
                            <attachment id="12737086" name="HIVE-10705.3.patch" size="12234" author="Ferd" created="Wed, 3 Jun 2015 05:05:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 1 Jun 2015 23:19:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2epnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10706] Make vectorized_timestamp_funcs test more stable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10706</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;TestCliDriver.testCliDriver_vectorized_timestamp_funcs failed recently&lt;br/&gt;
The problem is Double to Double numbers comparison without delta.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Running: diff -a /home/hiveptest/54.196.24.219-hiveptest-1/apache-github-source-source/itests/qtest/../../itests/qtest/target/qfile-results/clientpositive/vectorized_timestamp_funcs.q.out /home/hiveptest/54.196.24.219-hiveptest-1/apache-github-source-source/itests/qtest/../../ql/src/test/results/clientpositive/vectorized_timestamp_funcs.q.out
729c729
&amp;lt; 1123143.8570000003
---
&amp;gt; 1123143.8569999998
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I also noticed that last query results are different among TestCliDriver and TestSparkCliDriver tests  (last line in vectorized_timestamp_funcs.q.out)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-- regular
2.8798560435897438E13	8.970772952794212E19	8.970772952794212E19	9.206845925236166E19	9.471416447815084E9	9.471416447815084E9	9.471416447815084E9	9.595231068211002E9

-- spark
2.8798560435897438E13	8.970772952794214E19	8.970772952794214E19	9.206845925236167E19	9.471416447815086E9	9.471416447815086E9	9.471416447815086E9	9.595231068211004E9

-- tez
2.8798560435897438E13	8.970772952794212E19	8.970772952794212E19	9.206845925236166E19	9.471416447815084E9	9.471416447815084E9	9.471416447815084E9	9.595231068211002E9
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12829777">HIVE-10706</key>
            <summary>Make vectorized_timestamp_funcs test more stable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apivovarov">Alexander Pivovarov</assignee>
                                    <reporter username="apivovarov">Alexander Pivovarov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2015 04:40:12 +0000</created>
                <updated>Tue, 16 Feb 2016 23:51:07 +0000</updated>
                            <resolved>Wed, 20 May 2015 06:19:38 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>UDF</component>
                    <component>Vectorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14543276" author="apivovarov" created="Thu, 14 May 2015 06:29:13 +0000"  >&lt;p&gt;patch #1&lt;/p&gt;</comment>
                            <comment id="14543281" author="apivovarov" created="Thu, 14 May 2015 06:33:09 +0000"  >&lt;p&gt;depending on how big the number n is I use different options:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;for E9 and smaller I use round(n, 3)&lt;/li&gt;
	&lt;li&gt;for E13 - round(n, 0)&lt;/li&gt;
	&lt;li&gt;for E19 - n between x and y&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14543496" author="hiveqa" created="Thu, 14 May 2015 11:24:05 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12732789/HIVE-10706.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12732789/HIVE-10706.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 8921 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchEmptyCommit
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3890/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3890/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3890/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3890/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3890/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3890/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12732789 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14549305" author="jdere" created="Mon, 18 May 2015 21:52:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14551890" author="apivovarov" created="Wed, 20 May 2015 06:19:38 +0000"  >&lt;p&gt;Committed to master. Thank you Jason for your review!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12743053">HIVE-8211</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12732789" name="HIVE-10706.1.patch" size="25342" author="apivovarov" created="Thu, 14 May 2015 06:29:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 May 2015 11:24:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eptj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10707] CBO: debug logging OOMs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10707</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; source xcross.sql;
OK
Time taken: 0.837 seconds
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.OutOfMemoryError: Java heap space
        at java.util.Arrays.copyOf(Arrays.java:3332)
        at java.lang.AbstractStringBuilder.expandCapacity(AbstractStringBuilder.java:137)
        at java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:121)
        at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:421)
        at java.lang.StringBuilder.append(StringBuilder.java:136)
        at org.apache.hadoop.hive.ql.parse.ASTNode.dump(ASTNode.java:111)
        at org.apache.hadoop.hive.ql.parse.ASTNode.dump(ASTNode.java:119)
        at org.apache.hadoop.hive.ql.parse.ASTNode.dump(ASTNode.java:119)
        at org.apache.hadoop.hive.ql.parse.ASTNode.dump(ASTNode.java:119)
        at org.apache.hadoop.hive.ql.parse.ASTNode.dump(ASTNode.java:119)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The query contains 360 join clauses, wrapped in a UNION ALL.&lt;/p&gt;

&lt;p&gt;Looks like &lt;tt&gt;genOpTree&lt;/tt&gt; does &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;          &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.ctx.setCboInfo(&lt;span class=&quot;code-quote&quot;&gt;&quot;Plan optimized by CBO.&quot;&lt;/span&gt;);
          &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.ctx.setCboSucceeded(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
          LOG.debug(newAST.dump());
          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the debug logging OOMs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829788">HIVE-10707</key>
            <summary>CBO: debug logging OOMs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gopalv">Gopal V</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2015 06:18:58 +0000</created>
                <updated>Tue, 16 Feb 2016 23:51:11 +0000</updated>
                            <resolved>Mon, 22 Jun 2015 19:31:25 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>CBO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14589266" author="gopalv" created="Wed, 17 Jun 2015 04:15:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt;: trivial logging issue in CBO&lt;/p&gt;</comment>
                            <comment id="14589555" author="hiveqa" created="Wed, 17 Jun 2015 09:46:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12740033/HIVE-10707.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12740033/HIVE-10707.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 9008 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4284/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4284/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4284/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4284/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4284/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4284/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12740033 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14590787" author="hagleitn" created="Wed, 17 Jun 2015 22:55:10 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12740033" name="HIVE-10707.1.patch" size="824" author="gopalv" created="Wed, 17 Jun 2015 04:14:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Jun 2015 09:46:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 31 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2epvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>CBO: dump AST only when in DEBUG mode.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10708] Add SchemaCompatibility check to AvroDeserializer</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10708</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Avro provides a nice API&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; to check if the given reader schema can be used to deserialize the data given its writer schema. I think it would be super nice to integrate this into the AvroDeserializer so that we can fail fast and gracefully if there is a bad schema compatibility&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://avro.apache.org/docs/1.7.7/api/java/org/apache/avro/SchemaCompatibility.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://avro.apache.org/docs/1.7.7/api/java/org/apache/avro/SchemaCompatibility.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829898">HIVE-10708</key>
            <summary>Add SchemaCompatibility check to AvroDeserializer</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="swarnim">Swarnim Kulkarni</assignee>
                                    <reporter username="swarnim">Swarnim Kulkarni</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2015 16:24:08 +0000</created>
                <updated>Thu, 10 Sep 2015 04:18:58 +0000</updated>
                                                                            <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14736147" author="swarnim" created="Wed, 9 Sep 2015 04:32:23 +0000"  >&lt;p&gt;Decided to add a simple flag to turn this compatibility check on. Keeping this flag off by default for backwards compatibility.&lt;/p&gt;</comment>
                            <comment id="14736149" author="swarnim" created="Wed, 9 Sep 2015 04:33:00 +0000"  >&lt;p&gt;Patch attached.&lt;/p&gt;</comment>
                            <comment id="14736153" author="swarnim" created="Wed, 9 Sep 2015 04:39:37 +0000"  >&lt;p&gt;RB: &lt;a href=&quot;https://reviews.apache.org/r/38203/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/38203/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14738123" author="hiveqa" created="Thu, 10 Sep 2015 04:11:54 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12754816/HIVE-10708.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12754816/HIVE-10708.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 15 failed/errored test(s), 9424 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby8
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join35
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_load_dyn_part2
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_metadata_only_queries
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_optimize_nullscan
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_parquet_join
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_skewjoinopt15
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_smb_mapjoin_17
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_stats_noscan_2
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_timestamp_2
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_timestamp_udf
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_udf_percentile
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vector_distinct_2
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vector_orderby_5
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5217/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5217/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5217/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5217/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5217/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5217/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 15 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12754816 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14738132" author="swarnim" created="Thu, 10 Sep 2015 04:18:58 +0000"  >&lt;p&gt;Test failures seem unrelated to this patch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12754816" name="HIVE-10708.1.patch.txt" size="13733" author="swarnim" created="Wed, 9 Sep 2015 04:33:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Sep 2015 04:11:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eqkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10709] Update Avro version to 1.7.7</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10709</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We should update the avro version to 1.7.7 to consumer some of the nicer compatibility features.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829900">HIVE-10709</key>
            <summary>Update Avro version to 1.7.7</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="swarnim">Swarnim Kulkarni</assignee>
                                    <reporter username="swarnim">Swarnim Kulkarni</reporter>
                        <labels>
                            <label>Avro</label>
                    </labels>
                <created>Thu, 14 May 2015 16:25:24 +0000</created>
                <updated>Tue, 16 Feb 2016 23:53:09 +0000</updated>
                            <resolved>Wed, 20 May 2015 16:01:36 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14543969" author="swarnim" created="Thu, 14 May 2015 16:36:09 +0000"  >&lt;p&gt;Patch up for review.&lt;/p&gt;</comment>
                            <comment id="14544087" author="hiveqa" created="Thu, 14 May 2015 17:40:54 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12732893/HIVE-10709.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12732893/HIVE-10709.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3893/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3893/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3893/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3893/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3893/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3893/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-3893/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
From https://github.com/apache/hive
   05a3d2a..bc0138c  master     -&amp;gt; origin/master
+ git reset --hard HEAD
HEAD is now at 05a3d2a HIVE-10636 : CASE comparison operator rotation optimization (Ashutosh Chauhan via Gopal V)
+ git clean -f -d
Removing beeline/src/java/org/apache/hive/beeline/cli/
Removing beeline/src/test/org/apache/hive/beeline/cli/
Removing beeline/src/test/resources/hive-site.xml
+ git checkout master
Already on &apos;master&apos;
Your branch is behind &apos;origin/master&apos; by 1 commit, and can be fast-forwarded.
+ git reset --hard origin/master
HEAD is now at bc0138c HIVE-10630:Renaming tables across encryption zones renames table even though the operation throws error (Eugene Koifman, reviewed by Sergio Pena and Ashutosh Chauhan)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12732893 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14544491" author="swarnim" created="Thu, 14 May 2015 22:31:56 +0000"  >&lt;p&gt;Update with new patch. Currently a blocker for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10708&quot; title=&quot;Add SchemaCompatibility check to AvroDeserializer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10708&quot;&gt;HIVE-10708&lt;/a&gt; to be done.&lt;/p&gt;</comment>
                            <comment id="14544496" author="swarnim" created="Thu, 14 May 2015 22:33:32 +0000"  >&lt;p&gt;RB: &lt;a href=&quot;https://reviews.apache.org/r/34238/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/34238/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14544701" author="ferd" created="Fri, 15 May 2015 01:00:55 +0000"  >&lt;p&gt;+1 pending the test&lt;/p&gt;</comment>
                            <comment id="14544818" author="hiveqa" created="Fri, 15 May 2015 02:46:29 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12732985/HIVE-10709.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12732985/HIVE-10709.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3899/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3899/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3899/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3899/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3899/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3899/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
222/339 KB   
226/339 KB   
230/339 KB   
234/339 KB   
238/339 KB   
242/339 KB   
246/339 KB   
250/339 KB   
254/339 KB   
258/339 KB   
262/339 KB   
266/339 KB   
270/339 KB   
274/339 KB   
278/339 KB   
282/339 KB   
286/339 KB   
290/339 KB   
294/339 KB   
298/339 KB   
302/339 KB   
306/339 KB   
310/339 KB   
314/339 KB   
318/339 KB   
322/339 KB   
326/339 KB   
330/339 KB   
334/339 KB   
338/339 KB   
339/339 KB   
             
Downloaded: http://repo.maven.apache.org/maven2/org/apache/avro/avro-ipc/1.7.7/avro-ipc-1.7.7-tests.jar (339 KB at 927.3 KB/sec)
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-exec ---
[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/ql/target
[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/ql (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-no-snapshots) @ hive-exec ---
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (generate-sources) @ hive-exec ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/ql/target/generated-sources/java/org/apache/hadoop/hive/ql/exec/vector/expressions/gen
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/ql/target/generated-sources/java/org/apache/hadoop/hive/ql/exec/vector/expressions/aggregates/gen
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/ql/target/generated-test-sources/java/org/apache/hadoop/hive/ql/exec/vector/expressions/gen
Generating vector expression code
Generating vector expression test code
[INFO] Executed tasks
[INFO] 
[INFO] --- build-helper-maven-plugin:1.8:add-source (add-source) @ hive-exec ---
[INFO] Source directory: /data/hive-ptest/working/apache-github-source-source/ql/src/gen/protobuf/gen-java added.
[INFO] Source directory: /data/hive-ptest/working/apache-github-source-source/ql/src/gen/thrift/gen-javabean added.
[INFO] Source directory: /data/hive-ptest/working/apache-github-source-source/ql/target/generated-sources/java added.
[INFO] 
[INFO] --- antlr3-maven-plugin:3.4:antlr (default) @ hive-exec ---
[INFO] ANTLR: Processing source directory /data/hive-ptest/working/apache-github-source-source/ql/src/java
ANTLR Parser Generator  Version 3.4
org/apache/hadoop/hive/ql/parse/HiveLexer.g
org/apache/hadoop/hive/ql/parse/HiveParser.g
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_ORDER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_GROUP KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_CLUSTER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_MAP&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_SELECT&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_MAP LPAREN&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_REDUCE&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_LATERAL KW_VIEW&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_SORT KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_INSERT KW_INTO&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_ALL&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_FROM&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_INSERT KW_OVERWRITE&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_DISTRIBUTE KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-exec ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-exec ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-exec ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ hive-exec ---
[INFO] Compiling 2380 source files to /data/hive-ptest/working/apache-github-source-source/ql/target/classes
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroContainerOutputFormat.java:[22,0] error: cannot find symbol
[ERROR] 
    T extends Object declared in class AvroOutputFormat
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroContainerOutputFormat.java:[71,52] error: cannot find symbol
[INFO] 2 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [11.227s]
[INFO] Hive Shims Common ................................. SUCCESS [13.070s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [3.100s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [12.668s]
[INFO] Hive Shims Scheduler .............................. SUCCESS [2.240s]
[INFO] Hive Shims ........................................ SUCCESS [2.222s]
[INFO] Hive Common ....................................... SUCCESS [15.595s]
[INFO] Hive Serde ........................................ SUCCESS [17.301s]
[INFO] Hive Metastore .................................... SUCCESS [38.137s]
[INFO] Hive Ant Utilities ................................ SUCCESS [2.267s]
[INFO] Spark Remote Client ............................... SUCCESS [23.269s]
[INFO] Hive Query Language ............................... FAILURE [1:25.843s]
[INFO] Hive Service ...................................... SKIPPED
[INFO] Hive Accumulo Handler ............................. SKIPPED
[INFO] Hive JDBC ......................................... SKIPPED
[INFO] Hive Beeline ...................................... SKIPPED
[INFO] Hive CLI .......................................... SKIPPED
[INFO] Hive Contrib ...................................... SKIPPED
[INFO] Hive HBase Handler ................................ SKIPPED
[INFO] Hive HCatalog ..................................... SKIPPED
[INFO] Hive HCatalog Core ................................ SKIPPED
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog Streaming ........................... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3:49.747s
[INFO] Finished at: Thu May 14 22:46:27 EDT 2015
[INFO] Final Memory: 105M/790M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project hive-exec: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroContainerOutputFormat.java:[22,0] error: cannot find symbol
[ERROR] 
[ERROR] T extends Object declared in class AvroOutputFormat
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroContainerOutputFormat.java:[71,52] error: cannot find symbol
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-exec
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12732985 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14546018" author="apivovarov" created="Fri, 15 May 2015 19:09:39 +0000"  >&lt;p&gt;hadoop-project has avro 1.7.4 dependency&lt;br/&gt;
hive has avro 1.7.5 dependency.&lt;br/&gt;
So, avro versions are already different in hadoop and hive.&lt;br/&gt;
I think it&apos;s ok to upgrade hive avro dependency to 1.7.7&lt;br/&gt;
+1&lt;/p&gt;
</comment>
                            <comment id="14547550" author="ferd" created="Mon, 18 May 2015 05:31:53 +0000"  >&lt;p&gt;Upload the patch to trigger the precommit test again&lt;/p&gt;</comment>
                            <comment id="14547573" author="hiveqa" created="Mon, 18 May 2015 06:00:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733450/HIVE-10709.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733450/HIVE-10709.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3927/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3927/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3927/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3927/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3927/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3927/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/spark-client/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/spark-client/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/spark-client/target/tmp/conf
     [copy] Copying 11 files to /data/hive-ptest/working/apache-github-source-source/spark-client/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ spark-client ---
[INFO] Compiling 5 source files to /data/hive-ptest/working/apache-github-source-source/spark-client/target/test-classes
[INFO] 
[INFO] --- maven-dependency-plugin:2.8:copy (copy-guava-14) @ spark-client ---
[INFO] Configured Artifact: com.google.guava:guava:14.0.1:jar
[INFO] Copying guava-14.0.1.jar to /data/hive-ptest/working/apache-github-source-source/spark-client/target/dependency/guava-14.0.1.jar
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ spark-client ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ spark-client ---
[INFO] Building jar: /data/hive-ptest/working/apache-github-source-source/spark-client/target/spark-client-1.3.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ spark-client ---
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ spark-client ---
[INFO] Installing /data/hive-ptest/working/apache-github-source-source/spark-client/target/spark-client-1.3.0-SNAPSHOT.jar to /home/hiveptest/.m2/repository/org/apache/hive/spark-client/1.3.0-SNAPSHOT/spark-client-1.3.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-github-source-source/spark-client/pom.xml to /home/hiveptest/.m2/repository/org/apache/hive/spark-client/1.3.0-SNAPSHOT/spark-client-1.3.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Query Language 1.3.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-exec ---
[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/ql/target
[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/ql (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-no-snapshots) @ hive-exec ---
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (generate-sources) @ hive-exec ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/ql/target/generated-sources/java/org/apache/hadoop/hive/ql/exec/vector/expressions/gen
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/ql/target/generated-sources/java/org/apache/hadoop/hive/ql/exec/vector/expressions/aggregates/gen
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/ql/target/generated-test-sources/java/org/apache/hadoop/hive/ql/exec/vector/expressions/gen
Generating vector expression code
Generating vector expression test code
[INFO] Executed tasks
[INFO] 
[INFO] --- build-helper-maven-plugin:1.8:add-source (add-source) @ hive-exec ---
[INFO] Source directory: /data/hive-ptest/working/apache-github-source-source/ql/src/gen/protobuf/gen-java added.
[INFO] Source directory: /data/hive-ptest/working/apache-github-source-source/ql/src/gen/thrift/gen-javabean added.
[INFO] Source directory: /data/hive-ptest/working/apache-github-source-source/ql/target/generated-sources/java added.
[INFO] 
[INFO] --- antlr3-maven-plugin:3.4:antlr (default) @ hive-exec ---
[INFO] ANTLR: Processing source directory /data/hive-ptest/working/apache-github-source-source/ql/src/java
ANTLR Parser Generator  Version 3.4
org/apache/hadoop/hive/ql/parse/HiveLexer.g
org/apache/hadoop/hive/ql/parse/HiveParser.g
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_ORDER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_GROUP KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_CLUSTER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_MAP&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_SELECT&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_MAP LPAREN&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_REDUCE&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_LATERAL KW_VIEW&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_SORT KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_INSERT KW_INTO&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_ALL&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_FROM&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_INSERT KW_OVERWRITE&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_DISTRIBUTE KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-exec ---
Downloading: http://www.datanucleus.org/downloads/maven2/org/pentaho/pentaho-aggdesigner-algorithm/5.1.5-jhyde/pentaho-aggdesigner-algorithm-5.1.5-jhyde.pom

Downloading: http://repo.maven.apache.org/maven2/org/pentaho/pentaho-aggdesigner-algorithm/5.1.5-jhyde/pentaho-aggdesigner-algorithm-5.1.5-jhyde.pom

[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-exec ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-exec ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ hive-exec ---
[INFO] Compiling 2382 source files to /data/hive-ptest/working/apache-github-source-source/ql/target/classes
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroContainerOutputFormat.java:[22,0] error: cannot find symbol
[ERROR] 
    T extends Object declared in class AvroOutputFormat
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroContainerOutputFormat.java:[71,52] error: cannot find symbol
[INFO] 2 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [14.119s]
[INFO] Hive Shims Common ................................. SUCCESS [13.754s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [3.268s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [11.351s]
[INFO] Hive Shims Scheduler .............................. SUCCESS [2.241s]
[INFO] Hive Shims ........................................ SUCCESS [2.074s]
[INFO] Hive Common ....................................... SUCCESS [15.166s]
[INFO] Hive Serde ........................................ SUCCESS [19.049s]
[INFO] Hive Metastore .................................... SUCCESS [38.823s]
[INFO] Hive Ant Utilities ................................ SUCCESS [2.198s]
[INFO] Spark Remote Client ............................... SUCCESS [20.472s]
[INFO] Hive Query Language ............................... FAILURE [1:18.701s]
[INFO] Hive Service ...................................... SKIPPED
[INFO] Hive Accumulo Handler ............................. SKIPPED
[INFO] Hive JDBC ......................................... SKIPPED
[INFO] Hive Beeline ...................................... SKIPPED
[INFO] Hive CLI .......................................... SKIPPED
[INFO] Hive Contrib ...................................... SKIPPED
[INFO] Hive HBase Handler ................................ SKIPPED
[INFO] Hive HCatalog ..................................... SKIPPED
[INFO] Hive HCatalog Core ................................ SKIPPED
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog Streaming ........................... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3:44.133s
[INFO] Finished at: Mon May 18 02:00:46 EDT 2015
[INFO] Final Memory: 124M/495M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project hive-exec: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroContainerOutputFormat.java:[22,0] error: cannot find symbol
[ERROR] 
[ERROR] T extends Object declared in class AvroOutputFormat
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroContainerOutputFormat.java:[71,52] error: cannot find symbol
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-exec
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733450 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14549794" author="ferd" created="Tue, 19 May 2015 05:11:31 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt;, could you fix the following compile issue? Thank you!&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroContainerOutputFormat.java:[22,0] error: cannot find symbol
[ERROR] 
    T extends Object declared in class AvroOutputFormat
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroContainerOutputFormat.java:[71,52] error: cannot find symbol
[INFO] 2 errors 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14549833" author="swarnim" created="Tue, 19 May 2015 05:52:33 +0000"  >&lt;p&gt;Yes absolutely. Sorry didn&apos;t get a chance to look through this error. I&apos;ll upload one soon.&lt;/p&gt;</comment>
                            <comment id="14549862" author="swarnim" created="Tue, 19 May 2015 06:15:07 +0000"  >&lt;p&gt;Attaching new patch with compilation error fixed.&lt;/p&gt;</comment>
                            <comment id="14550423" author="hiveqa" created="Tue, 19 May 2015 13:22:20 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733725/HIVE-10790.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733725/HIVE-10790.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 8946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_percentile_approx_23
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3944/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3944/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3944/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3944/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3944/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3944/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733725 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14552538" author="ferd" created="Wed, 20 May 2015 16:01:36 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt;, I committed this to the master.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12752126">HIVE-8690</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12732893" name="HIVE-10709.1.patch" size="26966" author="swarnim" created="Thu, 14 May 2015 16:35:11 +0000"/>
                            <attachment id="12733450" name="HIVE-10709.2.patch" size="484" author="Ferd" created="Mon, 18 May 2015 05:31:53 +0000"/>
                            <attachment id="12732985" name="HIVE-10709.2.patch" size="484" author="swarnim" created="Thu, 14 May 2015 22:30:35 +0000"/>
                            <attachment id="12733725" name="HIVE-10790.3.patch" size="1245" author="swarnim" created="Tue, 19 May 2015 06:15:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 May 2015 17:40:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eqkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10710] Delete GenericUDF.getConstantLongValue</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10710</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;GenericUDF.getConstantLongValue has a bug.&lt;br/&gt;
Instead of fixing the bug it was suggested to delete the method because it is not used in hive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829913">HIVE-10710</key>
            <summary>Delete GenericUDF.getConstantLongValue</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apivovarov">Alexander Pivovarov</assignee>
                                    <reporter username="apivovarov">Alexander Pivovarov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2015 17:08:51 +0000</created>
                <updated>Tue, 16 Feb 2016 23:52:17 +0000</updated>
                            <resolved>Mon, 1 Jun 2015 21:38:19 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14544046" author="apivovarov" created="Thu, 14 May 2015 17:15:11 +0000"  >&lt;p&gt;patch #1&lt;/p&gt;</comment>
                            <comment id="14544335" author="hiveqa" created="Thu, 14 May 2015 20:44:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12732902/HIVE-10710.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12732902/HIVE-10710.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 8923 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_percentile_approx_23
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3895/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3895/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3895/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3895/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3895/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3895/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12732902 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14566410" author="ashutoshc" created="Sun, 31 May 2015 07:33:34 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14568067" author="apivovarov" created="Mon, 1 Jun 2015 21:38:19 +0000"  >&lt;p&gt;Committed to master. Thank you Ashutosh for your review!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12826706">HIVE-10580</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12732902" name="HIVE-10710.1.patch" size="1485" author="apivovarov" created="Thu, 14 May 2015 17:15:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 May 2015 20:44:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eqnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10711] Tez HashTableLoader attempts to allocate more memory than available when HIVECONVERTJOINNOCONDITIONALTASKTHRESHOLD exceeds process max mem</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10711</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Tez HashTableLoader bases its memory allocation on HIVECONVERTJOINNOCONDITIONALTASKTHRESHOLD. If this value is largeer than the process max memory then this can result in the HashTableLoader trying to use more memory than available to the process.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829931">HIVE-10711</key>
            <summary>Tez HashTableLoader attempts to allocate more memory than available when HIVECONVERTJOINNOCONDITIONALTASKTHRESHOLD exceeds process max mem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mmokhtar">Mostafa Mokhtar</assignee>
                                    <reporter username="jdere">Jason Dere</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2015 18:30:13 +0000</created>
                <updated>Fri, 5 Jun 2015 20:57:32 +0000</updated>
                            <resolved>Thu, 28 May 2015 06:36:19 +0000</resolved>
                                                    <fixVersion>1.2.1</fixVersion>
                                    <component>Tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14544385" author="jdere" created="Thu, 14 May 2015 21:19:22 +0000"  >&lt;p&gt;On feedback from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmokhtar&quot; class=&quot;user-hover&quot; rel=&quot;mmokhtar&quot;&gt;Mostafa Mokhtar&lt;/a&gt;, changing fallback memory value to a percentage of process max memory rather than the whole value.&lt;/p&gt;</comment>
                            <comment id="14544460" author="hiveqa" created="Thu, 14 May 2015 22:16:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12732916/HIVE-10711.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12732916/HIVE-10711.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 8922 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCustomAuthentication - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3896/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3896/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3896/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3896/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3896/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3896/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12732916 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14544724" author="hiveqa" created="Fri, 15 May 2015 01:19:22 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12732965/HIVE-10711.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12732965/HIVE-10711.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8924 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3898/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3898/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3898/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3898/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3898/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3898/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12732965 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14544755" author="apivovarov" created="Fri, 15 May 2015 01:43:53 +0000"  >&lt;p&gt;Jason, do you think it&apos;s better to add new tez configuration parameter for 0.5?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;noConditionalTaskThreshold = (&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;) (processMaxMemory * 0.5);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14544777" author="jdere" created="Fri, 15 May 2015 02:01:10 +0000"  >&lt;p&gt;Not sure if I want to add yet another config param, especially for a last-ditch fallback which shouldn&apos;t happen if the settings are properly done .. &lt;br/&gt;
We could use HIVEHASHTABLEFOLLOWBYGBYMAXMEMORYUSAGE, which is the more conservative memory usage setting for mapjoins (compared to HIVEHASHTABLEMAXMEMORYUSAGE). Thoughts?&lt;/p&gt;</comment>
                            <comment id="14546007" author="apivovarov" created="Fri, 15 May 2015 19:03:42 +0000"  >&lt;p&gt;1. Lets say noConditionalTaskThreshold is 3990MB and processMaxMemory = 4000MB&lt;br/&gt;
In this case noConditionalTaskThreshold adjustment will be skipped.&lt;/p&gt;

&lt;p&gt;But if we slightly increase noConditionalTaskThreshold to lets say 4010 MB then your code will work and will change noConditionalTaskThreshold to 2000 MB&lt;/p&gt;

&lt;p&gt;20 MB change in noConditionalTaskThreshold makes significant change in final value - 3990 MB vs 2000 MB  (which is a big difference)&lt;/p&gt;

&lt;p&gt;I think that noConditionalTaskThreshold adjustment should adjust noConditionalTaskThreshold to smth which is close to 3990 MB&lt;/p&gt;

&lt;p&gt;This is why I think using HIVEHASHTABLEMAXMEMORYUSAGE=0.9 instead of 0.5 makes sense.&lt;/p&gt;

&lt;p&gt;2. To improve the algo even more we can check if noConditionalTaskThreshold is bigger than 90% of processMaxMemory and adjust it&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (noConditionalTaskThreshold / processMaxMemory &amp;gt; HIVEHASHTABLEMAXMEMORYUSAGE) {
  noConditionalTaskThreshold = processMaxMemory * HIVEHASHTABLEMAXMEMORYUSAGE
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What you think?&lt;/p&gt;</comment>
                            <comment id="14546072" author="jdere" created="Fri, 15 May 2015 19:45:07 +0000"  >&lt;p&gt;In your scenario, the user basically has bad settings - the user has told Hive to use more memory than it has available.&lt;br/&gt;
Since the point of this fix is to prevent the user from hitting out of memory, I think HIVEHASHTABLEFOLLOWBYGBYMAXMEMORYUSAGE is safer. Ideally this isn&apos;t a behavior we want to be relying on for performance. If the user is unhappy with the fact that Hive didn&apos;t use enough memory for hash tables, they can check their logs/settings and realize their settings were bad.&lt;/p&gt;</comment>
                            <comment id="14546137" author="apivovarov" created="Fri, 15 May 2015 20:35:10 +0000"  >&lt;p&gt;Ok the goal is to prevent OOM&lt;br/&gt;
What is the probability of OOM if noConditionalTaskThreshold = 4000MB and processMaxMemory = 4000MB?&lt;br/&gt;
Pretty high.&lt;/p&gt;

&lt;p&gt;This is why I think we need to reduce OOM probability if we see that noConditionalTaskThreshold is very close or even more than processMaxMemory.&lt;/p&gt;</comment>
                            <comment id="14546272" author="jdere" created="Fri, 15 May 2015 22:16:01 +0000"  >&lt;p&gt;That might make sense - anyone else with mapjoin/mem usage want to comment here?&lt;/p&gt;</comment>
                            <comment id="14546280" author="jdere" created="Fri, 15 May 2015 22:21:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt; Would like to include in 1.2 branch&lt;/p&gt;</comment>
                            <comment id="14555521" author="mmokhtar" created="Fri, 22 May 2015 03:31:32 +0000"  >&lt;p&gt;Updated patch based on feedback.&lt;/p&gt;</comment>
                            <comment id="14555585" author="apivovarov" created="Fri, 22 May 2015 05:12:49 +0000"  >&lt;p&gt;1. should we put the following code inside &quot;if&quot; block where hashtableMemoryUsage is actually used&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+    &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; hashtableMemoryUsage = HiveConf.getFloatVar(
+        hconf, HiveConf.ConfVars.HIVEHASHTABLEFOLLOWBYGBYMAXMEMORYUSAGE);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14555591" author="mmokhtar" created="Fri, 22 May 2015 05:18:36 +0000"  >&lt;p&gt;Addressing feedback comments.&lt;/p&gt;</comment>
                            <comment id="14556460" author="hiveqa" created="Fri, 22 May 2015 17:14:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12734743/HIVE-10711.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12734743/HIVE-10711.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 8967 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_partitioned
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4003/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4003/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4003/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4003/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4003/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4003/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12734743 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14556664" author="mmokhtar" created="Fri, 22 May 2015 19:14:42 +0000"  >&lt;p&gt;Test failures are unrelated.&lt;/p&gt;</comment>
                            <comment id="14559618" author="mmokhtar" created="Tue, 26 May 2015 18:52:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt;&lt;br/&gt;
do you have anymore feedback?&lt;/p&gt;</comment>
                            <comment id="14559667" author="apivovarov" created="Tue, 26 May 2015 19:20:14 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14559699" author="mmokhtar" created="Tue, 26 May 2015 19:34:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt; FYI &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt;&lt;br/&gt;
Can you please commit the change to 1.2.1?&lt;/p&gt;</comment>
                            <comment id="14559729" author="apivovarov" created="Tue, 26 May 2015 19:48:29 +0000"  >&lt;p&gt;Mostafa, lets wait 24 hours before commit. Just to clarify. Do you want me to commit it to master and then do hotfix (cherry-pick) from master to branch-1.2?&lt;/p&gt;</comment>
                            <comment id="14559731" author="mmokhtar" created="Tue, 26 May 2015 19:51:24 +0000"  >&lt;p&gt;Yes, please.&lt;/p&gt;
</comment>
                            <comment id="14559732" author="mmokhtar" created="Tue, 26 May 2015 19:51:26 +0000"  >&lt;p&gt;Yes, please.&lt;/p&gt;
</comment>
                            <comment id="14562376" author="apivovarov" created="Thu, 28 May 2015 06:36:19 +0000"  >&lt;p&gt;Committed to master and branch-1.2. Thank you Jason and Mostafa!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12732916" name="HIVE-10711.1.patch" size="1343" author="jdere" created="Thu, 14 May 2015 18:31:02 +0000"/>
                            <attachment id="12732965" name="HIVE-10711.2.patch" size="1391" author="jdere" created="Thu, 14 May 2015 21:19:22 +0000"/>
                            <attachment id="12734731" name="HIVE-10711.3.patch" size="1749" author="mmokhtar" created="Fri, 22 May 2015 03:31:32 +0000"/>
                            <attachment id="12734743" name="HIVE-10711.4.patch" size="1535" author="mmokhtar" created="Fri, 22 May 2015 05:18:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 May 2015 22:16:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eqrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10712] Hive on Apache Flink</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10712</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Flink as an open-source data analytics cluster computing framework has gained some momentum recently. This initiative will provide user a new alternative so that those user can consolidate their backend.&lt;br/&gt;
Secondly, providing such an alternative further increases Hive&apos;s adoption as it exposes Flink users to a viable, feature-rich de facto standard SQL tools on Hadoop.&lt;br/&gt;
Finally, allowing Hive to run on Flink also has performance benefits. Hive queries, especially those involving multiple reducer stages, will run faster, thus improving user experience as Tez/Spark does.&lt;br/&gt;
This is an umbrella JIRA which will cover many coming subtask.  Feedback from the community is greatly appreciated!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829950">HIVE-10712</key>
            <summary>Hive on Apache Flink</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gss2002">Greg Senia</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2015 19:20:07 +0000</created>
                <updated>Sun, 17 May 2015 14:36:52 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>25</watches>
                                                                <comments>
                            <comment id="14544273" author="gopalv" created="Thu, 14 May 2015 20:07:09 +0000"  >&lt;p&gt;FYI - &lt;a href=&quot;http://ci.apache.org/projects/flink/flink-docs-master/setup/flink_on_tez.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ci.apache.org/projects/flink/flink-docs-master/setup/flink_on_tez.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14547189" author="appodictic" created="Sun, 17 May 2015 14:32:25 +0000"  >&lt;p&gt;I have a question I want us all to consider. Hive currently has three execution engines. What is the value to adding a fourth one? I know on one hand that hive is an open source project and we do not wan to be outright rejecting ideas and directions but we have to ask ourselves is Flink so significantly different from spark or tez that we can justify the addition? In terms of the project having another engine we have more code, more dependencies, more tests.&lt;/p&gt;

&lt;p&gt;The project is already divided down the lines of supporting hive-on-tez and hive-on-spark. What is the value of a third camp? Hive has many different supported queries, but if Flink basically delivers the same performance as one of the back-ends on the majority of the queries I do not think it is a good direction. What if a 4th or 5th group come up with their own &quot;execution engine&quot;  Hive on storm, hive-on-samza, hive-on-eds-query-engine.&lt;/p&gt;

&lt;p&gt;What value does an end user get between having to chose between this many engines where they face conflicting advice from conflicting people over which one they should use? As well as conflicting debates across the community as to which is the fastest/best. &lt;/p&gt;

&lt;p&gt;At this point I would like to have a real justification as to why we should add a 4th engine, for me not to be -1. We need some examples of some serious feature in flink that makes a large number of end-user queries faster/better otherwise I think this is just an academic pursuit that will further fragment us. Otherwise every data processing platform that has a map and reduce primitive can lobby for inclusion into hive.&lt;/p&gt;


</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 May 2015 20:07:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eqvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10713] Update to HBase 1.0</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10713</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HBase is now 1.0. We should look into upgrading the HBase deps in Hive to 1.0 as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829973">HIVE-10713</key>
            <summary>Update to HBase 1.0</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="swarnim">Swarnim Kulkarni</assignee>
                                    <reporter username="swarnim">Swarnim Kulkarni</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2015 20:42:35 +0000</created>
                <updated>Tue, 19 May 2015 14:05:58 +0000</updated>
                            <resolved>Tue, 19 May 2015 14:05:58 +0000</resolved>
                                                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14544388" author="ashutoshc" created="Thu, 14 May 2015 21:22:39 +0000"  >&lt;p&gt;If you are feeling adventurous you might want to take on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10491&quot; title=&quot;Refactor HBaseStorageHandler::configureJobConf() and configureTableJobProperties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10491&quot;&gt;HIVE-10491&lt;/a&gt; : )&lt;/p&gt;</comment>
                            <comment id="14544597" author="swarnim" created="Thu, 14 May 2015 23:16:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; Lol. Looks a little daunting but sure, I can grab that one and close this one as duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10491&quot; title=&quot;Refactor HBaseStorageHandler::configureJobConf() and configureTableJobProperties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10491&quot;&gt;HIVE-10491&lt;/a&gt;. Another reason I was holding off on doing this was because of the move to HBase metastore work that has been going on. Do you think this upgrade might break that?&lt;/p&gt;</comment>
                            <comment id="14544814" author="ashutoshc" created="Fri, 15 May 2015 02:43:19 +0000"  >&lt;p&gt;yeah.. lets close this one as duplicate.  Upgrade shouldn&apos;t break that work. If it does, it will be bug either on our side or there.  Lets move forward to 1.x since promise to not break compatibility is higher there, so that should be easier to maintain from Hive side.&lt;/p&gt;</comment>
                            <comment id="14550484" author="swarnim" created="Tue, 19 May 2015 14:05:46 +0000"  >&lt;p&gt;Closing this one as duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10491&quot; title=&quot;Refactor HBaseStorageHandler::configureJobConf() and configureTableJobProperties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10491&quot;&gt;HIVE-10491&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 May 2015 21:22:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2er0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10714] Bloom filter column names specification should be case insensitive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10714</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Column names specified for orc bloom filter creation should be case insensitive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12829979">HIVE-10714</key>
            <summary>Bloom filter column names specification should be case insensitive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 May 2015 20:51:08 +0000</created>
                <updated>Tue, 16 Feb 2016 23:50:09 +0000</updated>
                            <resolved>Fri, 15 May 2015 18:24:44 +0000</resolved>
                                    <version>1.3.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14544344" author="prasanth_j" created="Thu, 14 May 2015 20:53:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; Can you take a look at this patch?&lt;/p&gt;</comment>
                            <comment id="14544629" author="hiveqa" created="Thu, 14 May 2015 23:46:43 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12732959/HIVE-10714.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12732959/HIVE-10714.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8923 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3897/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3897/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3897/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3897/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3897/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3897/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12732959 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14544955" author="gopalv" created="Fri, 15 May 2015 05:40:44 +0000"  >&lt;p&gt;+1 LGTM&lt;/p&gt;</comment>
                            <comment id="14545931" author="prasanth_j" created="Fri, 15 May 2015 18:24:44 +0000"  >&lt;p&gt;Committed to master branch. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; for the review!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12732959" name="HIVE-10714.1.patch" size="1406" author="prasanth_j" created="Thu, 14 May 2015 20:52:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 May 2015 23:46:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2er27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10715] RAT failures - many files do not have ASF licenses</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10715</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Lots of files do not have proper ASF headers included in. We should add them in.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830028">HIVE-10715</key>
            <summary>RAT failures - many files do not have ASF licenses</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="sushanth">Sushanth Sowmyan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 00:20:16 +0000</created>
                <updated>Mon, 18 May 2015 19:50:51 +0000</updated>
                            <resolved>Mon, 18 May 2015 19:08:25 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14544663" author="sushanth" created="Fri, 15 May 2015 00:26:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;Vikram Dixit K&lt;/a&gt;, could you please review?&lt;/p&gt;</comment>
                            <comment id="14544665" author="vikram.dixit" created="Fri, 15 May 2015 00:27:41 +0000"  >&lt;p&gt;+1 LGTM. Thanks!&lt;/p&gt;</comment>
                            <comment id="14544681" author="sushanth" created="Fri, 15 May 2015 00:39:33 +0000"  >&lt;p&gt;Thanks, Vikram. committing to branch-1.2, although I&apos;m leaving it as patch-available, so that we can follow the 24hr rule for master.&lt;/p&gt;</comment>
                            <comment id="14544899" author="hiveqa" created="Fri, 15 May 2015 04:17:52 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733015/HIVE-10715.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733015/HIVE-10715.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8939 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3900/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3900/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3900/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3900/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3900/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3900/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733015 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14548567" author="sushanth" created="Mon, 18 May 2015 19:08:15 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Vikram!&lt;/p&gt;</comment>
                            <comment id="14548757" author="sushanth" created="Mon, 18 May 2015 19:50:51 +0000"  >&lt;p&gt;This issue has been fixed and released as part of the 1.2.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733015" name="HIVE-10715.patch" size="24746" author="sushanth" created="Fri, 15 May 2015 00:22:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 May 2015 00:27:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ercv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10716] Fold case/when udf for expression involving nulls in filter operator.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10716</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;From &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10636&quot; title=&quot;CASE comparison operator rotation optimization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10636&quot;&gt;&lt;del&gt;HIVE-10636&lt;/del&gt;&lt;/a&gt; comments, more folding is possible.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830040">HIVE-10716</key>
            <summary>Fold case/when udf for expression involving nulls in filter operator.</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 01:13:35 +0000</created>
                <updated>Fri, 5 Jun 2015 20:57:41 +0000</updated>
                            <resolved>Wed, 27 May 2015 05:52:14 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.2.1</fixVersion>
                                    <component>Logical Optimizer</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14544721" author="ashutoshc" created="Fri, 15 May 2015 01:17:18 +0000"  >&lt;p&gt;Patch with tests.&lt;/p&gt;</comment>
                            <comment id="14544740" author="ashutoshc" created="Fri, 15 May 2015 01:28:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/34249/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/34249/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14544965" author="hiveqa" created="Fri, 15 May 2015 05:50:39 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733023/HIVE-10716.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733023/HIVE-10716.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8939 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3902/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3902/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3902/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3902/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3902/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3902/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733023 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14545016" author="ashutoshc" created="Fri, 15 May 2015 06:33:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; Can you take a look?&lt;/p&gt;</comment>
                            <comment id="14560400" author="gopalv" created="Wed, 27 May 2015 04:46:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;: LGTM - +1 for the count(1) case, but it looks really odd that the &lt;tt&gt;TableScan::filterExpr&lt;/tt&gt; is not getting folded for this.&lt;/p&gt;

&lt;p&gt;TableScan FilterExpr is populated before this folding happens, so it might just be an optimization ordering issue?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; explain select count(1) from store_sales where (&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; ss_sold_date when &lt;span class=&quot;code-quote&quot;&gt;&apos;x&apos;&lt;/span&gt; then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; end)=1;

STAGE PLANS:
  Stage: Stage-1
    Tez
      Edges:
        Reducer 2 &amp;lt;- Map 1 (SIMPLE_EDGE)
      DagName: gopal_20150526214205_80c41d84-1694-47e9-ab24-144f8007b187:13
      Vertices:
        Map 1 
            Map Operator Tree:
                TableScan
                  alias: store_sales
                  filterExpr: CASE (ss_sold_date) WHEN (&lt;span class=&quot;code-quote&quot;&gt;&apos;x&apos;&lt;/span&gt;) THEN (&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) ELSE (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) END (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
                  Statistics: Num rows: 1 Data size: 0 Basic stats: PARTIAL Column stats: COMPLETE
                  Filter Operator
                    predicate: (ss_sold_date = &lt;span class=&quot;code-quote&quot;&gt;&apos;x&apos;&lt;/span&gt;) (type: &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;)
                    Statistics: Num rows: 1 Data size: 0 Basic stats: PARTIAL Column stats: COMPLETE
                    Select Operator
                      Statistics: Num rows: 1 Data size: 0 Basic stats: PARTIAL Column stats: COMPLETE
                      Group By Operator
                        aggregations: count(1)
                        mode: hash
                        outputColumnNames: _col0
                        Statistics: Num rows: 1 Data size: 93 Basic stats: COMPLETE Column stats: COMPLETE
                        Reduce Output Operator
                          sort order: 
                          Statistics: Num rows: 1 Data size: 93 Basic stats: COMPLETE Column stats: COMPLETE
                          value expressions: _col0 (type: bigint)
            Execution mode: vectorized
        Reducer 2 
            Reduce Operator Tree:
              Group By Operator
                aggregations: count(VALUE._col0)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14560403" author="gopalv" created="Wed, 27 May 2015 04:50:13 +0000"  >&lt;p&gt;The easiest fix to the problem seems to be an additional filter expr to produce an AND()&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; explain select avg(ss_sold_date_sk) from store_sales where (&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; ss_sold_date when &lt;span class=&quot;code-quote&quot;&gt;&apos;1998-01-02&apos;&lt;/span&gt; then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; end)=1;

     Map Operator Tree:
                TableScan
                  alias: store_sales
                  filterExpr: CASE (ss_sold_date) WHEN (&lt;span class=&quot;code-quote&quot;&gt;&apos;1998-01-02&apos;&lt;/span&gt;) THEN (&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) ELSE (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) END (type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
                  Statistics: Num rows: 2474913 Data size: 9899654 Basic stats: COMPLETE Column stats: COMPLETE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;vs&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; explain select avg(ss_sold_date_sk) from store_sales where (&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; ss_sold_date when &lt;span class=&quot;code-quote&quot;&gt;&apos;1998-01-02&apos;&lt;/span&gt; then 1 &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; end)=1 and ss_sold_time_Sk &amp;gt; 0;
            Map Operator Tree:
                TableScan
                  alias: store_sales
                  filterExpr: ((ss_sold_date = &lt;span class=&quot;code-quote&quot;&gt;&apos;1998-01-02&apos;&lt;/span&gt;) and (ss_sold_time_sk &amp;gt; 0)) (type: &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;)
                  Statistics: Num rows: 1237456 Data size: 9899654 Basic stats: COMPLETE Column stats: COMPLETE
                  Filter Operator
                    predicate: (ss_sold_time_sk &amp;gt; 0) (type: &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;: any idea why the extra filter helps in fixing the PPD case?&lt;/p&gt;</comment>
                            <comment id="14560454" author="ashutoshc" created="Wed, 27 May 2015 05:52:14 +0000"  >&lt;p&gt;Thanks, Gopal for review! Pushed to master &amp;amp; 1.2&lt;/p&gt;</comment>
                            <comment id="14560457" author="ashutoshc" created="Wed, 27 May 2015 05:53:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; I need to verify, but my guess is &lt;a href=&quot;https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java#L80&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/master/ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java#L80&lt;/a&gt; is coming in play here.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12774002">HIVE-9644</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12733023" name="HIVE-10716.patch" size="17636" author="ashutoshc" created="Fri, 15 May 2015 01:17:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 May 2015 05:50:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2erfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10717] Fix failed qtest encryption_insert_partition_static test in Jenkin</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10717</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It can be reproduced in Jenkins. See &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3898/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3898/testReport/&lt;/a&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="12830042">HIVE-10717</key>
            <summary>Fix failed qtest encryption_insert_partition_static test in Jenkin</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12740916">HIVE-8065</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apivovarov">Alexander Pivovarov</assignee>
                                    <reporter username="Ferd">Ferdinand Xu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 01:23:44 +0000</created>
                <updated>Tue, 16 Feb 2016 23:51:18 +0000</updated>
                            <resolved>Thu, 21 May 2015 17:19:28 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14544738" author="ferd" created="Fri, 15 May 2015 01:26:39 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;Sergio Pe&#241;a&lt;/a&gt;, the output file is different. Here comes the output. I&apos;m not able to reproduce it locally. Could you have a try for this?&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Running: diff -a /home/hiveptest/54.158.252.127-hiveptest-0/apache-github-source-source/itests/qtest/../../itests/qtest/target/qfile-results/clientpositive/encryption_insert_partition_static.q.out /home/hiveptest/54.158.252.127-hiveptest-0/apache-github-source-source/itests/qtest/../../ql/src/test/results/clientpositive/encrypted/encryption_insert_partition_static.q.out
558c558
&amp;lt;             Statistics: Num rows: 12 Data size: 2777 Basic stats: COMPLETE Column stats: NONE
---
&amp;gt;             Statistics: Num rows: 12 Data size: 2767 Basic stats: COMPLETE Column stats: NONE
563c563
&amp;lt;               Statistics: Num rows: 12 Data size: 2777 Basic stats: COMPLETE Column stats: NONE
---
&amp;gt;               Statistics: Num rows: 12 Data size: 2767 Basic stats: COMPLETE Column stats: NONE
567c567
&amp;lt;                 Statistics: Num rows: 12 Data size: 2777 Basic stats: COMPLETE Column stats: NONE
---
&amp;gt;                 Statistics: Num rows: 12 Data size: 2767 Basic stats: COMPLETE Column stats: NONE
598c598
&amp;lt;               totalSize 1392
---
&amp;gt;               totalSize 1385
646c646
&amp;lt;               totalSize 1385
---
&amp;gt;               totalSize 1382
678c678
&amp;lt;           Statistics: Num rows: 12 Data size: 2777 Basic stats: COMPLETE Column stats: NONE
---
&amp;gt;           Statistics: Num rows: 12 Data size: 2767 Basic stats: COMPLETE Column stats: NONE
685c685
&amp;lt;             Statistics: Num rows: 12 Data size: 2777 Basic stats: COMPLETE Column stats: NONE
---
&amp;gt;             Statistics: Num rows: 12 Data size: 2767 Basic stats: COMPLETE Column stats: NONE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14548368" author="spena" created="Mon, 18 May 2015 17:36:34 +0000"  >&lt;p&gt;I cannot reproduce the error in my machine either.&lt;/p&gt;</comment>
                            <comment id="14551968" author="apivovarov" created="Wed, 20 May 2015 08:07:01 +0000"  >&lt;p&gt;Let look at encryption_insert_partition_static.q lines 39-42&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;from src
insert into table encryptedTable partition
    (ds=&lt;span class=&quot;code-quote&quot;&gt;&apos;yesterday&apos;&lt;/span&gt;)
    select * limit 2;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&quot;select * from src limit 2&quot; might return two different rows with different data size on different computers and different environments.&lt;/p&gt;

&lt;p&gt;To make select result consistent and repeatable we need to select two rows with particular keys. e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;insert into table encryptedTable partition (ds=&lt;span class=&quot;code-quote&quot;&gt;&apos;yesterday&apos;&lt;/span&gt;)
select * from src where key between 1 and 2;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14552056" author="apivovarov" created="Wed, 20 May 2015 09:31:14 +0000"  >&lt;p&gt;patch #1&lt;/p&gt;</comment>
                            <comment id="14552271" author="ferd" created="Wed, 20 May 2015 12:58:02 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt; for the patch,  +1 pending the test&lt;/p&gt;</comment>
                            <comment id="14552688" author="hiveqa" created="Wed, 20 May 2015 17:15:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12734099/HIVE-10717.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12734099/HIVE-10717.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3962/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3962/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3962/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3962/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3962/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3962/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-3962/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
From https://github.com/apache/hive
   ed2f40e..8d3108c  master     -&amp;gt; origin/master
+ git reset --hard HEAD
HEAD is now at ed2f40e HIVE-10709 Update Avro version to 1.7.7 (Swarnim Kulkarni, reviewed by Ferdinand Xu)
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
Your branch is behind &apos;origin/master&apos; by 2 commits, and can be fast-forwarded.
+ git reset --hard origin/master
HEAD is now at 8d3108c HIVE-10629 Dropping table in an encrypted zone does not drop warehouse directory(Eugene Koifman, reviewed by Sergio Pena)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12734099 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14552735" author="apivovarov" created="Wed, 20 May 2015 17:40:07 +0000"  >&lt;p&gt;Tests results link shows other Jiras.&lt;br/&gt;
Let me try to reattach patch #1 to rerun build and tests&lt;/p&gt;</comment>
                            <comment id="14552743" author="apivovarov" created="Wed, 20 May 2015 17:42:59 +0000"  >&lt;p&gt;need to rebase the patch&lt;/p&gt;</comment>
                            <comment id="14552779" author="apivovarov" created="Wed, 20 May 2015 18:03:29 +0000"  >&lt;p&gt;patch #2:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;rebased and rerun the test&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14552823" author="ekoifman" created="Wed, 20 May 2015 18:18:55 +0000"  >&lt;p&gt;I had to regenerate this test .out in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10629&quot; title=&quot;Dropping table in an encrypted zone does not drop warehouse directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10629&quot;&gt;&lt;del&gt;HIVE-10629&lt;/del&gt;&lt;/a&gt; so this patch shouldn&apos;t be needed any more.&lt;/p&gt;</comment>
                            <comment id="14552917" author="apivovarov" created="Wed, 20 May 2015 19:18:15 +0000"  >&lt;p&gt;I still see couple issues:&lt;br/&gt;
1. &quot;select * limit 2&quot; does not guarantee to return 2 rows with keys 238 and 86 from src. The last query expects keys 238 and 86 in unencryptedTable.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;57:    select * from unencryptedTable order by key;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2. encryptedTable has two partitions: ds=&apos;today&apos; and ds=&apos;yesterday&apos;. unencryptedTable has only one partition ds=&apos;today&apos;.&lt;br/&gt;
Probably unencryptedTable should have two partitions as well.&lt;/p&gt;


</comment>
                            <comment id="14553003" author="ekoifman" created="Wed, 20 May 2015 19:57:40 +0000"  >&lt;p&gt;you are right&lt;/p&gt;</comment>
                            <comment id="14553004" author="ekoifman" created="Wed, 20 May 2015 19:57:47 +0000"  >&lt;p&gt;you are right&lt;/p&gt;</comment>
                            <comment id="14553210" author="swarnim" created="Wed, 20 May 2015 21:59:29 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14553334" author="hiveqa" created="Wed, 20 May 2015 23:27:35 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12734181/HIVE-10717.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12734181/HIVE-10717.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8956 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestEncryptedHDFSCliDriver - did not produce a TEST-*.xml file
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3967/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3967/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3967/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3967/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3967/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3967/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12734181 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14553358" author="apivovarov" created="Wed, 20 May 2015 23:42:47 +0000"  >&lt;p&gt;0 failures (&#177;0) , 75 skipped (&#177;0)&lt;/p&gt;</comment>
                            <comment id="14553459" author="ferd" created="Thu, 21 May 2015 01:01:07 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt; for looking at this issue.&lt;br/&gt;
 +1&lt;/p&gt;</comment>
                            <comment id="14554684" author="apivovarov" created="Thu, 21 May 2015 17:19:28 +0000"  >&lt;p&gt;Committed to master. Thank you everyone for your review!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12827752">HIVE-10629</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12734166" name="HIVE-10717.1.patch" size="24535" author="apivovarov" created="Wed, 20 May 2015 17:40:07 +0000"/>
                            <attachment id="12734099" name="HIVE-10717.1.patch" size="24535" author="apivovarov" created="Wed, 20 May 2015 09:31:14 +0000"/>
                            <attachment id="12734181" name="HIVE-10717.2.patch" size="25122" author="apivovarov" created="Wed, 20 May 2015 18:03:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 May 2015 17:36:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2erfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10718] Update committer list</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10718</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;NO PRECOMMIT TESTS&lt;br/&gt;
add some new committers to committer list&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830056">HIVE-10718</key>
            <summary>Update committer list</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Ferd">Ferdinand Xu</assignee>
                                    <reporter username="Ferd">Ferdinand Xu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 02:57:44 +0000</created>
                <updated>Thu, 24 Sep 2015 03:00:08 +0000</updated>
                            <resolved>Thu, 21 May 2015 01:16:09 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14545382" author="ferd" created="Fri, 15 May 2015 11:57:54 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt;, could you help me check it in? Thank you!&lt;/p&gt;</comment>
                            <comment id="14545963" author="szehon" created="Fri, 15 May 2015 18:37:02 +0000"  >&lt;p&gt;Hi Ferdinand, thanks for the patch, are you sure the name is &apos;ferd&apos; and not the new one you requested &apos;xuf&apos;?  I thought it should be the apache userid and not jira userid.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; for confirmation?&lt;/p&gt;

&lt;p&gt;And also would you mind adding the others as well?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dongc&quot; class=&quot;user-hover&quot; rel=&quot;dongc&quot;&gt;Dong Chen&lt;/a&gt; : dongc&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;Hari Sankar Sivarama Subramaniyan&lt;/a&gt; : hari&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt; : jxiang&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;Sergio Pe&#241;a&lt;/a&gt; : spena&lt;/p&gt;

&lt;p&gt;Hope I didnt miss anyone.&lt;/p&gt;
</comment>
                            <comment id="14546071" author="lefty@hortonworks.com" created="Fri, 15 May 2015 19:44:37 +0000"  >&lt;p&gt;Yes, it should be the Apache userid.  We need to add a statement about that on the web page, or change the column headers from &quot;username&quot; to &quot;Apache username&quot; for all three tables.  Better yet, both &amp;#8211; the introduction should explain that email can be sent to &amp;lt;username&amp;gt;@apache.org while column headers remind updaters to give Apache usernames.&lt;/p&gt;

&lt;p&gt;Sorry about the feature creep, but could the patch do that too?&lt;/p&gt;</comment>
                            <comment id="14546096" author="szehon" created="Fri, 15 May 2015 19:59:45 +0000"  >&lt;p&gt;Just realized I missed some more committers (seems website hasn&apos;t been updated for some time), &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmccline&quot; class=&quot;user-hover&quot; rel=&quot;mmccline&quot;&gt;Matt McCline&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt;, can you guys also reply with your informations for the website  &lt;/p&gt;

&lt;p&gt;I dont think we need to block this patch upon that, but if we get replies, we can add them in too if its not too much work for completeness.&lt;/p&gt;</comment>
                            <comment id="14546105" author="apivovarov" created="Fri, 15 May 2015 20:07:09 +0000"  >&lt;p&gt;Alexander Pivovarov: apivovarov&lt;/p&gt;</comment>
                            <comment id="14546148" author="szehon" created="Fri, 15 May 2015 20:45:36 +0000"  >&lt;p&gt;Also organization?&lt;/p&gt;</comment>
                            <comment id="14546171" author="apivovarov" created="Fri, 15 May 2015 21:05:00 +0000"  >&lt;p&gt;&lt;a href=&quot;http://fostercitylab.crabdance.com/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://fostercitylab.crabdance.com/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14546221" author="szehon" created="Fri, 15 May 2015 21:46:20 +0000"  >&lt;p&gt;Thanks, is the organization link text &quot;Foster City Hadoop Lab LLC&quot;?&lt;/p&gt;</comment>
                            <comment id="14546275" author="apivovarov" created="Fri, 15 May 2015 22:17:22 +0000"  >&lt;p&gt;I&apos;d prefer to keep organization field blank... If it is required then put &quot;Foster City Hadoop Lab LLC&quot;.&lt;/p&gt;</comment>
                            <comment id="14546357" author="hsubramaniyan" created="Fri, 15 May 2015 23:16:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt; Thanks for creating the jira and thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; for cc-ing the missing people. Here are my details :&lt;br/&gt;
Name  - Hari Sankar Sivarama Subramaniyan&lt;br/&gt;
Apache ID - harisankar&lt;br/&gt;
Organization - Hortonworks&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14546462" author="ferd" created="Sat, 16 May 2015 01:01:50 +0000"  >&lt;p&gt;Add the original file for review. Please help me check whether the information is correct.&lt;/p&gt;</comment>
                            <comment id="14546529" author="hsubramaniyan" created="Sat, 16 May 2015 03:11:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt; Can you please change my apache id from hari to harisankar in the patch.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;
</comment>
                            <comment id="14546551" author="szehon" created="Sat, 16 May 2015 04:25:41 +0000"  >&lt;p&gt;Thank you very much &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt;, sorry for getting &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;Hari Sankar Sivarama Subramaniyan&lt;/a&gt;&apos;s username mixed up.&lt;/p&gt;</comment>
                            <comment id="14547436" author="ferd" created="Mon, 18 May 2015 01:24:04 +0000"  >&lt;p&gt;I have updated the file, please check. Thank you!&lt;/p&gt;</comment>
                            <comment id="14547437" author="ferd" created="Mon, 18 May 2015 01:24:09 +0000"  >&lt;p&gt;I have updated the file, please check. Thank you!&lt;/p&gt;</comment>
                            <comment id="14547438" author="ferd" created="Mon, 18 May 2015 01:24:11 +0000"  >&lt;p&gt;I have updated the file, please check. Thank you!&lt;/p&gt;</comment>
                            <comment id="14547439" author="ferd" created="Mon, 18 May 2015 01:24:11 +0000"  >&lt;p&gt;I have updated the file, please check. Thank you!&lt;/p&gt;</comment>
                            <comment id="14547602" author="hsubramaniyan" created="Mon, 18 May 2015 06:38:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt;, thanks, my details are correct in patch 2.&lt;/p&gt;</comment>
                            <comment id="14548157" author="spena" created="Mon, 18 May 2015 15:26:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt; Thanks for adding me. My details are correct.&lt;/p&gt;</comment>
                            <comment id="14548198" author="jxiang" created="Mon, 18 May 2015 15:58:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt;, thanks for adding me. My details are right too.&lt;/p&gt;</comment>
                            <comment id="14548331" author="szehon" created="Mon, 18 May 2015 17:21:56 +0000"  >&lt;p&gt;+1 thanks&lt;/p&gt;</comment>
                            <comment id="14548449" author="apivovarov" created="Mon, 18 May 2015 18:17:50 +0000"  >&lt;p&gt;My details are correct. Thank you Ferdinand!&lt;/p&gt;</comment>
                            <comment id="14549389" author="mithun" created="Mon, 18 May 2015 22:33:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt;, thank you for checking with me. My details seem in order.  Cheers. +1.&lt;/p&gt;</comment>
                            <comment id="14553466" author="ferd" created="Thu, 21 May 2015 01:16:09 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; for your review. &lt;br/&gt;
I have committed to the trunk and the page(&lt;a href=&quot;http://hive.apache.org/people.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hive.apache.org/people.html&lt;/a&gt; ) has been updated.&lt;/p&gt;</comment>
                            <comment id="14905682" author="ctang.ma" created="Thu, 24 Sep 2015 02:15:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; I was trying to use Apache bookmarklet to edit &lt;a href=&quot;http://hive.apache.org/people.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hive.apache.org/people.html&lt;/a&gt; to add my name to the committer list, but I was not able to. Interestingly, I did not see the names Ferdinand added by his patch when I clicked the &lt;span class=&quot;error&quot;&gt;&amp;#91;Edit&amp;#93;&lt;/span&gt; on the page that CMS brought up. I was following the instructions in &lt;a href=&quot;https://cms.apache.org/hive/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cms.apache.org/hive/&lt;/a&gt; and using ASF CMS link from &lt;a href=&quot;https://cms.apache.org/hive/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cms.apache.org/hive/&lt;/a&gt;, which I think is the recommended way to add the name. I am not sure what caused this discrepancy between CMS edit page and production page?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt; Did you use build_site.pl script to add these names? I have attached a patch for myself. Could you review it and help to commit that for me? Thanks.&lt;/p&gt;</comment>
                            <comment id="14905711" author="ferd" created="Thu, 24 Sep 2015 02:33:27 +0000"  >&lt;p&gt;No, I didn&apos;t use that script to add names. I committed to the &lt;a href=&quot;https://svn.apache.org/repos/asf/hive/cms/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf/hive/cms/trunk&lt;/a&gt; and check it through the staging page. +1 for the patch.&lt;/p&gt;</comment>
                            <comment id="14905712" author="ctang.ma" created="Thu, 24 Sep 2015 02:38:20 +0000"  >&lt;p&gt;Did you go through process steps as list in &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/How+to+edit+the+website?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/How+to+edit+the+website?&lt;/a&gt; or just svn commit the patch and that is all?&lt;/p&gt;</comment>
                            <comment id="14905720" author="ferd" created="Thu, 24 Sep 2015 02:46:14 +0000"  >&lt;p&gt;I didn&apos;t build site since my changes are not big. You can see your changes through staging page. If it looks OK, you can publish it.&lt;/p&gt;</comment>
                            <comment id="14905725" author="lefty@hortonworks.com" created="Thu, 24 Sep 2015 02:51:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;Chaoyu Tang&lt;/a&gt;, your patch should go on a new JIRA issue.  Here are some newer examples of how it&apos;s done:  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10281&quot; title=&quot;Update people page for the new committers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10281&quot;&gt;&lt;del&gt;HIVE-10281&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11584&quot; title=&quot;Update committer list&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11584&quot;&gt;&lt;del&gt;HIVE-11584&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt; might want to team up with you on this, because he needs to move his name from the committer list to the PMC.&lt;/p&gt;</comment>
                            <comment id="14905732" author="ctang.ma" created="Thu, 24 Sep 2015 03:00:08 +0000"  >&lt;p&gt;Thanks. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; Seems that I have to open a new JIRA for that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12762036" name="HIVE-10718-ctang.patch" size="762" author="ctang.ma" created="Thu, 24 Sep 2015 02:15:22 +0000"/>
                            <attachment id="12733289" name="HIVE-10718.1.patch" size="16759" author="Ferd" created="Sat, 16 May 2015 01:01:50 +0000"/>
                            <attachment id="12733427" name="HIVE-10718.2.patch" size="16765" author="Ferd" created="Mon, 18 May 2015 01:22:07 +0000"/>
                            <attachment id="12733050" name="HIVE-10718.patch" size="764" author="Ferd" created="Fri, 15 May 2015 02:58:41 +0000"/>
                            <attachment id="12733428" name="people.mdtext" size="16537" author="Ferd" created="Mon, 18 May 2015 01:23:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 May 2015 18:37:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2erj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10719] Hive metastore failure when alter table rename is attempted.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10719</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create database newDB location &lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/&quot;&lt;/span&gt;;
describe database extended newDB;
use newDB;
create table tab (name string);
alter table tab rename to newName;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Fails:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;InvalidOperationException(message:Unable to access old location hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:8020/tmp/tab &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; table x.tab)&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12830057">HIVE-10719</key>
            <summary>Hive metastore failure when alter table rename is attempted.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 03:14:41 +0000</created>
                <updated>Fri, 5 Jun 2015 20:57:37 +0000</updated>
                            <resolved>Mon, 18 May 2015 21:02:05 +0000</resolved>
                                    <version>1.0.0</version>
                    <version>1.2.0</version>
                    <version>1.1.0</version>
                                    <fixVersion>1.2.1</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14545080" author="hiveqa" created="Fri, 15 May 2015 07:27:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733055/HIVE-10719.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733055/HIVE-10719.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 8938 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_rename_table_location
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3904/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3904/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3904/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3904/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3904/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3904/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733055 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14545889" author="sershe" created="Fri, 15 May 2015 18:00:04 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14545940" author="thejas" created="Fri, 15 May 2015 18:28:49 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14546128" author="hiveqa" created="Fri, 15 May 2015 20:27:05 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733175/HIVE-10719.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733175/HIVE-10719.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 8946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_change_db_location
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3908/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3908/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3908/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3908/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3908/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3908/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733175 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14546179" author="vikram.dixit" created="Fri, 15 May 2015 21:10:52 +0000"  >&lt;p&gt;The test failed because of tab differences in the output. Regenerated the golden file. The 2nd test failure is unrelated to this change. (Stats are different)&lt;/p&gt;</comment>
                            <comment id="14546214" author="vikram.dixit" created="Fri, 15 May 2015 21:41:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt; Ok for 1.2.1?&lt;/p&gt;</comment>
                            <comment id="14546601" author="hiveqa" created="Sat, 16 May 2015 06:56:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733253/HIVE-10719.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733253/HIVE-10719.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3916/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3916/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3916/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3916/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3916/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3916/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733253 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14549209" author="sushanth" created="Mon, 18 May 2015 20:54:42 +0000"  >&lt;p&gt;Approved for branch-1.2 for 1.2.1&lt;/p&gt;</comment>
                            <comment id="14549223" author="vikram.dixit" created="Mon, 18 May 2015 21:02:05 +0000"  >&lt;p&gt;Committed to both master and branch-1.2. Thanks for the review Thejas and Sergey.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733055" name="HIVE-10719.1.patch" size="2861" author="vikram.dixit" created="Fri, 15 May 2015 03:17:10 +0000"/>
                            <attachment id="12733175" name="HIVE-10719.2.patch" size="2907" author="vikram.dixit" created="Fri, 15 May 2015 15:42:44 +0000"/>
                            <attachment id="12733253" name="HIVE-10719.3.patch" size="2892" author="vikram.dixit" created="Fri, 15 May 2015 21:10:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 May 2015 07:27:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2erjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10720] Pig using HCatLoader to access RCFile and perform join but get incorrect result.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10720</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Create table tbl1 (c1 string, c2 string, key string, value string) stored as rcfile;
Create table tbl2 (key string, value string);
insert into tbl1 values(&apos;c1&apos;, &apos;c2&apos;, &apos;1&apos;, &apos;value1&apos;);
insert into tbl2 values(&apos;1&apos;, &apos;value2&apos;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Pig script:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;tbl1 = LOAD &apos;tbl1&apos; USING org.apache.hive.hcatalog.pig.HCatLoader();
tbl2 = LOAD &apos;tbl2&apos; USING org.apache.hive.hcatalog.pig.HCatLoader();

src_tbl1 = FILTER tbl1 BY (key == &apos;1&apos;);
prj_tbl1 = FOREACH src_tbl1 GENERATE
           c1 as c1,
           c2 as c2,
           key as tbl1_key;
           
src_tbl2 = FILTER tbl2 BY (key == &apos;1&apos;);
prj_tbl2 = FOREACH src_tbl2 GENERATE
           key as tbl2_key;
           
result = JOIN prj_tbl1 BY (tbl1_key), prj_tbl2 BY (tbl2_key);
dump result;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You will see result &quot;(,,1,1)&quot; and we are missing c1 and c2 values.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830188">HIVE-10720</key>
            <summary>Pig using HCatLoader to access RCFile and perform join but get incorrect result.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="aihuaxu">Aihua Xu</assignee>
                                    <reporter username="aihuaxu">Aihua Xu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 15:03:39 +0000</created>
                <updated>Sat, 28 Jan 2017 18:28:53 +0000</updated>
                                            <version>1.3.0</version>
                                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                            <comments>
                            <comment id="14548105" author="aihuaxu" created="Mon, 18 May 2015 14:49:32 +0000"  >&lt;p&gt;Seems the improvement &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt; causes the issue. I may consider reverting the change and will redo later.&lt;/p&gt;</comment>
                            <comment id="14550908" author="aihuaxu" created="Tue, 19 May 2015 18:07:05 +0000"  >&lt;p&gt;The issue is due to ColumnProjectionUtils class is only supported for one table column projection. If the query involves multiple tables, then the later one will overwrite the previous and causes retrieving incorrect results or not retrieving any values. &lt;/p&gt;

&lt;p&gt;I will revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt; so that HCatalog will not use that class for now and do the correct column projection enhancement later.&lt;/p&gt;</comment>
                            <comment id="14562035" author="viraj" created="Thu, 28 May 2015 00:02:03 +0000"  >&lt;p&gt;This issue is fixed in our internal code base but has not be applied to open source .&lt;br/&gt;
I tried running your test multiple times and with various versions of Pig (mapreduce and tez). It succeeded with returning only 1 result.&lt;/p&gt;

&lt;p&gt;There are 2 ways of achieving this:&lt;br/&gt;
1) Turning off the optimizer in Pig which does the LoadPushDown or turning the optimizations off -&quot;t -optimizer_off all&quot;&lt;br/&gt;
2) Making sure the  ColumnProjectionUtils.setReadColumnIDs sets the &quot;hive.io.file.readcolumn.ids&quot; null when the requiredFieldsInfo is null in the backend. &lt;/p&gt;

&lt;p&gt;Uploading the patch for testing&lt;br/&gt;
Regards&lt;br/&gt;
Viraj&lt;/p&gt;</comment>
                            <comment id="14562036" author="viraj" created="Thu, 28 May 2015 00:02:42 +0000"  >&lt;p&gt;Patch for testing&lt;/p&gt;</comment>
                            <comment id="14562873" author="aihuaxu" created="Thu, 28 May 2015 13:13:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viraj&quot; class=&quot;user-hover&quot; rel=&quot;viraj&quot;&gt;Viraj Bhat&lt;/a&gt; Thanks for your information. Your approach actually is the same as what I did in the subtasks (to revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt;) in which we will not optimize the retrieval for column-based table. &lt;/p&gt;

&lt;p&gt;Such optimization, which will only retrieve required columns, is still valid since it will improve the performance.  My plan is to revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt; to unblock the customer and then rework the optimization part. &lt;/p&gt;</comment>
                            <comment id="14563435" author="aihuaxu" created="Thu, 28 May 2015 18:37:35 +0000"  >&lt;p&gt;Sorry. Your patch actually is not a revert. Your patch will those NPE in at org.apache.hadoop.hive.serde2.ColumnProjectionUtils.toReadColumnIDString(ColumnProjectionUtils.java:190) since Ids is null.&lt;/p&gt;

&lt;p&gt;Also for the cases that there are any projection prune, there will be still issues.&lt;/p&gt;</comment>
                            <comment id="14565406" author="viraj" created="Fri, 29 May 2015 21:05:17 +0000"  >&lt;p&gt;Hi Aihua,&lt;br/&gt;
 Can you explain me how the patch I put up in this Jira will lead to loss of functionality. I am setting the &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ColumnProjectionUtils.setReadColumnIDs(job.getConfiguration(), &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;only for RequiredFieldList is null. Also let me check internally if we have some changes to ColumnProjectionUtils.&lt;/p&gt;

&lt;p&gt;Viraj&lt;/p&gt;</comment>
                            <comment id="14565426" author="mithun" created="Fri, 29 May 2015 21:14:58 +0000"  >&lt;p&gt;Hey, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;Aihua Xu&lt;/a&gt;. Could you please post a stack-trace for the NPE?&lt;/p&gt;</comment>
                            <comment id="14565562" author="aihuaxu" created="Fri, 29 May 2015 22:24:04 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.Exception: java.io.IOException: java.lang.NullPointerException
        at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:406)
Caused by: java.io.IOException: java.lang.NullPointerException
        at org.apache.hive.hcatalog.pig.HCatLoader.setLocation(HCatLoader.java:188)
        at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigInputFormat.mergeSplitSpecificConf(PigInputFormat.java:138)
        at org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigInputFormat.createRecordReader(PigInputFormat.java:112)
        at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:644)
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:330)
        at org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:268)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
        at java.util.concurrent.FutureTask.run(FutureTask.java:262)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
        at org.apache.hadoop.hive.serde2.ColumnProjectionUtils.toReadColumnIDString(ColumnProjectionUtils.java:190)
        at org.apache.hadoop.hive.serde2.ColumnProjectionUtils.appendReadColumns(ColumnProjectionUtils.java:92)
        at org.apache.hadoop.hive.serde2.ColumnProjectionUtils.setReadColumnIDs(ColumnProjectionUtils.java:57)
        at org.apache.hive.hcatalog.pig.HCatLoader.setLocation(HCatLoader.java:183)
        ... 10 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14565570" author="aihuaxu" created="Fri, 29 May 2015 22:27:19 +0000"  >&lt;p&gt;I know revert is frustrating. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; but the patch didn&apos;t consider many cases. We need to revert to unblock the customer issue since for the cases involving more than 1 table, the result could be wrong.&lt;/p&gt;</comment>
                            <comment id="14565594" author="mithun" created="Fri, 29 May 2015 22:44:22 +0000"  >&lt;p&gt;:] Frustration aside, I&apos;m completely open to reverting the patch if it&apos;s the right thing to do. (Incorrect results are a critical bug.) We&apos;re trying to make sure that we won&apos;t have to revert the revert.&lt;/p&gt;

&lt;p&gt;Viraj has confirmed that there was a bug in his patch. He&apos;s uploading a new one shortly. If this doesn&apos;t sort out the issue you&apos;re facing, let&apos;s revert and postpone debate to a later time.&lt;/p&gt;</comment>
                            <comment id="14565599" author="viraj" created="Fri, 29 May 2015 22:49:00 +0000"  >&lt;p&gt;Hi Mithun and Aihua,&lt;br/&gt;
 Sorry for the confusion, I posted the wrong patch. Out internal git has this instead that should not cause the NPE.. Uploading it again. Could you please retry. It should have been &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ColumnProjectionUtils.setReadAllColumns(job.getConfiguration());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;Apologize again.&lt;br/&gt;
Viraj&lt;/p&gt;</comment>
                            <comment id="14565601" author="viraj" created="Fri, 29 May 2015 22:51:06 +0000"  >&lt;p&gt;Updated patch with the right call to set the read columns,&lt;/p&gt;</comment>
                            <comment id="14565759" author="aihuaxu" created="Sat, 30 May 2015 01:26:52 +0000"  >&lt;p&gt;Unfortunately your patch is not right fix and it still produces incorrect result. You can try the sample pig script I posted above. It will return the result of &lt;br/&gt;
(1,value1,333,1,value1) while the correct result should be (1,value1,333,1,value2). I believe you disabled the pig optimization in-house, so it takes a different code path.&lt;/p&gt;
</comment>
                            <comment id="14565768" author="mithun" created="Sat, 30 May 2015 01:38:02 +0000"  >&lt;p&gt;Ok. Looks like I have held you up long enough. If you&apos;ve verified that this code path works without &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt;, let&apos;s roll it back, and revisit this fix in a separate JIRA. We will try identify how this works correctly on our internal branch. Viral, does that sound ok?&lt;/p&gt;

&lt;p&gt;Sorry for the delay. I applaud your diligence and patience, Aihua. Thank you. :]&lt;/p&gt;</comment>
                            <comment id="14565782" author="aihuaxu" created="Sat, 30 May 2015 02:08:32 +0000"  >&lt;p&gt;Thanks for your understanding. I have a followup jira to rework on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt;. Yeah. I have verified that revert will work. Of course, upstream has an additional issue that I also have that jira as the subtask. Will try to fix it after the revert.&lt;/p&gt;

&lt;p&gt;Thanks again.&lt;/p&gt;</comment>
                            <comment id="14565845" author="viraj" created="Sat, 30 May 2015 05:59:07 +0000"  >&lt;p&gt;Please go ahead and revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt;. Internally I ran the script you posted on the Jira, this is on Pig 0.11. Pig 0.14 (both Tez and M/R) and did not get the result you mentioned. I will check with Mithun on Monday and re-check this again.&lt;br/&gt;
Regards&lt;br/&gt;
Viraj&lt;/p&gt;</comment>
                            <comment id="14567905" author="aihuaxu" created="Mon, 1 Jun 2015 20:01:53 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viraj&quot; class=&quot;user-hover&quot; rel=&quot;viraj&quot;&gt;Viraj Bhat&lt;/a&gt; I updated the pig script above which you can use to check against your local repository. I ran against Pig 0.12, but seems like the version shouldn&apos;t matter.  &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12831125">HIVE-10755</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12736275" name="HIVE-10720.patch" size="910" author="viraj" created="Fri, 29 May 2015 22:51:06 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12831108">HIVE-10752</subtask>
                            <subtask id="12831122">HIVE-10754</subtask>
                            <subtask id="12831125">HIVE-10755</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 28 May 2015 00:02:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2escf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10721] SparkSessionManagerImpl leaks SparkSessions [Spark Branch]</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10721</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In #getSession(), we create a SparkSession and save it in a set. If the session is failed to open, it will stay in the set till shutdown.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830200">HIVE-10721</key>
            <summary>SparkSessionManagerImpl leaks SparkSessions [Spark Branch]</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jxiang">Jimmy Xiang</assignee>
                                    <reporter username="jxiang">Jimmy Xiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 15:37:36 +0000</created>
                <updated>Tue, 16 Feb 2016 23:53:14 +0000</updated>
                            <resolved>Mon, 18 May 2015 17:38:58 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14545865" author="hiveqa" created="Fri, 15 May 2015 17:50:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733181/HIVE-10721.1-spark.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733181/HIVE-10721.1-spark.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 13 failed/errored test(s), 8721 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMinimrCliDriver-bucket6.q-scriptfile1_win.q-quotedid_smb.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-bucketizedhiveinputformat.q-empty_dir_in_table.q - did not produce a TEST-*.xml file
TestMinimrCliDriver-groupby2.q-infer_bucket_sort_map_operators.q-load_hdfs_file_with_space_in_the_name.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-import_exported_table.q-truncate_column_buckets.q-bucket_num_reducers2.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-index_bitmap3.q-infer_bucket_sort_num_buckets.q-parallel_orderby.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_reducers_power_two.q-join1.q-infer_bucket_sort_bucketed_table.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-leftsemijoin_mr.q-bucket5.q-infer_bucket_sort_merge.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-list_bucket_dml_10.q-input16_cc.q-temp_table_external.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-ql_rewrite_gbtoidx.q-bucket_num_reducers.q-scriptfile1.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-ql_rewrite_gbtoidx_cbo_2.q-bucketmapjoin6.q-bucket4.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-reduce_deduplicate.q-infer_bucket_sort_dyn_part.q-udf_using.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-schemeAuthority2.q-uber_reduce.q-ql_rewrite_gbtoidx_cbo_1.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-stats_counter_partitioned.q-external_table_with_space_in_location_path.q-disable_merge_for_bucketing.q-and-1-more - did not produce a TEST-*.xml file
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/856/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/856/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/856/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/856/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-856/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-856/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 13 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733181 - PreCommit-HIVE-SPARK-Build&lt;/p&gt;</comment>
                            <comment id="14546224" author="xuefuz" created="Fri, 15 May 2015 21:47:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt;, thanks for working on this. It seems that the patch isn&apos;t trivial. Could you please create a RB entry? Thanks.&lt;/p&gt;</comment>
                            <comment id="14546232" author="jxiang" created="Fri, 15 May 2015 21:53:56 +0000"  >&lt;p&gt;Sure. The patch is posted on RB: &lt;a href=&quot;https://reviews.apache.org/r/34293/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/34293/&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14546279" author="xuefuz" created="Fri, 15 May 2015 22:19:52 +0000"  >&lt;p&gt;Patch looks good. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chengxiang+li&quot; class=&quot;user-hover&quot; rel=&quot;chengxiang li&quot;&gt;Chengxiang Li&lt;/a&gt;, would you mind also taking a look?&lt;/p&gt;</comment>
                            <comment id="14547467" author="chengxiang li" created="Mon, 18 May 2015 02:38:18 +0000"  >&lt;p&gt;LGTM, +1. I just left some minor comments on the RB.&lt;/p&gt;</comment>
                            <comment id="14548374" author="jxiang" created="Mon, 18 May 2015 17:38:58 +0000"  >&lt;p&gt;Integrated into the spark branch. Thanks Xuefu and Chengxiang for reviewing it.&lt;/p&gt;</comment>
                            <comment id="14548389" author="jxiang" created="Mon, 18 May 2015 17:44:36 +0000"  >&lt;p&gt;Filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10740&quot; title=&quot;RpcServer should be restarted if related configuration is changed [Spark Branch]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10740&quot;&gt;HIVE-10740&lt;/a&gt; for the RpcServer not restarting issue pointed out by Chengxiang. Thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12830748">HIVE-10740</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12733181" name="HIVE-10721.1-spark.patch" size="7689" author="jxiang" created="Fri, 15 May 2015 16:10:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 May 2015 17:50:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2esf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10722] external table creation with msck in Hive can create unusable partition</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10722</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There can be directories in HDFS containing unprintable characters; when doing hadoop fs -ls, these characters are not even visible, and can only be seen for example if output is piped thru od.&lt;br/&gt;
When these are loaded via msck, they are stored in e.g. mysql as &quot;?&quot; (literal question mark, findable via LIKE &apos;%?%&apos; in db) and show accordingly in Hive.&lt;br/&gt;
However, datanucleus appears to encode it as %3F; this causes the partition to be unusable - it cannot be dropped, and other operations like drop table get stuck (didn&apos;t investigate in detail why; drop table got unstuck as soon as the partition was removed from metastore).&lt;/p&gt;

&lt;p&gt;We should probably have a 2-way option for such cases - error out on load (default), or convert to &apos;?&apos;/drop such characters (and have partition that actually works, too).&lt;/p&gt;

&lt;p&gt;We should also check if partitions with &apos;?&apos; inserted explicitly work at all with datanucleus.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830254">HIVE-10722</key>
            <summary>external table creation with msck in Hive can create unusable partition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                            <label>TODOC1.3</label>
                    </labels>
                <created>Fri, 15 May 2015 18:13:48 +0000</created>
                <updated>Wed, 4 Oct 2017 20:14:24 +0000</updated>
                            <resolved>Sat, 30 May 2015 00:08:26 +0000</resolved>
                                    <version>0.14.1</version>
                    <version>1.0.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14549684" author="sershe" created="Tue, 19 May 2015 02:35:05 +0000"  >&lt;p&gt;I have a fix for the main issue, fixing some rough edges...&lt;/p&gt;</comment>
                            <comment id="14551160" author="sershe" created="Tue, 19 May 2015 20:30:28 +0000"  >&lt;p&gt;This fixes the standard formatter to provide proper output, and adds validation to msck to make sure metastore will actually create matching partitions &lt;/p&gt;</comment>
                            <comment id="14551161" author="sershe" created="Tue, 19 May 2015 20:30:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; can you take a look?&lt;/p&gt;</comment>
                            <comment id="14551170" author="sershe" created="Tue, 19 May 2015 20:34:11 +0000"  >&lt;p&gt;cannot post RB, fails to validate diff... probably because of unprintable characters&lt;/p&gt;</comment>
                            <comment id="14552023" author="hiveqa" created="Wed, 20 May 2015 08:54:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733941/HIVE-10722.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733941/HIVE-10722.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 8966 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchEmptyCommit
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3954/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3954/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3954/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3954/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3954/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3954/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733941 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14553009" author="sershe" created="Wed, 20 May 2015 20:02:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; can you take a look?&lt;/p&gt;</comment>
                            <comment id="14553133" author="mmokhtar" created="Wed, 20 May 2015 21:13:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt;&lt;br/&gt;
Can this be ported to 0.13 as well?&lt;/p&gt;</comment>
                            <comment id="14555094" author="sershe" created="Thu, 21 May 2015 21:31:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt; can you take a look?&lt;/p&gt;</comment>
                            <comment id="14555108" author="sushanth" created="Thu, 21 May 2015 21:36:45 +0000"  >&lt;p&gt;Looking through it.&lt;/p&gt;</comment>
                            <comment id="14555128" author="sushanth" created="Thu, 21 May 2015 21:51:11 +0000"  >&lt;p&gt;I&apos;m +1 on the change in general. Would it be possible to add one more test, a negative test for hive.msck.path.validation=throw ?&lt;/p&gt;</comment>
                            <comment id="14563385" author="sershe" created="Thu, 28 May 2015 18:11:13 +0000"  >&lt;p&gt;Seems rather pointless, it&apos;s almost the same functionality and MiniMr tests add a long time to test run cause they take forever in setup. Should I still treat that as +1? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14563782" author="sushanth" created="Thu, 28 May 2015 22:11:30 +0000"  >&lt;p&gt;I don&apos;t know that I see it as pointless - I see value in &quot;throw&quot; as a setting here, as a way of making sure that the process errors if you have invalid partitions.&lt;/p&gt;

&lt;p&gt;And in that case, I was thinking that we should have &quot;proof&quot; that for the strict case, we show that we fail for sure and not silently succeed. The problem with not having a negative test in this case is if someone modifies this later on, and makes the &quot;throw&quot; behaviour also succeed. This is possible, since in your code, you do not explicitly check for &quot;throw&quot;, you explicitly check for &quot;skip&quot; and &quot;ignore&quot;, and default to &quot;throw&quot; if it doesn&apos;t follow that path. And with the lack of explicit checking or comments there, it is easy for someone modifying it later to not realize that that serves a purpose.&lt;/p&gt;

&lt;p&gt;I think I&apos;d still very much like a test case for this, but that can be handled in a separate jira, and can be taken on at a later date. If you&apos;re okay with that, I&apos;m +1.&lt;/p&gt;</comment>
                            <comment id="14563884" author="sershe" created="Thu, 28 May 2015 23:28:45 +0000"  >&lt;p&gt;Added negative test&lt;/p&gt;</comment>
                            <comment id="14563925" author="sushanth" created="Thu, 28 May 2015 23:46:39 +0000"  >&lt;p&gt;Thanks! Sorry to be so finicky.&lt;/p&gt;

&lt;p&gt;+1 on the new patch.&lt;/p&gt;</comment>
                            <comment id="14565471" author="hiveqa" created="Fri, 29 May 2015 21:42:46 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12735994/HIVE-10722.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12735994/HIVE-10722.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 8980 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_fold_case
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_2
org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testSaslWithHiveMetaStore
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4095/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4095/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4095/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4095/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4095/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4095/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12735994 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14565685" author="sershe" created="Sat, 30 May 2015 00:08:26 +0000"  >&lt;p&gt;committed to master&lt;/p&gt;</comment>
                            <comment id="14566238" author="lefty@hortonworks.com" created="Sat, 30 May 2015 22:50:56 +0000"  >&lt;p&gt;Doc note:  &lt;b&gt;hive.msck.path.validation&lt;/b&gt; needs to be documented in Configuration Properties.  Should it go in the query &amp;amp; DDL execution section or the metastore section?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-QueryandDDLExecution&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; Query and DDL Execution &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-MetaStore&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; MetaStore &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Where does usage information belong?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;LanguageManual &amp;#8211; DML &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-RecoverPartitions(MSCKREPAIRTABLE)&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;LanguageManual &amp;#8211; DDL &amp;#8211; Recover Partitions (MSCK REPAIR TABLE) &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14567904" author="sershe" created="Mon, 1 Jun 2015 19:59:45 +0000"  >&lt;p&gt;Added to LanguageManual &#8211; DDL &#8211; Recover Partitions (MSCK REPAIR TABLE) &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12735994" name="HIVE-10722.01.patch" size="24443" author="sershe" created="Thu, 28 May 2015 23:28:45 +0000"/>
                            <attachment id="12733941" name="HIVE-10722.patch" size="22261" author="sershe" created="Tue, 19 May 2015 20:30:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 May 2015 08:54:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2esqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10723] better logging/etc. for stuck metastore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10723</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12830258">HIVE-10723</key>
            <summary>better logging/etc. for stuck metastore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 18:25:35 +0000</created>
                <updated>Fri, 22 May 2015 15:51:11 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14545945" author="sershe" created="Fri, 15 May 2015 18:31:03 +0000"  >&lt;p&gt;This probably needs more thought.&lt;br/&gt;
It normalizes some existing logging, removes some essentially duplicate logging, adds logging for network requests and DN transactions (might be a bit excessive at info by default, some config setting or default logging settings could be used to silence it), as well as 2 features off by default - server socket timeout, and ability to execute &quot;add partitions&quot; statement in a separate transaction per partition instead of an epic transaction. The latter could probably be extended to drop table (to drop partitions one by one; assuming the user doesn&apos;t care for half-dropped table if he&apos;s dropping it anyway).&lt;/p&gt;</comment>
                            <comment id="14545966" author="apivovarov" created="Fri, 15 May 2015 18:40:21 +0000"  >&lt;p&gt;Sergey, can you attach RB link so that people can put inline comments to your patch&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;rbt post -g yes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14546449" author="hiveqa" created="Sat, 16 May 2015 00:50:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733208/HIVE-10723.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733208/HIVE-10723.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3912/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3912/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3912/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3912/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3912/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3912/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-3912/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
From https://github.com/apache/hive
   41178e3..0db5368  llap       -&amp;gt; origin/llap
   3056e7a..f106730  master     -&amp;gt; origin/master
+ git reset --hard HEAD
HEAD is now at 3056e7a HIVE-10714: Bloom filter column names specification should be case insensitive (Prasanth Jayachandran reviewed by Gopal V)
+ git clean -f -d
Removing ql/src/java/org/apache/hadoop/hive/ql/optimizer/calcite/rules/HivePreFilteringRule.java
Removing ql/src/test/queries/clientpositive/filter_cond_pushdown.q
+ git checkout master
Already on &apos;master&apos;
Your branch is behind &apos;origin/master&apos; by 1 commit, and can be fast-forwarded.
+ git reset --hard origin/master
HEAD is now at f106730 HIVE-10670: Duplicate declaration of curator-recipes at pom.xml (Hari via Xuefu)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733208 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14551437" author="sershe" created="Tue, 19 May 2015 23:21:41 +0000"  >&lt;p&gt;rebased and changed logging to debug&lt;/p&gt;</comment>
                            <comment id="14551442" author="sershe" created="Tue, 19 May 2015 23:23:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/34443/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/34443/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14552287" author="hiveqa" created="Wed, 20 May 2015 13:08:18 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733988/HIVE-10723.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733988/HIVE-10723.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 8965 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStoreIpAddress.testIpAddress
org.apache.hadoop.hive.metastore.TestRemoteUGIHiveMetaStoreIpAddress.testIpAddress
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3958/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3958/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3958/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3958/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3958/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3958/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733988 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14553304" author="sershe" created="Wed, 20 May 2015 23:11:24 +0000"  >&lt;p&gt;This fixes the relevant unit tests and addresses RB feedback&lt;/p&gt;</comment>
                            <comment id="14554995" author="sershe" created="Thu, 21 May 2015 20:35:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt; can you guys +1? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14555636" author="apivovarov" created="Fri, 22 May 2015 06:05:38 +0000"  >&lt;p&gt;Sergey&lt;/p&gt;

&lt;p&gt;Looks like 3 tasks are combined into one ticket&lt;br/&gt;
1. Add more logging.&lt;br/&gt;
2. Add new config parameter - timeout (hive.metastore.server.tcp.timeout.sec)&lt;br/&gt;
3. Add ability to execute &quot;add partitions&quot; statement in a separate transaction per partition&lt;/p&gt;

&lt;p&gt;How Jira title &quot;better logging/etc. for stuck metastore&quot; relates to &quot;executing ... statements in a separate transaction&quot;.&lt;/p&gt;

&lt;p&gt;Do you want to add some unit tests to make sure that timeout and transaction separation work?&lt;/p&gt;

&lt;p&gt;Don&apos;t you think it&apos;s better to create a separate Jira for #3?&lt;br/&gt;
I think it would be easier to get +1 for logging and timeout then.&lt;/p&gt;</comment>
                            <comment id="14556351" author="sershe" created="Fri, 22 May 2015 15:51:11 +0000"  >&lt;p&gt;Metastore can have problems when partition creation is slow, with very long tx hogging the locks in the DB.&lt;br/&gt;
Testing this stuff is going to be very hard as it&apos;s deep internal behavior. I&apos;ll look into it later...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733988" name="HIVE-10723.01.patch" size="17559" author="sershe" created="Tue, 19 May 2015 23:21:41 +0000"/>
                            <attachment id="12734270" name="HIVE-10723.02.patch" size="17552" author="sershe" created="Wed, 20 May 2015 23:11:24 +0000"/>
                            <attachment id="12733208" name="HIVE-10723.patch" size="16474" author="sershe" created="Fri, 15 May 2015 18:31:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 May 2015 18:40:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2esrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10724] WebHCat e2e test TestStreaming_5 fails on Windows</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10724</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The test TestStreaming_5 fails with the following error on Windows:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Passed in parameter is incorrectly quoted: \&quot;\&quot;StreamXmlRecordReader,begin=xml,end=/xml\&quot;\&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The problem is the extra quotes in the post_options in the test &lt;tt&gt;&apos;inputreader=&quot;StreamXmlRecordReader,begin=xml,end=/xml&quot;&apos;&lt;/tt&gt;&lt;br/&gt;
Removing the double quotes &lt;tt&gt;&apos;inputreader=StreamXmlRecordReader,begin=xml,end=/xml&apos;&lt;/tt&gt; makes the test happy on both Linux and Windows.&lt;/p&gt;

&lt;p&gt;NO PRECOMMIT TESTS&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830260">HIVE-10724</key>
            <summary>WebHCat e2e test TestStreaming_5 fails on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="deepesh">Deepesh Khandelwal</assignee>
                                    <reporter username="deepesh">Deepesh Khandelwal</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 18:37:00 +0000</created>
                <updated>Fri, 5 Jun 2015 20:57:42 +0000</updated>
                            <resolved>Thu, 21 May 2015 18:39:54 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.2.1</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14545975" author="deepesh" created="Fri, 15 May 2015 18:43:19 +0000"  >&lt;p&gt;Attaching a patch with the described fix.&lt;/p&gt;</comment>
                            <comment id="14546206" author="ekoifman" created="Fri, 15 May 2015 21:33:29 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14554830" author="ekoifman" created="Thu, 21 May 2015 18:39:54 +0000"  >&lt;p&gt;Committed to master. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=deepesh&quot; class=&quot;user-hover&quot; rel=&quot;deepesh&quot;&gt;Deepesh Khandelwal&lt;/a&gt; for the contribution&lt;/p&gt;</comment>
                            <comment id="14561375" author="deepesh" created="Wed, 27 May 2015 17:57:58 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;Eugene Koifman&lt;/a&gt; for the review and commit!&lt;/p&gt;</comment>
                            <comment id="14561534" author="sushanth" created="Wed, 27 May 2015 19:13:45 +0000"  >&lt;p&gt;+1 for inclusion to branch-1.2. Please add this jira to &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Hive+1.2+Release+Status&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Hive+1.2+Release+Status&lt;/a&gt; before committing to branch-1.2&lt;/p&gt;</comment>
                            <comment id="14561726" author="sushanth" created="Wed, 27 May 2015 21:01:44 +0000"  >&lt;p&gt;Committed to branch-1.2. Thanks Eugene &amp;amp; Deepesh!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733213" name="HIVE-10724.patch" size="1439" author="deepesh" created="Fri, 15 May 2015 18:43:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 May 2015 21:33:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2esrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10725] Better resource management in HiveServer2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10725</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We have various ways to control the number of queries that can be run on one HS2 instance (max threads, thread pool queuing etc). We also have ways to run multiple HS2 instances using dynamic service discovery. We should do a better job at:&lt;br/&gt;
1. Monitoring resource utilization (sessions, ophandles, memory, threads etc).&lt;br/&gt;
2. Being upfront to the client when we cannot accept new queries.&lt;br/&gt;
3. Throttle among different server instances in case dynamic service discovery is used.&lt;br/&gt;
4. Consolidate existing ways to control #queries into a simpler model.&lt;br/&gt;
5. See if we can recommend reasonable values for OS resources or provide alerts if we run out of those.&lt;br/&gt;
6. Health reports, server status API (to get number of queries, sessions etc).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830293">HIVE-10725</key>
            <summary>Better resource management in HiveServer2</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 20:17:14 +0000</created>
                <updated>Tue, 3 Jul 2018 07:56:19 +0000</updated>
                                            <version>1.3.0</version>
                                                    <component>HiveServer2</component>
                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>13</watches>
                                                                <comments>
                            <comment id="14546118" author="vgumashta" created="Fri, 15 May 2015 20:19:28 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rbains&quot; class=&quot;user-hover&quot; rel=&quot;rbains&quot;&gt;Raj Bains&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Please add any ideas you may have on this. The end goal is to prevent HS2 from becoming unresponsive/going OOM.&lt;/p&gt;</comment>
                            <comment id="14546124" author="vgumashta" created="Fri, 15 May 2015 20:23:22 +0000"  >&lt;p&gt;Also recommend values for OS resources required by the HS2 user (#files, #procs); see how others do it (e.g. Namenode).&lt;/p&gt;</comment>
                            <comment id="14546126" author="vgumashta" created="Fri, 15 May 2015 20:24:27 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=deepesh&quot; class=&quot;user-hover&quot; rel=&quot;deepesh&quot;&gt;Deepesh Khandelwal&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14546253" author="thejas" created="Fri, 15 May 2015 22:03:56 +0000"  >&lt;p&gt;I think it will also be useful examine a way to provide detailed health reports that can be consumed by monitoring tools.&lt;/p&gt;

&lt;p&gt;Also with dynamic service discovery now available, we should also look at the option of making an auto-restart feature available . It should be possible to enable this using a config. cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14546625" author="rbains" created="Sat, 16 May 2015 07:44:04 +0000"  >&lt;p&gt;Please consider the following when looking at resource design.&lt;/p&gt;

&lt;p&gt;1. Yes, the end goal is to prevent HS2 from becoming unresponsive/going OOM - and maybe we add more context to the target here - are we going to target 100 concurrent sessions on a box with 8 cores and 64GB of RAM with a particular query with load balancing across two HS2 instances. This will give us a better target and help test our resource management. Operational databases can handle thousands of queries per second - though the queries are simpler. HS2 should not be a bottleneck.&lt;/p&gt;

&lt;p&gt;2. Admission control should be simple, but richer than the number of queries. Also, it should be in terms that a database user understands - number of threads is a bad metric to expose since it is not in terms of user workload - this is punting our engineering work to the end user. To show a relevant metric, assume that I setup a HS2 for 100 short concurrent queries and someone throws in a 5 fact table join, then what should happen? Admission control should allow rules/limits on number of queries AND query attributes. Number of tables accessed/ joins might be a good place to start. Admission control definitely needs to have an API with the assumption that there will be an external Workload Management module / UI that will allow the user to set it up along with other aspects of workload management.&lt;/p&gt;

&lt;p&gt;3. We&apos;ll have to implement parallel compilation at some point, we should have guardrails around allowed parallelism and ensure resource management will work then. Is the lifetime of a query a pipeline with stages? Can we know how much resources the query takes in each stage? Should we allow limits on how many queries are allowed in each stage? You might allow 100 threads, but only 5 to run CBO at one time. There can be 50 waiting on a stats fetch from remote server or on query execution to finish.&lt;/p&gt;

&lt;p&gt;4. We&apos;ll have caches inside HS2 - statistics cache, query compile cache - how will the resource utilization of those be handled? &lt;/p&gt;

&lt;p&gt;5. What&apos;s the performance degradation model? A good model is that we allow entry of queries till we reach maximum throughput. Then we queue the queries - increasing latency but not reducing throughput - degrading gracefully to a point. After a certain amount of latency increase, we reject further incoming queries from the queue. Is the architecture setup to be able to reason in such terms? I haven&apos;t looked at the code.&lt;/p&gt;



</comment>
                            <comment id="14551539" author="thejas" created="Wed, 20 May 2015 00:23:54 +0000"  >&lt;p&gt;The work in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10761&quot; title=&quot;Create codahale-based metrics system for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10761&quot;&gt;&lt;del&gt;HIVE-10761&lt;/del&gt;&lt;/a&gt; will also help to improve HS2 uptime, by making it easier to monitor&lt;/p&gt;</comment>
                            <comment id="14556979" author="yeeza" created="Fri, 22 May 2015 23:16:10 +0000"  >&lt;p&gt;One use case:  user can start multiple HS instances with different modes and authentications, it would be nice if a jdbc client with certain connection string connect to the zookeeper assemble, finds a correct HS2 for it.  For example, if HS2_A runs in http mode, HS2_B runs in binary mode, client gives binary mode connection string, it should connect to HS2_B, instead of getting HS2_A. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12831212">HIVE-10761</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13169719">HIVE-20063</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 May 2015 22:03:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eszb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10726] Hive JDBC setQueryTimeout should not throw exception to make it work with JMeter</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10726</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive&apos;s JDBC driver does not support setQueryTimeout. Ideally, the driver should have a timeout mechanism beyond which any query execution should throw SQLTimeoutException. JMeter calls setQueryTimeout method before actually executing the SQL query. Hive&apos;s JDBC throws SQLException which prevents JMeter from executing any query.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830296">HIVE-10726</key>
            <summary>Hive JDBC setQueryTimeout should not throw exception to make it work with JMeter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 20:25:35 +0000</created>
                <updated>Mon, 17 Jul 2017 09:47:12 +0000</updated>
                            <resolved>Mon, 18 May 2015 04:31:00 +0000</resolved>
                                    <version>1.3.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14546130" author="prasanth_j" created="Fri, 15 May 2015 20:27:54 +0000"  >&lt;p&gt;Ideal implementation should implementation timeout mechanism. This patch just logs a WARN message instead of throwing exception. In future, based on user demand we can add timeout mechanism. &lt;/p&gt;</comment>
                            <comment id="14546133" author="prasanth_j" created="Fri, 15 May 2015 20:28:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Can you take a look?&lt;/p&gt;</comment>
                            <comment id="14546247" author="thejas" created="Fri, 15 May 2015 21:59:46 +0000"  >&lt;p&gt;Can you also add the method name to the warning message?&lt;/p&gt;</comment>
                            <comment id="14546249" author="gopalv" created="Fri, 15 May 2015 22:01:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt;: can you throw an exception on a non-zero timeout?&lt;/p&gt;

&lt;p&gt;The only valid setting we can accept is &amp;lt;= 0, right?&lt;/p&gt;</comment>
                            <comment id="14546265" author="prasanth_j" created="Fri, 15 May 2015 22:12:43 +0000"  >&lt;p&gt;Addressed &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; comments.&lt;/p&gt;</comment>
                            <comment id="14546305" author="thejas" created="Fri, 15 May 2015 22:37:09 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14546541" author="hiveqa" created="Sat, 16 May 2015 03:54:04 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733264/HIVE-10726.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733264/HIVE-10726.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 8945 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_percentile_approx_23
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3914/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3914/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3914/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3914/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3914/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3914/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733264 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14547520" author="prasanth_j" created="Mon, 18 May 2015 04:31:00 +0000"  >&lt;p&gt;Committed to master branch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12854026">HIVE-11516</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12733244" name="HIVE-10726.1.patch" size="1164" author="prasanth_j" created="Fri, 15 May 2015 20:27:54 +0000"/>
                            <attachment id="12733261" name="HIVE-10726.2.patch" size="1455" author="prasanth_j" created="Fri, 15 May 2015 22:12:43 +0000"/>
                            <attachment id="12733264" name="HIVE-10726.3.patch" size="1270" author="prasanth_j" created="Fri, 15 May 2015 22:33:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 May 2015 21:59:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eszz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10727] Import throws error message &quot;org.apache.thrift.protocol.TProtocolException: Required field &apos;filesAdded&apos; is unset!&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10727</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Here are the steps to reproduce. Please setup two hive warehouses with hive.metastore.event.listeners set to org.apache.hive.hcatalog.listener.DbNotificationListener. On warehouse 1, please do the following as user hive.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;## create table
CREATE TABLE page_view4(viewTime INT, userid BIGINT,
     page_url STRING, referrer_url STRING,
     ip STRING COMMENT &lt;span class=&quot;code-quote&quot;&gt;&apos;IP Address of the User&apos;&lt;/span&gt;)
 COMMENT &lt;span class=&quot;code-quote&quot;&gt;&apos;This is the page view table&apos;&lt;/span&gt;
 PARTITIONED BY(dt STRING, country STRING)
 STORED AS SEQUENCEFILE;

## Add partitions
alter table page_view4 add partition (dt=&lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;, country=&lt;span class=&quot;code-quote&quot;&gt;&quot;usa&quot;&lt;/span&gt;);
alter table page_view4 add partition (dt=&lt;span class=&quot;code-quote&quot;&gt;&quot;2&quot;&lt;/span&gt;, country=&lt;span class=&quot;code-quote&quot;&gt;&quot;india&quot;&lt;/span&gt;);
insert into table page_view4 PARTITION (dt=&lt;span class=&quot;code-quote&quot;&gt;&quot;1&quot;&lt;/span&gt;, country=&lt;span class=&quot;code-quote&quot;&gt;&quot;usa&quot;&lt;/span&gt;) VALUES (1, 1, &lt;span class=&quot;code-quote&quot;&gt;&quot;url1&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;referurl1&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;ip1&quot;&lt;/span&gt;);

## Export table
export table page_view4 to &lt;span class=&quot;code-quote&quot;&gt;&apos;/tmp/export4&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; replication(&lt;span class=&quot;code-quote&quot;&gt;&apos;foo&apos;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&apos;/tmp/export4&apos; is created with owner as hive and group hdfs. The &lt;br/&gt;
&apos;/apps/hive/warehouse/page_view4/&apos; is created with owner hive and group users. &lt;/p&gt;

&lt;p&gt;Copy the exported data in  &apos;/tmp/export4&apos; to hdfs in warehouse 2. The data is still owned by hive and belongs to group hdfs. Please change the group for dir &apos;/tmp/export4&apos; to users. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;bash# su - hdfs
hdfs : bash# hadoop fs -chown -R hive:users /tmp/export4
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As user hive, do the following&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; table page_view4 from &lt;span class=&quot;code-quote&quot;&gt;&apos;/tmp/export4&apos;&lt;/span&gt; ;
Copying data from hdfs:&lt;span class=&quot;code-comment&quot;&gt;//node-4.example.com:8020/tmp/export4/dt=1/country=usa
&lt;/span&gt;....
Loading data to table &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.page_view4 partition (country=usa, dt=1)
Failed with exception org.apache.hadoop.hive.ql.metadata.HiveException: org.apache.thrift.protocol.TProtocolException: Required field &lt;span class=&quot;code-quote&quot;&gt;&apos;filesAdded&apos;&lt;/span&gt; is unset! Struct:InsertEventRequestData(filesAdded:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
FAILED: Execution Error, &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; code 1 from org.apache.hadoop.hive.ql.exec.MoveTask
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The import failed. Attaching the logs from /tmp/hive/hive.log for further debugging. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12830304">HIVE-10727</key>
            <summary>Import throws error message &quot;org.apache.thrift.protocol.TProtocolException: Required field &apos;filesAdded&apos; is unset!&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="bvellanki">Balu Vellanki</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 20:47:41 +0000</created>
                <updated>Fri, 5 Jun 2015 20:57:38 +0000</updated>
                            <resolved>Tue, 19 May 2015 21:15:53 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14549372" author="sushanth" created="Mon, 18 May 2015 22:20:26 +0000"  >&lt;p&gt;Relevant stacktrace:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2015-05-12 15:50:25,729 WARN  [main]: metastore.RetryingMetaStoreClient (RetryingMetaStoreClient.java:invoke(184)) - MetaStoreClient lost connection. Attempting to reconnect.
org.apache.thrift.protocol.TProtocolException: Required field &apos;filesAdded&apos; is unset! Struct:InsertEventRequestData(filesAdded:null)
	at org.apache.hadoop.hive.metastore.api.InsertEventRequestData.validate(InsertEventRequestData.java:310)
	at org.apache.hadoop.hive.metastore.api.InsertEventRequestData$InsertEventRequestDataStandardScheme.write(InsertEventRequestData.java:378)
	at org.apache.hadoop.hive.metastore.api.InsertEventRequestData$InsertEventRequestDataStandardScheme.write(InsertEventRequestData.java:338)
	at org.apache.hadoop.hive.metastore.api.InsertEventRequestData.write(InsertEventRequestData.java:288)
	at org.apache.hadoop.hive.metastore.api.FireEventRequestData.standardSchemeWriteValue(FireEventRequestData.java:168)
	at org.apache.thrift.TUnion$TUnionStandardScheme.write(TUnion.java:244)
	at org.apache.thrift.TUnion$TUnionStandardScheme.write(TUnion.java:213)
	at org.apache.thrift.TUnion.write(TUnion.java:152)
	at org.apache.hadoop.hive.metastore.api.FireEventRequest$FireEventRequestStandardScheme.write(FireEventRequest.java:748)
	at org.apache.hadoop.hive.metastore.api.FireEventRequest$FireEventRequestStandardScheme.write(FireEventRequest.java:667)
	at org.apache.hadoop.hive.metastore.api.FireEventRequest.write(FireEventRequest.java:577)
	at org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$fire_listener_event_args$fire_listener_event_argsStandardScheme.write(ThriftHiveMetastore.java)
	at org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$fire_listener_event_args$fire_listener_event_argsStandardScheme.write(ThriftHiveMetastore.java)
	at org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$fire_listener_event_args.write(ThriftHiveMetastore.java)
	at org.apache.thrift.TServiceClient.sendBase(TServiceClient.java:63)
	at org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Client.send_fire_listener_event(ThriftHiveMetastore.java:4176)
	at org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Client.fire_listener_event(ThriftHiveMetastore.java:4168)
	at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.fireListenerEvent(HiveMetaStoreClient.java:1954)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.invoke(RetryingMetaStoreClient.java:156)
	at com.sun.proxy.$Proxy5.fireListenerEvent(Unknown Source)
	at org.apache.hadoop.hive.ql.metadata.Hive.fireInsertEvent(Hive.java:1945)
	at org.apache.hadoop.hive.ql.metadata.Hive.getPartition(Hive.java:1876)
	at org.apache.hadoop.hive.ql.metadata.Hive.loadPartition(Hive.java:1407)
	at org.apache.hadoop.hive.ql.metadata.Hive.loadPartition(Hive.java:1324)
	at org.apache.hadoop.hive.ql.exec.MoveTask.execute(MoveTask.java:438)
	at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:160)
	at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:88)
	at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1650)
	at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1409)
	at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1192)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1059)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:1049)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:213)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:165)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:376)
	at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:736)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:681)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:621)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.util.RunJar.run(RunJar.java:221)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:136)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14549376" author="sushanth" created="Mon, 18 May 2015 22:23:35 +0000"  >&lt;p&gt;Attaching fix. I thought we fixed this in an earlier patch for fireInsertEvent, but seemingly missed it. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt;, could you please review?&lt;/p&gt;</comment>
                            <comment id="14549751" author="hiveqa" created="Tue, 19 May 2015 04:11:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733649/HIVE-10727.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733649/HIVE-10727.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 8946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_context_ngrams
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_percentile_approx_23
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3936/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3936/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3936/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3936/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3936/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3936/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733649 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14550871" author="alangates" created="Tue, 19 May 2015 17:51:30 +0000"  >&lt;p&gt;+1, I thought we&apos;d already fixed this too.&lt;/p&gt;</comment>
                            <comment id="14551247" author="sushanth" created="Tue, 19 May 2015 21:15:53 +0000"  >&lt;p&gt;Committed to master and branch-1.2.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733649" name="HIVE-10727.patch" size="677" author="sushanth" created="Mon, 18 May 2015 22:23:35 +0000"/>
                            <attachment id="12733629" name="hive.log" size="422109" author="bvellanki" created="Mon, 18 May 2015 21:18:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 May 2015 22:20:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2et1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10728] deprecate unix_timestamp(void) and make it deterministic</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10728</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We have a proper current_timestamp function that is not evaluated at runtime.&lt;br/&gt;
Behavior of unix_timestamp(void) is both surprising, and is preventing some optimizations on the other overload since the function becomes non-deterministic.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830305">HIVE-10728</key>
            <summary>deprecate unix_timestamp(void) and make it deterministic</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                            <label>TODOC1.3</label>
                            <label>timestamp</label>
                    </labels>
                <created>Fri, 15 May 2015 20:50:09 +0000</created>
                <updated>Thu, 26 Oct 2017 23:04:44 +0000</updated>
                            <resolved>Wed, 3 Jun 2015 01:41:43 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14546643" author="hiveqa" created="Sat, 16 May 2015 08:27:29 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733255/HIVE-10728.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733255/HIVE-10728.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 8945 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_autogen_colalias
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_unix_timestamp
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3917/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3917/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3917/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3917/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3917/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3917/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733255 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14549362" author="sershe" created="Mon, 18 May 2015 22:14:35 +0000"  >&lt;p&gt;Updating the test files&lt;/p&gt;</comment>
                            <comment id="14549364" author="sershe" created="Mon, 18 May 2015 22:15:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; can you take a look?&lt;/p&gt;</comment>
                            <comment id="14549688" author="hiveqa" created="Tue, 19 May 2015 02:40:25 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733642/HIVE-10728.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733642/HIVE-10728.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 8946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbort
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3935/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3935/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3935/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3935/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3935/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3935/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733642 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14551794" author="ashutoshc" created="Wed, 20 May 2015 04:33:19 +0000"  >&lt;p&gt;If I am reading this right, this is not deprecating unix_timestamp() but is throwing exception. That will be backward-incompatible, no ?&lt;/p&gt;</comment>
                            <comment id="14552818" author="sershe" created="Wed, 20 May 2015 18:16:46 +0000"  >&lt;p&gt;Yes... I don&apos;t know any other way to deprecate UDFs&lt;/p&gt;</comment>
                            <comment id="14555014" author="sershe" created="Thu, 21 May 2015 20:50:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; ping?&lt;/p&gt;</comment>
                            <comment id="14555085" author="ashutoshc" created="Thu, 21 May 2015 21:25:17 +0000"  >&lt;p&gt;I will let &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; comment on whats the policy for deprecating udfs. Throwing exception as you have done I see breaks backward compatibility.&lt;/p&gt;</comment>
                            <comment id="14563391" author="sershe" created="Thu, 28 May 2015 18:12:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; can you comment?&lt;br/&gt;
The other way would be to rewrite the (void) overload to act like current_timestamp, that way both would be deterministic.&lt;br/&gt;
Given that it wasn&apos;t deterministic in the first place, returning same value is a compatible behavior &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14563784" author="sershe" created="Thu, 28 May 2015 22:12:26 +0000"  >&lt;p&gt;Updated accordingly&lt;/p&gt;</comment>
                            <comment id="14564998" author="hiveqa" created="Fri, 29 May 2015 15:59:52 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12735980/HIVE-10728.02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12735980/HIVE-10728.02.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 40 failed/errored test(s), 8978 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_fold_case
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_unix_timestamp
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket4
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket5
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket6
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucketizedhiveinputformat
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucketmapjoin6
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucketmapjoin7
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_constprog_partitioner
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_disable_merge_for_bucketing
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_empty_dir_in_table
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_external_table_with_space_in_location_path
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap_auto
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_bucketed_table
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_map_operators
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_merge
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_num_buckets
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_leftsemijoin_mr
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_list_bucket_dml_10
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_parallel_orderby
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_1
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_quotedid_smb
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_reduce_deduplicate
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_remote_script
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_schemeAuthority
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_schemeAuthority2
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_scriptfile1
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_smb_mapjoin_8
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_stats_counter
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_stats_counter_partitioned
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_truncate_column_buckets
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_uber_reduce
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_2
org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testSaslWithHiveMetaStore
org.apache.hive.jdbc.TestSSL.testSSLFetchHttp
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4092/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4092/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4092/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4092/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4092/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4092/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 40 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12735980 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14565705" author="sershe" created="Sat, 30 May 2015 00:22:16 +0000"  >&lt;p&gt;Updated one test result. Some test failures are unrelated (saw them on other jiras). No idea why Spark tests failed, if they fail again I&apos;ll take a look; probably unrelated.&lt;/p&gt;</comment>
                            <comment id="14566319" author="hiveqa" created="Sun, 31 May 2015 03:14:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12736290/HIVE-10728.03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12736290/HIVE-10728.03.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 8986 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestUtil - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_autogen_colalias
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_fold_case
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_histogram_numeric
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_2
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4111/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4111/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4111/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4111/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4111/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4111/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12736290 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14568173" author="sershe" created="Mon, 1 Jun 2015 22:47:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; ping?&lt;/p&gt;</comment>
                            <comment id="14568227" author="ashutoshc" created="Mon, 1 Jun 2015 23:38:57 +0000"  >&lt;p&gt;This is change in behavior of existing functionality.  e.g, &lt;tt&gt;where c1 &amp;gt; unix_timestamp()&lt;/tt&gt; will give you different resultset depending on values of c1, before and after this patch on same table.&lt;br/&gt;
I want to hear other committer&apos;s comment whether this is kosher to do this or not. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; What do you think?&lt;/p&gt;

&lt;p&gt;At the very least, this seems to fall into the category of something you want to commit on trunk and not on branch-1.&lt;/p&gt;</comment>
                            <comment id="14568230" author="alangates" created="Mon, 1 Jun 2015 23:40:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;At the very least, this seems to fall into the category of something you want to commit on trunk and not on branch-1.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1, as this is a definite backwards incompatible change.&lt;/p&gt;</comment>
                            <comment id="14568268" author="sershe" created="Tue, 2 Jun 2015 00:08:50 +0000"  >&lt;p&gt;unix_timestamp/0 is non-deterministic, so different results are by design.&lt;br/&gt;
In existing code, results will be different depending on whether task fails or not, for example (retrying will create different timestamp).&lt;br/&gt;
So it&apos;s not a backward incompatible change&lt;/p&gt;</comment>
                            <comment id="14568344" author="ashutoshc" created="Tue, 2 Jun 2015 01:13:28 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14570116" author="sershe" created="Wed, 3 Jun 2015 01:41:43 +0000"  >&lt;p&gt;committed to trunk. Thanks!&lt;/p&gt;</comment>
                            <comment id="14575534" author="lefty@hortonworks.com" created="Sat, 6 Jun 2015 02:40:49 +0000"  >&lt;p&gt;Doc note:  Adding a TODOC1.3 label.  Document this in the Date Functions section of UDFs.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-DateFunctions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Hive Operators and UDFs &amp;#8211; Date Functions &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733642" name="HIVE-10728.01.patch" size="11404" author="sershe" created="Mon, 18 May 2015 22:14:35 +0000"/>
                            <attachment id="12735980" name="HIVE-10728.02.patch" size="16037" author="sershe" created="Thu, 28 May 2015 22:12:26 +0000"/>
                            <attachment id="12736290" name="HIVE-10728.03.patch" size="15905" author="sershe" created="Sat, 30 May 2015 00:22:16 +0000"/>
                            <attachment id="12733255" name="HIVE-10728.patch" size="1835" author="sershe" created="Fri, 15 May 2015 21:15:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 16 May 2015 08:27:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 33 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2et1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10729] Query failed when select complex columns from joinned table (tez map join only)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10729</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When map join happens, if projection columns include complex data types, query will fail. &lt;/p&gt;

&lt;p&gt;Steps to reproduce:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;hive&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;set&lt;/span&gt; hive.auto.&lt;span class=&quot;code-keyword&quot;&gt;convert&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;join&lt;/span&gt;;
hive.auto.&lt;span class=&quot;code-keyword&quot;&gt;convert&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;join&lt;/span&gt;=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
hive&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;desc&lt;/span&gt; foo;
&lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt;                   	&lt;span class=&quot;code-keyword&quot;&gt;array&lt;/span&gt;&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;&amp;gt;
hive&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; foo;
[1,2]
hive&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;desc&lt;/span&gt; src_int;
&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;                 	&lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;               	&lt;span class=&quot;code-keyword&quot;&gt;string&lt;/span&gt;
hive&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; src_int &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;=2;
2	   val_2
hive&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; foo &lt;span class=&quot;code-keyword&quot;&gt;join&lt;/span&gt; src_int src  &lt;span class=&quot;code-keyword&quot;&gt;on&lt;/span&gt; src.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; = foo.&lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt;[1];
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Query will fail with stack trace&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.lang.ClassCastException: org.apache.hadoop.hive.serde2.lazybinary.LazyBinaryArray cannot be cast to [Ljava.lang.Object;
	at org.apache.hadoop.hive.serde2.objectinspector.StandardListObjectInspector.getList(StandardListObjectInspector.java:111)
	at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serialize(LazySimpleSerDe.java:314)
	at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serializeField(LazySimpleSerDe.java:262)
	at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.doSerialize(LazySimpleSerDe.java:246)
	at org.apache.hadoop.hive.serde2.AbstractEncodingAwareSerDe.serialize(AbstractEncodingAwareSerDe.java:50)
	at org.apache.hadoop.hive.ql.exec.FileSinkOperator.process(FileSinkOperator.java:692)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)
	at org.apache.hadoop.hive.ql.exec.SelectOperator.process(SelectOperator.java:88)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)
	at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.internalForward(CommonJoinOperator.java:644)
	at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.genAllOneUniqueJoinObject(CommonJoinOperator.java:676)
	at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.checkAndGenObject(CommonJoinOperator.java:754)
	at org.apache.hadoop.hive.ql.exec.MapJoinOperator.process(MapJoinOperator.java:386)
	... 23 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Similar error when projection columns include a map:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;hive&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; test (&lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;INT&lt;/span&gt;, b &lt;span class=&quot;code-keyword&quot;&gt;MAP&lt;/span&gt;&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;INT&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt;&amp;gt;) STORED &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; ORC;
hive&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;INSERT&lt;/span&gt; OVERWRITE &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; test &lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; 1, &lt;span class=&quot;code-keyword&quot;&gt;MAP&lt;/span&gt;(1, &lt;span class=&quot;code-quote&quot;&gt;&quot;val_1&quot;&lt;/span&gt;, 2, &lt;span class=&quot;code-quote&quot;&gt;&quot;val_2&quot;&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; src &lt;span class=&quot;code-keyword&quot;&gt;LIMIT&lt;/span&gt; 1;
hive&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; src &lt;span class=&quot;code-keyword&quot;&gt;join&lt;/span&gt; test &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; src.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;=test.&lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment></environment>
        <key id="12830313">HIVE-10729</key>
            <summary>Query failed when select complex columns from joinned table (tez map join only)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mmccline">Matt McCline</assignee>
                                    <reporter username="selinazh">Selina Zhang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 21:16:39 +0000</created>
                <updated>Tue, 21 Jun 2016 15:52:39 +0000</updated>
                            <resolved>Tue, 29 Mar 2016 09:18:33 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.1</fixVersion>
                    <fixVersion>2.1.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14546276" author="selinazh" created="Fri, 15 May 2015 22:17:49 +0000"  >&lt;p&gt;It seems ReusableRowContainer iterator should convert LazyObjects to StandardObjects, as other join operators did. &lt;/p&gt;

&lt;p&gt;Please let me know which qfile I can use to add more unit tests.&lt;/p&gt;</comment>
                            <comment id="14546701" author="hiveqa" created="Sat, 16 May 2015 11:28:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733263/HIVE-10729.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733263/HIVE-10729.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 8943 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3919/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3919/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3919/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3919/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3919/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3919/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733263 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14550846" author="selinazh" created="Tue, 19 May 2015 17:40:23 +0000"  >&lt;p&gt;The unit test failures seem irrelevant to this patch. &lt;/p&gt;</comment>
                            <comment id="14552827" author="vikram.dixit" created="Wed, 20 May 2015 18:22:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; Can you take a look please?&lt;/p&gt;</comment>
                            <comment id="14552846" author="sershe" created="Wed, 20 May 2015 18:40:31 +0000"  >&lt;p&gt;+1. Nit - can you pre-size the array list to fields size?&lt;/p&gt;</comment>
                            <comment id="14552853" author="selinazh" created="Wed, 20 May 2015 18:46:08 +0000"  >&lt;p&gt;Yes. Will do. &lt;/p&gt;</comment>
                            <comment id="14552963" author="selinazh" created="Wed, 20 May 2015 19:43:18 +0000"  >&lt;p&gt;added pre-size the array list to fields size&lt;/p&gt;</comment>
                            <comment id="14553533" author="hiveqa" created="Thu, 21 May 2015 02:31:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12734209/HIVE-10729.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12734209/HIVE-10729.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8965 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3969/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3969/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3969/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3969/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3969/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3969/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12734209 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14555069" author="selinazh" created="Thu, 21 May 2015 21:16:50 +0000"  >&lt;p&gt;The above unit test failure seems not relevant to this patch. &lt;/p&gt;</comment>
                            <comment id="14561260" author="gss2002" created="Wed, 27 May 2015 16:56:37 +0000"  >&lt;p&gt;I tried this patch with Hive 1.2.0 and I am still getting this error.... &lt;/p&gt;

&lt;p&gt;Caused by: java.lang.ClassCastException: org.apache.hadoop.hive.serde2.lazybinary.LazyBinaryArray cannot be cast to [Ljava.lang.Object;&lt;br/&gt;
        at org.apache.hadoop.hive.serde2.objectinspector.StandardListObjectInspector.getListElement(StandardListObjectInspector.java:66)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.udf.generic.GenericUDFIndex.evaluate(GenericUDFIndex.java:102)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.ExprNodeGenericFuncEvaluator._evaluate(ExprNodeGenericFuncEvaluator.java:186)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.ExprNodeEvaluator.evaluate(ExprNodeEvaluator.java:77)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.ExprNodeEvaluator.evaluate(ExprNodeEvaluator.java:65)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.SelectOperator.process(SelectOperator.java:81)&lt;br/&gt;
        ... 31 more&lt;/p&gt;</comment>
                            <comment id="14574924" author="vikram.dixit" created="Fri, 5 Jun 2015 17:56:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=selinazh&quot; class=&quot;user-hover&quot; rel=&quot;selinazh&quot;&gt;Selina Zhang&lt;/a&gt; Any updates here? Can you take a look at &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gss2002&quot; class=&quot;user-hover&quot; rel=&quot;gss2002&quot;&gt;Greg Senia&lt;/a&gt;&apos;s comment? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gss2002&quot; class=&quot;user-hover&quot; rel=&quot;gss2002&quot;&gt;Greg Senia&lt;/a&gt; Can you provide a simple test where you saw the above exception.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="14578856" author="gss2002" created="Tue, 9 Jun 2015 13:10:17 +0000"  >&lt;p&gt;Here is the query and source table describe that shows the array&amp;lt;string&amp;gt; which seems to be the cause...&lt;/p&gt;

&lt;p&gt;drop table debug.ct_gsd_events1_test;&lt;br/&gt;
create table debug.ct_gsd_events1_test&lt;br/&gt;
as select  a.*,&lt;br/&gt;
b.svcrqst_id,&lt;br/&gt;
b.svcrqct_cds,&lt;br/&gt;
b.svcrtyp_cd,&lt;br/&gt;
b.cmpltyp_cd,&lt;br/&gt;
b.sum_reason_cd as src,&lt;br/&gt;
b.cnctmd_cd,&lt;br/&gt;
b.notes&lt;br/&gt;
from ctm.ct_gsd_events a&lt;br/&gt;
inner join&lt;br/&gt;
mbr.gsd_service_request b&lt;br/&gt;
on a.contact_event_id = b.cnctevn_id;&lt;/p&gt;


&lt;p&gt;hive&amp;gt; describe formatted ctm.ct_gsd_events;&lt;br/&gt;
OK&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;col_name              data_type               comment&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;hmoid                   string                                      &lt;br/&gt;
cumb_id_no              int                                         &lt;br/&gt;
mbrind_id               string                                      &lt;br/&gt;
contact_event_id        string                                      &lt;br/&gt;
ce_create_dt            string                                      &lt;br/&gt;
ce_end_dt               string                                      &lt;br/&gt;
contact_type            string                                      &lt;br/&gt;
cnctevs_cd              string                                      &lt;br/&gt;
contact_mode            string                                      &lt;br/&gt;
cntvnst_stts_cd         string                                      &lt;br/&gt;
total_transfers         int                                         &lt;br/&gt;
ce_notes                array&amp;lt;string&amp;gt;                               &lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Detailed Table Information&lt;br/&gt;
Database:               ctm                      &lt;br/&gt;
Owner:                  LOAD_USER                  &lt;br/&gt;
CreateTime:             Fri May 29 09:41:58 EDT 2015     &lt;br/&gt;
LastAccessTime:         UNKNOWN                  &lt;br/&gt;
Protect Mode:           None                     &lt;br/&gt;
Retention:              0                        &lt;br/&gt;
Location:               hdfs://xhadnnm1p.example.com:8020/apps/hive/warehouse/ctm.db/ct_gsd_events         &lt;br/&gt;
Table Type:             MANAGED_TABLE            &lt;br/&gt;
Table Parameters:                &lt;br/&gt;
        COLUMN_STATS_ACCURATE   true                &lt;br/&gt;
        numFiles                154                 &lt;br/&gt;
        numRows                 0                   &lt;br/&gt;
        rawDataSize             0                   &lt;br/&gt;
        totalSize               5464108             &lt;br/&gt;
        transient_lastDdlTime   1432906919          &lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;Storage Information&lt;br/&gt;
SerDe Library:          org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe       &lt;br/&gt;
InputFormat:            org.apache.hadoop.mapred.TextInputFormat         &lt;br/&gt;
OutputFormat:           org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat       &lt;br/&gt;
Compressed:             No                       &lt;br/&gt;
Num Buckets:            -1                       &lt;br/&gt;
Bucket Columns:         []                       &lt;br/&gt;
Sort Columns:           []                       &lt;br/&gt;
Storage Desc Params:             &lt;br/&gt;
        serialization.format    1                   &lt;br/&gt;
Time taken: 2.968 seconds, Fetched: 42 row(s)&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14578874" author="gss2002" created="Tue, 9 Jun 2015 13:19:44 +0000"  >&lt;p&gt;Here is a sample of the data I think the cause is their is a null in the array&amp;lt;string&amp;gt; field of notes... this was not a problem with Hive 0.13 it definitely started with Hive 0.14/1.x line..&lt;/p&gt;


&lt;p&gt;Vertex failed, vertexName=Map 2, vertexId=vertex_1426958683478_216665_2_01, diagnostics=[Task failed, taskId=task_1426958683478_216665_2_01_000104, diagnostics=[TaskAttempt 0 failed, info=[Error: Failure while running task:java.lang.RuntimeException: java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
{&quot;cumb_id_no&quot;:31XXXX585,&quot;cumb_id_no_sub&quot;:31XXXX585,&quot;cnctevn_id&quot;:&quot;0021XXX86715&quot;,&quot;svcrqst_id&quot;:&quot;0000003XXX346030&quot;,&quot;svcrqst_crt_dts&quot;:&quot;2015-03-09 11:25:10.927722&quot;,&quot;subject_seq_no&quot;:1,&quot;cntmbrp_id&quot;:&quot;692XX60     &quot;,&quot;plan_component&quot;:&quot;HXXXX     &quot;,&quot;psuniq_id&quot;:&quot;0000000014XXX279&quot;,&quot;cust_segment&quot;:&quot;RM &quot;,&quot;idcard&quot;:&quot;MEXXXXXX         &quot;,&quot;cnctyp_cd&quot;:&quot;001&quot;,&quot;cnctmd_cd&quot;:&quot;D01&quot;,&quot;cnctevs_cd&quot;:&quot;007&quot;,&quot;svcrtyp_cd&quot;:&quot;722&quot;,&quot;svrstyp_cd&quot;:&quot;832&quot;,&quot;cmpltyp_cd&quot;:&quot; &quot;,&quot;catsrsn_cd&quot;:&quot;        &quot;,&quot;apealvl_cd&quot;:&quot; &quot;,&quot;cnstnty_cd&quot;:&quot;001&quot;,&quot;svcrqst_asrqst_ind&quot;:&quot;Y&quot;,&quot;svcrqst_rtnorig_in&quot;:&quot;N&quot;,&quot;svcrqst_vwasof_dt&quot;:&quot;null&quot;,&quot;svcrqst_lupdusr_id&quot;:&quot;XXXXXXX &quot;,&quot;sum_reason_cd&quot;:&quot;98&quot;,&quot;sum_reason&quot;:&quot;Exclude&quot;,&quot;crsr_master_claim_index&quot;:null,&quot;svcrqct_cds&quot;:[&quot;   &quot;],&quot;svcrqst_lupdt&quot;:&quot;2015-03-09 11:25:10.927722&quot;,&quot;crsr_lupdt&quot;:null,&quot;cntmbrp_lupdt&quot;:&quot;2015-03-09 11:24:51.315134&quot;,&quot;cntevsds_lupdt&quot;:&quot;2015-03-09 11:25:13.429458&quot;,&quot;ignore_me&quot;:1,&quot;notes&quot;:null}
&lt;p&gt;        at org.apache.hadoop.hive.ql.exec.tez.TezProcessor.initializeAndRunProcessor(TezProcessor.java:171)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.tez.TezProcessor.run(TezProcessor.java:137)&lt;br/&gt;
        at org.apache.tez.runtime.LogicalIOProcessorRuntimeTask.run(LogicalIOProcessorRuntimeTask.java:324)&lt;br/&gt;
        at org.apache.tez.runtime.task.TezTaskRunner$TaskRunnerCallable$1.run(TezTaskRunner.java:176)&lt;br/&gt;
        at org.apache.tez.runtime.task.TezTaskRunner$TaskRunnerCallable$1.run(TezTaskRunner.java:168)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at javax.security.auth.Subject.doAs(Subject.java:415)&lt;br/&gt;
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1556)&lt;br/&gt;
        at org.apache.tez.runtime.task.TezTaskRunner$TaskRunnerCallable.call(TezTaskRunner.java:168)&lt;br/&gt;
        at org.apache.tez.runtime.task.TezTaskRunner$TaskRunnerCallable.call(TezTaskRunner.java:163)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:262)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:744)&lt;br/&gt;
Caused by: java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
{&quot;cumb_id_no&quot;:31XXX585,&quot;cumb_id_no_sub&quot;:31XXX585,&quot;cnctevn_id&quot;:&quot;0021XXX86715&quot;,&quot;svcrqst_id&quot;:&quot;0000003XXX346030&quot;,&quot;svcrqst_crt_dts&quot;:&quot;2015-03-09 11:25:10.927722&quot;,&quot;subject_seq_no&quot;:1,&quot;cntmbrp_id&quot;:&quot;692XX60     &quot;,&quot;plan_component&quot;:&quot;HXXXX     &quot;,&quot;psuniq_id&quot;:&quot;0000000014XXX279&quot;,&quot;cust_segment&quot;:&quot;RM &quot;,&quot;idcard&quot;:&quot;MEXXXXXX         &quot;,&quot;cnctyp_cd&quot;:&quot;001&quot;,&quot;cnctmd_cd&quot;:&quot;D01&quot;,&quot;cnctevs_cd&quot;:&quot;007&quot;,&quot;svcrtyp_cd&quot;:&quot;722&quot;,&quot;svrstyp_cd&quot;:&quot;832&quot;,&quot;cmpltyp_cd&quot;:&quot; &quot;,&quot;catsrsn_cd&quot;:&quot;        &quot;,&quot;apealvl_cd&quot;:&quot; &quot;,&quot;cnstnty_cd&quot;:&quot;001&quot;,&quot;svcrqst_asrqst_ind&quot;:&quot;Y&quot;,&quot;svcrqst_rtnorig_in&quot;:&quot;N&quot;,&quot;svcrqst_vwasof_dt&quot;:&quot;null&quot;,&quot;svcrqst_lupdusr_id&quot;:&quot;XXXXXXX &quot;,&quot;sum_reason_cd&quot;:&quot;98&quot;,&quot;sum_reason&quot;:&quot;Exclude&quot;,&quot;crsr_master_claim_index&quot;:null,&quot;svcrqct_cds&quot;:[&quot;   &quot;],&quot;svcrqst_lupdt&quot;:&quot;2015-03-09 11:25:10.927722&quot;,&quot;crsr_lupdt&quot;:null,&quot;cntmbrp_lupdt&quot;:&quot;2015-03-09 11:24:51.315134&quot;,&quot;cntevsds_lupdt&quot;:&quot;2015-03-09 11:25:13.429458&quot;,&quot;ignore_me&quot;:1,&quot;notes&quot;:null}
&lt;p&gt;        at org.apache.hadoop.hive.ql.exec.tez.MapRecordSource.processRow(MapRecordSource.java:91)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.tez.MapRecordSource.pushRecord(MapRecordSource.java:68)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.tez.MapRecordProcessor.run(MapRecordProcessor.java:290)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.tez.TezProcessor.initializeAndRunProcessor(TezProcessor.java:148)&lt;br/&gt;
        ... 13 more&lt;br/&gt;
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
{&quot;cumb_id_no&quot;:31XXXX585,&quot;cumb_id_no_sub&quot;:31XXXX585,&quot;cnctevn_id&quot;:&quot;0021XXX86715&quot;,&quot;svcrqst_id&quot;:&quot;0000003XXX346030&quot;,&quot;svcrqst_crt_dts&quot;:&quot;2015-03-09 11:25:10.927722&quot;,&quot;subject_seq_no&quot;:1,&quot;cntmbrp_id&quot;:&quot;692XX60     &quot;,&quot;plan_component&quot;:&quot;HXXXX     &quot;,&quot;psuniq_id&quot;:&quot;0000000014XXX279&quot;,&quot;cust_segment&quot;:&quot;RM &quot;,&quot;idcard&quot;:&quot;MEXXXXXX         &quot;,&quot;cnctyp_cd&quot;:&quot;001&quot;,&quot;cnctmd_cd&quot;:&quot;D01&quot;,&quot;cnctevs_cd&quot;:&quot;007&quot;,&quot;svcrtyp_cd&quot;:&quot;722&quot;,&quot;svrstyp_cd&quot;:&quot;832&quot;,&quot;cmpltyp_cd&quot;:&quot; &quot;,&quot;catsrsn_cd&quot;:&quot;        &quot;,&quot;apealvl_cd&quot;:&quot; &quot;,&quot;cnstnty_cd&quot;:&quot;001&quot;,&quot;svcrqst_asrqst_ind&quot;:&quot;Y&quot;,&quot;svcrqst_rtnorig_in&quot;:&quot;N&quot;,&quot;svcrqst_vwasof_dt&quot;:&quot;null&quot;,&quot;svcrqst_lupdusr_id&quot;:&quot;XXXXXXX &quot;,&quot;sum_reason_cd&quot;:&quot;98&quot;,&quot;sum_reason&quot;:&quot;Exclude&quot;,&quot;crsr_master_claim_index&quot;:null,&quot;svcrqct_cds&quot;:[&quot;   &quot;],&quot;svcrqst_lupdt&quot;:&quot;2015-03-09 11:25:10.927722&quot;,&quot;crsr_lupdt&quot;:null,&quot;cntmbrp_lupdt&quot;:&quot;2015-03-09 11:24:51.315134&quot;,&quot;cntevsds_lupdt&quot;:&quot;2015-03-09 11:25:13.429458&quot;,&quot;ignore_me&quot;:1,&quot;notes&quot;:null}
&lt;p&gt;        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:518)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.tez.MapRecordSource.processRow(MapRecordSource.java:83)&lt;br/&gt;
        ... 16 more&lt;br/&gt;
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Unexpected exception: org.apache.hadoop.hive.serde2.lazybinary.LazyBinaryArray cannot be cast to [Ljava.lang.Object;&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.MapJoinOperator.process(MapJoinOperator.java:426)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.FilterOperator.process(FilterOperator.java:122)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TableScanOperator.process(TableScanOperator.java:97)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.MapOperator$MapOpCtx.forward(MapOperator.java:162)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:508)&lt;br/&gt;
        ... 17 more&lt;br/&gt;
Caused by: java.lang.ClassCastException: org.apache.hadoop.hive.serde2.lazybinary.LazyBinaryArray cannot be cast to [Ljava.lang.Object;&lt;br/&gt;
        at org.apache.hadoop.hive.serde2.objectinspector.StandardListObjectInspector.getList(StandardListObjectInspector.java:111)&lt;br/&gt;
        at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serialize(LazySimpleSerDe.java:314)&lt;br/&gt;
        at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serializeField(LazySimpleSerDe.java:262)&lt;br/&gt;
        at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.doSerialize(LazySimpleSerDe.java:246)&lt;br/&gt;
        at org.apache.hadoop.hive.serde2.AbstractEncodingAwareSerDe.serialize(AbstractEncodingAwareSerDe.java:50)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.FileSinkOperator.process(FileSinkOperator.java:720)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.SelectOperator.process(SelectOperator.java:88)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.internalForward(CommonJoinOperator.java:644)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.genAllOneUniqueJoinObject(CommonJoinOperator.java:676)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.checkAndGenObject(CommonJoinOperator.java:754)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.MapJoinOperator.process(MapJoinOperator.java:414)&lt;br/&gt;
        ... 23 more&lt;/p&gt;</comment>
                            <comment id="14591704" author="gss2002" created="Thu, 18 Jun 2015 12:17:51 +0000"  >&lt;p&gt;Any status on this jira is this stalled? Can i help any further??? This is a real issue plaguing folks since around hive 0.14&lt;/p&gt;</comment>
                            <comment id="14597624" author="mmccline" created="Tue, 23 Jun 2015 13:11:36 +0000"  >&lt;p&gt;NOTE: We have a possible solution here but &lt;b&gt;NO TEST&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;There is an attached Q file with a array of integers and array of strings tests, but I haven&apos;t been able to get the tests to fail on trunk.  I&apos;m not sure what I&apos;m missing.  So, unclear if new code is being tested yet.&lt;/p&gt;</comment>
                            <comment id="14597959" author="hiveqa" created="Tue, 23 Jun 2015 17:05:23 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12741285/HIVE-10729.03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12741285/HIVE-10729.03.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 9014 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4351/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4351/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4351/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4351/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4351/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4351/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12741285 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14597984" author="hagleitn" created="Tue, 23 Jun 2015 17:17:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmccline&quot; class=&quot;user-hover&quot; rel=&quot;mmccline&quot;&gt;Matt McCline&lt;/a&gt; the test on this bug doesn&apos;t happen anymore but there is: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11051&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-11051&lt;/a&gt;. The attached test on that bug used to be fixed with this patch here. It might makes sense to resolve this one and move the code over to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11051&quot; title=&quot;Hive 1.2.0  MapJoin w/Tez - LazyBinaryArray cannot be cast to [Ljava.lang.Object;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11051&quot;&gt;&lt;del&gt;HIVE-11051&lt;/del&gt;&lt;/a&gt; if that&apos;s the case.&lt;/p&gt;</comment>
                            <comment id="14598804" author="gss2002" created="Wed, 24 Jun 2015 03:18:56 +0000"  >&lt;p&gt;Gunther Hagleitner and Matt Mcline Using this Patch against my JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11051&quot; title=&quot;Hive 1.2.0  MapJoin w/Tez - LazyBinaryArray cannot be cast to [Ljava.lang.Object;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11051&quot;&gt;&lt;del&gt;HIVE-11051&lt;/del&gt;&lt;/a&gt; and the test case on Hadoop 2.4.1 with Hive 1.2.0 and Tez 0.5.4 it still fails:&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
{&quot;cnctevn_id&quot;:&quot;002246948195&quot;,&quot;svcrqst_id&quot;:&quot;0000003629537980&quot;,&quot;svcrqst_crt_dts&quot;:&quot;2015-04-24 12:48:37.859683&quot;,&quot;subject_seq_no&quot;:1,&quot;plan_component&quot;:&quot;HMOM1     &quot;,&quot;cust_segment&quot;:&quot;RM &quot;,&quot;cnctyp_cd&quot;:&quot;001&quot;,&quot;cnctmd_cd&quot;:&quot;D02&quot;,&quot;cnctevs_cd&quot;:&quot;007&quot;,&quot;svcrtyp_cd&quot;:&quot;335&quot;,&quot;svrstyp_cd&quot;:&quot;088&quot;,&quot;cmpltyp_cd&quot;:&quot; &quot;,&quot;catsrsn_cd&quot;:&quot;        &quot;,&quot;apealvl_cd&quot;:&quot; &quot;,&quot;cnstnty_cd&quot;:&quot;001&quot;,&quot;svcrqst_asrqst_ind&quot;:&quot;Y&quot;,&quot;svcrqst_rtnorig_in&quot;:&quot;N&quot;,&quot;svcrqst_vwasof_dt&quot;:&quot;null&quot;,&quot;sum_reason_cd&quot;:&quot;98&quot;,&quot;sum_reason&quot;:&quot;Exclude&quot;,&quot;crsr_master_claim_index&quot;:null,&quot;svcrqct_cds&quot;:[&quot;   &quot;],&quot;svcrqst_lupdt&quot;:&quot;2015-04-24 12:48:37.859683&quot;,&quot;crsr_lupdt&quot;:null,&quot;cntevsds_lupdt&quot;:&quot;2015-04-24 12:48:40.499238&quot;,&quot;ignore_me&quot;:1,&quot;notes&quot;:null}
&lt;p&gt;        at org.apache.hadoop.hive.ql.exec.tez.MapRecordSource.processRow(MapRecordSource.java:91)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.tez.MapRecordSource.pushRecord(MapRecordSource.java:68)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.tez.MapRecordProcessor.run(MapRecordProcessor.java:290)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.tez.TezProcessor.initializeAndRunProcessor(TezProcessor.java:148)&lt;br/&gt;
        ... 13 more&lt;br/&gt;
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
{&quot;cnctevn_id&quot;:&quot;002246948195&quot;,&quot;svcrqst_id&quot;:&quot;0000003629537980&quot;,&quot;svcrqst_crt_dts&quot;:&quot;2015-04-24 12:48:37.859683&quot;,&quot;subject_seq_no&quot;:1,&quot;plan_component&quot;:&quot;HMOM1     &quot;,&quot;cust_segment&quot;:&quot;RM &quot;,&quot;cnctyp_cd&quot;:&quot;001&quot;,&quot;cnctmd_cd&quot;:&quot;D02&quot;,&quot;cnctevs_cd&quot;:&quot;007&quot;,&quot;svcrtyp_cd&quot;:&quot;335&quot;,&quot;svrstyp_cd&quot;:&quot;088&quot;,&quot;cmpltyp_cd&quot;:&quot; &quot;,&quot;catsrsn_cd&quot;:&quot;        &quot;,&quot;apealvl_cd&quot;:&quot; &quot;,&quot;cnstnty_cd&quot;:&quot;001&quot;,&quot;svcrqst_asrqst_ind&quot;:&quot;Y&quot;,&quot;svcrqst_rtnorig_in&quot;:&quot;N&quot;,&quot;svcrqst_vwasof_dt&quot;:&quot;null&quot;,&quot;sum_reason_cd&quot;:&quot;98&quot;,&quot;sum_reason&quot;:&quot;Exclude&quot;,&quot;crsr_master_claim_index&quot;:null,&quot;svcrqct_cds&quot;:[&quot;   &quot;],&quot;svcrqst_lupdt&quot;:&quot;2015-04-24 12:48:37.859683&quot;,&quot;crsr_lupdt&quot;:null,&quot;cntevsds_lupdt&quot;:&quot;2015-04-24 12:48:40.499238&quot;,&quot;ignore_me&quot;:1,&quot;notes&quot;:null}
&lt;p&gt;        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:518)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.tez.MapRecordSource.processRow(MapRecordSource.java:83)&lt;br/&gt;
        ... 16 more&lt;br/&gt;
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Unexpected exception: Index: 0, Size: 0&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.MapJoinOperator.process(MapJoinOperator.java:426)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.FilterOperator.process(FilterOperator.java:122)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:837)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TableScanOperator.process(TableScanOperator.java:97)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.MapOperator$MapOpCtx.forward(MapOperator.java:162)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:508)&lt;br/&gt;
        ... 17 more&lt;br/&gt;
Caused by: java.lang.IndexOutOfBoundsException: Index: 0, Size: 0&lt;br/&gt;
        at java.util.ArrayList.rangeCheck(ArrayList.java:635)&lt;br/&gt;
        at java.util.ArrayList.set(ArrayList.java:426)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.persistence.MapJoinBytesTableContainer.fixupComplexObjects(MapJoinBytesTableContainer.java:424)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.persistence.HybridHashTableContainer$ReusableRowContainer.uppack(HybridHashTableContainer.java:875)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.persistence.HybridHashTableContainer$ReusableRowContainer.first(HybridHashTableContainer.java:845)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.persistence.HybridHashTableContainer$ReusableRowContainer.first(HybridHashTableContainer.java:722)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.persistence.UnwrapRowContainer.first(UnwrapRowContainer.java:62)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.persistence.UnwrapRowContainer.first(UnwrapRowContainer.java:33)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.genUniqueJoinObject(CommonJoinOperator.java:650)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.CommonJoinOperator.checkAndGenObject(CommonJoinOperator.java:756)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.MapJoinOperator.process(MapJoinOperator.java:414)&lt;br/&gt;
        ... 23 more&lt;br/&gt;
]], Vertex failed as one or more tasks failed. failedTasks:1, Vertex vertex_1434641270368_13820_2_01 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 2&amp;#93;&lt;/span&gt; killed/failed due to:null]DAG failed due to vertex failure. failedVertices:1 killedVertices:0&lt;/p&gt;</comment>
                            <comment id="14598976" author="mmccline" created="Wed, 24 Jun 2015 07:05:19 +0000"  >&lt;p&gt;Yes, the trace from fixupComplexObjects in patch #3 is a bug in that patch.&lt;/p&gt;

&lt;p&gt;Since I was able to repro the problem with data and script from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11051&quot; title=&quot;Hive 1.2.0  MapJoin w/Tez - LazyBinaryArray cannot be cast to [Ljava.lang.Object;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11051&quot;&gt;&lt;del&gt;HIVE-11051&lt;/del&gt;&lt;/a&gt;, I just submitted a patch on that JIRA that is basically this JIRA&apos;s patch #3 plus a bug fix.  The new Q file tests with hive.mapjoin.hybridgrace.hashtable false and true to make sure MapJoinBytesTableContainer and HybridHashTableContainer are tested.&lt;/p&gt;

&lt;p&gt;So, this JIRA&apos;s patch #3 is defunct.&lt;/p&gt;</comment>
                            <comment id="15213366" author="mmccline" created="Sun, 27 Mar 2016 06:52:24 +0000"  >&lt;p&gt;The problem is the Vectorization class was not checking data types in the small table expression.&lt;/p&gt;</comment>
                            <comment id="15214635" author="sershe" created="Mon, 28 Mar 2016 18:29:47 +0000"  >&lt;p&gt;Didn&apos;t look at the test file, I assume it&apos;s the same as w/o vector &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
posSingleVectorMapJoinSmallTable - assumes there are two elements in the array, right? Should there be an assert? &lt;br/&gt;
Looks good pending tests otherwise. +1&lt;/p&gt;</comment>
                            <comment id="15214922" author="mmccline" created="Mon, 28 Mar 2016 21:21:46 +0000"  >&lt;p&gt;Thank you for the review.&lt;/p&gt;</comment>
                            <comment id="15215669" author="hiveqa" created="Tue, 29 Mar 2016 08:21:34 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12795540/HIVE-10729.04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12795540/HIVE-10729.04.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 9873 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMiniTezCliDriver-cte_4.q-orc_merge5.q-vectorization_limit.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby3_map.q-sample2.q-auto_join14.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby_map_ppr_multi_distinct.q-table_access_keys_stats.q-groupby4_noskew.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-join_rc.q-insert1.q-vectorized_rcfile_columnar.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-ppd_join4.q-join9.q-ppd_join3.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.ql.optimizer.physical.TestVectorizer.testValidateMapJoinOperator
org.apache.hadoop.hive.ql.optimizer.physical.TestVectorizer.testValidateSMBJoinOperator
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7400/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7400/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7400/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7400/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7400/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7400/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12795540 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15215701" author="mmccline" created="Tue, 29 Mar 2016 08:54:32 +0000"  >&lt;p&gt;Fix TestVectorizer unit test.&lt;/p&gt;</comment>
                            <comment id="15215722" author="mmccline" created="Tue, 29 Mar 2016 09:18:22 +0000"  >&lt;p&gt;Committed to master and branch-1.&lt;/p&gt;</comment>
                            <comment id="15233964" author="mmccline" created="Sun, 10 Apr 2016 07:31:28 +0000"  >&lt;p&gt;Committed to branch-2.0 also.&lt;/p&gt;</comment>
                            <comment id="15277764" author="feng yuan" created="Tue, 10 May 2016 07:51:55 +0000"  >&lt;p&gt;is there patch for 0.14.0?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12741285" name="HIVE-10729.03.patch" size="20722" author="mmccline" created="Tue, 23 Jun 2015 13:11:36 +0000"/>
                            <attachment id="12795540" name="HIVE-10729.04.patch" size="27151" author="mmccline" created="Sun, 27 Mar 2016 06:51:03 +0000"/>
                            <attachment id="12795801" name="HIVE-10729.05.patch" size="28253" author="mmccline" created="Tue, 29 Mar 2016 08:54:32 +0000"/>
                            <attachment id="12733263" name="HIVE-10729.1.patch" size="1632" author="selinazh" created="Fri, 15 May 2015 22:17:49 +0000"/>
                            <attachment id="12734209" name="HIVE-10729.2.patch" size="1678" author="selinazh" created="Wed, 20 May 2015 19:43:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 16 May 2015 11:28:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2et3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10730] LLAP: fix guava stopwatch conflict</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10730</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12830321">HIVE-10730</key>
            <summary>LLAP: fix guava stopwatch conflict</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12738189">HIVE-7926</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseth">Siddharth Seth</assignee>
                                    <reporter username="sseth">Siddharth Seth</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 21:57:44 +0000</created>
                <updated>Wed, 17 Feb 2016 01:32:47 +0000</updated>
                            <resolved>Fri, 15 May 2015 22:32:11 +0000</resolved>
                                                    <fixVersion>llap</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14546243" author="sseth" created="Fri, 15 May 2015 21:58:40 +0000"  >&lt;p&gt;Trivial patch to use the api from guava 11, which ends up on the classpath.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733259" name="HIVE-10730.1.txt" size="1908" author="sseth" created="Fri, 15 May 2015 21:58:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2et5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10731] NullPointerException in HiveParser.g</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10731</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In HiveParser.g:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; useSQL11ReservedKeywordsForIdentifier() {
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; !HiveConf.getBoolVar(hiveConf, HiveConf.ConfVars.HIVE_SUPPORT_SQL11_RESERVED_KEYWORDS);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;NullPointerException is thrown when hiveConf is not set.&lt;/p&gt;

&lt;p&gt;Stack trace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.NullPointerException
        at org.apache.hadoop.hive.conf.HiveConf.getBoolVar(HiveConf.java:2583)
        at org.apache.hadoop.hive.ql.parse.HiveParser.useSQL11ReservedKeywordsForIdentifier(HiveParser.java:1000)
        at org.apache.hadoop.hive.ql.parse.HiveParser_IdentifiersParser.useSQL11ReservedKeywordsForIdentifier(HiveParser_IdentifiersParser.java:726)
        at org.apache.hadoop.hive.ql.parse.HiveParser_IdentifiersParser.identifier(HiveParser_IdentifiersParser.java:10922)
        at org.apache.hadoop.hive.ql.parse.HiveParser.identifier(HiveParser.java:45808)
        at org.apache.hadoop.hive.ql.parse.HiveParser.columnNameType(HiveParser.java:38008)
        at org.apache.hadoop.hive.ql.parse.HiveParser.columnNameTypeList(HiveParser.java:36167)
        at org.apache.hadoop.hive.ql.parse.HiveParser.createTableStatement(HiveParser.java:5214)
        at org.apache.hadoop.hive.ql.parse.HiveParser.ddlStatement(HiveParser.java:2640)
        at org.apache.hadoop.hive.ql.parse.HiveParser.execStatement(HiveParser.java:1650)
        at org.apache.hadoop.hive.ql.parse.HiveParser.statement(HiveParser.java:1109)
        at org.apache.hadoop.hive.ql.parse.ParseDriver.parse(ParseDriver.java:202)
        at org.apache.hadoop.hive.ql.parse.ParseDriver.parse(ParseDriver.java:166)
        at org.apache.hadoop.hive.ql.parse.ParseDriver.parse(ParseDriver.java:161)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12830322">HIVE-10731</key>
            <summary>NullPointerException in HiveParser.g</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pxiong">Pengcheng Xiong</assignee>
                                    <reporter username="xguo27">Xiu (Joe) Guo</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 21:57:51 +0000</created>
                <updated>Tue, 16 Feb 2016 23:53:26 +0000</updated>
                            <resolved>Thu, 28 May 2015 03:55:10 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Query Planning</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14546282" author="pxiong" created="Fri, 15 May 2015 22:24:54 +0000"  >&lt;p&gt;Could you post the environment and the query that you run? I assume that this follows the standard practice when we pass conf. Another example is for quotedId in HiveLexer.g. cc&apos;ing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setHiveConf(Configuration hiveConf) {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.hiveConf = hiveConf;
  }
  
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; allowQuotedId() {
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; supportedQIds = HiveConf.getVar(hiveConf, HiveConf.ConfVars.HIVE_QUOTEDID_SUPPORT);
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; !&lt;span class=&quot;code-quote&quot;&gt;&quot;none&quot;&lt;/span&gt;.equals(supportedQIds);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14549186" author="xguo27" created="Mon, 18 May 2015 20:44:25 +0000"  >&lt;p&gt;We are calling hive in a proprietary setup, the query that passed on hive is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; Foo_Schema.&lt;span class=&quot;code-keyword&quot;&gt;TYPE&lt;/span&gt;  (
        &lt;span class=&quot;code-keyword&quot;&gt;TYPE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;,
        &lt;span class=&quot;code-keyword&quot;&gt;ROW&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;int&lt;/span&gt;
      )
      &lt;span class=&quot;code-keyword&quot;&gt;ROW&lt;/span&gt; FORMAT SERDE &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe&apos;&lt;/span&gt;
      STORED &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; INPUTFORMAT &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.mapred.TextInputFormat&apos;&lt;/span&gt; OUTPUTFORMAT &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I can see the flow in ParserDriver.java, we call&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ASTNode parse(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; command) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ParseException {
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; parse(command, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;, the context is null. Which will result hiveConf to be not set in&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ASTNode parse(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; command, Context ctx, &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; setTokenRewriteStream) {}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; which propagate to HiveParser and throw a NullPointerException.&lt;/p&gt;</comment>
                            <comment id="14549302" author="pxiong" created="Mon, 18 May 2015 21:52:07 +0000"  >&lt;p&gt;I see that you are leveraging HiveParser only. I attached a patch for you. If you leverage HiveLexer in the future, you will have a similar issue.&lt;/p&gt;</comment>
                            <comment id="14549602" author="hiveqa" created="Tue, 19 May 2015 01:08:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733638/HIVE-10731.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733638/HIVE-10731.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3934/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3934/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3934/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3934/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3934/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3934/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733638 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14549718" author="pxiong" created="Tue, 19 May 2015 03:03:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt;, could you please take a look? The test failure is unrelated. Thanks.&lt;/p&gt;</comment>
                            <comment id="14550917" author="jpullokkaran" created="Tue, 19 May 2015 18:12:18 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14560177" author="pxiong" created="Wed, 27 May 2015 00:02:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jpullokkaran&quot; class=&quot;user-hover&quot; rel=&quot;jpullokkaran&quot;&gt;Laljo John Pullokkaran&lt;/a&gt;, this patch also needs your review. Thanks.&lt;/p&gt;</comment>
                            <comment id="14562251" author="ashutoshc" created="Thu, 28 May 2015 03:55:10 +0000"  >&lt;p&gt;Committed to master. Thanks, Pengcheng!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733638" name="HIVE-10731.01.patch" size="610" author="pxiong" created="Mon, 18 May 2015 21:52:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 May 2015 22:24:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2et5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10732] Hive JDBC driver does not close operation for metadata queries</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10732</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>
&lt;p&gt;In following file&lt;br/&gt;
&lt;a href=&quot;http://github.mtv.cloudera.com/CDH/hive/blob/cdh5-0.14.1/jdbc/src/java/org/apache/hive/jdbc/HiveQueryResultSet.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://github.mtv.cloudera.com/CDH/hive/blob/cdh5-0.14.1/jdbc/src/java/org/apache/hive/jdbc/HiveQueryResultSet.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Line 315 implemented the ResultSet.close() method. Because &quot;DatabaseMetadata&quot; operation doesn&apos;t have a statement, it doesn&apos;t &quot;close&quot; the operation. However, regardless whether it has a statement or not, it should close the operation through the &quot;stmtHandle&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830329">HIVE-10732</key>
            <summary>Hive JDBC driver does not close operation for metadata queries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ctang.ma">Chaoyu Tang</assignee>
                                    <reporter username="mkempanna">Mala Chikka Kempanna</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 22:29:40 +0000</created>
                <updated>Tue, 16 Feb 2016 23:53:18 +0000</updated>
                            <resolved>Wed, 20 May 2015 18:15:02 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14549733" author="ctang.ma" created="Tue, 19 May 2015 03:40:42 +0000"  >&lt;p&gt;Promptly close the OperationHandle passed from HiveDatabaseMetaData in HiveQueryResultSet when DatabaseMetaData ResultSet is closed. It can help reduce HS2 memory usage, though the OperationHandle is eventually removed when it expires or the jdbc conection is closed at client site.&lt;/p&gt;</comment>
                            <comment id="14549734" author="ctang.ma" created="Tue, 19 May 2015 03:41:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt;, could you review the patch? thanks.&lt;/p&gt;</comment>
                            <comment id="14549765" author="xuefuz" created="Tue, 19 May 2015 04:32:18 +0000"  >&lt;p&gt;Sounds reasonable to me. +1 pending on test.&lt;/p&gt;</comment>
                            <comment id="14549958" author="hiveqa" created="Tue, 19 May 2015 07:16:43 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733702/HIVE-10732.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733702/HIVE-10732.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 25 failed/errored test(s), 8945 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCustomAuthentication - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_load_hdfs_file_with_space_in_the_name
org.apache.hive.beeline.TestBeeLineWithArgs.testLastLineCmdInScriptFile
org.apache.hive.jdbc.TestJdbcDriver2.testBuiltInUDFCol
org.apache.hive.jdbc.TestJdbcDriver2.testCloseResultSet
org.apache.hive.jdbc.TestJdbcDriver2.testDuplicateColumnNameOrder
org.apache.hive.jdbc.TestJdbcDriver2.testExprCol
org.apache.hive.jdbc.TestJdbcDriver2.testParentReferences
org.apache.hive.jdbc.TestJdbcDriver2.testPostClose
org.apache.hive.jdbc.TestJdbcDriver2.testPrepareStatement
org.apache.hive.jdbc.TestJdbcDriver2.testSetCommand
org.apache.hive.jdbc.TestJdbcDriver2.testShowGrant
org.apache.hive.jdbc.TestJdbcDriver2.testShowRoleGrant
org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark.testNonSparkQuery
org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark.testSparkQuery
org.apache.hive.jdbc.TestJdbcWithLocalClusterSpark.testTempTable
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testConnection
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testConnectionSchemaAPIs
org.apache.hive.jdbc.TestJdbcWithMiniMr.testMrQuery
org.apache.hive.jdbc.TestJdbcWithMiniMr.testNonMrQuery
org.apache.hive.jdbc.TestJdbcWithMiniMr.testTempTable
org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark.testNonSparkQuery
org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark.testSparkQuery
org.apache.hive.jdbc.miniHS2.TestMiniHS2.testConfInSession
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3940/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3940/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3940/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3940/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3940/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3940/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 25 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733702 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14550802" author="ctang.ma" created="Tue, 19 May 2015 17:17:14 +0000"  >&lt;p&gt;Fixed the test failures.&lt;/p&gt;</comment>
                            <comment id="14551046" author="hiveqa" created="Tue, 19 May 2015 19:16:04 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733877/HIVE-10732.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733877/HIVE-10732.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3946/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3946/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3946/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3946/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3946/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3946/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733877 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14551083" author="ctang.ma" created="Tue, 19 May 2015 19:37:10 +0000"  >&lt;p&gt;The one failed test seems not related to this patch.&lt;/p&gt;</comment>
                            <comment id="14551499" author="xuefuz" created="Tue, 19 May 2015 23:53:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;Chaoyu Tang&lt;/a&gt;, could you explain (as I don&apos;t quite understand) why you made the change from patch #0 to #1? I understand it&apos;s related to test failures.&lt;/p&gt;</comment>
                            <comment id="14551621" author="ctang.ma" created="Wed, 20 May 2015 01:28:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; The stmtHandle in HiveQueryResultSet can be set from HiveStatement or HiveDatabaseMetaData. If the variable &quot;statement&quot; in HiveQueryResultSet is not null, the stmtHandle was from HiveStatement, otherwise from HiveDatabaseMetaData. In method close(), patch#0 closes HiveStatement stmtHandle(TOperationHandle) using s.closeClientOperation(), and close the already closed TOperationHandle again using closeOperationHandle(), so we see such exceptions in the failed tests. &lt;br/&gt;
But patch#1 closes HiveStatement stmtHandle once by s.closeClientOperation(), and closes HiveDatabaseMetaData stmtHandle by closeOperationHandle().&lt;/p&gt;</comment>
                            <comment id="14552806" author="xuefuz" created="Wed, 20 May 2015 18:13:05 +0000"  >&lt;p&gt;Okay. Thanks for the explanation.&lt;/p&gt;</comment>
                            <comment id="14552814" author="xuefuz" created="Wed, 20 May 2015 18:15:02 +0000"  >&lt;p&gt;Committed to master. Thanks, Chaoyu.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733877" name="HIVE-10732.1.patch" size="1926" author="ctang.ma" created="Tue, 19 May 2015 17:17:14 +0000"/>
                            <attachment id="12733702" name="HIVE-10732.patch" size="1808" author="ctang.ma" created="Tue, 19 May 2015 03:40:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 May 2015 03:40:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2et6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10733] Fill out gaps in HiveServer2 HA</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10733</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We can rely on dynamic service discovery feature to implement HA. However, there are no service level guarantees. Also figure out any missing gaps.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830331">HIVE-10733</key>
            <summary>Fill out gaps in HiveServer2 HA</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vgumashta">Vaibhav Gumashta</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 May 2015 22:35:20 +0000</created>
                <updated>Fri, 15 May 2015 22:44:13 +0000</updated>
                                            <version>1.3.0</version>
                                                    <component>HiveServer2</component>
                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14546311" author="thejas" created="Fri, 15 May 2015 22:39:24 +0000"  >&lt;p&gt;One limitation is that a session is lost when HS2 goes down. If we can move the session state outside of HS2, we would able to preserve a session and avoid loosing the running query.&lt;/p&gt;</comment>
                            <comment id="14546313" author="vgumashta" created="Fri, 15 May 2015 22:42:45 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thiruvel&quot; class=&quot;user-hover&quot; rel=&quot;thiruvel&quot;&gt;Thiruvel Thirumoolan&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cdrome&quot; class=&quot;user-hover&quot; rel=&quot;cdrome&quot;&gt;Chris Drome&lt;/a&gt;. We had a chat few months back to discuss improvements. If you have thoughts to share, it&apos;ll be useful to add them on this jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 May 2015 22:39:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2et7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10734] Remove COLUMNS_OLD table from a schema definition file of PostgreSQL</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10734</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A COLUMNS_OLD table is included in a schema definition file of PostgreSQL.&lt;br/&gt;
This table is fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt; so as not to use it.&lt;br/&gt;
Therefore it&apos;s eliminated from a schema definition file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830488">HIVE-10734</key>
            <summary>Remove COLUMNS_OLD table from a schema definition file of PostgreSQL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sinchii">Shinichi Yamashita</assignee>
                                    <reporter username="sinchii">Shinichi Yamashita</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 May 2015 12:54:19 +0000</created>
                <updated>Tue, 16 Feb 2016 23:52:24 +0000</updated>
                            <resolved>Wed, 20 May 2015 16:15:27 +0000</resolved>
                                    <version>1.3.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14547158" author="sinchii" created="Sun, 17 May 2015 12:55:21 +0000"  >&lt;p&gt;I attach a patch file.&lt;/p&gt;</comment>
                            <comment id="14547160" author="hiveqa" created="Sun, 17 May 2015 13:02:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733378/HIVE-10734.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733378/HIVE-10734.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 24 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-METASTORE-Test/50/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-METASTORE-Test/50/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-METASTORE-Test/50/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-METASTORE-Test/50/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-METASTORE-Test-50/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-METASTORE-Test-50/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;LXC derby found.
LXC derby is not started. Starting container...
Container started.
Preparing derby container...
Container prepared.
Calling /hive/testutils/metastore/dbs/derby/prepare.sh ...
Server prepared.
Calling /hive/testutils/metastore/dbs/derby/execute.sh ...
Tests executed.
LXC mysql found.
LXC mysql is not started. Starting container...
Container started.
Preparing mysql container...
Container prepared.
Calling /hive/testutils/metastore/dbs/mysql/prepare.sh ...
Server prepared.
Calling /hive/testutils/metastore/dbs/mysql/execute.sh ...
Tests executed.
LXC postgres found.
LXC postgres is not started. Starting container...
Container started.
Preparing postgres container...
Container prepared.
Calling /hive/testutils/metastore/dbs/postgres/prepare.sh ...
Server prepared.
Calling /hive/testutils/metastore/dbs/postgres/execute.sh ...
Tests executed.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733378 - PreCommit-HIVE-METASTORE-Test&lt;/p&gt;</comment>
                            <comment id="14547197" author="hiveqa" created="Sun, 17 May 2015 14:54:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733378/HIVE-10734.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733378/HIVE-10734.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8945 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3925/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3925/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3925/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3925/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3925/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3925/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733378 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14548142" author="spena" created="Mon, 18 May 2015 15:13:51 +0000"  >&lt;p&gt;The patch looks good &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yamashitasni&quot; class=&quot;user-hover&quot; rel=&quot;yamashitasni&quot;&gt;Shinichi Yamashita&lt;/a&gt;&lt;br/&gt;
+1&lt;/p&gt;</comment>
                            <comment id="14552576" author="spena" created="Wed, 20 May 2015 16:15:27 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sinchii&quot; class=&quot;user-hover&quot; rel=&quot;sinchii&quot;&gt;Shinichi Yamashita&lt;/a&gt;&lt;br/&gt;
I committed this to master.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733378" name="HIVE-10734.patch" size="1932" author="sinchii" created="Sun, 17 May 2015 12:55:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 17 May 2015 13:02:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eu5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10735] Cached plan race condition - VectorMapJoinCommonOperator has no closeOp()</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10735</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Looks like some state is mutated during execution across threads in LLAP. &lt;/p&gt;

&lt;p&gt;Either we can&apos;t share the operator objects across threads, because they are tied to the data objects per invocation or this is missing a closeOp() which resets the common-setup between reuses.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.ArrayIndexOutOfBoundsException
	at org.apache.hadoop.hive.ql.exec.vector.mapjoin.VectorMapJoinInnerBigOnlyLongOperator.process(VectorMapJoinInnerBigOnlyLongOperator.java:380)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:850)
	at org.apache.hadoop.hive.ql.exec.vector.VectorFilterOperator.process(VectorFilterOperator.java:114)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:850)
	at org.apache.hadoop.hive.ql.exec.TableScanOperator.process(TableScanOperator.java:97)
	at org.apache.hadoop.hive.ql.exec.MapOperator$MapOpCtx.forward(MapOperator.java:164)
	at org.apache.hadoop.hive.ql.exec.vector.VectorMapOperator.process(VectorMapOperator.java:45)
	... 18 more
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.ArrayIndexOutOfBoundsException
	at org.apache.hadoop.hive.ql.exec.vector.mapjoin.VectorMapJoinInnerLongOperator.process(VectorMapJoinInnerLongOperator.java:379)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:850)
	at org.apache.hadoop.hive.ql.exec.vector.mapjoin.VectorMapJoinGenerateResultOperator.forwardBigTableBatch(VectorMapJoinGenerateResultOperator.java:599)
	at org.apache.hadoop.hive.ql.exec.vector.mapjoin.VectorMapJoinInnerBigOnlyGenerateResultOperator.generateHashMultiSetResultRepeatedAll(VectorMapJoinInnerBigOnlyGenerateResultOperator.java:304)
	at org.apache.hadoop.hive.ql.exec.vector.mapjoin.VectorMapJoinInnerBigOnlyGenerateResultOperator.finishInnerBigOnlyRepeated(VectorMapJoinInnerBigOnlyGenerateResultOperator.java:328)
	at org.apache.hadoop.hive.ql.exec.vector.mapjoin.VectorMapJoinInnerBigOnlyLongOperator.process(VectorMapJoinInnerBigOnlyLongOperator.java:201)
	... 24 more
Caused by: java.lang.ArrayIndexOutOfBoundsException
	at org.apache.hadoop.hive.ql.exec.vector.BytesColumnVector.setVal(BytesColumnVector.java:152)
	at org.apache.hadoop.hive.ql.exec.vector.VectorDeserializeRow$StringReaderByValue.apply(VectorDeserializeRow.java:349)
	at org.apache.hadoop.hive.ql.exec.vector.VectorDeserializeRow.deserializeByValue(VectorDeserializeRow.java:688)
	at org.apache.hadoop.hive.ql.exec.vector.mapjoin.VectorMapJoinGenerateResultOperator.generateHashMapResultSingleValue(VectorMapJoinGenerateResultOperator.java:177)
	at org.apache.hadoop.hive.ql.exec.vector.mapjoin.VectorMapJoinInnerGenerateResultOperator.finishInner(VectorMapJoinInnerGenerateResultOperator.java:201)
	at org.apache.hadoop.hive.ql.exec.vector.mapjoin.VectorMapJoinInnerLongOperator.process(VectorMapJoinInnerLongOperator.java:359)
	... 29 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12830554">HIVE-10735</key>
            <summary>Cached plan race condition - VectorMapJoinCommonOperator has no closeOp()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mmccline">Matt McCline</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2015 02:18:04 +0000</created>
                <updated>Thu, 4 Jun 2015 04:44:24 +0000</updated>
                            <resolved>Thu, 4 Jun 2015 04:44:24 +0000</resolved>
                                                    <fixVersion>1.2.1</fixVersion>
                                    <component>Vectorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14551135" author="mmokhtar" created="Tue, 19 May 2015 20:12:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Can you add the query and the plan?&lt;/p&gt;</comment>
                            <comment id="14551263" author="mmccline" created="Tue, 19 May 2015 21:26:54 +0000"  >&lt;p&gt;The closeOp is in the VectorMapJoinGenerateResultOperator class, which overrides MapJoinOperator&apos;s closeOp.&lt;/p&gt;

&lt;p&gt;I knew we cached and shared hash tables, but was not aware we shared operators across threads?&lt;/p&gt;</comment>
                            <comment id="14551302" author="gopalv" created="Tue, 19 May 2015 21:51:40 +0000"  >&lt;p&gt;We should not be sharing them as-is, there&apos;s a Kryo clone in the middle - I&apos;m not seeing this consistently across queries.&lt;/p&gt;

&lt;p&gt;The other bit to make sure is to not hold onto a vector row-batch internals, since Sergey added an object pool to tighten our young GC times.&lt;/p&gt;</comment>
                            <comment id="14551330" author="sershe" created="Tue, 19 May 2015 22:07:13 +0000"  >&lt;p&gt;Yeah column vectors from VRBs are pooled and reused. We can remove that if needed... see &quot;swapColumnVector&quot; in LlapRecordReader.&lt;/p&gt;</comment>
                            <comment id="14551349" author="gopalv" created="Tue, 19 May 2015 22:20:52 +0000"  >&lt;p&gt;No, the pooling is not the bug - the vector row-batch has a definite lifetime till the end of the return of processOp().&lt;/p&gt;

&lt;p&gt;the setVal() up there is the right solution for the issue (is hard to verify though) - the issue is that the unit-tests we run do not trigger the switch between files and the re-creation of new vector row-batches between invocations.&lt;/p&gt;</comment>
                            <comment id="14556629" author="sershe" created="Fri, 22 May 2015 19:01:05 +0000"  >&lt;p&gt;I see this too &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14569898" author="sershe" created="Tue, 2 Jun 2015 22:33:12 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10897&quot; title=&quot;LLAP: ArrayIndexOOB exception in new mapjoin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10897&quot;&gt;&lt;del&gt;HIVE-10897&lt;/del&gt;&lt;/a&gt;, this happens in single-query case too&lt;/p&gt;</comment>
                            <comment id="14570311" author="gopalv" created="Wed, 3 Jun 2015 05:46:47 +0000"  >&lt;p&gt;This patch fails to run basic query27 still&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.NullPointerException
	at org.apache.hadoop.hive.serde2.WriteBuffers$Position.access$002(WriteBuffers.java:44)
	at org.apache.hadoop.hive.serde2.WriteBuffers.setReadPoint(WriteBuffers.java:125)
	at org.apache.hadoop.hive.ql.exec.persistence.BytesBytesMultiHashMap.isSameKey(BytesBytesMultiHashMap.java:705)
	at org.apache.hadoop.hive.ql.exec.persistence.BytesBytesMultiHashMap.findKeyRefToRead(BytesBytesMultiHashMap.java:630)
	at org.apache.hadoop.hive.ql.exec.persistence.BytesBytesMultiHashMap.getValueResult(BytesBytesMultiHashMap.java:494)
	at org.apache.hadoop.hive.ql.exec.persistence.HybridHashTableContainer$ReusableRowContainer.setDirect(HybridHashTableContainer.java:896)
	at org.apache.hadoop.hive.ql.exec.persistence.HybridHashTableContainer$GetAdaptor.setDirect(HybridHashTableContainer.java:713)
	at org.apache.hadoop.hive.ql.exec.vector.mapjoin.optimized.VectorMapJoinOptimizedHashTable.doLookup(VectorMapJoinOptimizedHashTable.java:76)
	at org.apache.hadoop.hive.ql.exec.vector.mapjoin.optimized.VectorMapJoinOptimizedHashMultiSet.contains(VectorMapJoinOptimizedHashMultiSet.java:92)
	at org.apache.hadoop.hive.ql.exec.vector.mapjoin.optimized.VectorMapJoinOptimizedLongHashMultiSet.contains(VectorMapJoinOptimizedLongHashMultiSet.java:72)
	at org.apache.hadoop.hive.ql.exec.vector.mapjoin.VectorMapJoinInnerBigOnlyLongOperator.process(VectorMapJoinInnerBigOnlyLongOperator.java:188)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14570328" author="hiveqa" created="Wed, 3 Jun 2015 06:02:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12737075/HIVE-10705.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12737075/HIVE-10705.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 62 failed/errored test(s), 8992 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_autogen_colalias
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_nondeterministic
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_join0
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_join1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_join29
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_join30
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_join_filters
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_10
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_11
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_12
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_13
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_14
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_4
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_5
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_7
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_8
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_9
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_correlationoptimizer1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynamic_partition_pruning
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynamic_partition_pruning_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_explainuser_1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_hybridgrace_hashjoin_1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_hybridgrace_hashjoin_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_lvj_mapjoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mapjoin_mapjoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mrr
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_bmj_schema_evolution
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_join_hash
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_smb_main
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_unionDistinct_1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_binary_join_groupby
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_char_mapjoin1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_inner_join
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_join30
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_join_filters
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_join_nulls
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_left_outer_join
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_left_outer_join2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_leftsemi_mapjoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_mapjoin_reduce
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_nullsafe_join
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_outer_join0
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_outer_join1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_outer_join2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_outer_join3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_outer_join4
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_outer_join5
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_varchar_mapjoin1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_context
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_dynamic_partition_pruning
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_mapjoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_nested_mapjoin
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_2
org.apache.hadoop.hive.ql.exec.persistence.TestBytesBytesMultiHashMap.testExpand
org.apache.hadoop.hive.ql.exec.persistence.TestBytesBytesMultiHashMap.testPutGetMultiple
org.apache.hadoop.hive.ql.exec.persistence.TestBytesBytesMultiHashMap.testPutGetOne
org.apache.hadoop.hive.ql.exec.persistence.TestBytesBytesMultiHashMap.testPutWithFullMap
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4152/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4152/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4152/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4152/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4152/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4152/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 62 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12737075 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14570455" author="mmccline" created="Wed, 3 Jun 2015 08:09:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; sorry about that.  New patch available.&lt;/p&gt;</comment>
                            <comment id="14571366" author="gopalv" created="Wed, 3 Jun 2015 17:28:00 +0000"  >&lt;p&gt;New patch passes the first gauntlet - 5 concurrent queries x 10 repetitions without corruptions last night.&lt;/p&gt;

&lt;p&gt;Will leave more tests running during some of my meetings.&lt;/p&gt;</comment>
                            <comment id="14571398" author="sershe" created="Wed, 3 Jun 2015 17:50:52 +0000"  >&lt;p&gt;Why does this patch remove thread-safe position? This has been known to cause problems in the past when hashtable is shared, which is something that may be done in LLAP&lt;/p&gt;</comment>
                            <comment id="14571592" author="mmccline" created="Wed, 3 Jun 2015 20:30:08 +0000"  >&lt;p&gt;Use of the thread-safe position has been internalized into the hash map Result class &amp;#8211; that is, as long as you pre-allocate a Result object per thread the usage is safe.&lt;/p&gt;</comment>
                            <comment id="14571616" author="sershe" created="Wed, 3 Jun 2015 20:43:40 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14571663" author="mmccline" created="Wed, 3 Jun 2015 21:16:39 +0000"  >&lt;p&gt;&lt;br/&gt;
Don&apos;t know why the tests results haven&apos;t been posted, but &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4156/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4156/testReport/&lt;/a&gt; show 3 failures unrelated to this change...&lt;/p&gt;</comment>
                            <comment id="14572131" author="hagleitn" created="Thu, 4 Jun 2015 04:44:24 +0000"  >&lt;p&gt;Committed to master + branch-1.2. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmccline&quot; class=&quot;user-hover&quot; rel=&quot;mmccline&quot;&gt;Matt McCline&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12788329">HIVE-10220</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12737075" name="HIVE-10705.01.patch" size="6410" author="mmccline" created="Wed, 3 Jun 2015 03:13:23 +0000"/>
                            <attachment id="12737118" name="HIVE-10705.02.patch" size="6619" author="mmccline" created="Wed, 3 Jun 2015 08:08:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 May 2015 20:12:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2euk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10736] HiveServer2 shutdown of cached tez app-masters is not clean</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10736</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The shutdown process throws concurrent modification exceptions and fails to clean up the app masters per queue.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2015-05-17 20:24:00,464 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-6()]: service.AbstractService (AbstractService.java:stop(125)) - Service:OperationManager is stopped.
2015-05-17 20:24:00,464 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-6()]: service.AbstractService (AbstractService.java:stop(125)) - Service:SessionManager is stopped.
2015-05-17 20:24:00,464 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-9()]: tez.TezSessionPoolManager (TezSessionPoolManager.java:close(175)) - Closing tez session &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2015-05-17 20:24:00,465 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-9()]: tez.TezSessionPoolManager (TezSessionPoolManager.java:close(175)) - Closing tez session &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2015-05-17 20:24:00,465 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-9()]: tez.TezSessionPoolManager (TezSessionPoolManager.java:close(175)) - Closing tez session &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2015-05-17 20:24:00,465 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-9()]: tez.TezSessionPoolManager (TezSessionPoolManager.java:close(175)) - Closing tez session &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2015-05-17 20:24:00,465 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-9()]: tez.TezSessionPoolManager (TezSessionPoolManager.java:close(175)) - Closing tez session &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2015-05-17 20:24:00,465 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-9()]: tez.TezSessionPoolManager (TezSessionPoolManager.java:close(175)) - Closing tez session &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2015-05-17 20:24:00,465 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-9()]: tez.TezSessionPoolManager (TezSessionPoolManager.java:close(175)) - Closing tez session &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2015-05-17 20:24:00,465 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-9()]: tez.TezSessionPoolManager (TezSessionPoolManager.java:close(175)) - Closing tez session &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;? &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2015-05-17 20:24:00,465 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-6()]: service.AbstractService (AbstractService.java:stop(125)) - Service:CLIService is stopped.
2015-05-17 20:24:00,465 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-6()]: service.AbstractService (AbstractService.java:stop(125)) - Service:HiveServer2 is stopped.
2015-05-17 20:24:00,465 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-6()]: tez.TezSessionState (TezSessionState.java:close(332)) - Closing Tez Session
2015-05-17 20:24:00,466 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-6()]: client.TezClient (TezClient.java:stop(495)) - Shutting down Tez Session, sessionName=HIVE-94cc629d-63bc-490a-a135-af85c0cc0f2e, applicationId=application_1431919257083_0012
2015-05-17 20:24:00,570 ERROR [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-6()]: server.HiveServer2 (HiveServer2.java:stop(322)) - Tez session pool manager stop had an error during stop of HiveServer2. Shutting down HiveServer2 anyway.
java.util.ConcurrentModificationException
        at java.util.LinkedList$ListItr.checkForComodification(LinkedList.java:966)
        at java.util.LinkedList$ListItr.next(LinkedList.java:888)
        at org.apache.hadoop.hive.ql.exec.tez.TezSessionPoolManager.stop(TezSessionPoolManager.java:187)
        at org.apache.hive.service.server.HiveServer2.stop(HiveServer2.java:320)
        at org.apache.hive.service.server.HiveServer2$1.run(HiveServer2.java:107)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12830559">HIVE-10736</key>
            <summary>HiveServer2 shutdown of cached tez app-masters is not clean</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2015 03:25:45 +0000</created>
                <updated>Tue, 16 Feb 2016 23:53:05 +0000</updated>
                            <resolved>Sat, 6 Jun 2015 18:04:16 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>1.2.1</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14572079" author="hiveqa" created="Thu, 4 Jun 2015 04:03:53 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12737408/HIVE-10736.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12737408/HIVE-10736.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4165/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4165/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4165/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4165/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4165/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4165/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-4165/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at aec98e9 HIVE-10705 Update tests for HIVE-9302 after removing binaries(Ferdinand Xu, reviewed by Hari Sankar Sivarama Subramaniyan)
+ git clean -f -d
Removing ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java.orig
Removing ql/src/test/queries/clientpositive/insertoverwrite_bucket.q
Removing ql/src/test/results/clientpositive/insertoverwrite_bucket.q.out
+ git checkout master
Already on &apos;master&apos;
+ git reset --hard origin/master
HEAD is now at aec98e9 HIVE-10705 Update tests for HIVE-9302 after removing binaries(Ferdinand Xu, reviewed by Hari Sankar Sivarama Subramaniyan)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12737408 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14572606" author="hiveqa" created="Thu, 4 Jun 2015 11:41:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12737457/HIVE-10736.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12737457/HIVE-10736.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 8998 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_autogen_colalias
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_nondeterministic
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4170/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4170/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4170/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4170/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4170/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4170/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12737457 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14573274" author="hagleitn" created="Thu, 4 Jun 2015 18:03:17 +0000"  >&lt;p&gt;+1 branch-1.2 as well?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12737408" name="HIVE-10736.1.patch" size="5514" author="vikram.dixit" created="Wed, 3 Jun 2015 23:38:00 +0000"/>
                            <attachment id="12737457" name="HIVE-10736.2.patch" size="5221" author="vikram.dixit" created="Thu, 4 Jun 2015 04:41:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Jun 2015 04:03:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eulb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10737] LLAP: task scheduler thread-count keeps growing</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10737</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;LLAP AppMasters die with &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2015-05-17 20:22:44,513 FATAL [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-97] yarn.YarnUncaughtExceptionHandler: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-97,5,main] threw an Error.  Shutting down now...
java.lang.OutOfMemoryError: unable to create &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt; thread
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.start0(Native Method)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.start(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:714)
	at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:950)
	at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1357)
	at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)
	at java.util.concurrent.Executors$DelegatedExecutorService.submit(Executors.java:681)
	at org.apache.tez.dag.app.rm.TaskSchedulerAppCallbackWrapper.taskAllocated(TaskSchedulerAppCallbackWrapper.java:60)
	at org.apache.tez.dag.app.rm.LocalTaskSchedulerService$AsyncDelegateRequestHandler.allocateTask(LocalTaskSchedulerService.java:410)
	at org.apache.tez.dag.app.rm.LocalTaskSchedulerService$AsyncDelegateRequestHandler.processRequest(LocalTaskSchedulerService.java:394)
	at org.apache.tez.dag.app.rm.LocalTaskSchedulerService$AsyncDelegateRequestHandler.run(LocalTaskSchedulerService.java:386)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12830563">HIVE-10737</key>
            <summary>LLAP: task scheduler thread-count keeps growing</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12738189">HIVE-7926</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sseth">Siddharth Seth</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2015 03:48:26 +0000</created>
                <updated>Wed, 18 Nov 2015 20:05:38 +0000</updated>
                                                                            <component>llap</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14547624" author="sseth" created="Mon, 18 May 2015 07:14:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; - do you happen to have a stack trace from the AM before it went OOM ?&lt;/p&gt;</comment>
                            <comment id="14548279" author="gopalv" created="Mon, 18 May 2015 16:58:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt;: No, this is nearly arbitrary on some of the app masters, not all of them are crashing.&lt;/p&gt;

&lt;p&gt;What&apos;s strange is that the 2nd attempt is not coming back up either during recovery.&lt;/p&gt;

&lt;p&gt;Will attach a debugger and trace through soon.&lt;/p&gt;</comment>
                            <comment id="14548298" author="gopalv" created="Mon, 18 May 2015 17:07:31 +0000"  >&lt;p&gt;Logs suggest that this happens during Uberized Fetcher thread creation - still no conclusive evidence of that.&lt;/p&gt;</comment>
                            <comment id="14549200" author="sseth" created="Mon, 18 May 2015 20:50:52 +0000"  >&lt;p&gt;There&apos;s other OOMs on the TaskCommunicator threads before this specific OOM. The AM is obviously seeing memory pressure. This could be a result of the Orc cache, events being stored (large jobs), uberized fetchers - where data will be fetched into memory - and the AM size may not have accounted for this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 May 2015 07:14:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eum7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10738] Beeline does not respect hive.cli.print.current.db</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10738</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>
&lt;p&gt;Hive CLI (shows default database):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; set hive.cli.print.current.db=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
set hive.cli.print.current.db=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
hive (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;)&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Beeline (no change):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000&amp;gt; set hive.cli.print.current.db=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
&lt;/span&gt;set hive.cli.print.current.db=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
No rows affected (3.016 seconds)
0: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10000&amp;gt; &lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12830669">HIVE-10738</key>
            <summary>Beeline does not respect hive.cli.print.current.db</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="sircodesalot">Reuben Kuhnert</assignee>
                                    <reporter username="sircodesalot">Reuben Kuhnert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2015 12:47:26 +0000</created>
                <updated>Wed, 27 Jul 2016 16:11:32 +0000</updated>
                            <resolved>Wed, 27 Jul 2016 16:11:32 +0000</resolved>
                                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15395913" author="pvary" created="Wed, 27 Jul 2016 16:11:32 +0000"  >&lt;p&gt;The configuration is working in CLI, and in BeeLine in compatibility mode.&lt;br/&gt;
In BeeLine in beeline mode use the --showDbInPrompt command line option instead.&lt;br/&gt;
See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14123&quot; title=&quot;Add beeline configuration option to show database in the prompt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14123&quot;&gt;&lt;del&gt;HIVE-14123&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12984956">HIVE-14123</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Jul 2016 16:11:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 25 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ev9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10739] Hiveserver2 Memory leak in ObjectInspectorFactory cache</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10739</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;User issue multiple &quot;add jar&quot; to add thrift classes to classpath and create table or doing query using those thrift serdes. &lt;br/&gt;
After session is closed, there is still class and objectinspector instance live in the cache, so the classloader for the class and all the other referenced class and static fields cannot be freed.&lt;br/&gt;
We may need to provided an option to create inspector without putting it to cache.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830729">HIVE-10739</key>
            <summary>Hiveserver2 Memory leak in ObjectInspectorFactory cache</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="decster">Binglin Chang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2015 16:09:52 +0000</created>
                <updated>Mon, 18 May 2015 16:09:52 +0000</updated>
                                                                            <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2evn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10740] RpcServer should be restarted if related configuration is changed [Spark Branch]</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10740</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In reviewing patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10721&quot; title=&quot;SparkSessionManagerImpl leaks SparkSessions [Spark Branch]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10721&quot;&gt;&lt;del&gt;HIVE-10721&lt;/del&gt;&lt;/a&gt;, Chengxiang pointed out an existing issue with HoS: the RpcServer is never restarted even related configurations are changed, as we do for SparkSession. We should monitor related configurations and restart the RpcServer if any is changed. It should be restarted while there is no active SparkSession.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830748">HIVE-10740</key>
            <summary>RpcServer should be restarted if related configuration is changed [Spark Branch]</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jxiang">Jimmy Xiang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2015 17:43:35 +0000</created>
                <updated>Mon, 18 May 2015 17:44:57 +0000</updated>
                                                                            <component>Spark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12830200">HIVE-10721</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2evrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10741] count distinct rewrite is not firing</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10741</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Rewrite introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10568&quot; title=&quot;Select count(distinct()) can have more optimal execution plan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10568&quot;&gt;&lt;del&gt;HIVE-10568&lt;/del&gt;&lt;/a&gt; is not effective outside of test environment&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830760">HIVE-10741</key>
            <summary>count distinct rewrite is not firing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="mmokhtar">Mostafa Mokhtar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2015 18:11:21 +0000</created>
                <updated>Wed, 20 May 2015 22:07:26 +0000</updated>
                            <resolved>Wed, 20 May 2015 22:07:26 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.2.1</fixVersion>
                                    <component>Query Planning</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14548445" author="ashutoshc" created="Mon, 18 May 2015 18:14:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmokhtar&quot; class=&quot;user-hover&quot; rel=&quot;mmokhtar&quot;&gt;Mostafa Mokhtar&lt;/a&gt; When you get a chance can you try out this patch?&lt;/p&gt;</comment>
                            <comment id="14549141" author="hiveqa" created="Mon, 18 May 2015 20:22:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733589/HIVE-10741.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733589/HIVE-10741.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 16 failed/errored test(s), 8942 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHBaseNegativeCliDriver - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_auto_join32
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_count
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby2
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby3
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby3_map
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby3_map_multi_distinct
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby3_map_skew
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby3_noskew
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby3_noskew_multi_distinct
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby_map_ppr
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby_map_ppr_multi_distinct
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby_ppr
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_limit_pushdown
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vector_count_distinct
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3930/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3930/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3930/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3930/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3930/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3930/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 16 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733589 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14549761" author="ashutoshc" created="Tue, 19 May 2015 04:24:58 +0000"  >&lt;p&gt;Golden files updated.&lt;/p&gt;</comment>
                            <comment id="14550057" author="hiveqa" created="Tue, 19 May 2015 08:46:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733706/HIVE-10741.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733706/HIVE-10741.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 8946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_context_ngrams
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_parquet_types
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3941/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3941/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3941/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3941/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3941/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3941/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733706 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14553050" author="jpullokkaran" created="Wed, 20 May 2015 20:29:58 +0000"  >&lt;p&gt;Looks good.&lt;br/&gt;
May be we should rename hasEnoughJoins to something else since we are also looking for distincts.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14553223" author="ashutoshc" created="Wed, 20 May 2015 22:07:26 +0000"  >&lt;p&gt;Pushed to master &amp;amp; 1.2&lt;/p&gt;

&lt;p&gt;yeah... make sense. I need to do a follow-up patch for this. I will do rename in that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733706" name="HIVE-10741.1.patch" size="34490" author="ashutoshc" created="Tue, 19 May 2015 04:24:58 +0000"/>
                            <attachment id="12733589" name="HIVE-10741.patch" size="8016" author="ashutoshc" created="Mon, 18 May 2015 18:14:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 May 2015 18:14:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2evtz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10742] rename_table_location.q test fails</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10742</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The test rename_table_location.q fails all the time but is not being caught by the HiveQA.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830827">HIVE-10742</key>
            <summary>rename_table_location.q test fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2015 21:03:24 +0000</created>
                <updated>Mon, 18 May 2015 21:03:24 +0000</updated>
                                            <version>1.2.0</version>
                    <version>1.3.0</version>
                                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ew8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10743] LLAP: rare NPE in IO</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10743</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2015-05-18 15:37:33,702 [TezTaskRunner_attempt_1431919257083_0116_1_00_000009_0(container_222212222_0116_01_000010_sershe_20150518153700_b3649675-c035-4d9a-8dfb-2818b0173022:1_Map 1_9_0)] INFO org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader: Processing file hdfs://cn041-10.l42scl.hortonworks.com:8020/apps/hive/warehouse/tpch_orc_snappy_1000.db/lineitem/000093_0
2015-05-18 15:37:33,743 [IO-Elevator-Thread-9(container_222212222_0116_01_000010_sershe_20150518153700_b3649675-c035-4d9a-8dfb-2818b0173022:1_Map 1_9_0)] INFO org.apache.hadoop.hive.ql.io.orc.EncodedReaderImpl: Resulting disk ranges to read (file 7895017): [{range start: 28153685 end: 70814209}]
2015-05-18 15:37:33,743 [IO-Elevator-Thread-9(container_222212222_0116_01_000010_sershe_20150518153700_b3649675-c035-4d9a-8dfb-2818b0173022:1_Map 1_9_0)] INFO org.apache.hadoop.hive.ql.io.orc.EncodedReaderImpl: Disk ranges after cache (file 7895017, base offset 3): [{range start: 28153685 end: 70814209}]
2015-05-18 15:37:33,791 [IO-Elevator-Thread-9(container_222212222_0116_01_000010_sershe_20150518153700_b3649675-c035-4d9a-8dfb-2818b0173022:1_Map 1_9_0)] INFO org.apache.hadoop.hive.ql.io.orc.EncodedReaderImpl: Disk ranges after disk read (file 7895017, base offset 3): [{data range [28153685, 70814209), size: 42660524 type: direct}]
2015-05-18 15:37:33,804 [IO-Elevator-Thread-9(container_222212222_0116_01_000010_sershe_20150518153700_b3649675-c035-4d9a-8dfb-2818b0173022:1_Map 1_9_0)] INFO org.apache.hadoop.hive.llap.io.api.impl.LlapIoImpl: setError called; closed false, done false, err null, pending 0
...
Caused by: java.lang.NullPointerException
        at org.apache.hadoop.hive.ql.io.orc.InStream.readEncodedStream(InStream.java:763)
        at org.apache.hadoop.hive.ql.io.orc.EncodedReaderImpl.readEncodedColumns(EncodedReaderImpl.java:445)
        at org.apache.hadoop.hive.llap.io.encoded.OrcEncodedDataReader.callInternal(OrcEncodedDataReader.java:294)
        at org.apache.hadoop.hive.llap.io.encoded.OrcEncodedDataReader.callInternal(OrcEncodedDataReader.java:56)
        at org.apache.hadoop.hive.common.CallableWithNdc.call(CallableWithNdc.java:37)
        ... 4 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Not sure yet how this happened. May add some logging or look more if I see it again&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830857">HIVE-10743</key>
            <summary>LLAP: rare NPE in IO</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12738189">HIVE-7926</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2015 22:52:36 +0000</created>
                <updated>Tue, 4 Aug 2015 01:08:57 +0000</updated>
                            <resolved>Tue, 4 Aug 2015 01:08:56 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ewfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10744] LLAP: dags get stuck in yet another way</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10744</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;DAG gets stuck when number of tasks that is multiple of number of containers on machine (6, 12, ... in my case) fails to finish at the end of the stage (I am running a job with 500-1000 maps). Status just hangs forever (beyond 5 min timeout) with some tasks shown as running. Happened twice on 3rd DAG with 1000-map job (TPCH Q1), then when I reduced to 500 happened on 7th DAG so far. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt; has the details.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830863">HIVE-10744</key>
            <summary>LLAP: dags get stuck in yet another way</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12738189">HIVE-7926</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2015 23:19:11 +0000</created>
                <updated>Wed, 17 Feb 2016 01:33:12 +0000</updated>
                            <resolved>Thu, 28 May 2015 01:18:11 +0000</resolved>
                                                    <fixVersion>llap</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14549492" author="sershe" created="Mon, 18 May 2015 23:21:46 +0000"  >&lt;p&gt;Update on another run with 500 maps it got stuck on the 3rd DAG so I guess it&apos;s not based on the number of tasks...&lt;/p&gt;</comment>
                            <comment id="14549493" author="sershe" created="Mon, 18 May 2015 23:22:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt; fyi&lt;/p&gt;</comment>
                            <comment id="14549863" author="prasanth_j" created="Tue, 19 May 2015 06:17:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt; Can you take a look at the patch? The task scheduler is much more simplified now. Removed all book-keeping data structures.&lt;/p&gt;</comment>
                            <comment id="14550009" author="prasanth_j" created="Tue, 19 May 2015 08:06:54 +0000"  >&lt;p&gt;Committed to llap branch.&lt;/p&gt;</comment>
                            <comment id="14562126" author="sershe" created="Thu, 28 May 2015 01:05:48 +0000"  >&lt;p&gt;I got it stuck again &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Latest build.&lt;br/&gt;
Internal app ids application_1431919257083_2673 and application_1431919257083_2674.&lt;br/&gt;
Logs provided upon request.&lt;/p&gt;</comment>
                            <comment id="14562139" author="sershe" created="Thu, 28 May 2015 01:18:11 +0000"  >&lt;p&gt;different issue&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733745" name="HIVE-10744.patch" size="12679" author="prasanth_j" created="Tue, 19 May 2015 08:02:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 May 2015 06:17:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ewgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10745] Better null handling by Vectorizer</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10745</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Minor refactoring around null handling in Vectorization.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830875">HIVE-10745</key>
            <summary>Better null handling by Vectorizer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="jvaria">Jagruti Varia</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 May 2015 23:50:15 +0000</created>
                <updated>Wed, 20 May 2015 05:21:55 +0000</updated>
                            <resolved>Wed, 20 May 2015 05:21:55 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.2.1</fixVersion>
                                    <component>Vectorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14549534" author="ashutoshc" created="Mon, 18 May 2015 23:52:05 +0000"  >&lt;p&gt;Interim patch. Still looking for further improvements.&lt;/p&gt;</comment>
                            <comment id="14549583" author="ashutoshc" created="Tue, 19 May 2015 00:51:20 +0000"  >&lt;p&gt;Patch is ready for review.&lt;/p&gt;</comment>
                            <comment id="14549599" author="ashutoshc" created="Tue, 19 May 2015 01:02:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/34385/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/34385/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14549825" author="hiveqa" created="Tue, 19 May 2015 05:46:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733683/HIVE-10745.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733683/HIVE-10745.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 8946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbortAndCommit
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3939/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3939/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3939/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3939/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3939/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3939/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733683 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14550720" author="swarnim" created="Tue, 19 May 2015 16:30:44 +0000"  >&lt;p&gt;+1(NB)&lt;/p&gt;</comment>
                            <comment id="14551087" author="swarnim" created="Tue, 19 May 2015 19:42:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; Want to update the RB real quick? I can help. review this then.&lt;/p&gt;</comment>
                            <comment id="14551350" author="hiveqa" created="Tue, 19 May 2015 22:20:53 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733919/HIVE-10745.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733919/HIVE-10745.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 8946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3948/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3948/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3948/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3948/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3948/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3948/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733919 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14551383" author="ashutoshc" created="Tue, 19 May 2015 22:42:32 +0000"  >&lt;p&gt;With updated exception message.&lt;/p&gt;</comment>
                            <comment id="14551389" author="hsubramaniyan" created="Tue, 19 May 2015 22:48:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14551835" author="ashutoshc" created="Wed, 20 May 2015 05:21:55 +0000"  >&lt;p&gt;Committed to master &amp;amp; 1.2&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733683" name="HIVE-10745.1.patch" size="9080" author="ashutoshc" created="Tue, 19 May 2015 00:51:20 +0000"/>
                            <attachment id="12733919" name="HIVE-10745.2.patch" size="9694" author="ashutoshc" created="Tue, 19 May 2015 19:03:30 +0000"/>
                            <attachment id="12733973" name="HIVE-10745.3.patch" size="10007" author="ashutoshc" created="Tue, 19 May 2015 22:42:32 +0000"/>
                            <attachment id="12733669" name="HIVE-10745.patch" size="7884" author="ashutoshc" created="Mon, 18 May 2015 23:52:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 May 2015 23:52:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ewjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10746]  Hive 1.2.0+Tez produces 1-byte FileSplits from mapred.TextInputFormat</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10746</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following query: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; appl_user_id, arsn_cd, &lt;span class=&quot;code-keyword&quot;&gt;COUNT&lt;/span&gt;(*) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; RecordCount &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; adw.crc_arsn &lt;span class=&quot;code-keyword&quot;&gt;GROUP&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BY&lt;/span&gt; appl_user_id,arsn_cd &lt;span class=&quot;code-keyword&quot;&gt;ORDER&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BY&lt;/span&gt; appl_user_id;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; runs consistently fast in Spark and Mapreduce on Hive 1.2.0. When attempting to run this same query against Tez as the execution engine it consistently runs for over 300-500 seconds this seems extremely long. This is a basic external table delimited by tabs and is a single file in a folder. In Hive 0.13 this query with Tez runs fast and I tested with Hive 0.14, 0.14.1/1.0.0 and now Hive 1.2.0 and there clearly is something going awry with Hive w/Tez as an execution engine with Single or small file tables. I can attach further logs if someone needs them for deeper analysis.&lt;/p&gt;

&lt;p&gt;HDFS Output:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hadoop fs -ls /example_dw/crc/arsn
Found 2 items
-rwxr-x---   6 loaduser hadoopusers          0 2015-05-17 20:03 /example_dw/crc/arsn/_SUCCESS
-rwxr-x---   6 loaduser hadoopusers    3883880 2015-05-17 20:03 /example_dw/crc/arsn/part-m-00000
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Hive Table Describe:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; describe formatted crc_arsn;
OK
# col_name              data_type               comment             
                 
arsn_cd                 string                                      
clmlvl_cd               string                                      
arclss_cd               string                                      
arclssg_cd              string                                      
arsn_prcsr_rmk_ind      string                                      
arsn_mbr_rspns_ind      string                                      
savtyp_cd               string                                      
arsn_eff_dt             string                                      
arsn_exp_dt             string                                      
arsn_pstd_dts           string                                      
arsn_lstupd_dts         string                                      
arsn_updrsn_txt         string                                      
appl_user_id            string                                      
arsntyp_cd              string                                      
pre_d_indicator         string                                      
arsn_display_txt        string                                      
arstat_cd               string                                      
arsn_tracking_no        string                                      
arsn_cstspcfc_ind       string                                      
arsn_mstr_rcrd_ind      string                                      
state_specific_ind      string                                      
region_specific_in      string                                      
arsn_dpndnt_cd          string                                      
unit_adjustment_in      string                                      
arsn_mbr_only_ind       string                                      
arsn_qrmb_ind           string                                      
                 
# Detailed Table Information             
Database:               adw                      
Owner:                  LOADUSER@EXA.EXAMPLE.COM   
CreateTime:             Mon Apr 28 13:28:05 EDT 2014     
LastAccessTime:         UNKNOWN                  
Protect Mode:           None                     
Retention:              0                        
Location:               hdfs://xhadnnm1p.example.com:8020/example_dw/crc/arsn        
Table Type:             EXTERNAL_TABLE           
Table Parameters:                
        EXTERNAL                TRUE                
        transient_lastDdlTime   1398706085          
                 
# Storage Information            
SerDe Library:          org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe       
InputFormat:            org.apache.hadoop.mapred.TextInputFormat         
OutputFormat:           org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat       
Compressed:             No                       
Num Buckets:            -1                       
Bucket Columns:         []                       
Sort Columns:           []                       
Storage Desc Params:             
        field.delim             \t                  
        line.delim              \n                  
        serialization.format    \t                  
Time taken: 1.245 seconds, Fetched: 54 row(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Explain Hive 1.2.0 w/Tez:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;STAGE DEPENDENCIES:
  Stage-1 is a root stage
  Stage-0 depends on stages: Stage-1

STAGE PLANS:
  Stage: Stage-1
    Tez
      Edges:
        Reducer 2 &amp;lt;- Map 1 (SIMPLE_EDGE)
        Reducer 3 &amp;lt;- Reducer 2 (SIMPLE_EDGE)


Explain Hive 0.13 w/Tez:
STAGE DEPENDENCIES:
  Stage-1 is a root stage
  Stage-0 is a root stage

STAGE PLANS:
  Stage: Stage-1
    Tez
      Edges:
        Reducer 2 &amp;lt;- Map 1 (SIMPLE_EDGE)
        Reducer 3 &amp;lt;- Reducer 2 (SIMPLE_EDGE) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Results:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;	Hive 1.2.0 w/Spark 1.3.1:
 		Finished successfully in 7.09 seconds

	Hive 1.2.0 w/Mapreduce:
		Stage 1: 32 Seconds
		Stage 2: 35 Seconds

	Hive 1.2.0 w/Tez 0.5.3:
		Time taken: 565.025 seconds, Fetched: 11516 row(s)
	
	Hive 0.13 w/Tez 0.4.0:
		Time taken: 13.552 seconds, Fetched: 11516 row(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And finally looking at the Dag Attempt that is stuck for 500 seconds or so in Tez it looks to be stuck running the same method over and over again:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;8 duration=2561 from=org.apache.hadoop.hive.ql.exec.tez.RecordProcessor&amp;gt;
2015-05-18 19:58:41,719 INFO [TezChild] exec.Utilities: PLAN PATH = hdfs://xhadnnm1p.example.com:8020/tmp/hive/gss2002/dbc4b0b5-7859-4487-a56d-969440bc5e90/hive_2015-05-18_19-58-25_951_5497535752804149087-1/gss2002/_tez_scratch_dir/4e635121-c4cd-4e3f-b96b-9f08a6a7bf5d/map.xml
2015-05-18 19:58:41,822 INFO [TezChild] exec.MapOperator: MAP[4]: records read - 1
2015-05-18 19:58:41,835 INFO [TezChild] io.HiveContextAwareRecordReader: Processing file hdfs://xhadnnm1p.example.com:8020/example_dw/crc/arsn/part-m-00000
2015-05-18 19:58:41,848 INFO [TezChild] io.HiveContextAwareRecordReader: Processing file hdfs://xhadnnm1p.example.com:8020/example_dw/crc/arsn/part-m-00000

......


2015-05-18 20:07:46,560 INFO [TezChild] io.HiveContextAwareRecordReader: Processing file hdfs://xhadnnm1p.example.com:8020/example_dw/crc/arsn/part-m-00000
2015-05-18 20:07:46,574 INFO [TezChild] io.HiveContextAwareRecordReader: Processing file hdfs://xhadnnm1p.example.com:8020/example_dw/crc/arsn/part-m-00000
2015-05-18 20:07:46,587 INFO [TezChild] io.HiveContextAwareRecordReader: Processing file hdfs://xhadnnm1p.example.com:8020/example_dw/crc/arsn/part-m-00000
2015-05-18 20:07:46,603 INFO [TezChild] io.HiveContextAwareRecordReader: Processing file hdfs://xhadnnm1p.example.com:8020/example_dw/crc/arsn/part-m-00000
2015-05-18 20:07:46,603 INFO [TezChild] log.PerfLogger: &amp;lt;/PERFLOG method=TezRunProcessor start=1431993518764 end=1431994066603 duration=547839 from=org.apache.hadoop.hive.ql.exec.tez.TezProcessor&amp;gt;
2015-05-18 20:07:46,603 INFO [TezChild] exec.MapOperator: 4 finished. closing... 
2015-05-18 20:07:46,603 INFO [TezChild] exec.MapOperator: RECORDS_IN_Map_1:13440
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12830899">HIVE-10746</key>
            <summary> Hive 1.2.0+Tez produces 1-byte FileSplits from mapred.TextInputFormat</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gopalv">Gopal V</assignee>
                                    <reporter username="gss2002">Greg Senia</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 02:25:35 +0000</created>
                <updated>Tue, 16 Feb 2016 23:50:17 +0000</updated>
                            <resolved>Thu, 18 Jun 2015 20:39:08 +0000</resolved>
                                    <version>0.14.0</version>
                    <version>0.14.1</version>
                    <version>1.2.0</version>
                    <version>1.1.0</version>
                    <version>1.1.1</version>
                                    <fixVersion>1.2.1</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Hive</component>
                    <component>Tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14550669" author="mmokhtar" created="Tue, 19 May 2015 16:00:04 +0000"  >&lt;p&gt;Can you please run &quot;set hive.tez.exec.print.summary=true;&quot; in the session and attach the output?&lt;br/&gt;
Another thing to check is the value of &quot;hive.exec.reducers.bytes.per.reducer&quot; this controls the parallelism in the reducer phase.&lt;/p&gt;</comment>
                            <comment id="14550862" author="gopalv" created="Tue, 19 May 2015 17:48:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gss2002&quot; class=&quot;user-hover&quot; rel=&quot;gss2002&quot;&gt;Greg Senia&lt;/a&gt;: the only difference in codepath should be the split-generation - everything else is identical between all 3.&lt;/p&gt;

&lt;p&gt;Both the MR and Spark impls ignore the actual FileInputFormat implementation and do not call FileInputFormat::getSplits().&lt;/p&gt;

&lt;p&gt;Tez seems to be actually calling the FileInputFormat::getSplits() for TextInputFormat.&lt;/p&gt;

&lt;p&gt;Can you run the same query with compressed input data?&lt;/p&gt;</comment>
                            <comment id="14550979" author="gss2002" created="Tue, 19 May 2015 18:40:13 +0000"  >&lt;p&gt;Mostafa Mokhtar: This isn&apos;t happening in the reducer phase. It&apos;s occurring in the Map phase attempt. I&apos;ve attached the Map Phase attempt output from the TezChild task.&lt;/p&gt;</comment>
                            <comment id="14550985" author="gss2002" created="Tue, 19 May 2015 18:42:11 +0000"  >&lt;p&gt;hive.exec.reducers.bytes.per.reducer=67108864; default?&lt;/p&gt;</comment>
                            <comment id="14552508" author="gss2002" created="Wed, 20 May 2015 15:40:58 +0000"  >&lt;p&gt;Seems to be that single file with a group by/order by is generating 40040 splits... I think the map file is needed at this point to determine why this is happening correct?&lt;/p&gt;

&lt;p&gt;2015-05-19 16:20:32,462 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AsyncDispatcher event handler&amp;#93;&lt;/span&gt; impl.VertexImpl: Num tasks is -1. Expecting VertexManager/InputInitializers/1-1 split to set #tasks for the vertex vertex_1426958683478_171530_1_00&lt;br/&gt;
2015-05-19 16:20:32,707 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] security.UserGroupInformation: PrivilegedAction as:gss2002 (auth:SIMPLE) from:org.apache.tez.dag.app.dag.RootInputInitializerManager$InputInitializerCallable.call(RootInputInitializerManager.java:239)&lt;br/&gt;
2015-05-19 16:20:32,708 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] dag.RootInputInitializerManager: Starting InputInitializer for Input: crc_arsn on vertex vertex_1426958683478_171530_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2015-05-19 16:20:32,722 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] log.PerfLogger: &amp;lt;PERFLOG method=getSplits from=org.apache.hadoop.hive.ql.io.HiveInputFormat&amp;gt;&lt;br/&gt;
2015-05-19 16:20:32,723 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: PLAN PATH = hdfs://xhadnnm1p.example.com:8020/tmp/hive/gss2002/431ae2bc-ebc9-48e7-bbb3-f03144198009/hive_2015-05-19_16-20-28_783_5570914503219655045-1/gss2002/_tez_scratch_dir/9da6870e-7388-40b1-bab6-9d0f242b1702/map.xml&lt;br/&gt;
2015-05-19 16:20:32,723 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Found plan in cache for name: map.xml&lt;br/&gt;
2015-05-19 16:20:32,744 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Processing alias crc_arsn&lt;br/&gt;
2015-05-19 16:20:32,744 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Adding input file hdfs://xhadnnm1p.example.com:8020/example_dw/crc/arsn&lt;br/&gt;
2015-05-19 16:20:32,747 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] io.HiveInputFormat: hive.io.file.readcolumn.ids=&lt;br/&gt;
2015-05-19 16:20:32,747 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] io.HiveInputFormat: hive.io.file.readcolumn.names=,arsn_cd,appl_user_id&lt;br/&gt;
2015-05-19 16:20:32,747 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] io.HiveInputFormat: Generating splits&lt;br/&gt;
2015-05-19 16:20:32,780 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.use.legacy.blockreader.local = false&lt;br/&gt;
2015-05-19 16:20:32,780 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.read.shortcircuit = true&lt;br/&gt;
2015-05-19 16:20:32,780 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.domain.socket.data.traffic = false&lt;br/&gt;
2015-05-19 16:20:32,780 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.domain.socket.path = /var/lib/hadoop-hdfs/dn_socket&lt;br/&gt;
2015-05-19 16:20:32,781 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] retry.RetryUtils: multipleLinearRandomRetry = null&lt;br/&gt;
2015-05-19 16:20:32,782 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.Client: getting client out of cache: org.apache.hadoop.ipc.Client@7879a53d&lt;br/&gt;
2015-05-19 16:20:32,785 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.use.legacy.blockreader.local = false&lt;br/&gt;
2015-05-19 16:20:32,785 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.read.shortcircuit = true&lt;br/&gt;
2015-05-19 16:20:32,785 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.domain.socket.data.traffic = false&lt;br/&gt;
2015-05-19 16:20:32,785 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.domain.socket.path = /var/lib/hadoop-hdfs/dn_socket&lt;br/&gt;
2015-05-19 16:20:32,786 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] retry.RetryUtils: multipleLinearRandomRetry = null&lt;br/&gt;
2015-05-19 16:20:32,786 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.Client: getting client out of cache: org.apache.hadoop.ipc.Client@7879a53d&lt;br/&gt;
2015-05-19 16:20:32,876 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] mapred.FileInputFormat: Time taken to get FileStatuses: 87&lt;br/&gt;
2015-05-19 16:20:32,876 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] mapred.FileInputFormat: Total input paths to process : 1&lt;br/&gt;
2015-05-19 16:20:32,881 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.use.legacy.blockreader.local = false&lt;br/&gt;
2015-05-19 16:20:32,881 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.read.shortcircuit = true&lt;br/&gt;
2015-05-19 16:20:32,881 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.domain.socket.data.traffic = false&lt;br/&gt;
2015-05-19 16:20:32,881 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.domain.socket.path = /var/lib/hadoop-hdfs/dn_socket&lt;br/&gt;
2015-05-19 16:20:32,882 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] retry.RetryUtils: multipleLinearRandomRetry = null&lt;br/&gt;
2015-05-19 16:20:32,883 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.Client: getting client out of cache: org.apache.hadoop.ipc.Client@7879a53d&lt;br/&gt;
2015-05-19 16:20:32,907 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] mapred.FileInputFormat: Total # of splits generated by getSplits: 40040, TimeTaken: 124&lt;br/&gt;
2015-05-19 16:20:32,916 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] io.HiveInputFormat: number of splits 40040&lt;br/&gt;
2015-05-19 16:20:32,916 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] log.PerfLogger: &amp;lt;/PERFLOG method=getSplits start=1432066832722 end=1432066832916 duration=194 from=org.apache.hadoop.hive.ql.io.HiveInputFormat&amp;gt;&lt;br/&gt;
2015-05-19 16:20:32,917 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] tez.HiveSplitGenerator: Number of input splits: 40040. 23542 available slots, 1.7 waves. Input format is: org.apache.hadoop.hive.ql.io.HiveInputFormat&lt;br/&gt;
2015-05-19 16:20:32,917 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: PLAN PATH = hdfs://xhadnnm1p.example.com:8020/tmp/hive/gss2002/431ae2bc-ebc9-48e7-bbb3-f03144198009/hive_2015-05-19_16-20-28_783_5570914503219655045-1/gss2002/_tez_scratch_dir/9da6870e-7388-40b1-bab6-9d0f242b1702/map.xml&lt;br/&gt;
2015-05-19 16:20:32,918 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: **************&lt;b&gt;non-local mode&lt;/b&gt;**************&lt;br/&gt;
2015-05-19 16:20:32,918 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: local path = hdfs://xhadnnm1p.example.com:8020/tmp/hive/gss2002/431ae2bc-ebc9-48e7-bbb3-f03144198009/hive_2015-05-19_16-20-28_783_5570914503219655045-1/gss2002/_tez_scratch_dir/9da6870e-7388-40b1-bab6-9d0f242b1702/map.xml&lt;br/&gt;
2015-05-19 16:20:32,918 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Loading plan from string: /tmp/hive/gss2002/431ae2bc-ebc9-48e7-bbb3-f03144198009/hive_2015-05-19_16-20-28_783_5570914503219655045-1/gss2002/_tez_scratch_dir/9da6870e-7388-40b1-bab6-9d0f242b1702/map.xml&lt;br/&gt;
2015-05-19 16:20:32,919 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] log.PerfLogger: &amp;lt;PERFLOG method=deserializePlan from=org.apache.hadoop.hive.ql.exec.Utilities&amp;gt;&lt;br/&gt;
2015-05-19 16:20:32,919 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Deserializing MapWork via kryo&lt;br/&gt;
2015-05-19 16:20:32,940 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] log.PerfLogger: &amp;lt;/PERFLOG method=deserializePlan start=1432066832919 end=1432066832940 duration=21 from=org.apache.hadoop.hive.ql.exec.Utilities&amp;gt;&lt;br/&gt;
2015-05-19 16:20:32,941 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] tez.SplitGrouper: Adding split hdfs://xhadnnm1p.example.com:8020/example_dw/crc/arsn/part-m-00000 to src new group? true&lt;/p&gt;</comment>
                            <comment id="14552793" author="gss2002" created="Wed, 20 May 2015 18:07:34 +0000"  >&lt;p&gt;I am guessing this JIRA could be the root of this issue: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7156&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-7156&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&quot;gss2002_20150520132600_e4199888_c149_4394_8231_238d9d9dee98_1.Map_1_crc_arsn&quot; -&amp;gt; &quot;gss2002_20150520132600_e4199888_c149_4394_8231_238d9d9dee98_1.Map_1&quot; [ label = &quot;Input &lt;span class=&quot;error&quot;&gt;&amp;#91;inputClass=MRInputLegacy,\n initializer=HiveSplitGenerator&amp;#93;&lt;/span&gt;&quot; ]&lt;/p&gt;




&lt;p&gt;2015-05-20 13:26:03,760 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 33574&amp;#93;&lt;/span&gt; app.DAGAppMaster: JSON dump for submitted DAG, dagId=dag_1426958683478_173250_1, json={&quot;dagName&quot;:&quot;gss2002_20150520132600_e4199888-c149-4394-8231-238d9d9dee98:1&quot;,&quot;dagInfo&quot;:&quot;&lt;/p&gt;
{\&quot;description\&quot;:\&quot;\\nSELECT appl_user_id, arsn_cd, COUNT(*) as RecordCount FROM adw.crc_arsn GROUP BY appl_user_id,arsn_cd ORDER BY appl_user_id\&quot;,\&quot;context\&quot;:\&quot;Hive\&quot;}
&lt;p&gt;&quot;,&quot;version&quot;:1,&quot;vertices&quot;:[{&quot;vertexName&quot;:&quot;Map 1&quot;,&quot;processorClass&quot;:&quot;org.apache.hadoop.hive.ql.exec.tez.MapTezProcessor&quot;,&quot;outEdgeIds&quot;:&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;196588160&amp;quot;&amp;#93;&lt;/span&gt;,&quot;additionalInputs&quot;:[&lt;/p&gt;
{&quot;name&quot;:&quot;crc_arsn&quot;,&quot;class&quot;:&quot;org.apache.tez.mapreduce.input.MRInputLegacy&quot;,&quot;initializer&quot;:&quot;org.apache.hadoop.hive.ql.exec.tez.HiveSplitGenerator&quot;}
&lt;p&gt;]},&lt;/p&gt;
{&quot;vertexName&quot;:&quot;Reducer 2&quot;,&quot;processorClass&quot;:&quot;org.apache.hadoop.hive.ql.exec.tez.ReduceTezProcessor&quot;,&quot;inEdgeIds&quot;:[&quot;196588160&quot;],&quot;outEdgeIds&quot;:[&quot;1320926067&quot;]}
&lt;p&gt;,{&quot;vertexName&quot;:&quot;Reducer 3&quot;,&quot;processorClass&quot;:&quot;org.apache.hadoop.hive.ql.exec.tez.ReduceTezProcessor&quot;,&quot;inEdgeIds&quot;:&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;1320926067&amp;quot;&amp;#93;&lt;/span&gt;,&quot;additionalOutputs&quot;:[&lt;/p&gt;
{&quot;name&quot;:&quot;out_Reducer 3&quot;,&quot;class&quot;:&quot;org.apache.tez.mapreduce.output.MROutput&quot;}
&lt;p&gt;]}],&quot;edges&quot;:[&lt;/p&gt;
{&quot;edgeId&quot;:&quot;196588160&quot;,&quot;inputVertexName&quot;:&quot;Map 1&quot;,&quot;outputVertexName&quot;:&quot;Reducer 2&quot;,&quot;dataMovementType&quot;:&quot;SCATTER_GATHER&quot;,&quot;dataSourceType&quot;:&quot;PERSISTED&quot;,&quot;schedulingType&quot;:&quot;SEQUENTIAL&quot;,&quot;edgeSourceClass&quot;:&quot;org.apache.tez.runtime.library.output.OrderedPartitionedKVOutput&quot;,&quot;edgeDestinationClass&quot;:&quot;org.apache.tez.runtime.library.input.OrderedGroupedKVInput&quot;}
&lt;p&gt;,&lt;/p&gt;
{&quot;edgeId&quot;:&quot;1320926067&quot;,&quot;inputVertexName&quot;:&quot;Reducer 2&quot;,&quot;outputVertexName&quot;:&quot;Reducer 3&quot;,&quot;dataMovementType&quot;:&quot;SCATTER_GATHER&quot;,&quot;dataSourceType&quot;:&quot;PERSISTED&quot;,&quot;schedulingType&quot;:&quot;SEQUENTIAL&quot;,&quot;edgeSourceClass&quot;:&quot;org.apache.tez.runtime.library.output.OrderedPartitionedKVOutput&quot;,&quot;edgeDestinationClass&quot;:&quot;org.apache.tez.runtime.library.input.OrderedGroupedKVInput&quot;}
&lt;p&gt;]}&lt;br/&gt;
2015-05-20 13:26:03,762 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 33574&amp;#93;&lt;/span&gt; app.DAGAppMaster: Generating DAG graphviz file, dagId=dag_1426958683478_173250_1, filePath=/u01/hadoop/yarn/log/application_1426958683478_173250/container_1426958683478_173250_01_000001/dag_1426958683478_173250_1.dot&lt;/p&gt;


&lt;p&gt;2015-05-20 13:26:05,142 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] mapred.FileInputFormat: Total # of splits generated by getSplits: 40040, TimeTaken: 168&lt;br/&gt;
2015-05-20 13:26:05,144 DEBUG &lt;a href=&quot;#1 for port 33574&quot;&gt;Socket Reader #1 for port 33574&lt;/a&gt; ipc.Server:  got #159&lt;br/&gt;
2015-05-20 13:26:05,145 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 33574&amp;#93;&lt;/span&gt; ipc.Server: IPC Server handler 0 on 33574: org.apache.tez.dag.api.client.rpc.DAGClientAMProtocolBlockingPB.getDAGStatus from 167.69.200.206:54162 Call#159 Retry#0 for RpcKind RPC_PROTOCOL_BUFFER&lt;br/&gt;
2015-05-20 13:26:05,145 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 33574&amp;#93;&lt;/span&gt; security.UserGroupInformation: PrivilegedAction as:gss2002@exa.example.COM (auth:TOKEN) from:org.apache.hadoop.ipc.Server$Handler.run(Server.java:2007)&lt;br/&gt;
2015-05-20 13:26:05,147 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 33574&amp;#93;&lt;/span&gt; ipc.Server: Served: getDAGStatus queueTime= 1 procesingTime= 2&lt;br/&gt;
2015-05-20 13:26:05,147 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 33574&amp;#93;&lt;/span&gt; ipc.Server: IPC Server handler 0 on 33574: responding to org.apache.tez.dag.api.client.rpc.DAGClientAMProtocolBlockingPB.getDAGStatus from 167.69.200.206:54162 Call#159 Retry#0&lt;br/&gt;
2015-05-20 13:26:05,147 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;IPC Server handler 0 on 33574&amp;#93;&lt;/span&gt; ipc.Server: IPC Server handler 0 on 33574: responding to org.apache.tez.dag.api.client.rpc.DAGClientAMProtocolBlockingPB.getDAGStatus from 167.69.200.206:54162 Call#159 Retry#0 Wrote 145 bytes.&lt;br/&gt;
2015-05-20 13:26:05,154 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] io.HiveInputFormat: number of splits 40040&lt;br/&gt;
2015-05-20 13:26:05,154 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] log.PerfLogger: &amp;lt;/PERFLOG method=getSplits start=1432142764918 end=1432142765154 duration=236 from=org.apache.hadoop.hive.ql.io.HiveInputFormat&amp;gt;&lt;br/&gt;
2015-05-20 13:26:05,155 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] tez.HiveSplitGenerator: Number of input splits: 40040. 23542 available slots, 1.7 waves. Input format is: org.apache.hadoop.hive.ql.io.HiveInputFormat&lt;/p&gt;</comment>
                            <comment id="14552826" author="gopalv" created="Wed, 20 May 2015 18:20:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gss2002&quot; class=&quot;user-hover&quot; rel=&quot;gss2002&quot;&gt;Greg Senia&lt;/a&gt;: No, that JIRA is irrelevant to this issue - that has to do with column statistics, which your job does not have.&lt;/p&gt;

&lt;p&gt;The issue you&apos;re hitting has its origins in the hadoop-1 TextInputFormat::getSplits(), which seems to generate 1 split per row.&lt;/p&gt;

&lt;p&gt;Can you please test with a compressed input file &amp;amp; confirm if compressing the input makes a query faster?&lt;/p&gt;</comment>
                            <comment id="14552831" author="gss2002" created="Wed, 20 May 2015 18:24:42 +0000"  >&lt;p&gt;So it looks like it turned a 3MB file into 5GB worth of reads since it did 40040 read ops due to the SPLITS?? &lt;/p&gt;

&lt;p&gt;BYTES_READ=5,149,746,588, BYTES_WRITTEN=0, READ_OPS=40040&lt;/p&gt;

&lt;p&gt;hadoop fs -ls /example_dw/crc/arsn&lt;br/&gt;
Found 2 items&lt;br/&gt;
&lt;del&gt;rwxr-x&lt;/del&gt;--   6 loaduser hadoopusers          0 2015-05-17 20:03 /example_dw/crc/arsn/_SUCCESS&lt;br/&gt;
&lt;del&gt;rwxr-x&lt;/del&gt;--   6 loaduser hadoopusers    3883880 2015-05-17 20:03 /example_dw/crc/arsn/part-m-00000&lt;/p&gt;

&lt;p&gt;2015-05-20 13:35:27,017 INFO &lt;span class=&quot;error&quot;&gt;&amp;#91;AsyncDispatcher event handler&amp;#93;&lt;/span&gt; history.HistoryEventHandler: &lt;span class=&quot;error&quot;&gt;&amp;#91;HISTORY&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;DAG:dag_1426958683478_173250_1&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Event:TASK_FINISHED&amp;#93;&lt;/span&gt;: vertexName=Map 1, taskId=task_1426958683478_173250_1_00_000000, startTime=1432142771521, finishTime=1432143327014, timeTaken=555493, status=SUCCEEDED, successfulAttemptID=attempt_1426958683478_173250_1_00_000000_0, diagnostics=, counters=Counters: 28, org.apache.tez.common.counters.DAGCounter, RACK_LOCAL_TASKS=1, File System Counters, BYTES_READ=32, BYTES_WRITTEN=59817, READ_OPS=0, LARGE_READ_OPS=0, WRITE_OPS=0, BYTES_READ=5149746588, BYTES_WRITTEN=0, READ_OPS=40040, LARGE_READ_OPS=0, WRITE_OPS=0, org.apache.tez.common.counters.TaskCounter, SPILLED_RECORDS=11516, GC_TIME_MILLIS=19923, CPU_MILLISECONDS=890510, PHYSICAL_MEMORY_BYTES=1285681152, VIRTUAL_MEMORY_BYTES=5264326656, COMMITTED_HEAP_BYTES=3007840256, INPUT_RECORDS_PROCESSED=13440, OUTPUT_RECORDS=11516, OUTPUT_BYTES=218808, OUTPUT_BYTES_WITH_OVERHEAD=241846, OUTPUT_BYTES_PHYSICAL=59785, ADDITIONAL_SPILLS_BYTES_WRITTEN=0, ADDITIONAL_SPILLS_BYTES_READ=0, ADDITIONAL_SPILL_COUNT=0, HIVE, DESERIALIZE_ERRORS=0, RECORDS_IN_Map_1=13440, RECORDS_OUT_INTERMEDIATE_Map_1=11516&lt;/p&gt;</comment>
                            <comment id="14552833" author="gss2002" created="Wed, 20 May 2015 18:28:46 +0000"  >&lt;p&gt;hadoop fs -cat /example_dw/crc/arsn/part-m-00000| wc -l &lt;br/&gt;
13440&lt;/p&gt;


&lt;p&gt;so 13440 rows... with a repfactor of 6...&lt;/p&gt;

&lt;p&gt;What compression format are you looking for gz snappy etc?&lt;/p&gt;</comment>
                            <comment id="14552843" author="gopalv" created="Wed, 20 May 2015 18:38:18 +0000"  >&lt;p&gt;&quot;gzip -1 &amp;gt; part.gz&quot;, which should do the trick.&lt;/p&gt;

&lt;p&gt;Also, you might want to do &quot;hive --hiveconf hive.prewarm.enabled=true;&quot; if you&apos;re worried about latency within the CLI - the default config is for throughput.&lt;/p&gt;</comment>
                            <comment id="14552976" author="gss2002" created="Wed, 20 May 2015 19:48:35 +0000"  >&lt;p&gt;With Compression with Snappy it ran in 7 seconds...&lt;/p&gt;

&lt;p&gt;Status: DAG finished successfully in 7.93 seconds&lt;/p&gt;


&lt;p&gt;METHOD                         DURATION(ms) &lt;br/&gt;
parse                                1,081&lt;br/&gt;
semanticAnalyze                      1,488&lt;br/&gt;
TezBuildDag                            490&lt;br/&gt;
TezSubmitToRunningDag                  374&lt;br/&gt;
TotalPrepTime                        4,958&lt;/p&gt;

&lt;p&gt;VERTICES         TOTAL_TASKS  FAILED_ATTEMPTS KILLED_TASKS DURATION_SECONDS    CPU_TIME_MILLIS     GC_TIME_MILLIS  INPUT_RECORDS   OUTPUT_RECORDS &lt;br/&gt;
Map 1                      1                0            0             2.23              3,790                 29         13,440           11,516&lt;br/&gt;
Reducer 2                  1                0            0             0.81              2,150                  0         11,516           11,516&lt;br/&gt;
Reducer 3                  1                0            0             0.61              1,110                  0         11,516                0&lt;br/&gt;
OK&lt;br/&gt;
BB166674         P16     1&lt;/p&gt;</comment>
                            <comment id="14553018" author="gss2002" created="Wed, 20 May 2015 20:05:05 +0000"  >&lt;p&gt;Just to clarify this data is tab delimited being loaded from SqoopV1... What is the difference between compressed vs uncompressed at this point?&lt;/p&gt;

&lt;p&gt;Map 1: 0(+1)/1  Reducer 2: 0/1  Reducer 3: 0/1  &lt;br/&gt;
Map 1: 0(+1)/1  Reducer 2: 0/1  Reducer 3: 0/1  &lt;br/&gt;
Map 1: 0(+1)/1  Reducer 2: 0/1  Reducer 3: 0/1  &lt;br/&gt;
Map 1: 1/1      Reducer 2: 0/1  Reducer 3: 0/1  &lt;br/&gt;
Map 1: 1/1      Reducer 2: 0(+1)/1      Reducer 3: 0/1  &lt;br/&gt;
Map 1: 1/1      Reducer 2: 1/1  Reducer 3: 0(+1)/1      &lt;br/&gt;
Map 1: 1/1      Reducer 2: 1/1  Reducer 3: 1/1  &lt;br/&gt;
Status: DAG finished successfully in 523.42 seconds&lt;/p&gt;


&lt;p&gt;METHOD                         DURATION(ms) &lt;br/&gt;
parse                                   17&lt;br/&gt;
semanticAnalyze                      1,593&lt;br/&gt;
TezBuildDag                            585&lt;br/&gt;
TezSubmitToRunningDag                  187&lt;br/&gt;
TotalPrepTime                        3,522&lt;/p&gt;

&lt;p&gt;VERTICES         TOTAL_TASKS  FAILED_ATTEMPTS KILLED_TASKS DURATION_SECONDS    CPU_TIME_MILLIS     GC_TIME_MILLIS  INPUT_RECORDS   OUTPUT_RECORDS &lt;br/&gt;
Map 1                      1                0            0           516.72            752,950             15,318         13,440           11,516&lt;br/&gt;
Reducer 2                  1                0            0             0.81              1,890                 24         11,516           11,516&lt;br/&gt;
Reducer 3                  1                0            0             0.61              1,460                 19         11,516                0&lt;br/&gt;
OK&lt;br/&gt;
BB166674         P16     1&lt;/p&gt;</comment>
                            <comment id="14553061" author="gss2002" created="Wed, 20 May 2015 20:36:39 +0000"  >&lt;p&gt;Debug logs from DAG with compressed it sets 1 split.. so how do we fix this issue?&lt;/p&gt;


&lt;p&gt;2015-05-20 16:15:12,041 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Found plan in cache for name: map.xml&lt;br/&gt;
2015-05-20 16:15:12,055 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Processing alias gss_rsn2&lt;br/&gt;
2015-05-20 16:15:12,055 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Adding input file hdfs://xhadnnm1p.example.com:8020/apps/hive/warehouse/hue_debug.db/gss_rsn2&lt;br/&gt;
2015-05-20 16:15:12,057 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] io.HiveInputFormat: hive.io.file.readcolumn.ids=&lt;br/&gt;
2015-05-20 16:15:12,058 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] io.HiveInputFormat: hive.io.file.readcolumn.names=,arsn_cd,appl_user_id&lt;br/&gt;
2015-05-20 16:15:12,058 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] io.HiveInputFormat: Generating splits&lt;br/&gt;
2015-05-20 16:15:12,087 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.use.legacy.blockreader.local = false&lt;br/&gt;
2015-05-20 16:15:12,087 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.read.shortcircuit = true&lt;br/&gt;
2015-05-20 16:15:12,087 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.domain.socket.data.traffic = false&lt;br/&gt;
2015-05-20 16:15:12,087 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.domain.socket.path = /var/lib/hadoop-hdfs/dn_socket&lt;br/&gt;
2015-05-20 16:15:12,088 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] retry.RetryUtils: multipleLinearRandomRetry = null&lt;br/&gt;
2015-05-20 16:15:12,088 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.Client: getting client out of cache: org.apache.hadoop.ipc.Client@6c93595a&lt;br/&gt;
2015-05-20 16:15:12,091 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.use.legacy.blockreader.local = false&lt;br/&gt;
2015-05-20 16:15:12,091 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.read.shortcircuit = true&lt;br/&gt;
2015-05-20 16:15:12,091 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.domain.socket.data.traffic = false&lt;br/&gt;
2015-05-20 16:15:12,091 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.domain.socket.path = /var/lib/hadoop-hdfs/dn_socket&lt;br/&gt;
2015-05-20 16:15:12,091 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] retry.RetryUtils: multipleLinearRandomRetry = null&lt;br/&gt;
2015-05-20 16:15:12,092 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.Client: getting client out of cache: org.apache.hadoop.ipc.Client@6c93595a&lt;br/&gt;
2015-05-20 16:15:12,216 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] mapred.FileInputFormat: Time taken to get FileStatuses: 112&lt;br/&gt;
2015-05-20 16:15:12,216 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] mapred.FileInputFormat: Total input paths to process : 1&lt;br/&gt;
2015-05-20 16:15:12,219 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.use.legacy.blockreader.local = false&lt;br/&gt;
2015-05-20 16:15:12,219 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.read.shortcircuit = true&lt;br/&gt;
2015-05-20 16:15:12,219 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.domain.socket.data.traffic = false&lt;br/&gt;
2015-05-20 16:15:12,219 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.domain.socket.path = /var/lib/hadoop-hdfs/dn_socket&lt;br/&gt;
2015-05-20 16:15:12,220 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] retry.RetryUtils: multipleLinearRandomRetry = null&lt;br/&gt;
2015-05-20 16:15:12,220 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.Client: getting client out of cache: org.apache.hadoop.ipc.Client@6c93595a&lt;br/&gt;
2015-05-20 16:15:12,222 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] mapred.FileInputFormat: Total # of splits generated by getSplits: 1, TimeTaken: 132&lt;br/&gt;
2015-05-20 16:15:12,222 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] io.HiveInputFormat: number of splits 1&lt;br/&gt;
2015-05-20 16:15:12,222 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] log.PerfLogger: &amp;lt;/PERFLOG method=getSplits start=1432152912040 end=1432152912222 duration=182 from=org.apache.hadoop.hive.ql.io.HiveInputFormat&amp;gt;&lt;br/&gt;
2015-05-20 16:15:12,222 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] tez.HiveSplitGenerator: Number of input splits: 1. 23542 available slots, 1.7 waves. Input format is: org.apache.hadoop.hive.ql.io.HiveInputFormat&lt;br/&gt;
2015-05-20 16:15:12,223 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: PLAN PATH = hdfs://xhadnnm1p.example.com:8020/tmp/hive/gss2002/646469af-0a87-4080-9d2b-e40af4a34c0e/hive_2015-05-20_16-15-06_565_5281905327000741927-1/gss2002/_tez_scratch_dir/049d6a0d-aea4-4805-90a5-84b8c38fe1f4/map.xml&lt;br/&gt;
2015-05-20 16:15:12,223 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: **************&lt;b&gt;non-local mode&lt;/b&gt;**************&lt;br/&gt;
2015-05-20 16:15:12,223 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: local path = hdfs://xhadnnm1p.example.com:8020/tmp/hive/gss2002/646469af-0a87-4080-9d2b-e40af4a34c0e/hive_2015-05-20_16-15-06_565_5281905327000741927-1/gss2002/_tez_scratch_dir/049d6a0d-aea4-4805-90a5-84b8c38fe1f4/map.xml&lt;br/&gt;
2015-05-20 16:15:12,223 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Loading plan from string: /tmp/hive/gss2002/646469af-0a87-4080-9d2b-e40af4a34c0e/hive_2015-05-20_16-15-06_565_5281905327000741927-1/gss2002/_tez_scratch_dir/049d6a0d-aea4-4805-90a5-84b8c38fe1f4/map.xml&lt;br/&gt;
2015-05-20 16:15:12,223 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] log.PerfLogger: &amp;lt;PERFLOG method=deserializePlan from=org.apache.hadoop.hive.ql.exec.Utilities&amp;gt;&lt;br/&gt;
2015-05-20 16:15:12,223 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Deserializing MapWork via kryo&lt;br/&gt;
2015-05-20 16:15:12,239 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] log.PerfLogger: &amp;lt;/PERFLOG method=deserializePlan start=1432152912223 end=1432152912239 duration=16 from=org.apache.hadoop.hive.ql.exec.Utilities&amp;gt;&lt;br/&gt;
2015-05-20 16:15:12,240 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] tez.SplitGrouper: Adding split hdfs://xhadnnm1p.example.com:8020/apps/hive/warehouse/hue_debug.db/gss_rsn2/000000_0.snappy to src new group? true&lt;br/&gt;
2015-05-20 16:15:12,240 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] tez.SplitGrouper: # Src groups for split generation: 2&lt;br/&gt;
2015-05-20 16:15:12,091 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.use.legacy.blockreader.local = false&lt;br/&gt;
2015-05-20 16:15:12,091 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.read.shortcircuit = true&lt;br/&gt;
2015-05-20 16:15:12,091 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.domain.socket.data.traffic = false&lt;br/&gt;
2015-05-20 16:15:12,091 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.domain.socket.path = /var/lib/hadoop-hdfs/dn_&lt;br/&gt;
socket&lt;br/&gt;
2015-05-20 16:15:12,091 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] retry.RetryUtils: multipleLinearRandomRetry = null&lt;br/&gt;
2015-05-20 16:15:12,092 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.Client: getting client out of cache: org.apache.hadoop.ipc.Client@6c&lt;br/&gt;
93595a&lt;br/&gt;
2015-05-20 16:15:12,216 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] mapred.FileInputFormat: Time taken to get FileStatuses: 112&lt;br/&gt;
2015-05-20 16:15:12,216 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] mapred.FileInputFormat: Total input paths to process : 1&lt;br/&gt;
2015-05-20 16:15:12,219 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.use.legacy.blockreader.local = false&lt;br/&gt;
2015-05-20 16:15:12,219 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.read.shortcircuit = true&lt;br/&gt;
2015-05-20 16:15:12,219 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.domain.socket.data.traffic = false&lt;br/&gt;
2015-05-20 16:15:12,219 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.domain.socket.path = /var/lib/hadoop-hdfs/dn_&lt;br/&gt;
socket&lt;br/&gt;
2015-05-20 16:15:12,220 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] retry.RetryUtils: multipleLinearRandomRetry = null&lt;br/&gt;
2015-05-20 16:15:12,220 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.Client: getting client out of cache: org.apache.hadoop.ipc.Client@6c&lt;br/&gt;
93595a&lt;br/&gt;
2015-05-20 16:15:12,222 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] mapred.FileInputFormat: Total # of splits generated by getSplits: 1, Tim&lt;br/&gt;
eTaken: 132&lt;br/&gt;
2015-05-20 16:15:12,222 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] io.HiveInputFormat: number of splits 1&lt;br/&gt;
2015-05-20 16:15:12,222 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] log.PerfLogger: &amp;lt;/PERFLOG method=getSplits start=1432152912040 end=143215&lt;br/&gt;
2912222 duration=182 from=org.apache.hadoop.hive.ql.io.HiveInputFormat&amp;gt;&lt;br/&gt;
2015-05-20 16:15:12,222 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] tez.HiveSplitGenerator: Number of input splits: 1. 23542 available slots,&lt;br/&gt;
 1.7 waves. Input format is: org.apache.hadoop.hive.ql.io.HiveInputFormat&lt;br/&gt;
2015-05-20 16:15:12,223 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: PLAN PATH = hdfs://xhadnnm1p.example.com:8020/tmp/hive/a760&lt;br/&gt;
104/646469af-0a87-4080-9d2b-e40af4a34c0e/hive_2015-05-20_16-15-06_565_5281905327000741927-1/gss2002/_tez_scratch_dir/049d6a0d-aea4-4&lt;br/&gt;
805-90a5-84b8c38fe1f4/map.xml&lt;br/&gt;
2015-05-20 16:15:12,223 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: **************&lt;b&gt;non-local mode&lt;/b&gt;**************&lt;br/&gt;
2015-05-20 16:15:12,223 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: local path = hdfs://xhadnnm1p.example.com:8020/tmp/hive/a76&lt;br/&gt;
0104/646469af-0a87-4080-9d2b-e40af4a34c0e/hive_2015-05-20_16-15-06_565_5281905327000741927-1/gss2002/_tez_scratch_dir/049d6a0d-aea4-&lt;br/&gt;
4805-90a5-84b8c38fe1f4/map.xml&lt;br/&gt;
2015-05-20 16:15:12,223 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Loading plan from string: /tmp/hive/gss2002/646469af-0a8&lt;br/&gt;
7-4080-9d2b-e40af4a34c0e/hive_2015-05-20_16-15-06_565_5281905327000741927-1/gss2002/_tez_scratch_dir/049d6a0d-aea4-4805-90a5-84b8c38&lt;br/&gt;
fe1f4/map.xml&lt;br/&gt;
2015-05-20 16:15:12,223 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] log.PerfLogger: &amp;lt;PERFLOG method=deserializePlan from=org.apache.hadoop.hi&lt;br/&gt;
ve.ql.exec.Utilities&amp;gt;&lt;br/&gt;
2015-05-20 16:15:12,223 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] exec.Utilities: Deserializing MapWork via kryo&lt;br/&gt;
2015-05-20 16:15:12,239 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] log.PerfLogger: &amp;lt;/PERFLOG method=deserializePlan start=1432152912223 end=&lt;br/&gt;
1432152912239 duration=16 from=org.apache.hadoop.hive.ql.exec.Utilities&amp;gt;&lt;br/&gt;
2015-05-20 16:15:12,240 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] tez.SplitGrouper: Adding split hdfs://xhadnnm1p.example.com:8020/apps/hive&lt;br/&gt;
/warehouse/hue_debug.db/gss_rsn2/000000_0.snappy to src new group? true&lt;br/&gt;
2015-05-20 16:15:12,240 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] tez.SplitGrouper: # Src groups for split generation: 2&lt;br/&gt;
2015-05-20 16:15:12,241 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] tez.SplitGrouper: Estimated number of tasks: 40021 for bucket 1&lt;br/&gt;
2015-05-20 16:15:12,241 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] split.TezMapredSplitsGrouper: Grouping splits in Tez&lt;br/&gt;
2015-05-20 16:15:12,241 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] split.TezMapredSplitsGrouper: Desired splits: 40021 too large.  Desired splitLength: 20 Min splitLength: 16777216 New desired splits: 1 Total length: 807489 Original splits: 1&lt;br/&gt;
2015-05-20 16:15:12,242 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] split.TezMapredSplitsGrouper: Using original number of splits: 1 desired splits: 1&lt;br/&gt;
2015-05-20 16:15:12,242 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] tez.SplitGrouper: Original split size is 1 grouped split size is 1, for bucket: 1&lt;br/&gt;
2015-05-20 16:15:12,244 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] tez.HiveSplitGenerator: Number of grouped splits: 1&lt;br/&gt;
2015-05-20 16:15:12,251 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.use.legacy.blockreader.local = false&lt;br/&gt;
2015-05-20 16:15:12,251 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.read.shortcircuit = true&lt;br/&gt;
2015-05-20 16:15:12,251 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.client.domain.socket.data.traffic = false&lt;br/&gt;
2015-05-20 16:15:12,251 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] hdfs.BlockReaderLocal: dfs.domain.socket.path = /var/lib/hadoop-hdfs/dn_socket&lt;br/&gt;
2015-05-20 16:15:12,251 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] retry.RetryUtils: multipleLinearRandomRetry = null&lt;br/&gt;
2015-05-20 16:15:12,251 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.Client: getting client out of cache: org.apache.hadoop.ipc.Client@6c93595a&lt;br/&gt;
2015-05-20 16:15:12,252 TRACE [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.ProtobufRpcEngine: 85: Call -&amp;gt; xhadnnm1p.example.com/167.69.200.200:8020: getFileInfo &lt;/p&gt;
{src: &quot;/tmp/hive/gss2002/646469af-0a87-4080-9d2b-e40af4a34c0e/hive_2015-05-20_16-15-06_565_5281905327000741927-1/gss2002/_tez_scratch_dir/049d6a0d-aea4-4805-90a5-84b8c38fe1f4/map.xml&quot;}
&lt;p&gt;2015-05-20 16:15:12,253 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.ProtobufRpcEngine: Call: getFileInfo took 1ms&lt;br/&gt;
2015-05-20 16:15:12,253 TRACE [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.ProtobufRpcEngine: 85: Response &amp;lt;- xhadnnm1p.example.com/167.69.200.200:8020: getFileInfo {}&lt;br/&gt;
2015-05-20 16:15:12,254 TRACE [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.ProtobufRpcEngine: 85: Call -&amp;gt; xhadnnm1p.example.com/167.69.200.200:8020: getFileInfo &lt;/p&gt;
{src: &quot;/tmp/hive/gss2002/646469af-0a87-4080-9d2b-e40af4a34c0e/hive_2015-05-20_16-15-06_565_5281905327000741927-1/gss2002/_tez_scratch_dir/049d6a0d-aea4-4805-90a5-84b8c38fe1f4/reduce.xml&quot;}
&lt;p&gt;2015-05-20 16:15:12,255 DEBUG [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.ProtobufRpcEngine: Call: getFileInfo took 1ms&lt;br/&gt;
2015-05-20 16:15:12,255 TRACE [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] ipc.ProtobufRpcEngine: 85: Response &amp;lt;- xhadnnm1p.example.com/167.69.200.200:8020: getFileInfo {}&lt;br/&gt;
2015-05-20 16:15:12,255 INFO [InputInitializer &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt; #0] dag.RootInputInitializerManager: Succeeded InputInitializer for Input: gss_rsn2 on vertex vertex_1426958683478_173564_1_00 &lt;span class=&quot;error&quot;&gt;&amp;#91;Map 1&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="14555456" author="gss2002" created="Fri, 22 May 2015 02:10:53 +0000"  >&lt;p&gt;After having offline discussion with Gopal V he determined the cause of this problem is that starting in Hive 0.14 org.apache.hadoop.mapred.TextInputFormat  uses whatever is defined in property: mapreduce.input.fileinputformat.split.minsize; In my case this was defined to &quot;1&quot;... Unfortunately that is 1 byte so it created 40040 splits creating 40400 reads of the single 3MB file...&lt;/p&gt;

&lt;p&gt;Hope this helps someone else out.&lt;/p&gt;

&lt;p&gt;Should be around half of the HDFS block size in my case 64MB since my block size is 128MB..&lt;br/&gt;
mapreduce.input.fileinputformat.split.minsize=67108864&lt;/p&gt;


&lt;p&gt;Gopal V if no fix is coming should we resolve/close this JIRA?&lt;/p&gt;</comment>
                            <comment id="14585306" author="gopalv" created="Sun, 14 Jun 2015 23:06:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gss2002&quot; class=&quot;user-hover&quot; rel=&quot;gss2002&quot;&gt;Greg Senia&lt;/a&gt;: Talking to the MRv2 folks to change the defaults to be saner than 1 byte.&lt;/p&gt;

&lt;p&gt;Until that issue is resolved, I&apos;ll keep this open as a critical issue.&lt;/p&gt;</comment>
                            <comment id="14590903" author="gopalv" created="Thu, 18 Jun 2015 00:15:49 +0000"  >&lt;p&gt;Fixing legacy &lt;tt&gt;Mapred.TextInputFormat&lt;/tt&gt; is fraught with issues.&lt;/p&gt;

&lt;p&gt;Allow Tez split generation to set a sane default if the min-size is misconfigured during execution.&lt;/p&gt;</comment>
                            <comment id="14590912" author="hagleitn" created="Thu, 18 Jun 2015 00:21:32 +0000"  >&lt;p&gt;+1. (Nit: ws issue, the closing brace for the if statement is not correctly aligned).&lt;/p&gt;</comment>
                            <comment id="14591479" author="hiveqa" created="Thu, 18 Jun 2015 08:37:25 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12740251/HIVE-10746.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12740251/HIVE-10746.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 9009 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_corr
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join28
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4299/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4299/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4299/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4299/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4299/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4299/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12740251 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14592102" author="gopalv" created="Thu, 18 Jun 2015 17:00:37 +0000"  >&lt;p&gt;Test failures look unrelated.&lt;/p&gt;

&lt;p&gt;Reformat before commit.&lt;/p&gt;</comment>
                            <comment id="14592471" author="hagleitn" created="Thu, 18 Jun 2015 20:39:08 +0000"  >&lt;p&gt;Committed to 1.2.1, branch-1 and master.&lt;/p&gt;</comment>
                            <comment id="14592604" author="sushanth" created="Thu, 18 Jun 2015 21:54:09 +0000"  >&lt;p&gt;Please add to the release wiki ( &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Hive+1.2+Release+Status&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Hive+1.2+Release+Status&lt;/a&gt; ) when you commit any patch to branch-1.2. I&apos;ll go ahead and add this one in.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12740251" name="HIVE-10746.1.patch" size="2926" author="gopalv" created="Thu, 18 Jun 2015 00:15:49 +0000"/>
                            <attachment id="12740431" name="HIVE-10746.2.patch" size="2931" author="gopalv" created="Thu, 18 Jun 2015 17:00:37 +0000"/>
                            <attachment id="12733910" name="slow_query_output.zip" size="457404" author="gss2002" created="Tue, 19 May 2015 18:39:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 May 2015 16:00:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ewon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Use sane split min-sizes when using legacy mapred.InputFormat::getSplits(job, num)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10747] Enable the cleanup of side effect for the Encryption related qfile test</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10747</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The hive conf is not reset in the clearTestSideEffects method which is involved from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8900&quot; title=&quot;Create encryption testing framework&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8900&quot;&gt;&lt;del&gt;HIVE-8900&lt;/del&gt;&lt;/a&gt;. This will have pollute other qfile&apos;s settings running by TestEncryptedHDFSCliDriver&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830914">HIVE-10747</key>
            <summary>Enable the cleanup of side effect for the Encryption related qfile test</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12740916">HIVE-8065</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Ferd">Ferdinand Xu</assignee>
                                    <reporter username="Ferd">Ferdinand Xu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 05:44:28 +0000</created>
                <updated>Fri, 5 Jun 2015 20:57:45 +0000</updated>
                            <resolved>Wed, 20 May 2015 15:04:04 +0000</resolved>
                                                    <fixVersion>1.2.1</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14549830" author="ferd" created="Tue, 19 May 2015 05:50:05 +0000"  >&lt;p&gt;This is an issue involved by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8900&quot; title=&quot;Create encryption testing framework&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8900&quot;&gt;&lt;del&gt;HIVE-8900&lt;/del&gt;&lt;/a&gt;. As discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10629&quot; title=&quot;Dropping table in an encrypted zone does not drop warehouse directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10629&quot;&gt;&lt;del&gt;HIVE-10629&lt;/del&gt;&lt;/a&gt;, we should ensure the configuration in each qfile is unset. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;Eugene Koifman&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;Sergio Pe&#241;a&lt;/a&gt;, could you help review? Thanks&#65281;&lt;/p&gt;</comment>
                            <comment id="14550290" author="hiveqa" created="Tue, 19 May 2015 11:51:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733719/HIVE-10747.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733719/HIVE-10747.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 8946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbortAndCommit
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3943/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3943/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3943/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3943/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3943/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3943/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733719 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14550557" author="spena" created="Tue, 19 May 2015 14:48:50 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;Eugene Koifman&lt;/a&gt; Could you verify your test using this patch?&lt;/p&gt;</comment>
                            <comment id="14551188" author="ekoifman" created="Tue, 19 May 2015 20:45:34 +0000"  >&lt;p&gt;I tried the same change earlier.  it fixes the leak problem&lt;/p&gt;</comment>
                            <comment id="14552454" author="spena" created="Wed, 20 May 2015 15:04:04 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferdinand Xu&lt;/a&gt;&lt;br/&gt;
I committed this to master.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12827752">HIVE-10629</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12733719" name="HIVE-10747.patch" size="1159" author="Ferd" created="Tue, 19 May 2015 05:50:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 May 2015 11:51:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ewrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10748] Replace StringBuffer with StringBuilder where possible</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10748</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I found 40 places in Hive where &quot;new StringBuffer(&quot; is used.&lt;/p&gt;

&lt;p&gt;&quot;Where possible, it is recommended that StringBuilder be used in preference to StringBuffer as it will be faster under most implementations&quot;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830926">HIVE-10748</key>
            <summary>Replace StringBuffer with StringBuilder where possible</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="apivovarov">Alexander Pivovarov</assignee>
                                    <reporter username="apivovarov">Alexander Pivovarov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 06:42:25 +0000</created>
                <updated>Tue, 16 Feb 2016 23:50:39 +0000</updated>
                            <resolved>Tue, 2 Jun 2015 19:43:04 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14550719" author="swarnim" created="Tue, 19 May 2015 16:29:10 +0000"  >&lt;p&gt;We need to be certain though that we are only using it in places which are marked thread-unsafe because StringBuilder is also not synchronized(which is why it is faster). Or else build appropriate synchronization around it. &lt;/p&gt;</comment>
                            <comment id="14553529" author="apivovarov" created="Thu, 21 May 2015 02:25:44 +0000"  >&lt;p&gt;patch #1&lt;/p&gt;</comment>
                            <comment id="14553618" author="swarnim" created="Thu, 21 May 2015 04:47:31 +0000"  >&lt;p&gt;Left a minor comment on the request. Other than that, looks good. +1&lt;/p&gt;</comment>
                            <comment id="14553630" author="apivovarov" created="Thu, 21 May 2015 05:03:50 +0000"  >&lt;p&gt;Thank you Swarnim. Can you check that you submitted your comment? I do not see any comments on RB now.&lt;/p&gt;</comment>
                            <comment id="14553633" author="swarnim" created="Thu, 21 May 2015 05:07:08 +0000"  >&lt;p&gt;Oops my bad. You should see it now.&lt;/p&gt;</comment>
                            <comment id="14557143" author="swarnim" created="Sat, 23 May 2015 05:29:50 +0000"  >&lt;p&gt;+1(NB)&lt;/p&gt;</comment>
                            <comment id="14566917" author="ashutoshc" created="Mon, 1 Jun 2015 03:49:26 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14567469" author="spena" created="Mon, 1 Jun 2015 15:54:07 +0000"  >&lt;p&gt;+1&lt;br/&gt;
The change looks good. &lt;/p&gt;</comment>
                            <comment id="14567472" author="spena" created="Mon, 1 Jun 2015 15:55:16 +0000"  >&lt;p&gt;Re-submit patch so that Jenkins can execute these tests.&lt;/p&gt;</comment>
                            <comment id="14567576" author="hiveqa" created="Mon, 1 Jun 2015 17:00:10 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12736588/HIVE-10748.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12736588/HIVE-10748.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4127/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4127/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4127/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4127/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4127/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4127/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-4127/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
From https://github.com/apache/hive
   2fc043f..192e8fa  branch-1.2 -&amp;gt; origin/branch-1.2
   fac9ee9..2b8d547  master     -&amp;gt; origin/master
+ git reset --hard HEAD
HEAD is now at fac9ee9 HIVE-10843 : desc database and show tables commands don&apos;t pass db to HiveAuthorizer check (Thejas Nair, reviewed by Gunther Hagleitner)
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
Your branch is behind &apos;origin/master&apos; by 1 commit, and can be fast-forwarded.
+ git reset --hard origin/master
HEAD is now at 2b8d547 HIVE-10875 : Select query with view in subquery adds underlying table as direct input (Thejas Nair, reviewed by Ashutosh Chauhan)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12736588 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14567834" author="apivovarov" created="Mon, 1 Jun 2015 19:21:32 +0000"  >&lt;p&gt;patch #2:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;rebased to the latest&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14568064" author="hiveqa" created="Mon, 1 Jun 2015 21:37:20 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12736630/HIVE-10748.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12736630/HIVE-10748.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 8994 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestUtil - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_fold_case
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_histogram_numeric
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4130/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4130/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4130/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4130/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4130/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4130/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12736630 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14568290" author="apivovarov" created="Tue, 2 Jun 2015 00:29:15 +0000"  >&lt;p&gt;Build 4130 has 3 failed tests. I think errors are unrelated to the patch #2.&lt;br/&gt;
I checked prev build 4129 - it also has the same 3 failed tests.&lt;br/&gt;
So, everything looks good!&lt;/p&gt;</comment>
                            <comment id="14569217" author="spena" created="Tue, 2 Jun 2015 14:58:36 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14569631" author="apivovarov" created="Tue, 2 Jun 2015 19:43:04 +0000"  >&lt;p&gt;Committed to master and branch-1. Thank you Ashutosh, Sergio and Swarnim for your reviews!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12736588" name="HIVE-10748.1.patch" size="35541" author="spena" created="Mon, 1 Jun 2015 15:54:45 +0000"/>
                            <attachment id="12734311" name="HIVE-10748.1.patch" size="35541" author="apivovarov" created="Thu, 21 May 2015 02:25:44 +0000"/>
                            <attachment id="12736630" name="HIVE-10748.2.patch" size="35563" author="apivovarov" created="Mon, 1 Jun 2015 19:21:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 May 2015 16:29:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ewuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10749] Implement Insert ACID statement for parquet [Parquet branch]</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10749</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We need to implement insert statement for parquet format like ORC.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12830943">HIVE-10749</key>
            <summary>Implement Insert ACID statement for parquet [Parquet branch]</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12741676">HIVE-8123</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="Ferd">Ferdinand Xu</assignee>
                                    <reporter username="Ferd">Ferdinand Xu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 08:26:39 +0000</created>
                <updated>Tue, 2 Jun 2015 21:59:43 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14552429" author="ferd" created="Wed, 20 May 2015 14:55:21 +0000"  >&lt;p&gt;This is the part for insert statement and it&apos;s based on parquet branch.&lt;/p&gt;</comment>
                            <comment id="14553203" author="hiveqa" created="Wed, 20 May 2015 21:55:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12734139/HIVE-10749.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12734139/HIVE-10749.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3966/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3966/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3966/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3966/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3966/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3966/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-3966/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 7a35c75 HIVE-10732: Hive JDBC driver does not close operation for metadata queries (Chaoyu via Xuefu)
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
+ git reset --hard origin/master
HEAD is now at 7a35c75 HIVE-10732: Hive JDBC driver does not close operation for metadata queries (Chaoyu via Xuefu)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12734139 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14553798" author="ferd" created="Thu, 21 May 2015 07:46:55 +0000"  >&lt;p&gt;Rebase code with the latest parquet branch&lt;/p&gt;</comment>
                            <comment id="14553900" author="hiveqa" created="Thu, 21 May 2015 08:46:49 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12734362/HIVE-10749.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12734362/HIVE-10749.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3983/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3983/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3983/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3983/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3983/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3983/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-3983/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 4eed1ad HIVE-10659 : Beeline command which contains semi-colon as a non-command terminator will fail (Hari Subramaniyan via Sushanth Sowmyan)
+ git clean -f -d
Removing data/files/customers.txt
Removing data/files/nested_orders.txt
Removing data/files/orders.txt
Removing ql/src/test/queries/clientnegative/udaf_collect_set_unsupported.q
Removing ql/src/test/queries/clientpositive/udaf_collect_set_2.q
Removing ql/src/test/results/clientnegative/udaf_collect_set_unsupported.q.out
Removing ql/src/test/results/clientpositive/udaf_collect_set_2.q.out
+ git checkout master
Already on &apos;master&apos;
+ git reset --hard origin/master
HEAD is now at 4eed1ad HIVE-10659 : Beeline command which contains semi-colon as a non-command terminator will fail (Hari Subramaniyan via Sushanth Sowmyan)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12734362 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14553922" author="ferd" created="Thu, 21 May 2015 08:59:55 +0000"  >&lt;p&gt;rebase to the master&lt;/p&gt;</comment>
                            <comment id="14554088" author="hiveqa" created="Thu, 21 May 2015 10:47:11 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12734378/HIVE-10749.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12734378/HIVE-10749.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3985/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3985/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3985/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3985/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3985/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3985/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/ql/target/generated-test-sources/java/org/apache/hadoop/hive/ql/exec/vector/expressions/gen
Generating vector expression code
Generating vector expression test code
[INFO] Executed tasks
[INFO] 
[INFO] --- build-helper-maven-plugin:1.8:add-source (add-source) @ hive-exec ---
[INFO] Source directory: /data/hive-ptest/working/apache-github-source-source/ql/src/gen/protobuf/gen-java added.
[INFO] Source directory: /data/hive-ptest/working/apache-github-source-source/ql/src/gen/thrift/gen-javabean added.
[INFO] Source directory: /data/hive-ptest/working/apache-github-source-source/ql/target/generated-sources/java added.
[INFO] 
[INFO] --- antlr3-maven-plugin:3.4:antlr (default) @ hive-exec ---
[INFO] ANTLR: Processing source directory /data/hive-ptest/working/apache-github-source-source/ql/src/java
ANTLR Parser Generator  Version 3.4
org/apache/hadoop/hive/ql/parse/HiveLexer.g
org/apache/hadoop/hive/ql/parse/HiveParser.g
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_ORDER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_GROUP KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_CLUSTER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_MAP&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_SELECT&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_MAP LPAREN&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_REDUCE&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_LATERAL KW_VIEW&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_SORT KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_INSERT KW_INTO&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_ALL&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_UNION KW_FROM&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_INSERT KW_OVERWRITE&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:455:5: 
Decision can match input such as &quot;{KW_REGEXP, KW_RLIKE} KW_DISTRIBUTE KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-exec ---
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-exec ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-exec ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:2.3.2:compile (default-compile) @ hive-exec ---
[INFO] Compiling 2387 source files to /data/hive-ptest/working/apache-github-source-source/ql/target/classes
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[24,39] error: cannot find symbol
[ERROR]  package org.apache.hadoop.hive.serde2.io
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[25,39] error: cannot find symbol
[ERROR]  package org.apache.hadoop.hive.serde2.io
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[94,36] error: cannot find symbol
[ERROR]  class ParquetRecordUpdater
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[94,9] error: cannot find symbol
[ERROR]  class ParquetRecordUpdater
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[99,27] error: cannot find symbol
[ERROR]  class ParquetRecordUpdater
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[170,24] error: cannot find symbol
[ERROR]  class ParquetStructObjectInspector
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[171,12] error: cannot find symbol
[ERROR]  class ParquetStructObjectInspector
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[171,39] error: cannot find symbol
[ERROR]  class ParquetStructObjectInspector
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[196,24] error: cannot find symbol
[ERROR]  class ParquetStructObjectInspector
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[197,12] error: cannot find symbol
[ERROR]  class ParquetStructObjectInspector
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[197,39] error: cannot find symbol
[ERROR]  class ParquetStructObjectInspector
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[95,12] error: cannot find symbol
[ERROR]  class ParquetRecordUpdater
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[120,4] error: cannot find symbol
[ERROR]  class ParquetRecordUpdater
/data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[120,39] error: cannot find symbol
[INFO] 14 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [11.830s]
[INFO] Hive Shims Common ................................. SUCCESS [13.209s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [3.256s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [11.271s]
[INFO] Hive Shims Scheduler .............................. SUCCESS [2.240s]
[INFO] Hive Shims ........................................ SUCCESS [2.176s]
[INFO] Hive Common ....................................... SUCCESS [21.389s]
[INFO] Hive Serde ........................................ SUCCESS [17.561s]
[INFO] Hive Metastore .................................... SUCCESS [38.561s]
[INFO] Hive Ant Utilities ................................ SUCCESS [2.041s]
[INFO] Spark Remote Client ............................... SUCCESS [18.663s]
[INFO] Hive Query Language ............................... FAILURE [1:18.721s]
[INFO] Hive Service ...................................... SKIPPED
[INFO] Hive Accumulo Handler ............................. SKIPPED
[INFO] Hive JDBC ......................................... SKIPPED
[INFO] Hive Beeline ...................................... SKIPPED
[INFO] Hive CLI .......................................... SKIPPED
[INFO] Hive Contrib ...................................... SKIPPED
[INFO] Hive HBase Handler ................................ SKIPPED
[INFO] Hive HCatalog ..................................... SKIPPED
[INFO] Hive HCatalog Core ................................ SKIPPED
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog Streaming ........................... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3:44.030s
[INFO] Finished at: Thu May 21 06:47:10 EDT 2015
[INFO] Final Memory: 120M/501M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on project hive-exec: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[24,39] error: cannot find symbol
[ERROR] package org.apache.hadoop.hive.serde2.io
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[25,39] error: cannot find symbol
[ERROR] package org.apache.hadoop.hive.serde2.io
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[94,36] error: cannot find symbol
[ERROR] class ParquetRecordUpdater
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[94,9] error: cannot find symbol
[ERROR] class ParquetRecordUpdater
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[99,27] error: cannot find symbol
[ERROR] class ParquetRecordUpdater
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[170,24] error: cannot find symbol
[ERROR] class ParquetStructObjectInspector
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[171,12] error: cannot find symbol
[ERROR] class ParquetStructObjectInspector
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[171,39] error: cannot find symbol
[ERROR] class ParquetStructObjectInspector
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[196,24] error: cannot find symbol
[ERROR] class ParquetStructObjectInspector
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[197,12] error: cannot find symbol
[ERROR] class ParquetStructObjectInspector
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/serde/ParquetStructObjectInspector.java:[197,39] error: cannot find symbol
[ERROR] class ParquetStructObjectInspector
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[95,12] error: cannot find symbol
[ERROR] class ParquetRecordUpdater
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[120,4] error: cannot find symbol
[ERROR] class ParquetRecordUpdater
[ERROR] /data/hive-ptest/working/apache-github-source-source/ql/src/java/org/apache/hadoop/hive/ql/io/parquet/acid/ParquetRecordUpdater.java:[120,39] error: cannot find symbol
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-exec
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12734378 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14554526" author="ferd" created="Thu, 21 May 2015 15:33:57 +0000"  >&lt;p&gt;The compile error is caused by that &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ObjectArrayWritable&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; is not committed to the master.&lt;/p&gt;</comment>
                            <comment id="14554637" author="alangates" created="Thu, 21 May 2015 16:47:02 +0000"  >&lt;p&gt;Looks good to me, other than the one question I had on streaming ingest.  You may also want to get a review from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;Owen O&apos;Malley&lt;/a&gt; since he did most of the ORC work for this and thus understands the file format pieces more completely than I do.&lt;/p&gt;</comment>
                            <comment id="14555652" author="ferd" created="Fri, 22 May 2015 06:22:10 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;Sergio Pe&#241;a&lt;/a&gt; for your review. Update patch addressing yourcomments.&lt;/p&gt;</comment>
                            <comment id="14556987" author="hiveqa" created="Fri, 22 May 2015 23:25:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12734753/HIVE-10749.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12734753/HIVE-10749.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4008/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4008/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4008/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4008/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4008/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4008/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-4008/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
From https://github.com/apache/hive
   9253f5a..613b559  branch-1.2 -&amp;gt; origin/branch-1.2
+ git reset --hard HEAD
HEAD is now at 0d93438 HIVE-10776 - Schema on insert for bucketed tables throwing NullPointerException(Eugene Koifman, reviewed by Alan Gates)
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
+ git reset --hard origin/master
HEAD is now at 0d93438 HIVE-10776 - Schema on insert for bucketed tables throwing NullPointerException(Eugene Koifman, reviewed by Alan Gates)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12734753 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14559623" author="spena" created="Tue, 26 May 2015 18:55:39 +0000"  >&lt;p&gt;Re-attaching patch to allow jenkins job to execute tests on parquet branch&lt;/p&gt;</comment>
                            <comment id="14568525" author="ferd" created="Tue, 2 Jun 2015 05:00:53 +0000"  >&lt;p&gt;Reattach the patch to trigger the precommit for parquet branch.&lt;/p&gt;</comment>
                            <comment id="14569840" author="hiveqa" created="Tue, 2 Jun 2015 21:59:43 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12736735/HIVE-10749.3-parquet.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12736735/HIVE-10749.3-parquet.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 36 failed/errored test(s), 8967 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCustomAuthentication - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_array_null_element
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_create
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_decimal1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_join
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_map_null
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_map_of_arrays_of_ints
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_map_of_maps
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_nested_complex
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_auto_sortmerge_join_2
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_auto_sortmerge_join_8
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_parquet_join
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testArrayOfArrays
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testArrayType
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testMapType
org.apache.hadoop.hive.ql.io.parquet.TestDataWritableWriter.testSimpleType
org.apache.hadoop.hive.ql.io.parquet.TestMapStructures.testNestedMap
org.apache.hadoop.hive.ql.io.parquet.TestMapStructures.testStringMapOfOptionalArray
org.apache.hadoop.hive.ql.io.parquet.TestMapStructures.testStringMapOfOptionalIntArray
org.apache.hadoop.hive.ql.io.parquet.TestMapStructures.testStringMapOptionalPrimitive
org.apache.hadoop.hive.ql.io.parquet.TestMapStructures.testStringMapRequiredPrimitive
org.apache.hadoop.hive.ql.io.parquet.TestParquetSerDe.testParquetHiveSerDe
org.apache.hadoop.hive.ql.io.parquet.serde.TestAbstractParquetMapInspector.testEmptyContainer
org.apache.hadoop.hive.ql.io.parquet.serde.TestAbstractParquetMapInspector.testNullContainer
org.apache.hadoop.hive.ql.io.parquet.serde.TestAbstractParquetMapInspector.testRegularMap
org.apache.hadoop.hive.ql.io.parquet.serde.TestDeepParquetHiveMapInspector.testEmptyContainer
org.apache.hadoop.hive.ql.io.parquet.serde.TestDeepParquetHiveMapInspector.testNullContainer
org.apache.hadoop.hive.ql.io.parquet.serde.TestDeepParquetHiveMapInspector.testRegularMap
org.apache.hadoop.hive.ql.io.parquet.serde.TestParquetHiveArrayInspector.testEmptyContainer
org.apache.hadoop.hive.ql.io.parquet.serde.TestParquetHiveArrayInspector.testNullContainer
org.apache.hadoop.hive.ql.io.parquet.serde.TestParquetHiveArrayInspector.testRegularList
org.apache.hadoop.hive.ql.io.parquet.serde.TestStandardParquetHiveMapInspector.testEmptyContainer
org.apache.hadoop.hive.ql.io.parquet.serde.TestStandardParquetHiveMapInspector.testNullContainer
org.apache.hadoop.hive.ql.io.parquet.serde.TestStandardParquetHiveMapInspector.testRegularMap
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbort
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-PARQUET-Build/12/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-PARQUET-Build/12/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-PARQUET-Build/12/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-PARQUET-Build/12/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-PARQUET-Build-12/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-PARQUET-Build-12/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 36 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12736735 - PreCommit-HIVE-PARQUET-Build&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12734378" name="HIVE-10749.1.patch" size="35648" author="Ferd" created="Thu, 21 May 2015 08:59:55 +0000"/>
                            <attachment id="12734362" name="HIVE-10749.1.patch" size="35308" author="Ferd" created="Thu, 21 May 2015 07:46:55 +0000"/>
                            <attachment id="12735380" name="HIVE-10749.2-parquet.patch" size="28280" author="spena" created="Tue, 26 May 2015 18:55:39 +0000"/>
                            <attachment id="12734753" name="HIVE-10749.2.patch" size="28280" author="Ferd" created="Fri, 22 May 2015 06:27:50 +0000"/>
                            <attachment id="12736735" name="HIVE-10749.3-parquet.patch" size="28467" author="Ferd" created="Tue, 2 Jun 2015 05:00:53 +0000"/>
                            <attachment id="12735877" name="HIVE-10749.3-parquet.patch" size="28467" author="spena" created="Thu, 28 May 2015 14:41:19 +0000"/>
                            <attachment id="12735828" name="HIVE-10749.3-parquet.patch" size="28467" author="Ferd" created="Thu, 28 May 2015 08:29:35 +0000"/>
                            <attachment id="12734139" name="HIVE-10749.patch" size="51379" author="Ferd" created="Wed, 20 May 2015 14:55:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 May 2015 21:55:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ewy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10750] Fix flaky testCliDriver_encryption_insert_partition_static test</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10750</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Seems like the test TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static is flaky. We should look into what is causing the flakiness and look into it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12831021">HIVE-10750</key>
            <summary>Fix flaky testCliDriver_encryption_insert_partition_static test</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="swarnim">Swarnim Kulkarni</assignee>
                                    <reporter username="swarnim">Swarnim Kulkarni</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 14:10:17 +0000</created>
                <updated>Tue, 19 May 2015 14:10:17 +0000</updated>
                                                                            <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2exfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10751] Hive View Specification Needs Update</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10751</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;On this page: &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Create/Drop/AlterView&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Create/Drop/AlterView&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There is no mention in the spec of the optional &lt;span class=&quot;error&quot;&gt;&amp;#91;db_name&amp;#93;&lt;/span&gt; to qualify the View with, but it is mentioned with CREATE TABLE.&lt;/p&gt;

&lt;p&gt;Isn&#8217;t this an oversight?  My understanding is that we can qualify the CREATE VIEW statement with the database such as CREATE VIEW jrnl.sbb_base_v&lt;/p&gt;

&lt;p&gt;The reason I ask is another vendor is questioning this syntax.&lt;/p&gt;

&lt;p&gt;CREATE VIEW &lt;span class=&quot;error&quot;&gt;&amp;#91;IF NOT EXISTS&amp;#93;&lt;/span&gt; view_name [(column_name &lt;span class=&quot;error&quot;&gt;&amp;#91;COMMENT column_comment&amp;#93;&lt;/span&gt;, ...) ]&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;COMMENT view_comment&amp;#93;&lt;/span&gt;&lt;br/&gt;
  &lt;span class=&quot;error&quot;&gt;&amp;#91;TBLPROPERTIES (property_name = property_value, ...)&amp;#93;&lt;/span&gt;&lt;br/&gt;
  AS SELECT ...;&lt;/p&gt;

&lt;p&gt;=================================================&lt;/p&gt;

&lt;p&gt;Email response from Hortonworks:&lt;/p&gt;

&lt;p&gt;Subject: Hive - Question&lt;/p&gt;

&lt;p&gt;Good morning Tim, &lt;/p&gt;

&lt;p&gt;I have received this email thread from Doug. I have looked into it below are my findings. &lt;/p&gt;

&lt;p&gt;Yes. We can qualify the CREATE VIEW statement with the database. &lt;/p&gt;

&lt;p&gt;hive&amp;gt; create view db1.vw3 as select * from default.x1;&lt;br/&gt;
OK&lt;br/&gt;
Time taken: 0.084 seconds&lt;br/&gt;
hive&amp;gt;&lt;/p&gt;

&lt;p&gt;This could be a possible documentation issue or improvement, which can be addressed by raising an Apache JIRA. This documentation is maintained by apache and HWX contributes to it. Anyone can register and raise Apache JIRA.  &lt;/p&gt;

&lt;p&gt;Please let me know if you have any questions or concerns.                       &lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Sai&lt;/p&gt;</description>
                <environment></environment>
        <key id="12831025">HIVE-10751</key>
            <summary>Hive View Specification Needs Update</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wzheng">Wei Zheng</assignee>
                                    <reporter username="mtnstim">Tim Gattone</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 14:14:44 +0000</created>
                <updated>Tue, 22 Mar 2016 06:18:34 +0000</updated>
                            <resolved>Tue, 2 Jun 2015 17:42:52 +0000</resolved>
                                    <version>0.10.0</version>
                    <version>0.11.0</version>
                    <version>0.12.0</version>
                    <version>0.13.0</version>
                    <version>0.13.1</version>
                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14569479" author="wzheng" created="Tue, 2 Jun 2015 17:42:52 +0000"  >&lt;p&gt;Updated the wiki page. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mtnstim&quot; class=&quot;user-hover&quot; rel=&quot;mtnstim&quot;&gt;Tim Gattone&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="15203175" author="lefty@hortonworks.com" created="Sun, 20 Mar 2016 08:58:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wzheng&quot; class=&quot;user-hover&quot; rel=&quot;wzheng&quot;&gt;Wei Zheng&lt;/a&gt;, should the &quot;db_name.&quot; option also be added to the syntax for ALTER VIEW and DROP VIEW?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-DropView&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Drop View &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterViewProperties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Alter View Properties &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterViewAsSelect&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Alter View As Select &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15205299" author="wzheng" created="Mon, 21 Mar 2016 22:38:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; Thanks for catching that. I&apos;ve updated that wikipage.&lt;/p&gt;</comment>
                            <comment id="15205875" author="lefty@hortonworks.com" created="Tue, 22 Mar 2016 06:18:34 +0000"  >&lt;p&gt;Great!  Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=wzheng&quot; class=&quot;user-hover&quot; rel=&quot;wzheng&quot;&gt;Wei Zheng&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 2 Jun 2015 17:42:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Create/Drop/AlterView]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 43 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2exgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10752] Revert HIVE-5193</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10752</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt; since it causes pig+hcatalog not working.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12831108">HIVE-10752</key>
            <summary>Revert HIVE-5193</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12830188">HIVE-10720</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aihuaxu">Aihua Xu</assignee>
                                    <reporter username="aihuaxu">Aihua Xu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 18:09:37 +0000</created>
                <updated>Tue, 16 Feb 2016 23:51:52 +0000</updated>
                            <resolved>Tue, 2 Jun 2015 19:30:58 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14550921" author="gopalv" created="Tue, 19 May 2015 18:13:55 +0000"  >&lt;p&gt;Since this is a significant performance hit, is there a pig+hcatalog bug report with a backtrace or logs?&lt;/p&gt;</comment>
                            <comment id="14550943" author="aihuaxu" created="Tue, 19 May 2015 18:22:38 +0000"  >&lt;p&gt;Yes. This is from the customer bug reporting. I have included the repro in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10720&quot; title=&quot;Pig using HCatLoader to access RCFile and perform join but get incorrect result.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10720&quot;&gt;HIVE-10720&lt;/a&gt;. Basically it causes pig+hcatalog doesn&apos;t work at all if it involves 2 or more tables and I think it doesn&apos;t matter whether we have such performance enhancement or not.  &lt;/p&gt;</comment>
                            <comment id="14550947" author="aihuaxu" created="Tue, 19 May 2015 18:24:41 +0000"  >&lt;p&gt;I mean since it doesn&apos;t work, such performance enhancement doesn&apos;t matter.&lt;/p&gt;</comment>
                            <comment id="14550952" author="aihuaxu" created="Tue, 19 May 2015 18:26:30 +0000"  >&lt;p&gt;Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt;. Please note, we have an additional problem even after reverting. I will address later. I didn&apos;t include in this patch to keep the work separate. &lt;/p&gt;</comment>
                            <comment id="14553195" author="hiveqa" created="Wed, 20 May 2015 21:53:12 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733906/HIVE-10752.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733906/HIVE-10752.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 8961 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3965/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3965/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3965/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3965/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3965/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3965/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733906 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14554271" author="aihuaxu" created="Thu, 21 May 2015 13:28:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;Daniel Dai&lt;/a&gt; and  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt;. Seems you guys are more familiar with this part of the code. Can you help review this patch and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10754&quot; title=&quot;new Job() is deprecated. Replaced all with Job.getInstance() for Hcatalog&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10754&quot;&gt;HIVE-10754&lt;/a&gt;? The changes are to make Pig+HCatalog on RCFile to work first, after that, I will rework on the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt; enhancement to improve the RCFile performance.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt; introduces the issue that if pig query involves more than one table, then the columns to be retrieved for one table may be applied to another table, since we save such information in the JobConf and it overwrites the previous one. &lt;/p&gt;</comment>
                            <comment id="14554534" author="sushanth" created="Thu, 21 May 2015 15:38:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt;, could you please have a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10720&quot; title=&quot;Pig using HCatLoader to access RCFile and perform join but get incorrect result.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10720&quot;&gt;HIVE-10720&lt;/a&gt; to verify the issue?&lt;/p&gt;</comment>
                            <comment id="14556737" author="aihuaxu" created="Fri, 22 May 2015 19:57:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; Any updates from you? &lt;/p&gt;</comment>
                            <comment id="14557830" author="mithun" created="Sun, 24 May 2015 19:55:02 +0000"  >&lt;p&gt;Sorry, chaps. I&apos;m on vacation. Tagging &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cdrome&quot; class=&quot;user-hover&quot; rel=&quot;cdrome&quot;&gt;Chris Drome&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viraj&quot; class=&quot;user-hover&quot; rel=&quot;viraj&quot;&gt;Viraj Bhat&lt;/a&gt; (who worked on the original bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt;). I&apos;m afraid I won&apos;t be able to look at this till Wednesday. &lt;/p&gt;</comment>
                            <comment id="14562917" author="aihuaxu" created="Thu, 28 May 2015 13:43:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; Are you able to verify that? Want to move forward so that I can rework on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt;. Thanks.&lt;/p&gt;</comment>
                            <comment id="14563191" author="mithun" created="Thu, 28 May 2015 16:16:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;Aihua Xu&lt;/a&gt;, doesn&apos;t the patch that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viraj&quot; class=&quot;user-hover&quot; rel=&quot;viraj&quot;&gt;Viraj Bhat&lt;/a&gt; posted on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10720&quot; title=&quot;Pig using HCatLoader to access RCFile and perform join but get incorrect result.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10720&quot;&gt;HIVE-10720&lt;/a&gt; sort this out?&lt;/p&gt;</comment>
                            <comment id="14563372" author="aihuaxu" created="Thu, 28 May 2015 18:06:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; What the patch does is to enable the optimization (for column based table retrieval) and then disable it (equivalent to revert IVE-5193), so there will be no optimization. It&apos;s better to revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt; to unblock the customer and rework on it since such optimization is reasonable for performance reason.&lt;/p&gt;</comment>
                            <comment id="14563438" author="aihuaxu" created="Thu, 28 May 2015 18:41:09 +0000"  >&lt;p&gt;Sorry. That patch actually is not a revert. The patch will those NPE in at org.apache.hadoop.hive.serde2.ColumnProjectionUtils.toReadColumnIDString(ColumnProjectionUtils.java:190) since Ids is null.&lt;br/&gt;
Also for the cases that there are any projection prune, there will be still issues.&lt;/p&gt;

&lt;p&gt;I posted the info in the parent jira as well.&lt;/p&gt;</comment>
                            <comment id="14563441" author="aihuaxu" created="Thu, 28 May 2015 18:41:31 +0000"  >&lt;p&gt;Sorry. That patch actually is not a revert. The patch will throw NPE in at org.apache.hadoop.hive.serde2.ColumnProjectionUtils.toReadColumnIDString(ColumnProjectionUtils.java:190) since Ids is null.&lt;br/&gt;
Also for the cases that there are any projection prune, there will be still issues.&lt;/p&gt;

&lt;p&gt;I posted the info in the parent jira as well.&lt;/p&gt;</comment>
                            <comment id="14563472" author="ctang.ma" created="Thu, 28 May 2015 18:58:10 +0000"  >&lt;p&gt;Given that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt; broke some functionality and it was just for columnar table performance improvement, in addition that patch provided in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10720&quot; title=&quot;Pig using HCatLoader to access RCFile and perform join but get incorrect result.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10720&quot;&gt;HIVE-10720&lt;/a&gt; did still not solve the issue. IMO, reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt; at this moment to restore the functionality is a viable solution. I wonder if any one has other better solutions. Thanks.&lt;/p&gt;</comment>
                            <comment id="14565339" author="ctang.ma" created="Fri, 29 May 2015 20:21:48 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14565401" author="mithun" created="Fri, 29 May 2015 21:02:41 +0000"  >
&lt;blockquote&gt;&lt;p&gt;Given that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt; broke some functionality and it was just for columnar table performance improvement, in addition that patch provided in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10720&quot; title=&quot;Pig using HCatLoader to access RCFile and perform join but get incorrect result.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10720&quot;&gt;HIVE-10720&lt;/a&gt; did still not solve the issue.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;While I agree that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt; did introduce a bug, I can&apos;t yet agree that we should revert it. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viraj&quot; class=&quot;user-hover&quot; rel=&quot;viraj&quot;&gt;Viraj Bhat&lt;/a&gt; is currently testing whether the one-liner posted in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10720&quot; title=&quot;Pig using HCatLoader to access RCFile and perform join but get incorrect result.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10720&quot;&gt;HIVE-10720&lt;/a&gt; doesn&apos;t resolve the issue. (My understanding was that this does.) I&apos;ll let him confirm shortly.&lt;/p&gt;

&lt;p&gt;In the meantime, please consider that the fix (&lt;tt&gt;ColumnProjectionUtils.setReadColumnIDs(job.getConfiguration(), null);&lt;/tt&gt;) is only applied when &lt;tt&gt;requiredFieldsInfo == null&lt;/tt&gt;, which is shorthand for Pig requiring all columns. So the deserialization is not done in all cases. It&apos;s only for when all fields are required. There isn&apos;t any loss of performance in this case.&lt;/p&gt;

&lt;p&gt;Am I missing something?&lt;/p&gt;</comment>
                            <comment id="14567301" author="aihuaxu" created="Mon, 1 Jun 2015 13:42:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viraj&quot; class=&quot;user-hover&quot; rel=&quot;viraj&quot;&gt;Viraj Bhat&lt;/a&gt; Based on the discussion in the parent jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10720&quot; title=&quot;Pig using HCatLoader to access RCFile and perform join but get incorrect result.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10720&quot;&gt;HIVE-10720&lt;/a&gt;, we agreed to revert the change to move forward and then rework on it later. Post the message here since some folks may not be aware of the discussion in parent jira. &lt;/p&gt;

&lt;p&gt;If you guys can +1, that will be even better. &lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="14567892" author="mithun" created="Mon, 1 Jun 2015 19:55:33 +0000"  >&lt;p&gt;Yes, of course. +1, as per &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10720?focusedCommentId=14565768&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14565768&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-10720&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Let&apos;s circle back, after Viraj and I have identified why this isn&apos;t a problem with our internal Hive 0.13-0.14 branch. &lt;/p&gt;</comment>
                            <comment id="14567911" author="aihuaxu" created="Mon, 1 Jun 2015 20:03:36 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; Maybe you guys have additional fix in some place internally?&lt;/p&gt;</comment>
                            <comment id="14567913" author="aihuaxu" created="Mon, 1 Jun 2015 20:04:34 +0000"  >&lt;p&gt;And also, did you verify the issue against upstream? &lt;/p&gt;</comment>
                            <comment id="14569613" author="ctang.ma" created="Tue, 2 Jun 2015 19:30:58 +0000"  >&lt;p&gt;Committed to master. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;Aihua Xu&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14940101" author="daijy" created="Thu, 1 Oct 2015 17:28:34 +0000"  >&lt;p&gt;This should be committed to branch-1 as well. Also create &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12006&quot; title=&quot;Enable Columnar Pushdown for RC/ORC File for HCatLoader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12006&quot;&gt;&lt;del&gt;HIVE-12006&lt;/del&gt;&lt;/a&gt; to redo it in a right way.&lt;/p&gt;</comment>
                            <comment id="14940106" author="daijy" created="Thu, 1 Oct 2015 17:31:29 +0000"  >&lt;p&gt;Committed to branch-1.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733906" name="HIVE-10752.patch" size="5204" author="aihuaxu" created="Tue, 19 May 2015 18:26:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 May 2015 18:13:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2exyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10753] hs2 jdbc url - wrong connection string cause  error on beeline/jdbc/odbc client, misleading message</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10753</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;beeline -u &apos;jdbc:hive2://localhost:10001/default?httpPath=/;transportMode=http&apos; -n hdiuser
scan complete in 15ms
Connecting to jdbc:hive2://localhost:10001/default?httpPath=/;transportMode=http

Java heap space
Beeline version 0.14.0.2.2.4.1-1 by Apache Hive
0: jdbc:hive2://localhost:10001/default (closed)&amp;gt; ^C
hdiuser@headnode0:~$ 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But it works if I use the deprecated param - &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hdiuser@headnode0:~$ beeline -u &apos;jdbc:hive2://localhost:10001/default?hive.server2.transport.mode=http;httpPath=/&apos; -n hdiuser
scan complete in 12ms
Connecting to jdbc:hive2://localhost:10001/default?hive.server2.transport.mode=http;httpPath=/
15/04/28 23:16:46 [main]: WARN jdbc.Utils: ***** JDBC param deprecation *****
15/04/28 23:16:46 [main]: WARN jdbc.Utils: The use of hive.server2.transport.mode is deprecated.
15/04/28 23:16:46 [main]: WARN jdbc.Utils: Please use transportMode like so: jdbc:hive2://&amp;lt;host&amp;gt;:&amp;lt;port&amp;gt;/dbName;transportMode=&amp;lt;transport_mode_value&amp;gt;
Connected to: Apache Hive (version 0.14.0.2.2.4.1-1)
Driver: Hive JDBC (version 0.14.0.2.2.4.1-1)
Transaction isolation: TRANSACTION_REPEATABLE_READ
Beeline version 0.14.0.2.2.4.1-1 by Apache Hive
0: jdbc:hive2://localhost:10001/default&amp;gt; show tables;
+------------------+--+
|     tab_name     |
+------------------+--+
| hivesampletable  |
+------------------+--+
1 row selected (18.181 seconds)
0: jdbc:hive2://localhost:10001/default&amp;gt; ^C
hdiuser@headnode0:~$ ^C
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The reason for the above message is :&lt;br/&gt;
The url is wrong. Correct one:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;beeline -u &apos;jdbc:hive2://localhost:10001/default;httpPath=/;transportMode=http&apos; -n hdiuser
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Note the &quot;;&quot; instead of &quot;?&quot;. The deprecation msg prints the format as well: &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Please use transportMode like so: jdbc:hive2://&amp;lt;host&amp;gt;:&amp;lt;port&amp;gt;/dbName;transportMode=&amp;lt;transport_mode_value&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12831114">HIVE-10753</key>
            <summary>hs2 jdbc url - wrong connection string cause  error on beeline/jdbc/odbc client, misleading message</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</assignee>
                                    <reporter username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 18:14:35 +0000</created>
                <updated>Fri, 5 Jun 2015 20:57:31 +0000</updated>
                            <resolved>Wed, 27 May 2015 07:13:04 +0000</resolved>
                                                    <fixVersion>1.2.1</fixVersion>
                                    <component>Beeline</component>
                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14550938" author="hsubramaniyan" created="Tue, 19 May 2015 18:19:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Can you please review patch 1.  Please let me know if you think if there is a better way of telling the user that they entered a bad URL.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14551026" author="thejas" created="Tue, 19 May 2015 19:04:19 +0000"  >&lt;p&gt;Several non hive config parameters can also be set through the url. This includes tez/mr parameters. This check will disallow that.&lt;/p&gt;

&lt;p&gt;There are two issues here.&lt;br/&gt;
1. It is hard for the user to figure out why the connection attempt failed. I think we can do something simple like printing the transport mode and other settings for connection that are getting used (transport mode, sasl, ssl ).&lt;br/&gt;
2. The failure is an OOM. Is it possible to not OOM and probably given an error about wrong transport mode ? &lt;br/&gt;
These two issues can be talked as part of different jiras if necessary.&lt;/p&gt;
</comment>
                            <comment id="14551191" author="hiveqa" created="Tue, 19 May 2015 20:48:25 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733904/HIVE-10753.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733904/HIVE-10753.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 8946 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hive.jdbc.TestJdbcDriver2.testSetOnConnection
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3947/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3947/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3947/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3947/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3947/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3947/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733904 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14551425" author="hsubramaniyan" created="Tue, 19 May 2015 23:17:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Thanks for the review, I noticed that OOM does not happen with master branch and it happens only with 0.14.0, most likely the OOM error was resolved with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6468&quot; title=&quot;HS2 &amp;amp; Metastore using SASL out of memory error when curl sends a get request&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6468&quot;&gt;&lt;del&gt;HIVE-6468&lt;/del&gt;&lt;/a&gt;.  However, I still get a connection error message like this :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;localhost:bin hsubramaniyan$ ./beeline --verbose=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
Beeline version 1.3.0-SNAPSHOT by Apache Hive
beeline&amp;gt; !connect jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10001/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;?httpPath=/;transportMode=http
&lt;/span&gt;Connecting to jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10001/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;?httpPath=/;transportMode=http
&lt;/span&gt;Enter username &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10001/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;?httpPath=/;transportMode=http: scott
&lt;/span&gt;Enter password &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10001/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;?httpPath=/;transportMode=http: *****
&lt;/span&gt;Error: Could not open client transport with JDBC Uri: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10001/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;?httpPath=/;transportMode=http: Invalid status 72 (state=08S01,code=0)
&lt;/span&gt;java.sql.SQLException: Could not open client transport with JDBC Uri: jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//localhost:10001/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;?httpPath=/;transportMode=http: Invalid status 72
&lt;/span&gt;	at org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:228)
	at org.apache.hive.jdbc.HiveConnection.&amp;lt;init&amp;gt;(HiveConnection.java:175)
	at org.apache.hive.jdbc.HiveDriver.connect(HiveDriver.java:105)
	at java.sql.DriverManager.getConnection(DriverManager.java:571)
	at java.sql.DriverManager.getConnection(DriverManager.java:187)
	at org.apache.hive.beeline.DatabaseConnection.connect(DatabaseConnection.java:142)
	at org.apache.hive.beeline.DatabaseConnection.getConnection(DatabaseConnection.java:207)
	at org.apache.hive.beeline.Commands.connect(Commands.java:1139)
	at org.apache.hive.beeline.Commands.connect(Commands.java:1060)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hive.beeline.ReflectiveCommandHandler.execute(ReflectiveCommandHandler.java:52)
	at org.apache.hive.beeline.BeeLine.dispatch(BeeLine.java:976)
	at org.apache.hive.beeline.BeeLine.execute(BeeLine.java:815)
	at org.apache.hive.beeline.BeeLine.begin(BeeLine.java:772)
	at org.apache.hive.beeline.BeeLine.mainWithInputRedirection(BeeLine.java:485)
	at org.apache.hive.beeline.BeeLine.main(BeeLine.java:468)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.util.RunJar.run(RunJar.java:221)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:136)
Caused by: org.apache.thrift.transport.TTransportException: Invalid status 72
	at org.apache.thrift.transport.TSaslTransport.sendAndThrowMessage(TSaslTransport.java:232)
	at org.apache.thrift.transport.TSaslTransport.receiveSaslMessage(TSaslTransport.java:184)
	at org.apache.thrift.transport.TSaslTransport.open(TSaslTransport.java:307)
	at org.apache.thrift.transport.TSaslClientTransport.open(TSaslClientTransport.java:37)
	at org.apache.hive.jdbc.HiveConnection.openTransport(HiveConnection.java:203)
	... 24 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I will upload a new patch which improves the error message i.e. the point 1 you mentioned above.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14556934" author="hsubramaniyan" created="Fri, 22 May 2015 22:29:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;  I have added some logging information which will give the end user a clue as to why the JDBC connection failed in such scenarios. Please let me know if there are any other parameters that might be helpful if logged.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14557425" author="hiveqa" created="Sat, 23 May 2015 16:40:12 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12734951/HIVE-10753.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12734951/HIVE-10753.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8967 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestContribNegativeCliDriver - did not produce a TEST-*.xml file
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4018/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4018/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4018/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4018/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4018/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4018/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12734951 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14559893" author="thejas" created="Tue, 26 May 2015 21:20:20 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14560529" author="hsubramaniyan" created="Wed, 27 May 2015 07:02:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Thanks for the review, TestContribNegativeCliDriver passes in my machine locally.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14560545" author="hsubramaniyan" created="Wed, 27 May 2015 07:13:04 +0000"  >&lt;p&gt;Committed to master and branch-1.2. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; for reviewing the change.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733904" name="HIVE-10753.1.patch" size="1896" author="hsubramaniyan" created="Tue, 19 May 2015 18:19:58 +0000"/>
                            <attachment id="12734951" name="HIVE-10753.2.patch" size="1302" author="hsubramaniyan" created="Fri, 22 May 2015 22:29:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 May 2015 19:04:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ey07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10754] new Job() is deprecated. Replaced all with Job.getInstance() for Hcatalog</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10754</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Replace all the deprecated new Job() with Job.getInstance() in HCatalog.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12831122">HIVE-10754</key>
            <summary>new Job() is deprecated. Replaced all with Job.getInstance() for Hcatalog</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12830188">HIVE-10720</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="aihuaxu">Aihua Xu</assignee>
                                    <reporter username="aihuaxu">Aihua Xu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 18:31:20 +0000</created>
                <updated>Mon, 29 Jun 2015 15:22:04 +0000</updated>
                                            <version>1.2.0</version>
                                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14552999" author="aihuaxu" created="Wed, 20 May 2015 19:56:33 +0000"  >&lt;p&gt;The Job object needs to be cloned, otherwise we were referring the same object in the following.&lt;/p&gt;</comment>
                            <comment id="14553456" author="hiveqa" created="Thu, 21 May 2015 01:00:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12734202/HIVE-10754.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12734202/HIVE-10754.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 8967 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3968/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3968/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3968/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3968/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3968/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3968/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12734202 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14554533" author="sushanth" created="Thu, 21 May 2015 15:38:23 +0000"  >&lt;p&gt;+cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; for his attention.&lt;/p&gt;</comment>
                            <comment id="14573060" author="aihuaxu" created="Thu, 4 Jun 2015 16:09:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; Can you help review the change? Thanks.&lt;/p&gt;</comment>
                            <comment id="14573232" author="mithun" created="Thu, 4 Jun 2015 17:46:13 +0000"  >&lt;p&gt;Hello, Aihua. I&apos;m all for switching from the deprecated &lt;tt&gt;Job&lt;/tt&gt; constructor to using &lt;tt&gt;Job.getInstance()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;But I am unable to understand how this changes/fixes anything. Both &lt;tt&gt;new Job(Configuration)&lt;/tt&gt; and &lt;tt&gt;Job.getInstance(Configuration)&lt;/tt&gt; seem to eventually use the package-private &lt;tt&gt;Job(JobConf)&lt;/tt&gt; constructor. No latter references to &lt;tt&gt;clone&lt;/tt&gt; or &lt;tt&gt;job&lt;/tt&gt; have been modified in &lt;tt&gt;HCatLoader.setLocation()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Could you please explain your intention?&lt;/p&gt;</comment>
                            <comment id="14573399" author="aihuaxu" created="Thu, 4 Jun 2015 19:02:19 +0000"  >&lt;p&gt;Originally I thought JobConf was not cloned. But seems they two are doing almost the same thing. Let me check what side effect the switch brings which gives the correct result. Thanks, Mithun. &lt;/p&gt;</comment>
                            <comment id="14573438" author="aihuaxu" created="Thu, 4 Jun 2015 19:32:24 +0000"  >&lt;p&gt;OK. I find out why. These two are different (JobConf is not cloned when we call new Job(conf)). When we call Job.getInstance(configuration) , that configuration is cloned as well as the properties inside. &lt;tt&gt;HCatInputFormat.setInput(job, dbName, tableName, getPartitionFilterString());&lt;/tt&gt; sets the value of &lt;tt&gt;HCatConstants.HCAT_KEY_JOB_INFO&lt;/tt&gt;. Currently since the &lt;tt&gt;clone&lt;/tt&gt; is the same as &lt;tt&gt;job&lt;/tt&gt;, later when we try to pull the difference into &lt;tt&gt;udfProps&lt;/tt&gt;, that value is not captured.&lt;/p&gt;

&lt;p&gt;So the clone is not a really clone with old interface.&lt;/p&gt;</comment>
                            <comment id="14573596" author="mithun" created="Thu, 4 Jun 2015 21:15:30 +0000"  >&lt;p&gt;I see what we&apos;re trying to achieve, but I still need help understanding how this change fixes the problem. (Sorry. :/) &lt;/p&gt;

&lt;p&gt;Here&apos;s the relevant code from &lt;tt&gt;Job.java&lt;/tt&gt; from Hadoop 2.6.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;background-color: #FFFFCE;border-color: #ccc;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;border-bottom-color: #ccc;background-color: #F7D6C1;&quot;&gt;&lt;b&gt;Job.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot; style=&quot;background-color: #FFFFCE;&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  @Deprecated
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; Job(Configuration conf) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JobConf(conf));
  }

  Job(JobConf conf) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(conf, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
    &lt;span class=&quot;code-comment&quot;&gt;// propagate existing user credentials to job
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.credentials.mergeAll(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.ugi.getCredentials());
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.cluster = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
  }

 &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; Job getInstance(Configuration conf) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
    &lt;span class=&quot;code-comment&quot;&gt;// create with a &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; Cluster
&lt;/span&gt;    JobConf jobConf = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JobConf(conf);
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Job(jobConf);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;ol&gt;
	&lt;li&gt;The current implementation of &lt;tt&gt;HCatLoader.setLocation()&lt;/tt&gt; calls &lt;tt&gt;new Job( Configuration )&lt;/tt&gt;, which clones the &lt;tt&gt;JobConf&lt;/tt&gt; inline and calls the private constructor &lt;tt&gt;Job(JobConf)&lt;/tt&gt;.&lt;/li&gt;
	&lt;li&gt;Your improved implementation of &lt;tt&gt;HCatLoader.setLocation()&lt;/tt&gt; calls &lt;tt&gt;Job.getInstance()&lt;/tt&gt;. This method clones the &lt;tt&gt;JobConf&lt;/tt&gt; explicitly, and then calls the private constructor &lt;tt&gt;Job(jobConf)&lt;/tt&gt;.&lt;/li&gt;
&lt;/ol&gt;


&lt;blockquote&gt;&lt;p&gt;These two are different (JobConf is not cloned when we call new Job(conf)).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Both of these seem identical in effect to me. :/ There&apos;s no way for &lt;tt&gt;HCatLoader.setLocation()&lt;/tt&gt; to call the &lt;tt&gt;Job(JobConf)&lt;/tt&gt; constructor, because it&apos;s package-private, right?&lt;/p&gt;</comment>
                            <comment id="14574591" author="aihuaxu" created="Fri, 5 Jun 2015 14:48:00 +0000"  >&lt;p&gt;I&apos;m wondering if some older versions of Hadoop have such issues. Let me take a look. Thanks.&lt;/p&gt;</comment>
                            <comment id="14586087" author="aihuaxu" created="Mon, 15 Jun 2015 14:12:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; Sorry for the late reply. Busy with something else. Seems it&apos;s hadoop version related issue.&lt;/p&gt;

&lt;p&gt;Would it be fair to update all the calls in HCatalog to use the new getInstance() since it&apos;s deprecated anyway? If you agree, I will use this jira to do that and I will update the title to reflect it.&lt;/p&gt;</comment>
                            <comment id="14599954" author="aihuaxu" created="Wed, 24 Jun 2015 18:57:11 +0000"  >&lt;p&gt;Replace deprecated function.&lt;/p&gt;</comment>
                            <comment id="14600555" author="hiveqa" created="Thu, 25 Jun 2015 02:13:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12741677/HIVE-10754.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12741677/HIVE-10754.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 9019 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join28
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4372/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4372/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4372/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4372/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4372/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4372/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12741677 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14603366" author="aihuaxu" created="Fri, 26 Jun 2015 18:26:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;Chaoyu Tang&lt;/a&gt;, can you guys take a look? Should be straightforward. The test failed is not related.&lt;/p&gt;</comment>
                            <comment id="14604994" author="ctang.ma" created="Sun, 28 Jun 2015 23:51:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;Aihua Xu&lt;/a&gt; Could you help elaborate what exactly the issue this patch is going to fix? Both Hive 2.0.0 and 1.3.0 seem use Hadoop 2.6. Thanks.&lt;/p&gt;</comment>
                            <comment id="14605750" author="aihuaxu" created="Mon, 29 Jun 2015 15:22:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ctang.ma&quot; class=&quot;user-hover&quot; rel=&quot;ctang.ma&quot;&gt;Chaoyu Tang&lt;/a&gt; I have switched the task to replace the deprecated calls with the new calls in HCatalog. It should not have any functional impact. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12741677" name="HIVE-10754.patch" size="4343" author="aihuaxu" created="Wed, 24 Jun 2015 18:48:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 May 2015 01:00:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ey1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-10755] Rework on HIVE-5193 to enhance the column oriented table access</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10755</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add the support of column pruning for column oriented table access which was done in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt; but was reverted due to the join issue in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10720&quot; title=&quot;Pig using HCatLoader to access RCFile and perform join but get incorrect result.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10720&quot;&gt;HIVE-10720&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In 1.3.0, the patch posted by Viray didn&apos;t work, probably due to some jar reference. That seems to get fixed and that patch works in 2.0.0 now.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12831125">HIVE-10755</key>
            <summary>Rework on HIVE-5193 to enhance the column oriented table access</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12830188">HIVE-10720</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aihuaxu">Aihua Xu</assignee>
                                    <reporter username="aihuaxu">Aihua Xu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 18:32:32 +0000</created>
                <updated>Sat, 28 Jan 2017 18:28:54 +0000</updated>
                            <resolved>Wed, 14 Oct 2015 20:50:52 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14616724" author="aihuaxu" created="Tue, 7 Jul 2015 13:49:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viraj&quot; class=&quot;user-hover&quot; rel=&quot;viraj&quot;&gt;Viraj Bhat&lt;/a&gt; and  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; I spent time trying to work on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt;, but later found out your patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10720&quot; title=&quot;Pig using HCatLoader to access RCFile and perform join but get incorrect result.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10720&quot;&gt;HIVE-10720&lt;/a&gt; does fix the issue in 2.0.0 now. I&apos;m wondering if we had some older versions of the jars which causes the incorrect test result at that time. &lt;/p&gt;

&lt;p&gt;But now with the test against hadoop2.6.0, the join works with correct result. Sorry that I didn&apos;t have enough time to investigate further at that time and had to revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viraj&quot; class=&quot;user-hover&quot; rel=&quot;viraj&quot;&gt;Viraj Bhat&lt;/a&gt; Please assign this to you since basically it&apos;s your patch. &lt;/p&gt;

</comment>
                            <comment id="14617185" author="viraj" created="Tue, 7 Jul 2015 18:55:12 +0000"  >&lt;p&gt;Thanks for letting me know about the current status. Really appreciate. Mithun is currently on vacation, when he is back I will work with him to get the fix to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10720&quot; title=&quot;Pig using HCatLoader to access RCFile and perform join but get incorrect result.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10720&quot;&gt;HIVE-10720&lt;/a&gt; and also &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt;. &lt;br/&gt;
We at Yahoo! did not find the incorrect results when we internally patched it with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10720&quot; title=&quot;Pig using HCatLoader to access RCFile and perform join but get incorrect result.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10720&quot;&gt;HIVE-10720&lt;/a&gt;.&lt;br/&gt;
Viraj&lt;/p&gt;</comment>
                            <comment id="14650060" author="aihuaxu" created="Sat, 1 Aug 2015 00:21:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=viraj&quot; class=&quot;user-hover&quot; rel=&quot;viraj&quot;&gt;Viraj Bhat&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; How is everything? The attached patch should fix both &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5193&quot; title=&quot;Columnar Pushdown for RC/ORC File not happening in HCatLoader &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5193&quot;&gt;&lt;del&gt;HIVE-5193&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10720&quot; title=&quot;Pig using HCatLoader to access RCFile and perform join but get incorrect result.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10720&quot;&gt;HIVE-10720&lt;/a&gt;. Can we get it submitted?&lt;/p&gt;</comment>
                            <comment id="14940647" author="daijy" created="Fri, 2 Oct 2015 00:38:23 +0000"  >&lt;p&gt;The approach should be fine. We also need to avoid appending ids multiple times to conf to avoid unnecessary warning from ColumnProjectionUtils.getReadColumnIDs. We shall also add a test case which cause &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10752&quot; title=&quot;Revert HIVE-5193&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10752&quot;&gt;&lt;del&gt;HIVE-10752&lt;/del&gt;&lt;/a&gt;. A simple join + foreach should reproduce &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10752&quot; title=&quot;Revert HIVE-5193&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10752&quot;&gt;&lt;del&gt;HIVE-10752&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;A = load &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-quote&quot;&gt;&quot; + COMPLEX_TABLE + &quot;&lt;/span&gt;&apos;&lt;/span&gt; using org.apache.hive.hcatalog.pig.HCatLoader();
B = load &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-quote&quot;&gt;&quot; + COMPLEX_TABLE + &quot;&lt;/span&gt;&apos;&lt;/span&gt; using org.apache.hive.hcatalog.pig.HCatLoader();
C = join A by name, B by name;
D = foreach C generate B::studentid;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14941620" author="aihuaxu" created="Fri, 2 Oct 2015 19:34:07 +0000"  >&lt;p&gt;Thanks for reviewing Daniel. I will take a look and try to add the test case. &lt;/p&gt;</comment>
                            <comment id="14942264" author="hiveqa" created="Sat, 3 Oct 2015 12:28:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12743955/HIVE-10755.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12743955/HIVE-10755.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 9649 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5510/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5510/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5510/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5510/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5510/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5510/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12743955 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14944083" author="aihuaxu" created="Mon, 5 Oct 2015 21:26:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;Daniel Dai&lt;/a&gt; I&apos;m working on adding the unit tests you mentioned to TestHCatLoader.java. Actually I have problem to load complex_table with the following code.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   PigServer server = new PigServer(ExecType.LOCAL);
    server.registerQuery(&quot;A = load &apos;&quot; + COMPLEX_TABLE + &quot;&apos; using org.apache.hive.hcatalog.pig.HCatLoader();&quot;);
    server.registerQuery(&quot;B = load &apos;&quot; + COMPLEX_TABLE + &quot;&apos; using org.apache.hive.hcatalog.pig.HCatLoader();&quot;);
    server.registerQuery(&quot;C = join A by name, B by name;&quot;);
    server.registerQuery(&quot;D = foreach C generate B::studentid;&quot;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;tt&gt;Iterator&amp;lt;Tuple&amp;gt; iter = server.openIterator(&quot;A&quot;);&lt;/tt&gt; won&apos;t be able to access the data, while if I replace with basic_table it&apos;s fine.&lt;/p&gt;

&lt;p&gt;Don&apos;t know too much pig/hcatalog. I&apos;m wondering if I did anything wrong?&lt;/p&gt;
</comment>
                            <comment id="14945247" author="aihuaxu" created="Tue, 6 Oct 2015 15:59:22 +0000"  >&lt;p&gt;Attached the new patch to address comments.&lt;/p&gt;</comment>
                            <comment id="14945301" author="hiveqa" created="Tue, 6 Oct 2015 16:24:41 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12765191/HIVE-10755.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12765191/HIVE-10755.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5547/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5547/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5547/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5547/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5547/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5547/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[WARNING] /data/hive-ptest/working/apache-github-source-source/hcatalog/core/src/test/java/org/apache/hive/hcatalog/mapreduce/TestHCatPartitioned.java: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-hcatalog-core ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-hcatalog-core ---
[INFO] Building jar: /data/hive-ptest/working/apache-github-source-source/hcatalog/core/target/hive-hcatalog-core-2.0.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-site-plugin:3.3:attach-descriptor (attach-descriptor) @ hive-hcatalog-core ---
[INFO] 
[INFO] --- maven-jar-plugin:2.2:test-jar (default) @ hive-hcatalog-core ---
[INFO] Building jar: /data/hive-ptest/working/apache-github-source-source/hcatalog/core/target/hive-hcatalog-core-2.0.0-SNAPSHOT-tests.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-hcatalog-core ---
[INFO] Installing /data/hive-ptest/working/apache-github-source-source/hcatalog/core/target/hive-hcatalog-core-2.0.0-SNAPSHOT.jar to /home/hiveptest/.m2/repository/org/apache/hive/hcatalog/hive-hcatalog-core/2.0.0-SNAPSHOT/hive-hcatalog-core-2.0.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-github-source-source/hcatalog/core/pom.xml to /home/hiveptest/.m2/repository/org/apache/hive/hcatalog/hive-hcatalog-core/2.0.0-SNAPSHOT/hive-hcatalog-core-2.0.0-SNAPSHOT.pom
[INFO] Installing /data/hive-ptest/working/apache-github-source-source/hcatalog/core/target/hive-hcatalog-core-2.0.0-SNAPSHOT-tests.jar to /home/hiveptest/.m2/repository/org/apache/hive/hcatalog/hive-hcatalog-core/2.0.0-SNAPSHOT/hive-hcatalog-core-2.0.0-SNAPSHOT-tests.jar
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive HCatalog Pig Adapter 2.0.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-hcatalog-pig-adapter ---
[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/target
[INFO] Deleting /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-enforcer-plugin:1.3.1:enforce (enforce-no-snapshots) @ hive-hcatalog-pig-adapter ---
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-hcatalog-pig-adapter ---
[WARNING] Invalid project model for artifact [pentaho-aggdesigner-algorithm:org.pentaho:5.1.5-jhyde]. It will be ignored by the remote resources Mojo.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-hcatalog-pig-adapter ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/main/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-hcatalog-pig-adapter ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-hcatalog-pig-adapter ---
[INFO] Compiling 5 source files to /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/target/classes
[WARNING] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/main/java/org/apache/hive/hcatalog/pig/HCatLoader.java: Some input files use or override a deprecated API.
[WARNING] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/main/java/org/apache/hive/hcatalog/pig/HCatLoader.java: Recompile with -Xlint:deprecation for details.
[WARNING] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/main/java/org/apache/hive/hcatalog/pig/HCatBaseStorer.java: /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/main/java/org/apache/hive/hcatalog/pig/HCatBaseStorer.java uses unchecked or unsafe operations.
[WARNING] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/main/java/org/apache/hive/hcatalog/pig/HCatBaseStorer.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ hive-hcatalog-pig-adapter ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-hcatalog-pig-adapter ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/target/tmp/conf
     [copy] Copying 10 files to /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-hcatalog-pig-adapter ---
[INFO] Compiling 13 source files to /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/target/test-classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestPigHCatUtil.java: /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestPigHCatUtil.java uses or overrides a deprecated API.
[WARNING] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestPigHCatUtil.java: Recompile with -Xlint:deprecation for details.
[INFO] 2 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[489,5] cannot find symbol
  symbol:   class PrintWriter
  location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[489,25] cannot find symbol
  symbol:   class PrintWriter
  location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[489,41] cannot find symbol
  symbol:   class FileWriter
  location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[498,7] cannot find symbol
  symbol:   class PigStats
  location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[498,24] cannot find symbol
  symbol:   variable PigRunner
  location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[502,7] cannot find symbol
  symbol:   class OutputStats
  location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[505,14] cannot find symbol
  symbol:   variable ColumnProjectionUtils
  location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[507,7] cannot find symbol
  symbol:   class FileSystem
  location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[507,23] cannot find symbol
  symbol:   variable FileSystem
  location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[508,25] cannot find symbol
  symbol:   class Path
  location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[509,23] cannot find symbol
  symbol:   class Path
  location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[INFO] 11 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [13.583s]
[INFO] Hive Shims Common ................................. SUCCESS [14.787s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [4.514s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [11.506s]
[INFO] Hive Shims Scheduler .............................. SUCCESS [2.502s]
[INFO] Hive Shims ........................................ SUCCESS [3.124s]
[INFO] Hive Storage API .................................. SUCCESS [2.552s]
[INFO] Hive Common ....................................... SUCCESS [21.055s]
[INFO] Hive Serde ........................................ SUCCESS [19.153s]
[INFO] Hive Metastore .................................... SUCCESS [1:22.904s]
[INFO] Hive Ant Utilities ................................ SUCCESS [1.943s]
[INFO] Spark Remote Client ............................... SUCCESS [25.147s]
[INFO] Hive Query Language ............................... SUCCESS [3:25.973s]
[INFO] Hive Service ...................................... SUCCESS [13.206s]
[INFO] Hive Accumulo Handler ............................. SUCCESS [6.545s]
[INFO] Hive JDBC ......................................... SUCCESS [22.564s]
[INFO] Hive Beeline ...................................... SUCCESS [3.851s]
[INFO] Hive CLI .......................................... SUCCESS [4.321s]
[INFO] Hive Contrib ...................................... SUCCESS [4.889s]
[INFO] Hive HBase Handler ................................ SUCCESS [10.610s]
[INFO] Hive HCatalog ..................................... SUCCESS [0.682s]
[INFO] Hive HCatalog Core ................................ SUCCESS [7.014s]
[INFO] Hive HCatalog Pig Adapter ......................... FAILURE [3.333s]
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog Streaming ........................... SKIPPED
[INFO] Hive HPL/SQL ...................................... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 8:09.290s
[INFO] Finished at: Tue Oct 06 12:24:39 EDT 2015
[INFO] Final Memory: 258M/964M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile (default-testCompile) on project hive-hcatalog-pig-adapter: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[489,5] cannot find symbol
[ERROR] symbol:   class PrintWriter
[ERROR] location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[489,25] cannot find symbol
[ERROR] symbol:   class PrintWriter
[ERROR] location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[489,41] cannot find symbol
[ERROR] symbol:   class FileWriter
[ERROR] location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[498,7] cannot find symbol
[ERROR] symbol:   class PigStats
[ERROR] location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[498,24] cannot find symbol
[ERROR] symbol:   variable PigRunner
[ERROR] location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[502,7] cannot find symbol
[ERROR] symbol:   class OutputStats
[ERROR] location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[505,14] cannot find symbol
[ERROR] symbol:   variable ColumnProjectionUtils
[ERROR] location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[507,7] cannot find symbol
[ERROR] symbol:   class FileSystem
[ERROR] location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[507,23] cannot find symbol
[ERROR] symbol:   variable FileSystem
[ERROR] location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[508,25] cannot find symbol
[ERROR] symbol:   class Path
[ERROR] location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] /data/hive-ptest/working/apache-github-source-source/hcatalog/hcatalog-pig-adapter/src/test/java/org/apache/hive/hcatalog/pig/TestHCatLoader.java:[509,23] cannot find symbol
[ERROR] symbol:   class Path
[ERROR] location: class org.apache.hive.hcatalog.pig.TestHCatLoader
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-hcatalog-pig-adapter
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12765191 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14945484" author="daijy" created="Tue, 6 Oct 2015 18:06:30 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14946634" author="hiveqa" created="Wed, 7 Oct 2015 10:21:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12765228/HIVE-10755.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12765228/HIVE-10755.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 9649 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMiniTezCliDriver-vector_decimal_10_0.q-vector_acid3.q-vector_decimal_trailing.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown2[4]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[0]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[1]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[2]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[3]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[4]
org.apache.hive.hcatalog.pig.TestHCatLoader.testColumnarStorePushdown[5]
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5555/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5555/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5555/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5555/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5555/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5555/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12765228 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14947031" author="aihuaxu" created="Wed, 7 Oct 2015 15:28:44 +0000"  >&lt;p&gt;I&apos;m fixing the unit tests. Seems we have issue with parquet format which can&apos;t store the data to parquet properly.&lt;/p&gt;</comment>
                            <comment id="14947043" author="aihuaxu" created="Wed, 7 Oct 2015 15:37:05 +0000"  >&lt;p&gt;OK. It&apos;s caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7502&quot; title=&quot;Writes to parquet tables via HCatalog fail with &amp;quot;java.lang.RuntimeException: Should never be used&amp;quot;.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7502&quot;&gt;HIVE-7502&lt;/a&gt; which hasn&apos;t been resolved. For current jira, I will try to disable parquet test.&lt;/p&gt;</comment>
                            <comment id="14947082" author="aihuaxu" created="Wed, 7 Oct 2015 15:59:40 +0000"  >&lt;p&gt;Update the unit tests to skip parquet test due to an known issue.&lt;/p&gt;</comment>
                            <comment id="14948519" author="hiveqa" created="Thu, 8 Oct 2015 11:47:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12765408/HIVE-10755.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12765408/HIVE-10755.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 9665 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5568/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5568/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5568/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5568/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5568/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5568/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12765408 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14948769" author="aihuaxu" created="Thu, 8 Oct 2015 14:43:25 +0000"  >&lt;p&gt;These two are not related. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;Daniel Dai&lt;/a&gt; can you help submit the patch? &lt;/p&gt;</comment>
                            <comment id="14957717" author="aihuaxu" created="Wed, 14 Oct 2015 20:44:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; Can you help submit the patch? This has been review by Daniel. Thanks. &lt;/p&gt;</comment>
                            <comment id="14957729" author="szehon" created="Wed, 14 Oct 2015 20:50:52 +0000"  >&lt;p&gt;Committed to master, thanks Aihua for patch and Daniel for review.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12901950">HIVE-12006</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12830188">HIVE-10720</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12666429">HIVE-5193</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12765228" name="HIVE-10755.2.patch" size="9295" author="aihuaxu" created="Tue, 6 Oct 2015 19:03:17 +0000"/>
                            <attachment id="12765408" name="HIVE-10755.3.patch" size="9999" author="aihuaxu" created="Wed, 7 Oct 2015 15:59:40 +0000"/>
                            <attachment id="12743955" name="HIVE-10755.patch" size="5655" author="aihuaxu" created="Tue, 7 Jul 2015 13:19:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 7 Jul 2015 18:55:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ey2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10756] LLAP: Misc changes to daemon scheduling</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10756</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Running the completion callback in a separate thread to avoid potentially unnecessary preemptions.&lt;br/&gt;
Sending out a kill to the AM only if the task was actually killed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12831167">HIVE-10756</key>
            <summary>LLAP: Misc changes to daemon scheduling</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12738189">HIVE-7926</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseth">Siddharth Seth</assignee>
                                    <reporter username="sseth">Siddharth Seth</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 21:00:08 +0000</created>
                <updated>Wed, 17 Feb 2016 01:32:56 +0000</updated>
                            <resolved>Tue, 19 May 2015 21:09:34 +0000</resolved>
                                                    <fixVersion>llap</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14551218" author="sseth" created="Tue, 19 May 2015 21:00:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt; - could you take a quick look please.&lt;/p&gt;</comment>
                            <comment id="14551224" author="prasanth_j" created="Tue, 19 May 2015 21:06:53 +0000"  >&lt;p&gt;LGTM, +1&lt;/p&gt;</comment>
                            <comment id="14551232" author="sseth" created="Tue, 19 May 2015 21:09:34 +0000"  >&lt;p&gt;Thanks. Committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733955" name="HIVE-10756.1.txt" size="13383" author="sseth" created="Tue, 19 May 2015 21:00:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 May 2015 21:06:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eybj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10757] Explain query plan should have operation name EXPLAIN</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10757</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In the plan of an Explain query, the operation name is not set to EXPLAIN. Instead, it is set to the operation name of the query itself.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12831168">HIVE-10757</key>
            <summary>Explain query plan should have operation name EXPLAIN</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jxiang">Jimmy Xiang</assignee>
                                    <reporter username="jxiang">Jimmy Xiang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 21:00:25 +0000</created>
                <updated>Tue, 16 Feb 2016 23:51:51 +0000</updated>
                            <resolved>Thu, 21 May 2015 16:04:16 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14551779" author="hiveqa" created="Wed, 20 May 2015 04:18:52 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733957/HIVE-10757.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733957/HIVE-10757.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8952 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3951/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3951/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3951/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3951/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3951/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3951/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733957 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14553013" author="csun" created="Wed, 20 May 2015 20:03:56 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14554577" author="jxiang" created="Thu, 21 May 2015 16:04:16 +0000"  >&lt;p&gt;Integrated into trunk. Thanks Chao for the review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12733957" name="HIVE-10757.patch" size="831" author="jxiang" created="Tue, 19 May 2015 21:07:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 May 2015 04:18:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eybr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10758] LLAP: Modify running / wait queues on on fragment finishable state changes </title>
                <link>https://issues.apache.org/jira/browse/HIVE-10758</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12831169">HIVE-10758</key>
            <summary>LLAP: Modify running / wait queues on on fragment finishable state changes </summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12738189">HIVE-7926</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sseth">Siddharth Seth</assignee>
                                    <reporter username="sseth">Siddharth Seth</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 21:03:03 +0000</created>
                <updated>Wed, 17 Feb 2016 01:33:18 +0000</updated>
                            <resolved>Fri, 22 May 2015 17:59:43 +0000</resolved>
                                                    <fixVersion>llap</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="14553495" author="sseth" created="Thu, 21 May 2015 01:42:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt; - could you please take a quick look ?&lt;/p&gt;

&lt;p&gt;There&apos;s some cleanup to be done in terms of changing the queue to work on TaskWrappers, removing logging. Otherwise this should be good to go.&lt;/p&gt;</comment>
                            <comment id="14554809" author="sseth" created="Thu, 21 May 2015 18:26:50 +0000"  >&lt;p&gt;Updated patch. Fixes a potential deadlock in the previous one, and another condition where queued tasks may be put into the preemption queue.&lt;br/&gt;
Locking could potentially be reduced - but I&apos;m going to create a separate jira for that.&lt;/p&gt;</comment>
                            <comment id="14556517" author="sseth" created="Fri, 22 May 2015 17:58:39 +0000"  >&lt;p&gt;Cleaned up to remove some TODOs / logging.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12734294" name="HIVE-10758.1.wip.txt" size="27340" author="sseth" created="Thu, 21 May 2015 01:42:17 +0000"/>
                            <attachment id="12734610" name="HIVE-10758.2.txt" size="31789" author="sseth" created="Thu, 21 May 2015 18:26:50 +0000"/>
                            <attachment id="12734882" name="HIVE-10758.3.txt" size="31774" author="sseth" created="Fri, 22 May 2015 17:58:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eybz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10759] LLAP: Add aging to wait queue tasks</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10759</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Wait queue priority does not increase the priority (aging) of pre-empted tasks making them starve in concurrent tests.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12831180">HIVE-10759</key>
            <summary>LLAP: Add aging to wait queue tasks</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12738189">HIVE-7926</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 21:23:55 +0000</created>
                <updated>Wed, 17 Feb 2016 01:33:24 +0000</updated>
                            <resolved>Wed, 20 May 2015 01:04:32 +0000</resolved>
                                    <version>llap</version>
                                    <fixVersion>llap</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                            <attachment id="12734015" name="HIVE-10759.patch" size="14315" author="prasanth_j" created="Wed, 20 May 2015 01:03:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 35 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eyef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10760] Templeton: HCatalog Get Column for Non-existent column returns Server Error (500) rather than Not Found(404)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10760</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Changes error thrown on HCatalog Get Column for Non-existent columns from &apos;Server Error(500)&apos; to &apos;Not Found error(404)&apos;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12831199">HIVE-10760</key>
            <summary>Templeton: HCatalog Get Column for Non-existent column returns Server Error (500) rather than Not Found(404)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srthota@microsoft.com">Lekha Thota</assignee>
                                    <reporter username="srthota@microsoft.com">Lekha Thota</reporter>
                        <labels>
                            <label>templeton</label>
                    </labels>
                <created>Tue, 19 May 2015 22:42:14 +0000</created>
                <updated>Wed, 27 May 2015 22:26:16 +0000</updated>
                            <resolved>Wed, 27 May 2015 22:25:35 +0000</resolved>
                                                    <fixVersion>1.2.1</fixVersion>
                                    <component>HCatalog</component>
                    <component>Hive</component>
                    <component>WebHCat</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14553062" author="sushanth" created="Wed, 20 May 2015 20:36:59 +0000"  >&lt;p&gt;Looks reasonable, Lekha. +1.&lt;/p&gt;

&lt;p&gt;Setting as patch-available to have precommit tests run on it.&lt;/p&gt;</comment>
                            <comment id="14553064" author="sushanth" created="Wed, 20 May 2015 20:38:26 +0000"  >&lt;p&gt;Err.. actually, looks like I don&apos;t have privileges to set it to patch-available from in-progress. Could you please hit the &quot;submit patch&quot; button here to allow the precommit tests to pick up this patch?&lt;/p&gt;</comment>
                            <comment id="14553130" author="srthota@microsoft.com" created="Wed, 20 May 2015 21:12:16 +0000"  >&lt;p&gt;Changes error thrown on HCatalog Get Column for Non-existent columns from &apos;Server Error(500)&apos; to &apos;Not Found error(404)&apos;&lt;/p&gt;</comment>
                            <comment id="14553136" author="srthota@microsoft.com" created="Wed, 20 May 2015 21:13:15 +0000"  >&lt;p&gt;Done. Can you please let me know if I need to do anything else here. Thanks!&lt;/p&gt;</comment>
                            <comment id="14553153" author="sushanth" created="Wed, 20 May 2015 21:25:28 +0000"  >&lt;p&gt;Sorry, it still seems to be marked as in-progress. From the mail notification I got, looks like it transitioned from in-progress to patch-available, and then transitioned back to in-progress. I&apos;m going to try assigning it to me, marking it as available, and then assigning it back to you.&lt;/p&gt;</comment>
                            <comment id="14553157" author="sushanth" created="Wed, 20 May 2015 21:27:01 +0000"  >&lt;p&gt;Okay, that worked - the precommit tests should pick it up now.&lt;/p&gt;</comment>
                            <comment id="14555447" author="hiveqa" created="Fri, 22 May 2015 01:59:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12734224/HIVE-10760.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12734224/HIVE-10760.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 8966 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCustomAuthentication - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_auto_partitioned
org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Json
org.apache.hive.jdbc.TestSSL.testSSLFetchHttp
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3993/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3993/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3993/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3993/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3993/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3993/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12734224 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14561301" author="srthota@microsoft.com" created="Wed, 27 May 2015 17:14:09 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt;, I dont think my change should&apos;ve caused the test to fail as its just a string modification. Can you let me know what I need to do here. Thanks!&lt;/p&gt;</comment>
                            <comment id="14561849" author="sushanth" created="Wed, 27 May 2015 22:21:06 +0000"  >&lt;p&gt;Hi, the failed test is definitely unrelated.&lt;/p&gt;

&lt;p&gt;I will go ahead and commit this.&lt;/p&gt;</comment>
                            <comment id="14561858" author="sushanth" created="Wed, 27 May 2015 22:25:18 +0000"  >&lt;p&gt;Committed to master and branch-1.2. Thanks, Lekha!&lt;/p&gt;</comment>
                            <comment id="14561859" author="srthota@microsoft.com" created="Wed, 27 May 2015 22:26:16 +0000"  >&lt;p&gt;Great, thank you!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12734224" name="HIVE-10760.patch" size="1739" author="srthota@microsoft.com" created="Wed, 20 May 2015 20:13:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 May 2015 20:36:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eyi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-10761] Create codahale-based metrics system for Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10761</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There is a current Hive metrics system that hooks up to a JMX reporting, but all its measurements, models are custom.&lt;/p&gt;

&lt;p&gt;This is to make another metrics system that will be based on Codahale (ie yammer, dropwizard), which has the following advantage:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Well-defined metric model for frequently-needed metrics (ie JVM metrics)&lt;/li&gt;
	&lt;li&gt;Well-defined measurements for all metrics (ie max, mean, stddev, mean_rate, etc),&lt;/li&gt;
	&lt;li&gt;Built-in reporting frameworks like JMX, Console, Log, JSON webserver&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It is used for many projects, including several Apache projects like Oozie.  Overall, monitoring tools should find it easier to understand these common metric, measurement, reporting models.&lt;/p&gt;

&lt;p&gt;The existing metric subsystem will be kept and can be enabled if backward compatibility is desired.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12831212">HIVE-10761</key>
            <summary>Create codahale-based metrics system for Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="szehon">Szehon Ho</assignee>
                                    <reporter username="szehon">Szehon Ho</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 May 2015 23:15:36 +0000</created>
                <updated>Tue, 16 Feb 2016 23:50:58 +0000</updated>
                            <resolved>Thu, 4 Jun 2015 06:52:24 +0000</resolved>
                                                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Diagnosability</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>15</watches>
                                                                                                            <comments>
                            <comment id="14551511" author="szehon" created="Wed, 20 May 2015 00:01:14 +0000"  >&lt;p&gt;Attaching sample metrics (in JSON file form) generated by new codahale-based metrics system.&lt;/p&gt;</comment>
                            <comment id="14551512" author="szehon" created="Wed, 20 May 2015 00:02:17 +0000"  >&lt;p&gt;Review board: &lt;a href=&quot;https://reviews.apache.org/r/34447/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/34447/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This adds a codahale-based metrics system to HiveServer2 and HiveMetastore.  Metrics implementation is now internally pluggable, and the existing Metrics system can be re-enabled by configuration if desired for backward-compatibility.&lt;/p&gt;

&lt;p&gt;Following metrics are supported by Metrics system:&lt;br/&gt;
1.  JVMPauseMonitor (used to call Hadoop&apos;s internal implementation, now forked off to integrate with Metrics system)&lt;br/&gt;
2.  HMS API calls&lt;br/&gt;
3.  Standard JVM metrics (only for new implementation, as its free with codahale).&lt;/p&gt;

&lt;p&gt;The following metrics reporting are supported by new system (configuration exposed)&lt;br/&gt;
1.  JMX&lt;br/&gt;
2.  CONSOLE&lt;br/&gt;
3.  JSON_FILE (periodic file of metrics that gets overwritten).&lt;/p&gt;

&lt;p&gt;An eventual goal is to add a web-server that exposes the JSON metrics, but this will defer to a later JIRA.&lt;/p&gt;</comment>
                            <comment id="14551541" author="thejas" created="Wed, 20 May 2015 00:25:06 +0000"  >&lt;p&gt;This looks very useful! Thanks for working on it. Better monitoring capabilities will really help to improve the server uptimes!&lt;/p&gt;</comment>
                            <comment id="14551585" author="szehon" created="Wed, 20 May 2015 00:57:53 +0000"  >&lt;p&gt;I hope so, thanks!&lt;/p&gt;</comment>
                            <comment id="14552410" author="hiveqa" created="Wed, 20 May 2015 14:39:41 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12733998/HIVE-10761.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12733998/HIVE-10761.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8969 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3959/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3959/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3959/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3959/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3959/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3959/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12733998 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14560292" author="szehon" created="Wed, 27 May 2015 02:05:35 +0000"  >&lt;p&gt;Some loose ends, like make it take in configured list of reporters, and add end-to-end unit test for Metastore metrics, latest patch should be ready for review.&lt;/p&gt;</comment>
                            <comment id="14560647" author="hiveqa" created="Wed, 27 May 2015 08:41:15 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12735498/HIVE-10761.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12735498/HIVE-10761.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4054/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4054/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4054/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4054/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4054/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4054/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-TRUNK-Build-4054/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
From https://github.com/apache/hive
   f4c83ae..a3d338a  branch-1.2 -&amp;gt; origin/branch-1.2
   b615de2..f078dd4  master     -&amp;gt; origin/master
+ git reset --hard HEAD
HEAD is now at b615de2 HIVE-10716 : Fold case/when udf for expression involving nulls in filter operator (Ashutosh Chauhan via Gopal V)
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
Your branch is behind &apos;origin/master&apos; by 2 commits, and can be fast-forwarded.
+ git reset --hard origin/master
HEAD is now at f078dd4 HIVE-10768 : In QTestGenTask.execute() we should not throw an exception right away if we are unable to clean any old files (Hari Subramaniyan, reviewed by Xuefu Zhang)
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12735498 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14561435" author="szehon" created="Wed, 27 May 2015 18:25:55 +0000"  >&lt;p&gt;Rebase the patch.&lt;/p&gt;</comment>
                            <comment id="14562195" author="szehon" created="Thu, 28 May 2015 02:13:55 +0000"  >&lt;p&gt;Address review comments from Xuefu&lt;/p&gt;</comment>
                            <comment id="14562225" author="hiveqa" created="Thu, 28 May 2015 03:06:25 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12735650/HIVE-10761.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12735650/HIVE-10761.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8980 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_fold_case
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4067/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4067/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4067/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4067/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4067/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4067/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12735650 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14563945" author="szehon" created="Fri, 29 May 2015 00:02:47 +0000"  >&lt;p&gt;Address more review comment, add some code to deinitialize the metrics, and make test more reliable.&lt;/p&gt;</comment>
                            <comment id="14564222" author="hiveqa" created="Fri, 29 May 2015 05:23:41 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12736002/HIVE-10761.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12736002/HIVE-10761.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 8983 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_fold_case
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4082/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4082/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4082/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4082/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4082/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4082/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12736002 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14566365" author="szehon" created="Sun, 31 May 2015 05:20:51 +0000"  >&lt;p&gt;Minor change to make file-reporter more resilient against partial-files&lt;/p&gt;</comment>
                            <comment id="14566588" author="hiveqa" created="Sun, 31 May 2015 15:24:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12736403/HIVE-10761.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12736403/HIVE-10761.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 8996 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestUtil - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_fold_case
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4118/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4118/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4118/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4118/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4118/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4118/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12736403 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14569216" author="szehon" created="Tue, 2 Jun 2015 14:58:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; can you take see if the latest patch is ok?  Thanks.&lt;/p&gt;</comment>
                            <comment id="14569341" author="xuefuz" created="Tue, 2 Jun 2015 16:05:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14569345" author="xuefuz" created="Tue, 2 Jun 2015 16:07:43 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14572276" author="szehon" created="Thu, 4 Jun 2015 06:52:24 +0000"  >&lt;p&gt;Committed to master, thanks for review.  Will create follow-up jira&apos;s for more work items (metrics, reporters, etc)&lt;/p&gt;</comment>
                            <comment id="14573309" author="sushanth" created="Thu, 4 Jun 2015 18:17:55 +0000"  >&lt;p&gt;This looks very useful, thanks!&lt;/p&gt;

&lt;p&gt;Also, I would suggest deprecating the current metrics system targeting removal in a couple of releases. I don&apos;t think it has been used much outside of Yahoo - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mithun&quot; class=&quot;user-hover&quot; rel=&quot;mithun&quot;&gt;Mithun Radhakrishnan&lt;/a&gt; can clarify if they still care about it.&lt;/p&gt;</comment>
                            <comment id="14573613" author="mithun" created="Thu, 4 Jun 2015 21:23:44 +0000"  >&lt;p&gt;Hey, Sush, Szehon. I can confirm that Yahoo cares about HS2 metrics. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/tongue.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;I&apos;m not familiar with codehale, but if it works with JMX, that&apos;s cool. Lemme do some homework. Thanks for the heads-up and the nifty addition, chaps.&lt;/p&gt;</comment>
                            <comment id="14573617" author="mithun" created="Thu, 4 Jun 2015 21:26:57 +0000"  >&lt;p&gt;Question: Are we proposing to deprecate the old metrics system on trunk? What release are we considering deprecation and removal?&lt;/p&gt;</comment>
                            <comment id="14573620" author="thejas" created="Thu, 4 Jun 2015 21:30:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; If it is committed to only master then the fix version should be 2.0.0, if its committed to branch-1 as well, the fix version should be 1.3.0 as well.&lt;/p&gt;
</comment>
                            <comment id="14573621" author="thejas" created="Thu, 4 Jun 2015 21:30:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; If it is committed to only master then the fix version should be 2.0.0, if its committed to branch-1 as well, the fix version should be 1.3.0 as well.&lt;/p&gt;
</comment>
                            <comment id="14573687" author="sershe" created="Thu, 4 Jun 2015 22:18:35 +0000"  >&lt;p&gt;Hello. Immediately after integrating this, I am getting a non-stop stream of NPEs (several a second) in the log when running HS2:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2015-06-04 15:17:13,648 WARN  [org.apache.hadoop.hive.common.JvmPauseMonitor$Monitor@6fca5907()]: common.JvmPauseMonitor (JvmPauseMonitor.java:incrementMetricsCounter(205)) - Error Reporting JvmPauseMonitor to Metrics system
java.lang.NullPointerException
	at org.apache.hadoop.hive.common.JvmPauseMonitor$Monitor.incrementMetricsCounter(JvmPauseMonitor.java:203)
	at org.apache.hadoop.hive.common.JvmPauseMonitor$Monitor.run(JvmPauseMonitor.java:195)
	at java.lang.Thread.run(Thread.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14574122" author="szehon" created="Fri, 5 Jun 2015 08:28:44 +0000"  >&lt;p&gt;Sorry I forgot to add a check to prevent JVMPauseMonitor from logging metrics if overall metrics is not enabled.&lt;/p&gt;

&lt;p&gt;Will file a JIRA for this.  In the meantime, the workaround would be to set hive.server2.metrics.enabled=true on HS2, or filter these logs in log4j..&lt;/p&gt;</comment>
                            <comment id="14574181" author="gopalv" created="Fri, 5 Jun 2015 09:19:20 +0000"  >&lt;p&gt;Setting &lt;tt&gt;hive.server2.metrics.enabled=true&lt;/tt&gt; seems to trigger another error&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2015-06-05 02:18:28,818 ERROR [main()]: server.HiveServer2 (HiveServer2.java:stop(314)) - error in Metrics deinit: java.lang.NullPointerException &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
java.lang.NullPointerException
        at org.apache.hive.service.server.HiveServer2.stop(HiveServer2.java:312)
        at org.apache.hive.service.server.HiveServer2.startHiveServer2(HiveServer2.java:387)
        at org.apache.hive.service.server.HiveServer2.access$700(HiveServer2.java:75)
        at org.apache.hive.service.server.HiveServer2$StartOptionExecutor.execute(HiveServer2.java:609)
        at org.apache.hive.service.server.HiveServer2.main(HiveServer2.java:482)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:483)
        at org.apache.hadoop.util.RunJar.run(RunJar.java:221)
        at org.apache.hadoop.util.RunJar.main(RunJar.java:136)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14574201" author="szehon" created="Fri, 5 Jun 2015 09:32:33 +0000"  >&lt;p&gt;Yea I&apos;m working on a patch right now.&lt;/p&gt;</comment>
                            <comment id="14574246" author="szehon" created="Fri, 5 Jun 2015 10:04:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10944&quot; title=&quot;Fix HS2 for Metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10944&quot;&gt;&lt;del&gt;HIVE-10944&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14574247" author="szehon" created="Fri, 5 Jun 2015 10:04:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10944&quot; title=&quot;Fix HS2 for Metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10944&quot;&gt;&lt;del&gt;HIVE-10944&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14575529" author="lefty@hortonworks.com" created="Sat, 6 Jun 2015 02:31:33 +0000"  >&lt;p&gt;Doc note:  This adds several configuration parameters, and usage information should also be documented.&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;hive.metastore.metrics.enabled&lt;/li&gt;
	&lt;li&gt;hive.server2.metrics.enabled&lt;/li&gt;
	&lt;li&gt;hive.service.metrics.class&lt;/li&gt;
	&lt;li&gt;hive.service.metrics.reporter&lt;/li&gt;
	&lt;li&gt;hive.service.metrics.file.location&lt;/li&gt;
	&lt;li&gt;hive.service.metrics.file.frequency&lt;/li&gt;
&lt;/ol&gt;


</comment>
                            <comment id="14620095" author="lefty@hortonworks.com" created="Thu, 9 Jul 2015 08:13:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10927&quot; title=&quot;Add number of HMS/HS2 connection metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10927&quot;&gt;&lt;del&gt;HIVE-10927&lt;/del&gt;&lt;/a&gt; changes the default and description for &lt;b&gt;hive.service.metrics.file.location&lt;/b&gt;.&lt;/p&gt;</comment>
                            <comment id="14623006" author="szehon" created="Fri, 10 Jul 2015 22:36:36 +0000"  >&lt;p&gt;Cherry-picked to branch-1&lt;/p&gt;</comment>
                            <comment id="14623209" author="lefty@hortonworks.com" created="Sat, 11 Jul 2015 03:43:52 +0000"  >&lt;p&gt;FYI, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10944&quot; title=&quot;Fix HS2 for Metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10944&quot;&gt;&lt;del&gt;HIVE-10944&lt;/del&gt;&lt;/a&gt; also changed the default of &lt;b&gt;hive.service.metrics.file.location&lt;/b&gt; in both 2.0.0 and 1.3.0, but then &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10927&quot; title=&quot;Add number of HMS/HS2 connection metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10927&quot;&gt;&lt;del&gt;HIVE-10927&lt;/del&gt;&lt;/a&gt; changed it again.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10761&quot; title=&quot;Create codahale-based metrics system for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10761&quot;&gt;&lt;del&gt;HIVE-10761&lt;/del&gt;&lt;/a&gt; (this issue):  original default = &lt;a href=&quot;file:///tmp/my-logging.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///tmp/my-logging.properties&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10944&quot; title=&quot;Fix HS2 for Metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10944&quot;&gt;&lt;del&gt;HIVE-10944&lt;/del&gt;&lt;/a&gt; (first change):  &lt;a href=&quot;file:///tmp/report.json&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///tmp/report.json&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10927&quot; title=&quot;Add number of HMS/HS2 connection metrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10927&quot;&gt;&lt;del&gt;HIVE-10927&lt;/del&gt;&lt;/a&gt; (next change):  /tmp/report.json&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14804308" author="szehon" created="Thu, 17 Sep 2015 19:12:37 +0000"  >&lt;p&gt;Added a more detailed description in the section, including how to revert to old metrics behavior : &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-Metrics&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-Metrics&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14804907" author="lefty@hortonworks.com" created="Fri, 18 Sep 2015 03:19:30 +0000"  >&lt;p&gt;Thanks for the docs, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt;.  A couple of minor questions:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;For hive.service.metrics.file.location, why is the default in patch 6 different from the doc?  (/tmp/my-logging.properties vs. /tmp/report.json &amp;#8211; the former looks like a slip-up.)&lt;/li&gt;
	&lt;li&gt;For hive.service.metrics.file.frequency, why does TimeValidator have TimeUnit.MILLISECONDS while the parameter&apos;s default value is in seconds?  (Does it matter?)&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I&apos;ll make a few trivial edits to the doc, then remove the TODOC labels.&lt;/p&gt;</comment>
                            <comment id="14876100" author="szehon" created="Fri, 18 Sep 2015 18:26:28 +0000"  >&lt;p&gt;1.  Yes that&apos;s right it&apos;s a copy and paste error and was fixed in a subsequent fix-up JIRA &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; , I think its ok not to document all former incarnations to reduce noise?&lt;br/&gt;
2.  Yea I think it doesn&apos;t matter, as the the time validator is for default if there is no unit value defined in the parameter string, as far as I know.&lt;/p&gt;

&lt;p&gt;Thanks for the fix-up to the edit!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12830293">HIVE-10725</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12835659">HIVE-10944</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12735498" name="HIVE-10761.2.patch" size="87824" author="szehon" created="Wed, 27 May 2015 02:05:35 +0000"/>
                            <attachment id="12735650" name="HIVE-10761.3.patch" size="87969" author="szehon" created="Wed, 27 May 2015 18:25:55 +0000"/>
                            <attachment id="12735774" name="HIVE-10761.4.patch" size="90168" author="szehon" created="Thu, 28 May 2015 02:13:55 +0000"/>
                            <attachment id="12736002" name="HIVE-10761.5.patch" size="90919" author="szehon" created="Fri, 29 May 2015 00:02:47 +0000"/>
                            <attachment id="12736403" name="HIVE-10761.6.patch" size="90674" author="szehon" created="Sun, 31 May 2015 05:20:51 +0000"/>
                            <attachment id="12733998" name="HIVE-10761.patch" size="83404" author="szehon" created="Wed, 20 May 2015 00:02:17 +0000"/>
                            <attachment id="12733997" name="hms-metrics.json" size="3679" author="szehon" created="Wed, 20 May 2015 00:01:14 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12835304">HIVE-10926</subtask>
                            <subtask id="12835305">HIVE-10927</subtask>
                            <subtask id="12895210">HIVE-11903</subtask>
                            <subtask id="12908128">HIVE-12271</subtask>
                            <subtask id="12915636">HIVE-12499</subtask>
                            <subtask id="12916279">HIVE-12525</subtask>
                            <subtask id="12923872">HIVE-12733</subtask>
                            <subtask id="12929992">HIVE-12868</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 May 2015 00:25:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 18 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2eykv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
