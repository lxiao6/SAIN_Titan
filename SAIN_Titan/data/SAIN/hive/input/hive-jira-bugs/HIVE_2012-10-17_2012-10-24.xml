<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:22:04 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-10-17+AND+created+%3C%3D+2012-10-24+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="23" total="23"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-3588] Get Hive to work with hbase 94</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3588</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12612131">HIVE-3588</key>
            <summary>Get Hive to work with hbase 94</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Oct 2012 00:02:46 +0000</created>
                <updated>Tue, 15 Oct 2013 23:30:44 +0000</updated>
                            <resolved>Wed, 24 Apr 2013 02:29:28 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13491203" author="superpanpan" created="Tue, 6 Nov 2012 04:25:18 +0000"  >&lt;p&gt;hi,&lt;/p&gt;

&lt;p&gt;I got an error when trying to use hive 0.9.0 import to hbase 0.94.0&lt;br/&gt;
:&lt;br/&gt;
FATAL ExecMapper: java.lang.IllegalAccessError: tried to access field org.slf4j.impl.StaticLoggerBinder.SINGLETON from class org.slf4j.LoggerFactory&lt;/p&gt;

&lt;p&gt;dose this patch fits this problem?&lt;/p&gt;</comment>
                            <comment id="13500964" author="vikram.dixit" created="Tue, 20 Nov 2012 10:18:45 +0000"  >&lt;p&gt;Hi Qipan,&lt;/p&gt;

&lt;p&gt;This patch only bumps up the hbase version and adds a few dependencies required by hbase 0.94-1 version. Can you tell me when you hit the above error? What operation causes it? Maybe there is some other JIRA that addresses that issue.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13640003" author="ashutoshc" created="Wed, 24 Apr 2013 02:29:28 +0000"  >&lt;p&gt;Fixed via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3861&quot; title=&quot;Upgrade hbase dependency to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3861&quot;&gt;&lt;del&gt;HIVE-3861&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13796066" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:44 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12549412" name="HIVE-3588.patch" size="1336" author="vikram.dixit" created="Wed, 17 Oct 2012 00:03:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Nov 2012 04:25:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249160</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a5fb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57152</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3589] describe/show partition/show tblproperties command should accept database name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3589</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;describe command not giving the details when called as describe dbname.tablename.&lt;/p&gt;

&lt;p&gt;Throwing the error &quot;Table dbname not found&quot;.&lt;/p&gt;

&lt;p&gt;Ex: hive -e &quot;describe masterdb.table1&quot; will throw error&lt;br/&gt;
&quot;Table masterdb not found&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12612146">HIVE-3589</key>
            <summary>describe/show partition/show tblproperties command should accept database name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="sujesh.chirackkal">Sujesh Chirackkal</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Oct 2012 03:18:07 +0000</created>
                <updated>Tue, 2 Sep 2014 04:49:31 +0000</updated>
                            <resolved>Tue, 2 Sep 2014 04:49:31 +0000</resolved>
                                    <version>0.8.1</version>
                                                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13478613" author="phabricator@reviews.facebook.net" created="Thu, 18 Oct 2012 02:46:02 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3589&quot; title=&quot;describe/show partition/show tblproperties command should accept database name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3589&quot;&gt;&lt;del&gt;HIVE-3589&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; describe/show partition/show tblproperties command should accept database name&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1916 describe/show partition/show tblproperties command should accept database name&lt;/p&gt;

&lt;p&gt;  describe command not giving the details when called as describe dbname.tablename.&lt;/p&gt;

&lt;p&gt;  Throwing the error &quot;Table dbname not found&quot;.&lt;/p&gt;

&lt;p&gt;  Ex: hive -e &quot;describe masterdb.table1&quot; will throw error&lt;br/&gt;
  &quot;Table masterdb not found&quot;&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6075&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6075&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/DescTableDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ShowPartitionsDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ShowTblPropertiesDesc.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/describe_table.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/show_partitions.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/show_tblproperties.q&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_table.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_partitions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_tblproperties.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/14523/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/14523/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13497905" author="cwsteinbach" created="Thu, 15 Nov 2012 10:23:31 +0000"  >&lt;p&gt;@Navis: I added some comments on phabricator. Thanks.&lt;/p&gt;</comment>
                            <comment id="13497907" author="phabricator@reviews.facebook.net" created="Thu, 15 Nov 2012 10:24:12 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3589&quot; title=&quot;describe/show partition/show tblproperties command should accept database name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3589&quot;&gt;&lt;del&gt;HIVE-3589&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; describe/show partition/show tblproperties command should accept database name&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/describe_table.q:5 Please demonstrate that this also works from another db/schema, e.g:&lt;/p&gt;

&lt;p&gt;  CREATE DATABASE db1;&lt;br/&gt;
  USE db1;&lt;br/&gt;
  DESCRIBE default.srcpart;&lt;br/&gt;
  ...&lt;/p&gt;

&lt;p&gt;  This same request also applies to the other tests that this patch modifies.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java:1802 Formatting.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java:1407 It looks likes this method either returns true or throws a SemanticException. I think it should either return true or false, and either never throw an exception, or only throw an exception when the db name is not valid for syntactic reasons.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java:1472 There&apos;s some logic in DDLSemanticAnalyzer (see QualifiedNameUtil) that looks pretty similar. It would be nice to pull QualifiedNameUtil out into its own class in hive-common and reference that code from here and DDLSemanticAnalyzer.&lt;/p&gt;

&lt;p&gt;  Also, &quot;parseExpression&quot; is a little generic. Maybe change the name to &quot;parseTableName&quot;?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java:1474 I think it would be a bit cleaner to use StringUtils.split(), e.g:&lt;/p&gt;

&lt;p&gt;  String[] names = StringUtils.split(tableName, &quot;.&quot;);&lt;br/&gt;
  switch (names.length) &lt;/p&gt;
{
    ...
  }
&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/plan/DescTableDesc.java:112 If expression&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; == null, does that always imply that we&apos;re using the default db? If so can we return &quot;default.&quot; + expression&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; in that case? And if we do that, then we should probably just enforce that expression&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; != null in the constructor.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/DescTableDesc.java:38 Please add a note explaining that DescTableDesc is overloaded to handle both describe column and describe table, and what this parameter is expected to contain in each case.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ShowTblPropertiesDesc.java:34 &quot;expression&quot; is too generic in this case. Please change the name to &quot;qualifiedTableName&quot;.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ShowPartitionsDesc.java:64 s/expression/qualifiedTableName/&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6075&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6075&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1916&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, navis&lt;/p&gt;</comment>
                            <comment id="13500857" author="phabricator@reviews.facebook.net" created="Tue, 20 Nov 2012 06:13:57 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3589&quot; title=&quot;describe/show partition/show tblproperties command should accept database name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3589&quot;&gt;&lt;del&gt;HIVE-3589&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; describe/show partition/show tblproperties command should accept database name&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java:1802 fixed.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java:1407 I just split original method to two. Exception seemed for handling thrift errors and should be re-thrown to user.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java:1472 agreed. I&apos;ll do it.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java:1474 I always thought splitting with regex pattern for this kind of simple string is a bit too much. But if it&apos;s cleaner, I&apos;ll do it.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/DescTableDesc.java:38 ok.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/DescTableDesc.java:112 I&apos;ll check on that.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ShowPartitionsDesc.java:64 ok.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ShowTblPropertiesDesc.java:34 ok.&lt;br/&gt;
  ql/src/test/queries/clientpositive/describe_table.q:5 Yes, it was &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3676&quot; title=&quot;INSERT INTO regression caused by HIVE-3465&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3676&quot;&gt;&lt;del&gt;HIVE-3676&lt;/del&gt;&lt;/a&gt;. I&apos;ll add the test.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6075&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6075&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1916&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, navis&lt;/p&gt;</comment>
                            <comment id="13501629" author="phabricator@reviews.facebook.net" created="Wed, 21 Nov 2012 01:12:57 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3589&quot; title=&quot;describe/show partition/show tblproperties command should accept database name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3589&quot;&gt;&lt;del&gt;HIVE-3589&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; describe/show partition/show tblproperties command should accept database name&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  addressed comments and rebased to trunk&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6075&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6075&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QualifiedNameUtil.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/DescTableDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ShowPartitionsDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ShowTblPropertiesDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/TableDDLDesc.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/desc_failure3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/describe_syntax.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/describe_table.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/describe_xpath.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/show_partitions.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/show_tblproperties.q&lt;br/&gt;
  ql/src/test/results/clientnegative/desc_failure3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_syntax.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_table.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/describe_xpath.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/inputddl6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_partitions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/show_tblproperties.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/showparts.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, navis&lt;/p&gt;</comment>
                            <comment id="13678935" author="caofangkun" created="Sun, 9 Jun 2013 04:04:30 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;&lt;br/&gt;
desc statements had been fixed in trunk.&lt;br/&gt;
But &apos;show partition &apos; and &apos;show tblproperties&apos; statements have not been fixed yet .&lt;br/&gt;
I find simpley modify HiveParser.g file will fix this issue.&lt;br/&gt;
Please have a look at this rb:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/11753/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/11753/&lt;/a&gt;&lt;br/&gt;
thank you&lt;/p&gt;</comment>
                            <comment id="14067816" author="hiveqa" created="Sun, 20 Jul 2014 06:52:39 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12554436/HIVE-3589.D6075.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12554436/HIVE-3589.D6075.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/865/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/865/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/865/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/865/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-865/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-865/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-865/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;conf/hive-default.xml.template&apos;
Reverted &apos;itests/qtest/testconfiguration.properties&apos;
Reverted &apos;ql/src/test/org/apache/hadoop/hive/ql/exec/vector/TestVectorizedRowBatchCtx.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/Vectorizer.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizedColumnarSerDe.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizedBatchUtil.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizedRowBatchCtx.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit-hadoop2/target itests/hive-minikdc/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/server-extensions/target hcatalog/hcatalog-pig-adapter/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hwi/target common/target common/src/gen contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target ql/src/test/results/clientpositive/vector_data_types.q.out ql/src/test/results/clientpositive/tez/vector_data_types.q.out ql/src/test/queries/clientpositive/vector_data_types.q
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1612038.

At revision 1612038.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12554436&lt;/p&gt;</comment>
                            <comment id="14068107" author="navis" created="Mon, 21 Jul 2014 01:56:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=caofangkun&quot; class=&quot;user-hover&quot; rel=&quot;caofangkun&quot;&gt;caofangkun&lt;/a&gt; Thanks for your interest. I&apos;m doing this in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4064&quot; title=&quot;Handle db qualified names consistently across all HiveQL statements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4064&quot;&gt;&lt;del&gt;HIVE-4064&lt;/del&gt;&lt;/a&gt;, including alter partitions, table privileges, msck, dest/show columns/properties, etc. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                                                <inwardlinks description="Is contained by">
                                        <issuelink>
            <issuekey id="12633663">HIVE-4064</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12633663">HIVE-4064</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12498035">HIVE-1977</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12733295">HIVE-7678</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12549632" name="HIVE-3589.D6075.1.patch" size="31277" author="phabricator@reviews.facebook.net" created="Thu, 18 Oct 2012 02:46:02 +0000"/>
                            <attachment id="12554436" name="HIVE-3589.D6075.2.patch" size="77640" author="phabricator@reviews.facebook.net" created="Wed, 21 Nov 2012 01:12:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Oct 2012 02:46:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a5n3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57187</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>describe CLI</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3590] TCP KeepAlive and connection timeout for the HiveServer</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3590</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Simple implementation of TCP KeepAlive and socket timeout for the HiveServer in order to avoid half open connections or connection drops during long running queries that use HiveServer.&lt;/p&gt;

&lt;p&gt;Two new settings have been added in order to control this functionality.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;property&amp;gt;
   &amp;lt;name&amp;gt;hive.server.read.socket.timeout&amp;lt;/name&amp;gt;
   &amp;lt;value&amp;gt;10&amp;lt;/value&amp;gt;
   &amp;lt;description&amp;gt;Timeout &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the HiveServer to close the connection &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; no response from the client in N seconds, defaults to 10 seconds.&amp;lt;/description&amp;gt;
&amp;lt;/property&amp;gt;

&amp;lt;property&amp;gt;
   &amp;lt;name&amp;gt;hive.server.tcp.keepalive&amp;lt;/name&amp;gt;
   &amp;lt;value&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/value&amp;gt;
   &amp;lt;description&amp;gt;Whether to enable TCP keepalive &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the HiveServer. Keepalive will prevent accumulation of half-open connections.&amp;lt;/description&amp;gt;
&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12612171">HIVE-3590</key>
            <summary>TCP KeepAlive and connection timeout for the HiveServer</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="esteban">Esteban Gutierrez</assignee>
                                    <reporter username="esteban">Esteban Gutierrez</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 17 Oct 2012 08:38:42 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:55 +0000</updated>
                            <resolved>Fri, 19 Oct 2012 18:27:37 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13477718" author="esteban" created="Wed, 17 Oct 2012 08:49:53 +0000"  >&lt;p&gt;Review Board:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/7634/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7634/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13477728" author="cwsteinbach" created="Wed, 17 Oct 2012 09:24:54 +0000"  >&lt;p&gt;@Esteban: I left comments for you on reviewboard. Tnanks.&lt;/p&gt;</comment>
                            <comment id="13477734" author="esteban" created="Wed, 17 Oct 2012 09:31:33 +0000"  >&lt;p&gt;@Carl Updated the patch with the suggested change. Thanks.&lt;/p&gt;</comment>
                            <comment id="13477735" author="cwsteinbach" created="Wed, 17 Oct 2012 09:32:44 +0000"  >&lt;p&gt;+1. Will commit in a day if tests pass and no one requests more time for review.&lt;/p&gt;</comment>
                            <comment id="13480217" author="cwsteinbach" created="Fri, 19 Oct 2012 18:27:37 +0000"  >&lt;p&gt;Committed to trunk. Thanks Esteban!&lt;/p&gt;</comment>
                            <comment id="13480223" author="esteban" created="Fri, 19 Oct 2012 18:32:17 +0000"  >&lt;p&gt;Thanks Carl!&lt;/p&gt;</comment>
                            <comment id="13480655" author="hudson" created="Sat, 20 Oct 2012 05:55:36 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1748 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1748/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1748/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3590&quot; title=&quot;TCP KeepAlive and connection timeout for the HiveServer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3590&quot;&gt;&lt;del&gt;HIVE-3590&lt;/del&gt;&lt;/a&gt;. TCP KeepAlive and connection timeout for the HiveServer (Esteban Gutierrez via cws) (Revision 1400210)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1400210&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1400210&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548217" author="hudson" created="Wed, 9 Jan 2013 10:24:51 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3590&quot; title=&quot;TCP KeepAlive and connection timeout for the HiveServer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3590&quot;&gt;&lt;del&gt;HIVE-3590&lt;/del&gt;&lt;/a&gt;. TCP KeepAlive and connection timeout for the HiveServer (Esteban Gutierrez via cws) (Revision 1400210)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1400210&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1400210&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550240" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:55 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12549468" name="HIVE-3590.1.patch" size="3737" author="esteban" created="Wed, 17 Oct 2012 08:41:13 +0000"/>
                            <attachment id="12549474" name="HIVE-3590.2.patch" size="3737" author="esteban" created="Wed, 17 Oct 2012 09:29:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Oct 2012 09:24:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249234</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a69r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57289</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3591] set hive.security.authorization.enabled can be executed by any user</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3591</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The property hive.security.authorization.enabled can be set to true or false, by any user on the CLI, thus circumventing any previously set grants and authorizations. &lt;/p&gt;</description>
                <environment>&lt;p&gt;RHEL 5.6&lt;br/&gt;
CDH U3&lt;/p&gt;</environment>
        <key id="12612230">HIVE-3591</key>
            <summary>set hive.security.authorization.enabled can be executed by any user</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mrkaiser">Dev Gupta</reporter>
                        <labels>
                            <label>Authorization</label>
                            <label>Security</label>
                    </labels>
                <created>Wed, 17 Oct 2012 14:31:36 +0000</created>
                <updated>Thu, 22 Aug 2013 14:58:25 +0000</updated>
                                            <version>0.7.1</version>
                                                    <component>Authorization</component>
                    <component>CLI</component>
                    <component>Clients</component>
                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13746744" author="lmccay" created="Wed, 21 Aug 2013 19:22:16 +0000"  >&lt;p&gt;What is the current status/thinking on this issue? Is it something that we should be addressing and are there any thoughts on how it should be prevented/restricted, etc?&lt;/p&gt;</comment>
                            <comment id="13746980" author="thiruvel" created="Wed, 21 Aug 2013 23:06:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lmccay&quot; class=&quot;user-hover&quot; rel=&quot;lmccay&quot;&gt;Larry McCay&lt;/a&gt; The first approach to authorization was client side. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt; has also enabled this on the server side (HCatalog/Metastore) through &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3705&quot; title=&quot;Adding authorization capability to the metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3705&quot;&gt;&lt;del&gt;HIVE-3705&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We enable these features on our HCatalog deployments. Even if the user unsets these properties, server side changes still take effect and the user can&apos;t drop tables etc. We have tested this for HDFS based authorization. The properties we used on the HCatalog server are:&lt;/p&gt;

&lt;p&gt;&amp;lt;property&amp;gt;&lt;br/&gt;
  &amp;lt;name&amp;gt;hive.security.metastore.authorization.manager&amp;lt;/name&amp;gt;&lt;br/&gt;
  &amp;lt;value&amp;gt;org.apache.hadoop.hive.ql.security.authorization.StorageBasedAuthorizationProvider&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;property&amp;gt;&lt;br/&gt;
  &amp;lt;name&amp;gt;hive.security.metastore.authenticator.manager&amp;lt;/name&amp;gt;&lt;br/&gt;
  &amp;lt;value&amp;gt;org.apache.hadoop.hive.ql.security.HadoopDefaultMetastoreAuthenticator&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;property&amp;gt;&lt;br/&gt;
  &amp;lt;name&amp;gt;hive.metastore.pre.event.listeners&amp;lt;/name&amp;gt;&lt;br/&gt;
  &amp;lt;value&amp;gt;org.apache.hadoop.hive.ql.security.authorization.AuthorizationPreEventListener&amp;lt;/value&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13746991" author="lmccay" created="Wed, 21 Aug 2013 23:14:52 +0000"  >&lt;p&gt;Okay, so this is already resolved - correct?&lt;/p&gt;


&lt;p&gt;On Wed, Aug 21, 2013 at 7:07 PM, Thiruvel Thirumoolan (JIRA) &amp;lt;&lt;/p&gt;
</comment>
                            <comment id="13747010" author="sushanth" created="Wed, 21 Aug 2013 23:23:34 +0000"  >&lt;p&gt;Good spot, Larry. That&apos;s one more thing to address about client-side authorization, and much more basic than the issue of any user being able to grant themselves permissions for anything. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; mentions that we have a notion of restrict-lists for HiveServer2, wherein it rejects attempts wherein users try set commands on restricted config parameters, and it might be a good idea to extend that notion to the hive client as well.&lt;/p&gt;

&lt;p&gt;It still leaves open the case where the end user is able to edit their hive-site.xml to simply set the parameter there, rather than in-script or in-commandline, but that is protectable by admin policies for deployments, and might be a reasonable compromise.&lt;/p&gt;

&lt;p&gt;That said, all of these still leave open the notion of being able edit/compile hive sources leaving out these protections on the client side, and thus, your metadata is not truly secure (data can be made secure by hdfs perms) unless you&apos;re using metastore-side authorization.&lt;/p&gt;</comment>
                            <comment id="13747019" author="sushanth" created="Wed, 21 Aug 2013 23:31:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lmccay&quot; class=&quot;user-hover&quot; rel=&quot;lmccay&quot;&gt;Larry McCay&lt;/a&gt; : I wouldn&apos;t say &quot;resolved&quot;, per se - the issue you bring is a valid one, but one that does not fit the original hive security design (designed to prevent people from accidentally doing something dangerous, as opposed to being designed to prevent malicious users). For the security-conscious, there is currently a work-around(metastore-side security) for the intermediate case where stronger security is needed.&lt;/p&gt;

&lt;p&gt;I think this is an important data point though, for us to consider when trying to nail down hive security, and there is some intermediate work possible for this in the short run as well(the above restricted conf idea)&lt;/p&gt;</comment>
                            <comment id="13747078" author="lmccay" created="Thu, 22 Aug 2013 00:14:44 +0000"  >&lt;p&gt;I was looking at the restrictList earlier for this. I&apos;ll look into it further. Thanks for the insight!&lt;/p&gt;</comment>
                            <comment id="13747571" author="lmccay" created="Thu, 22 Aug 2013 14:58:25 +0000"  >&lt;p&gt;It appears that System properties can override conf vars too. I assume that we should leverage the restrictList there as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Aug 2013 19:22:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249304</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a6q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57363</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3592] where clause is ignored when limit is used and query runs locally</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3592</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;select * from tbl where blah=&apos;foo&apos; limit 4;&lt;br/&gt;
results in displaying first 4 rows of the tbl that runs locally, the blah=&apos;foo&apos; condition is ignored&lt;/p&gt;

&lt;p&gt;if I change the select to specify columns which will essentially force it to not run locally but do map reduce works fine&lt;br/&gt;
select column1 as test, * from tbl where blah=&apos;foo&apos; limit 4;&lt;/p&gt;</description>
                <environment>&lt;p&gt;AWS&lt;/p&gt;</environment>
        <key id="12612313">HIVE-3592</key>
            <summary>where clause is ignored when limit is used and query runs locally</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alinav">Alina</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Oct 2012 20:54:45 +0000</created>
                <updated>Wed, 17 Oct 2012 20:54:45 +0000</updated>
                                                                            <component>Query Processor</component>
                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249405</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a7j3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57493</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3593] Output files of SMB join grow indefinitely</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3593</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The output files of a SMB join are prefixed by the big table&apos;s partition spec that was used to create them.  The length of the bucket number portion of the file name is updated to be the same length as the length of the task ID.  Since the task ID is the name of the file, this means that if the output of a SMB join is used as the big table of another SMB join, the output files will increase by the size of the original partition spec.  Compound this and the file size can grow indefinitely.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12612320">HIVE-3593</key>
            <summary>Output files of SMB join grow indefinitely</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Oct 2012 21:39:38 +0000</created>
                <updated>Wed, 17 Oct 2012 23:07:29 +0000</updated>
                            <resolved>Wed, 17 Oct 2012 23:07:29 +0000</resolved>
                                    <version>0.10.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13478419" author="kevinwilfong" created="Wed, 17 Oct 2012 21:41:27 +0000"  >&lt;p&gt;Mildly related, if only one partition of the big table is used as input to the SMB join, there is no need to prefix the file name with the partition spec.&lt;/p&gt;</comment>
                            <comment id="13478480" author="kevinwilfong" created="Wed, 17 Oct 2012 23:07:29 +0000"  >&lt;p&gt;Actually, the regex to get the task ID already avoids this problem.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12610441">HIVE-3536</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249416</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0a84f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57589</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3594] When Group by Partition Column Type is Timestamp or STRING Which Format contains &quot;HH:MM:SS&quot;, It will occur URISyntaxException</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3594</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;create table test (no int, name string) partitioned by (pts string) row format delimited fields terminated by &apos; &apos;; &lt;br/&gt;
load data local inpath &apos;/opt/files/groupbyts1.txt&apos; into table test partition(pts=&apos;12:11:30&apos;);&lt;br/&gt;
load data local inpath &apos;/opt/files/groupbyts2.txt&apos; into table test partition(pts=&apos;21:25:12&apos;);&lt;br/&gt;
load data local inpath &apos;/opt/files/groupbyts3.txt&apos; into table test partition(pts=&apos;12:11:30&apos;);&lt;br/&gt;
load data local inpath &apos;/opt/files/groupbyts4.txt&apos; into table test partition(pts=&apos;21:25:12&apos;);&lt;/p&gt;

&lt;p&gt;when I execute &#8220;select * from test group by pts;&#8221;, it will occur as follows exception.&lt;br/&gt;
 at org.apache.hadoop.fs.Path.initialize(Path.java:157)&lt;br/&gt;
        at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:135)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Utilities.getInputSummary(Utilities.java:1667)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.MapRedTask.estimateNumberOfReducers(MapRedTask.java:432)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.MapRedTask.setNumberOfReducers(MapRedTask.java:400)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.MapRedTask.execute(MapRedTask.java:93)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:135)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1329)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1121)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:954)&lt;br/&gt;
        at org.apache.hadoop.hive.service.HiveServer$HiveServerHandler.execute(HiveServer.java:198)&lt;br/&gt;
        at org.apache.hadoop.hive.service.ThriftHive$Processor$execute.getResult(ThriftHive.java:630)&lt;br/&gt;
        at org.apache.hadoop.hive.service.ThriftHive$Processor$execute.getResult(ThriftHive.java:618)&lt;br/&gt;
        at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:32)&lt;br/&gt;
        at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:34)&lt;br/&gt;
        at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:176)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
Caused by: java.net.URISyntaxException: Relative path in absolute URI: fake-path-metadata-only-query-default.test{pts=12:11:30%7D&lt;br/&gt;
        at java.net.URI.checkPath(URI.java:1788)&lt;br/&gt;
        at java.net.URI.&amp;lt;init&amp;gt;(URI.java:734)&lt;br/&gt;
        at org.apache.hadoop.fs.Path.initialize(Path.java:154)&lt;br/&gt;
        ... 19 more&lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.MapRedTask&lt;/p&gt;

&lt;p&gt;When PhysicalOptimizer optimizes GroupByOperator, according to default parameters &quot;hive.optimize.metadataonly = true&quot;, MetadataOnlyOptimizer will be enabled. The MetadataOnlyOptimizer will change the partition alias desc. The partition alies &quot;hdfs://ip:9000/user/hive/warehouse/test/pts=12%3A11%3A30&quot; is changed into &quot; &lt;br/&gt;
fake-path-metadata-only-query-default.test&lt;/p&gt;
{pts=12:11:30}
&lt;p&gt;&quot;. When construct uri through new partition alies, it must occur java.net.URISyntaxException. &lt;/p&gt;
</description>
                <environment></environment>
        <key id="12612353">HIVE-3594</key>
            <summary>When Group by Partition Column Type is Timestamp or STRING Which Format contains &quot;HH:MM:SS&quot;, It will occur URISyntaxException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="daisy_yu">Daisy.Yuan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Oct 2012 01:40:25 +0000</created>
                <updated>Thu, 16 May 2013 21:10:29 +0000</updated>
                            <resolved>Thu, 6 Dec 2012 06:02:37 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13478631" author="phabricator@reviews.facebook.net" created="Thu, 18 Oct 2012 03:44:02 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3594&quot; title=&quot;When Group by Partition Column Type is Timestamp or STRING Which Format contains &amp;quot;HH:MM:SS&amp;quot;, It will occur URISyntaxException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3594&quot;&gt;&lt;del&gt;HIVE-3594&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; When Group by Partition Column Type is Timestamp or STRING Which Format contains &quot;HH:MM:SS&quot;, It will occur URISyntaxException&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1917 When Group by Partition Column Type is Timestamp or STRING Which Format contains &quot;HH:MM:SS&quot;, It will occur URISyntaxException&lt;/p&gt;

&lt;p&gt;  create table test (no int, name string) partitioned by (pts string) row format delimited fields terminated by &apos; &apos;;&lt;br/&gt;
  load data local inpath &apos;/opt/files/groupbyts1.txt&apos; into table test partition(pts=&apos;12:11:30&apos;);&lt;br/&gt;
  load data local inpath &apos;/opt/files/groupbyts2.txt&apos; into table test partition(pts=&apos;21:25:12&apos;);&lt;br/&gt;
  load data local inpath &apos;/opt/files/groupbyts3.txt&apos; into table test partition(pts=&apos;12:11:30&apos;);&lt;br/&gt;
  load data local inpath &apos;/opt/files/groupbyts4.txt&apos; into table test partition(pts=&apos;21:25:12&apos;);&lt;/p&gt;

&lt;p&gt;  when I execute &#8220;select * from test group by pts;&#8221;, it will occur as follows exception.&lt;br/&gt;
   at org.apache.hadoop.fs.Path.initialize(Path.java:157)&lt;br/&gt;
          at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:135)&lt;br/&gt;
          at org.apache.hadoop.hive.ql.exec.Utilities.getInputSummary(Utilities.java:1667)&lt;br/&gt;
          at org.apache.hadoop.hive.ql.exec.MapRedTask.estimateNumberOfReducers(MapRedTask.java:432)&lt;br/&gt;
          at org.apache.hadoop.hive.ql.exec.MapRedTask.setNumberOfReducers(MapRedTask.java:400)&lt;br/&gt;
          at org.apache.hadoop.hive.ql.exec.MapRedTask.execute(MapRedTask.java:93)&lt;br/&gt;
          at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:135)&lt;br/&gt;
          at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57)&lt;br/&gt;
          at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1329)&lt;br/&gt;
          at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1121)&lt;br/&gt;
          at org.apache.hadoop.hive.ql.Driver.run(Driver.java:954)&lt;br/&gt;
          at org.apache.hadoop.hive.service.HiveServer$HiveServerHandler.execute(HiveServer.java:198)&lt;br/&gt;
          at org.apache.hadoop.hive.service.ThriftHive$Processor$execute.getResult(ThriftHive.java:630)&lt;br/&gt;
          at org.apache.hadoop.hive.service.ThriftHive$Processor$execute.getResult(ThriftHive.java:618)&lt;br/&gt;
          at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:32)&lt;br/&gt;
          at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:34)&lt;br/&gt;
          at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:176)&lt;br/&gt;
          at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
          at java.lang.Thread.run(Thread.java:662)&lt;br/&gt;
  Caused by: java.net.URISyntaxException: Relative path in absolute URI: fake-path-metadata-only-query-default.test{pts=12:11:30%7D&lt;br/&gt;
          at java.net.URI.checkPath(URI.java:1788)&lt;br/&gt;
          at java.net.URI.&amp;lt;init&amp;gt;(URI.java:734)&lt;br/&gt;
          at org.apache.hadoop.fs.Path.initialize(Path.java:154)&lt;br/&gt;
          ... 19 more&lt;br/&gt;
  FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.MapRedTask&lt;/p&gt;

&lt;p&gt;  When PhysicalOptimizer optimizes GroupByOperator, according to default parameters &quot;hive.optimize.metadataonly = true&quot;, MetadataOnlyOptimizer will be enabled. The MetadataOnlyOptimizer will change the partition alias desc. The partition alies &quot;hdfs://160.165.0.1:9000/user/hive/warehouse/test/pts=12%3A11%3A30&quot; is changed into &quot;&lt;br/&gt;
  fake-path-metadata-only-query-default.test&lt;/p&gt;
{pts=12:11:30}
&lt;p&gt;&quot;. When construct uri through new partition alies, it must occur java.net.URISyntaxException.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6081&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6081&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/MetadataOnlyOptimizer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/metadataonly1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/14529/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/14529/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13510352" author="phabricator@reviews.facebook.net" created="Wed, 5 Dec 2012 08:16:57 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3594&quot; title=&quot;When Group by Partition Column Type is Timestamp or STRING Which Format contains &amp;quot;HH:MM:SS&amp;quot;, It will occur URISyntaxException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3594&quot;&gt;&lt;del&gt;HIVE-3594&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; When Group by Partition Column Type is Timestamp or STRING Which Format contains &quot;HH:MM:SS&quot;, It will occur URISyntaxException&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Replaced URLEncoder to String.replaceAll(&quot;&lt;a href=&quot;#\?&quot;&gt;:/#\\?&lt;/a&gt;&quot;, &quot;_&quot;)&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6081&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6081&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/MetadataOnlyOptimizer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/metadataonly1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13511084" author="namit" created="Thu, 6 Dec 2012 04:08:01 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13511096" author="phabricator@reviews.facebook.net" created="Thu, 6 Dec 2012 04:08:57 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3594&quot; title=&quot;When Group by Partition Column Type is Timestamp or STRING Which Format contains &amp;quot;HH:MM:SS&amp;quot;, It will occur URISyntaxException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3594&quot;&gt;&lt;del&gt;HIVE-3594&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; When Group by Partition Column Type is Timestamp or STRING Which Format contains &quot;HH:MM:SS&quot;, It will occur URISyntaxException&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6081&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6081&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1917&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;/p&gt;</comment>
                            <comment id="13511138" author="namit" created="Thu, 6 Dec 2012 06:02:37 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13511258" author="hudson" created="Thu, 6 Dec 2012 09:08:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1836 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1836/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1836/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3594&quot; title=&quot;When Group by Partition Column Type is Timestamp or STRING Which Format contains &amp;quot;HH:MM:SS&amp;quot;, It will occur URISyntaxException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3594&quot;&gt;&lt;del&gt;HIVE-3594&lt;/del&gt;&lt;/a&gt; When Group by Partition Column Type is Timestamp or STRING Which Format contains &quot;HH:MM:SS&quot;,&lt;br/&gt;
It will occur URISyntaxException (Navis via namit) (Revision 1417741)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417741&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417741&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/MetadataOnlyOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/metadataonly1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13526779" author="kevinwilfong" created="Fri, 7 Dec 2012 21:22:56 +0000"  >&lt;p&gt;I realize I&apos;m late, but when you replaced the URLEncoder with a replaceAll, won&apos;t you end up creating the same path for two partitions part=a: and part=a# and does this matter (I&apos;m not too familiar with the metadata only query code).&lt;/p&gt;</comment>
                            <comment id="13527578" author="namit" created="Sun, 9 Dec 2012 18:48:15 +0000"  >&lt;p&gt;I agree - I think this is a problem&lt;/p&gt;</comment>
                            <comment id="13527581" author="namit" created="Sun, 9 Dec 2012 18:57:07 +0000"  >&lt;p&gt;I was not able to reproduce this, though.&lt;br/&gt;
From the code, it looks like it should be a problem since fakePath (and hence pathToParitionInfo, pathToAlias) should be same for both a: and a#&lt;/p&gt;</comment>
                            <comment id="13527683" author="navis" created="Mon, 10 Dec 2012 02:09:56 +0000"  >&lt;p&gt;Yes, I should think on it twice. &lt;/p&gt;

&lt;p&gt;But meanwhile, could it be possible to share one empty file(only for metadata optimizer) for all the partitions?&lt;/p&gt;</comment>
                            <comment id="13527704" author="namit" created="Mon, 10 Dec 2012 04:00:45 +0000"  >&lt;p&gt;That would be difficult - right. Essentially, we want 1 row per partition (file), which is easy to simulate.&lt;br/&gt;
Why do we need a realistic fakePath - I mean, why should it have anything to do with the actual partition.&lt;br/&gt;
Cant the fakePath be a sequence no. - I mean, some relative path: /tmpDir/SequenceNo. (random no.).&lt;br/&gt;
We dont really need the fake path.&lt;/p&gt;</comment>
                            <comment id="13548227" author="hudson" created="Wed, 9 Jan 2013 10:24:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3594&quot; title=&quot;When Group by Partition Column Type is Timestamp or STRING Which Format contains &amp;quot;HH:MM:SS&amp;quot;, It will occur URISyntaxException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3594&quot;&gt;&lt;del&gt;HIVE-3594&lt;/del&gt;&lt;/a&gt; When Group by Partition Column Type is Timestamp or STRING Which Format contains &quot;HH:MM:SS&quot;,&lt;br/&gt;
It will occur URISyntaxException (Navis via namit) (Revision 1417741)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417741&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417741&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/MetadataOnlyOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/metadataonly1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12549634" name="HIVE-3594.D6081.1.patch" size="22516" author="phabricator@reviews.facebook.net" created="Thu, 18 Oct 2012 03:44:02 +0000"/>
                            <attachment id="12556074" name="HIVE-3594.D6081.2.patch" size="16360" author="phabricator@reviews.facebook.net" created="Wed, 5 Dec 2012 08:16:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Oct 2012 03:44:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249458</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aem7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3595] Hive should adapt new FsShell commands since Hadoop 2 has changed FsShell argument structures</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3595</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A simple example is that hive calls &quot;-rmr&quot; in the FsShell class, which in Hadoop 2 is &quot;rm -r&quot;. This helps avoid printing an unnecessary Deprecated warning in Hive when the Hadoop23 (or hadoop-2) shim is in use.&lt;/p&gt;

&lt;p&gt;We should wrap the logic and call the right commands of hadoop-2 to avoid this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12612393">HIVE-3595</key>
            <summary>Hive should adapt new FsShell commands since Hadoop 2 has changed FsShell argument structures</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="qwertymaniac">Harsh J</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Oct 2012 08:47:41 +0000</created>
                <updated>Thu, 13 Nov 2014 19:42:44 +0000</updated>
                            <resolved>Wed, 16 Apr 2014 00:21:08 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Shims</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13478842" author="qwertymaniac" created="Thu, 18 Oct 2012 09:08:26 +0000"  >&lt;p&gt;A quick scan suggests we just need to fix the one instance of &quot;rmr&quot; in use at Hive#replaceFiles:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      &lt;span class=&quot;code-comment&quot;&gt;// point of no &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; -- delete oldPath
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (oldPath != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
          FileSystem fs2 = oldPath.getFileSystem(conf);
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fs2.exists(oldPath)) {
            &lt;span class=&quot;code-comment&quot;&gt;// use FsShell to move data to .Trash first rather than delete permanently
&lt;/span&gt;            FsShell fshell = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FsShell();
            fshell.setConf(conf);
            fshell.run(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[]{&lt;span class=&quot;code-quote&quot;&gt;&quot;-rmr&quot;&lt;/span&gt;, oldPath.toString()});
          }
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
          &lt;span class=&quot;code-comment&quot;&gt;//swallow the exception
&lt;/span&gt;          LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Directory &quot;&lt;/span&gt; + oldPath.toString() + &lt;span class=&quot;code-quote&quot;&gt;&quot; canot be removed.&quot;&lt;/span&gt;);
        }
      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If we can wrap that &quot;-rmr&quot; to use &quot;-rmr&quot; only for &amp;lt; 0.23 hadoop versions, this can be closed. For higher versions the logic ought to use &quot;-rm -r&quot;.&lt;/p&gt;</comment>
                            <comment id="13870421" author="navis" created="Tue, 14 Jan 2014 05:57:25 +0000"  >&lt;p&gt;Seemed trivial to be included in shims&lt;/p&gt;</comment>
                            <comment id="13870995" author="hiveqa" created="Tue, 14 Jan 2014 18:30:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12622799/HIVE-3595.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12622799/HIVE-3595.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4924 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/905/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/905/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/905/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/905/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12622799&lt;/p&gt;</comment>
                            <comment id="13967172" author="ashutoshc" created="Fri, 11 Apr 2014 22:19:14 +0000"  >&lt;p&gt;+1 Lets get this in &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Needs a rebase.&lt;/p&gt;</comment>
                            <comment id="13970247" author="ashutoshc" created="Wed, 16 Apr 2014 00:21:08 +0000"  >&lt;p&gt;Committed to trunk. Turned out that patch still applies. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="14210814" author="thejas" created="Thu, 13 Nov 2014 19:42:44 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12615681">HIVE-3701</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12622799" name="HIVE-3595.1.patch.txt" size="1654" author="navis" created="Tue, 14 Jan 2014 05:57:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 14 Jan 2014 05:57:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0af9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58745</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3596] Regression - HiveConf static variable causes issues in long running JVM instances with /tmp/ data</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3596</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;With Hive 0.8.x, HiveConf was changed to utilize the private, static member &quot;confVarURL&quot; which points to /tmp/hive-&amp;lt;user&amp;gt;-&amp;lt;tmp_number&amp;gt;.xml for job configuration settings. &lt;/p&gt;

&lt;p&gt;During long running JVMs, such as a Beeswax server, which creates multiple HiveConf objects over time this variable does not properly get updated between jobs and can cause job failure if the OS cleans /tmp/ during a cron job. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12612412">HIVE-3596</key>
            <summary>Regression - HiveConf static variable causes issues in long running JVM instances with /tmp/ data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="ctm">Chris McConnell</assignee>
                                    <reporter username="ctm">Chris McConnell</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Oct 2012 12:11:46 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:45 +0000</updated>
                            <resolved>Thu, 29 Nov 2012 04:52:35 +0000</resolved>
                                    <version>0.8.0</version>
                    <version>0.8.1</version>
                    <version>0.9.0</version>
                                    <fixVersion>0.8.1</fixVersion>
                    <fixVersion>0.9.0</fixVersion>
                    <fixVersion>0.10.0</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13478948" author="ctm" created="Thu, 18 Oct 2012 12:27:26 +0000"  >&lt;p&gt;Patch to remove static attached.&lt;/p&gt;</comment>
                            <comment id="13479024" author="ctm" created="Thu, 18 Oct 2012 14:22:16 +0000"  >&lt;p&gt;New patch, added comments for change as well.&lt;/p&gt;</comment>
                            <comment id="13480209" author="ctm" created="Fri, 19 Oct 2012 18:17:47 +0000"  >&lt;p&gt;Review: &lt;a href=&quot;https://reviews.facebook.net/D6093&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6093&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="13484477" author="cwsteinbach" created="Thu, 25 Oct 2012 21:00:35 +0000"  >&lt;p&gt;Looks like the problem is still there after applying the patch:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; set system:java.io.tmpdir;
set system:java.io.tmpdir;
system:java.io.tmpdir=/var/folders/6d/bmvmcxh938q6htnxtyg9jk5r0000gn/T/
hive&amp;gt; SHOW TABLES;
...
hive&amp;gt; !ls ${system:java.io.tmpdir};
...
hive-default-187929306310164734.xml
hive-default-433053476043176173.xml
hive-default-3093481938548070336.xml
hive-default-159172276671008947.xml
...
hive&amp;gt; !rm ${system:java.io.tmpdir}/hive-default*;
hive&amp;gt; SHOW TABLES;
Failed with exception java.io.IOException:java.lang.RuntimeException: java.io.FileNotFoundException: /var/folders/6d/bmvmcxh938q6htnxtyg9jk5r0000gn/T/hive-default-187929306310164734.xml (No such file or directory)
Time taken: 0.081 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It&apos;s also worth pointing out that previously we created a single copy of hive-default that was used by all HiveConf instances, but with this patch in place we create a new hive-default file for each HiveConf instance. Roughly speaking this means that we end up creating at least one new hive-default file for each statement that is executed.&lt;/p&gt;</comment>
                            <comment id="13485028" author="ctm" created="Fri, 26 Oct 2012 16:15:55 +0000"  >&lt;p&gt;Good catch Carl &amp;#8211; I believe when I tested my rm of the data files required confirmation and perhaps I did not say &quot;yes.&quot; &lt;/p&gt;

&lt;p&gt;Deeper digging the issue, will update when I have a clear option. &lt;/p&gt;</comment>
                            <comment id="13505273" author="cwsteinbach" created="Wed, 28 Nov 2012 07:34:00 +0000"  >&lt;p&gt;@Chris: Turns out that Kevin has been working on this same problem in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3709&quot; title=&quot;Stop storing default ConfVars in temp file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3709&quot;&gt;&lt;del&gt;HIVE-3709&lt;/del&gt;&lt;/a&gt;. He was able to get a little bit farther, but his solution seems to have some concurrency issues. If you have time it may be worth looking at his solution and seeing if you can spot threading problem.&lt;/p&gt;</comment>
                            <comment id="13506218" author="cwsteinbach" created="Thu, 29 Nov 2012 04:52:35 +0000"  >&lt;p&gt;Resolving this is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3709&quot; title=&quot;Stop storing default ConfVars in temp file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3709&quot;&gt;&lt;del&gt;HIVE-3709&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13550198" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:45 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12616002">HIVE-3709</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12549694" name="HIVE-3596.patch" size="1319" author="ctm" created="Thu, 18 Oct 2012 14:22:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Oct 2012 21:00:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0afef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58768</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3597] Add a flag to turn off &quot;Truncated path -&gt; alias&quot; for end-user</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3597</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3556&quot; title=&quot;Test &amp;quot;Path -&amp;gt; Alias&amp;quot; for explain extended&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3556&quot;&gt;&lt;del&gt;HIVE-3556&lt;/del&gt;&lt;/a&gt; introduced &quot;Truncated path &lt;del&gt;&amp;gt; alias&quot; in order to test out of &quot;Path&lt;/del&gt;&amp;gt;alias&quot;. &lt;/p&gt;

&lt;p&gt;It might have less interest for end user. we can add a flag to control if we show it. By default, we don&apos;t show it but turn it on in test via QTestUtil.java&lt;/p&gt;</description>
                <environment></environment>
        <key id="12612456">HIVE-3597</key>
            <summary>Add a flag to turn off &quot;Truncated path -&gt; alias&quot; for end-user</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Oct 2012 17:30:28 +0000</created>
                <updated>Thu, 2 May 2013 02:30:55 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12610901">HIVE-3556</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249603</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 14 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0afun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58841</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3598] physical optimizer changes for auto sort-merge join</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3598</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12612477">HIVE-3598</key>
            <summary>physical optimizer changes for auto sort-merge join</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Oct 2012 19:16:44 +0000</created>
                <updated>Mon, 24 Mar 2014 20:52:12 +0000</updated>
                            <resolved>Fri, 9 Nov 2012 09:23:52 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13479310" author="namit" created="Thu, 18 Oct 2012 20:04:55 +0000"  >&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3403&quot; title=&quot;user should not specify mapjoin to perform sort-merge bucketed join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3403&quot;&gt;&lt;del&gt;HIVE-3403&lt;/del&gt;&lt;/a&gt;, an auto sortmerge join can be performed.&lt;br/&gt;
However, consider the following scenario:&lt;/p&gt;

&lt;p&gt;T1 - big table: 3 partitions : big partitions&lt;br/&gt;
T2 - small table: 1 partition&lt;/p&gt;

&lt;p&gt;both T1 and T2 are sorted/bucketed on the same key.&lt;/p&gt;

&lt;p&gt;If a join is being performed between T1 and T2, with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3403&quot; title=&quot;user should not specify mapjoin to perform sort-merge bucketed join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3403&quot;&gt;&lt;del&gt;HIVE-3403&lt;/del&gt;&lt;/a&gt;, T2 would be picked up as the table on which the mapper would run.&lt;br/&gt;
Ideally, if T2 is so small that it can fit in memory, a better approach would be map-join. &lt;br/&gt;
The physical optimizer should change the sort-merge join task into a backup task, with all tables being candidates for map-join&lt;br/&gt;
(similar to auto convert mapjoin).&lt;/p&gt;</comment>
                            <comment id="13493844" author="namit" created="Fri, 9 Nov 2012 09:23:37 +0000"  >&lt;p&gt;Done as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3403&quot; title=&quot;user should not specify mapjoin to perform sort-merge bucketed join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3403&quot;&gt;&lt;del&gt;HIVE-3403&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13550087" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:20 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12627393">HIVE-3891</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12604358">HIVE-3403</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Jan 2013 19:53:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249653</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ag67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58893</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3599] missing return of compression codec to pool</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3599</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The RCFile writer is currently missing a call to return of one of the compression codecs to the pool.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12612509">HIVE-3599</key>
            <summary>missing return of compression codec to pool</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="owen.omalley">Owen O&apos;Malley</assignee>
                                    <reporter username="owen.omalley">Owen O&apos;Malley</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Oct 2012 23:08:53 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:55 +0000</updated>
                            <resolved>Sat, 20 Oct 2012 16:13:24 +0000</resolved>
                                                    <fixVersion>0.9.1</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13479466" author="owen.omalley" created="Thu, 18 Oct 2012 23:16:30 +0000"  >&lt;p&gt;Here&apos;s the obvious fix. There aren&apos;t any functional difference.&lt;/p&gt;</comment>
                            <comment id="13480765" author="appodictic" created="Sat, 20 Oct 2012 15:52:44 +0000"  >&lt;p&gt;+1 will commit.&lt;/p&gt;</comment>
                            <comment id="13480770" author="appodictic" created="Sat, 20 Oct 2012 16:13:24 +0000"  >&lt;p&gt;Committed. Thanks Owen.&lt;/p&gt;</comment>
                            <comment id="13480915" author="hudson" created="Sun, 21 Oct 2012 07:21:46 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1750 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1750/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1750/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3599&quot; title=&quot;missing return of compression codec to pool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3599&quot;&gt;&lt;del&gt;HIVE-3599&lt;/del&gt;&lt;/a&gt; missing return of compression codec to pool (Owen O&apos;Malley via egc) (Revision 1400484)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1400484&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1400484&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548232" author="hudson" created="Wed, 9 Jan 2013 10:24:55 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3599&quot; title=&quot;missing return of compression codec to pool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3599&quot;&gt;&lt;del&gt;HIVE-3599&lt;/del&gt;&lt;/a&gt; missing return of compression codec to pool (Owen O&apos;Malley via egc) (Revision 1400484)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1400484&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1400484&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12549779" name="hive-3599.patch" size="609" author="owen.omalley" created="Thu, 18 Oct 2012 23:16:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 20 Oct 2012 15:52:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aghb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58943</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3600] Show tables within database</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3600</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&quot;SHOW TABLES&quot; doesn&apos;t list tables under user created databases. Only tables under &lt;span class=&quot;error&quot;&gt;&amp;#91;default&amp;#93;&lt;/span&gt; database are shown.&lt;/p&gt;

&lt;p&gt;1) &quot;SHOW TABLES&quot; must provide list of all tables under each database in the form db_name.table_name&lt;/p&gt;

&lt;p&gt;2) Enhance &quot;SHOW TABLES&quot; to support &quot;SHOW TABLES db_name&quot; to list only the tables from db_name&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12612529">HIVE-3600</key>
            <summary>Show tables within database</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="research800">Krishna</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Fri, 19 Oct 2012 04:00:49 +0000</created>
                <updated>Fri, 19 Oct 2012 21:18:48 +0000</updated>
                            <resolved>Fri, 19 Oct 2012 21:18:47 +0000</resolved>
                                    <version>0.9.0</version>
                                                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="1209600">336h</timeoriginalestimate>
                            <timeestimate seconds="1209600">336h</timeestimate>
                                        <comments>
                            <comment id="13480400" author="research800" created="Fri, 19 Oct 2012 21:18:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1636&quot; title=&quot;Implement &amp;quot;SHOW TABLES {FROM | IN} db_name&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1636&quot;&gt;&lt;del&gt;HIVE-1636&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249714</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0agnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58970</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3601] Hive List Bucketing - add Skewed Information to &quot;explain extended insert overwrite&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3601</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As we support list bucketing in DML, it will be useful for debugging to know DML involve list bucketing.&lt;/p&gt;

&lt;p&gt;It can be added by adding skewed information to FileSinkOperator in &quot;explain extended insert overwrite&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12612741">HIVE-3601</key>
            <summary>Hive List Bucketing - add Skewed Information to &quot;explain extended insert overwrite&quot;</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Oct 2012 18:27:32 +0000</created>
                <updated>Thu, 29 Nov 2012 19:35:54 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12555256">HIVE-3026</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12558843">HIVE-3073</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0anof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3602] Provide ability to roll up column stats from specific partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3602</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When executing query on a partitioned table it becomes necessary to combine the statistics from different partitions to know about the combined data distribution. For eg., consider a table with 5 partitions P0 to P4 and a query that scans partitions p0, p2 and p4. It becomes necessary to combine the statistics from the individual partitions to obtain the statistical properties of the combined data from the partitions. This JIRA covers the task of a) implementing logic to roll up statistics from specific partitions and b) providing an API to retrieve the combined statistics&lt;/p&gt;</description>
                <environment></environment>
        <key id="12612841">HIVE-3602</key>
            <summary>Provide ability to roll up column stats from specific partitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Oct 2012 18:07:52 +0000</created>
                <updated>Thu, 2 May 2013 02:29:57 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12465176">HIVE-1362</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12609666">HIVE-3516</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250114</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 14 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0apnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60430</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3603] Enable client-side caching for scans on HBase</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3603</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HBaseHandler sets up a TableInputFormat MR job against HBase to read data in. The underlying implementation (in HBaseHandler.java) makes an RPC call per row-key, which makes it very inefficient. Need to specify a client side cache size on the scan.&lt;/p&gt;

&lt;p&gt;Note that HBase currently only supports num-rows based caching (no way to specify a memory limit). Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6770&quot; title=&quot;Allow scanner setCaching to specify size instead of number of rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6770&quot;&gt;&lt;del&gt;HBASE-6770&lt;/del&gt;&lt;/a&gt; to address this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12612882">HIVE-3603</key>
            <summary>Enable client-side caching for scans on HBase</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="karthik.ranga">Karthik Ranganathan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 21 Oct 2012 18:13:12 +0000</created>
                <updated>Tue, 4 Feb 2014 00:06:54 +0000</updated>
                            <resolved>Tue, 16 Jul 2013 02:50:40 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>14</watches>
                                                                <comments>
                            <comment id="13543526" author="phabricator@reviews.facebook.net" created="Fri, 4 Jan 2013 02:12:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3603&quot; title=&quot;Enable client-side caching for scans on HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3603&quot;&gt;&lt;del&gt;HIVE-3603&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable client-side caching for scans on HBase&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1955 Enable client-side caching for scans on HBase&lt;/p&gt;

&lt;p&gt;  HBaseHandler sets up a TableInputFormat MR job against HBase to read data in. The underlying implementation (in HBaseHandler.java) makes an RPC call per row-key, which makes it very inefficient. Need to specify a client side cache size on the scan.&lt;/p&gt;

&lt;p&gt;  Note that HBase currently only supports num-rows based caching (no way to specify a memory limit). Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6770&quot; title=&quot;Allow scanner setCaching to specify size instead of number of rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6770&quot;&gt;&lt;del&gt;HBASE-6770&lt;/del&gt;&lt;/a&gt; to address this.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7761&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7761&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;br/&gt;
  hbase-handler/src/test/queries/positive/hbase_scan_params.q&lt;br/&gt;
  hbase-handler/src/test/results/positive/hbase_scan_params.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/18699/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/18699/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13547609" author="phabricator@reviews.facebook.net" created="Wed, 9 Jan 2013 04:00:11 +0000"  >&lt;p&gt;zhenxiao has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3603&quot; title=&quot;Enable client-side caching for scans on HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3603&quot;&gt;&lt;del&gt;HIVE-3603&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable client-side caching for scans on HBase&quot;.&lt;/p&gt;

&lt;p&gt;  Very minor comments.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  hbase-handler/src/test/queries/positive/hbase_scan_params.q:7 How about:&lt;br/&gt;
  select * from hbase_pushdown order by key limit 10;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7761&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7761&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: zhenxiao&lt;/p&gt;</comment>
                            <comment id="13547610" author="zhenxiao" created="Wed, 9 Jan 2013 04:01:11 +0000"  >&lt;p&gt;Non-Committer Review, minor comments at:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D7761&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7761&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13553809" author="phabricator@reviews.facebook.net" created="Tue, 15 Jan 2013 13:42:11 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3603&quot; title=&quot;Enable client-side caching for scans on HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3603&quot;&gt;&lt;del&gt;HIVE-3603&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable client-side caching for scans on HBase&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  hbase-handler/src/test/queries/positive/hbase_scan_params.q:7 It makes MR task and I don&apos;t want add more test time. Furthermore, hbase returns rows always in deterministic way(ordered by row key)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7761&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7761&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: zhenxiao&lt;/p&gt;</comment>
                            <comment id="13554121" author="zhenxiao" created="Tue, 15 Jan 2013 18:42:51 +0000"  >&lt;p&gt;Looks good to me.&lt;br/&gt;
Non-committer +1.&lt;/p&gt;</comment>
                            <comment id="13563768" author="phabricator@reviews.facebook.net" created="Sun, 27 Jan 2013 08:31:12 +0000"  >&lt;p&gt;ashutoshc has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3603&quot; title=&quot;Enable client-side caching for scans on HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3603&quot;&gt;&lt;del&gt;HIVE-3603&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable client-side caching for scans on HBase&quot;.&lt;/p&gt;

&lt;p&gt;  Couple of comments on phabricator.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java:68 It seems like its sufficient to set these strings in jobConf for client side caching to kick in. In that case, these strings must be interpreted by hbase as well. So, these must be defined constants in hbase code also, shall we just refer to those?&lt;br/&gt;
  hbase-handler/src/test/queries/positive/hbase_scan_params.q:7 How does this test verifies that client side caching kicked in?  Did you do some manual verification to make sure caching is indeed taking place.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7761&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7761&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1955&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: zhenxiao&lt;/p&gt;</comment>
                            <comment id="13563967" author="phabricator@reviews.facebook.net" created="Mon, 28 Jan 2013 00:47:12 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3603&quot; title=&quot;Enable client-side caching for scans on HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3603&quot;&gt;&lt;del&gt;HIVE-3603&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable client-side caching for scans on HBase&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  hbase-handler/src/test/queries/positive/hbase_scan_params.q:7 I just checked scanner is configured with those values. Could you provide some idea for test verifying this?&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java:68 Those are configuration for scanner and should be configured per TS, IMHO, isn&apos;t it?&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2906&quot; title=&quot;Support providing some table properties by user via SQL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2906&quot;&gt;&lt;del&gt;HIVE-2906&lt;/del&gt;&lt;/a&gt; might be a help for configuring this.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7761&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7761&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1955&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: zhenxiao&lt;/p&gt;</comment>
                            <comment id="13702769" author="appodictic" created="Tue, 9 Jul 2013 01:39:48 +0000"  >&lt;p&gt;I am +1. Is anyone not +1. The patch seems to enable scanner caching by setting the appropriate properties, verifying it works is going to be tricky since we have no simple way of counting the RPC calls the underlying hbase client will make.&lt;/p&gt;</comment>
                            <comment id="13709397" author="appodictic" created="Tue, 16 Jul 2013 02:50:40 +0000"  >&lt;p&gt;Thanks Navis.&lt;/p&gt;</comment>
                            <comment id="13709434" author="hudson" created="Tue, 16 Jul 2013 03:48:00 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop1-ptest #86 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/86/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/86/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3603&quot; title=&quot;Enable client-side caching for scans on HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3603&quot;&gt;&lt;del&gt;HIVE-3603&lt;/del&gt;&lt;/a&gt; Enable client-side caching for scans on HBase (Navis Ryu via EGC)&lt;/p&gt;

&lt;p&gt;Submitted by:	Navis Ryu&lt;br/&gt;
Reviewed by:	Edward Capriolo (ecapriolo: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503544&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503544&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/queries/positive/hbase_scan_params.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/results/positive/hbase_scan_params.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13709624" author="hudson" created="Tue, 16 Jul 2013 09:11:54 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #16 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/16/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/16/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3603&quot; title=&quot;Enable client-side caching for scans on HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3603&quot;&gt;&lt;del&gt;HIVE-3603&lt;/del&gt;&lt;/a&gt; Enable client-side caching for scans on HBase (Navis Ryu via EGC)&lt;/p&gt;

&lt;p&gt;Submitted by:	Navis Ryu&lt;br/&gt;
Reviewed by:	Edward Capriolo (ecapriolo: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503544&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503544&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/queries/positive/hbase_scan_params.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/results/positive/hbase_scan_params.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13710008" author="hudson" created="Tue, 16 Jul 2013 18:01:57 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-h0.21 #2200 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2200/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2200/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3603&quot; title=&quot;Enable client-side caching for scans on HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3603&quot;&gt;&lt;del&gt;HIVE-3603&lt;/del&gt;&lt;/a&gt; Enable client-side caching for scans on HBase (Navis Ryu via EGC)&lt;/p&gt;

&lt;p&gt;Submitted by:	Navis Ryu&lt;br/&gt;
Reviewed by:	Edward Capriolo (ecapriolo: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503544&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503544&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/queries/positive/hbase_scan_params.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/results/positive/hbase_scan_params.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13710360" author="hudson" created="Tue, 16 Jul 2013 22:10:30 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop2 #290 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/290/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/290/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3603&quot; title=&quot;Enable client-side caching for scans on HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3603&quot;&gt;&lt;del&gt;HIVE-3603&lt;/del&gt;&lt;/a&gt; Enable client-side caching for scans on HBase (Navis Ryu via EGC)&lt;/p&gt;

&lt;p&gt;Submitted by:	Navis Ryu&lt;br/&gt;
Reviewed by:	Edward Capriolo (ecapriolo: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503544&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1503544&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/queries/positive/hbase_scan_params.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/results/positive/hbase_scan_params.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13728202" author="swarnim" created="Fri, 2 Aug 2013 22:24:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Any specific reason we chose not to provide a default value for caching? In this case, it seems like the caching would only kick in if the user explicitly demands for it by specifying the property &quot;hbase.scan.cache&quot; as a part of the DDL. However I don&apos;t see any case where caching to a default value won&apos;t be useful. Thoughts?&lt;/p&gt;</comment>
                            <comment id="13728231" author="appodictic" created="Fri, 2 Aug 2013 22:59:46 +0000"  >&lt;p&gt;You can add this to your hive~site.xml&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3603?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=13728202#comment-13728202&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3603?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=13728202#comment-13728202&lt;/a&gt;]&lt;br/&gt;
caching? In this case, it seems like the caching would only kick in if the&lt;br/&gt;
user explicitly demands for it by specifying the property&lt;br/&gt;
&quot;hbase.scan.cache&quot; as a part of the DDL. However I don&apos;t see any case where&lt;br/&gt;
caching to a default value won&apos;t be useful. Thoughts?&lt;br/&gt;
data in. The underlying implementation (in HBaseHandler.java) makes an RPC&lt;br/&gt;
call per row-key, which makes it very inefficient. Need to specify a client&lt;br/&gt;
side cache size on the scan.&lt;br/&gt;
to specify a memory limit). Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6770&quot; title=&quot;Allow scanner setCaching to specify size instead of number of rows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6770&quot;&gt;&lt;del&gt;HBASE-6770&lt;/del&gt;&lt;/a&gt; to address this.&lt;br/&gt;
administrators&lt;/p&gt;</comment>
                            <comment id="13750370" author="swarnim" created="Mon, 26 Aug 2013 18:28:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;Edward Capriolo&lt;/a&gt; Thanks! Also how is setting this property different than directly setting the &quot;hbase.client.scanner.caching&quot; property in hive-site.xml without this enhancement? Wouldn&apos;t they have the same effect?&lt;/p&gt;</comment>
                            <comment id="13796152" author="ashutoshc" created="Tue, 15 Oct 2013 23:31:22 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12692792">HIVE-6356</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12563212" name="HIVE-3603.D7761.1.patch" size="9132" author="phabricator@reviews.facebook.net" created="Fri, 4 Jan 2013 02:12:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Jan 2013 02:12:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0auhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61211</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3604] Casting strings to booleans gives unexpected result</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3604</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I would expect the following query to return false in both columns:&lt;/p&gt;

&lt;p&gt;select &apos;false&apos;, cast(&apos;false&apos; as boolean) from example_table limit 1;&lt;/p&gt;

&lt;p&gt;but here are the actual results:&lt;/p&gt;

&lt;p&gt;Total MapReduce CPU Time Spent: X seconds X msec&lt;br/&gt;
OK&lt;br/&gt;
false   true&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Amazon EMR&lt;/p&gt;</environment>
        <key id="12613046">HIVE-3604</key>
            <summary>Casting strings to booleans gives unexpected result</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ajmarcus">Ariel M</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Oct 2012 21:03:07 +0000</created>
                <updated>Wed, 8 Apr 2015 18:13:47 +0000</updated>
                            <resolved>Wed, 8 Apr 2015 18:13:47 +0000</resolved>
                                    <version>0.8.1</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13482133" author="navis" created="Tue, 23 Oct 2012 05:57:00 +0000"  >&lt;p&gt;Currently hive returns true for non-empty string. And for mysql, it does not support casting to boolean type(syntax error). Should it be consistent with mysql?&lt;/p&gt;</comment>
                            <comment id="14485688" author="apivovarov" created="Wed, 8 Apr 2015 18:13:39 +0000"  >&lt;p&gt;Added &quot;If cast(exp as boolean) hive returns true for non-empty string.&quot; to LanguageManual UDF&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-TypeConversionFunctions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-TypeConversionFunctions&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12613856">HIVE-3635</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Oct 2012 05:57:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250438</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ayif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3605] HowToContribute page links to defunct hadoop wiki page</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3605</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The debugging section, under making changes links to the an old hadoop wiki page for debugging Hive. It mostly redirects to the current wiki okay, but the section anchor has changed, so it just goes to the top of the page instead of the specific section.&lt;/p&gt;

&lt;p&gt;Currently it&apos;s a full url, if it stays that way it ought to be &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[Debugging Hive code|https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-DebuggingHivecode]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It would be better to make it an internal wiki link with &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[Debugging Hive code|DeveloperGuide#Debugging Hive code]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12613048">HIVE-3605</key>
            <summary>HowToContribute page links to defunct hadoop wiki page</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="busbey">Sean Busbey</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Oct 2012 21:06:21 +0000</created>
                <updated>Wed, 21 Aug 2013 02:43:14 +0000</updated>
                            <resolved>Wed, 21 Aug 2013 02:43:14 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13745737" author="yhuai" created="Wed, 21 Aug 2013 02:43:14 +0000"  >&lt;p&gt;added an anchor at &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-DebuggingHivecode&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-DebuggingHivecode&lt;/a&gt; and pointed the link of &quot;Debugging Hive code&quot; in HowToContribute to that anchor.&lt;/p&gt;

&lt;p&gt;I am resolving it as &quot;Fixed&quot;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Aug 2013 02:43:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250440</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ayj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61867</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3606] get_json_object and json_tuple no longer support single quotes after upgrade to Jackson</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3606</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;After the upgrade to Jackson, JSON objects that contain keys or values surrounded by single quotes are not considered valid JSON, this was supported before the switch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613072">HIVE-3606</key>
            <summary>get_json_object and json_tuple no longer support single quotes after upgrade to Jackson</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Oct 2012 23:12:03 +0000</created>
                <updated>Mon, 29 Oct 2012 06:32:08 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13481937" author="kevinwilfong" created="Mon, 22 Oct 2012 23:45:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6135&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6135&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13481951" author="kevinwilfong" created="Mon, 22 Oct 2012 23:56:07 +0000"  >&lt;p&gt;This will break Hadoop 0.20 unless &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3607&quot; title=&quot;Set mapreduce.task.classpath.user.precedence to true by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3607&quot;&gt;HIVE-3607&lt;/a&gt; goes in.&lt;/p&gt;</comment>
                            <comment id="13485860" author="namit" created="Mon, 29 Oct 2012 06:32:08 +0000"  >&lt;p&gt;This cannot go in until we have a resolution on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3607&quot; title=&quot;Set mapreduce.task.classpath.user.precedence to true by default&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3607&quot;&gt;HIVE-3607&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12613077">HIVE-3607</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12550374" name="HIVE-3606.1.patch.txt" size="4906" author="kevinwilfong" created="Mon, 22 Oct 2012 23:46:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Oct 2012 06:32:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250470</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ayqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61902</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3607] Set mapreduce.task.classpath.user.precedence to true by default</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3607</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When queries are actually run in a Hadoop cluster, Hive&apos;s jars are appended to Hadoop&apos;s classpath.  However, when we test/run jobs locally Hive&apos;s classpath comes first.  This leads to issues like the one brought up here after the patch was committed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3581&quot; title=&quot;get_json_object and json_tuple return null in the presence of new line characters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3581&quot;&gt;&lt;del&gt;HIVE-3581&lt;/del&gt;&lt;/a&gt; where a change depended on a jar Hive includes which conflicted with one provided by Hadoop which is an older version in 0.20&lt;/p&gt;

&lt;p&gt;It&apos;s possible that more of the jars we include are getting preceded by older jars in Hadoop, and we haven&apos;t noticed yet.&lt;/p&gt;

&lt;p&gt;If we add Hive jars to the beginning of Hadoop&apos;s classpath we will be in control in such situations where the jars are backwards compatible.  We will be able to update the jars in Hive and these will be used at run time, instead of just compile time.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613077">HIVE-3607</key>
            <summary>Set mapreduce.task.classpath.user.precedence to true by default</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Oct 2012 23:54:47 +0000</created>
                <updated>Thu, 1 Aug 2013 21:31:05 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13481950" author="kevinwilfong" created="Mon, 22 Oct 2012 23:55:22 +0000"  >&lt;p&gt;Naturally this will require testing beyond the standard ant test before deploying, but I wanted to see if anyone had any other objections to this.&lt;/p&gt;</comment>
                            <comment id="13485856" author="namit" created="Mon, 29 Oct 2012 06:29:56 +0000"  >&lt;p&gt;This seems to be logical - hive jars should always come before hadoop server side jars. What is the reason for giving preference to hadoop server jars ?&lt;br/&gt;
Is it the issue that the client can submit malicious hadoop jars - anyway, the client today can submit any jar and write a UDF which accesses those jars.&lt;/p&gt;

&lt;p&gt;If we want to be conservative, we can come up with a blacklist of hadoop jars which cannot be provided by hive.&lt;/p&gt;</comment>
                            <comment id="13726925" author="cos" created="Thu, 1 Aug 2013 21:31:05 +0000"  >&lt;p&gt;Are there any plans to commit this and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3606&quot; title=&quot;get_json_object and json_tuple no longer support single quotes after upgrade to Jackson&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3606&quot;&gt;HIVE-3606&lt;/a&gt; in the bugfix release for Hive 0.11 (if any?)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12613072">HIVE-3606</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Oct 2012 06:29:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250475</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 25 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ayrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3608] Support appends (INSERT INTO) for bucketed tables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3608</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Support for appending (INSERT INTO) non-bucketed tables was added in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-306&quot; title=&quot;Support &amp;quot;INSERT [INTO] destination&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-306&quot;&gt;&lt;del&gt;HIVE-306&lt;/del&gt;&lt;/a&gt;. We should extend this to support bucketed tables as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613085">HIVE-3608</key>
            <summary>Support appends (INSERT INTO) for bucketed tables</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Oct 2012 01:25:34 +0000</created>
                <updated>Thu, 2 May 2013 02:30:55 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12415536">HIVE-306</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12428024">HIVE-565</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250484</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ayu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61917</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3609] Nested sub select queries with duplicate column aliases should throw an error instead of truncating columns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3609</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12613095">HIVE-3609</key>
            <summary>Nested sub select queries with duplicate column aliases should throw an error instead of truncating columns</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Oct 2012 03:30:55 +0000</created>
                <updated>Tue, 23 Oct 2012 04:00:39 +0000</updated>
                            <resolved>Tue, 23 Oct 2012 04:00:39 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13482087" author="cwsteinbach" created="Tue, 23 Oct 2012 03:40:29 +0000"  >&lt;p&gt;This makes sense:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; SELECT * FROM src LIMIT 1;
OK
key	value
238	val_238
Time taken: 0.061 seconds
hive&amp;gt; SELECT * FROM src a JOIN src b ON (a.key = b.key) LIMIT 1;
OK
key	value	key	value
0	val_0	0	val_0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But this doesn&apos;t:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; SELECT * FROM (SELECT * FROM src a JOIN src b ON (a.key = b.key) LIMIT 1) c;
OK
key	value
0	val_0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note that the third query produces the following SQL exception when run in MySQL:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mysql&amp;gt; SELECT * FROM (SELECT * FROM src a JOIN src b ON (a.key=b.key) LIMIT 1) as c;
ERROR 1060 (42S21): Duplicate column name &apos;key&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think Hive should throw an exception in this situation too.&lt;/p&gt;</comment>
                            <comment id="13482090" author="navis" created="Tue, 23 Oct 2012 03:54:42 +0000"  >&lt;p&gt;I think this is duplicated with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2723&quot; title=&quot;should throw  &amp;quot;Ambiguous column reference key&amp;quot;  Exception in particular join condition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2723&quot;&gt;&lt;del&gt;HIVE-2723&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12538597">HIVE-2723</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Oct 2012 03:54:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250495</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aywv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3610] Add a command &quot;Explain dependency ...&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3610</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add a new command &quot;EXPLAIN DEPENDENCY&quot;.&lt;br/&gt;
Any query can be passed to EXPLAIN DEPENDENCY as with EXPLAIN (FORMATTED/EXTENDED). The output of this command will be JSON that provides the list of tables and partitions that the query depends on.&lt;/p&gt;

&lt;p&gt;One possible use case is to determine the set of tables/views that are used by a view, and the set of partitions that are used by a given query on that view. This will allow a view to be replicated from one Hive instance to another, since we can determine the set of objects that need to be replicated for replication of the view to be successful.&lt;/p&gt;

&lt;p&gt;Example output:&lt;br/&gt;
{&quot;input_tables&quot;:[&lt;/p&gt;
{&quot;tablename&quot;: &quot;default@test_sambavi_v2&quot;, &quot;tabletype&quot;: &quot;EXTERNAL_TABLE&quot;}
&lt;p&gt;, &lt;/p&gt;
{&quot;tablename&quot;: &quot;default@test_sambavi_v1&quot;, &quot;tabletype&quot;: &quot;TABLE&quot;}
&lt;p&gt;], &quot;input partitions&quot;:&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;default@srcpart@ds=2008-04-08/hr=11&amp;quot;,&amp;quot;default@srcpart@ds=2008-04-08/hr=12&amp;quot;&amp;#93;&lt;/span&gt;}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613179">HIVE-3610</key>
            <summary>Add a command &quot;Explain dependency ...&quot;</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sambavi">Sambavi Muthukrishnan</assignee>
                                    <reporter username="sambavi">Sambavi Muthukrishnan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Oct 2012 18:58:26 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:30 +0000</updated>
                            <resolved>Mon, 29 Oct 2012 19:40:48 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13482841" author="sambavi" created="Tue, 23 Oct 2012 23:59:28 +0000"  >&lt;p&gt;Diff is at &lt;a href=&quot;https://reviews.facebook.net/D6159&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6159&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13485058" author="kevinwilfong" created="Fri, 26 Oct 2012 17:18:27 +0000"  >&lt;p&gt;A minor comment on the diff, otherwise looks good.&lt;/p&gt;</comment>
                            <comment id="13485318" author="sambavi" created="Sat, 27 Oct 2012 01:08:00 +0000"  >&lt;p&gt;Fixed for comments, added new patch.&lt;/p&gt;</comment>
                            <comment id="13485323" author="kevinwilfong" created="Sat, 27 Oct 2012 01:28:05 +0000"  >&lt;p&gt;+1 Thanks Sambavi&lt;/p&gt;</comment>
                            <comment id="13485843" author="namit" created="Mon, 29 Oct 2012 05:45:44 +0000"  >&lt;p&gt;Why do you need this ?&lt;br/&gt;
Isn&apos;t the same information available through hooks today, or am I missing something ?&lt;/p&gt;</comment>
                            <comment id="13486123" author="sambavi" created="Mon, 29 Oct 2012 16:27:02 +0000"  >&lt;p&gt;Namit: the set of inputs should be  available through hooks. But this seems like a generically useful feature - to be able to determine the dependencies for a given query, which are the sets of inputs that are processed, hence decided to make it a command that is available in HIVE.&lt;/p&gt;</comment>
                            <comment id="13486159" author="namit" created="Mon, 29 Oct 2012 17:13:45 +0000"  >&lt;p&gt;OK, I dont have any objection.&lt;/p&gt;

&lt;p&gt;Kevin, feel free to commit this.&lt;/p&gt;</comment>
                            <comment id="13486286" author="kevinwilfong" created="Mon, 29 Oct 2012 19:40:48 +0000"  >&lt;p&gt;Committed, thanks Sambavi.&lt;/p&gt;</comment>
                            <comment id="13486750" author="hudson" created="Tue, 30 Oct 2012 08:59:20 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1764 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1764/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1764/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3610&quot; title=&quot;Add a command &amp;quot;Explain dependency ...&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3610&quot;&gt;&lt;del&gt;HIVE-3610&lt;/del&gt;&lt;/a&gt;. Add a command &quot;Explain dependency ...&quot; (Sambavi Muthukrishnan via kevinwilfong) (Revision 1403467)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1403467&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1403467&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ExplainSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExplainWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/explain_dependency.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/explain_dependency.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547978" author="hudson" created="Wed, 9 Jan 2013 10:23:49 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3610&quot; title=&quot;Add a command &amp;quot;Explain dependency ...&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3610&quot;&gt;&lt;del&gt;HIVE-3610&lt;/del&gt;&lt;/a&gt;. Add a command &quot;Explain dependency ...&quot; (Sambavi Muthukrishnan via kevinwilfong) (Revision 1403467)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1403467&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1403467&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ExplainSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExplainWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/explain_dependency.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/explain_dependency.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550130" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:29 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12550556" name="explain_dependency.1.patch" size="15362" author="sambavi" created="Wed, 24 Oct 2012 00:02:57 +0000"/>
                            <attachment id="12551046" name="explain_dependency.2.patch" size="15768" author="sambavi" created="Sat, 27 Oct 2012 01:07:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Oct 2012 17:18:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250612</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aznj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>62054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This introduces a new command&lt;br/&gt;
&lt;br/&gt;
EXPLAIN DEPENDENCY &amp;lt;query&amp;gt;&lt;br/&gt;
&lt;br/&gt;
which outputs a JSON object containing the input tables and partitions the query will access without actually running the query.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
