<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:16:14 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2010-7-21+AND+created+%3C%3D+2010-7-28+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="17" total="17"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1475] .gitignore files being placed in test warehouse directories causing build failure</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1475</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;from last comments on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1463&quot; title=&quot;hive output file names are unnecessarily large&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1463&quot;&gt;&lt;del&gt;HIVE-1463&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;test warehouse is being polluted with .gitignore files. these need to be removed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469832">HIVE-1475</key>
            <summary>.gitignore files being placed in test warehouse directories causing build failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsensarma">Joydeep Sen Sarma</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Jul 2010 15:47:20 +0000</created>
                <updated>Sat, 17 Dec 2011 00:00:58 +0000</updated>
                            <resolved>Thu, 22 Jul 2010 23:58:50 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12890828" author="cwsteinbach" created="Wed, 21 Jul 2010 19:05:46 +0000"  >&lt;p&gt;The .gitignore files were added in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1188&quot; title=&quot;NPE when running TestJdbcDriver/TestHiveServer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1188&quot;&gt;&lt;del&gt;HIVE-1188&lt;/del&gt;&lt;/a&gt; in order to resolve a test NPE that occurs when using Git.&lt;/p&gt;</comment>
                            <comment id="12890947" author="nzhang" created="Wed, 21 Jul 2010 23:28:36 +0000"  >&lt;p&gt;A minor correction on the description. The related HIVE JIRA is &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1464&quot; title=&quot;improve test query performance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1464&quot;&gt;&lt;del&gt;HIVE-1464&lt;/del&gt;&lt;/a&gt; rather than &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1463&quot; title=&quot;hive output file names are unnecessarily large&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1463&quot;&gt;&lt;del&gt;HIVE-1463&lt;/del&gt;&lt;/a&gt;. The last comment is copied as follows:&lt;/p&gt;

&lt;p&gt;8&amp;lt;---------------------------------&lt;br/&gt;
i think i found why it&apos;s happening.&lt;br/&gt;
these lines in build-common.xml:&lt;/p&gt;

&lt;p&gt;&amp;lt;copy todir=&quot;${test.data.dir}&quot;&amp;gt;&lt;br/&gt;
&amp;lt;fileset dir=&quot;${test.src.data.dir}&quot;&amp;gt;&lt;br/&gt;
&amp;lt;exclude name=&quot;**/.svn&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/fileset&amp;gt;&lt;br/&gt;
&amp;lt;/copy&amp;gt;&lt;/p&gt;

&lt;p&gt;are copying .gitignore to test/data/warehouse/src&lt;/p&gt;

&lt;p&gt;it remains there after this. the reason this is happening now is that &apos;cleanup()&apos; happens via metadata commands - and there are no tables in metadata at the beginning of the test. so nothing gets deleted. then a whole bunch of &apos;load data&apos; commands are executed - which also don&apos;t delete old stuff.&lt;/p&gt;

&lt;p&gt;after this - earlier each test would call cleanup() again - which would delete the entire directory. but now this is not done anymore. so the .gitignore stays there.&lt;/p&gt;

&lt;p&gt;lots of ways of fixing this - but this whole data/warehouse dir and then copying it recursively is totally unnecessary i think. i will file a separate jira.&lt;/p&gt;</comment>
                            <comment id="12890949" author="nzhang" created="Wed, 21 Jul 2010 23:35:39 +0000"  >&lt;p&gt;I think copying ${test.src.data.dir} to ${test.data.dir} is not necessary. The only use may be to create the target directory test/data/warehouse? &lt;/p&gt;

&lt;p&gt;For now, should we just exclude the .gitignore file in addition to .svn? The test/data/warehouse/* will be removed after the test finished. So it won&apos;t affect git I think. &lt;/p&gt;</comment>
                            <comment id="12890950" author="jsensarma" created="Wed, 21 Jul 2010 23:35:53 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;get rid of data/warehouse - totally unnecessary&lt;/li&gt;
	&lt;li&gt;get rid of recursive copy of data/ into test/data - again unnecessary&lt;/li&gt;
	&lt;li&gt;convert references to test/data/conf into data/conf&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;in addition:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;i removed a whole bunch of &apos;DROP TABLE&apos; statements from the clientpositive and clientnegative queries. these are not required anymore given that the test harness cleans out test side effects&lt;/li&gt;
	&lt;li&gt;output changes because of the above.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;between this and 1464 - i think the total test time has gone down by 30 min or so if not more. still too much, but some improvement ..&lt;/p&gt;</comment>
                            <comment id="12890952" author="nzhang" created="Wed, 21 Jul 2010 23:46:25 +0000"  >&lt;p&gt;Great! I&apos;ll take a look.&lt;/p&gt;</comment>
                            <comment id="12891248" author="nzhang" created="Thu, 22 Jul 2010 17:14:37 +0000"  >&lt;p&gt;The test on -Dhadoop.version=0.20.0 failed. Partituclarly TestHBaseCliDriver and TestHBaseMinimrCliDriver failed. Can you take a look?&lt;/p&gt;</comment>
                            <comment id="12891253" author="jsensarma" created="Thu, 22 Jul 2010 17:24:33 +0000"  >&lt;p&gt;taking a look.&lt;/p&gt;</comment>
                            <comment id="12891323" author="jsensarma" created="Thu, 22 Jul 2010 20:46:17 +0000"  >&lt;p&gt;looks like the hbase tests also failed because of 1464 (or something since then) - they fail against trunk.&lt;/p&gt;</comment>
                            <comment id="12891343" author="jsensarma" created="Thu, 22 Jul 2010 21:19:14 +0000"  >&lt;p&gt;there was a bug in the 1464 patch (something that i had intended to take out but forgot). this fixes things:&lt;/p&gt;

&lt;p&gt;&amp;gt; &amp;#8212; ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java  (revision 966856)&lt;br/&gt;
&amp;gt; +++ ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java  (working copy)&lt;br/&gt;
&amp;gt; @@ -528,7 +528,7 @@&lt;br/&gt;
&amp;gt;        createSources();&lt;br/&gt;
&amp;gt;      }&lt;br/&gt;
&amp;gt;  &lt;br/&gt;
&amp;gt; -    CliSessionState ss = new CliSessionState(new HiveConf(Driver.class));&lt;br/&gt;
&amp;gt; +    CliSessionState ss = new CliSessionState(conf);&lt;br/&gt;
&amp;gt;      assert ss != null;&lt;br/&gt;
&amp;gt;      ss.in = System.in;&lt;br/&gt;
&amp;gt;  &lt;/p&gt;

&lt;p&gt;i haven&apos;t run the full tests - but the hbase-handler tests do pass.&lt;/p&gt;</comment>
                            <comment id="12891350" author="nzhang" created="Thu, 22 Jul 2010 21:27:58 +0000"  >&lt;p&gt;I&apos;m testing it right now.&lt;/p&gt;</comment>
                            <comment id="12891408" author="nzhang" created="Thu, 22 Jul 2010 23:58:50 +0000"  >&lt;p&gt;Committed. Thanks Joydeep!&lt;/p&gt;</comment>
                            <comment id="12891450" author="jsensarma" created="Fri, 23 Jul 2010 02:25:56 +0000"  >&lt;p&gt;thanks for reviewing/committing and sorry for all the trouble.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12457062">HIVE-1188</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12469212">HIVE-1464</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12450113" name="1475.1.patch" size="1933878" author="jsensarma" created="Wed, 21 Jul 2010 23:35:53 +0000"/>
                            <attachment id="12450218" name="1475.2.patch" size="1934384" author="jsensarma" created="Thu, 22 Jul 2010 21:19:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Jul 2010 19:05:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123131</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1476] Hive&apos;s metastore when run as a thrift service creates directories as the service user instead of the real user issuing create table/alter table etc.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1476</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If the thrift metastore service is running as the user &quot;hive&quot; then all table directories as a result of create table are created as that user rather than the user who actually issued the create table command. This is different semantically from non-thrift mode (i.e. local mode) when clients directly connect to the metastore. In the latter case, directories are created as the real user. The thrift mode should do the same.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469848">HIVE-1476</key>
            <summary>Hive&apos;s metastore when run as a thrift service creates directories as the service user instead of the real user issuing create table/alter table etc.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pkamath">Pradeep Kamath</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Jul 2010 19:26:34 +0000</created>
                <updated>Mon, 4 Apr 2011 19:19:51 +0000</updated>
                                            <version>0.6.0</version>
                    <version>0.7.0</version>
                                                    <component>Metastore</component>
                    <component>Security</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="12890843" author="pkamath" created="Wed, 21 Jul 2010 19:28:55 +0000"  >&lt;p&gt;A proposal for the solution:&lt;br/&gt;
Instead of the Metastore code creating the directories why not have HiveMetastoreClient create it in createTable() after the table is created - i.e. it can do a getTable().getSd().getLocation() and perform wh.mkdirs() on that path. We could do the same thing with addPartition() and other places where needed. The issue with this is it still breaks direct thrift clients. So a compromise is to use a conf variable - &quot;strict.owner.mode&quot; - if this is set to true on the server, dirs will not be created and they will be created on the client (both client and server should have the same value (true or false).  In installations where there are thrift clients, this can be set to false till the point the clients are ready to create the dirs themselves.&lt;/p&gt;

&lt;p&gt;HiveMetaStoreClient needs to change to read this conf variable and create dirs if it is set to true. This directory creation/deletion is relevant to create table/drop table/add partition/alter table/alter partition I think.&lt;/p&gt;


</comment>
                            <comment id="12901991" author="sushanth" created="Tue, 24 Aug 2010 18:00:55 +0000"  >&lt;p&gt;The above file attached for review is a patch generated by svn diff against revision 985768 off hive svn trunk.&lt;/p&gt;

&lt;p&gt;It uses a new parameter &quot;hadoop.fs.operations.owner&quot; to determine whether or not a component is allowed to perform operations(write) on the filesystem. It defaults to true for HiveMetaStore, and defaults to false for HiveMetaStoreClient.&lt;/p&gt;

&lt;p&gt;To run in thrift mode and get the behaviour described in this jira, we would need to override this parameter to false on the thrift server start, and true on the client side.&lt;/p&gt;

&lt;p&gt;Thanks for reviewing and looking over this!&lt;/p&gt;

&lt;p&gt;Other comments : During testing, I wanted to disable filesystem access on the thrift server end, by providing an invalid fs.default.name - the idea being that if this patch covered all writing usecases, we would not need to write from the thrift end, and would not encounter any runtime failures. However, as you may guess, that didn&apos;t turn out to be the case, because we still read off it. We still perform path translations, we perform setLocation() on StorageDescriptors after getting appropriate paths, etc. Now this raised another further issue, wherein we&apos;d potentially like this patch to be a bit more - to be able to move all fs ops to the client side if configured to be so, as that would be useful for integrating with secure hadoop, where the thrift server might not have access to the filesystem, and if it were to need access, it would need to keep requesting auth tokens. The idea there might be to have it be a pure metadata service. Anyhow, the intent now is to submit that as a separate feature-request jira, while leaving this one to address this.&lt;/p&gt;</comment>
                            <comment id="12901999" author="pkamath" created="Tue, 24 Aug 2010 18:18:20 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
  I am out of the office on vacation from Friday Aug 20th to Friday, Sept 17th. Please contact my manager, Olga Natkovich for any urgent issues.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Pradeep&lt;/p&gt;
</comment>
                            <comment id="12902059" author="namit" created="Tue, 24 Aug 2010 20:35:20 +0000"  >&lt;p&gt;@Paul, can you take a look at this ?&lt;/p&gt;</comment>
                            <comment id="12905239" author="sushanth" created="Wed, 1 Sep 2010 21:50:51 +0000"  >&lt;p&gt;Updated patch to go against version 991714(current trunk)&lt;/p&gt;</comment>
                            <comment id="12905299" author="tlipcon" created="Wed, 1 Sep 2010 23:03:45 +0000"  >&lt;p&gt;In the absence of making the metastore truly a metadata-only service, it seems like what we really want is for the metastore to act on behalf of users.&lt;/p&gt;

&lt;p&gt;Could we have the hive client fetch an HDFS delegation token and pass it securely to the metastore, so the metastore can act as the user to perform the operations?&lt;br/&gt;
Alternatively, could the metastore be set up with an HDFS proxy user principal that allows it to impersonate anyone in a &quot;hive&quot; group?&lt;/p&gt;

&lt;p&gt;Although we don&apos;t have true authorization, etc, at the moment, in Hive, we should think about how to solve this in a way that at least moves us closer to that goal.&lt;/p&gt;</comment>
                            <comment id="12905310" author="tlipcon" created="Wed, 1 Sep 2010 23:27:26 +0000"  >&lt;p&gt;BTW, we are working on a SASL-secured Thrift transport over at &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-876&quot; title=&quot;Add SASL support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-876&quot;&gt;&lt;del&gt;THRIFT-876&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12905470" author="svenkat" created="Thu, 2 Sep 2010 10:49:14 +0000"  >&lt;p&gt;@Todd, Thrift over HTTP transport (&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-814&quot; title=&quot;Include a TServlet in the standard Thrift distribution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-814&quot;&gt;&lt;del&gt;THRIFT-814&lt;/del&gt;&lt;/a&gt;) can use kerberos over SPNEGO.&lt;/p&gt;</comment>
                            <comment id="12905622" author="cwsteinbach" created="Thu, 2 Sep 2010 18:17:01 +0000"  >&lt;p&gt;@Venkatesh: &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-814&quot; title=&quot;Include a TServlet in the standard Thrift distribution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-814&quot;&gt;&lt;del&gt;THRIFT-814&lt;/del&gt;&lt;/a&gt; covers adding SPNEGO support to Thrift.&lt;/p&gt;</comment>
                            <comment id="12905623" author="cwsteinbach" created="Thu, 2 Sep 2010 18:17:49 +0000"  >&lt;p&gt;Edit: I mean &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-889&quot; title=&quot;Add SPNEGO support to Thrift HTTP transport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-889&quot;&gt;THRIFT-889&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12472399">HIVE-1588</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12452952" name="HIVE-1476.patch" size="52502" author="sushanth" created="Tue, 24 Aug 2010 18:00:55 +0000"/>
                            <attachment id="12453632" name="HIVE-1476.patch.2" size="44134" author="sushanth" created="Wed, 1 Sep 2010 21:50:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Aug 2010 18:00:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42483</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06apj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34666</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1477] Specific JDBC driver&apos;s jar</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1477</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Today we need to include Hadoop&apos;s jar on the client side installation but since the JDBC driver is using Thrift a smaller jar with only Thrifts classes should be enough.&lt;br/&gt;
This should avoid distributing hadoop jar on the client side.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469851">HIVE-1477</key>
            <summary>Specific JDBC driver&apos;s jar</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jboulon">Jerome Boulon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Jul 2010 19:43:58 +0000</created>
                <updated>Tue, 4 Jan 2011 20:12:57 +0000</updated>
                                                                            <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42482</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08nbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48379</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1478] Non-boolean expression in WHERE should be rejected</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1478</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Automatically casting strings or other types into boolean may confuse even the user - and somehow it doesn&apos;t always work (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15089&quot; title=&quot;Error: java.lang.RuntimeException: Hive Runtime Error while closing operators: java.lang.Integer cannot be cast to java.lang.Boolean&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15089&quot;&gt;&lt;del&gt;HIVE-15089&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;sql2011 states that &quot;where expression&quot; should accept a boolean expression.&lt;/p&gt;


&lt;p&gt;Original reported problem:&lt;/p&gt;

&lt;p&gt;If the expression in the where clause does not evaluate to a boolean, the job will fail with the following exception in the task logs:&lt;/p&gt;

&lt;p&gt;Query:&lt;/p&gt;

&lt;p&gt;SELECT key FROM src WHERE 1;&lt;/p&gt;

&lt;p&gt;Exception in mapper:&lt;/p&gt;

&lt;p&gt;2010-07-21 17:00:31,460 FATAL ExecMapper: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
{&quot;key&quot;:&quot;238&quot;,&quot;value&quot;:&quot;val_238&quot;}
&lt;p&gt;	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:417)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:180)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:358)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child.main(Child.java:159)&lt;br/&gt;
Caused by: java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.Boolean&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.FilterOperator.processOp(FilterOperator.java:84)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:457)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:697)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:45)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:457)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:697)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:400)&lt;br/&gt;
	... 5 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469874">HIVE-1478</key>
            <summary>Non-boolean expression in WHERE should be rejected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="kgyrtkirk">Zoltan Haindrich</assignee>
                                    <reporter username="pauly">Paul Yang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jul 2010 00:13:57 +0000</created>
                <updated>Fri, 9 Dec 2016 12:29:01 +0000</updated>
                            <resolved>Fri, 9 Dec 2016 12:29:01 +0000</resolved>
                                    <version>0.7.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15669738" author="kgyrtkirk" created="Wed, 16 Nov 2016 07:44:27 +0000"  >&lt;p&gt;report this problem more clearly - before the query starts executing&lt;/p&gt;</comment>
                            <comment id="15669865" author="hiveqa" created="Wed, 16 Nov 2016 08:52:54 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12839133/HIVE-1478.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12839133/HIVE-1478.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10695 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[annotate_stats_filter] (batchId=8)
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver[vector_empty_where] (batchId=21)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=133)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=133)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[join_acid_non_acid] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union_fast_stats] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=91)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_4] (batchId=91)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2148/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2148/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2148/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2148/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2148/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2148/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12839133 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15671783" author="kgyrtkirk" created="Wed, 16 Nov 2016 22:01:32 +0000"  >&lt;p&gt;patch#2)&lt;/p&gt;

&lt;p&gt;removed qtest cases which contained invalid where expressions.&lt;/p&gt;

&lt;p&gt;it turned out that there was a ticket to do support this conversion for vectorization(&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13659&quot; title=&quot;An empty where condition leads to vectorization exceptions instead of throwing a compile time error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13659&quot;&gt;&lt;del&gt;HIVE-13659&lt;/del&gt;&lt;/a&gt;)...not sure what to do now:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;close this as won&apos;t fix - and open an another issue that this fails for mr&lt;/li&gt;
	&lt;li&gt;i&apos;ve undone the &lt;tt&gt;VectorizationContext&lt;/tt&gt; change of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13659&quot; title=&quot;An empty where condition leads to vectorization exceptions instead of throwing a compile time error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13659&quot;&gt;&lt;del&gt;HIVE-13659&lt;/del&gt;&lt;/a&gt; in this patch - as it will became an unreachable codepath after this change.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think it would be better to stick to the standard...because casting anything into a boolean may help a bad query to hide in the woods &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;,&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmccline&quot; class=&quot;user-hover&quot; rel=&quot;mmccline&quot;&gt;Matt McCline&lt;/a&gt; what&apos;s your opinion?&lt;/p&gt;</comment>
                            <comment id="15672326" author="hiveqa" created="Thu, 17 Nov 2016 01:19:25 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12839245/HIVE-1478.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12839245/HIVE-1478.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 2 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 10673 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestSparkCliDriver - did not produce a TEST-*.xml file (likely timed out) (batchId=95)
	[ptf_general_queries.q,auto_join_reordering_values.q,sample2.q,join1.q,decimal_join.q,mapjoin_subquery2.q,join32_lessSize.q,mapjoin1.q,order2.q,skewjoinopt18.q,union_remove_18.q,join25.q,groupby9.q,bucketsortoptimize_insert_6.q,ctas.q]
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[orc_ppd_schema_evol_3a] (batchId=133)
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver[transform_ppr2] (batchId=133)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[join_acid_non_acid] (batchId=150)
org.apache.hadoop.hive.cli.TestMiniLlapLocalCliDriver.testCliDriver[union_fast_stats] (batchId=145)
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver[explainanalyze_2] (batchId=91)
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition (batchId=204)
org.apache.hive.hcatalog.api.repl.commands.TestCommands.org.apache.hive.hcatalog.api.repl.commands.TestCommands (batchId=166)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2159/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2159/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/2159/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/2159/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-2159/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-2159/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12839245 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15672332" author="ashutoshc" created="Thu, 17 Nov 2016 01:22:12 +0000"  >&lt;p&gt;This should be closed as won&apos;t fix since as discussed on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13659&quot; title=&quot;An empty where condition leads to vectorization exceptions instead of throwing a compile time error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13659&quot;&gt;&lt;del&gt;HIVE-13659&lt;/del&gt;&lt;/a&gt; this is already supported in Hive and there is no good reason to  withdra support  for this. &lt;br/&gt;
By the way, on master these queries should not throw any exception. MR or otherwise.&lt;/p&gt;</comment>
                            <comment id="15735198" author="kgyrtkirk" created="Fri, 9 Dec 2016 12:28:19 +0000"  >&lt;p&gt;I&apos;m afraid not...&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select 1 where 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;fails on the current master&lt;/p&gt;

&lt;p&gt;I&apos;ve opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15408&quot; title=&quot;Support auto-casting non-boolean where condition into boolean&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15408&quot;&gt;HIVE-15408&lt;/a&gt; to fix mr / others to support this.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13016025">HIVE-15089</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12839133" name="HIVE-1478.1.patch" size="2397" author="kgyrtkirk" created="Wed, 16 Nov 2016 07:44:27 +0000"/>
                            <attachment id="12839245" name="HIVE-1478.2.patch" size="18906" author="kgyrtkirk" created="Wed, 16 Nov 2016 22:01:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Nov 2016 07:44:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42481</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123132</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1479] Add hive.exec.post.hooks to hive-default.xml</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1479</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;hive.exec.post.hooks is not listed in hive-default.xml. Also, the description of hive.exec.pre.hooks should be changed since this property is not specific to tests:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;property&amp;gt;
  &amp;lt;name&amp;gt;hive.exec.pre.hooks&amp;lt;/name&amp;gt;
  &amp;lt;value&amp;gt;&amp;lt;/value&amp;gt;
  &amp;lt;description&amp;gt;Pre Execute Hook &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Tests&amp;lt;/description&amp;gt;
&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12469884">HIVE-1479</key>
            <summary>Add hive.exec.post.hooks to hive-default.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jul 2010 03:25:00 +0000</created>
                <updated>Thu, 22 Jul 2010 19:31:37 +0000</updated>
                            <resolved>Thu, 22 Jul 2010 19:31:37 +0000</resolved>
                                                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12891296" author="cwsteinbach" created="Thu, 22 Jul 2010 19:31:37 +0000"  >&lt;p&gt;Resolving this as a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1425&quot; title=&quot;hive.task.progress should be added to conf/hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1425&quot;&gt;&lt;del&gt;HIVE-1425&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12467619">HIVE-1425</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12467619">HIVE-1425</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12436473">HIVE-854</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72879</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123133</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1480] CREATE TABLE IF NOT EXISTS get incorrect table name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1480</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;CREATE TABLE IF NOT EXISTS T AS SELECT ... gives the following error after the job succeeded:&lt;/p&gt;

&lt;p&gt;Setting total progress to 100&lt;br/&gt;
10/07/22 11:26:14 INFO exec.ExecDriver: Ended Job = job_201006221843_688872&lt;br/&gt;
10/07/22 11:26:14 INFO exec.FileSinkOperator: Moving tmp dir: hdfs://dfstmp.data.facebook.com:9000/tmp/hive-root/hive_2010-07-22_11-20-15_027_2717837693750284928/_tmp.10001 to: hdfs://dfstmp.data.facebook.com:9000/tmp/hive-root/hive_2010-07-22_11-20-15_027_2717837693750284928/_tmp.10001.intermediate&lt;br/&gt;
10/07/22 11:26:14 INFO exec.FileSinkOperator: Moving tmp dir: hdfs://dfstmp.data.facebook.com:9000/tmp/hive-root/hive_2010-07-22_11-20-15_027_2717837693750284928/_tmp.10001.intermediate to: hdfs://dfstmp.data.facebook.com:9000/tmp/hive-root/hive_2010-07-22_11-20-15_027_2717837693750284928/10001&lt;br/&gt;
Moving data to: hdfs://dfstmp.data.facebook.com:9000/user/facebook/warehouse/ericm_budget_email_actua43&lt;br/&gt;
10/07/22 11:26:15 INFO exec.MoveTask: Moving data to: hdfs://dfstmp.data.facebook.com:9000/user/facebook/warehouse/ericm_budget_email_actua43 from hdfs://dfstmp.data.facebook.com:9000/tmp/hive-root/hive_2010-07-22_11-20-15_027_2717837693750284928/10001&lt;br/&gt;
10/07/22 11:26:15 WARN hdfs.DFSClient: File /user/facebook/warehouse/ericm_budget_email_actua43 is beng deleted only through Trash org.apache.hadoop.fs.FsShell.delete because all deletes must go through Trash.&lt;br/&gt;
10/07/22 11:26:15 INFO hive.log: DDL: struct ericm_budget_email_actua43 &lt;/p&gt;
{ string acct_id, string first_name, string email, string campaign_name_list}
&lt;p&gt;10/07/22 11:26:15 INFO metastore.HiveMetaStore: 0: create_table: db=default tbl=ericm_budget_email_actua43&lt;br/&gt;
10/07/22 11:26:15 INFO metastore.HiveMetaStore: 0: get_table : db=default tbl=ericm_budget_email_actua43&lt;br/&gt;
10/07/22 11:26:15 INFO hooks.HookUtils: Host:cdb067.snc1.facebook.com database:audit_silver&lt;br/&gt;
10/07/22 11:26:15 INFO hooks.HookUtils: Host:cdb067.snc1.facebook.com database:lineage_silver&lt;br/&gt;
10/07/22 11:26:15 INFO hooks.HookUtils: rows inserted: 1 sql: insert into snc1_command_log set command = ?, command_type = ?, inputs = ?, outputs = ?, queryId = ?, user_info = ?&lt;br/&gt;
OK&lt;br/&gt;
10/07/22 11:26:15 INFO ql.Driver: OK&lt;br/&gt;
10/07/22 11:26:16 INFO ql.Context: getStream error: java.io.FileNotFoundException: File does not exist: hdfs://dfstmp.data.facebook.com:9000/tmp/hive-root/hive_2010-07-22_11-20-15_027_2717837693750284928/10000&lt;br/&gt;
at org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:457)&lt;br/&gt;
at org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:294)&lt;br/&gt;
at org.apache.hadoop.hive.ql.Context.getStream(Context.java:386)&lt;br/&gt;
at org.apache.hadoop.hive.ql.Driver.getResults(Driver.java:688)&lt;br/&gt;
at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:146)&lt;br/&gt;
at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:197)&lt;br/&gt;
at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:294)&lt;br/&gt;
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;/p&gt;

&lt;p&gt;Time taken: 361.26 seconds&lt;br/&gt;
10/07/22 11:26:16 INFO CliDriver: Time taken: 361.26 seconds&lt;br/&gt;
Exit code: 0, 0&lt;br/&gt;
dus: Cannot access /user/facebook/warehouse/IF: No such file or directory.&lt;br/&gt;
tablesize cmd:/mnt/vol/hive/sites/silver.trunk/hadoop/bin/hadoop dfs -dus /user/facebook/warehouse/IF | cut -d$&apos;\t&apos; -f2&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12469943">HIVE-1480</key>
            <summary>CREATE TABLE IF NOT EXISTS get incorrect table name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jul 2010 19:16:57 +0000</created>
                <updated>Tue, 5 Apr 2011 22:10:34 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42480</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123134</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1481] ngrams() UDAF for estimating top-k n-gram frequencies</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1481</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/N-gram&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;ngrams&lt;/a&gt; are fixed-length subsequences of a longer sequences. This patch will add a new ngrams() UDAF to heuristically estimate the top-k most frequent n-grams in a set of sequences.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Example&lt;/em&gt;: &lt;b&gt;top bigrams in natural language text&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Say you have a column with movie or product reviews from users expressed as natural language strings. You want to find the top 10 most frequent word pairs. First, pipe the text through the sentences() UDAF in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1438&quot; title=&quot;sentences() UDF for natural language tokenization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1438&quot;&gt;&lt;del&gt;HIVE-1438&lt;/del&gt;&lt;/a&gt;, which tokenizes natural language text into an array of sentences, where each sentence is an array of words.&lt;/p&gt;

&lt;p&gt;SELECT sentences(&quot;I hated this movie. I hated watching it and this movie made me unhappy.&quot;) FROM reviews;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;gives&lt;/em&gt;:&lt;/p&gt;

&lt;p&gt;[  &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;I&amp;quot;, &amp;quot;hated&amp;quot;, &amp;quot;this&amp;quot;, &amp;quot;movie&amp;quot;&amp;#93;&lt;/span&gt;, &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;I&amp;quot;, &amp;quot;hated&amp;quot;, &amp;quot;watching&amp;quot;, &amp;quot;it&amp;quot;, &amp;quot;and&amp;quot;, &amp;quot;this&amp;quot;, &amp;quot;movie&amp;quot;, &amp;quot;made&amp;quot;, &amp;quot;me&amp;quot;, &amp;quot;unhappy&amp;quot;&amp;#93;&lt;/span&gt; ]&lt;/p&gt;

&lt;p&gt;SELECT ngrams(sentences(&quot;I hated this movie. I hated watching it and this movie made me unhappy.&quot;), 2, 5) FROM reviews;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;gives the &lt;b&gt;5&lt;/b&gt; most frequent &lt;b&gt;2-grams&lt;/b&gt;&lt;/em&gt;:&lt;br/&gt;
[ &lt;/p&gt;
{ ngram: [&quot;I&quot;, &quot;hated&quot;] , estfrequency: 2 }
&lt;p&gt;,&lt;br/&gt;
  &lt;/p&gt;
{ ngram: [&quot;this&quot;, &quot;movie&quot;], estfrequency: 2}
&lt;p&gt;,&lt;br/&gt;
  &lt;/p&gt;
{ ngram: [&quot;hated&quot;, &quot;this&quot;], estfrequency: 1}
&lt;p&gt;,&lt;br/&gt;
  &lt;/p&gt;
{ ngram: [&quot;hated&quot;, &quot;watching&quot;], estfrequency: 1}
&lt;p&gt;,&lt;br/&gt;
  &lt;/p&gt;
{ ngram: [&quot;made&quot;, &quot;me&quot;], estfrequency: 1}
&lt;p&gt; ]&lt;/p&gt;


&lt;p&gt;Can also be used for finding common sequences of URL accesses, for example, or n-grams in any data that can be represented as sequences of strings. More examples will be put up in a separate wiki page after this UDAF is fully developed.&lt;/p&gt;

&lt;p&gt;The algorithm is a heuristic. For relatively small &quot;k&quot; values, in the range of 10-1000, the heuristic appears to perform well, with frequency counts coming within 5% of their true values, and always undercounting. Again, more results will be posted on a separate wiki page.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469955">HIVE-1481</key>
            <summary>ngrams() UDAF for estimating top-k n-gram frequencies</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mayanklahiri">Mayank Lahiri</assignee>
                                    <reporter username="mayanklahiri">Mayank Lahiri</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jul 2010 21:24:34 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:28 +0000</updated>
                            <resolved>Wed, 28 Jul 2010 20:00:30 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12892509" author="mayanklahiri" created="Mon, 26 Jul 2010 22:18:44 +0000"  >&lt;p&gt;(1) Added a new test data file with natural language English text from Project Gutenberg.&lt;br/&gt;
(2) Added ngrams() UDAF and associated test cases&lt;/p&gt;

&lt;p&gt;Will upload some experimental results showing the heuristic&apos;s performance relative to the exact estimation of n-gram frequencies.&lt;/p&gt;</comment>
                            <comment id="12892986" author="jvs" created="Tue, 27 Jul 2010 23:23:30 +0000"  >&lt;p&gt;I like the fact that now if I am ever stuck on a desert island with nothing but my laptop, I will be able to read some Metamorphosis in the Hive codebase.  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12892987" author="jvs" created="Tue, 27 Jul 2010 23:39:36 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="12892990" author="mayanklahiri" created="Tue, 27 Jul 2010 23:45:32 +0000"  >&lt;p&gt;Nice catch. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12893341" author="jvs" created="Wed, 28 Jul 2010 20:00:30 +0000"  >&lt;p&gt;Committed.  Thanks Mayank!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12450531" name="HIVE-1481.1.patch" size="61619" author="mayanklahiri" created="Mon, 26 Jul 2010 22:18:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 27 Jul 2010 23:23:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72878</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123135</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1482] Not all jdbc calls are threadsafe.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1482</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As per jdbc spec they should be threadsafe:&lt;br/&gt;
&lt;a href=&quot;http://download.oracle.com/docs/cd/E17476_01/javase/1.3/docs/guide/jdbc/spec/jdbc-spec.frame9.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://download.oracle.com/docs/cd/E17476_01/javase/1.3/docs/guide/jdbc/spec/jdbc-spec.frame9.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469991">HIVE-1482</key>
            <summary>Not all jdbc calls are threadsafe.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="bennies">Bennie Schut</assignee>
                                    <reporter username="bennies">Bennie Schut</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Jul 2010 08:40:14 +0000</created>
                <updated>Mon, 14 Feb 2011 21:02:13 +0000</updated>
                                            <version>0.7.0</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="12891522" author="bennies" created="Fri, 23 Jul 2010 08:40:33 +0000"  >&lt;p&gt;On HiveConnection we reuse the &quot;client&quot; on many calls but we&apos;ve already seen the &quot;DatabaseMetaData getMetaData()&quot; call being used in a multithreaded way.&lt;/p&gt;</comment>
                            <comment id="12895161" author="bennies" created="Wed, 4 Aug 2010 07:01:34 +0000"  >&lt;p&gt;Ok I guess the first questions would be:&lt;/p&gt;

&lt;p&gt;Do we want to go for as much concurrent work as possible or are we ok with using some synchronize on the client call&apos;s? I would say sync. is prefered over creating new connections in this case right?&lt;/p&gt;

&lt;p&gt;Do we perhaps want to solve this on the &quot;ThriftHive&quot; level since that&apos;s the part which doesn&apos;t allow the multi threaded calls or perhaps more on the &quot;HiveDatabaseMetaData&quot; since that&apos;s the part which has the requirement of multi thread safety?&lt;/p&gt;

&lt;p&gt;Any idea&apos;s are welcome on this.&lt;/p&gt;</comment>
                            <comment id="12895344" author="jvs" created="Wed, 4 Aug 2010 18:09:01 +0000"  >&lt;p&gt;Yes, synchronized is the way to go.&lt;/p&gt;

&lt;p&gt;I think the synchronization has to be at the connection level.  For example, HiveStatement also needs to make calls on the thrift interface.  It&apos;s not just DatabaseMetaData.&lt;/p&gt;

&lt;p&gt;So we should add a new data member to HiveConnection:&lt;/p&gt;

&lt;p&gt;Object connectionMutex = new Object();&lt;/p&gt;

&lt;p&gt;Then pass connectionMutex to constructors of sub-objects which need to participate in synchronization.  They can then do&lt;/p&gt;

&lt;p&gt;synchronized(connectionMutex) {&lt;br/&gt;
...&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;around their critical sections.&lt;/p&gt;

&lt;p&gt;Creating a separate object for this purpose allows us to keep control over synchronization (e.g. so it doesn&apos;t get mixed up with user-level or thrift-level synchronization code later).  We&apos;ll also need to be able to skip synchronization in the case of asynchronous cancel, but that&apos;s a separate task.&lt;/p&gt;

&lt;p&gt;We should also review to see if there is any client-side state which needs protection.&lt;/p&gt;</comment>
                            <comment id="12895997" author="bennies" created="Fri, 6 Aug 2010 09:04:48 +0000"  >&lt;p&gt;Ok I think I covered the sync stuff like you sugested.&lt;br/&gt;
For the state part I was looking at how SessionState is used within the HiveConnection.&lt;br/&gt;
There are several spots where we pass a sessionstate object (HivePreparedStatement, HiveStatement) but both places end up not actually using the object. Simplest thing would be not to pass them. But even if we do pass it I think it only contains session data and not query specific data.&lt;br/&gt;
Query specific things like column names/types etc. can be done nicely within a sync block together with the client call for the query itself so that shouldn&apos;t be a problem.&lt;/p&gt;

&lt;p&gt;I&apos;ll upload a patch with what I have soon.&lt;/p&gt;</comment>
                            <comment id="12896021" author="bennies" created="Fri, 6 Aug 2010 12:01:38 +0000"  >&lt;p&gt;Full test ran with success on my pc. Plus no additional check-style errors found.&lt;br/&gt;
Anything else we can think of for this?&lt;/p&gt;</comment>
                            <comment id="12896710" author="jvs" created="Mon, 9 Aug 2010 22:06:00 +0000"  >&lt;p&gt;After looking at the code, I&apos;m thinking we could use Java proxies to make the synchronization automatic and bulletproof.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/743288/java-synchronization-utility&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/743288/java-synchronization-utility&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Proxy the HiveInterface, and pass the proxy instance down.  That way we don&apos;t even need to pass around the connectionMutex (it will be hidden inside the proxy).&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;</comment>
                            <comment id="12896718" author="jvs" created="Mon, 9 Aug 2010 22:38:22 +0000"  >&lt;p&gt;Also, can you create a followup for adding a multithreaded test running JDBC against a thrift server?&lt;/p&gt;</comment>
                            <comment id="12896897" author="bennies" created="Tue, 10 Aug 2010 14:38:36 +0000"  >&lt;p&gt;The proxy sounds like an interesting approach. It will probably synchronize a little more then we need but it&apos;s a lot safer and the normal use case is calling the methods sequentially anyway so not much loss there.&lt;/p&gt;

&lt;p&gt;Doing a little mutithreading test is a good idea. I&apos;ve had some HIVE_PLAN exceptions in the past (different jira) which would probably also become visible then. I&apos;ll have a look.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12897742" author="bennies" created="Thu, 12 Aug 2010 13:31:26 +0000"  >&lt;p&gt;I&apos;ve tried but this is actually surprisingly difficult to reproduce failure in a test on TestJdbcDriver. Perhaps there is something synchronized about the use of the embedded mode the test is running in?&lt;/p&gt;</comment>
                            <comment id="12897892" author="jvs" created="Thu, 12 Aug 2010 18:46:58 +0000"  >&lt;p&gt;Yeah, the problems may only show up with remoting (which is why I mentioned having the test run against a thrift server instead of embedded).&lt;/p&gt;</comment>
                            <comment id="12902320" author="bennies" created="Wed, 25 Aug 2010 06:36:25 +0000"  >&lt;p&gt;Still need to reproduce the problem in a test. So this is just to show some progress. It&apos;s now using generics with a SynchronizedFactory. &lt;/p&gt;</comment>
                            <comment id="12978943" author="jvs" created="Fri, 7 Jan 2011 20:15:36 +0000"  >&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1899&quot; title=&quot;add a factory method for creating a synchronized wrapper for IMetaStoreClient&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1899&quot;&gt;&lt;del&gt;HIVE-1899&lt;/del&gt;&lt;/a&gt;, I added a special-case sync proxy, but it would be better to use the generic version Bennie has here.  If someone works on this one more, maybe update HiveMetaStoreClient.newSynchronizedClient as well.  (But note that my special-case needs a global lock, not a per-object lock.)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12451419" name="HIVE-1482-1.patch" size="10082" author="bennies" created="Fri, 6 Aug 2010 12:01:38 +0000"/>
                            <attachment id="12453014" name="HIVE-1482-2.patch" size="10723" author="bennies" created="Wed, 25 Aug 2010 06:36:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Aug 2010 18:09:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42479</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 3 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123136</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1483] Update AWS S3 log format deserializer regex</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1483</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;From &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-693&quot; title=&quot;Add a AWS S3 log format deserializer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-693&quot;&gt;&lt;del&gt;HIVE-693&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;Amazon Changed the format of the logs at the beginning of February 2010, so now the new regex is:&lt;br/&gt;
static Pattern regexpat = Pattern.compile( &quot;(&lt;br/&gt;
S+) (&lt;br/&gt;
S+) &lt;br class=&quot;atl-forced-newline&quot; /&gt;[(.?)&lt;br/&gt;
] (&lt;br/&gt;
S+) (&lt;br/&gt;
S+) (&lt;br/&gt;
S+) (&lt;br/&gt;
S+) (&lt;br/&gt;
S+) \&quot;(.)\&quot; (&lt;br/&gt;
S) (&lt;br/&gt;
S+) (&lt;br/&gt;
S+) (&lt;br/&gt;
S+) (&lt;br/&gt;
S+) (&lt;br/&gt;
S+) \&quot;(.)\&quot; \&quot;(.*)\&quot;(?: -)?&quot;);&lt;/p&gt;

&lt;p&gt;(the only difference is addition of (?: -)? at the end.&lt;/p&gt;

&lt;p&gt;Since Amazon hasn&apos;t yet documented the last field, I don&apos;t know if it is ok to do a catch-all regex for that field instead of the very specific one I&apos;ve added.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470033">HIVE-1483</key>
            <summary>Update AWS S3 log format deserializer regex</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 23 Jul 2010 18:30:25 +0000</created>
                <updated>Fri, 23 Jul 2010 18:30:25 +0000</updated>
                                            <version>0.5.0</version>
                    <version>0.6.0</version>
                    <version>0.7.0</version>
                                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42478</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123137</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1484] use local file system for intermediate data when automatically inferring local mode</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1484</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;followup to Hive-1408: when inferring local mode for an entire query - Hive can use local directory for all intermediate data.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470109">HIVE-1484</key>
            <summary>use local file system for intermediate data when automatically inferring local mode</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Sun, 25 Jul 2010 15:45:03 +0000</created>
                <updated>Wed, 23 Oct 2013 03:12:49 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12648748">HIVE-4585</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12466951">HIVE-1408</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42477</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08p73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48681</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1485] use number of splits to determine local mode</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1485</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;when determining local mode automatically - Hive looks at the number of files in the map-reduce jobs. instead it should look at the number of splits. this will make it possible to process small files in local mode as well (as well as apply to any future indexing work that generates a list of small splits)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470110">HIVE-1485</key>
            <summary>use number of splits to determine local mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Sun, 25 Jul 2010 15:47:53 +0000</created>
                <updated>Thu, 2 May 2013 02:29:30 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12466951">HIVE-1408</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42476</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123138</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1486] optimize estimation of number of reducers and local mode</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1486</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive uses file system metadata to estimate number of reducers and to determine if jobs can be executed locally. This currently looks up file system metadata about each path serially and can take a long time in case number of files is very high.&lt;/p&gt;

&lt;p&gt;instead we can lookup part of the input space and try to approximate the size etc. summaries&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470111">HIVE-1486</key>
            <summary>optimize estimation of number of reducers and local mode</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Sun, 25 Jul 2010 15:55:11 +0000</created>
                <updated>Fri, 30 Jun 2017 20:35:26 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13083917">HIVE-17004</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42475</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08nc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48380</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1487] parallelize test query runs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1487</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1464&quot; title=&quot;improve test query performance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1464&quot;&gt;&lt;del&gt;HIVE-1464&lt;/del&gt;&lt;/a&gt; speeded up serial runs somewhat - but looks like it&apos;s still too slow. we should use parallel junit or some similar setup to run test queries in parallel. this should be really easy as well need to just use a separate warehouse/metadb and potentiall mapred system dir location.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470112">HIVE-1487</key>
            <summary>parallelize test query runs</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mareksapota_fb">Marek Sapota</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Sun, 25 Jul 2010 16:08:44 +0000</created>
                <updated>Mon, 30 Apr 2012 21:11:13 +0000</updated>
                            <resolved>Sat, 10 Dec 2011 00:13:02 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12902958" author="jsensarma" created="Thu, 26 Aug 2010 18:05:28 +0000"  >&lt;p&gt;can people with experience running java tests in parallel comment on this? So far these seem the choices:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;upgrade to junit4 and use custom runner that runs in parallel. the downside here is that junit does not seem to come with this parallel runner (but there&apos;s additional code on the web from the junit authors that does the same)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;use parallel-junit. this seems the least disruptive - but this seems like an old/dead project&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;use TestNG - this is a replacement for junit that has inbuilt parallel execution support. but we would not be using junit anymore at all.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;any other thoughts on better test setup welcome as well.&lt;/p&gt;</comment>
                            <comment id="12902967" author="jvs" created="Thu, 26 Aug 2010 18:27:47 +0000"  >&lt;p&gt;Zheng has a private ptest shell script which takes a different approach:  it enumerates all of the .q files, partitions them modulo the degree of parallelism, and then executes them in separate environments as separate processes.  One advantage is that there&apos;s no cross-talk from threading (although in the long run testing with multithreading for independent tests would be good for coverage).&lt;/p&gt;

&lt;p&gt;I&apos;ll send you a pointer.&lt;/p&gt;</comment>
                            <comment id="12902977" author="jsensarma" created="Thu, 26 Aug 2010 18:46:17 +0000"  >&lt;p&gt;yeah - that would be my gut feel too (just ditch junit)&lt;/p&gt;

&lt;p&gt;however - we are going to lose the junit style test outputs etc. long time back Ashish did all the velocity stuff to have junit tests. i don&apos;t remember the exact thinking at that time - but a majority of people wanted to use junit.&lt;/p&gt;

&lt;p&gt;threading would actually be good though .. (we have a separate multithreaded test right now that we could happily obsolete)&lt;/p&gt;</comment>
                            <comment id="13163095" author="phabricator@reviews.facebook.net" created="Mon, 5 Dec 2011 22:08:39 +0000"  >&lt;p&gt;mareksapotafb requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; parallelize test query runs&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Add ptest script&lt;/p&gt;

&lt;p&gt;  &amp;lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1464&quot; title=&quot;improve test query performance&quot;&amp;gt;&amp;lt;del&amp;gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1464&quot; title=&quot;improve test query performance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1464&quot;&gt;&lt;del&gt;HIVE-1464&lt;/del&gt;&lt;/a&gt;&amp;lt;/del&amp;gt;&amp;lt;/a&amp;gt; speeded up serial runs somewhat - but looks like it&apos;s still too slow. we should use parallel junit or some similar setup to run test queries in parallel. this should be really easy as well need to just use a separate warehouse/metadb and potentiall mapred system dir location.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D603&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D603&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  testutils/ptest/Buffer.py&lt;br/&gt;
  testutils/ptest/Process.py&lt;br/&gt;
  testutils/ptest/README&lt;br/&gt;
  testutils/ptest/Report.py&lt;br/&gt;
  testutils/ptest/Ssh.py&lt;br/&gt;
  testutils/ptest/config.py&lt;br/&gt;
  testutils/ptest/hivetest.py&lt;br/&gt;
  testutils/ptest/templates/Properties.html&lt;br/&gt;
  testutils/ptest/templates/TestCase.html&lt;br/&gt;
  testutils/ptest/templates/TestRun.html&lt;br/&gt;
  testutils/ptest/templates/TestSuite.html&lt;br/&gt;
  testutils/ptest/templates/common.css&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1335/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1335/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13163096" author="phabricator@reviews.facebook.net" created="Mon, 5 Dec 2011 22:08:41 +0000"  >&lt;p&gt;mareksapotafb has added reviewers to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; parallelize test query runs&quot;.&lt;br/&gt;
Added Reviewers: jsichi&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D603&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D603&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13163972" author="phabricator@reviews.facebook.net" created="Tue, 6 Dec 2011 23:34:40 +0000"  >&lt;p&gt;jsichi has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; parallelize test query runs&quot;.&lt;/p&gt;

&lt;p&gt;  We can commit this once we get to the bottom of minimr failures.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  testutils/ptest/README:48 Typo:  loose -&amp;gt; lose&lt;br/&gt;
  testutils/ptest/Ssh.py:21 Let&apos;s expunge this comment.&lt;br/&gt;
  testutils/ptest/config.py:83 Typo:  faled -&amp;gt; failed&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D603&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D603&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13164031" author="phabricator@reviews.facebook.net" created="Wed, 7 Dec 2011 01:16:39 +0000"  >&lt;p&gt;mareksapotafb updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add ptest script&quot;.&lt;br/&gt;
Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;  It should, I made a mistake manually writing a commit message.  It should get fixed after this diff.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D603&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D603&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  testutils/ptest/Buffer.py&lt;br/&gt;
  testutils/ptest/Process.py&lt;br/&gt;
  testutils/ptest/README&lt;br/&gt;
  testutils/ptest/Report.py&lt;br/&gt;
  testutils/ptest/Ssh.py&lt;br/&gt;
  testutils/ptest/config.py&lt;br/&gt;
  testutils/ptest/hivetest.py&lt;br/&gt;
  testutils/ptest/templates/Properties.html&lt;br/&gt;
  testutils/ptest/templates/TestCase.html&lt;br/&gt;
  testutils/ptest/templates/TestRun.html&lt;br/&gt;
  testutils/ptest/templates/TestSuite.html&lt;br/&gt;
  testutils/ptest/templates/common.css&lt;/p&gt;</comment>
                            <comment id="13166286" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 16:25:39 +0000"  >&lt;p&gt;mareksapotafb updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add ptest script&quot;.&lt;br/&gt;
Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;  This should fix the Minimr issues.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D603&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D603&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  testutils/ptest/Buffer.py&lt;br/&gt;
  testutils/ptest/Process.py&lt;br/&gt;
  testutils/ptest/README&lt;br/&gt;
  testutils/ptest/Report.py&lt;br/&gt;
  testutils/ptest/Ssh.py&lt;br/&gt;
  testutils/ptest/config.py&lt;br/&gt;
  testutils/ptest/hivetest.py&lt;br/&gt;
  testutils/ptest/templates/Properties.html&lt;br/&gt;
  testutils/ptest/templates/TestCase.html&lt;br/&gt;
  testutils/ptest/templates/TestRun.html&lt;br/&gt;
  testutils/ptest/templates/TestSuite.html&lt;br/&gt;
  testutils/ptest/templates/common.css&lt;/p&gt;</comment>
                            <comment id="13166434" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 18:48:39 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add ptest script&quot;.&lt;/p&gt;

&lt;p&gt;  Do you have this deployed somewhere I can test it?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D603&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D603&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13166523" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 20:16:39 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add ptest script&quot;.&lt;/p&gt;

&lt;p&gt;  Just use instructions from the wiki, the instance set up in my home directory uses this patch.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D603&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D603&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13166628" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 22:34:41 +0000"  >&lt;p&gt;jsichi has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add ptest script&quot;.&lt;/p&gt;

&lt;p&gt;  +1, committing now.  Can you grant rights to ASF?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D603&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D603&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13166696" author="jvs" created="Sat, 10 Dec 2011 00:13:02 +0000"  >&lt;p&gt;Committed to trunk.  Thanks Marek!&lt;/p&gt;</comment>
                            <comment id="13166697" author="jvs" created="Sat, 10 Dec 2011 00:14:00 +0000"  >&lt;p&gt;Also thanks Zheng for the original ptest script, and Charles Chen for hacking up an intermediate version &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13166706" author="phabricator@reviews.facebook.net" created="Sat, 10 Dec 2011 00:22:39 +0000"  >&lt;p&gt;mareksapotafb has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add ptest script&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D603&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D603&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1212697&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1212697&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13166836" author="hudson" created="Sat, 10 Dec 2011 11:41:39 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #13 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/13/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/13/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add ptest script&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1464&quot; title=&quot;improve test query performance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1464&quot;&gt;&lt;del&gt;HIVE-1464&lt;/del&gt;&lt;/a&gt; speeded up serial runs somewhat - but looks like it&apos;s still&lt;br/&gt;
too slow. we should use parallel junit or some similar setup to run test queries&lt;br/&gt;
in parallel. this should be really easy as well need to just use a separate&lt;br/&gt;
warehouse/metadb and potentiall mapred system dir location.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 603&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212697&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212697&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Buffer.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Process.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/README&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Report.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Ssh.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/config.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/Properties.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/TestCase.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/TestRun.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/TestSuite.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/common.css&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13166878" author="hudson" created="Sat, 10 Dec 2011 15:05:06 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1137 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1137/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1137/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add ptest script&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1464&quot; title=&quot;improve test query performance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1464&quot;&gt;&lt;del&gt;HIVE-1464&lt;/del&gt;&lt;/a&gt; speeded up serial runs somewhat - but looks like it&apos;s still&lt;br/&gt;
too slow. we should use parallel junit or some similar setup to run test queries&lt;br/&gt;
in parallel. this should be really easy as well need to just use a separate&lt;br/&gt;
warehouse/metadb and potentiall mapred system dir location.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 603&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212697&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212697&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Buffer.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Process.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/README&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Report.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Ssh.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/config.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/Properties.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/TestCase.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/TestRun.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/TestSuite.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/common.css&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13167864" author="hudson" created="Mon, 12 Dec 2011 22:17:42 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #17 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/17/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/17/&lt;/a&gt;)&lt;br/&gt;
    Fix executable permissions left out of commit for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213433&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213433&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Report.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13168059" author="hudson" created="Tue, 13 Dec 2011 02:01:59 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1141 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1141/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1141/&lt;/a&gt;)&lt;br/&gt;
    Fix executable permissions left out of commit for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213433&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1213433&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Report.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13170491" author="jvs" created="Thu, 15 Dec 2011 21:14:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Unit+Test+Parallel+Execution&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Unit+Test+Parallel+Execution&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13170497" author="ashutoshc" created="Thu, 15 Dec 2011 21:22:15 +0000"  >&lt;p&gt;Awesome work! Thanks, Marek and everyone else involved for making life better for us : )&lt;/p&gt;</comment>
                            <comment id="13265227" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:13 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12506175" name="ASF.LICENSE.NOT.GRANTED--HIVE-1487.D603.1.patch" size="47572" author="phabricator@reviews.facebook.net" created="Mon, 5 Dec 2011 22:08:40 +0000"/>
                            <attachment id="12506364" name="ASF.LICENSE.NOT.GRANTED--HIVE-1487.D603.3.patch" size="47493" author="phabricator@reviews.facebook.net" created="Wed, 7 Dec 2011 01:16:40 +0000"/>
                            <attachment id="12506748" name="ASF.LICENSE.NOT.GRANTED--HIVE-1487.D603.4.patch" size="48164" author="phabricator@reviews.facebook.net" created="Fri, 9 Dec 2011 16:25:40 +0000"/>
                            <attachment id="12506806" name="HIVE-1487.D603.4.patch" size="48164" author="mareksapota_fb" created="Fri, 9 Dec 2011 22:46:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Aug 2010 18:27:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42474</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfdb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123140</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1488] CombineHiveInputFormat for hadoop-19 is broken</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1488</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I don&apos;t if anyone is using it. After making some recent testing related changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1408&quot; title=&quot;add option to let hive automatically run in local mode based on tunable heuristics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1408&quot;&gt;&lt;del&gt;HIVE-1408&lt;/del&gt;&lt;/a&gt;, combine&lt;span class=&quot;error&quot;&gt;&amp;#91;12&amp;#93;&lt;/span&gt;.q are no longer working when testing against 19. I have seen them fail earlier as well and not investigated. Looking at the code, it seems pretty hokey:&lt;/p&gt;

&lt;p&gt;getInputPathsShim():&lt;/p&gt;

&lt;p&gt;      Path[] newPaths = new Path&lt;span class=&quot;error&quot;&gt;&amp;#91;paths.length&amp;#93;&lt;/span&gt;;&lt;br/&gt;
      // remove file:                                                                                                                                          &lt;br/&gt;
      for (int pos = 0; pos &amp;lt; paths.length; pos++) &lt;/p&gt;
{
        newPaths[pos] = new Path(paths[pos].toString().substring(5));
      }

&lt;p&gt;since we are no longer using &apos;file:&apos; namespace for test warehouse, this is broke. But this would be broken against any hdfs instance it would seem&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. Also not clear what we are trying to do here.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470174">HIVE-1488</key>
            <summary>CombineHiveInputFormat for hadoop-19 is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Jul 2010 16:19:47 +0000</created>
                <updated>Mon, 6 Dec 2010 19:47:43 +0000</updated>
                            <resolved>Mon, 6 Dec 2010 19:47:43 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12892388" author="nzhang" created="Mon, 26 Jul 2010 17:48:55 +0000"  >&lt;p&gt;It should be removed. The corresponding code in shims 0.20 was removed by fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1317&quot; title=&quot;CombineHiveInputFormat throws exception when partition name contains special characters to URI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1317&quot;&gt;&lt;del&gt;HIVE-1317&lt;/del&gt;&lt;/a&gt;, but we didn&apos;t realized the same code was in 0.19. &lt;/p&gt;</comment>
                            <comment id="12892411" author="nzhang" created="Mon, 26 Jul 2010 18:46:45 +0000"  >&lt;p&gt;Tried to simply remove the code from Hadoop19Shims.java and it still gives diffs in combine2.q. CombineHiveInputFormat in hadoop 19 extends MultiFileInputFormat while it extends CombineFileInputFormat in hadoop 20. So there may be some differences in 19. Will look into it in more details. &lt;/p&gt;</comment>
                            <comment id="12892426" author="nzhang" created="Mon, 26 Jul 2010 19:29:34 +0000"  >&lt;p&gt;MultiFileInputFormat in Hadoop 0.19 was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1121&quot; title=&quot;CombinedHiveInputFormat for hadoop 19&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1121&quot;&gt;&lt;del&gt;HIVE-1121&lt;/del&gt;&lt;/a&gt; to implement CombineFileInputFormat-like functionality in Hadoop pre-20 version.  However, MultiFileInputFormat actually does not support pooling (creating different splits for files in different directories). So it is impossible to use CombineHiveInputFormat to query multiple partitions (each partition has to be in a different pool in the case of CombineFileInputFormat). &lt;/p&gt;

&lt;p&gt;Due to this limitation and there is no easy way to fix this in Hive, I think we should disable CombineHiveInputFormat in pre-0.20 in strict mode and give a warning to users in nonstrict mode. &lt;/p&gt;

&lt;p&gt;For unit testing, we can exclude combine2.q (which test CombineHiveInputFormat across partitions) from Hadoop 0.19.&lt;/p&gt;

&lt;p&gt;Any thoughts?&lt;/p&gt;</comment>
                            <comment id="12892467" author="jsensarma" created="Mon, 26 Jul 2010 21:13:36 +0000"  >&lt;p&gt;all for getting rid of stuff.&lt;/p&gt;

&lt;p&gt;however  my understanding of the background is a little different. multifileinputformat can combine stuff inside a single dir - but does not do so based on locality. that was the biggest difference between CFIF and MFIF. Also - hive doesn&apos;t combine stuff across partitions (at least that has been my observation - would be happy to be corrected). so not sure that difference matters.&lt;/p&gt;

&lt;p&gt;but given that no one uses it and the stuff is so obviously broke - i don&apos;t understand what the point of spending time on dead code is. so +1 for deprecating/removing this. (hadoop-19 was also not a particularly popular release - neither FB or Yahoo used it).&lt;/p&gt;</comment>
                            <comment id="12892587" author="nzhang" created="Tue, 27 Jul 2010 01:07:35 +0000"  >&lt;p&gt;Both MultiFileInputFormat and CombineFileInputFormat (on which CombineHiveInputFormat is based) can combine multiple files into one split. In addition to the differences in locality, CFIF also provide the interface to define pools and implement filters so that you can define which files should be/should not be combined into one split. In CHIF, the logics of putting multiple files in one directory (but not in different directories) in one split is implemented in CombineHiveInputFormat.CombineFilter.&lt;/p&gt;

&lt;p&gt;It seems the MFIF support in hadoop 0.19 was added based on some external use cases in the hive-user mailing list (&lt;a href=&quot;http://osdir.com/ml/hive-user-hadoop-apache/2010-02/msg00007.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://osdir.com/ml/hive-user-hadoop-apache/2010-02/msg00007.html&lt;/a&gt;). I&apos;m not sure whether anyone is still actively using it though. &lt;/p&gt;</comment>
                            <comment id="12968382" author="nzhang" created="Mon, 6 Dec 2010 19:47:43 +0000"  >&lt;p&gt;Hive 0.7 now only support hadoop 0.20.0+. So no need to fix this JIRA on trunk anymore.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 26 Jul 2010 17:48:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72877</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 8 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1489] TestCliDriver -Doverwrite=true does not put the file in the correct directory</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1489</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When adding a new file in clientpositive with -Doverwrite=true, the output file was in ql/ rather than ql/src/test/results/clientpositive. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12470220">HIVE-1489</key>
            <summary>TestCliDriver -Doverwrite=true does not put the file in the correct directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Jul 2010 00:48:54 +0000</created>
                <updated>Sat, 17 Dec 2011 00:00:48 +0000</updated>
                            <resolved>Tue, 27 Jul 2010 07:20:47 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12892603" author="pauly" created="Tue, 27 Jul 2010 01:34:49 +0000"  >&lt;p&gt;Works as advertised. +1&lt;/p&gt;</comment>
                            <comment id="12892648" author="jvs" created="Tue, 27 Jul 2010 05:01:21 +0000"  >&lt;p&gt;I&apos;ll commit it.&lt;/p&gt;</comment>
                            <comment id="12892678" author="jvs" created="Tue, 27 Jul 2010 07:20:46 +0000"  >&lt;p&gt;Committed.  Thanks Ning!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12450542" name="HIVE-1489.patch" size="1147" author="nzhang" created="Tue, 27 Jul 2010 00:50:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 27 Jul 2010 01:34:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72876</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123142</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1490] More implicit type conversion: UNION ALL and COALESCE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1490</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is a usecase that frequently annoys me:&lt;/p&gt;

&lt;p&gt;SELECT TRANSFORM(stuff)&lt;br/&gt;
USING &apos;script&apos;&lt;br/&gt;
AS thing1, thing2&lt;br/&gt;
FROM some_table&lt;/p&gt;

&lt;p&gt;UNION ALL&lt;/p&gt;

&lt;p&gt;SELECT a.thing1, a.thing2&lt;br/&gt;
FROM some_other_table a&lt;/p&gt;

&lt;p&gt;...this fails when a.thing1 and a.thing2 are anything but STRING, because all output of TRANSFORM is STRING.&lt;/p&gt;

&lt;p&gt;In this case, a.thing1 and a.thing2 should be implicitly converted to string.&lt;/p&gt;

&lt;p&gt;COALESCE(a.thing1, a.thing2, a.thing3) should similarly do implicit type conversion among the arguments. If two are INT and one is BIGINT, upgrade the INTs, etc.&lt;/p&gt;

&lt;p&gt;At the very least, it would be nice to have syntax like&lt;/p&gt;

&lt;p&gt;SELECT TRANSFORM(stuff)&lt;br/&gt;
USING &apos;script&apos;&lt;br/&gt;
AS thing1 INT, thing2 INT&lt;/p&gt;

&lt;p&gt;...which would effectively cast the output column to the specified type. But really, type conversion should work.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470292">HIVE-1490</key>
            <summary>More implicit type conversion: UNION ALL and COALESCE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="salbiz">Syed S. Albiz</assignee>
                                    <reporter username="akramer">Adam Kramer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Jul 2010 20:34:36 +0000</created>
                <updated>Tue, 26 Jul 2011 23:54:48 +0000</updated>
                            <resolved>Tue, 26 Jul 2011 23:54:48 +0000</resolved>
                                                                    <component>Query Processor</component>
                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12991710" author="akramer" created="Mon, 7 Feb 2011 23:31:17 +0000"  >&lt;p&gt;Based on &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/HiveQL/Types#Implicit_and_Explicit_Type_Conversions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/HiveQL/Types#Implicit_and_Explicit_Type_Conversions&lt;/a&gt; this appears to actually be a bug rather than an improvement.&lt;/p&gt;</comment>
                            <comment id="13001903" author="akramer" created="Thu, 3 Mar 2011 07:51:51 +0000"  >&lt;p&gt;Also present in CASE statements:&lt;/p&gt;

&lt;p&gt;FAILED: Error in semantic analysis: line 37:57 Argument Type Mismatch &apos;$.foo&apos;: The expressions after THEN should have the same type: &quot;int&quot; is expected but &quot;string&quot; is found&lt;/p&gt;</comment>
                            <comment id="13071402" author="salbiz" created="Tue, 26 Jul 2011 22:44:04 +0000"  >&lt;p&gt;Fixed as part of JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-872&quot; title=&quot;Allow type widening on COALESCE/UNION ALL&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-872&quot;&gt;&lt;del&gt;HIVE-872&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12515345">HIVE-2305</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Jul 2011 22:44:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66852</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123143</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1491] fix or disable loadpart_err.q</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1491</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This test fails sporadically due to a race condition, which is annoying since it hinders pre-commit testing of patches.  I&apos;m going to disable it unless someone has a fix.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470293">HIVE-1491</key>
            <summary>fix or disable loadpart_err.q</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Jul 2010 20:53:33 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:42 +0000</updated>
                            <resolved>Fri, 30 Jul 2010 18:19:00 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12892923" author="jvs" created="Tue, 27 Jul 2010 20:54:12 +0000"  >&lt;p&gt; /data/users/jsichi/open/commit-trunk/ql/src/test/results/clientpositive/loadpart1.q.out                     &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Done query: loadpart1.q                                                                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Begin query: loadpart_err.q                                                                      &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; java.io.IOException: Broken pipe                                                                 &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.io.FileOutputStream.writeBytes(Native Method)                                        &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.io.FileOutputStream.write(FileOutputStream.java:260)                                 &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)                    &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)                         &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:124)                         &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.io.DataOutputStream.flush(DataOutputStream.java:106)                                 &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.TextRecordWriter.close(TextRecordWriter.java:48)           &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ScriptOperator.close(ScriptOperator.java:364)              &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:550)                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:550)                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:550)                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:225)                      &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:57)                                 &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:356)                           &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:305)                                    &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:176)                  &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; org.apache.hadoop.hive.ql.metadata.HiveException: Hit error while closing ..                     &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ScriptOperator.close(ScriptOperator.java:451)              &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:550)                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:550)                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:550)                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:225)                      &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:57)                                 &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:356)                           &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:305)                                    &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:176)                  &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; org.apache.hadoop.hive.ql.metadata.HiveException: Hit error while closing ..                     &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ScriptOperator.close(ScriptOperator.java:451)              &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:550)                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:550)                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:550)                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:225)                      &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:57)                                 &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:356)                           &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:305)                                    &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:176)                  &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; org.apache.hadoop.hive.ql.metadata.HiveException: Hit error while closing ..                     &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ScriptOperator.close(ScriptOperator.java:451)              &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:550)                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:550)                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:550)                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:225)                      &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:57)                                 &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:356)                           &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:305)                                    &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:176)                  &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Ended Job = job_local_0001 with errors                                                           &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; java.lang.NullPointerException                                                                   &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_loadpart_err(TestCliDriver.java:12\&lt;br/&gt;
583)                                                                                                         &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)                               &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)             &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)     &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.lang.reflect.Method.invoke(Method.java:597)                                          &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestCase.runTest(TestCase.java:154)                                       &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestCase.runBare(TestCase.java:127)                                       &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at junit.framework.TestResult$1.protect(TestResult.java:106)                                 &lt;/p&gt;</comment>
                            <comment id="12893909" author="he yongqiang" created="Fri, 30 Jul 2010 02:01:10 +0000"  >&lt;p&gt;+1. Running test now.&lt;/p&gt;</comment>
                            <comment id="12894094" author="he yongqiang" created="Fri, 30 Jul 2010 18:19:00 +0000"  >&lt;p&gt;Committed. Thanks John!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12450879" name="HIVE-1491.patch" size="591" author="jvs" created="Fri, 30 Jul 2010 01:37:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 30 Jul 2010 02:01:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72875</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfe7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123144</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
