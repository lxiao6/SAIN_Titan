<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:15:06 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2010-1-19+AND+created+%3C%3D+2010-1-26+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="34" total="34"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1066] TestContribCliDriver failure in serde_typedbytes.q, serde_typedbytes2.q, and serde_typedbytes3.q</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1066</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This will reproduce the problem:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant test -Dqfile=serde_typedbytes.q -Dtestcase=TestContribCliDriver
ant test -Dqfile=serde_typedbytes2.q -Dtestcase=TestContribCliDriver
ant test -Dqfile=serde_typedbytes3.q -Dtestcase=TestContribCliDriver
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12445881">HIVE-1066</key>
            <summary>TestContribCliDriver failure in serde_typedbytes.q, serde_typedbytes2.q, and serde_typedbytes3.q</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Jan 2010 02:46:29 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:31 +0000</updated>
                            <resolved>Tue, 19 Jan 2010 06:29:20 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12802111" author="namit" created="Tue, 19 Jan 2010 06:29:20 +0000"  >&lt;p&gt;Committed. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12430689" name="HIVE-1066.1.patch" size="12281" author="zshao" created="Tue, 19 Jan 2010 02:52:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Jan 2010 06:29:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ld8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122795</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1067] CREATE VIEW followup:  impose casts on view result columns if underlying column types change</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1067</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Consider&lt;/p&gt;

&lt;p&gt;CREATE TABLE t(i INT);&lt;br/&gt;
CREATE VIEW v AS SELECT i FROM t;&lt;br/&gt;
ALTER TABLE t REPLACE COLUMNS (i STRING);&lt;br/&gt;
SELECT i FROM v;&lt;/p&gt;

&lt;p&gt;What will be the result type for i in the final SELECT?&lt;/p&gt;

&lt;p&gt;Consensus at code review was that it should be INT (not STRING) since the CREATE VIEW is supposed to freeze the metadata for the view&apos;s result schema.  Note that SQL:2008 ALTER COLUMN SET DATA TYPE doesn&apos;t cover this case, because it doesn&apos;t support changing the datatype family.  For this case, MySQL produces VARCHAR rather than INT, and (consistently) DESCRIBE v and INFORMATION_SCHEMA show VARCHAR as well, so either they are propagating the type change in the catalog, or dynamically re-deriving it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446137">HIVE-1067</key>
            <summary>CREATE VIEW followup:  impose casts on view result columns if underlying column types change</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 21:41:35 +0000</created>
                <updated>Wed, 16 Jun 2010 01:59:39 +0000</updated>
                                            <version>0.6.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12803006" author="jvs" created="Wed, 20 Jan 2010 21:45:43 +0000"  >&lt;p&gt;Assuming we want to go ahead with what was decided at the code review, I&apos;ll need to detect the type difference when the view is expanded in a referencing select, and insert cast operators accordingly.  This could be a bit of work (and implies that data conversion errors could be introduced at runtime by the casts).&lt;/p&gt;

&lt;p&gt;Alternately, we could leave it as is to get the MySQL behavior, except that we would need to do something to make DESCRIBE consistent (this might best be done as part of support for view dependency tracking).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12442500">HIVE-972</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42632</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08nun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48463</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1068] CREATE VIEW followup:  add a &quot;table type&quot; enum attribute in metastore&apos;s MTable, and also null out irrelevant attributes for MTable instances which describe views</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1068</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Zheng&apos;s description:&lt;/p&gt;

&lt;p&gt;5. TODO: Metadata change: We store &quot;view&quot; definitions in the same metadata table that we store &quot;table&quot; definitions.&lt;br/&gt;
Shall we add a field &quot;table type&quot; so we know whether it&apos;s a table, external table, view, or materialized view in the future.&lt;br/&gt;
We should clean up the additional useless fields in &quot;view&quot; - the test output shows that we are storing some garbage information for views.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446139">HIVE-1068</key>
            <summary>CREATE VIEW followup:  add a &quot;table type&quot; enum attribute in metastore&apos;s MTable, and also null out irrelevant attributes for MTable instances which describe views</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 21:52:14 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:49 +0000</updated>
                            <resolved>Mon, 1 Feb 2010 19:34:53 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12805680" author="jvs" created="Wed, 27 Jan 2010 22:47:00 +0000"  >&lt;p&gt;I found out that the old version of thrift we are using does not support generation of native Java5 enums.  Instead, it generates an obsolete type-unsafe enum pattern which will go away when we eventually upgrade thrift.&lt;/p&gt;

&lt;p&gt;So, I&apos;m thinking of just using a String in both thrift and JDO for the table type attribute, and then adding a native Java5 enum to wrap it on levels above thrift.&lt;/p&gt;

&lt;p&gt;This attribute will be null in the persistence for existing metastore instances after upgrade, but I can infer the table type from other attributes (for external tables, we have a EXTERNAL=TRUE property set) and replace the null as part of retrieving the object definition.&lt;/p&gt;</comment>
                            <comment id="12806082" author="jvs" created="Thu, 28 Jan 2010 20:42:28 +0000"  >&lt;p&gt;Notes for reviewers:&lt;/p&gt;

&lt;p&gt;(1)&lt;/p&gt;

&lt;p&gt;I introduced the new TableType enum in package o.a.h.h.metastore.  I didn&apos;t put it in metastore.api since it is not a generated file, and I didn&apos;t put it in metastore.model since that isn&apos;t accessed by most of Hive.  If there&apos;s a better place to put it, please let me know.&lt;/p&gt;

&lt;p&gt;For the enum values, I used MANAGED_TABLE, EXTERNAL_TABLE, and VIRTUAL_VIEW.  This is so that later if we add MATERIALIZED_VIEW, there won&apos;t be any confusion.  If we eventually use this for implementing the TABLE_TYPE attribute in the ResultSet for JDBC&apos;s getTables, we can use a CASE expression to fold these into simpler names (e.g. JDBC uses &quot;TABLE&quot; and &quot;VIEW&quot;).&lt;/p&gt;

&lt;p&gt;(2)&lt;/p&gt;

&lt;p&gt;I tried making the SerDe itself null, but that caused problems in too many places that were requiring it to be non-null.  So instead I nulled/emptied all of its attributes.&lt;/p&gt;</comment>
                            <comment id="12806119" author="jvs" created="Thu, 28 Jan 2010 21:52:44 +0000"  >&lt;p&gt;See the updated output for create_view.q.out for an example of what we&apos;ll be storing in the view descriptor after this change.&lt;/p&gt;</comment>
                            <comment id="12806154" author="jvs" created="Thu, 28 Jan 2010 23:42:01 +0000"  >&lt;p&gt;I have written up metastore upgrade instructions here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/ViewDev#Metastore_Upgrades&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/ViewDev#Metastore_Upgrades&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12806243" author="zshao" created="Fri, 29 Jan 2010 06:00:11 +0000"  >&lt;p&gt;The meaning of isNativeSerDe(String) changed. Can we rename it to &quot;shouldGetColsFromSerDe&quot; (and invert the condition)?&lt;/p&gt;</comment>
                            <comment id="12806474" author="jvs" created="Fri, 29 Jan 2010 20:03:06 +0000"  >&lt;p&gt;.2 patch addresses Zheng&apos;s comment and resolves a conflict with trunk.&lt;/p&gt;</comment>
                            <comment id="12828236" author="zshao" created="Mon, 1 Feb 2010 19:34:53 +0000"  >&lt;p&gt;Committed. Thanks John!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12442500">HIVE-972</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12431695" name="HIVE-1068.1.patch" size="78879" author="jvs" created="Thu, 28 Jan 2010 20:42:28 +0000"/>
                            <attachment id="12431809" name="HIVE-1068.2.patch" size="80663" author="jvs" created="Fri, 29 Jan 2010 20:03:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Jan 2010 06:00:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73123</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ld8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122796</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1069] CREATE VIEW followup:  find and document current expected version of thrift, and regenerate code to match</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1069</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-972&quot; title=&quot;Support views&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-972&quot;&gt;&lt;del&gt;HIVE-972&lt;/del&gt;&lt;/a&gt;, I used a slightly different version of thrift from the last one used.  This task involves finding the correct version (from Raghu or Ning), adding info about it to the Hive developer wiki page, and regenerating thrift files to match.  As part of this, also test view support with remote metastore.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446140">HIVE-1069</key>
            <summary>CREATE VIEW followup:  find and document current expected version of thrift, and regenerate code to match</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 21:55:20 +0000</created>
                <updated>Sat, 17 Dec 2011 00:04:03 +0000</updated>
                            <resolved>Wed, 27 Jan 2010 02:05:28 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12803013" author="jvs" created="Wed, 20 Jan 2010 22:00:24 +0000"  >&lt;p&gt;Added Raghu and Ning as watchers in case they know...for the last patch, I used the archived r760184 version of thrift linked at &lt;a href=&quot;http://developers.facebook.com/thrift&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://developers.facebook.com/thrift&lt;/a&gt;.  What is the correct version to be using?&lt;/p&gt;</comment>
                            <comment id="12805242" author="jvs" created="Tue, 26 Jan 2010 22:25:54 +0000"  >&lt;p&gt;I have written up the instructions here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/HowToContribute#Generating_Code&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/HowToContribute#Generating_Code&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12805245" author="jvs" created="Tue, 26 Jan 2010 22:27:24 +0000"  >&lt;p&gt;This patch eliminates the inconsistencies I introduced in the generated files when I used the incorrect version of thrift for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-972&quot; title=&quot;Support views&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-972&quot;&gt;&lt;del&gt;HIVE-972&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12805275" author="namit" created="Tue, 26 Jan 2010 23:18:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12805317" author="namit" created="Wed, 27 Jan 2010 02:05:28 +0000"  >&lt;p&gt;Committed. Thanks John&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12442500">HIVE-972</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12431476" name="HIVE-1069.1.patch" size="2677" author="jvs" created="Tue, 26 Jan 2010 22:27:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Jan 2010 23:18:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ld93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122797</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1070] CREATE VIEW followup:  add support for column-aliasing on subselect and use it when storing view definition with column renaming</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1070</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Copied from the original comment:&lt;/p&gt;

&lt;p&gt;If you do CREATE VIEW v(x,y) AS SELECT a+1,b+2 FROM t&lt;/p&gt;

&lt;p&gt;then we&apos;ll store the expanded view def as SELECT `_c0` AS `x`,`_c1` AS `y` FROM (SELECT `t`.`a`+1,`t`.`b`+2 FROM `t`) `v`&lt;/p&gt;

&lt;p&gt;As a result, if hive ever changes its convention for generating anonymous expression names (_c0, _c1, ...), such stored view definitions will break.&lt;/p&gt;

&lt;p&gt;The only way I can think of to avoid this is to implement SQL:200n&apos;s column-alias-by-position construct , e.g.&lt;/p&gt;

&lt;p&gt;(SELECT `t`.`a`+1,`t`.`b`+2 FROM `t`) AS `v`(`x`,`y`)&lt;/p&gt;

&lt;p&gt;(similar to what was done for LATERAL VIEW).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446143">HIVE-1070</key>
            <summary>CREATE VIEW followup:  add support for column-aliasing on subselect and use it when storing view definition with column renaming</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 22:04:50 +0000</created>
                <updated>Wed, 16 Jun 2010 02:00:13 +0000</updated>
                                            <version>0.6.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12803015" author="jvs" created="Wed, 20 Jan 2010 22:05:13 +0000"  >&lt;p&gt;This is a generically useful feature as well, independent of views.&lt;/p&gt;</comment>
                            <comment id="12805326" author="jvs" created="Wed, 27 Jan 2010 02:43:24 +0000"  >&lt;p&gt;Reassigning to Vikram per discussion with Namit.&lt;/p&gt;

&lt;p&gt;Vikram, if you have questions about this one, I&apos;m available to help.&lt;/p&gt;</comment>
                            <comment id="12829246" author="jvs" created="Wed, 3 Feb 2010 20:41:10 +0000"  >&lt;p&gt;Reassigning to myself per update from Namit.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12442500">HIVE-972</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42631</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 51 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08o0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1071] Making RCFile &quot;concatenatable&quot; to reduce the number of files of the output</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1071</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive automatically determine the number of reducers most of the time.&lt;br/&gt;
Sometimes, we create a lot of small files.&lt;/p&gt;

&lt;p&gt;Hive has an option to &quot;merge&quot; those small files though a map-reduce job.&lt;/p&gt;

&lt;p&gt;Dhruba has the idea which can fix it even faster:&lt;br/&gt;
if we can make RCFile concatenatable, then we can simply tell the namenode to &quot;merge&quot; these files.&lt;/p&gt;

&lt;p&gt;Pros: This approach does not do any I/O so it&apos;s faster.&lt;br/&gt;
Cons: We have to zero-fill the files to make sure they can be concatenated (all blocks except the last have to be full HDFS blocks).&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12446146">HIVE-1071</key>
            <summary>Making RCFile &quot;concatenatable&quot; to reduce the number of files of the output</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 22:14:30 +0000</created>
                <updated>Tue, 5 Apr 2011 22:23:14 +0000</updated>
                                                                            <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="12803025" author="dhruba" created="Wed, 20 Jan 2010 22:22:31 +0000"  >&lt;p&gt;we could create a API in HDFS that concatenates a set of files into one file. The partial last block of each file will be zero filled, this is required because all the blocks (except the last block) in a single HDFS file should have the same size.&lt;/p&gt;

&lt;p&gt;once we have the above-mentioned HDFS API, then we can merge a bunch of RC files into one single file without doing much physical IO. The RC file format has to be such that it can safely ignore zero-filled areas in the middle of the file. Can it do this?&lt;/p&gt;</comment>
                            <comment id="12803040" author="hammer" created="Wed, 20 Jan 2010 22:53:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;we could create a API in HDFS that concatenates a set of files into one file.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Would be a fantastic primitive to add to HDFS.&lt;/p&gt;</comment>
                            <comment id="12803054" author="namit" created="Wed, 20 Jan 2010 23:31:20 +0000"  >&lt;p&gt;If the table happens to be bucketed, sampling queries may not work after concatenation.&lt;br/&gt;
The offsets need to be stored (in the metastore) for the buckets, and the offsets should be used to calculate the splits.&lt;/p&gt;</comment>
                            <comment id="12803374" author="eli" created="Thu, 21 Jan 2010 17:26:52 +0000"  >&lt;p&gt;Nice idea. Making HDFS deal with partial intermediate blocks so applications don&apos;t have to be responsible for zero-filling blocks (they may not know they need to at the time they&apos;re written) or modify their file formats might be worthwhile.&lt;/p&gt;</comment>
                            <comment id="12803479" author="he yongqiang" created="Thu, 21 Jan 2010 20:39:33 +0000"  >&lt;p&gt;Concating files to a single file has 2 problems to solve: &lt;br/&gt;
1) the partial last block of each middle files need to zero filled (why hdfs assume all blocks in a single file have the same size, will the DfsClient check that?) .  &lt;br/&gt;
2) remove the file header of all middle files.&lt;br/&gt;
1) is easy to do, but how we do 2)? &lt;br/&gt;
Another possible consideration is to use sth like HAR. We can pack files into a single file, and let hdfs/namenode only know about the packed file. In this way, we even can pack files with different file formats together.&lt;/p&gt;</comment>
                            <comment id="12803492" author="nzhang" created="Thu, 21 Jan 2010 21:27:59 +0000"  >&lt;p&gt;@Zheng and Dhruba, if a lot of them are small files (say less than the block size), would it be more efficient to merge them in a compact way rather than filling them with &quot;zeros&quot;? Say if we have 1000 files, each of them is 10MB. If we taking this approach, we will have 1000 blocks, which can be fit into ~40 blocks if block size is 256MB. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Jan 2010 22:22:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42630</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08n7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1072] &quot;show table extended like table partition(xxx) &quot; will show the result of the whole table if the partition does not exist</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1072</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See the following example, we should output an error for the second command.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; show table extended like member_count;
OK
tableName:member_count
owner:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
location:/user/hive/member_count
inputformat:org.apache.hadoop.mapred.SequenceFileInputFormat
outputformat:org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat
columns:struct columns { string count}
partitioned:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
partitionColumns:struct partition_columns { string ds}
totalNumberFiles:233933
totalFileSize:32802665
maxFileSize:257
minFileSize:140
lastAccessTime:1264017438860
lastUpdateTime:1263949909703

Time taken: 125.104 seconds

hive&amp;gt; show table extended like member_count partition(ds = &lt;span class=&quot;code-quote&quot;&gt;&apos;2009-10-11&apos;&lt;/span&gt;);
OK
tableName:member_count
owner:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
location:/user/hive/member_count
inputformat:org.apache.hadoop.mapred.SequenceFileInputFormat
outputformat:org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat
columns:struct columns { string count}
partitioned:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
partitionColumns:struct partition_columns { string ds}
totalNumberFiles:233933
totalFileSize:32802665
maxFileSize:257
minFileSize:140
lastAccessTime:1264017438860
lastUpdateTime:1263949909703

Time taken: 24.618 seconds

hive&amp;gt; show table extended like member_count partition(ds = &lt;span class=&quot;code-quote&quot;&gt;&apos;2009-12-11&apos;&lt;/span&gt;);
OK
tableName:member_count
owner:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
location:/user/hive/member_count
inputformat:org.apache.hadoop.mapred.SequenceFileInputFormat
outputformat:org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat
columns:struct columns { string count}
partitioned:&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
partitionColumns:struct partition_columns { string ds}
totalNumberFiles:3495
totalFileSize:489417
maxFileSize:257
minFileSize:140
lastAccessTime:1262676533852
lastUpdateTime:1263949909703

Time taken: 0.549 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12446147">HIVE-1072</key>
            <summary>&quot;show table extended like table partition(xxx) &quot; will show the result of the whole table if the partition does not exist</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 22:18:14 +0000</created>
                <updated>Sat, 17 Dec 2011 00:06:09 +0000</updated>
                            <resolved>Sat, 23 Jan 2010 02:12:39 +0000</resolved>
                                    <version>0.4.1</version>
                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12803047" author="zshao" created="Wed, 20 Jan 2010 23:24:29 +0000"  >&lt;p&gt;If the partition does not exist, we should fail the query.&lt;br/&gt;
Can you add a negative test instead?&lt;/p&gt;</comment>
                            <comment id="12803052" author="he yongqiang" created="Wed, 20 Jan 2010 23:30:34 +0000"  >&lt;p&gt;np. i can add that. But it seems many other commands just output error msg and succeed, like &apos;describe&apos;.&lt;/p&gt;</comment>
                            <comment id="12803062" author="he yongqiang" created="Wed, 20 Jan 2010 23:43:05 +0000"  >&lt;p&gt;hive-1072.2.patch fails query when the given partition does not exist.&lt;/p&gt;</comment>
                            <comment id="12803064" author="zshao" created="Wed, 20 Jan 2010 23:45:36 +0000"  >&lt;p&gt;+1. Will commit after test.&lt;/p&gt;</comment>
                            <comment id="12803995" author="zshao" created="Sat, 23 Jan 2010 02:12:39 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang.&lt;/p&gt;</comment>
                            <comment id="12804925" author="nzhang" created="Tue, 26 Jan 2010 07:27:33 +0000"  >&lt;p&gt;Zheng and Yongqiang, one test result file was missing for the committed version to branch 0.5.0: ql/src/test/results/clientnegative/invalide_t_alter1.q.out. Can you double check and commit it?&lt;/p&gt;</comment>
                            <comment id="12804927" author="zshao" created="Tue, 26 Jan 2010 07:32:22 +0000"  >&lt;p&gt;Ning, sorry about that. I just committed it to branch-0.5 under &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1059&quot; title=&quot;Date/DateTime/TimeStamp types should throw an error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1059&quot;&gt;&lt;del&gt;HIVE-1059&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12430951" name="hive-1072.2.patch" size="1792" author="he yongqiang" created="Wed, 20 Jan 2010 23:43:05 +0000"/>
                            <attachment id="12430942" name="hive-1072.patch" size="7098" author="he yongqiang" created="Wed, 20 Jan 2010 23:20:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Jan 2010 23:30:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ld9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122798</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1072&quot; title=&quot;&amp;quot;show table extended like table partition(xxx) &amp;quot; will show the result of the whole table if the partition does not exist&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1072&quot;&gt;&lt;strike&gt;HIVE-1072&lt;/strike&gt;&lt;/a&gt;. Show table extended to error out when the partition does not exist. (Yongqiang He via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1073] CREATE VIEW followup:  track view dependency information in metastore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1073</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add a generic mechanism for recording the fact that one object depends on another.  First use case (to be implemented as part of this task) would be views depending on tables or other views, but in the future we can also use this for views depending on persistent functions, functions depending on other functions, etc.&lt;/p&gt;

&lt;p&gt;This involves metastore modeling, QL analysis for deriving and recording the dependencies (Ashish says something may already be available from the lineage work), and CLI support for browsing dependencies.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446148">HIVE-1073</key>
            <summary>CREATE VIEW followup:  track view dependency information in metastore</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="freepeter">Wenlei Xie</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 22:18:35 +0000</created>
                <updated>Wed, 25 Nov 2015 02:01:51 +0000</updated>
                                            <version>0.6.0</version>
                                                    <component>Metastore</component>
                    <component>Views</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="12992768" author="jvs" created="Wed, 9 Feb 2011 22:51:44 +0000"  >&lt;p&gt;As a followup to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1941&quot; title=&quot;support explicit view partitioning&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1941&quot;&gt;&lt;del&gt;HIVE-1941&lt;/del&gt;&lt;/a&gt;, we also want to persist view partition dependencies in the metastore.&lt;/p&gt;</comment>
                            <comment id="15000863" author="freepeter" created="Wed, 11 Nov 2015 18:36:18 +0000"  >&lt;p&gt;I am working on this. Will write the document about how we plan to implement this soon.&lt;/p&gt;</comment>
                            <comment id="15025155" author="freepeter" created="Tue, 24 Nov 2015 19:27:41 +0000"  >&lt;p&gt;There are two things I would like to discuss first:&lt;/p&gt;

&lt;p&gt;1. To track the view dependency, I will add a new class &lt;tt&gt;MTableDependency&lt;/tt&gt; (name TBD) which contains &lt;tt&gt;srcTbl&lt;/tt&gt; and &lt;tt&gt;dstTbl&lt;/tt&gt;. A corresponding table with 2 columns (&lt;tt&gt;srcTblId&lt;/tt&gt; and &lt;tt&gt;dstTblId&lt;/tt&gt;) will be added into the JDO database. This table / data structure tracks the view dependency. &lt;/p&gt;

&lt;p&gt;We will use the JDOQL to fetch the dependent/dependee tables for a given table.&lt;/p&gt;

&lt;p&gt;2. When a view is created/altered, the Metastore Server needs to know the dependent tables of the view. I don&#8217;t want to make the &lt;tt&gt;hive-metastore&lt;/tt&gt; package depends on &lt;tt&gt;hive-exec&lt;/tt&gt; package (which contains the parsing code). Thus the Hive client have to send the dependent tables of view to the server (for example, by adding a &lt;tt&gt;dependentTables&lt;/tt&gt; filed in the Table class). &lt;/p&gt;

&lt;p&gt;However, this means the Metastore server cannot verify whether the dependent table reported by the client side is consistent with the SQL query creating the view. This also means an old version of Hive Client cannot work with the a new version of Metastore Server that tracks view dependency. &lt;/p&gt;</comment>
                            <comment id="15025987" author="cwsteinbach" created="Wed, 25 Nov 2015 02:01:51 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=freepeter&quot; class=&quot;user-hover&quot; rel=&quot;freepeter&quot;&gt;Wenlei Xie&lt;/a&gt;, thanks for writing up these notes!&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;To track the view dependency, I will add a new class MTableDependency (name TBD) which contains srcTbl and dstTbl.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Since only views can have dependencies on other tables/views it probably makes sense to change the name to MViewDependency, and replace srcTbl with srcView.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12442500">HIVE-972</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12497409">HIVE-1941</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12446149">HIVE-1074</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12446159">HIVE-1077</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Nov 2015 18:36:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42629</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08n73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1074] CREATE VIEW followup:  DROP CASCADE/RESTRICT support</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1074</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Current behavior is to ignore dependencies when dropping a table, leaving them dangling.  Once we start tracking dependencies, we can use this information for enforcing CASCADE/RESTRICT behavior.  Per SQL:2003, default should actually be RESTRICT, so we might want to introduce a non-standard INVALIDATE option for continuing to allow the current behavior.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12446149">HIVE-1074</key>
            <summary>CREATE VIEW followup:  DROP CASCADE/RESTRICT support</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 22:21:27 +0000</created>
                <updated>Thu, 2 May 2013 02:29:27 +0000</updated>
                                            <version>0.6.0</version>
                                                    <component>Views</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12442500">HIVE-972</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12446148">HIVE-1073</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42628</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08n7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48359</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1075] Make it possible for users to recover data when moveTask fails</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1075</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If a &quot;INSERT OVERWRITE&quot; query fails after deleting the output table content but before moving the new content into that output table, we should allow user to recover the data manually.&lt;br/&gt;
In order to do that, we should expose the temp location of the data and we should not remove the temp data.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446154">HIVE-1075</key>
            <summary>Make it possible for users to recover data when moveTask fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 22:39:35 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:34 +0000</updated>
                            <resolved>Thu, 21 Jan 2010 06:02:26 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12803046" author="nzhang" created="Wed, 20 Jan 2010 23:22:17 +0000"  >&lt;p&gt;+1 looks good. will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12803188" author="nzhang" created="Thu, 21 Jan 2010 06:02:26 +0000"  >&lt;p&gt;Committed to trunk. Thanks Zheng!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12430937" name="HIVE-1075.1.patch" size="1315" author="zshao" created="Wed, 20 Jan 2010 22:40:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Jan 2010 23:22:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73120</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ld9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122799</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1076] CreateTime is reset to 0 when a partition is overwritten</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1076</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive should keep &quot;CreateTime&quot; when a partition is overwritten. The &quot;CreateTime&quot; should be the first time the partition is created.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; describe extended zshao_ttp;
OK
d       string
ds      string

Detailed Table Information      Table(tableName:zshao_ttp, dbName:&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, owner:zshao, createTime:1264027720, 
lastAccessTime:0, retention:0, sd:StorageDescriptor(cols:[FieldSchema(name:d, type:string, comment:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)], 
location:hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hdfs:9000/user/hive/zshao_ttp, inputFormat:org.apache.hadoop.mapred.SequenceFileInputFormat, 
&lt;/span&gt;outputFormat:org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat, compressed:&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, numBuckets:-1, 
serdeInfo:SerDeInfo(name:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, serializationLib:org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, parameters:
{serialization.format=1}), bucketCols:[], sortCols:[], parameters:{}), partitionKeys:[FieldSchema(name:ds, type:string, 
comment:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)], parameters:{transient_lastDdlTime=1264027720})
Time taken: 3.062 seconds
hive&amp;gt; describe extended zshao_ttp partition(ds=&lt;span class=&quot;code-quote&quot;&gt;&apos;2010-01-01&apos;&lt;/span&gt;);
OK
d       string
ds      string

Detailed Partition Information  Partition(values:[2010-01-01], dbName:&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, tableName:zshao_ttp, createTime:1264027788, 
lastAccessTime:0, sd:StorageDescriptor(cols:[FieldSchema(name:d, type:string, comment:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)], location:hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hdfs:9000
&lt;/span&gt;/user/hive/zshao_ttp/ds=2010-01-01, inputFormat:org.apache.hadoop.mapred.SequenceFileInputFormat, 
outputFormat:org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat, compressed:&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, numBuckets:-1, 
serdeInfo:SerDeInfo(name:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, serializationLib:org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, parameters:
{serialization.format=1}), bucketCols:[], sortCols:[], parameters:{}), parameters:{transient_lastDdlTime=1264027788})
Time taken: 0.436 seconds


hive&amp;gt; insert overwrite table zshao_ttp partition (ds=&lt;span class=&quot;code-quote&quot;&gt;&apos;2010-01-01&apos;&lt;/span&gt;) select d from zshao_ttp where ds = &lt;span class=&quot;code-quote&quot;&gt;&apos;2010-01-01&apos;&lt;/span&gt;;
Total MapReduce jobs = 2
Launching Job 1 out of 2
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of reduce tasks is set to 0 since there&apos;s no reduce &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;
Starting Job = job_200912262300_1111, Tracking URL = http:&lt;span class=&quot;code-comment&quot;&gt;//jobtracker:50030/jobdetails.jsp?jobid=job_200912262300_1111
&lt;/span&gt;Kill Command = hadoop/bin/../bin/hadoop job  -Dmapred.job.tracker=jobtracker:50029 -kill job_200912262300_1111
2010-01-20 15:04:15,272 Stage-1 map = 0%,  reduce = 0%
2010-01-20 15:05:16,895 Stage-1 map = 0%,  reduce = 0%
2010-01-20 15:06:16,768 Stage-1 map = 100%,  reduce = 0%
2010-01-20 15:06:43,929 Stage-1 map = 100%,  reduce = 100%
Ended Job = job_200912262300_1111
Launching Job 2 out of 2
Moving data to: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hdfs:9000/tmp/hive-zshao/262641680/10000
&lt;/span&gt;Loading data to table zshao_ttp partition {ds=2010-01-01}
Moved to trash: /user/hive/zshao_ttp/ds=2010-01-01
2 Rows loaded to zshao_ttp
OK
Time taken: 187.049 seconds


hive&amp;gt; describe extended zshao_ttp partition(ds=&lt;span class=&quot;code-quote&quot;&gt;&apos;2010-01-01&apos;&lt;/span&gt;);
OK
d       string
ds      string

Detailed Partition Information  Partition(values:[2010-01-01], dbName:&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, tableName:zshao_ttp, createTime:0, 
lastAccessTime:0, sd:StorageDescriptor(cols:[FieldSchema(name:d, type:string, comment:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)], location:hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hdfs:9000
&lt;/span&gt;/user/hive/zshao_ttp/ds=2010-01-01, inputFormat:org.apache.hadoop.mapred.SequenceFileInputFormat, 
outputFormat:org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat, compressed:&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, numBuckets:-1, 
serdeInfo:SerDeInfo(name:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, serializationLib:org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe, parameters:
{serialization.format=1}), bucketCols:[], sortCols:[], parameters:{}), parameters:
{lastQueryTime=1264028626290,archiveFlag=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,transient_lastDdlTime=1264028626})
Time taken: 0.283 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12446158">HIVE-1076</key>
            <summary>CreateTime is reset to 0 when a partition is overwritten</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 23:11:32 +0000</created>
                <updated>Sat, 17 Dec 2011 00:05:39 +0000</updated>
                            <resolved>Fri, 22 Jan 2010 05:03:26 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12803596" author="pauly" created="Fri, 22 Jan 2010 04:19:28 +0000"  >&lt;p&gt;The reason why this is occurring is due to a custom pre-execute hook (which is in use by facebook) that was calling alterTable to the metastore to set a flag. The pre-execute hook would get information about what values to set for the partition through the WriteEntity object generated by SemanticAnalyzer:genFileSinkPlan(). The partition information (stored in the Partition object) for the WriteEntity object is populated by the tableSpec class in BaseSemantic analyzer.&lt;/p&gt;

&lt;p&gt;When creating the Partition object, tableSpec does not query the metastore and instead just creates the Partition object using the constructor. Consequently, create time is initialized to the default value of 0. For cases where the partition did not exist before, there is no problem as there is nothing to alter when the pre-execute hook runs. However, for partitions that already exist, the alter partition call in the pre-execute hook would overwrite the partition info with creation time = 0.&lt;/p&gt;

&lt;p&gt;To fix this, the patch queries the metastore in tableSpec to get the correct partition information.&lt;/p&gt;

&lt;p&gt;Currently, it&apos;s difficult to create a test for this issue because DESCRIBE EXTENDED will print out a single line for the partition attributes. Because the line probably contains &apos;file:/&apos;, diff will ignore the whole line.&lt;/p&gt;

&lt;p&gt;Zheng - how quickly do you need the fix? Fixing that, plus adding a test case will take some additional time. A quick solution would be to stop using that pre-execution hook.&lt;/p&gt;</comment>
                            <comment id="12803598" author="zshao" created="Fri, 22 Jan 2010 04:27:34 +0000"  >&lt;p&gt;Agree. The code looks good. Let me commit this fix first.&lt;/p&gt;

&lt;p&gt;Let&apos;s open a new JIRA to pretty-print the Detailed Partition/Table Information. Once that gets done, let&apos;s add a test for this one.&lt;/p&gt;</comment>
                            <comment id="12803604" author="zshao" created="Fri, 22 Jan 2010 05:03:26 +0000"  >&lt;p&gt;Committed to trunk and branch-0.5. Thanks Paul!&lt;/p&gt;</comment>
                            <comment id="12803996" author="zshao" created="Sat, 23 Jan 2010 02:14:22 +0000"  >&lt;p&gt;When I commit, the &quot;svn commit&quot; message was set to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1072&quot; title=&quot;&amp;quot;show table extended like table partition(xxx) &amp;quot; will show the result of the whole table if the partition does not exist&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1072&quot;&gt;&lt;del&gt;HIVE-1072&lt;/del&gt;&lt;/a&gt; by mistake.&lt;br/&gt;
So please look for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1072&quot; title=&quot;&amp;quot;show table extended like table partition(xxx) &amp;quot; will show the result of the whole table if the partition does not exist&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1072&quot;&gt;&lt;del&gt;HIVE-1072&lt;/del&gt;&lt;/a&gt; when looking for svn log or CHANGES.txt.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431093" name="HIVE-1076.1.patch" size="1098" author="pauly" created="Fri, 22 Jan 2010 04:19:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Jan 2010 04:19:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73119</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ld9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122800</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1076&quot; title=&quot;CreateTime is reset to 0 when a partition is overwritten&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1076&quot;&gt;&lt;strike&gt;HIVE-1076&lt;/strike&gt;&lt;/a&gt;. Keep CreateTime when a partition is overwritten. (Paul Yang via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1077] CREATE VIEW followup:  track object invalidation in metastore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1077</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When an object such as a table is modified, a dependent object such as a view may become invalid.  We would like to add support for tracking this invalidation state in the catalog and clearing it via ALTER VIEW v RECOMPILE (similar to Oracle).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446159">HIVE-1077</key>
            <summary>CREATE VIEW followup:  track object invalidation in metastore</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 23:16:49 +0000</created>
                <updated>Thu, 2 May 2013 02:29:27 +0000</updated>
                                            <version>0.6.0</version>
                                                    <component>Metastore</component>
                    <component>Views</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12442500">HIVE-972</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12446148">HIVE-1073</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42627</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08nuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48462</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1078] CREATE VIEW followup:  CREATE OR REPLACE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1078</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, replacing a view requires&lt;/p&gt;

&lt;p&gt;DROP VIEW v;&lt;br/&gt;
CREATE VIEW v AS &amp;lt;new-definition&amp;gt;;&lt;/p&gt;

&lt;p&gt;CREATE OR REPLACE would allow these to be combined into a single operation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446160">HIVE-1078</key>
            <summary>CREATE VIEW followup:  CREATE OR REPLACE</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="charleschen">Charles Chen</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 23:18:54 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:04 +0000</updated>
                            <resolved>Fri, 22 Jul 2011 20:28:18 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12992773" author="jvs" created="Wed, 9 Feb 2011 23:01:00 +0000"  >&lt;p&gt;After &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1941&quot; title=&quot;support explicit view partitioning&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1941&quot;&gt;&lt;del&gt;HIVE-1941&lt;/del&gt;&lt;/a&gt;, it&apos;s important for CREATE OR REPLACE VIEW to preserve any existing view partitions.  Since we don&apos;t store any column definitions with the view partitions, this should be trivial.&lt;/p&gt;</comment>
                            <comment id="13062272" author="jiraposter@reviews.apache.org" created="Sat, 9 Jul 2011 00:46:16 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1144535 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1144535 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1144535 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1144535 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Unit tests not written yet&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Charles&lt;/p&gt;
</comment>
                            <comment id="13064154" author="jiraposter@reviews.apache.org" created="Tue, 12 Jul 2011 21:37:00 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-12 21:36:13.283414)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1145395 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1145395 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1145395 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1145395 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing (updated)&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Unit tests written&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Charles&lt;/p&gt;
</comment>
                            <comment id="13064155" author="jiraposter@reviews.apache.org" created="Tue, 12 Jul 2011 21:37:02 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-12 21:36:00.823589)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1145395 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1145395 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1145395 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1145395 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Unit tests not written yet&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Charles&lt;/p&gt;
</comment>
                            <comment id="13064976" author="jiraposter@reviews.apache.org" created="Thu, 14 Jul 2011 00:23:00 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-14 00:22:15.193620)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Rethrow original exceptions in createView to satisfy existing view tests.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146520 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146520 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146520 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146520 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Unit tests written&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Charles&lt;/p&gt;
</comment>
                            <comment id="13064989" author="jiraposter@reviews.apache.org" created="Thu, 14 Jul 2011 00:47:01 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-14 00:45:22.036481)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Passes unit tests&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146520 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146520 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146520 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146520 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146520 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing (updated)&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Passes unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Charles&lt;/p&gt;
</comment>
                            <comment id="13065510" author="jvs" created="Thu, 14 Jul 2011 20:10:36 +0000"  >&lt;p&gt;Added a comment on review board.  Also, you need to add new unit tests for the new functionality.&lt;/p&gt;</comment>
                            <comment id="13065511" author="jiraposter@reviews.apache.org" created="Thu, 14 Jul 2011 20:11:00 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/#review1063&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#review1063&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt;&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1058/#comment2136&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#comment2136&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    For a partitioned view, won&apos;t this drop all the existing partitions?  We don&apos;t want that.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;John&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-14 00:45:22, Charles Chen wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-14 00:45:22)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146520 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146520 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146520 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146520 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146520 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Passes unit tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Charles&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13065622" author="jiraposter@reviews.apache.org" created="Fri, 15 Jul 2011 00:03:59 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-15 00:02:43.679248)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Preserve partitions&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Passes unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Charles&lt;/p&gt;
</comment>
                            <comment id="13065680" author="jiraposter@reviews.apache.org" created="Fri, 15 Jul 2011 02:14:00 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/#review1074&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#review1074&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt;&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1058/#comment2178&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#comment2178&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Isn&apos;t this already covered by the &quot;Cannot change existing partition columns&quot; check above?&lt;/p&gt;



&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt;&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1058/#comment2179&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#comment2179&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Instead of saving the partitions and then adding them back, it would be better if we never had to remove them at all.   Otherwise, there could be triggers which run in the metastore which will fire spurious events.&lt;/p&gt;

&lt;p&gt;    We need a way to update the view in place.&lt;/p&gt;



&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;John&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-15 00:02:43, Charles Chen wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-15 00:02:43)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Passes unit tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Charles&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13066161" author="jiraposter@reviews.apache.org" created="Fri, 15 Jul 2011 20:00:00 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-15 19:58:33.134187)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Alter view in place&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Passes unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Charles&lt;/p&gt;
</comment>
                            <comment id="13066818" author="jiraposter@reviews.apache.org" created="Mon, 18 Jul 2011 07:02:59 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/#review1089&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#review1089&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt;&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1058/#comment2223&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#comment2223&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Oops the comment should be here&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Charles&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-18 07:01:02, Charles Chen wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-18 07:01:02)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Passes unit tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Charles&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13066819" author="jiraposter@reviews.apache.org" created="Mon, 18 Jul 2011 07:03:01 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/#review1088&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#review1088&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt;&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1058/#comment2222&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#comment2222&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Haha ok so now I remember why we need this:&lt;/p&gt;

&lt;p&gt;    (unit test clientnegative/create_or_replace_view1.q):&lt;br/&gt;
    &amp;#8211; New view must contain all old partition columns.&lt;/p&gt;

&lt;p&gt;    drop view v;&lt;br/&gt;
    create view v partitioned on (ds, hr) as select * from srcpart;&lt;br/&gt;
    create or replace view v as select key, hr from srcpart;&lt;/p&gt;

&lt;p&gt;    Here, we don&apos;t explicitly change the partition columns, so the new view inherits the old columns, but those columns better still exist.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Charles&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-18 07:01:02, Charles Chen wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-18 07:01:02)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Passes unit tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Charles&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13066820" author="jiraposter@reviews.apache.org" created="Mon, 18 Jul 2011 07:03:03 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-18 07:01:02.376155)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added back check: &quot;New view must contain all old partition columns&quot;&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Passes unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Charles&lt;/p&gt;
</comment>
                            <comment id="13066821" author="jiraposter@reviews.apache.org" created="Mon, 18 Jul 2011 07:03:05 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/#review1090&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#review1090&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt;&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1058/#comment2224&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#comment2224&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Here ***&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Charles&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-18 07:01:02, Charles Chen wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-18 07:01:02)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Passes unit tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Charles&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13066822" author="jiraposter@reviews.apache.org" created="Mon, 18 Jul 2011 07:05:00 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/#review1091&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#review1091&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt;&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1058/#comment2225&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#comment2225&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Here *******&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Charles&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-18 07:01:02, Charles Chen wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-18 07:01:02)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Passes unit tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Charles&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13067160" author="jiraposter@reviews.apache.org" created="Mon, 18 Jul 2011 17:24:57 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/#review1097&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#review1097&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;r7 passes unit tests&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Charles&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-18 07:01:02, Charles Chen wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-18 07:01:02)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Passes unit tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Charles&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13067332" author="jvs" created="Mon, 18 Jul 2011 21:53:52 +0000"  >&lt;p&gt;Comments added in Review Board.&lt;/p&gt;</comment>
                            <comment id="13067334" author="jiraposter@reviews.apache.org" created="Mon, 18 Jul 2011 21:54:57 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/#review1102&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#review1102&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt;&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1058/#comment2236&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#comment2236&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    We&apos;ll allow this if no partitions currently exist.&lt;/p&gt;



&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt;&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1058/#comment2237&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#comment2237&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Shouldn&apos;t we allow for changes to the view comment?  Also, any TBLPROPERTIES specified here should be applied to the view (but we shouldn&apos;t delete old ones, only overwrite them if they already exist).&lt;/p&gt;




&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt;&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1058/#comment2235&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#comment2235&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    These need explicit PARTITIONED ON clauses to indicate that the existing partitioning scheme is being preserved.&lt;/p&gt;

&lt;p&gt;    Also, need test case for modifying the definition of an unpartitioned view.&lt;/p&gt;

&lt;p&gt;    Plus new cases we discussed for allowing change in partitioning when no partitions currently exist.&lt;/p&gt;

&lt;p&gt;    Also, negative case for combining IF NOT EXISTS with OR REPLACE.&lt;/p&gt;

&lt;p&gt;    Also, negative case for updating the view to have an invalid definition.&lt;/p&gt;

&lt;p&gt;    Also, positive case for using this to &quot;fix&quot; an invalid view.&lt;/p&gt;

&lt;p&gt;    Have you tried creating a &quot;view cycle&quot;?&lt;/p&gt;



&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;John&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-18 07:01:02, Charles Chen wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-18 07:01:02)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Passes unit tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Charles&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13068111" author="jiraposter@reviews.apache.org" created="Wed, 20 Jul 2011 01:01:58 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-20 01:01:53.872666)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Fixed issues in above comment&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Passes unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Charles&lt;/p&gt;
</comment>
                            <comment id="13068165" author="jiraposter@reviews.apache.org" created="Wed, 20 Jul 2011 06:13:58 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/#review1128&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#review1128&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt;&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1058/#comment2356&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#comment2356&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Defer the db.getPartitions (which could be expensive) so that we don&apos;t do it unless we&apos;re sure that the partition keys are actually changing.&lt;/p&gt;



&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt;&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1058/#comment2357&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#comment2357&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Avoid usage of java.util.Stack.  Some old Hive code uses it but it&apos;s deprecated because it&apos;s synchronized for no good reason.&lt;/p&gt;



&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt;&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1058/#comment2358&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/#comment2358&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    add spaces around operators such as =&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;John&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-07-20 01:01:53, Charles Chen wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-07-20 01:01:53)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Passes unit tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Charles&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13068519" author="jiraposter@reviews.apache.org" created="Wed, 20 Jul 2011 18:04:58 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-20 18:03:04.848086)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Add testcases, fixed issues in comments above (btw the previous revision passed unit tests)&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view5.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view5.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view6.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view6.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view7.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view7.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view8.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view8.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/recursive_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/recursive_view.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view5.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view5.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view6.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view6.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view7.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view7.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view8.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view8.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/recursive_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/recursive_view.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Passes unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Charles&lt;/p&gt;
</comment>
                            <comment id="13069226" author="charleschen" created="Thu, 21 Jul 2011 21:43:11 +0000"  >&lt;p&gt;Fails create_or_replace_view.q&lt;/p&gt;</comment>
                            <comment id="13069240" author="jiraposter@reviews.apache.org" created="Thu, 21 Jul 2011 22:07:58 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-21 22:07:29.150219)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Fix failure of create_or_replace_view.q&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view5.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view5.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view6.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view6.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view7.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view7.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view8.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view8.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/recursive_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/recursive_view.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view5.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view5.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view6.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view6.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view7.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view7.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view8.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view8.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/recursive_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/recursive_view.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Passes unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Charles&lt;/p&gt;
</comment>
                            <comment id="13069304" author="jvs" created="Fri, 22 Jul 2011 00:00:17 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="13069465" author="jiraposter@reviews.apache.org" created="Fri, 22 Jul 2011 09:37:58 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-22 09:36:21.858818)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;lol&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/a&gt; 1146902 &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view5.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view5.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view6.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view6.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view7.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view7.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view8.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view8.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/recursive_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientnegative/recursive_view.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view5.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view5.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view6.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view6.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view7.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view7.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view8.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view8.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/recursive_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientnegative/recursive_view.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/a&gt; PRE-CREATION &lt;br/&gt;
  &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/a&gt; 1146902 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1058/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1058/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing (updated)&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Unit tests passed for r10 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;v9.patch)!!!!!!!&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Charles&lt;/p&gt;
</comment>
                            <comment id="13069714" author="jvs" created="Fri, 22 Jul 2011 20:28:18 +0000"  >&lt;p&gt;Committed.  Thanks Charles!&lt;/p&gt;</comment>
                            <comment id="13069727" author="jvs" created="Fri, 22 Jul 2011 20:37:38 +0000"  >&lt;p&gt;Remember to update the wiki.&lt;/p&gt;</comment>
                            <comment id="13069884" author="hudson" created="Sat, 23 Jul 2011 02:17:17 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #843 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/843/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/843/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1078&quot; title=&quot;CREATE VIEW followup:  CREATE OR REPLACE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1078&quot;&gt;&lt;del&gt;HIVE-1078&lt;/del&gt;&lt;/a&gt;. CREATE VIEW followup: CREATE OR REPLACE (Charles Chen via jvs)&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1149727&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1149727&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/recursive_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/create_or_replace_view.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/recursive_view.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_or_replace_view8.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/create_or_replace_view2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12442500">HIVE-972</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12486392" name="HIVE-1078v3.patch" size="79794" author="charleschen" created="Thu, 14 Jul 2011 00:45:42 +0000"/>
                            <attachment id="12486535" name="HIVE-1078v4.patch" size="99543" author="charleschen" created="Fri, 15 Jul 2011 00:03:25 +0000"/>
                            <attachment id="12486669" name="HIVE-1078v5.patch" size="100957" author="charleschen" created="Fri, 15 Jul 2011 19:59:11 +0000"/>
                            <attachment id="12486888" name="HIVE-1078v6.patch" size="101107" author="charleschen" created="Mon, 18 Jul 2011 17:24:19 +0000"/>
                            <attachment id="12487093" name="HIVE-1078v7.patch" size="112794" author="charleschen" created="Wed, 20 Jul 2011 01:02:10 +0000"/>
                            <attachment id="12487190" name="HIVE-1078v8.patch" size="124878" author="charleschen" created="Wed, 20 Jul 2011 18:03:41 +0000"/>
                            <attachment id="12487367" name="HIVE-1078v9.patch" size="124927" author="charleschen" created="Thu, 21 Jul 2011 22:07:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 9 Jul 2011 00:46:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67156</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ld9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122801</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1079] CREATE VIEW followup:  derive dependencies on underlying base table partitions from view definition</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1079</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When querying a view, it would be useful to know which underlying base table partitions it depends on in order to know how fresh the result is (or to be able to wait until all of those partitions have been loaded consistently).  The task is to come up with a way to perform this analysis automatically (possibly overconservatively), or alternately to let the view creator annotate the view definition with this dependency information, or some combination of the two.&lt;/p&gt;

&lt;p&gt;Note that this would be useful for any complex query which directly accesses base tables (not just view definitions).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446161">HIVE-1079</key>
            <summary>CREATE VIEW followup:  derive dependencies on underlying base table partitions from view definition</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="pkalmegh">Prajakta Kalmegh</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jan 2010 23:25:37 +0000</created>
                <updated>Mon, 19 Sep 2011 19:08:04 +0000</updated>
                                            <version>0.6.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12831698" author="jvs" created="Tue, 9 Feb 2010 22:10:57 +0000"  >&lt;p&gt;Additional user feedback:&lt;/p&gt;

&lt;p&gt;(1) Take the 80/20 approach and focus on the single-table use case for starters; don&apos;t get hung up on the complicated join/union cases.&lt;/p&gt;

&lt;p&gt;(2) Propagating metadata about the partitioning key through to the view will be important in UI&apos;s which auto-suggest a filter on the partitioning columns.  A nuance here is that if the filter is baked into the view definition itself (i.e. the view is partition-specific), then we might not want to propagate it (if the view creator forgot to project it away).&lt;/p&gt;

&lt;p&gt;(3) It would be nice if a system function CURRENT_PARTITION() were provided so that the view definition could bake in a dynamic filter like WHERE ds=CURRENT_PARTITION().  This is an independent but related feature whose semantics remain to be worked out.&lt;/p&gt;</comment>
                            <comment id="12879169" author="jvs" created="Tue, 15 Jun 2010 23:11:19 +0000"  >&lt;p&gt;For the manual approach, a very simple thing we can start with is just letting users add partitions to views explicitly as a way of indicating that the underlying data is ready.&lt;/p&gt;</comment>
                            <comment id="13073231" author="jvs" created="Sat, 30 Jul 2011 18:53:17 +0000"  >&lt;p&gt;Note that the manual approach has been implemented in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1941&quot; title=&quot;support explicit view partitioning&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1941&quot;&gt;&lt;del&gt;HIVE-1941&lt;/del&gt;&lt;/a&gt;; see &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/PartitionedViews&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/PartitionedViews&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;for more info on it.  The implicit (derived) approach remains to be implemented.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12442500">HIVE-972</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12497409">HIVE-1941</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08n7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1080] Test coverage for ExecDriver when running tests in local mode</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1080</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add a distributed-mode test to the test suite in order to guarantee test coverage of ExecDriver.&lt;br/&gt;
Filing this ticket as a follow-up to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1064&quot; title=&quot;NPE when operating HiveCLI in distributed mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1064&quot;&gt;&lt;del&gt;HIVE-1064&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12446176">HIVE-1080</key>
            <summary>Test coverage for ExecDriver when running tests in local mode</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jan 2010 01:41:12 +0000</created>
                <updated>Wed, 24 Feb 2010 01:35:32 +0000</updated>
                                            <version>0.6.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12445813">HIVE-1064</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42625</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lda7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122802</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1081] Automated source code cleanup</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1081</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Reduce the number of Checkstyle violations by applying Eclipse&apos;s automated cleanup&lt;br/&gt;
tools to the Hive code base:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Correct indentation&lt;/li&gt;
	&lt;li&gt;Remove trailing white spaces on all lines&lt;/li&gt;
	&lt;li&gt;Format source code&lt;/li&gt;
	&lt;li&gt;Organize imports&lt;/li&gt;
	&lt;li&gt;Remove unnecessary casts&lt;/li&gt;
	&lt;li&gt;Add missing &apos;@Deprecated&apos; annotations&lt;/li&gt;
	&lt;li&gt;Add missing &apos;@Override&apos; annotations&lt;/li&gt;
	&lt;li&gt;Remove unused
	&lt;ul&gt;
		&lt;li&gt;local variables&lt;/li&gt;
		&lt;li&gt;private fields&lt;/li&gt;
		&lt;li&gt;private types&lt;/li&gt;
		&lt;li&gt;private constructors&lt;/li&gt;
		&lt;li&gt;private methods&lt;/li&gt;
		&lt;li&gt;imports&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Add final modifier to
	&lt;ul&gt;
		&lt;li&gt;local variables (if applicable)&lt;/li&gt;
		&lt;li&gt;private fields (if applicable)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;Convert for loops to enhanced for loops&lt;/li&gt;
	&lt;li&gt;Convert control statement bodies to block&lt;/li&gt;
	&lt;li&gt;Remove &apos;this&apos; qualifier for non-static method accesses.&lt;/li&gt;
	&lt;li&gt;Remove &apos;this&apos; qualifier for non-static field accesses.&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment></environment>
        <key id="12446194">HIVE-1081</key>
            <summary>Automated source code cleanup</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jan 2010 05:57:26 +0000</created>
                <updated>Sat, 17 Dec 2011 00:04:00 +0000</updated>
                            <resolved>Thu, 21 Jan 2010 10:40:15 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12803189" author="cwsteinbach" created="Thu, 21 Jan 2010 06:03:59 +0000"  >&lt;ul&gt;
	&lt;li&gt;In combination these patches reduce the total number of Checkstyle violations from 15436 to 4728.&lt;/li&gt;
	&lt;li&gt;There are isolated cases of the automatic formatter making the formatting worse. I will address these cases by hand during the next phase of the cleanup/refactoring project.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12803197" author="cwsteinbach" created="Thu, 21 Jan 2010 06:35:37 +0000"  >&lt;ul&gt;
	&lt;li&gt;Updated copy of cleanup-ql patch.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12803247" author="zshao" created="Thu, 21 Jan 2010 10:40:15 +0000"  >&lt;p&gt;All patches committed. Thanks Carl!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12430988" name="cleanup-cli.patch" size="25470" author="cwsteinbach" created="Thu, 21 Jan 2010 05:58:09 +0000"/>
                            <attachment id="12430989" name="cleanup-common.patch" size="5920" author="cwsteinbach" created="Thu, 21 Jan 2010 05:58:09 +0000"/>
                            <attachment id="12430990" name="cleanup-contrib-test.patch" size="8088" author="cwsteinbach" created="Thu, 21 Jan 2010 05:58:09 +0000"/>
                            <attachment id="12430991" name="cleanup-contrib.patch" size="118380" author="cwsteinbach" created="Thu, 21 Jan 2010 05:58:33 +0000"/>
                            <attachment id="12430992" name="cleanup-hwi-test.patch" size="15891" author="cwsteinbach" created="Thu, 21 Jan 2010 05:58:33 +0000"/>
                            <attachment id="12430993" name="cleanup-hwi.patch" size="55325" author="cwsteinbach" created="Thu, 21 Jan 2010 05:58:33 +0000"/>
                            <attachment id="12430994" name="cleanup-jdbc-test.patch" size="19063" author="cwsteinbach" created="Thu, 21 Jan 2010 05:59:01 +0000"/>
                            <attachment id="12430995" name="cleanup-jdbc.patch" size="213910" author="cwsteinbach" created="Thu, 21 Jan 2010 05:59:01 +0000"/>
                            <attachment id="12430996" name="cleanup-metastore-test.patch" size="41749" author="cwsteinbach" created="Thu, 21 Jan 2010 05:59:01 +0000"/>
                            <attachment id="12430998" name="cleanup-metastore.patch" size="197195" author="cwsteinbach" created="Thu, 21 Jan 2010 06:00:06 +0000"/>
                            <attachment id="12430999" name="cleanup-ql-test.patch" size="193980" author="cwsteinbach" created="Thu, 21 Jan 2010 06:00:07 +0000"/>
                            <attachment id="12431007" name="cleanup-ql.2.patch" size="2870542" author="cwsteinbach" created="Thu, 21 Jan 2010 06:35:37 +0000"/>
                            <attachment id="12431000" name="cleanup-ql.patch" size="2870399" author="cwsteinbach" created="Thu, 21 Jan 2010 06:00:07 +0000"/>
                            <attachment id="12431001" name="cleanup-serde-test.patch" size="204528" author="cwsteinbach" created="Thu, 21 Jan 2010 06:00:56 +0000"/>
                            <attachment id="12431002" name="cleanup-serde.patch" size="1053130" author="cwsteinbach" created="Thu, 21 Jan 2010 06:00:56 +0000"/>
                            <attachment id="12431003" name="cleanup-service-test.patch" size="11823" author="cwsteinbach" created="Thu, 21 Jan 2010 06:00:56 +0000"/>
                            <attachment id="12431004" name="cleanup-service.patch" size="14430" author="cwsteinbach" created="Thu, 21 Jan 2010 06:01:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Jan 2010 10:40:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73118</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122803</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>checkstyle</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1082] &quot;create table if not exists &quot; should check if the specified  schema matches the existing schema, and throw an error if it doesnt.  </title>
                <link>https://issues.apache.org/jira/browse/HIVE-1082</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I think we should make sure that the table can either be created anew with the specified properties, or it already exists with those properties, where &apos;properties&apos; includes all metadata except timestamps. Anything else is an error. This makes sense if you think of a table as the name  + its schema, instead of the name alone. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12446200">HIVE-1082</key>
            <summary>&quot;create table if not exists &quot; should check if the specified  schema matches the existing schema, and throw an error if it doesnt.  </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="indigoviolet">Venky Iyer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jan 2010 07:19:27 +0000</created>
                <updated>Fri, 11 Jun 2010 10:28:56 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12804735" author="indigoviolet" created="Mon, 25 Jan 2010 21:37:57 +0000"  >&lt;p&gt;Talked to Prasad a little more about this:&lt;/p&gt;

&lt;p&gt;1) The expectation is that the table that will exist after &apos;CREATE TABLE IF NOT EXISTS&apos; is a combination of the specified schema + properties, plus the default properties when not specified. We should enforce this&lt;br/&gt;
2) Current code may break if we turn this on, so maybe we should have a CREATE TABLE IF NOT EXISTSWITHSCHEMA statement, or a strict mode of some sort.&lt;/p&gt;</comment>
                            <comment id="12804744" author="nzhang" created="Mon, 25 Jan 2010 21:55:06 +0000"  >&lt;p&gt;@venky, I am a little bit confused about the requirement. Do you mean we should allow the following situation: Table T(a int, b string) and table T (a int, b string, c string) exist in the same database? If so, what is the semantics of &apos;select a, b from T;&apos;?&lt;/p&gt;</comment>
                            <comment id="12804845" author="indigoviolet" created="Tue, 26 Jan 2010 01:44:56 +0000"  >&lt;p&gt;@ning, No, I&apos;m suggesting that CREATE TABLE IF NOT EXISTS should throw an error if a table with the same name but a different schema/properties already exists. &lt;/p&gt;</comment>
                            <comment id="12804859" author="nzhang" created="Tue, 26 Jan 2010 02:33:12 +0000"  >&lt;p&gt;Venky,  following is what specified in the HiveQL language manual (DDL):&lt;/p&gt;

&lt;p&gt;CREATE TABLE creates a table with the given name. An error is thrown if a table or view with the same name already exists. You can use IF NOT EXISTS to skip the error.&lt;/p&gt;

&lt;p&gt;So I think what you want is implemented in the plain create table T DDL?&lt;/p&gt;</comment>
                            <comment id="12804860" author="indigoviolet" created="Tue, 26 Jan 2010 02:40:06 +0000"  >&lt;p&gt;What I want is to create a table if the table doesn&apos;t exist already. If it does exist, I want Hive to verify that its schema is identical to the schema I&apos;ve specified. Basically, at the end of a successful statement, the schema in Hive should be exactly what I specified in the last CREATE TABLE IF NOT EXISTS statement. &lt;/p&gt;</comment>
                            <comment id="12875569" author="raj_velu" created="Fri, 4 Jun 2010 11:32:02 +0000"  >&lt;p&gt;Venky, have you got this fixed... ?&lt;/p&gt;</comment>
                            <comment id="12875608" author="nzhang" created="Fri, 4 Jun 2010 14:04:56 +0000"  >&lt;p&gt;this has not been done AFAIK. I had an offline discussion with Venky before and what he want should be implemented using a new synax such as CREATE OR REPLACE TABLE. We should keep the semantics of CREATE TABLE IF NOT EXISTS unchanged since other other users are already using it. Changing the semantics may break their use cases. &lt;/p&gt;</comment>
                            <comment id="12877769" author="raj_velu" created="Fri, 11 Jun 2010 10:28:56 +0000"  >&lt;p&gt;Thanks Ning, That makes sense, At the moment we have added code to log a WARN, but using Create or replace table is the right approach as you suggest, will update if we get this done..&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Jan 2010 21:55:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42624</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122804</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1083] allow sub-directories for an external table/partition</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1083</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Sometimes users want to define an external table/partition based on all files (recursively) inside a directory.&lt;/p&gt;

&lt;p&gt;Currently most of the Hadoop InputFormat classes do not support that. We should extract all files recursively in the directory, and add them to the input path of the job.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12446279">HIVE-1083</key>
            <summary>allow sub-directories for an external table/partition</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                            <label>inputformat</label>
                    </labels>
                <created>Fri, 22 Jan 2010 01:54:05 +0000</created>
                <updated>Tue, 4 Mar 2014 07:36:25 +0000</updated>
                                            <version>0.6.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>17</votes>
                                    <watches>23</watches>
                                                                <comments>
                            <comment id="12803576" author="rsm" created="Fri, 22 Jan 2010 02:02:06 +0000"  >&lt;p&gt;The one use case where this will be helpful is when creating external tables on existing directory trees. We currently need to create one partition per lowest level directory. Instead, it would be great if hive allowed creation of a partition on a top-level directory and hive picks up all files within that directory tree.&lt;/p&gt;</comment>
                            <comment id="12803620" author="zshao" created="Fri, 22 Jan 2010 07:44:51 +0000"  >&lt;p&gt;This can be done as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-951&quot; title=&quot;Selectively include EXTERNAL TABLE source files via REGEX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-951&quot;&gt;HIVE-951&lt;/a&gt;.&lt;br/&gt;
Basically, by default, a table&apos;s file name pattern will be &quot;*&quot;.&lt;br/&gt;
If users want to include all files, then he just needs to say something like &quot;*&lt;b&gt;/&lt;/b&gt;&quot;.&lt;/p&gt;

&lt;p&gt;We can either use java regex or globbing (&lt;b&gt;,&lt;/b&gt;*,?). There are both pros and cons.&lt;br/&gt;
I don&apos;t see a reason why one is significantly better than the other.&lt;/p&gt;</comment>
                            <comment id="12832158" author="zshao" created="Wed, 10 Feb 2010 19:56:10 +0000"  >&lt;p&gt;Corner cases:&lt;br/&gt;
C1. We have 4 external tables: abc_recursive, abc, abc_def_recursive, abc_def&lt;br/&gt;
abc_recursive and abc both points to /abc&lt;br/&gt;
abc_def and abc_def_recursive both points to /abc/def&lt;br/&gt;
abc_recursive and abc_def_recursive have set the bit &quot;recursive&quot;.&lt;/p&gt;

&lt;p&gt;In ExecDriver, given all tables, we need to find all paths that needs to be added to the input path.&lt;br/&gt;
In MapOperator, given the current input path, we need to find all the aliases that the current input path corresponds to.&lt;/p&gt;</comment>
                            <comment id="12860450" author="jvs" created="Sat, 24 Apr 2010 00:56:17 +0000"  >&lt;p&gt;Clarification:  you can already get the desired behavior using HDFS, &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-1501&quot; title=&quot;FileInputFormat to support multi-level/recursive directory listing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-1501&quot;&gt;&lt;del&gt;MAPREDUCE-1501&lt;/del&gt;&lt;/a&gt;, and mapred.input.dir.recursive=true, as long as your query doesn&apos;t hit one of the corner cases enuemrated by Zheng.&lt;/p&gt;

&lt;p&gt;What remains for this task are the following:&lt;/p&gt;

&lt;p&gt;(1) support local file system as well (this failed when I tested it, but I didn&apos;t look into why)&lt;/p&gt;

&lt;p&gt;(2) deal with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1133&quot; title=&quot;Refactor InputFormat and OutputFormat for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1133&quot;&gt;HIVE-1133&lt;/a&gt; to fix the corner cases&lt;/p&gt;

</comment>
                            <comment id="12861920" author="jvs" created="Wed, 28 Apr 2010 19:49:06 +0000"  >&lt;p&gt;Correction:  local file system is probably OK; I just realized that when I tested, I was using the stock hadoop 0.20 version which does not have &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-1501&quot; title=&quot;FileInputFormat to support multi-level/recursive directory listing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-1501&quot;&gt;&lt;del&gt;MAPREDUCE-1501&lt;/del&gt;&lt;/a&gt; in it.&lt;/p&gt;</comment>
                            <comment id="13558674" author="qwertymaniac" created="Mon, 21 Jan 2013 10:26:23 +0000"  >&lt;p&gt;Given that &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-1501&quot; title=&quot;FileInputFormat to support multi-level/recursive directory listing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-1501&quot;&gt;&lt;del&gt;MAPREDUCE-1501&lt;/del&gt;&lt;/a&gt; is in MR2 today, and Hive can make use of it, should we close this out now?&lt;/p&gt;</comment>
                            <comment id="13772440" author="jmspaggi" created="Thu, 19 Sep 2013 23:07:42 +0000"  >&lt;p&gt;Hi don&apos;t think &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-1501&quot; title=&quot;FileInputFormat to support multi-level/recursive directory listing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-1501&quot;&gt;&lt;del&gt;MAPREDUCE-1501&lt;/del&gt;&lt;/a&gt; is fixing this issue. Still getting errors like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.io.IOException: Not a file: hdfs:&lt;span class=&quot;code-comment&quot;&gt;//namenode/user/abcd/data/efgh/logs/2013/07/02
&lt;/span&gt;at org.apache.hadoop.mapred.FileInputFormat.getSplits(FileInputFormat.java:212)
at org.apache.hadoop.hive.ql.io.HiveInputFormat.getSplits(HiveInputFormat.java:292)
at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getSplits(CombineHiveInputFormat.java:329)
at org.apache.hadoop.mapred.JobClient.writeOldSplits(JobClient.java:1090)
at org.apache.hadoop.mapred.JobClient.writeSplits(JobClient.java:1082)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13772565" author="qwertymaniac" created="Fri, 20 Sep 2013 02:01:12 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Can you confirm you used MR2, and that the config toggle specified on &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-1501&quot; title=&quot;FileInputFormat to support multi-level/recursive directory listing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-1501&quot;&gt;&lt;del&gt;MAPREDUCE-1501&lt;/del&gt;&lt;/a&gt; was turned on?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12455384">HIVE-1133</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12456596">MAPREDUCE-1501</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12474757">HIVE-1662</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12441541">HIVE-951</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Jan 2010 02:02:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42623</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 18 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08o6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48517</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1084] Cleanup Class names</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1084</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://java.sun.com/docs/codeconv/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Sun&apos;s Code Conventions for the Java Programming Language&lt;/a&gt; document stipulates that Java class names must begin with a capital letter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446287">HIVE-1084</key>
            <summary>Cleanup Class names</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jan 2010 05:01:36 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:25 +0000</updated>
                            <resolved>Mon, 25 Jan 2010 18:54:13 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12803605" author="cwsteinbach" created="Fri, 22 Jan 2010 05:03:57 +0000"  >&lt;ul&gt;
	&lt;li&gt;Capitalize the class names in o.a.h.h.ql.parse and o.a.h.h.ql.plan&lt;/li&gt;
	&lt;li&gt;Reduce checkstyle violations from 4728 to 4687&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12803654" author="zshao" created="Fri, 22 Jan 2010 09:37:29 +0000"  >&lt;p&gt;There is a problem applying this patch: cannot find ql/src/java/org/apache/hadoop/hive/ql/plan/JoinCondDesc.java to patch.&lt;br/&gt;
Can you take a look?&lt;/p&gt;</comment>
                            <comment id="12804352" author="cwsteinbach" created="Mon, 25 Jan 2010 02:57:46 +0000"  >&lt;p&gt;Ensure that all Java class names begin with a capital letter.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Move ql/plan/&lt;span class=&quot;error&quot;&gt;&amp;#91;a-z&amp;#93;&lt;/span&gt;*Desc.java to ql/plan/desc/&lt;span class=&quot;error&quot;&gt;&amp;#91;A-Z&amp;#93;&lt;/span&gt;*Desc.java&lt;/li&gt;
	&lt;li&gt;Move ql/plan/*Work.java to ql/plan/work/*Work.java&lt;/li&gt;
	&lt;li&gt;Move all annotations defined in ql to ql/annotations&lt;/li&gt;
	&lt;li&gt;Move QB*.java, JoinCond, and JoinType from ql/parse to ql/parse/ast&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I think moving these classes to new packages improves the organization of the code,&lt;br/&gt;
but it is also a necessity on case-insensitive filesystems like OS X&apos;s HFS that&lt;br/&gt;
can not handle file renames involving capitalization.&lt;/p&gt;

&lt;p&gt;I applied this patch to a clean copy of trunk and noticed the following problems:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Deleted files show up as modified files with size 0.&lt;/li&gt;
	&lt;li&gt;The ql/plan/desc, ql/plan/work, ql/parse/ast, and ql/annotations directories and contents are not recognized by SVN. You have to &apos;svn add&apos; each directory.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The following script remedies these problems (run from trunk root):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#/bin/sh

&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; file in `find ql -name *.java -size 0`
&lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt;
    svn revert $file
    svn rm $file
done

svn add ql/src/java/org/apache/hadoop/hive/ql/plan/desc
svn add ql/src/java/org/apache/hadoop/hive/ql/plan/work
svn add ql/src/java/org/apache/hadoop/hive/ql/parse/ast
svn add ql/src/java/org/apache/hadoop/hive/ql/annotations
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="12804356" author="prasadc" created="Mon, 25 Jan 2010 03:17:05 +0000"  >&lt;p&gt;please use &apos;svn rename&apos; to change file names instead of doing &apos;svn delete&apos; and &apos;svn add&apos;. the former will preserve the history where as later do not preserver the history of the file. &lt;/p&gt;</comment>
                            <comment id="12804363" author="cwsteinbach" created="Mon, 25 Jan 2010 03:45:06 +0000"  >&lt;p&gt;I am working on a Mac with a case-insensitive file system, and as a result&lt;br/&gt;
I can&apos;t use &apos;svn rename&apos; when the difference between old and new names&lt;br/&gt;
is just capitalization.&lt;/p&gt;

&lt;p&gt;&apos;svn rename a b&apos; reduces to &apos;svn copy a b; svn delete a&apos;. This fails on case-insensitive&lt;br/&gt;
file systems since svn thinks you are trying to copy the file to itself.&lt;/p&gt;

&lt;p&gt;I have tried doing &apos;svn rename selectDesc.java S1electDesc.java&apos;, followed by&lt;br/&gt;
&apos;svn rename S1electDesc.java SelectDesc.java&apos;, but this seems to corrupt my&lt;br/&gt;
svn index.&lt;/p&gt;

&lt;p&gt;I have two suggestions for how to proceed:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Apply the patch as-is and lose the revision history of the deleted files. I don&apos;t think this is a big deal since the deleted files are mostly bean, annotations, etc and don&apos;t contain much real code.&lt;/li&gt;
	&lt;li&gt;Pass this ticket and patch on to a committer with access to a case-sensitive file system for more work.&lt;/li&gt;
&lt;/ol&gt;

</comment>
                            <comment id="12804374" author="cwsteinbach" created="Mon, 25 Jan 2010 04:40:41 +0000"  >&lt;p&gt;Please ignore my last comment. I created a case-sensitive HFS+ partition and am redoing the patch.&lt;/p&gt;</comment>
                            <comment id="12804384" author="cwsteinbach" created="Mon, 25 Jan 2010 05:29:17 +0000"  >&lt;p&gt;Prepared the patch as follows on an HFS+ case-sensitive volume:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;svn diff --no-diff-deleted --notice-ancestry &amp;gt; cleanup-&lt;span class=&quot;code-keyword&quot;&gt;class-&lt;/span&gt;names.p4.patch
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Apply the patch as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;% cd hive-trunk
% source ../svn-move-renamed-files.sh
% patch -p0 -i ../cleanup-&lt;span class=&quot;code-keyword&quot;&gt;class-&lt;/span&gt;names.p4.patch
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In case anyone is curious, here is how you create a case-sensitive HFS+ volume:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;% hdiutil create -size 2g -type SPARSE -nospotlight -fs &lt;span class=&quot;code-quote&quot;&gt;&quot;Case-sensitive Journaled HFS+&quot;&lt;/span&gt; -volname hfsplus hfsplus
% hdiutil attach hfsplus.sparseimage
% cd /Volumes/hfsplus
% ...
% hdiutil detach /Volumes/hfsplus
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12804388" author="zshao" created="Mon, 25 Jan 2010 05:50:05 +0000"  >&lt;p&gt;Looks good to me. The script and patch applied cleanly.&lt;br/&gt;
Running tests now. Will commit after tests pass.&lt;/p&gt;</comment>
                            <comment id="12804646" author="zshao" created="Mon, 25 Jan 2010 18:54:13 +0000"  >&lt;p&gt;Committed. Also fixed TestParse test result changes. Thanks Carl!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431271" name="cleanup-class-names.2.patch" size="977182" author="cwsteinbach" created="Mon, 25 Jan 2010 02:57:46 +0000"/>
                            <attachment id="12431280" name="cleanup-class-names.4.patch" size="619824" author="cwsteinbach" created="Mon, 25 Jan 2010 05:29:17 +0000"/>
                            <attachment id="12431096" name="cleanup-class-names.patch" size="889937" author="cwsteinbach" created="Fri, 22 Jan 2010 05:03:57 +0000"/>
                            <attachment id="12431281" name="svn-move-renamed-files.sh" size="7287" author="cwsteinbach" created="Mon, 25 Jan 2010 05:29:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Jan 2010 09:37:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73117</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122805</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>cleanup</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1085] ColumnarSerde should not be the default Serde when user specified a fileformat using &apos;stored as&apos;.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1085</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12446366">HIVE-1085</key>
            <summary>ColumnarSerde should not be the default Serde when user specified a fileformat using &apos;stored as&apos;.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jan 2010 20:56:14 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:25 +0000</updated>
                            <resolved>Sat, 23 Jan 2010 01:22:01 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12803870" author="nzhang" created="Fri, 22 Jan 2010 21:05:19 +0000"  >&lt;p&gt;To elaborate, currently ColumnarSerDe is used if the hive.default.fileformat is set to RCFile. It should not ColumnarSerDe if the user specify a different storage format in DDL.&lt;/p&gt;</comment>
                            <comment id="12803908" author="he yongqiang" created="Fri, 22 Jan 2010 22:23:08 +0000"  >&lt;p&gt;hive-1085.2.patch integrates Ning&apos;s offline comments. hive-1085.2.patch is more clear for future change. &lt;/p&gt;</comment>
                            <comment id="12803913" author="nzhang" created="Fri, 22 Jan 2010 22:34:41 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good. Will commit once tests pass.&lt;/p&gt;</comment>
                            <comment id="12803985" author="nzhang" created="Sat, 23 Jan 2010 01:22:01 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang!&lt;/p&gt;</comment>
                            <comment id="12845701" author="he yongqiang" created="Tue, 16 Mar 2010 04:29:08 +0000"  >&lt;p&gt;patch for branch-0.5&lt;/p&gt;</comment>
                            <comment id="12845718" author="nzhang" created="Tue, 16 Mar 2010 05:40:09 +0000"  >&lt;p&gt;committed to 0.5. Thanks Yongqiang!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12438898" name="hive-1085-branch0.5.patch" size="11683" author="he yongqiang" created="Tue, 16 Mar 2010 04:29:08 +0000"/>
                            <attachment id="12431158" name="hive-1085.2.patch" size="11521" author="he yongqiang" created="Fri, 22 Jan 2010 22:23:08 +0000"/>
                            <attachment id="12431150" name="hive-1085.patch" size="11002" author="he yongqiang" created="Fri, 22 Jan 2010 21:47:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Jan 2010 21:05:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73116</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1086] Add &quot;-Doffline=true&quot; option to ant</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1086</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently I am seeing ivy retrieve for 4 times, each time for 4 of the hadoop versions.&lt;br/&gt;
It takes a long time.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ivy-retrieve-hadoop-source:
[ivy:retrieve] :: Ivy 2.0.0-rc2 - 20081028224207 :: http:&lt;span class=&quot;code-comment&quot;&gt;//ant.apache.org/ivy/ ::
&lt;/span&gt;:: loading settings :: file = /hive/trunk/VENDOR.hive/trunk/ivy/ivysettings.xml
[ivy:retrieve] :: resolving dependencies :: org.apache.hadoop.hive#shims;working@zshao.com
[ivy:retrieve]  confs: [&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;]
[ivy:retrieve]  found hadoop#core;0.17.2.1 in hadoop-source
[ivy:retrieve]  found hadoop#core;0.18.3 in hadoop-source
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We should fix this problem. Also it will help if we can add an option &quot;offline&quot; like what hadoop has.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12446400">HIVE-1086</key>
            <summary>Add &quot;-Doffline=true&quot; option to ant</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Sat, 23 Jan 2010 01:05:30 +0000</created>
                <updated>Sat, 17 Dec 2011 00:04:01 +0000</updated>
                            <resolved>Tue, 26 Jan 2010 05:22:35 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12803997" author="jvs" created="Sat, 23 Jan 2010 02:22:59 +0000"  >&lt;p&gt;Zheng, the ant unless attribute just checks to see whether the named property &quot;offline&quot; has been defined; not whether it evaluates to true vs false.  Since your patch defined this property by giving it a default value (false), the unless will cause the ivy:retrieve task to always be skipped.&lt;/p&gt;</comment>
                            <comment id="12804036" author="zshao" created="Sat, 23 Jan 2010 08:08:23 +0000"  >&lt;p&gt;Good point, John. I just corrected this.&lt;/p&gt;

&lt;p&gt;As long as user do &quot;-Doffline=true&quot; then we don&apos;t download anything.&lt;br/&gt;
I cannot pass a conditional property to subant, so I have to convert from offline:defined/undefined to is-offline:true/false in build.xml, and then convert it back to offline:defined/undefined in build-common.xml.&lt;/p&gt;

&lt;p&gt;This follows the same definition as &quot;offline&quot; in build.xml in hadoop-common. Basically users just need to define it but we don&apos;t care about the value of it.&lt;/p&gt;</comment>
                            <comment id="12804707" author="jvs" created="Mon, 25 Jan 2010 20:56:05 +0000"  >&lt;p&gt;New patch looks fine to me.&lt;/p&gt;</comment>
                            <comment id="12804752" author="nzhang" created="Mon, 25 Jan 2010 22:30:31 +0000"  >&lt;p&gt;+1. Will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="12804892" author="nzhang" created="Tue, 26 Jan 2010 05:22:35 +0000"  >&lt;p&gt;Committed. Thanks Zheng!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431206" name="HIVE-1086.2.patch" size="3442" author="zshao" created="Sat, 23 Jan 2010 08:08:23 +0000"/>
                            <attachment id="12431182" name="hive-1086.1.patch" size="1957" author="zshao" created="Sat, 23 Jan 2010 01:50:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 23 Jan 2010 02:22:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73115</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1087] Let user script write out binary data into a table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1087</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We want to allow user script to write out binary stream data.&lt;br/&gt;
We don&apos;t need to understand the binary stream format, but we want to write the data as it is to disk.&lt;/p&gt;

&lt;p&gt;Since inside hive everything is a row object, we need to add a RecordReader which can split the binary stream into records, and a BinaryOutputFormat which writes out the data as it is without any separators.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;DROP TABLE dest1;

-- Create a table with binary output format
CREATE TABLE dest1(mydata STRING)
ROW FORMAT SERDE
  &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe&apos;&lt;/span&gt;
WITH SERDEPROPERTIES (
  &lt;span class=&quot;code-quote&quot;&gt;&apos;serialization.last.column.takes.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt;
)
STORED AS
  INPUTFORMAT &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.mapred.TextInputFormat&apos;&lt;/span&gt;
  OUTPUTFORMAT &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.ql.io.HiveBinaryOutputFormat&apos;&lt;/span&gt;;

-- Insert into that table using transform
EXPLAIN EXTENDED
INSERT OVERWRITE TABLE dest1
SELECT TRANSFORM(*)
  USING &lt;span class=&quot;code-quote&quot;&gt;&apos;cat&apos;&lt;/span&gt;
  AS mydata STRING
    ROW FORMAT SERDE
      &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe&apos;&lt;/span&gt;
    WITH SERDEPROPERTIES (
      &lt;span class=&quot;code-quote&quot;&gt;&apos;serialization.last.column.takes.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt;
    )
    RECORDREADER &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.ql.exec.BinaryRecordReader&apos;&lt;/span&gt;
FROM src;

INSERT OVERWRITE TABLE dest1
SELECT TRANSFORM(*)
  USING &lt;span class=&quot;code-quote&quot;&gt;&apos;cat&apos;&lt;/span&gt;
  AS mydata STRING
    ROW FORMAT SERDE
      &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe&apos;&lt;/span&gt;
    WITH SERDEPROPERTIES (
      &lt;span class=&quot;code-quote&quot;&gt;&apos;serialization.last.column.takes.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt;
    )
    RECORDREADER &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.ql.exec.BinaryRecordReader&apos;&lt;/span&gt;
FROM src;

-- Test the result
SELECT * FROM dest1;

DROP TABLE dest1;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12446403">HIVE-1087</key>
            <summary>Let user script write out binary data into a table</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Sat, 23 Jan 2010 01:55:21 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:28 +0000</updated>
                            <resolved>Tue, 26 Jan 2010 07:42:39 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12804741" author="nzhang" created="Mon, 25 Jan 2010 21:46:35 +0000"  >&lt;p&gt;+1. looks good. Will commit after tests pass.&lt;/p&gt;</comment>
                            <comment id="12804835" author="nzhang" created="Tue, 26 Jan 2010 01:25:14 +0000"  >&lt;p&gt;The test passed on hadoop 0.20, but didn&apos;t pass on 0.17. Can you take a look?&lt;/p&gt;</comment>
                            <comment id="12804847" author="zshao" created="Tue, 26 Jan 2010 01:47:33 +0000"  >&lt;p&gt;Fixed the compilation problem with hadoop 0.17.&lt;/p&gt;</comment>
                            <comment id="12804932" author="nzhang" created="Tue, 26 Jan 2010 07:42:39 +0000"  >&lt;p&gt;Committed to trunk. Thanks Zheng!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431183" name="HIVE-1087.1.patch" size="30262" author="zshao" created="Sat, 23 Jan 2010 01:55:52 +0000"/>
                            <attachment id="12431398" name="HIVE-1087.2.patch" size="30257" author="zshao" created="Tue, 26 Jan 2010 01:47:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Jan 2010 21:46:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73114</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122808</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1088] RCFile RecordReader&apos;s first split will read duplicate rows if the split end is &lt; the first SYNC mark</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1088</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12446431">HIVE-1088</key>
            <summary>RCFile RecordReader&apos;s first split will read duplicate rows if the split end is &lt; the first SYNC mark</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Sat, 23 Jan 2010 19:59:40 +0000</created>
                <updated>Sat, 17 Dec 2011 00:06:03 +0000</updated>
                            <resolved>Tue, 26 Jan 2010 07:39:18 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12804389" author="namit" created="Mon, 25 Jan 2010 05:51:36 +0000"  >&lt;p&gt;Can you add a test for this ?&lt;/p&gt;

&lt;p&gt;Also, do you think it is a good idea to convert a subset of tests to use rcfile ?&lt;/p&gt;</comment>
                            <comment id="12804434" author="he yongqiang" created="Mon, 25 Jan 2010 07:58:36 +0000"  >&lt;p&gt;Will add a testcase. &lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;Also, do you think it is a good idea to convert a subset of tests to use rcfile ?&lt;br/&gt;
Yes. We may need to do this soon or later, and right now is a good time. It maybe better if we do this in a separate jira.&lt;br/&gt;
What others think? &lt;/p&gt;</comment>
                            <comment id="12804473" author="he yongqiang" created="Mon, 25 Jan 2010 09:55:38 +0000"  >&lt;p&gt;Added a testcase in the patch for trunk. (hive-rcfile-reader-trunk.2.patch)&lt;/p&gt;</comment>
                            <comment id="12804632" author="nzhang" created="Mon, 25 Jan 2010 18:23:07 +0000"  >&lt;p&gt;Yongqiang, I noticed you have added a unit test in TestRCFile.java. Is it possible to add a unit test as .q file? The benefit of doing this is that TestRCFile just test one code path for particular functions. If we change the code path later in the real execution engine, we may not cover the error case, but a .q file will  be more likely to catch the caes.&lt;/p&gt;</comment>
                            <comment id="12804639" author="nzhang" created="Mon, 25 Jan 2010 18:35:44 +0000"  >&lt;p&gt;Another suggestion: in RCFileRecordReader.java, next(LongWritable, BytesRefArrayWritable) shares many common code with next(LongWritable). Can you refactor this function to something like:&lt;/p&gt;

&lt;p&gt;public boolean next(LongWritable key, ByteRefArrayWritable value) &lt;br/&gt;
  throws IOException {&lt;br/&gt;
more = next(key);&lt;br/&gt;
if ( more ) {&lt;br/&gt;
  in.getCurrentRow(value);&lt;br/&gt;
}&lt;br/&gt;
return more;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;This will always keep the logic consistent for the two next() functions.&lt;/p&gt;</comment>
                            <comment id="12804810" author="he yongqiang" created="Tue, 26 Jan 2010 00:17:31 +0000"  >&lt;p&gt;Attached 2 patches. hive-1088-branch0.5-2010-1-25.patch is for branch 0.5, and hive-1088-trunk-2010-1-25.patch is for trunk code.&lt;/p&gt;</comment>
                            <comment id="12804853" author="nzhang" created="Tue, 26 Jan 2010 02:04:23 +0000"  >&lt;p&gt;+1. Looks good. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12804929" author="nzhang" created="Tue, 26 Jan 2010 07:39:18 +0000"  >&lt;p&gt;Committed to 0.5.0 and trunk (0.6.0).  Thanks Yongqiang!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431395" name="hive-1088-branch0.5-2010-1-25.2.patch" size="7593" author="he yongqiang" created="Tue, 26 Jan 2010 01:37:14 +0000"/>
                            <attachment id="12431384" name="hive-1088-branch0.5-2010-1-25.patch" size="32820" author="he yongqiang" created="Tue, 26 Jan 2010 00:17:31 +0000"/>
                            <attachment id="12431396" name="hive-1088-trunk-2010-1-25.2.patch" size="7427" author="he yongqiang" created="Tue, 26 Jan 2010 01:37:14 +0000"/>
                            <attachment id="12431385" name="hive-1088-trunk-2010-1-25.patch" size="7805" author="he yongqiang" created="Tue, 26 Jan 2010 00:17:31 +0000"/>
                            <attachment id="12431220" name="hive-rcfile-reader-branch-0.5.patch" size="3639" author="he yongqiang" created="Sat, 23 Jan 2010 20:00:05 +0000"/>
                            <attachment id="12431298" name="hive-rcfile-reader-trunk.2.patch" size="5899" author="he yongqiang" created="Mon, 25 Jan 2010 09:55:38 +0000"/>
                            <attachment id="12431221" name="hive-rcfile-reader-trunk.patch" size="2955" author="he yongqiang" created="Sat, 23 Jan 2010 20:00:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Jan 2010 05:51:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73113</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122809</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1089] Intermittent test failure in groupby_bigdata.q</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1089</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant test -Dtestcase=TestCliDriver -Dqfile=groupby_bigdata.q
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This sometimes fail with out-ot-memory exception in java.&lt;br/&gt;
We might want to tweak the default hash table size in map-side aggregation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446479">HIVE-1089</key>
            <summary>Intermittent test failure in groupby_bigdata.q</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Sun, 24 Jan 2010 22:40:36 +0000</created>
                <updated>Tue, 26 Jan 2010 01:25:31 +0000</updated>
                            <resolved>Tue, 26 Jan 2010 01:25:31 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12804324" author="zshao" created="Sun, 24 Jan 2010 23:07:42 +0000"  >&lt;p&gt;Stack trace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    [junit] Begin query: groupby_bigdata.q
    [junit] plan = /data/users/zshao/hadoop_hive/trunk/build/ql/scratchdir/plan59991.xml
    [junit] Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-10&quot;&lt;/span&gt; java.lang.OutOfMemoryError: Java heap space
    [junit] 	at java.lang.AbstractStringBuilder.&amp;lt;init&amp;gt;(AbstractStringBuilder.java:45)
    [junit] 	at java.lang.StringBuilder.&amp;lt;init&amp;gt;(StringBuilder.java:68)
    [junit] 	at java.lang.StackTraceElement.toString(StackTraceElement.java:157)
    [junit] 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.valueOf(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:2827)
    [junit] 	at java.lang.StringBuilder.append(StringBuilder.java:115)
    [junit] 	at java.lang.Throwable.printStackTrace(Throwable.java:512)
    [junit] 	at org.apache.hadoop.util.StringUtils.stringifyException(StringUtils.java:51)
    [junit] 	at org.apache.hadoop.hive.ql.exec.ScriptOperator$StreamThread.run(ScriptOperator.java:561)
    [junit] java.lang.OutOfMemoryError: Java heap space
    [junit] 	at java.nio.ByteBuffer.wrap(ByteBuffer.java:350)
    [junit] 	at java.nio.ByteBuffer.wrap(ByteBuffer.java:373)
    [junit] 	at java.lang.StringCoding$StringEncoder.encode(StringCoding.java:237)
    [junit] 	at java.lang.StringCoding.encode(StringCoding.java:272)
    [junit] 	at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.getBytes(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:947)
    [junit] 	at java.io.UnixFileSystem.getBooleanAttributes0(Native Method)
    [junit] 	at java.io.UnixFileSystem.getBooleanAttributes(UnixFileSystem.java:228)
    [junit] 	at java.io.File.exists(File.java:733)
    [junit] 	at org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:399)
    [junit] 	at org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:242)
    [junit] 	at org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:600)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Utilities.clearMapRedWork(Utilities.java:114)
    [junit] 	at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:680)
    [junit] 	at org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:936)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    [junit] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    [junit] 	at java.lang.reflect.Method.invoke(Method.java:597)
    [junit] 	at org.apache.hadoop.util.RunJar.main(RunJar.java:155)
    [junit] 	at org.apache.hadoop.mapred.JobShell.run(JobShell.java:194)
    [junit] 	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)
    [junit] 	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)
    [junit] 	at org.apache.hadoop.mapred.JobShell.main(JobShell.java:220)
    [junit] 
    [junit] Traceback (most recent call last):
    [junit]   File &lt;span class=&quot;code-quote&quot;&gt;&quot;../data/scripts/dumpdata_script.py&quot;&lt;/span&gt;, line 6, in &amp;lt;module&amp;gt;
    [junit]     print 20000 * i + k
    [junit] IOError: [Errno 32] Broken pipe
    [junit] org.apache.hadoop.hive.ql.metadata.HiveException: Hit error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; closing ..
    [junit] 	at org.apache.hadoop.hive.ql.exec.ScriptOperator.close(ScriptOperator.java:444)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:228)
    [junit] 	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)
    [junit] 	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:219)
    [junit] 	at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:157)
    [junit] org.apache.hadoop.hive.ql.metadata.HiveException: Hit error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; closing ..
    [junit] 	at org.apache.hadoop.hive.ql.exec.ScriptOperator.close(ScriptOperator.java:444)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:228)
    [junit] 	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)
    [junit] 	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:219)
    [junit] 	at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:157)
    [junit] org.apache.hadoop.hive.ql.metadata.HiveException: Hit error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; closing ..
    [junit] 	at org.apache.hadoop.hive.ql.exec.ScriptOperator.close(ScriptOperator.java:444)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:228)
    [junit] 	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)
    [junit] 	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:219)
    [junit] 	at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:157)
    [junit] org.apache.hadoop.hive.ql.metadata.HiveException: Hit error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; closing ..
    [junit] 	at org.apache.hadoop.hive.ql.exec.ScriptOperator.close(ScriptOperator.java:444)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:228)
    [junit] 	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)
    [junit] 	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:219)
    [junit] 	at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:157)
    [junit] org.apache.hadoop.hive.ql.metadata.HiveException: Hit error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; closing ..
    [junit] 	at org.apache.hadoop.hive.ql.exec.ScriptOperator.close(ScriptOperator.java:444)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.Operator.close(Operator.java:512)
    [junit] 	at org.apache.hadoop.hive.ql.exec.ExecMapper.close(ExecMapper.java:228)
    [junit] 	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)
    [junit] 	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:219)
    [junit] 	at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:157)
    [junit] Exception: Client Execution failed with error code = 9
    [junit] junit.framework.AssertionFailedError: Client Execution failed with error code = 9
    [junit] 	at junit.framework.Assert.fail(Assert.java:47)
    [junit] 	at org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_bigdata(TestCliDriver.java:3660)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    [junit] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    [junit] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    [junit] 	at java.lang.reflect.Method.invoke(Method.java:597)
    [junit] 	at junit.framework.TestCase.runTest(TestCase.java:154)
    [junit] 	at junit.framework.TestCase.runBare(TestCase.java:127)
    [junit] 	at junit.framework.TestResult$1.protect(TestResult.java:106)
    [junit] 	at junit.framework.TestResult.runProtected(TestResult.java:124)
    [junit] 	at junit.framework.TestResult.run(TestResult.java:109)
    [junit] 	at junit.framework.TestCase.run(TestCase.java:118)
    [junit] 	at junit.framework.TestSuite.runTest(TestSuite.java:208)
    [junit] 	at junit.framework.TestSuite.run(TestSuite.java:203)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:420)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:911)
    [junit] 	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:768)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12446605">HIVE-1097</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73112</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122810</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1090] Skew Join does not work in distributed env.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1090</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is due to client side operators do not get a chance to initialize them. And JoinOp&apos;s jobClose refers to two transient vars (handleSkewJoin and numberAlias).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446498">HIVE-1090</key>
            <summary>Skew Join does not work in distributed env.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Jan 2010 04:34:23 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:48 +0000</updated>
                            <resolved>Tue, 26 Jan 2010 16:47:24 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12804854" author="namit" created="Tue, 26 Jan 2010 02:04:34 +0000"  >&lt;p&gt;will be merged as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1094&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1094&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12805089" author="namit" created="Tue, 26 Jan 2010 16:47:24 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Jan 2010 02:04:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73111</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122811</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1091] Enable skew join for the last table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1091</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In my test, even by enabling stream table, it will still take a very long time (actually never get a chance to finish). &lt;/p&gt;</description>
                <environment></environment>
        <key id="12446499">HIVE-1091</key>
            <summary>Enable skew join for the last table</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Jan 2010 04:36:07 +0000</created>
                <updated>Tue, 10 May 2011 22:42:16 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12804393" author="namit" created="Mon, 25 Jan 2010 05:55:25 +0000"  >&lt;p&gt;It might be difficult to do so in the current form, since partial results may already be emitted.&lt;br/&gt;
You will never know the number of rows remaining, so may never be able to decide whether to switch or not in &lt;br/&gt;
the absence of statistics.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Jan 2010 05:55:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42622</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08o9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48531</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1092] Conditional task does not increase finished job counter when filter job out.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1092</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Ended Job = 864272330, job is filtered out (removed at runtime).&lt;br/&gt;
Launching Job 2 out of 3 &lt;/p&gt;


&lt;p&gt;It should be &apos;Launching Job 3 out of 3&quot;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12446500">HIVE-1092</key>
            <summary>Conditional task does not increase finished job counter when filter job out.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Jan 2010 04:38:14 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:28 +0000</updated>
                            <resolved>Fri, 29 Jan 2010 19:20:17 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12806400" author="namit" created="Fri, 29 Jan 2010 17:24:32 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12806452" author="namit" created="Fri, 29 Jan 2010 19:20:17 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431724" name="hive-1092.patch" size="3311" author="he yongqiang" created="Fri, 29 Jan 2010 00:16:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Jan 2010 17:24:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73110</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122812</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1093] Add a &quot;skew join map join size&quot; variable to control the input size of skew join&apos;s following map join job.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1093</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In a test, many skew join key itself &amp;gt;250M size. And the following mapjoin will take several hours to do a mapjoin for those big skew keys. &lt;br/&gt;
This can be better by using a small map input size for the following map join job.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446501">HIVE-1093</key>
            <summary>Add a &quot;skew join map join size&quot; variable to control the input size of skew join&apos;s following map join job.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Jan 2010 04:43:11 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:57 +0000</updated>
                            <resolved>Thu, 28 Jan 2010 17:33:34 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12804395" author="namit" created="Mon, 25 Jan 2010 05:58:21 +0000"  >&lt;p&gt;Do you have performance numbers for the testcase ? I mean, small map size will lead to more mappers each of which is reading the &lt;br/&gt;
other tables. &lt;/p&gt;</comment>
                            <comment id="12804438" author="he yongqiang" created="Mon, 25 Jan 2010 08:11:40 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;Do you have performance numbers for the testcase ?&lt;br/&gt;
Yes. In my testcase, a split of 256M join with 100K is now taking more than 5 hours. (join value can be ignored, so 256M and 100K are about pure key size).&lt;br/&gt;
And the &apos;map join size&apos; should not be determined only by the big size ( eg. 256M). The small size is more important in this case. &lt;/p&gt;

&lt;p&gt;The point is that  KEY1 (&quot;256M join 100K&quot;) should use a much smaller split size than KEY2 (&quot;256M join 1K&quot;).  The problem here is that we are now doing KEY1 and KEY2 in a same job. So if we choose a split size according to KEY1, it maybe a bit small for KEY2.&lt;/p&gt;

&lt;p&gt;If we are going to choose to use bucket join for the followup mapjoin job. We will be able to choose split size independently for different keys (because we are doing that in different jobs).&lt;/p&gt;</comment>
                            <comment id="12805603" author="namit" created="Wed, 27 Jan 2010 18:27:02 +0000"  >&lt;p&gt;The changes look good - does it work for combinehiveinputsplit also ?&lt;/p&gt;</comment>
                            <comment id="12805629" author="he yongqiang" created="Wed, 27 Jan 2010 19:46:43 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;does it work for combinehiveinputsplit also ?&lt;br/&gt;
No. We should not use combine inputformat for this. CombineFileInputFormat use block size as the minimum split size. We need to explicitly specify the second job to use HiveInputFormat. Will update the patch to &quot;explicitly specify the second job to use HiveInputFormat&quot;.&lt;/p&gt;</comment>
                            <comment id="12805683" author="namit" created="Wed, 27 Jan 2010 22:59:29 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good&lt;/p&gt;</comment>
                            <comment id="12805997" author="namit" created="Thu, 28 Jan 2010 17:33:34 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431612" name="hive-1093.2.patch" size="7053" author="he yongqiang" created="Wed, 27 Jan 2010 22:37:21 +0000"/>
                            <attachment id="12431499" name="hive-1093.patch" size="6030" author="he yongqiang" created="Wed, 27 Jan 2010 03:13:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Jan 2010 05:58:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122813</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1094] Disable streaming last table if there is a skew key in previous tables.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1094</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In JoinOperator&apos;s processOp()&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(alias == numAliases -1){
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (sz == joinEmitInterval) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 

&lt;p&gt;should be changed to&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(alias == numAliases - 1 &amp;amp;&amp;amp; !(handleSkewJoin &amp;amp;&amp;amp; skewJoinKeyContext.currBigKeyTag &amp;gt;= 0)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; </description>
                <environment></environment>
        <key id="12446508">HIVE-1094</key>
            <summary>Disable streaming last table if there is a skew key in previous tables.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Jan 2010 08:15:43 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:58 +0000</updated>
                            <resolved>Tue, 26 Jan 2010 16:47:05 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12804637" author="namit" created="Mon, 25 Jan 2010 18:33:19 +0000"  >&lt;p&gt;I am not sure this is a good idea - for the last table, unless you stop streaming, you never know the size&lt;/p&gt;</comment>
                            <comment id="12804779" author="he yongqiang" created="Mon, 25 Jan 2010 23:12:15 +0000"  >&lt;p&gt;hive.1094.patch contains a fix for both hive-1094 and hive-1090&lt;/p&gt;</comment>
                            <comment id="12804851" author="namit" created="Tue, 26 Jan 2010 02:04:10 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if tests pass&lt;/p&gt;</comment>
                            <comment id="12805088" author="namit" created="Tue, 26 Jan 2010 16:47:05 +0000"  >&lt;p&gt;committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431371" name="hive.1094.patch" size="1051" author="he yongqiang" created="Mon, 25 Jan 2010 23:12:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Jan 2010 18:33:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122814</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1095] Hive in Maven</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1095</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Getting hive into maven main repositories&lt;/p&gt;

&lt;p&gt;Documentation on how to do this is on:&lt;br/&gt;
&lt;a href=&quot;http://maven.apache.org/guides/mini/guide-central-repository-upload.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/guides/mini/guide-central-repository-upload.html&lt;/a&gt;&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12446510">HIVE-1095</key>
            <summary>Hive in Maven</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gerritjvv">Gerrit Jansen van Vuuren</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Jan 2010 09:01:27 +0000</created>
                <updated>Wed, 27 Jul 2011 04:20:25 +0000</updated>
                            <resolved>Wed, 18 May 2011 10:25:25 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.7.1</fixVersion>
                    <fixVersion>0.8.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="12828108" author="gerritjvv" created="Mon, 1 Feb 2010 13:48:09 +0000"  >&lt;p&gt;OK, I&apos;ve given some thought on this and propose the following:&lt;/p&gt;

&lt;p&gt;Have a task called make-pom in the build-common.xml that uses the ivy makepom ant task to auto generate a pom for each project:&lt;/p&gt;

&lt;p&gt;The ant task is:&lt;/p&gt;

&lt;p&gt; &amp;lt;target name=&quot;make-pom&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;ivy:makepom ivyfile=&quot;${basedir}/ivy.xml&quot; pomfile=&quot;${basedir}/pom.xml&quot;&amp;gt;&lt;br/&gt;
     &amp;lt;mapping conf=&quot;default&quot; scope=&quot;compile&quot;/&amp;gt;&lt;br/&gt;
     &amp;lt;mapping conf=&quot;runtime&quot; scope=&quot;runtime&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/ivy:makepom&amp;gt;&lt;br/&gt;
  &amp;lt;/target&amp;gt;&lt;/p&gt;


&lt;p&gt;The generated pom for CLI is:&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;!--&lt;br/&gt;
   Apache Maven 2 POM generated by Apache Ivy&lt;br/&gt;
   &lt;a href=&quot;http://ant.apache.org/ivy/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ant.apache.org/ivy/&lt;/a&gt;&lt;br/&gt;
   Apache Ivy version: 2.1.0 20090925235825&lt;br/&gt;
--&amp;gt;&lt;br/&gt;
&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/maven-v4_0_0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://maven.apache.org/maven-v4_0_0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
  &amp;lt;groupId&amp;gt;org.apache.hadoop.hive&amp;lt;/groupId&amp;gt;&lt;br/&gt;
  &amp;lt;artifactId&amp;gt;cli&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
  &amp;lt;packaging&amp;gt;jar&amp;lt;/packaging&amp;gt;&lt;br/&gt;
  &amp;lt;version&amp;gt;0.4.1&amp;lt;/version&amp;gt;&lt;br/&gt;
  &amp;lt;dependencies&amp;gt;&lt;br/&gt;
    &amp;lt;dependency&amp;gt;&lt;br/&gt;
      &amp;lt;groupId&amp;gt;hadoop&amp;lt;/groupId&amp;gt;&lt;br/&gt;
      &amp;lt;artifactId&amp;gt;core&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
      &amp;lt;version&amp;gt;0.19.0&amp;lt;/version&amp;gt;&lt;br/&gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;&lt;br/&gt;
    &amp;lt;/dependency&amp;gt;&lt;br/&gt;
  &amp;lt;/dependencies&amp;gt;&lt;br/&gt;
&amp;lt;/project&amp;gt;&lt;/p&gt;


&lt;p&gt;From here I can make an ant task that will load the JAR and POM for all the hive subprojects into a maven2 repo.&lt;/p&gt;

&lt;p&gt;The next step would be to setup a hive maven repo.&lt;br/&gt;
Basically how this works is:&lt;br/&gt;
 Hive has its own repo and makes ONLY releases to this.&lt;br/&gt;
 Then send a request (I can do that) to the maven repos to be synched up with then.&lt;br/&gt;
  And voila, you&apos;ll have all hive releases that are released to the hive maven repo available on the main maven repos.&lt;/p&gt;

&lt;p&gt;Does your team have access to a server to do this setup? &lt;br/&gt;
Below I write a mini how to for artifactory:&lt;br/&gt;
 Easiest is as standalone:&lt;br/&gt;
 -&amp;gt; Download the artifactory zip at &lt;a href=&quot;http://sourceforge.net/projects/artifactory/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://sourceforge.net/projects/artifactory/&lt;/a&gt; &lt;br/&gt;
 -&amp;gt; run bin/artifactory.sh &lt;br/&gt;
 As a WAR:&lt;br/&gt;
 -&amp;gt; Download the zip file&lt;br/&gt;
 -&amp;gt; copy to webapps/artifactory.war to tomcat or jetty.&lt;/p&gt;

&lt;p&gt;Setup is done via the artifactory admin window:&lt;br/&gt;
 defaults are:  username: admin password: password (must be changed  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;


</comment>
                            <comment id="12840190" author="gerritjvv" created="Tue, 2 Mar 2010 15:03:39 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I&apos;ve finally got around to doing writing the ant tasks needed to help deploy hive jars to maven.&lt;/p&gt;

&lt;p&gt;The maven upload is simpler for apache software foundation projects. &lt;br/&gt;
The procedure for uploading is explained at &lt;a href=&quot;http://www.apache.org/dev/release-publishing.html#repository-guide&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.apache.org/dev/release-publishing.html#repository-guide&lt;/a&gt; and this is what the ant tasks in the patch does.&lt;/p&gt;

&lt;p&gt;1. The patch changes ivy.xml files to include a info tag with licence information.&lt;br/&gt;
2. uses a makepom task that will generate the pom.xml file for each sub project i.e. ql. shims etc.&lt;br/&gt;
3. prepare the maven deploy &lt;br/&gt;
    a. by creating a build/maven directory,&lt;br/&gt;
    b. copying the jar files like hive_exec.jar and naming them hive-exec-${version}.jar&lt;br/&gt;
    c. copying the pom.xml files&lt;br/&gt;
    d. copying over the apache 2 licence (hope this is the correct licence.&lt;br/&gt;
    e. creating the required checksums for all files in the build/maven directory&lt;/p&gt;

&lt;p&gt;So to use this and generate the contents for the build/maven directory that will contain jars, poms, and licences folder just run the prepare-maven-publish task.&lt;br/&gt;
The final task is the maven-publish task that does a scp to  people.apache.org:/www/people.apache.org/repo/m1-ibiblio-rsync-repository/org/apache/hadoop/hive/, if the poms,jars, and licences folders are in here it will automatically be synced with the main maven repo.&lt;/p&gt;

&lt;p&gt;I have some questions:&lt;br/&gt;
 -&amp;gt; Do you guys have access to the /www/people.apache.org/repo/m1-ibiblio-rsync-repository/org/apache/hadoop/hive/ ? &lt;br/&gt;
 -&amp;gt; Is the assumption correct that hive uses the APACHE 2.0 licence?&lt;br/&gt;
 -&amp;gt; Would somebody be able to apply this patch after review (not commit) but just to generate the jars,poms for the hive-4x release to deploy this to maven and then for the hive-5x release?&lt;/p&gt;


</comment>
                            <comment id="12840213" author="gerritjvv" created="Tue, 2 Mar 2010 15:59:17 +0000"  >&lt;p&gt;Hi this patch is exactly the same as the others expect that its for the current hive trunk.&lt;br/&gt;
It also used ${version} inside the ivy.xml files to be more generic.&lt;/p&gt;</comment>
                            <comment id="12841573" author="he yongqiang" created="Thu, 4 Mar 2010 22:35:39 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;Would somebody be able to apply this patch after review (not commit) &lt;br/&gt;
Does this mean the patch need to regenerated after any conflicting changes? &lt;/p&gt;</comment>
                            <comment id="12841600" author="gerritjvv" created="Thu, 4 Mar 2010 23:15:34 +0000"  >&lt;p&gt;What I said was a bit confusing I&apos;ve realized &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; and what I meant was:&lt;/p&gt;

&lt;p&gt;There are two parts:&lt;/p&gt;

&lt;p&gt; -&amp;gt; Commiting (if reviewed and accepted) the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; title=&quot;Hive in Maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1095&quot;&gt;&lt;del&gt;HIVE-1095&lt;/del&gt;&lt;/a&gt;-trunk.patch to the trunk. This is generated against trunk. &lt;/p&gt;

&lt;p&gt; -&amp;gt; Using the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; title=&quot;Hive in Maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1095&quot;&gt;&lt;del&gt;HIVE-1095&lt;/del&gt;&lt;/a&gt;-0.4.1.patch against the version 0.4.1 of hive to generate the maven artifacts for 0.4.1 hive, are commits allowed for already versioned releases? if so then it would be better to have it committed cause any changes to build.xml, ivy.xml or build-common.xml would mean that the patch needs generation.&lt;/p&gt;

&lt;p&gt;So the broad scope and idea would be to publish the already released hive versions to the maven repo:&lt;br/&gt;
 0.3.0 &lt;br/&gt;
 0.4.0&lt;br/&gt;
 0.4.1 &lt;br/&gt;
 0.5.0&lt;br/&gt;
and then have the build in trunk so that when another release is made the maven publishing code is already in the build and its only needed to run ant maven-publish.&lt;/p&gt;

&lt;p&gt;By writing this I&apos;ve realized that I probably need to generate the patches for the builds on the other versions of hive also, should I do this and attach to this task?&lt;/p&gt;


</comment>
                            <comment id="12841783" author="gerritjvv" created="Fri, 5 Mar 2010 09:44:53 +0000"  >
&lt;p&gt;I might not be making sense but thinking again, should I just use this to generate the poms and jars for 0.3.0, 0.4.0, 0.4.1, and 0.5.0, &lt;br/&gt;
i.e. have a tar.gz containing the poms, jars and licences folders for each version.  Then attach those to this task. Then these can be scp(ed) over to the apache servers (I&apos;ll include a little ant build.xml to do this).&lt;/p&gt;

&lt;p&gt;Then we only have to worry about commit on the trunk. using Hive-1095-trunk.patch.&lt;/p&gt;

&lt;p&gt;Any thoughts?&lt;/p&gt;</comment>
                            <comment id="12842007" author="appodictic" created="Fri, 5 Mar 2010 20:33:02 +0000"  >&lt;p&gt;If it is a lot of effort making patches for 0.3.0 and 0.4.0 could be skipped. Generally we have been applying most changes to trunk and sometimes the latest branch. &lt;/p&gt;</comment>
                            <comment id="12842720" author="gerritjvv" created="Mon, 8 Mar 2010 16:30:20 +0000"  >&lt;p&gt;Yep would be easier.&lt;/p&gt;

&lt;p&gt;So then we have:&lt;br/&gt;
 -&amp;gt; Patch for trunk as Hive-1095-trunk.patch&lt;br/&gt;
 -&amp;gt; I&apos;ll generate the ant script to do the hive for verions 0.4.1 and 0.5&lt;/p&gt;

&lt;p&gt;How does that sound?&lt;/p&gt;</comment>
                            <comment id="12845292" author="gerritjvv" created="Mon, 15 Mar 2010 12:40:05 +0000"  >&lt;p&gt;Making new patch release&lt;/p&gt;</comment>
                            <comment id="12845296" author="gerritjvv" created="Mon, 15 Mar 2010 12:48:00 +0000"  >&lt;p&gt;This package is meant to be used to prepare the hive 0.4.1 and 0.5.0 jars for maven deploy as per &lt;a href=&quot;http://www.apache.org/dev/release-publishing.html#repository-guide&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.apache.org/dev/release-publishing.html#repository-guide&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The tar.gz contains:&lt;br/&gt;
-&amp;gt; build.xml &lt;br/&gt;
-&amp;gt;resources/&lt;br/&gt;
      -&amp;gt;0.5.0/&lt;br/&gt;
           -&amp;gt;poms, licences&lt;br/&gt;
       -&amp;gt;0.4.1/&lt;br/&gt;
           -&amp;gt;poms, licences&lt;/p&gt;

&lt;p&gt;How to use for hive 0.4.1:&lt;br/&gt;
1)Extract the hiveReleasedToMaven.tar.gz to a directory.&lt;br/&gt;
2)At command line type: ant preparejars-0.4.1&lt;br/&gt;
3)On success the poms, jars, licences directories can be found at build/dist/0.4.1&lt;br/&gt;
4)Use scp to deploy to &lt;span class=&quot;error&quot;&gt;&amp;#91;username&amp;#93;&lt;/span&gt;:&lt;span class=&quot;error&quot;&gt;&amp;#91;password&amp;#93;&lt;/span&gt;@people.apache.org:/www/people.apache.org/repo/m1-ibiblio-rsync-repository/org/apache/hadoop/hive/&lt;/p&gt;

&lt;p&gt;How to use for hive 0.5.0:&lt;br/&gt;
1)Extract the hiveReleasedToMaven.tar.gz to a directory.&lt;br/&gt;
2)At command line type: ant preparejars-0.5.0&lt;br/&gt;
3)On success the poms,jars, licences directories can be found at build/dist/0.5.0&lt;br/&gt;
4)Use scp to deploy to &lt;span class=&quot;error&quot;&gt;&amp;#91;username&amp;#93;&lt;/span&gt;:&lt;span class=&quot;error&quot;&gt;&amp;#91;password&amp;#93;&lt;/span&gt;@people.apache.org:/www/people.apache.org/repo/m1-ibiblio-rsync-repository/org/apache/hadoop/hive/&lt;/p&gt;
</comment>
                            <comment id="12845377" author="gerritjvv" created="Mon, 15 Mar 2010 15:50:48 +0000"  >&lt;p&gt;This patch is meant to be commited (if accepted) to the hive trunk. &lt;/p&gt;

&lt;p&gt;Purpose:&lt;br/&gt;
  Firstly to create a build/maven directory structure with the jar, autogenerated pom files and, licences (apache LICENCE-2.0).&lt;br/&gt;
  Optional deploy target for deploying to the maven Nexus repository Manager.&lt;/p&gt;

&lt;p&gt;How to create maven directory structure:&lt;br/&gt;
 1) Type in ant prepare-maven-publish&lt;br/&gt;
 The maven directory structure will be in build/maven/ containing poms,jars,licences folders.&lt;/p&gt;

&lt;p&gt;I&apos;ll write a comment on the different deployment strategies.&lt;/p&gt;</comment>
                            <comment id="12845389" author="gerritjvv" created="Mon, 15 Mar 2010 16:05:15 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I&apos;ve been doing some research and browsing and have find 2 major ways in which ASF projects can do deployments for maven, scp or using the ASF Nexus Maven Repo Manager. Please ignore step 4 on the above patch for uploading versions 0.4.1 and 0.5.0.&lt;/p&gt;

&lt;p&gt;One option is using the scp to the &lt;a href=&quot;http://people.apache.org/repo/m2-ibiblio-rsync-repository&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/repo/m2-ibiblio-rsync-repository&lt;/a&gt; repository but this is not the most appropriate and from what I&apos;ve read ASF projects should use the ASF Nexus Maven Repo Manager. I&apos;ve looked at the hadoop core build.xml files and it uses this strategy.&lt;/p&gt;

&lt;p&gt;There are 2 ways of deploying using Nexus:&lt;br/&gt;
1) Goto &lt;a href=&quot;https://repository.apache.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/&lt;/a&gt; and deploy the jar files manually see ( &lt;a href=&quot;http://www.sonatype.com/books/nexus-book/reference/staging-sect-uploading-staged.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.sonatype.com/books/nexus-book/reference/staging-sect-uploading-staged.html&lt;/a&gt;)&lt;br/&gt;
2) Via maven -&amp;gt; Use the ant target provided in this patch called maven-publish&lt;/p&gt;

&lt;p&gt;Prior to doing either of these access credentials must be applied for, the &lt;a href=&quot;https://issues.apache.org/jira/browse/INFRA-1896&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/INFRA-1896&lt;/a&gt; tasks contains the information on how to go about this, with some reference documentation links. &lt;/p&gt;

</comment>
                            <comment id="12879950" author="cwsteinbach" created="Thu, 17 Jun 2010 21:45:18 +0000"  >&lt;p&gt;The patch applies cleanly, but I get the following error when I run the prepare-maven-publish target:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
% ant maven-publish-artifact
Buildfile: /Users/carl/Projects/hive/build.xml

ant-task-download:
      [get] Getting: http:&lt;span class=&quot;code-comment&quot;&gt;//repo2.maven.org/maven2/org/apache/maven/maven-ant-tasks/2.1.0/maven-ant-tasks-2.1.0.jar
&lt;/span&gt;      [get] To: /Users/carl/Projects/hive/build/maven-ant-tasks-2.1.0.jar

mvn-taskdef:

maven-publish-artifact:
[artifact:pom] An error has occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing the Maven artifact tasks.
[artifact:pom]  Diagnosis:
[artifact:pom] 
[artifact:pom] Unable to initialize POM hive-${hive.project}-0.6.0.pom: Could not find the model file 
&lt;span class=&quot;code-quote&quot;&gt;&apos;/Users/carl/Projects/hive/build/maven/poms/hive-${hive.project}-0.6.0.pom&apos;&lt;/span&gt;. &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; project unknown
[artifact:pom] /Users/carl/Projects/hive/build/maven/poms/hive-${hive.project}-0.6.0.pom (No such file or directory)

BUILD FAILED
/Users/carl/Projects/hive/build.xml:410: Unable to initialize POM hive-${hive.project}-0.6.0.pom:
Could not find the model file &lt;span class=&quot;code-quote&quot;&gt;&apos;/Users/carl/Projects/hive/build/maven/poms/hive-${hive.project}-0.6.0.pom&apos;&lt;/span&gt;. &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; project unknown

Total time: 5 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It looks like the make-pom target needs to depend on ivy-init?&lt;/p&gt;</comment>
                            <comment id="13001115" author="neunand" created="Tue, 1 Mar 2011 21:05:28 +0000"  >&lt;p&gt;Hi, I am working on Oozie (github.com/yahoo/oozie) and there is high demand for Hive support for Oozie. Currently that is problematic because there is no Hive release in the Apache Maven repository. Because Oozie is mavenized, we would need Maven artifacts available, preferably in the Apache repository. Any chance this could be resolved soon? Thanks -Andreas.&lt;/p&gt;</comment>
                            <comment id="13001262" author="cwsteinbach" created="Wed, 2 Mar 2011 03:46:54 +0000"  >&lt;p&gt;Relevant ASF documentation:&lt;br/&gt;
&lt;a href=&quot;http://www.apache.org/dev/repository-faq.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.apache.org/dev/repository-faq.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://www.apache.org/dev/publishing-maven-artifacts.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.apache.org/dev/publishing-maven-artifacts.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13005024" author="amareshwari" created="Thu, 10 Mar 2011 10:37:19 +0000"  >&lt;p&gt;Gerrit, are you planning to regenerate the patch incorporating Carl&apos;s comments?&lt;/p&gt;</comment>
                            <comment id="13005598" author="gerritjvv" created="Fri, 11 Mar 2011 11:10:02 +0000"  >&lt;p&gt;hi,&lt;br/&gt;
I haven&apos;t looked at this patch for some time.&lt;br/&gt;
I&apos;ll try and do this over the weekend. See how it goes.&lt;/p&gt;</comment>
                            <comment id="13006847" author="amareshwari" created="Tue, 15 Mar 2011 08:59:37 +0000"  >&lt;p&gt;Gerrit, did you get a chance to do this? As it is little urgent for us, I would like to take this up if you can not find time for finishing it.&lt;/p&gt;</comment>
                            <comment id="13006965" author="gerritjvv" created="Tue, 15 Mar 2011 15:23:12 +0000"  >&lt;p&gt;hive patch for generating maven artifacts for hive.&lt;/p&gt;</comment>
                            <comment id="13006971" author="gerritjvv" created="Tue, 15 Mar 2011 15:28:49 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;The above patch compiles and generates the maven artifacts to : build/maven&lt;br/&gt;
3 directories are generated: jars, licences, and poms.&lt;/p&gt;

&lt;p&gt;Notes:&lt;br/&gt;
The poms are automatically generated from the ivy dependencies. &lt;br/&gt;
md5 and sha1 checksums is generated for each artifact (jar, pom, and licence).&lt;/p&gt;

&lt;p&gt;Target to run:&lt;br/&gt;
From the trunk/build.xml the target make-maven can be used.&lt;br/&gt;
From each sub project the target make-pom can be used.&lt;/p&gt;

&lt;p&gt;As far as I could read this should be enough to deploy to a maven repository. &lt;br/&gt;
The groupId would be org.apache.hadoop.hive, this is what was in the ivy files.&lt;/p&gt;

&lt;p&gt;I have added another target called  maven-publish  in the trunk/build.xml&lt;br/&gt;
This has not been tested and is supposed to make deployment to a maven repository easier.&lt;/p&gt;



</comment>
                            <comment id="13007144" author="cwsteinbach" created="Tue, 15 Mar 2011 20:21:37 +0000"  >&lt;p&gt;Since Hive is now a TLP I think the groupId should be &quot;org.apache.hive&quot;&lt;/p&gt;</comment>
                            <comment id="13007175" author="gerritjvv" created="Tue, 15 Mar 2011 20:54:04 +0000"  >&lt;p&gt;True it should be org.apache.hive&lt;br/&gt;
here is the updated patch.&lt;/p&gt;

&lt;p&gt;(I also applied some space formatting to the build.xml file).&lt;/p&gt;</comment>
                            <comment id="13007334" author="amareshwari" created="Wed, 16 Mar 2011 03:31:11 +0000"  >&lt;p&gt;Also, homeepage should be &lt;a href=&quot;http://hive.apache.org&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hive.apache.org&lt;/a&gt;, not http//hadoop.apache.org/hive. &lt;/p&gt;</comment>
                            <comment id="13007344" author="gkesavan" created="Wed, 16 Mar 2011 04:05:03 +0000"  >&lt;p&gt;v3 version of patch fails with a conflict on build-common.xml&lt;/p&gt;

&lt;p&gt;Hunk #1 FAILED at 1.&lt;br/&gt;
1 out of 1 hunk FAILED &amp;#8211; saving rejects to file build-common.xml.rej&lt;/p&gt;
</comment>
                            <comment id="13007467" author="gerritjvv" created="Wed, 16 Mar 2011 13:39:11 +0000"  >&lt;p&gt;fixed,&lt;/p&gt;</comment>
                            <comment id="13009030" author="amareshwari" created="Mon, 21 Mar 2011 05:53:54 +0000"  >&lt;p&gt;When I ran make-maven target, build failed with following error:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;BUILD FAILED
/Users/amarsri/hive/build.xml:706: Warning: Could not find file /Users/amarsri/hive/build/ql/pom.xml to copy.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I don&apos;t see any pom files created in build directory.&lt;/p&gt;</comment>
                            <comment id="13011514" author="gkesavan" created="Sat, 26 Mar 2011 00:19:11 +0000"  >&lt;p&gt;I got the same error as Amareshwari mentioned in the previous comment. But I fixed locally by changing the dependency of make-pom target. ie made the make-pom target to depend on check-ivy instead of ivy-init.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;build-common.xml 
- &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;make-pom&quot;&lt;/span&gt; if=&lt;span class=&quot;code-quote&quot;&gt;&quot;ivy.present&quot;&lt;/span&gt; depends=&lt;span class=&quot;code-quote&quot;&gt;&quot;ivy-init, jar&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
+ &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;target name=&lt;span class=&quot;code-quote&quot;&gt;&quot;make-pom&quot;&lt;/span&gt; if=&lt;span class=&quot;code-quote&quot;&gt;&quot;ivy.present&quot;&lt;/span&gt; depends=&lt;span class=&quot;code-quote&quot;&gt;&quot;check-ivy, jar&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This seem to work fine.. &lt;/p&gt;

&lt;p&gt;About snapshot versioning:&lt;br/&gt;
I think we cannot publish snapshots to the staging/release repository. Snapshots can only go the the snapshots repo. &lt;br/&gt;
We need to fix the version string so that we can publish to the staging/release repo.&lt;/p&gt;</comment>
                            <comment id="13011521" author="gkesavan" created="Sat, 26 Mar 2011 00:47:10 +0000"  >&lt;p&gt;someone with hive committer access should try this to see if we are able to publish to the nexus staging repo.&lt;/p&gt;

&lt;p&gt;ant make-maven -Dversion=0.8.0&lt;br/&gt;
ant maven-publish -Dversion=0.8.0&lt;/p&gt;
</comment>
                            <comment id="13011527" author="cwsteinbach" created="Sat, 26 Mar 2011 01:11:07 +0000"  >&lt;p&gt;@Giridharan: 0.8.0 is the current trunk development branch. We haven&apos;t voted to release this version yet, so we shouldn&apos;t publish anything other than 0.8.0 SNAPSHOTs to the snapshot repository. If you want to publish artifacts to the release repo then we need to backport this patch to branch-0.7.&lt;/p&gt;</comment>
                            <comment id="13011617" author="gerritjvv" created="Sat, 26 Mar 2011 11:54:46 +0000"  >&lt;p&gt;patch with fix check-ivy&lt;/p&gt;

&lt;p&gt;to make the pom files and jars type make-maven&lt;/p&gt;</comment>
                            <comment id="13011618" author="gerritjvv" created="Sat, 26 Mar 2011 11:56:15 +0000"  >&lt;p&gt;Thanks Giridharan for the fix proposed above.&lt;br/&gt;
I&apos;ve added that to the v5 patch file.&lt;/p&gt;</comment>
                            <comment id="13012641" author="gkesavan" created="Tue, 29 Mar 2011 19:34:41 +0000"  >&lt;p&gt;@Carl Steinbach. I proposed this for the purpose of testing; For publishing to staging repo we don&apos;t have to go for a voting. If someone can confirm that this patch work by publishing artifacts to staging then the same committer can drop the artifact from the staging repo. And later someone can work on porting the patch to 0.7 branch. &lt;/p&gt;</comment>
                            <comment id="13012834" author="amareshwari" created="Wed, 30 Mar 2011 03:48:10 +0000"  >&lt;blockquote&gt;&lt;p&gt;someone with hive committer access should try this to see if we are able to publish to the nexus staging repo.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I tried that, but I&apos;m getting 401 error, even with proper settings in ~/.m2/settings.xml.&lt;br/&gt;
I tried to publish snapshot also by changing apache.releases.https to apache.snapshots.https in the patch and running the above for 0.8.0-SNAPSHOT version. It failed with error 401. &lt;/p&gt;

&lt;p&gt;Can someone else try this?&lt;/p&gt;</comment>
                            <comment id="13014809" author="jiraposter@reviews.apache.org" created="Fri, 1 Apr 2011 20:13:06 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/543/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; title=&quot;Hive in Maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1095&quot;&gt;&lt;del&gt;HIVE-1095&lt;/del&gt;&lt;/a&gt;: &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12474700/HIVE-1095.v5.PATCH&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12474700/HIVE-1095.v5.PATCH&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; title=&quot;Hive in Maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1095&quot;&gt;&lt;del&gt;HIVE-1095&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1095&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/LICENSE-2.0.txt PRE-CREATION &lt;br/&gt;
  trunk/ant/ivy.xml 1082104 &lt;br/&gt;
  trunk/build-common.xml 1082104 &lt;br/&gt;
  trunk/build.xml 1082104 &lt;br/&gt;
  trunk/cli/ivy.xml 1082104 &lt;br/&gt;
  trunk/common/ivy.xml 1082104 &lt;br/&gt;
  trunk/contrib/ivy.xml 1082104 &lt;br/&gt;
  trunk/hbase-handler/ivy.xml 1082104 &lt;br/&gt;
  trunk/hwi/ivy.xml 1082104 &lt;br/&gt;
  trunk/ivy.xml 1082104 &lt;br/&gt;
  trunk/metastore/ivy.xml 1082104 &lt;br/&gt;
  trunk/ql/ivy.xml 1082104 &lt;br/&gt;
  trunk/serde/ivy.xml 1082104 &lt;br/&gt;
  trunk/shims/ivy.xml 1082104 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/543/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Carl&lt;/p&gt;
</comment>
                            <comment id="13015744" author="jiraposter@reviews.apache.org" created="Tue, 5 Apr 2011 04:01:05 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/543/#review384&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/#review384&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/build-common.xml&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/543/#comment728&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/#comment728&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    url should be &lt;a href=&quot;http://svn.apache.org/repos/asf/hive&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive&lt;/a&gt;.&lt;/p&gt;



&lt;p&gt;trunk/build.xml&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/543/#comment726&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/#comment726&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Shall we add snapshot repo also here for &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/repositories/snapshots&lt;/a&gt; ?&lt;/p&gt;



&lt;p&gt;trunk/build.xml&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/543/#comment727&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/#comment727&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    We should have target to publish snapshots also. Repository is apache.snapshots.https&lt;/p&gt;



&lt;p&gt;trunk/cli/ivy.xml&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/543/#comment732&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/#comment732&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    why is module name changed to serde?&lt;/p&gt;



&lt;p&gt;trunk/hbase-handler/ivy.xml&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/543/#comment731&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/#comment731&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    should module name be hbase-handler?&lt;/p&gt;



&lt;p&gt;trunk/ivy.xml&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/543/#comment729&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/#comment729&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    url should be &lt;a href=&quot;http://hive.apache.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hive.apache.org/&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;trunk/ql/ivy.xml&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/543/#comment730&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/#comment730&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    why is module name changed to exec?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Amareshwari&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-04-01 20:12:49, Carl Steinbach wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/543/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-04-01 20:12:49)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; title=&quot;Hive in Maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1095&quot;&gt;&lt;del&gt;HIVE-1095&lt;/del&gt;&lt;/a&gt;: &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12474700/HIVE-1095.v5.PATCH&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12474700/HIVE-1095.v5.PATCH&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; title=&quot;Hive in Maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1095&quot;&gt;&lt;del&gt;HIVE-1095&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1095&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/LICENSE-2.0.txt PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ant/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/build-common.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/build.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/cli/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/common/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/contrib/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/hbase-handler/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/hwi/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/shims/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/543/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Carl&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13015747" author="jiraposter@reviews.apache.org" created="Tue, 5 Apr 2011 04:15:05 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/543/#review385&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/#review385&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/build.xml&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/543/#comment733&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/#comment733&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Shouldn&apos;t we copy contrib, jdbc, hbase-handler, hwi and service jars also?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Amareshwari&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-04-01 20:12:49, Carl Steinbach wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/543/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-04-01 20:12:49)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; title=&quot;Hive in Maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1095&quot;&gt;&lt;del&gt;HIVE-1095&lt;/del&gt;&lt;/a&gt;: &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12474700/HIVE-1095.v5.PATCH&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12474700/HIVE-1095.v5.PATCH&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; title=&quot;Hive in Maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1095&quot;&gt;&lt;del&gt;HIVE-1095&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1095&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/LICENSE-2.0.txt PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ant/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/build-common.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/build.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/cli/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/common/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/contrib/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/hbase-handler/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/hwi/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/shims/ivy.xml 1082104 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/543/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/543/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Carl&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13015750" author="amareshwari" created="Tue, 5 Apr 2011 04:34:20 +0000"  >&lt;p&gt;Thanks Carl for review request. Update the review board with some comments.&lt;/p&gt;

&lt;p&gt;Current patch is building the jars properly. Can someone try the commands put by Giri? I&apos;m getting 401 error when i tried.&lt;/p&gt;</comment>
                            <comment id="13016146" author="nzhang" created="Tue, 5 Apr 2011 22:00:51 +0000"  >&lt;p&gt;I tried the first command:  ant make-maven -Dversion=0.8.0-SNAPSHOT -logfile make-maven.log&lt;br/&gt;
and it seems succeeded. I&apos;ll attached make-maven.log. It would be nice that someone has the knowledge can take a look and see if it is correct. &lt;/p&gt;

&lt;p&gt;I haven&apos;t not run the other command to publish maven yet. I can run that as long as I get a +1 from committers who has the knowledge. &lt;/p&gt;</comment>
                            <comment id="13016242" author="amareshwari" created="Wed, 6 Apr 2011 03:58:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;I tried the first command: ant make-maven -Dversion=0.8.0-SNAPSHOT -logfile make-maven.log and it seems succeeded.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It succeeded for me too, where as maven-publish failed with 401/authorization errors.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;It would be nice that someone has the knowledge can take a look and see if it is correct. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Giri/Carl, can you help here?&lt;/p&gt;</comment>
                            <comment id="13016252" author="cwsteinbach" created="Wed, 6 Apr 2011 04:50:44 +0000"  >&lt;p&gt;I&apos;m making the changes that were flagged by Amareshwari, along with some others that I found, and will try running through the publication steps when I finish.&lt;/p&gt;</comment>
                            <comment id="13016254" author="nzhang" created="Wed, 6 Apr 2011 04:52:55 +0000"  >&lt;p&gt;@Amareshwari, I got the same 401 error while running ant maven-publish. &lt;/p&gt;</comment>
                            <comment id="13016462" author="gkesavan" created="Wed, 6 Apr 2011 17:53:35 +0000"  >&lt;p&gt;since everyone is getting a 401 error (I tried with the hudson CI user as well and got the same 401). We need to check with the nexus admin to see if hive repo is available and ready for artifact publishing.&lt;/p&gt;</comment>
                            <comment id="13016667" author="amareshwari" created="Thu, 7 Apr 2011 03:22:36 +0000"  >&lt;p&gt;I created an INFRA ticket for nexus access: &lt;a href=&quot;https://issues.apache.org/jira/browse/INFRA-3567&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/INFRA-3567&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13021670" author="amareshwari" created="Tue, 19 Apr 2011 17:25:55 +0000"  >&lt;p&gt;Now that INFRA ticket is resolved, I tried maven-publish for version 0.8.0-SNAPSHOT to repository apache.snapshots.https with repo url &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/repositories/snapshots&lt;/a&gt;. I don&apos;t see 401 error any more. &lt;br/&gt;
Could upload exec, serde, common, metastore jars successfully. You can see the uploaded jars at &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/hive/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/hive/&lt;/a&gt;&lt;br/&gt;
But, shims jar could not be uploaded as version number is not picked up properly, it fails with following error:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;maven-publish-artifact:
[artifact:install-provider] Installing provider: org.apache.maven.wagon:wagon-http:jar:1.0-beta-2:runtime
[artifact:deploy] Deploying to https://repository.apache.org/content/repositories/snapshots
[artifact:deploy] Uploading: org/apache/hive/shims/working@mymachine/shims-working@mymachine.jar to repository apache.snapshots.https at https://repository.apache.org/content/repositories/snapshots
[artifact:deploy] Transferring 70K from apache.snapshots.https
[artifact:deploy] An error has occurred while processing the Maven artifact tasks.
[artifact:deploy]  Diagnosis:
[artifact:deploy] 
[artifact:deploy] Error deploying artifact &apos;org.apache.hive:shims:jar&apos;: Error deploying artifact: Failed to transfer file: https://repository.apache.org/content/repositories/snapshots/org/apache/hive/shims/working@mymachine/shims-working@mymachine.jar. Return code is: 400
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here is successful upload console output:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;maven-publish-artifact:
[artifact:install-provider] Installing provider: org.apache.maven.wagon:wagon-http:jar:1.0-beta-2:runtime
[artifact:deploy] Deploying to https://repository.apache.org/content/repositories/snapshots
[artifact:deploy] [INFO] Retrieving previous build number from apache.snapshots.https
[artifact:deploy] [INFO] repository metadata for: &apos;snapshot org.apache.hive:metastore:0.8.0-SNAPSHOT&apos; could not be found on repository: apache.snapshots.https, so will be created
[artifact:deploy] Uploading: org/apache/hive/metastore/0.8.0-SNAPSHOT/metastore-0.8.0-20110419.165258-1.jar to repository apache.snapshots.https at https://repository.apache.org/content/repositories/snapshots
[artifact:deploy] Transferring 1524K from apache.snapshots.https
[artifact:deploy] Uploaded 1524K
[artifact:deploy] [INFO] Uploading project information for metastore 0.8.0-20110419.165258-1
[artifact:deploy] [INFO] Retrieving previous metadata from apache.snapshots.https
[artifact:deploy] [INFO] repository metadata for: &apos;snapshot org.apache.hive:metastore:0.8.0-SNAPSHOT&apos; could not be found on repository: apache.snapshots.https, so will be created
[artifact:deploy] [INFO] Uploading repository metadata for: &apos;snapshot org.apache.hive:metastore:0.8.0-SNAPSHOT&apos;
[artifact:deploy] [INFO] Retrieving previous metadata from apache.snapshots.https
[artifact:deploy] [INFO] repository metadata for: &apos;artifact org.apache.hive:metastore&apos; could not be found on repository: apache.snapshots.https, so will be created
[artifact:deploy] [INFO] Uploading repository metadata for: &apos;artifact org.apache.hive:metastore&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Giri, any idea why shims jar is not picked up properly?&lt;br/&gt;
Carl, can you try with the patch that you made changes?&lt;/p&gt;</comment>
                            <comment id="13021696" author="amareshwari" created="Tue, 19 Apr 2011 18:14:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;Giri, any idea why shims jar is not picked up properly?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Got it. revision is missing in shims/ivy.xml file. After adding revision=&quot;${version}&quot; to info, shims jar is also submitted correctly. Please see uploaded jars at &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/hive/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/hive/&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;m making the changes that were flagged by Amareshwari, along with some others that I found.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Carl/Gerrit, Are you planning to upload a patch with changes suggested on review board? Can you add revision=&quot;${version}&quot; to ivy.xml files in your new patch?&lt;/p&gt;</comment>
                            <comment id="13022192" author="amareshwari" created="Wed, 20 Apr 2011 16:23:38 +0000"  >&lt;p&gt;Patch incorporates all the comments on review board. &lt;br/&gt;
Publishes all hive*.jar files to maven. See published snapshot jars in the repo at &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/hive/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/hive/&lt;/a&gt;.&lt;br/&gt;
Carl/Gerrit, can you have a look at the patch?&lt;/p&gt;</comment>
                            <comment id="13031855" author="amareshwari" created="Wed, 11 May 2011 17:10:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;m making the changes that were flagged by Amareshwari, along with some others that I found, and will try running through the publication steps when I finish.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Carl, did you get chance to update the patch or to look at the patch i uploaded?&lt;/p&gt;</comment>
                            <comment id="13032618" author="cwsteinbach" created="Thu, 12 May 2011 19:43:42 +0000"  >&lt;p&gt;@Amareshwari: I looked at the patch and noticed a couple things that should be fixed (e.g. there&apos;s already a copy of the ASF license in &quot;LICENSE&quot;, so no need to add LICENSE-2.0.txt). If you post the patch to reviewboard I will add comments, or I can do the updates myself in the next couple of days.&lt;/p&gt;</comment>
                            <comment id="13032842" author="jiraposter@reviews.apache.org" created="Fri, 13 May 2011 06:33:47 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/740/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/740/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; title=&quot;Hive in Maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1095&quot;&gt;&lt;del&gt;HIVE-1095&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1095&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/LICENSE-2.0.txt PRE-CREATION &lt;br/&gt;
  trunk/ant/ivy.xml 1095392 &lt;br/&gt;
  trunk/build-common.xml 1095392 &lt;br/&gt;
  trunk/build.xml 1095392 &lt;br/&gt;
  trunk/cli/ivy.xml 1095392 &lt;br/&gt;
  trunk/common/ivy.xml 1095392 &lt;br/&gt;
  trunk/contrib/ivy.xml 1095392 &lt;br/&gt;
  trunk/hbase-handler/ivy.xml 1095392 &lt;br/&gt;
  trunk/hwi/ivy.xml 1095392 &lt;br/&gt;
  trunk/ivy.xml 1095392 &lt;br/&gt;
  trunk/jdbc/ivy.xml PRE-CREATION &lt;br/&gt;
  trunk/metastore/ivy.xml 1095392 &lt;br/&gt;
  trunk/ql/ivy.xml 1095392 &lt;br/&gt;
  trunk/serde/ivy.xml 1095392 &lt;br/&gt;
  trunk/service/ivy.xml PRE-CREATION &lt;br/&gt;
  trunk/shims/ivy.xml 1095392 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/740/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/740/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Amareshwari&lt;/p&gt;
</comment>
                            <comment id="13032931" author="amareshwari" created="Fri, 13 May 2011 09:50:33 +0000"  >&lt;p&gt;I could not update your last review request. Uploaded the last patch to a new review request. Can you please post comments there?&lt;/p&gt;</comment>
                            <comment id="13034370" author="cwsteinbach" created="Mon, 16 May 2011 22:09:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; title=&quot;Hive in Maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1095&quot;&gt;&lt;del&gt;HIVE-1095&lt;/del&gt;&lt;/a&gt;.7.patch.txt:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Remove LICENSE-2.0.txt&lt;/li&gt;
	&lt;li&gt;Use Ivy to resolve maven-ant-tasks dependency.&lt;/li&gt;
	&lt;li&gt;Move some of the new maven targets into build-common.xml&lt;/li&gt;
	&lt;li&gt;Change the names of the user visible maven targets to &quot;maven-build&quot; and &quot;maven-publish&quot;, and add descriptions for both.&lt;/li&gt;
	&lt;li&gt;Fixed the module fields in each of the */ivy.xml files.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I verified that I can publish snapshots to the asf repo with this patch in place.&lt;/p&gt;</comment>
                            <comment id="13034518" author="amareshwari" created="Tue, 17 May 2011 02:57:37 +0000"  >&lt;p&gt;Thanks Carl. Will take a look at the patch.&lt;/p&gt;</comment>
                            <comment id="13034669" author="amareshwari" created="Tue, 17 May 2011 10:09:33 +0000"  >&lt;p&gt;Changes look good to me.&lt;br/&gt;
The same patch applies to branch 0.7 also and I could publish the snapshot jars for both 0.8.0 and 0.7.1 &lt;br/&gt;
Will commit the patch to trunk and branch 0.7 tomorrow, if no one objects.&lt;/p&gt;</comment>
                            <comment id="13034867" author="cwsteinbach" created="Tue, 17 May 2011 16:38:19 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13035269" author="amareshwari" created="Wed, 18 May 2011 10:25:25 +0000"  >&lt;p&gt;I just committed this to trunk and branch 0.7.&lt;/p&gt;

&lt;p&gt;Thanks Gerrit and Carl !&lt;/p&gt;</comment>
                            <comment id="13035278" author="gerritjvv" created="Wed, 18 May 2011 10:39:19 +0000"  >&lt;p&gt;Great!!!!&lt;/p&gt;

&lt;p&gt;Thanks Carl, Amareshwari for seeing this through.&lt;/p&gt;</comment>
                            <comment id="13035417" author="hudson" created="Wed, 18 May 2011 14:46:47 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #736 (See &lt;a href=&quot;https://builds.apache.org/hudson/job/Hive-trunk-h0.21/736/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/hudson/job/Hive-trunk-h0.21/736/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1095&quot; title=&quot;Hive in Maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1095&quot;&gt;&lt;del&gt;HIVE-1095&lt;/del&gt;&lt;/a&gt;. Hive in Maven. Contributed by Gerrit Jansen van Vuuren, Amareshwari Sriramadasu and Carl Steinbach.&lt;/p&gt;

&lt;p&gt;amareshwari : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1124164&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1124164&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ant/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hwi/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12491702">HIVE-1817</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12503580">INFRA-3567</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12438837" name="HIVE-1095-trunk.patch" size="48749" author="gerritjvv" created="Mon, 15 Mar 2010 15:50:48 +0000"/>
                            <attachment id="12479392" name="HIVE-1095.7.patch.txt" size="24860" author="cwsteinbach" created="Mon, 16 May 2011 22:09:00 +0000"/>
                            <attachment id="12473694" name="HIVE-1095.v2.PATCH" size="134173" author="gerritjvv" created="Tue, 15 Mar 2011 15:23:12 +0000"/>
                            <attachment id="12473728" name="HIVE-1095.v3.PATCH" size="136689" author="gerritjvv" created="Tue, 15 Mar 2011 20:54:04 +0000"/>
                            <attachment id="12473797" name="HIVE-1095.v4.PATCH" size="28078" author="gerritjvv" created="Wed, 16 Mar 2011 13:39:11 +0000"/>
                            <attachment id="12474700" name="HIVE-1095.v5.PATCH" size="28079" author="gerritjvv" created="Sat, 26 Mar 2011 11:54:46 +0000"/>
                            <attachment id="12476904" name="HIVE-1095.v6.patch" size="35493" author="amareshwari" created="Wed, 20 Apr 2011 16:23:38 +0000"/>
                            <attachment id="12438814" name="hiveReleasedToMaven.tar.gz" size="6586" author="gerritjvv" created="Mon, 15 Mar 2010 12:48:00 +0000"/>
                            <attachment id="12475533" name="make-maven.log" size="43474" author="nzhang" created="Tue, 5 Apr 2011 22:01:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Mar 2010 22:35:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66824</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 36 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122815</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1096] Hive Variables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1096</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;From mailing list:&lt;br/&gt;
-&lt;del&gt;Amazon Elastic MapReduce version of Hive seems to have a nice feature called &quot;Variables.&quot; Basically you can define a variable via command-line while invoking hive with -d DT=2009-12-09 and then refer to the variable via ${DT} within the hive queries. This could be extremely useful. I can&apos;t seem to find this feature even on trunk. Is this feature currently anywhere in the roadmap?&lt;/del&gt;-&lt;/p&gt;

&lt;p&gt;This could be implemented in many places.&lt;br/&gt;
A simple place to put this is &lt;br/&gt;
in Driver.compile or Driver.run we can do string substitutions at that level, and further downstream need not be effected. &lt;/p&gt;

&lt;p&gt;There could be some benefits to doing this further downstream, parser,plan. but based on the simple needs we may not need to overthink this.&lt;/p&gt;

&lt;p&gt;I will get started on implementing in compile unless someone wants to discuss this more.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446587">HIVE-1096</key>
            <summary>Hive Variables</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Jan 2010 18:57:39 +0000</created>
                <updated>Sat, 17 Dec 2011 00:00:49 +0000</updated>
                            <resolved>Wed, 8 Dec 2010 23:27:15 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="12804660" author="jvs" created="Mon, 25 Jan 2010 19:19:15 +0000"  >&lt;p&gt;What will happen if a variable is referenced by CREATE VIEW?  If the substitution is done via simple string replacement, then the variable&apos;s value at time of CREATE VIEW will be statically bound.  If done downstream, we could instead make it dynamic, but this might require making variables first-class objects in the metastore (as globals, potentially with overrides at other scopes such as per-session or per-user).&lt;/p&gt;</comment>
                            <comment id="12804668" author="appodictic" created="Mon, 25 Jan 2010 19:39:58 +0000"  >&lt;p&gt;John,&lt;/p&gt;

&lt;p&gt;I understand your comment.&lt;/p&gt;

&lt;p&gt;I have not looked at any of the view related patches, but I do see how views and variable replacement could pose a complex set of discussions, as would introducing variables into the grammer itself. &lt;/p&gt;

&lt;p&gt;Based on the user requested feature, metastore level changes is a fairly drastic and complex way to solve a simple problem. If i were a gambling man, I would bet that the &apos;Elastic MapReduce version of Hive&apos; does a simple text based replacement high upstream or possibly outside of hive entirely. &lt;/p&gt;

&lt;p&gt;Thus, I proposed some simple string replacement before the query ever hits the compiler. In the implementation I am suggesting a VIEW could never have a variable, because it should be replaced before it ever becomes a view.&lt;/p&gt;

&lt;p&gt;I see people using this feature like so:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive -hiveconf DAY=5 -e &quot;LOAD DATA INFILE &apos;/tmp/${DAY}&apos;  into logs partition=${DAY}&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is a common problem that many people (including myself) face. Do you think it is short-side thinking to not consider implementing further down in the process?&lt;/p&gt;</comment>
                            <comment id="12804685" author="jvs" created="Mon, 25 Jan 2010 20:11:42 +0000"  >&lt;p&gt;I&apos;m fine with it if we start with the implementation you are proposing, document the limitation with respect to views, and decide if more is needed based on user feedback.&lt;/p&gt;

&lt;p&gt;I&apos;m guessing that once people start using the two features together, they might end up wanting the variables to be expanded as part of evaluating a view, otherwise they may be forced to move ETL logic which belongs inside a reusable view out into the calling SQL statements instead where the expansion happens.  This would limit the utility of views.&lt;/p&gt;

&lt;p&gt;I agree that treating variables as first-class objects is a heavyweight change.&lt;/p&gt;

&lt;p&gt;There is one possible middle ground approach, which is to avoid introducing variables as first-class objects, but still try to expand them in views by passing the substitution map down into SemanticAnalyzer and letting it apply the substitutions as part of reparsing the view&apos;s definition obtained from the catalog.&lt;/p&gt;

&lt;p&gt;This would imply&lt;/p&gt;

&lt;p&gt;(a) CREATE VIEW would need to be able to undo the substitutions so that the stored view definition in the catalog would contain variable references instead of replacements.&lt;/p&gt;

&lt;p&gt;(b) If a variable was defined when the view was created, but undefined when referenced later, we&apos;d need to substitute NULL or raise an exception.  Probably best to be consistent with whatever you&apos;re planning for the top-level substitutions in this case.  I made the view reparse error handling verbose so that a user should have a chance of figuring out what happened in this case, although it will be about as pretty as a C++ template compilation failure.&lt;/p&gt;
</comment>
                            <comment id="12804688" author="prasadc" created="Mon, 25 Jan 2010 20:17:39 +0000"  >&lt;p&gt;I think most useful global variables are in-built variables that do not really need metastore (eg. date based stuff, TODAY, THIS_WEEK, THIS_MONTH or user name or host name etc). Also session variables and user specific variables that can be loaded with a .hiverc. So it may be possible to implement most of the requirements without true global variables (and metastore).&lt;/p&gt;

&lt;p&gt;String substitution will create problems with comments and also with error reporting. &lt;/p&gt;
</comment>
                            <comment id="12804701" author="appodictic" created="Mon, 25 Jan 2010 20:48:54 +0000"  >&lt;p&gt;@Prasad,&lt;/p&gt;


&lt;p&gt;I do not think we should do anything fancy here, just look for simple ${var} and replace with var from session state. It could happen that ${ } could appear in a comment, but not very likely.&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;String substitution will create problems with comments and also with error reporting. &lt;br/&gt;
Based on that we should make variables part of the grammar then?&lt;/p&gt;

&lt;p&gt;In my example...&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive -hiveconf DAY=5 -e &quot;LOAD DATA INFILE &apos;/tmp/${DAY}&apos;  into logs partition=${DAY}&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Can we make the grammar look inside a string like &apos;/tmp/${DAY}&apos; ?&lt;/p&gt;</comment>
                            <comment id="12804716" author="prasadc" created="Mon, 25 Jan 2010 21:04:50 +0000"  >&lt;p&gt;Hive will be doing string replace on all string literals returned from parser.&lt;/p&gt;</comment>
                            <comment id="12804732" author="appodictic" created="Mon, 25 Jan 2010 21:33:53 +0000"  >&lt;p&gt;That sounds like a good way to handle it. &lt;br/&gt;
Two questions&lt;br/&gt;
*) What to support&lt;br/&gt;
*) How to escape&lt;/p&gt;

&lt;p&gt;Suggestions:&lt;br/&gt;
*) Simple replacements ${VAR} syntax ONLY no $VAR no ${VAR&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;}&lt;br/&gt;
*) \$ ignore&lt;/p&gt;

&lt;p&gt;?&lt;/p&gt;</comment>
                            <comment id="12804736" author="cwsteinbach" created="Mon, 25 Jan 2010 21:38:22 +0000"  >&lt;p&gt;Wanted to make sure that everyone is aware of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1063&quot; title=&quot;Variable interpolation for testcase qfiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1063&quot;&gt;&lt;del&gt;HIVE-1063&lt;/del&gt;&lt;/a&gt; which aims to&lt;br/&gt;
implement simple variable interpolation for test qfiles. The patch I provided&lt;br/&gt;
adds a system property variable interpolation mechanism to QTestUtil using&lt;br/&gt;
some code I borrowed from Hadoop&apos;s Configuration class.&lt;/p&gt;

&lt;p&gt;The bug I mention in the JIRA relates to some details of how the test diffs&lt;br/&gt;
are compared, and not to the interpolation mechanism itself which I think works&lt;br/&gt;
OK.&lt;/p&gt;</comment>
                            <comment id="12804742" author="appodictic" created="Mon, 25 Jan 2010 21:47:11 +0000"  >&lt;p&gt;@Carl,&lt;/p&gt;

&lt;p&gt;I took a look at that.  I imagine we needed this to deal with the version&apos;ed jar names. I will look at how you did the interpolation, and try to follow your example.&lt;/p&gt;

&lt;p&gt;I see how what you did is useful in the build infrastructure. This is geared at end user but the logic is roughly the same.&lt;/p&gt;</comment>
                            <comment id="12804749" author="cwsteinbach" created="Mon, 25 Jan 2010 22:06:20 +0000"  >&lt;p&gt;I think a simple query preprocessor that does string substitution (and is physically distinct&lt;br/&gt;
from the actual query processor) will satisfy the vast majority of user needs, will be easy&lt;br/&gt;
to implement, and won&apos;t result in a lot of unexpected bugs and corner cases. Doing anything&lt;br/&gt;
fancier should be deferred until we start work on implementing PL/QL &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12804833" author="jvs" created="Tue, 26 Jan 2010 01:19:20 +0000"  >&lt;p&gt;Regarding error reporting (where the line/col offsets may be shifted by the substitutions), one possible solution (which I implemented for view reparse) is to include the processed text along with the error message.  Downside is that the error message length becomes proportional to the SQL.&lt;/p&gt;

&lt;p&gt;Another way to do it is something like this.&lt;br/&gt;
-------------------------------^&lt;/p&gt;

&lt;p&gt;and then only include the line with the error.&lt;/p&gt;</comment>
                            <comment id="12804842" author="namit" created="Tue, 26 Jan 2010 01:36:39 +0000"  >&lt;p&gt;Static/dynamic binding will also come in when we allow resuming execution of a query - what happens if the variable value changes ?&lt;br/&gt;
Are we saying that everything is bound when the query is first compiled (which is true for views also) ?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1100&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1100&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12804895" author="appodictic" created="Tue, 26 Jan 2010 05:25:37 +0000"  >
&lt;p&gt;@namit, &lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;Static/dynamic binding will also come in when we allow resuming execution of a query-&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1100&quot; title=&quot;Make it possible for users to retry map-reduce jobs in a single Hive query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1100&quot;&gt;HIVE-1100&lt;/a&gt; sounds pretty complex. How can you move a query to a new session, when the session effects how the query is executed? For example, if i start a query in a session with without strict mode then move it to a session with strict mode is the query even valid anymore? &lt;/p&gt;

&lt;p&gt;This leads me back with my original thinking to do the substitution in  Driver.run. 1) it&apos;s fast 2) it&apos;s easy 3)a caveman (like me) can do it. Really, the feature could go all the way up to the CLI, HiveService/clients really would not have a great use for this.&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;&apos;Hive will be doing string replace on all string literals returned from parser&apos;&lt;/p&gt;

&lt;p&gt;sounds good too, but not if it will change the debugging offsets. &lt;/p&gt;

&lt;p&gt;I am sure some crafty sed hacker could cook up out a one-liner for this, which is maybe fine we punt it and do not support it, might be better then totally obfuscating the code base for it. &lt;/p&gt;
</comment>
                            <comment id="12805332" author="appodictic" created="Wed, 27 Jan 2010 03:10:42 +0000"  >&lt;p&gt;This is a patch using my simple replace before plan generation technique. I will look into the other suggestions next&lt;/p&gt;</comment>
                            <comment id="12806386" author="appodictic" created="Fri, 29 Jan 2010 16:34:11 +0000"  >&lt;p&gt;@Prasad&lt;br/&gt;
I would like to give a try at your suggestion.&lt;br/&gt;
&amp;gt;&amp;gt;Hive will be doing string replace on all string literals returned from parser. &lt;/p&gt;

&lt;p&gt;Can you point me at a class and or method as a starting point. The parsing in QL is a fairly elaborate process I do not fully have my head wrapped around yet. If you have a starting point that would help me greatly.&lt;/p&gt;
</comment>
                            <comment id="12806486" author="prasadc" created="Fri, 29 Jan 2010 20:27:55 +0000"  >&lt;p&gt;@edward, your patch will have problems if a comment has $ and it is not a real variable. hive will be throwing necessary errors.&lt;/p&gt;

&lt;p&gt;regarding the parsing code, afaik there is no single place where all string literals are processed. either ashish and zheng would be able to answer this better.&lt;/p&gt;</comment>
                            <comment id="12806531" author="zshao" created="Fri, 29 Jan 2010 22:06:49 +0000"  >&lt;p&gt;Regarding &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1100&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1100&lt;/a&gt;, the plan is to bind everything at compilation time.&lt;/p&gt;

&lt;p&gt;Currently the code path for &quot;set&quot;, &quot;add &amp;lt;jar|file|archive&amp;gt;&quot; and hive queries are completely separated. We probably want to support this in all 3 cases.&lt;br/&gt;
Unless we extract the common code out, we will have to replicate the variable substitution code, which is even worse.&lt;/p&gt;

&lt;p&gt;+1 on the patch given that we don&apos;t have a single place to extract the strings. We probably need to modify the syntax of &quot;add jar&quot; etc to use quotes for string constants.&lt;/p&gt;</comment>
                            <comment id="12828003" author="appodictic" created="Mon, 1 Feb 2010 04:27:04 +0000"  >&lt;p&gt;I decided we should introduce a configuration variable to control the replacement. Otherwise no way to escape the variable.&lt;/p&gt;

&lt;p&gt;For some strange reason my .q file blows up when a comment is in it ... any ideas.&lt;/p&gt;</comment>
                            <comment id="12828029" author="zshao" created="Mon, 1 Feb 2010 07:59:57 +0000"  >&lt;p&gt;Edward, currently Hive only allows &quot;--&quot; comment before a query, but not before a &quot;set&quot; command or something like that. That might be the reason. (It ought to be fixed)&lt;/p&gt;</comment>
                            <comment id="12828131" author="appodictic" created="Mon, 1 Feb 2010 15:15:05 +0000"  >&lt;p&gt;@Zheng&lt;/p&gt;

&lt;p&gt;I want to laugh now, but I spent about 4-5 hours trying to figure out what problem Hive was having. In general trying to debug the test cases through the testCliDriver can sometimes be difficult.  Sometimes you get a decent stack trace, sometimes you get error code 11 or error code 2. I agree it ought to be fixed.&lt;/p&gt;

&lt;p&gt;Ok well now that I know the comment issue is not actually my problem I will remove the print statements and submit something that could go +1&lt;/p&gt;</comment>
                            <comment id="12828201" author="prasadc" created="Mon, 1 Feb 2010 18:13:03 +0000"  >&lt;p&gt;@edward, I usually use Eclipse to debug these kind of things. Much faster IMO.&lt;/p&gt;</comment>
                            <comment id="12828305" author="appodictic" created="Mon, 1 Feb 2010 22:20:41 +0000"  >&lt;p&gt;Patch adds pre-parsed variable replacement. Also added is a configuration variable hive.variable.replace to turn this feature on and off. (set to false by default) &lt;/p&gt;</comment>
                            <comment id="12829482" author="zshao" created="Thu, 4 Feb 2010 06:49:11 +0000"  >&lt;p&gt;Looks great! It seems with your approach, a variable can be a number, string, or whatever else (like a WHERE condition).&lt;/p&gt;

&lt;p&gt;Can you modify the test case to include those cases?&lt;/p&gt;</comment>
                            <comment id="12829692" author="appodictic" created="Thu, 4 Feb 2010 18:48:03 +0000"  >&lt;p&gt;Added more rigorous test case.&lt;/p&gt;</comment>
                            <comment id="12835053" author="namit" created="Wed, 17 Feb 2010 23:42:13 +0000"  >&lt;p&gt;Can you re-generate the patch ? It is not applying cleanly.&lt;/p&gt;</comment>
                            <comment id="12835083" author="appodictic" created="Thu, 18 Feb 2010 01:15:50 +0000"  >&lt;p&gt;Regenerated against trunk.&lt;/p&gt;</comment>
                            <comment id="12835093" author="cwsteinbach" created="Thu, 18 Feb 2010 02:20:03 +0000"  >&lt;ul&gt;
	&lt;li&gt;Test cases?&lt;/li&gt;
	&lt;li&gt;Using the HiveConf namespace for user variables seems like a bad idea, especially since there are no checks in place to prevent people from defining variables with names like &quot;hive.foo.bar&quot; Giving users unprotected access to your configuration namespace usually leads to problems down the road.&lt;/li&gt;
	&lt;li&gt;It would be nice to be able to reference Java system properties using this syntax.&lt;/li&gt;
	&lt;li&gt;It would be nice to be able to nest variable definitions, e.g. version=&quot;0.6.0&quot;, jar_name=&quot;hive-exec-${version}&quot;. The variable interpolation code in Hadoop&apos;s Configuration class does this.&lt;/li&gt;
	&lt;li&gt;It would be nice to be able to prevent interpolation using an escape character, e.g. &quot;\${somevar}&quot;.&lt;/li&gt;
	&lt;li&gt;Driver.replace(String) should have a name like Driver.interpolateCommandVariables(), or Driver.replaceVariables().&lt;/li&gt;
	&lt;li&gt;Driver.replace() iterates over the list of defined variables. Instead, I think it should iterate over the tokens in the command that match the pattern &apos;${.*}&apos;. This would make it easy to log any cases where the command contains &quot;${foo.bar}&quot; and foo.bar is undefined.&lt;/li&gt;
	&lt;li&gt;Replace the reference to the string literal &quot;hive.variable.replace&quot; with HIVEVARREPLACE.&lt;/li&gt;
&lt;/ul&gt;


</comment>
                            <comment id="12835096" author="cwsteinbach" created="Thu, 18 Feb 2010 02:39:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;Test cases?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Missed the test case. Sorry.&lt;/p&gt;

&lt;p&gt;Also, I think that in order to get committed this needs to&lt;br/&gt;
address the use case described in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1063&quot; title=&quot;Variable interpolation for testcase qfiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1063&quot;&gt;&lt;del&gt;HIVE-1063&lt;/del&gt;&lt;/a&gt;. The last thing&lt;br/&gt;
we want is two completely separate variable interpolation &lt;br/&gt;
mechanisms.&lt;/p&gt;</comment>
                            <comment id="12835112" author="appodictic" created="Thu, 18 Feb 2010 04:10:33 +0000"  >
&lt;p&gt;&amp;gt;&amp;gt;&lt;br/&gt;
Using the HiveConf namespace for user variables seems like a bad idea, especially since there are no checks in place to prevent people from defining variables with names like &quot;hive.foo.bar&quot; Giving users unprotected access to your configuration namespace usually leads to problems down the road.&lt;br/&gt;
Philosophically I agree. In actuality have Hive/Hadoop conf is easily manipulated by changing your hadoop-site.xml or hive-site.xml. Users do have unprotected access to the namespace that is the nature of hadoop. Users of hive are setting variables all the time.&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;&lt;br/&gt;
It would be nice to be able to reference Java system properties using this syntax.&lt;br/&gt;
Hive /Hadoop do not often refer to system properties during normal operation. I am on the fence about this.&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;Driver.replace() iterates over the list of defined variables. Instead, I think it should iterate over the tokens in the command that match the pattern &apos;${.*}&apos;.&lt;/p&gt;

&lt;p&gt;The hive CLI really needs some type of top level parser. Because we don&apos;t have this there are many ways we could do certain things but all of them are a little &apos;hackish&apos;. If we had a real parser, reading character by character, we would not need a regex or string replace to do variable processing.&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;&lt;br/&gt;
This would make it easy to log any cases where the command contains &quot;${foo.bar}&quot; and foo.bar is undefined.&lt;/p&gt;

&lt;p&gt;I think the code should replace &quot;&quot; for an undefined variable. &lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;Driver.replace(String) should have a name like Driver.interpolateCommandVariables(), or Driver.replaceVariables().&lt;br/&gt;
Agreed, my notorious spelling usually causes me to avoid words like &apos;interpolate&apos; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;It would be nice to be able to prevent interpolation using an escape character, e.g. &quot;\${somevar}&quot;.&lt;br/&gt;
I punted on that by being able to turn the replacement on and off. As I said above true parser would do stuff like this.&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;It would be nice to be able to nest variable definitions, e.g. version=&quot;0.6.0&quot;, jar_name=&quot;hive-exec-${version}&quot;. The variable interpolation code in Hadoop&apos;s Configuration class does this.&lt;br/&gt;
Yes. Carl I started with your code, the bug I mentioned above (comments before set), caused me to rip the entire thing apart, before I found out what I was doing wrong I had ripped out all the regex. I am not very comfortable with regex, and I was not in love with the while construct with a return in the middle. Again nesting would be easy with a true parser. I do not mind going back to your code.  &lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt;The last thing we want is two completely separate variable interpolation mechanisms.&lt;/p&gt;

&lt;p&gt;Agreed. The only true difference in implementation is that your doing it with properties and I am doing it with HiveConf Vars. If we support both I think we are both happy. Any ideas?&lt;/p&gt;</comment>
                            <comment id="12835504" author="cwsteinbach" created="Thu, 18 Feb 2010 23:48:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;Philosophically I agree. In actuality have Hive/Hadoop conf is easily manipulated by changing your hadoop-site.xml or hive-site.xml. Users do have unprotected access to the namespace that is the nature of hadoop. Users of hive are setting variables all the time.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;True, but I think we should try to improve the situation. As a start we can add code to throw an error if hive-default.xml or hive-site.xml sets a hive.* configuration property that is not defined in HiveConf. This would protect the hive.* namespace and at the same time make it easy to track down cases where folks misspell a hive.* property name.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The only true difference in implementation is that your doing it with properties and I am doing it with HiveConf Vars. If we support both I think we are both happy. Any ideas?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree that we should support access to both system properties and hiveconf properties, but if we do how will we resolve cases where the user references &lt;tt&gt;${foo.bar&lt;/tt&gt;} and both the system and hiveconf define properties named foo.bar? Also, another problem I see with using the hiveconf namespace for user variable definitions is that user variables cease to have any meaning past the client-side query preprocessing step, yet since they&apos;re part of the hiveconf they will get included in the jobconf and sent to datanodes. &lt;/p&gt;

&lt;p&gt;Here&apos;s a proposal:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Allow users to reference variables in QL statements using the syntax &lt;tt&gt;${namespace:variable_name&lt;/tt&gt;}.&lt;/li&gt;
	&lt;li&gt;Users can define variables on the command line using a new &quot;&lt;tt&gt;-hivevar x=y&lt;/tt&gt;&quot; switch. Values defined in this manner become part of the user namespace, which is the default namespace. They can be referenced as either &lt;tt&gt;${default:variablename&lt;/tt&gt;} or &lt;tt&gt;${variablename&lt;/tt&gt;}.&lt;/li&gt;
	&lt;li&gt;Hive configuration properties are part of the &quot;hiveconf&quot; namespace, and can be referenced as &lt;tt&gt;${hiveconf:propertyname&lt;/tt&gt;}.&lt;/li&gt;
	&lt;li&gt;System properties are part of the &quot;system&quot; namespace, and can be referenced as &lt;tt&gt;${system:property_name&lt;/tt&gt;}.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What do you think?&lt;/p&gt;
</comment>
                            <comment id="12835560" author="hammer" created="Fri, 19 Feb 2010 02:30:08 +0000"  >&lt;p&gt;Where does the ${VARNAME} syntax come from? SCOPE uses @@VARNAME for their syntax for a somewhat similar feature. Just curious.&lt;/p&gt;</comment>
                            <comment id="12835566" author="cwsteinbach" created="Fri, 19 Feb 2010 03:25:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;Where does the ${VARNAME} syntax come from? SCOPE uses @@VARNAME for their syntax for a somewhat similar feature. Just curious.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Unix shell command interpreters, Perl, Make, Ant, Eclipse, &lt;a href=&quot;http://developer.amazonwebservices.com/connect/entry.jspa?externalID=2856&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Amazon&apos;s EMR version of Hive &lt;/a&gt; and many templating systems (which is basically what this is) use the unary operator $ for string substitution. Eclipse also defines various namespaces, so for example it is possible to reference environment variables as ${env_var:HOME} and system properties as ${system_property:java.home}. MySQL and T-SQL both use @ to identify user variables, and @@ to identify system variables (see &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.0/en/user-variables.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.0/en/user-variables.html&lt;/a&gt;), which was probably the inspiration for SCOPE&apos;s syntax. SQL*Plus apparently uses &apos;&amp;amp;&apos;. &lt;/p&gt;</comment>
                            <comment id="12835785" author="appodictic" created="Fri, 19 Feb 2010 15:45:37 +0000"  >&lt;blockquote&gt;
&lt;p&gt;True, but I think we should try to improve the situation. As a start we can add code to throw an error if hive-default.xml or hive-site.xml sets a hive.* configuration property that is not defined in HiveConf. This would protect the hive.* namespace and at the same time make it easy to track down cases where folks misspell a hive.* property name.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I only see one problem with this. HiveConf has an enumeration of valid properties. I do not think Hadoop Conf shares that trait. So if someone were to say: &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;set hadoop.wrong.variable.name
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Would we have a simple way of knowing if that variable was variable is valid. Anyway that is out of scope a bit.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;${namespace:variable_name}.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I like this. How about?&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;${hiveconf:variable_name}.
${env:variable_name}.
${property:variable_name}.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This way we do not need the &quot;-hivevar x=y&quot; switch.&quot; I say this because we already have three mechanism to pass data into Java/hive adding a forth is a little confusing.  &lt;/p&gt;

&lt;p&gt;The only problem with introducing this is now we have a new question. How do we extend SET to read/write these?&lt;/p&gt;</comment>
                            <comment id="12835924" author="cwsteinbach" created="Fri, 19 Feb 2010 20:02:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;I only see one problem with this. HiveConf has an enumeration of valid properties. I do not think Hadoop Conf shares that trait.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You&apos;re right, it doesn&apos;t. So the best we can do is try to protect the hive.* namespace, which is still better than nothing.&lt;/p&gt;

&lt;p&gt;In your example, what do the &quot;env&quot; and &quot;property&quot; namespaces signify? Are these environment variables and and system properties, respectively?&lt;/p&gt;

</comment>
                            <comment id="12835942" author="appodictic" created="Fri, 19 Feb 2010 20:38:30 +0000"  >&lt;blockquote&gt;
&lt;p&gt;In your example, what do the &quot;env&quot; and &quot;property&quot; namespaces signify? Are these environment variables and and system properties, respectively?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sorry I misread something you posted above. To be double clear &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;${hiveconf:variable_name}. --hive conf   &amp;amp;&amp;amp; also SET
${env:variable_name}. --environmental properties
${system:property_name}-- java/system properties
${default:variable_name}. --set with -hivevar x=y
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I understand you want to introduce  &apos;-hivevar x&apos; to create a very clear separation. Do you think we need to go this far? As far as I know properties and environment are mostly unused by hive. &lt;/p&gt;

&lt;p&gt;I am looking at this from terms of a new end user to hive. The simple part about my 1096-9.diff is we were expanding upon the &apos;SET&apos; and &apos;-hiveconf&apos;. What we have arrived at is cleaner but more complex, and now we have to dip into the SetProcessor and introduce a new switch. &lt;/p&gt;

&lt;p&gt;I am ok with the more complex approach however. Does anyone else want to chime in?&lt;/p&gt;</comment>
                            <comment id="12856609" author="jvs" created="Tue, 13 Apr 2010 20:46:56 +0000"  >&lt;p&gt;I&apos;m taking a look at this one.&lt;/p&gt;</comment>
                            <comment id="12856615" author="jvs" created="Tue, 13 Apr 2010 21:09:53 +0000"  >&lt;p&gt;I&apos;m getting a conflict with latest trunk--can you regenerate the patch?  (Use filename &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1096&quot; title=&quot;Hive Variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1096&quot;&gt;&lt;del&gt;HIVE-1096&lt;/del&gt;&lt;/a&gt;.10.patch to follow the usual convention.)&lt;/p&gt;

&lt;p&gt;Sorry it took us so long to get to this one; here are a few review comments to be addressed as part of a new patch:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;add a test with a query which references the same variable twice&lt;/li&gt;
	&lt;li&gt;add a test which references a built-in variable such as hive.map.aggr&lt;/li&gt;
	&lt;li&gt;add a test with hive.variable.replace=false to verify that expansion does not happen when the variable is turned off (reference the variable in a literal string)&lt;/li&gt;
	&lt;li&gt;add a test which references a variable which has not been set&lt;/li&gt;
	&lt;li&gt;for description, change &quot;This setting controls if hive will...&quot; to &quot;Whether hive will...&quot;&lt;/li&gt;
	&lt;li&gt;rename method to replaceVariableReferences&lt;/li&gt;
	&lt;li&gt;for the LOG.info&apos;s, add a space after the colon, and change &quot;replacement&quot; to &quot;variable replacement&quot; for clarity&lt;/li&gt;
	&lt;li&gt;run ant checkstyle and fix some issues with spaces before braces and arglists&lt;/li&gt;
	&lt;li&gt;to optimize the replacement, you could do a contains(&quot;${&quot;) precheck before looping over conf&lt;/li&gt;
	&lt;li&gt;if you want to allow for uber-cool recursive variable expansion, change if (command.contains(s)) to a while instead&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12856620" author="pauly" created="Tue, 13 Apr 2010 21:16:08 +0000"  >&lt;p&gt;I like the idea of &apos;uber-cool recursive variable expansion&apos;. Probably need a depth check though.&lt;/p&gt;</comment>
                            <comment id="12856632" author="jvs" created="Tue, 13 Apr 2010 21:38:22 +0000"  >&lt;p&gt;@Paul:  heh, good point.  Actually let&apos;s just leave this out since doing it correctly requires a different loop structure entirely; we can always do a followup for it if someone wants it (ant added them eventually).&lt;/p&gt;</comment>
                            <comment id="12856645" author="cwsteinbach" created="Tue, 13 Apr 2010 21:56:00 +0000"  >&lt;p&gt;@Paul and John: Check out substituteVars() in Hadoop&apos;s Configuration class. It does recursive&lt;br/&gt;
variable interpolation with a depth check.&lt;/p&gt;</comment>
                            <comment id="12856669" author="jvs" created="Tue, 13 Apr 2010 22:36:41 +0000"  >&lt;p&gt;@Carl:  oops, that&apos;s what I get for only reading the tail of the thread.&lt;/p&gt;

&lt;p&gt;OK, besides the interpolation question, are there other unresolved issues from the discussion between you and Ed?  Let&apos;s try to drive this to closure.&lt;/p&gt;</comment>
                            <comment id="12856674" author="cwsteinbach" created="Tue, 13 Apr 2010 22:51:12 +0000"  >&lt;p&gt;@John: I don&apos;t think the current patch includes the namespace tags that Ed and I&lt;br/&gt;
agreed to in a previous comment. I&apos;d like to see that get added, and in particular the ability&lt;br/&gt;
to reference system properties (this is really useful for testing).&lt;/p&gt;</comment>
                            <comment id="12870480" author="appodictic" created="Mon, 24 May 2010 01:08:06 +0000"  >&lt;p&gt;I am back on this one. Keep your eye out for the next patch.&lt;/p&gt;</comment>
                            <comment id="12879171" author="cwsteinbach" created="Tue, 15 Jun 2010 23:14:14 +0000"  >&lt;p&gt;Parameters Substitution in Pig: &lt;a href=&quot;http://wiki.apache.org/pig/ParameterSubstitution&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/pig/ParameterSubstitution&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12879173" author="cwsteinbach" created="Tue, 15 Jun 2010 23:15:12 +0000"  >&lt;p&gt;@Ed: Any update on this? I&apos;d like to help out if you are low on cycles.&lt;/p&gt;</comment>
                            <comment id="12879233" author="appodictic" created="Wed, 16 Jun 2010 02:21:31 +0000"  >&lt;p&gt;This is my next target after the xdoc ticket. I should not be to far off.&lt;/p&gt;</comment>
                            <comment id="12881711" author="appodictic" created="Wed, 23 Jun 2010 14:59:18 +0000"  >&lt;p&gt;Patch adds variable interpretation. &lt;/p&gt;</comment>
                            <comment id="12881955" author="cwsteinbach" created="Wed, 23 Jun 2010 23:32:42 +0000"  >&lt;p&gt;Hi Ed, can you please post this patch to review.hbase.org? Thanks!&lt;/p&gt;</comment>
                            <comment id="12882013" author="appodictic" created="Thu, 24 Jun 2010 02:49:57 +0000"  >&lt;p&gt;Was not interpolating system:vars. Fixed with better test case.&lt;/p&gt;</comment>
                            <comment id="12883336" author="jvs" created="Mon, 28 Jun 2010 22:33:06 +0000"  >&lt;p&gt;Carl, can you review?&lt;/p&gt;</comment>
                            <comment id="12883362" author="cwsteinbach" created="Tue, 29 Jun 2010 00:10:31 +0000"  >&lt;p&gt;@John: Will do (hopefully before the end of today).&lt;/p&gt;</comment>
                            <comment id="12883452" author="cwsteinbach" created="Tue, 29 Jun 2010 07:56:00 +0000"  >

&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1289&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1289&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   This code does not belong in common. Please move it to ql.&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1290&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1290&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   The variables varPat and MAX_SUBST both exist as private variables in the parent class. I think that redefining them in HiveConf will result in lots of confusion down the road, plus they don&apos;t really belong here. Please move this to a &quot;VariableSubstitution&quot; class located in ql.&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1291&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1291&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   I like the word &quot;interpolate&quot; too, but I think more people are probably familiar with &quot;substitute&quot;. Please change the name to HIVESUBSTITUTEVARIABLES.&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1292&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1292&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   Please fix the formatting problems in this method (spaces before and after parens, no space between literals and operators, etc). Please run checkstyle and verify that you are not introducing any new checkstyle errors.&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1293&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1293&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   No need to test a boolean valued method for equality to true. The logic can also be simplified as follows:&lt;/p&gt;

&lt;p&gt;   if (!getBoolVar(ConfVars.HIVEVARIABLEINTERPOLATE)) &lt;/p&gt;
{
     return expr;
   }
&lt;p&gt;   l4j.info(&quot;Interpolation is on&quot;);&lt;br/&gt;
   ...&lt;/p&gt;

&lt;p&gt;   Also, please move this out of the substitution function and into the Driver, i.e Driver.compile() calls VariableSubstitution.substitute() iff HIVESUBSTITUEVARIABLES == true.&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1294&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1294&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   This log message is going to generate a lot of noise, and is unnecessary since you can determine the value using the &apos;set&apos; command. Please remove it.&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1295&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1295&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   Presumably there aren&apos;t going to be any properties in the HiveConf starting with &quot;system:&quot; or &quot;env:&quot;. Please move the &quot;env:&quot; check before the conf check, and move these string comparisons outside of the try/catch blocks, e.g:&lt;/p&gt;

&lt;p&gt;   private static final String SYSTEM_VAR_PREFIX = &quot;system:&quot;;&lt;br/&gt;
   private static final String ENV_VAR_PREFIX = &quot;env:&quot;;&lt;/p&gt;

&lt;p&gt;   if (var.startsWith(SYSTEM_VAR_PREFIX)) {&lt;br/&gt;
     try &lt;/p&gt;
{
       val = System.getProperty(var.substring(SYSTEM_VAR_PREFIX.length()));
     }
&lt;p&gt; catch (SecurityException se) &lt;/p&gt;
{
       ...
     }
&lt;p&gt;   } else if (var.startsWith(ENV_VAR_PREFIX)) &lt;/p&gt;
{
     val = System.getenv(var.substring(ENV_VAR_PREFIX.length()));
   }
&lt;p&gt; else &lt;/p&gt;
{
     val = ss.getConf().get(var);
   }



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1303&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1303&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   I thought the plan was to also introduce a &quot;conf:&quot; prefix for referencing configuration properties, and that any value not prefixed by system/env/conf would map to a new variable namespace? Please add the conf prefix and introduce some state in the SessionState for storing variables (i.e. non System/Env/Conf properties).&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1296&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1296&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   Please remove this log call. It will generate a lot of noise.&lt;/p&gt;



&lt;p&gt;trunk/conf/hive-default.xml&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1297&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1297&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   Please change the name to &quot;hive.substitute.variables&quot;, and the description to &quot;Enable variable substitution&quot;.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1298&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1298&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   Check HIVESUBSTITUTEVARIABLES here.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1299&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1299&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   Please create static final variables for &quot;system:&quot; and &quot;env:&quot; and call length() on these variables instead of using magic numbers.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1300&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1300&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   I don&apos;t think you want to perform variable substitution at this point. It makes it impossible to create nested variables.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1301&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1301&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   This logic for mapping variable names to values has been repeated several times. Please move it to a dedicated method in the VariableSubstitution class.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1302&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1302&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   Please run checkstyle and fix any checkstyle errors that you have introduced.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/test/queries/clientpositive/set_processor_namespaces.q&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1304&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1304&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;   You need a test for the &quot;env&quot; namespace. I think this is impossible to do here, so you probably need to add a unit test.&lt;/p&gt;</comment>
                            <comment id="12883453" author="hbasereviewboard" created="Tue, 29 Jun 2010 07:56:50 +0000"  >&lt;p&gt;Message from: &quot;Carl Steinbach&quot; &amp;lt;carl@cloudera.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/229/#review288&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#review288&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1289&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1289&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This code does not belong in common. Please move it to ql.&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1290&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1290&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    The variables varPat and MAX_SUBST both exist as private variables in the parent class. I think that redefining them in HiveConf will result in lots of confusion down the road, plus they don&apos;t really belong here. Please move this to a &quot;VariableSubstitution&quot; class located in ql.&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1291&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1291&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I like the word &quot;interpolate&quot; too, but I think more people are probably familiar with &quot;substitute&quot;. Please change the name to HIVESUBSTITUTEVARIABLES.&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1292&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1292&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please fix the formatting problems in this method (spaces before and after parens, no space between literals and operators, etc). Please run checkstyle and verify that you are not introducing any new checkstyle errors.&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1293&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1293&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    No need to test a boolean valued method for equality to true. The logic can also be simplified as follows:&lt;/p&gt;

&lt;p&gt;    if (!getBoolVar(ConfVars.HIVEVARIABLEINTERPOLATE)) &lt;/p&gt;
{
      return expr;
    }
&lt;p&gt;    l4j.info(&quot;Interpolation is on&quot;);&lt;br/&gt;
    ...&lt;/p&gt;

&lt;p&gt;    Also, please move this out of the substitution function and into the Driver, i.e Driver.compile() calls VariableSubstitution.substitute() iff HIVESUBSTITUEVARIABLES == true.&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1294&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1294&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This log message is going to generate a lot of noise, and is unnecessary since you can determine the value using the &apos;set&apos; command. Please remove it.&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1295&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1295&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Presumably there aren&apos;t going to be any properties in the HiveConf starting with &quot;system:&quot; or &quot;env:&quot;. Please move the &quot;env:&quot; check before the conf check, and move these string comparisons outside of the try/catch blocks, e.g:&lt;/p&gt;

&lt;p&gt;    private static final String SYSTEM_VAR_PREFIX = &quot;system:&quot;;&lt;br/&gt;
    private static final String ENV_VAR_PREFIX = &quot;env:&quot;;&lt;/p&gt;

&lt;p&gt;    if (var.startsWith(SYSTEM_VAR_PREFIX)) {&lt;br/&gt;
      try &lt;/p&gt;
{
        val = System.getProperty(var.substring(SYSTEM_VAR_PREFIX.length()));
      }
&lt;p&gt; catch (SecurityException se) &lt;/p&gt;
{
        ...
      }
&lt;p&gt;    } else if (var.startsWith(ENV_VAR_PREFIX)) &lt;/p&gt;
{
      val = System.getenv(var.substring(ENV_VAR_PREFIX.length()));
    }
&lt;p&gt; else &lt;/p&gt;
{
      val = ss.getConf().get(var);
    }



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1303&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1303&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I thought the plan was to also introduce a &quot;conf:&quot; prefix for referencing configuration properties, and that any value not prefixed by system/env/conf would map to a new variable namespace? Please add the conf prefix and introduce some state in the SessionState for storing variables (i.e. non System/Env/Conf properties).&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1296&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1296&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please remove this log call. It will generate a lot of noise.&lt;/p&gt;



&lt;p&gt;trunk/conf/hive-default.xml&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1297&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1297&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please change the name to &quot;hive.substitute.variables&quot;, and the description to &quot;Enable variable substitution&quot;.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1298&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1298&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Check HIVESUBSTITUTEVARIABLES here.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1299&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1299&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please create static final variables for &quot;system:&quot; and &quot;env:&quot; and call length() on these variables instead of using magic numbers.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1300&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1300&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I don&apos;t think you want to perform variable substitution at this point. It makes it impossible to create nested variables.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1301&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1301&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This logic for mapping variable names to values has been repeated several times. Please move it to a dedicated method in the VariableSubstitution class.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1302&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1302&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please run checkstyle and fix any checkstyle errors that you have introduced.&lt;/p&gt;



&lt;p&gt;trunk/ql/src/test/queries/clientpositive/set_processor_namespaces.q&lt;br/&gt;
&amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/#comment1304&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#comment1304&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    You need a test for the &quot;env&quot; namespace. I think this is impossible to do here, so you probably need to add a unit test.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Carl&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="12883561" author="hbasereviewboard" created="Tue, 29 Jun 2010 14:27:32 +0000"  >&lt;p&gt;Message from: &quot;Edward Capriolo&quot; &amp;lt;edlinuxguru@gmail.com&amp;gt;&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-29 00:50:22, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java, line 260&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/diff/1/?file=1601#file1601line260&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/diff/1/?file=1601#file1601line260&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I like the word &quot;interpolate&quot; too, but I think more people are probably familiar with &quot;substitute&quot;. Please change the name to HIVESUBSTITUTEVARIABLES.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I do not want to have the feature called different things across the code base. Replace here interpolate there it will be confusing for all. You originally suggested interpolate: &quot;Driver.interpolateCommandVariables()&quot;.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-29 00:50:22, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java, line 561&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/diff/1/?file=1601#file1601line561&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/diff/1/?file=1601#file1601line561&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     No need to test a boolean valued method for equality to true. The logic can also be simplified as follows:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     if (!getBoolVar(ConfVars.HIVEVARIABLEINTERPOLATE)) {
bq.  &amp;gt;       return expr;
bq.  &amp;gt;     }&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     l4j.info(&quot;Interpolation is on&quot;);&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     ...&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Also, please move this out of the substitution function and into the Driver, i.e Driver.compile() calls VariableSubstitution.substitute() iff HIVESUBSTITUEVARIABLES == true.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Different components are using substitute SetProcessor, Driver , File Processor, having the interpolation on/off logic in each class is redundant. This way is better as it supports information hiding.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-29 00:50:22, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java, line 562&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/diff/1/?file=1601#file1601line562&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/diff/1/?file=1601#file1601line562&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This log message is going to generate a lot of noise, and is unnecessary since you can determine the value using the &apos;set&apos; command. Please remove it.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think it is very important to see the command before and after substitution. We can set this to debug, I do not think it is noise.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-29 00:50:22, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java, line 587&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/diff/1/?file=1601#file1601line587&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/diff/1/?file=1601#file1601line587&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I thought the plan was to also introduce a &quot;conf:&quot; prefix for referencing configuration properties, and that any value not prefixed by system/env/conf would map to a new variable namespace? Please add the conf prefix and introduce some state in the SessionState for storing variables (i.e. non System/Env/Conf properties).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;After pondering this I think the &quot;conf:&quot; prefix is confusing and hurts backwards compatibility. Right now this is &quot;hive &lt;del&gt;hiveconf x=y&quot;  = &quot;set x=y&quot;. I do not think we want to introduce another switch. &quot;&lt;/del&gt;-hivevarconf&quot;. in most cases users want conf access to set properties that can be picked up by classes. hadoop &amp;amp; hive conf is the way it is adding something else will not fix the problem and will confuse people.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-29 00:50:22, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/ql/src/test/queries/clientpositive/set_processor_namespaces.q, line 4&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/diff/1/?file=1605#file1605line4&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/diff/1/?file=1605#file1605line4&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     You need a test for the &quot;env&quot; namespace. I think this is impossible to do here, so you probably need to add a unit test.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Env variables are not changeable and are system dependent. I do not think there is a way to test these.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-29 00:50:22, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java, line 595&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/diff/1/?file=1601#file1601line595&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/diff/1/?file=1601#file1601line595&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Please remove this log call. It will generate a lot of noise.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think it is very important to see the command before and after substitution. We can set this to debug, I do not think it is noise.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-29 00:50:22, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java, line 50&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/diff/1/?file=1601#file1601line50&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/diff/1/?file=1601#file1601line50&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     The variables varPat and MAX_SUBST both exist as private variables in the parent class. I think that redefining them in HiveConf will result in lots of confusion down the road, plus they don&apos;t really belong here. Please move this to a &quot;VariableSubstitution&quot; class located in ql.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I see your point. Then again, hadoop does the substitution inside the conf class. Also QL is becoming the &apos;ubber package&apos; At this point what isnt ql?&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2010-06-29 00:50:22, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java, line 93&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;http://review.hbase.org/r/229/diff/1/?file=1604#file1604line93&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/diff/1/?file=1604#file1604line93&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I don&apos;t think you want to perform variable substitution at this point. It makes it impossible to create nested variables.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I will check it out.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Edward&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/229/#review288&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/#review288&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


</comment>
                            <comment id="12886606" author="appodictic" created="Fri, 9 Jul 2010 03:54:20 +0000"  >&lt;p&gt;Change interpolate to substitute....Added the substitution logic to file, dfs, set , and query processor&lt;/p&gt;</comment>
                            <comment id="12886889" author="cwsteinbach" created="Fri, 9 Jul 2010 21:17:31 +0000"  >&lt;p&gt;Hi Ed, please update the diff on reviewboard. Thanks.&lt;/p&gt;</comment>
                            <comment id="12886912" author="appodictic" created="Fri, 9 Jul 2010 22:02:23 +0000"  >&lt;p&gt;I am having trouble uploading with the update diff function of the review board.  As I mentioned several times, I really had one simple requirement&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive -hiveconf DAY=5 -e &quot;LOAD DATA INFILE &apos;/tmp/${DAY}&apos;  into logs partition=${DAY}&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I am all for doing things 100% correct, but this is such a simple thing I am really getting worn out by the endless revisions and doing lots of fancy things just because someone might want to do ${x${y}bla}. &lt;br/&gt;
Really, I would like to make this ticket go +1, and get on with something more interesting.&lt;/p&gt;</comment>
                            <comment id="12886918" author="hbasereviewboard" created="Fri, 9 Jul 2010 22:13:53 +0000"  >&lt;p&gt;Message from: &quot;Carl Steinbach&quot; &amp;lt;carl@cloudera.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.hbase.org/r/229/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2010-07-09 15:10:54.970189)&lt;/p&gt;


&lt;p&gt;Review request for Hive Developers.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Updated the diff with &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12449054/hive-1096-12.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12449054/hive-1096-12.patch.txt&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Hive Variables&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1096&quot; title=&quot;Hive Variables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1096&quot;&gt;&lt;del&gt;HIVE-1096&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/HIVE-1096&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/HIVE-1096&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 955109 &lt;br/&gt;
  trunk/conf/hive-default.xml 955109 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java 955109 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/VariableSubstitution.java PRE-CREATION &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/AddResourceProcessor.java 955109 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/DeleteResourceProcessor.java 955109 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/DfsProcessor.java 955109 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java 955109 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/set_processor_namespaces.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/set_processor_namespaces.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.hbase.org/r/229/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.hbase.org/r/229/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Edward&lt;/p&gt;

</comment>
                            <comment id="12892977" author="cwsteinbach" created="Tue, 27 Jul 2010 23:05:35 +0000"  >&lt;p&gt;Notes from a design discussion on ##hive:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Variables, configuration properties, system properties and environment variables need to exist in separate namespaces.&lt;/li&gt;
	&lt;li&gt;Variables should not be included in the hiveconf. They should only be available/visible to the query pre-processor. In particular we do not want variables to get passed over to the cluster.&lt;/li&gt;
	&lt;li&gt;Add a &apos;-hivevar&apos; switch to the CLI for setting variables.&lt;/li&gt;
	&lt;li&gt;Add a &quot;var x=y&quot; CommandProcessor for setting variables.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Here&apos;s an example of what we want:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; a=&lt;span class=&quot;code-quote&quot;&gt;&quot;I am a variable&quot;&lt;/span&gt;;                 -- ${a} == &lt;span class=&quot;code-quote&quot;&gt;&quot;I am a variable&quot;&lt;/span&gt;
set a=&lt;span class=&quot;code-quote&quot;&gt;&quot;I am a configuration property&quot;&lt;/span&gt;;   -- ${hiveconf:a} == &lt;span class=&quot;code-quote&quot;&gt;&quot;I am a configuration property&quot;&lt;/span&gt;
set prop1 = ${a};                        -- ${hiveconf:prop1} == &lt;span class=&quot;code-quote&quot;&gt;&quot;I am a variable&quot;&lt;/span&gt;
set var1 = ${hiveconf:a};                -- ${var1} == &lt;span class=&quot;code-quote&quot;&gt;&quot;I am a configuration property&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="12893022" author="cwsteinbach" created="Wed, 28 Jul 2010 01:11:17 +0000"  >&lt;p&gt;The reviewboard jiraposter is temporarily down so I&apos;m posting this by hand. The original comments and context are here: &lt;a href=&quot;https://review.cloudera.org/r/229/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://review.cloudera.org/r/229/&lt;/a&gt;&lt;/p&gt;


&lt;ul&gt;
	&lt;li&gt;trunk/conf/hive-default.xml:&lt;br/&gt;
Spelling: substituation&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/VariableSubstitution.java:&lt;br/&gt;
Make these variables private?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/VariableSubstitution.java:&lt;br/&gt;
This should be static. No need to instantiate a VariableSubstitution object.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/AddResourceProcessor.java:&lt;br/&gt;
Since we want to do substitution for all commands it would probably make sense to do the substitution in CommandProcessorFactory.get() and make CommandProcessor an abstract class with the following implementation:&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; class {
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; command;

  CommandProcessor(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; command) {
    &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.command = command;
  }

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; CommandProcessorResponse run();

  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getCommand() {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; command;
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In other words, CommandProcessorFactory would return a CommandProcessor object that has been initialized with a substituted copy of the command.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java:&lt;br/&gt;
Replace these string literals with constants, e.g:&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; ENV_PREFIX = &lt;span class=&quot;code-quote&quot;&gt;&quot;env:&quot;&lt;/span&gt;;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; SYSTEM_PREFIX = &lt;span class=&quot;code-quote&quot;&gt;&quot;system:&quot;&lt;/span&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; HIVECONF_PREFIX = &lt;span class=&quot;code-quote&quot;&gt;&quot;hiveconf:&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;ul&gt;
	&lt;li&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java:&lt;br/&gt;
String propName = varname.substring(SYSTEM_PREFIX.length());&lt;/li&gt;
&lt;/ul&gt;



&lt;ul&gt;
	&lt;li&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java:&lt;br/&gt;
Can we remove this special case for &quot;silent&quot;? In SessionState this actually maps to &quot;hive.session.silent&quot; and I don&apos;t see any test cases that cover this case, i.e. that call &quot;set silent&quot; or &quot;set silent=x&quot;. It also seems that this introduces in inconsistency since &quot;set silent&quot; will show the value of &quot;hive.session.silent&quot;, but the output of &quot;set&quot; will not list a value for the property &quot;silent&quot;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Anyone know if there is any older code that depends on this behavior?&lt;/p&gt;</comment>
                            <comment id="12902215" author="cwsteinbach" created="Wed, 25 Aug 2010 00:39:09 +0000"  >&lt;p&gt;@Ed: Do you have time to work on this again? If not I&apos;d like to pick it up.&lt;/p&gt;</comment>
                            <comment id="12935218" author="appodictic" created="Wed, 24 Nov 2010 06:32:27 +0000"  >&lt;ul&gt;
	&lt;li&gt;trunk/conf/hive-default.xml:&lt;br/&gt;
      Spelling: substituation&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Fixed&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/VariableSubstitution.java:&lt;br/&gt;
      Make these variables private?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Private variables are what got us into the mess with hadoop. I am not going to repeat the problem.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/AddResourceProcessor.java:&lt;br/&gt;
      Since we want to do substitution for all commands it would probably make sense to do the substitution in CommandProcessorFactory.get() and make CommandProcessor an abstract class with the following implementation:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;In other words, CommandProcessorFactory would return a CommandProcessor object that has been initialized with a substituted copy of the command.&lt;/p&gt;

&lt;p&gt;No. No more re factoring. It is working the way it is. Using factories going to be major. I&apos;m tired. It does not prove anything since this entire process is not very clever anyway. Currently it is slightly baked, but I believe that better then being over designed.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java:&lt;br/&gt;
      Replace these string literals with constants, e.g:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;public static final String ENV_PREFIX = &quot;env:&quot;;&lt;br/&gt;
public static final String SYSTEM_PREFIX = &quot;system:&quot;&lt;br/&gt;
public static final String HIVECONF_PREFIX = &quot;hiveconf:&quot;&lt;/p&gt;

&lt;p&gt;Fixed&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java:&lt;br/&gt;
      String propName = varname.substring(SYSTEM_PREFIX.length());&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Fixed&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java:&lt;br/&gt;
      Can we remove this special case for &quot;silent&quot;? In SessionState this actually maps to &quot;hive.session.silent&quot; and I don&apos;t see any test cases that cover this case, i.e. that call &quot;set silent&quot; or &quot;set silent=x&quot;. It also seems that this introduces in inconsistency since &quot;set silent&quot; will show the value of &quot;hive.session.silent&quot;, but the output of &quot;set&quot; will not list a value for the property &quot;silent&quot;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Anyone know if there is any older code that depends on this behavior?&lt;/p&gt;

&lt;p&gt;Do not really know. do not really care &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Out of scope. It is there I am leaving it.&lt;/p&gt;

&lt;p&gt;As for the VAR. Turns out supporting this is not very easy. Adding Options Parsing to the CLI works, however the session state gives you no where to store &quot;variables&quot; except in the hive conf. SetProcessor works with SessionState not CLI SessionState. Again big re factoring is needed.  &lt;/p&gt;

&lt;p&gt;What I did do is move remove support for set y=${x}. This patch only adds set y=${hiveconf:x}. Thus if someone cares to add &quot;VAR X&quot; or ${x} or determine how to change the CLI to add this other map that can be shared across the session state this patch is not in the way.&lt;/p&gt;

&lt;p&gt;Thus substitution only works for ${hiveconf:x} ${system:x} and ${env:x}. implementing ${x} and var can be done in a separate issue.&lt;/p&gt;</comment>
                            <comment id="12935353" author="appodictic" created="Wed, 24 Nov 2010 15:18:28 +0000"  >&lt;p&gt;Adds xdocs.&lt;/p&gt;</comment>
                            <comment id="12935354" author="appodictic" created="Wed, 24 Nov 2010 15:19:30 +0000"  >&lt;p&gt;Were two 15 patches. I bumped the number to 20 to clear any confusion.&lt;/p&gt;</comment>
                            <comment id="12969057" author="namit" created="Tue, 7 Dec 2010 22:43:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;
</comment>
                            <comment id="12969058" author="cwsteinbach" created="Tue, 7 Dec 2010 22:49:03 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Namit, I can handle testing and committing this if you would like.&lt;/p&gt;</comment>
                            <comment id="12969089" author="namit" created="Wed, 8 Dec 2010 00:13:12 +0000"  >&lt;p&gt;sure, that would be very useful&lt;/p&gt;

&lt;p&gt;Let me know if you run into any issues &lt;/p&gt;</comment>
                            <comment id="12969556" author="namit" created="Wed, 8 Dec 2010 23:27:15 +0000"  >&lt;p&gt;Committed. Thanks Edward&lt;/p&gt;</comment>
                            <comment id="12969558" author="namit" created="Wed, 8 Dec 2010 23:27:49 +0000"  >&lt;p&gt;@Carl, I missed the last comment - I saw that tests completed fine, and just committed it.&lt;br/&gt;
Sorry about that&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12472731">HIVE-1604</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12445797">HIVE-1063</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12500130">HIVE-2020</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12500134">HIVE-2021</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12445797">HIVE-1063</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12436156" name="1096-9.diff" size="9801" author="appodictic" created="Thu, 18 Feb 2010 01:15:50 +0000"/>
                            <attachment id="12447842" name="hive-1096-10-patch.txt" size="12216" author="appodictic" created="Wed, 23 Jun 2010 14:59:18 +0000"/>
                            <attachment id="12447917" name="hive-1096-11-patch.txt" size="12306" author="appodictic" created="Thu, 24 Jun 2010 02:49:57 +0000"/>
                            <attachment id="12449054" name="hive-1096-12.patch.txt" size="15856" author="appodictic" created="Fri, 9 Jul 2010 03:54:20 +0000"/>
                            <attachment id="12460369" name="hive-1096-15.patch.txt" size="22305" author="appodictic" created="Wed, 24 Nov 2010 15:18:28 +0000"/>
                            <attachment id="12460336" name="hive-1096-15.patch.txt" size="17626" author="appodictic" created="Wed, 24 Nov 2010 06:18:17 +0000"/>
                            <attachment id="12434364" name="hive-1096-2.diff" size="4799" author="appodictic" created="Mon, 1 Feb 2010 04:27:04 +0000"/>
                            <attachment id="12460370" name="hive-1096-20.patch.txt" size="22305" author="appodictic" created="Wed, 24 Nov 2010 15:19:29 +0000"/>
                            <attachment id="12434442" name="hive-1096-7.diff" size="5746" author="appodictic" created="Mon, 1 Feb 2010 22:20:41 +0000"/>
                            <attachment id="12434851" name="hive-1096-8.diff" size="10090" author="appodictic" created="Thu, 4 Feb 2010 18:48:03 +0000"/>
                            <attachment id="12431498" name="hive-1096.diff" size="4099" author="appodictic" created="Wed, 27 Jan 2010 03:10:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Jan 2010 19:19:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73107</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lddb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122816</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1097] groupby_bigdata.q sometimes throws out of memory exception</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1097</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I would get out of memory errors like the following when running groupby_bigdata.q.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  
    [junit] plan = /data/users/pyang/task2/trunk/VENDOR.hive/trunk/build/ql/scratchdir/plan38413.xml
    [junit] Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-15&quot;&lt;/span&gt; java.lang.OutOfMemoryError: Java heap space
    [junit]     at java.util.Arrays.copyOf(Arrays.java:2882)
    [junit]     at java.lang.AbstractStringBuilder.expandCapacity(AbstractStringBuilder.java:100)
    [junit]     at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:390)
    [junit]     at java.lang.&lt;span class=&quot;code-object&quot;&gt;StringBuffer&lt;/span&gt;.append(&lt;span class=&quot;code-object&quot;&gt;StringBuffer&lt;/span&gt;.java:224)
    [junit]     at java.io.StringWriter.write(StringWriter.java:84)
    [junit]     at java.io.PrintWriter.newLine(PrintWriter.java:436)
    [junit]     at java.io.PrintWriter.println(PrintWriter.java:585)
    [junit]     at java.io.PrintWriter.println(PrintWriter.java:696)
    [junit]     at java.lang.Throwable.printStackTrace(Throwable.java:512)
    [junit]     at org.apache.hadoop.util.StringUtils.stringifyException(StringUtils.java:60)
    [junit]     at org.apache.hadoop.hive.ql.exec.ScriptOperator$StreamThread.run(ScriptOperator.java:561)
    [junit] Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.OutOfMemoryError: Java heap space
    [junit]     at java.nio.HeapCharBuffer.&amp;lt;init&amp;gt;(HeapCharBuffer.java:39)
    [junit]     at java.nio.CharBuffer.allocate(CharBuffer.java:312)
    [junit]     at java.nio.charset.CharsetEncoder.isLegalReplacement(CharsetEncoder.java:319)
    [junit]     at java.nio.charset.CharsetEncoder.replaceWith(CharsetEncoder.java:267)
    [junit]     at java.nio.charset.CharsetEncoder.&amp;lt;init&amp;gt;(CharsetEncoder.java:186)
    [junit]     at java.nio.charset.CharsetEncoder.&amp;lt;init&amp;gt;(CharsetEncoder.java:209)
    [junit]     at sun.nio.cs.ISO_8859_1$Encoder.&amp;lt;init&amp;gt;(ISO_8859_1.java:116)
    [junit]     at sun.nio.cs.ISO_8859_1$Encoder.&amp;lt;init&amp;gt;(ISO_8859_1.java:113)
    [junit]     at sun.nio.cs.ISO_8859_1.newEncoder(ISO_8859_1.java:46)
    [junit]     at java.lang.StringCoding$StringEncoder.&amp;lt;init&amp;gt;(StringCoding.java:215)
    [junit]     at java.lang.StringCoding$StringEncoder.&amp;lt;init&amp;gt;(StringCoding.java:207)
    [junit]     at java.lang.StringCoding.encode(StringCoding.java:266)
    [junit]     at java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.getBytes(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.java:947)
    [junit]     at java.io.UnixFileSystem.getLength(Native Method)
    [junit]     at java.io.File.length(File.java:848)
    [junit]     at org.apache.hadoop.fs.RawLocalFileSystem$RawLocalFileStatus.&amp;lt;init&amp;gt;(RawLocalFileSystem.java:375)
    [junit]     at org.apache.hadoop.fs.RawLocalFileSystem.getFileStatus(RawLocalFileSystem.java:359)
    [junit]     at org.apache.hadoop.fs.FilterFileSystem.getFileStatus(FilterFileSystem.java:245)
    [junit]     at org.apache.hadoop.fs.FileSystem.exists(FileSystem.java:643)
    [junit]     at org.apache.hadoop.hive.ql.exec.Utilities.clearMapRedWork(Utilities.java:114)
    [junit]     at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:680)
    [junit]     at org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:936)
    [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    [junit]     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
    [junit]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
    [junit]     at java.lang.reflect.Method.invoke(Method.java:597)
    [junit]     at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
    [junit] Traceback (most recent call last):
    [junit]   File &lt;span class=&quot;code-quote&quot;&gt;&quot;../data/scripts/dumpdata_script.py&quot;&lt;/span&gt;, line 6, in &amp;lt;module&amp;gt;
    [junit]     print 20000 * i + k

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12446605">HIVE-1097</key>
            <summary>groupby_bigdata.q sometimes throws out of memory exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="pauly">Paul Yang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Jan 2010 21:37:34 +0000</created>
                <updated>Sat, 17 Dec 2011 00:06:16 +0000</updated>
                            <resolved>Tue, 26 Jan 2010 16:57:36 +0000</resolved>
                                    <version>0.4.1</version>
                                    <fixVersion>0.5.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12804747" author="pauly" created="Mon, 25 Jan 2010 21:58:51 +0000"  >&lt;ul&gt;
	&lt;li&gt;Increased mem from 256MB to 300MB for groupby_bigdata&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12804820" author="zshao" created="Tue, 26 Jan 2010 00:40:40 +0000"  >&lt;p&gt;It might be a good idea to increase to 384MB to make sure we don&apos;t run into this problem in a while.&lt;/p&gt;

&lt;p&gt;Also the following piece of code looks suspicious. It is possible that something else happened, but we went out-of-memory while doing stringifyException?&lt;br/&gt;
Let&apos;s &quot;LOG.warn&quot; the exception type and message first, before do &quot;LOG.warn&quot; on the stringified exception text.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ScriptOperator.java:
      } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Throwable th) {
        scriptError = th;
        LOG.warn(StringUtils.stringifyException(th));
      } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12804873" author="pauly" created="Tue, 26 Jan 2010 03:32:10 +0000"  >&lt;ul&gt;
	&lt;li&gt;Increased mem to 384&lt;/li&gt;
	&lt;li&gt;Added LOG.warn() before stringifyException&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Using the added LOG.warn(), I also verified that there was a OOM exception before stringifyException threw another OOM.&lt;/p&gt;</comment>
                            <comment id="12805091" author="namit" created="Tue, 26 Jan 2010 16:54:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good&lt;/p&gt;</comment>
                            <comment id="12805094" author="namit" created="Tue, 26 Jan 2010 16:57:36 +0000"  >&lt;p&gt;committed. Thanks Paul&lt;/p&gt;</comment>
                            <comment id="12805323" author="pauly" created="Wed, 27 Jan 2010 02:34:25 +0000"  >&lt;p&gt;Namit, can you apply the patch to branch-0.5? Thanks!&lt;/p&gt;</comment>
                            <comment id="12805331" author="namit" created="Wed, 27 Jan 2010 03:09:44 +0000"  >&lt;p&gt;applied in 0.5 also&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12446479">HIVE-1089</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12431404" name="HIVE-1097.2.patch" size="1139" author="pauly" created="Tue, 26 Jan 2010 03:32:10 +0000"/>
                            <attachment id="12431363" name="HVIE-1097.1.patch" size="548" author="pauly" created="Mon, 25 Jan 2010 21:58:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Jan 2010 00:40:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73106</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lddj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122817</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1098] Fix Eclipse launch configurations</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1098</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;All of the Eclipse launch configurations in eclipse-templates are currently broken.&lt;br/&gt;
The configurations reference hive_model.jar, which no longer exists, but there&lt;br/&gt;
appear to be other problems as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446612">HIVE-1098</key>
            <summary>Fix Eclipse launch configurations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Jan 2010 22:46:52 +0000</created>
                <updated>Wed, 24 Feb 2010 01:00:11 +0000</updated>
                            <resolved>Wed, 24 Feb 2010 01:00:11 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.6.0</version>
                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12804840" author="prasadc" created="Tue, 26 Jan 2010 01:32:49 +0000"  >&lt;p&gt;hive-model.jar is needed only for JUnit launch configurations. this jar can be created by running &apos;ant model-jar&apos; in hive/metastore. this is kind of hack that i put in to enable running metastore related unit tests in Eclipse. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12456190">HIVE-1163</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Jan 2010 01:32:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73105</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lddr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122818</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>eclipse launch configurations </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1099] Queries in input40.q should be deterministic</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1099</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The SELECT * queries in input40.q are not deterministic because the rows could be output in any order. The fix is to add a sort by clause as it is done in branch-0.5.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12446614">HIVE-1099</key>
            <summary>Queries in input40.q should be deterministic</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="pauly">Paul Yang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Jan 2010 22:58:27 +0000</created>
                <updated>Tue, 16 Jun 2015 19:14:59 +0000</updated>
                            <resolved>Tue, 26 Jan 2010 01:31:19 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12804794" author="zshao" created="Mon, 25 Jan 2010 23:55:39 +0000"  >&lt;p&gt;+1. Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="12804801" author="zshao" created="Tue, 26 Jan 2010 00:01:12 +0000"  >&lt;p&gt;I cannot apply the patch. Can you regenerate it from open-source branch-0.4?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[zshao@dev /xxx/hadoop_hive/branch-0.4] patch -p0 -i ../HIVE-1099.1.patch
patching file ql/src/test/results/clientpositive/input40.q.out
Hunk #1 FAILED at 19.
Hunk #2 FAILED at 535.
2 out of 2 hunks FAILED -- saving rejects to file ql/src/test/results/clientpositive/input40.q.out.rej
patching file ql/src/test/queries/clientpositive/input40.q
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12804828" author="pauly" created="Tue, 26 Jan 2010 01:03:04 +0000"  >&lt;p&gt;Re-generated patch for open source repository.&lt;/p&gt;</comment>
                            <comment id="12804832" author="namit" created="Tue, 26 Jan 2010 01:16:59 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12804839" author="namit" created="Tue, 26 Jan 2010 01:31:19 +0000"  >&lt;p&gt;Committed. Thanks Paul&lt;/p&gt;</comment>
                            <comment id="14588594" author="hiveqa" created="Tue, 16 Jun 2015 19:14:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12739930/HIVE-10999.1-spark.patc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12739930/HIVE-10999.1-spark.patc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/884/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/884/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/884/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-SPARK-Build/884/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-884/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-SPARK-Build-884/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Tests exited with: InterruptedException: null
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12739930 - PreCommit-HIVE-SPARK-Build&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12431370" name="HIVE-1099.1.patch" size="72573" author="pauly" created="Mon, 25 Jan 2010 23:01:51 +0000"/>
                            <attachment id="12431390" name="HIVE-1099.2.patch" size="83266" author="pauly" created="Tue, 26 Jan 2010 01:03:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Jan 2010 23:55:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73104</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lddz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122819</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
