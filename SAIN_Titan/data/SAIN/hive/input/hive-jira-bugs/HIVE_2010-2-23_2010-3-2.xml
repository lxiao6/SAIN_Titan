<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:15:25 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2010-2-23+AND+created+%3C%3D+2010-3-2+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="18" total="18"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1189] Add package-info.java to Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1189</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hadoop automatically generates build/src/org/apache/hadoop/package-info.java with information like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/*
 * Generated by src/saveVersion.sh
 */
@HadoopVersionAnnotation(version=&lt;span class=&quot;code-quote&quot;&gt;&quot;0.20.2-dev&quot;&lt;/span&gt;, revision=&lt;span class=&quot;code-quote&quot;&gt;&quot;826568&quot;&lt;/span&gt;,
                         user=&lt;span class=&quot;code-quote&quot;&gt;&quot;zshao&quot;&lt;/span&gt;, date=&lt;span class=&quot;code-quote&quot;&gt;&quot;Sun Oct 18 17:46:56 PDT 2009&quot;&lt;/span&gt;, url=&lt;span class=&quot;code-quote&quot;&gt;&quot;http:&lt;span class=&quot;code-comment&quot;&gt;//svn.apache.org/repos/asf/hadoop/common/branches/branch-0.20&quot;&lt;/span&gt;)
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; org.apache.hadoop;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Hive should do the same thing so that we can easily know the version of the code at runtime.&lt;br/&gt;
This will help us identify whether we are still running the same version of Hive, if we serialize the plan and later continue the execution (See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1100&quot; title=&quot;Make it possible for users to retry map-reduce jobs in a single Hive query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1100&quot;&gt;HIVE-1100&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457098">HIVE-1189</key>
            <summary>Add package-info.java to Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Feb 2010 00:23:45 +0000</created>
                <updated>Tue, 5 Apr 2011 22:25:42 +0000</updated>
                                            <version>0.6.0</version>
                                                    <component>Build Infrastructure</component>
                    <component>Diagnosability</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12837115" author="zshao" created="Tue, 23 Feb 2010 07:11:40 +0000"  >&lt;p&gt;The logic is copied from Hadoop.&lt;/p&gt;</comment>
                            <comment id="12837483" author="jvs" created="Tue, 23 Feb 2010 22:32:43 +0000"  >&lt;p&gt;Can you think of a way to add an automated negative test?&lt;/p&gt;

&lt;p&gt;Regarding the check itself, you are comparing the version, but not the revision.  Don&apos;t we need to check both?&lt;/p&gt;
</comment>
                            <comment id="12838148" author="zshao" created="Thu, 25 Feb 2010 01:59:53 +0000"  >&lt;p&gt;I am checking the BuildVersion which contains everything.&lt;br/&gt;
I need to think of a way to do a negative test.&lt;/p&gt;</comment>
                            <comment id="12856594" author="jvs" created="Tue, 13 Apr 2010 20:12:54 +0000"  >&lt;p&gt;The patch has some conflicts with latest trunk--can you regenerate?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12446618">HIVE-1100</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12436682" name="HIVE-1189.1.patch" size="13115" author="zshao" created="Tue, 23 Feb 2010 07:11:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Feb 2010 22:32:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42596</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122898</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1190] Configure build to download Hadoop tarballs from Facebook mirror instead of Apache</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1190</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-984&quot; title=&quot;Building Hive occasionally fails with Ivy error: hadoop#core;0.20.1!hadoop.tar.gz(source): invalid md5:&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-984&quot;&gt;&lt;del&gt;HIVE-984&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457121">HIVE-1190</key>
            <summary>Configure build to download Hadoop tarballs from Facebook mirror instead of Apache</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Feb 2010 07:34:53 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:53 +0000</updated>
                            <resolved>Tue, 23 Feb 2010 07:58:39 +0000</resolved>
                                    <version>0.5.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12837124" author="jvs" created="Tue, 23 Feb 2010 07:37:22 +0000"  >&lt;p&gt;Patch for configuration change.&lt;/p&gt;</comment>
                            <comment id="12837130" author="zshao" created="Tue, 23 Feb 2010 07:58:39 +0000"  >&lt;p&gt;Committed. Thanks John!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12443287">HIVE-984</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12457193">HIVE-1192</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12436683" name="HIVE-1190.1.patch" size="423" author="jvs" created="Tue, 23 Feb 2010 07:36:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Feb 2010 07:58:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73042</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122899</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1191] Improve efficiency of get_json_object</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1191</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/LanguageManual/UDF#get_json_object&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/LanguageManual/UDF#get_json_object&lt;/a&gt;&lt;br/&gt;
The current implementation of get_json_object uses a third-party library to parse json_object and then get the result.&lt;/p&gt;

&lt;p&gt;It&apos;s much slower than just using simple UTF-8 byte array based parsing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457122">HIVE-1191</key>
            <summary>Improve efficiency of get_json_object</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Feb 2010 07:38:30 +0000</created>
                <updated>Tue, 23 Feb 2010 07:38:30 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42595</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08n8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48363</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1192] Build fails when hadoop.version=0.20.1</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1192</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Setting hadoop.version=0.20.1 causes the build to fail since&lt;br/&gt;
mirror.facebook.net/facebook/hive-deps does not have 0.20.1&lt;br/&gt;
(only 0.17.2.1, 0.18.3, 0.19.0, 0.20.0).&lt;/p&gt;

&lt;p&gt;Suggested fix:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;remove/ignore the hadoop.version configuration parameter&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;or&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Remove the patch numbers from these archives and use only the major.minor numbers specified by the user to locate the appropriate tarball to download, so 0.20.0 and 0.20.1 would both map to hadoop-0.20.tar.gz.&lt;/li&gt;
	&lt;li&gt;Optionally create new tarballs that only contain the components that are actually needed for the build (Hadoop jars), and remove things that aren&apos;t needed (all of the source files).&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment></environment>
        <key id="12457193">HIVE-1192</key>
            <summary>Build fails when hadoop.version=0.20.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Feb 2010 18:30:29 +0000</created>
                <updated>Wed, 24 Aug 2011 12:56:38 +0000</updated>
                            <resolved>Tue, 15 Jun 2010 23:05:52 +0000</resolved>
                                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12837387" author="jvs" created="Tue, 23 Feb 2010 19:01:27 +0000"  >&lt;p&gt;I&apos;ll get 0.20.1 added to the FB mirror.  Any others?&lt;/p&gt;</comment>
                            <comment id="12837395" author="cwsteinbach" created="Tue, 23 Feb 2010 19:18:23 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;ll get 0.20.1 added to the FB mirror. Any others? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes: 0.17.0, 0.17.1, 0.17.2, 0.18.1, 0.18.2, 0.19.1, and 0.19.2. I think that anything listed &lt;a href=&quot;http://archive.apache.org/dist/hadoop/core/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt; with a minor version &amp;gt;= 17 is fair game.&lt;/p&gt;

&lt;p&gt;What do you think of my suggestion that we repackage these tarballs using names that drop the patch number?&lt;/p&gt;</comment>
                            <comment id="12837409" author="jvs" created="Tue, 23 Feb 2010 19:38:30 +0000"  >&lt;p&gt;I don&apos;t think we should drop the patch number, since someone may want a specific version.  But we can improve the wiki docs about which versions can be obtained where and what to do if you don&apos;t care about patch number.&lt;/p&gt;</comment>
                            <comment id="12837420" author="cwsteinbach" created="Tue, 23 Feb 2010 19:57:53 +0000"  >&lt;p&gt;For this particular application I don&apos;t think the patch numbers matter. We download&lt;br/&gt;
the Hadoop tarballs in order to obtain the jars which are referenced when the&lt;br/&gt;
shims are built in order to satisfy the compiler. Since the API does not change between&lt;br/&gt;
patch versions there is no difference between using 0.20.1 and 0.20.0, etc for this&lt;br/&gt;
step. Subsequently, the contents of these tarballs are not referenced at all &amp;#8211;&lt;br/&gt;
we expect users to supply their own installation of Hadoop. I think it&apos;s a bug&lt;br/&gt;
that our build currently thinks there is a difference between 0.20.0 and 0.20.1.&lt;br/&gt;
Am I missing something?&lt;/p&gt;
</comment>
                            <comment id="12837436" author="jvs" created="Tue, 23 Feb 2010 20:31:57 +0000"  >&lt;p&gt;hadoop.version is used for running tests too (not just for building shims).&lt;/p&gt;

&lt;p&gt;From &quot;test&quot; target in build-common.xml:&lt;/p&gt;

&lt;p&gt;      &amp;lt;env key=&quot;HADOOP_HOME&quot; value=&quot;${hadoop.root}&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;From build.properties:&lt;/p&gt;

&lt;p&gt;hadoop.version.ant-internal=${hadoop.version}&lt;br/&gt;
hadoop.root.default=${build.dir.hadoop}/hadoop-${hadoop.version.ant-internal}&lt;br/&gt;
hadoop.root=${hadoop.root.default}&lt;/p&gt;
</comment>
                            <comment id="12837445" author="jvs" created="Tue, 23 Feb 2010 21:10:09 +0000"  >&lt;p&gt;Wiki docs updated here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/HowToContribute#Hadoop_Dependencies&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/HowToContribute#Hadoop_Dependencies&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12861889" author="billa" created="Wed, 28 Apr 2010 18:32:57 +0000"  >&lt;p&gt;I am trying to build 0.5.0 for Hadoop 0.20.1.  It looks like 0.20.1 is only available on &lt;a href=&quot;http://archive.apache.org/dist&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://archive.apache.org/dist&lt;/a&gt;.  So I set hadoop.mirror to that but I am getting the same error as in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-984&quot; title=&quot;Building Hive occasionally fails with Ivy error: hadoop#core;0.20.1!hadoop.tar.gz(source): invalid md5:&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-984&quot;&gt;&lt;del&gt;HIVE-984&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-984&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-984&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I can connect and download the file but there is a problem with the checksum.&lt;/p&gt;

&lt;p&gt;What do I need to do to proceed?&lt;/p&gt;</comment>
                            <comment id="12861922" author="jvs" created="Wed, 28 Apr 2010 20:00:31 +0000"  >&lt;p&gt;Hmmm, looks like the mirrors have been updated to 0.20.2.  Facebook hasn&apos;t yet gotten around to provisioning more archival versions under mirror.facebook.net/facebook/hive-deps.&lt;/p&gt;

&lt;p&gt;If you can&apos;t use 0.20.2, you could &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;retry with archive.apache.org (sometimes it is under too much load)&lt;/li&gt;
	&lt;li&gt;or see if you can google for a mirror which didn&apos;t get refreshed&lt;/li&gt;
	&lt;li&gt;or else try downloading it through some other means such as wget (ivy seems to be very sensitive to network problems)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12861926" author="jvs" created="Wed, 28 Apr 2010 20:05:00 +0000"  >&lt;p&gt;Meanwhile, I&apos;m pinging Facebook ops to see if we can get 0.20.1 added to mirror.facebook.net/facebook/hive-deps.&lt;/p&gt;</comment>
                            <comment id="12861996" author="jvs" created="Wed, 28 Apr 2010 23:37:06 +0000"  >&lt;p&gt;0.20.1 is there now...Bill, can you try it?&lt;/p&gt;</comment>
                            <comment id="12862005" author="cwsteinbach" created="Thu, 29 Apr 2010 00:02:19 +0000"  >&lt;p&gt;John/Bill: Ivy can&apos;t download the 0.20.1 tarball off of archive.apache.org because&lt;br/&gt;
the associated md5 checksum file does not adhere to convention, i.e. it was not created&lt;br/&gt;
by running &apos;md5sum&apos; on the tarball.&lt;/p&gt;

&lt;p&gt;For example, compare the following two files:&lt;br/&gt;
&lt;a href=&quot;http://mirror.facebook.net/facebook/hive-deps/hadoop/core/hadoop-0.20.0/hadoop-0.20.0.tar.gz.md5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mirror.facebook.net/facebook/hive-deps/hadoop/core/hadoop-0.20.0/hadoop-0.20.0.tar.gz.md5&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://mirror.facebook.net/facebook/hive-deps/hadoop/core/hadoop-0.20.1/hadoop-0.20.1.tar.gz.md5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mirror.facebook.net/facebook/hive-deps/hadoop/core/hadoop-0.20.1/hadoop-0.20.1.tar.gz.md5&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The checksum file for 0.20.0 contains the output of md5sum. The checksum file for 0.20.1&lt;br/&gt;
contains a bunch of checksums generated using some other tool. Ivy barfs when it tries to located&lt;br/&gt;
the md5 checksum in this mess.&lt;/p&gt;</comment>
                            <comment id="12862033" author="jvs" created="Thu, 29 Apr 2010 00:45:19 +0000"  >&lt;p&gt;If someone regenerates the correctly formatted .md5 file and tests it, I can get the bad one replaced on mirror.facebook.net.&lt;/p&gt;</comment>
                            <comment id="12862054" author="cwsteinbach" created="Thu, 29 Apr 2010 01:47:15 +0000"  >&lt;p&gt;@John: I attached a correctly formatted version of the md5 checksum file for the 0.20.1 tarball.&lt;/p&gt;</comment>
                            <comment id="12862221" author="billa" created="Thu, 29 Apr 2010 15:04:03 +0000"  >&lt;p&gt;As Carl has pointed out, I have no problem downloading the file.  But ivy fails because of the bad checksum.&lt;/p&gt;</comment>
                            <comment id="12862282" author="cwsteinbach" created="Thu, 29 Apr 2010 17:46:25 +0000"  >&lt;p&gt;A temporary workaround for this problem is to set the property ivy.checksums=&quot;&quot; in ivy/ivysettings.xml:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;property name=&lt;span class=&quot;code-quote&quot;&gt;&quot;ivy.checksums&quot;&lt;/span&gt; value=&quot;&quot;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This has the affect of disabling checksum checks.&lt;/p&gt;</comment>
                            <comment id="12862326" author="jvs" created="Thu, 29 Apr 2010 18:27:23 +0000"  >&lt;p&gt;Thanks Carl.  I&apos;m working on getting the corrected checksum uploaded.&lt;/p&gt;

&lt;p&gt;Note that in the past, the checksums have actually been needed for detecting bad downloads from archive.apache.org when it was overloaded.&lt;/p&gt;

&lt;p&gt;Is there a JIRA open for Apache to keep the release directories ivy-friendly?  Or maybe it has already been corrected for later releases?&lt;/p&gt;</comment>
                            <comment id="12862433" author="cwsteinbach" created="Thu, 29 Apr 2010 21:46:40 +0000"  >&lt;p&gt;@John: As far as I know 0.20.1 is the only release on archive.apache.org with a bogus md5 file.&lt;br/&gt;
I raised this issue on common-user a couple months ago and got no response.  I just filed&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-6737&quot; title=&quot;0.20.1 tarball on archive.apache.org has bogus md5 checksum file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-6737&quot;&gt;HADOOP-6737&lt;/a&gt; to track this problem.&lt;/p&gt;</comment>
                            <comment id="12862882" author="jvs" created="Fri, 30 Apr 2010 21:34:36 +0000"  >&lt;p&gt;Checksum file has been corrected; please retry.&lt;/p&gt;</comment>
                            <comment id="12879161" author="jvs" created="Tue, 15 Jun 2010 22:54:10 +0000"  >&lt;p&gt;I think we can close this one now?&lt;/p&gt;</comment>
                            <comment id="12897003" author="dnquark" created="Tue, 10 Aug 2010 19:10:32 +0000"  >&lt;p&gt;I just ran into this issue building the latest hive checkout.  Ivy somehow fails to retrieve the sources for 0.20.1 (notice how it&apos;s not in the list below): &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ivy:retrieve]  confs: [&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;]
[ivy:retrieve]  found hadoop#core;0.17.2.1 in hadoop-source
[ivy:retrieve]  found hadoop#core;0.18.3 in hadoop-source
[ivy:retrieve]  found hadoop#core;0.19.0 in hadoop-source
[ivy:retrieve]  found hadoop#core;0.20.0 in hadoop-source
[ivy:retrieve] :: resolution report :: resolve 5143ms :: artifacts dl 5ms
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I could get the build to work by doing wget &lt;a href=&quot;http://mirror.facebook.net/facebook/hive-deps/hadoop/core/hadoop-0.20.1/hadoop-0.20.1.tar.gz&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mirror.facebook.net/facebook/hive-deps/hadoop/core/hadoop-0.20.1/hadoop-0.20.1.tar.gz&lt;/a&gt; and uncompressing into $HIVE_SRC/build/hadoopcore, but this is an unsatisfactory solution since we are trying to automate all builds.  Any ideas on a better fix?&lt;/p&gt;</comment>
                            <comment id="13090184" author="butlermh" created="Wed, 24 Aug 2011 12:55:19 +0000"  >&lt;p&gt;I am still encountering problems with this on a Hudson continuous build server. It works find on the command line, but on Hudson it fails. Here is a small change to build-common.xml that detects if the relevant files are in the build/hadoopcore directory, and if so skips the ivy:retrieve phase, so if necessary you can retrieve them by hand. At the moment that is not possible.&lt;/p&gt;</comment>
                            <comment id="13090185" author="butlermh" created="Wed, 24 Aug 2011 12:56:38 +0000"  >&lt;p&gt;Changes to build-common.xml to skip the ivy:retrieve phase if the files are already present. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12463379">HADOOP-6737</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12443287">HIVE-984</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12457121">HIVE-1190</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12491476" name="build-common.xml.diff" size="815" author="butlermh" created="Wed, 24 Aug 2011 12:56:38 +0000"/>
                            <attachment id="12443154" name="hadoop-0.20.1.tar.gz.md5" size="55" author="cwsteinbach" created="Thu, 29 Apr 2010 01:46:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Feb 2010 19:01:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>63888</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122900</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1193] Ensure sorting properties for a table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1193</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If a table is sorted, and data is being inserted into that - currently, we dont make sure that data is sorted. That might be useful some downstream operations.&lt;br/&gt;
This cannot be made the default due to backward compatibility, but an option can be added for the same&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457327">HIVE-1193</key>
            <summary>Ensure sorting properties for a table</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Feb 2010 18:39:36 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:27 +0000</updated>
                            <resolved>Fri, 26 Feb 2010 03:19:44 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12838628" author="he yongqiang" created="Fri, 26 Feb 2010 00:13:55 +0000"  >&lt;p&gt;Looks good. Will test.&lt;/p&gt;</comment>
                            <comment id="12838687" author="he yongqiang" created="Fri, 26 Feb 2010 03:19:44 +0000"  >&lt;p&gt;Committed! Thanks Namit!&lt;/p&gt;</comment>
                            <comment id="12838737" author="zshao" created="Fri, 26 Feb 2010 07:38:00 +0000"  >&lt;p&gt;Can we have some more description on the JIRA?&lt;br/&gt;
The patch contains 2 properties: enforceBucketing and enforceSorting. But I don&apos;t see it from the JIRA.&lt;/p&gt;

&lt;p&gt;1. How do we make sure that the data is bucketed / sorted? By adding an additional map-reduce job?&lt;br/&gt;
2. What if the user already specified &quot;CLUSTER BY key&quot; in his query?&lt;br/&gt;
3. Do we disable merging of small files when we do this?&lt;/p&gt;</comment>
                            <comment id="12838914" author="appodictic" created="Fri, 26 Feb 2010 16:17:16 +0000"  >&lt;p&gt;Also how can the optimizer take advantage of this? If we know data is sorted we could do some aggressive pruning (if we know offsets) and short circuiting for some where conditions.&lt;/p&gt;</comment>
                            <comment id="12838958" author="he yongqiang" created="Fri, 26 Feb 2010 17:44:56 +0000"  >&lt;p&gt;@Zheng,&lt;br/&gt;
&amp;gt;&amp;gt;1. How do we make sure that the data is bucketed / sorted? By adding an additional map-reduce job?&lt;br/&gt;
Yes. &lt;br/&gt;
&amp;gt;&amp;gt;2. What if the user already specified &quot;CLUSTER BY key&quot; in his query?&lt;br/&gt;
As 1, there will be a new job added which will redistribute the data. &lt;br/&gt;
If the user specify a cluster by column different than the table&apos;s sort and bucket property, we maybe should let it fail. But right now that cluster by is actually ignored.&lt;br/&gt;
&amp;gt;&amp;gt;3. Do we disable merging of small files when we do this?&lt;br/&gt;
Yes. We should disable it. we should disable it when enabled enforceBucketing or enforceSorting&lt;/p&gt;</comment>
                            <comment id="12839004" author="namit" created="Fri, 26 Feb 2010 19:59:15 +0000"  >&lt;p&gt;There are 2 different jiras: one for ensuring the bucketing properties and one for ensuring the sorted properties.&lt;/p&gt;

&lt;p&gt;Currently, even though the tables are sorted and bucketed during the table creation, they are not enforced.&lt;br/&gt;
It is up to the user to make sure the data is bucketed/sorted appropriately while loading.&lt;br/&gt;
Since it is not enforced, the optimizer cannot take advantage of that because it doesnt know whether the data is actually sorted.&lt;/p&gt;

&lt;p&gt;There was a jira previously, which took advantage of the fact that the data is sorted for processing for group by.&lt;br/&gt;
This is controlled by configurable parameters.&lt;/p&gt;

&lt;p&gt;Going forward, we want to use them for joining, specifically for sort merge joins.&lt;/p&gt;

&lt;p&gt;@Edward, currently we are not doing skipping based on sorting properties.&lt;/p&gt;

&lt;p&gt;Currently, we create an additional map-reduce job for bucketing/sorting.&lt;br/&gt;
Even if there is a cluster by, and the data is already bucketed/sorted by the correct key, we dont use that. There&lt;br/&gt;
will be another map-reduce job. This can be optimized in future.&lt;/p&gt;

&lt;p&gt;Merging of map-only jobs is disabled, but same thing should be performed for map-reduce jobs also. I will file a follow-up&lt;br/&gt;
jira on that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12437060" name="hive.1193.1.patch" size="44618" author="namit" created="Thu, 25 Feb 2010 22:38:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Feb 2010 00:13:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73041</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122901</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1194] sorted merge join</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1194</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If the input tables are sorted on the join key, and a mapjoin is being performed, it is useful to exploit the sorted properties of the table.&lt;br/&gt;
This can lead to substantial cpu savings - this needs to work across bucketed map joins also.&lt;/p&gt;

&lt;p&gt;Since, sorted properties of a table are not enforced currently, a new parameter can be added to specify to use the sort-merge join.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457330">HIVE-1194</key>
            <summary>sorted merge join</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Feb 2010 18:43:36 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:45 +0000</updated>
                            <resolved>Fri, 5 Mar 2010 00:58:04 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12838113" author="namit" created="Thu, 25 Feb 2010 00:27:41 +0000"  >&lt;p&gt;Based on a offline discussion with Yongqiang, we were thinking of the following:&lt;/p&gt;


&lt;p&gt;There will be a new mapping in MapredWork -&amp;gt;&lt;br/&gt;
Operator -&amp;gt; MapredLocalWork&lt;/p&gt;

&lt;p&gt;This will be populated for SortMergeJoinOperator only.&lt;/p&gt;

&lt;p&gt;SortMergeJoinOperator is a new operator which extends MapJoinOperator, and has the&lt;br/&gt;
same name as a MapJoinOperator.&lt;/p&gt;

&lt;p&gt;MapJoinProcessor needs to create a SortMergeJoinOperator instead of a MapJoinOperator&lt;br/&gt;
when it sees the new configuration parameter.&lt;/p&gt;

&lt;p&gt;MapJoinFactory methods need to change to create Operator-&amp;gt;MapredLocalWork instead of&lt;br/&gt;
MapredLocalWork in MapredWork.&lt;/p&gt;</comment>
                            <comment id="12838120" author="zshao" created="Thu, 25 Feb 2010 00:49:42 +0000"  >&lt;p&gt;Why does SortMergeJoinOperator extends MapJoinOperator?&lt;br/&gt;
It seems to me that SortMergeJoinOperator does NOTneed the in-memory/disk-backed HashMap that MapJoinOperator has, correct?&lt;/p&gt;</comment>
                            <comment id="12838121" author="namit" created="Thu, 25 Feb 2010 00:51:56 +0000"  >&lt;p&gt;Yes, but it happens on the mapper. It is a special type of mapjoin.&lt;br/&gt;
It will end up overwriting all the functions of map-join, but keeping it this way keeps the hierarchy correct&lt;/p&gt;</comment>
                            <comment id="12838122" author="he yongqiang" created="Thu, 25 Feb 2010 00:54:27 +0000"  >&lt;p&gt;Yes. It does not need those storage. &lt;br/&gt;
The main reason of letting it extend mapjoinop is because with that we can reuse the code for mapjoinop doing optimization and task generation.&lt;/p&gt;</comment>
                            <comment id="12838130" author="namit" created="Thu, 25 Feb 2010 01:17:39 +0000"  >&lt;p&gt;A new optimization step will be created which will convert the mapjoin to a sortmergejoin&lt;/p&gt;</comment>
                            <comment id="12838132" author="zshao" created="Thu, 25 Feb 2010 01:21:13 +0000"  >&lt;p&gt;If it does not inherit any methods, shall we add an AbstractMapJoinOperator as the common parent?&lt;br/&gt;
That AbstractMapJoinOperator can be converted to MapJoinOperator (or HashBasedMapJoinOperator, to be accurate) or SortMergeJoinOperator depending on the configuration/table properties.&lt;/p&gt;</comment>
                            <comment id="12838191" author="he yongqiang" created="Thu, 25 Feb 2010 05:15:06 +0000"  >&lt;p&gt;Thanks Zheng. Yes, we should do that.&lt;/p&gt;</comment>
                            <comment id="12839577" author="he yongqiang" created="Mon, 1 Mar 2010 07:25:28 +0000"  >&lt;p&gt;for early review only. &lt;br/&gt;
I will test it more and add more testcases.&lt;/p&gt;</comment>
                            <comment id="12839922" author="namit" created="Mon, 1 Mar 2010 23:49:37 +0000"  >&lt;p&gt;Had a quick comment - dont you need a operator-&amp;gt;fetcoperator mapping in mapredlocalwork ?&lt;br/&gt;
currently, you are implicitly assuming that mapjoins are the only operators doing so.&lt;/p&gt;</comment>
                            <comment id="12839932" author="he yongqiang" created="Tue, 2 Mar 2010 00:19:54 +0000"  >&lt;p&gt;yes, we can do that. there are two problems need to resolve;&lt;br/&gt;
(1) serialize and deserialize the mapping. We generate the mapping at compile time, and the operator instance is different then the one in runtime. &lt;br/&gt;
(2) the fetchOperators need to be accessed in SMBMapJoinOperator. need to pass these from exec-mapper to SMBMapJoinOperator&lt;/p&gt;

&lt;p&gt;I just made a small changes,&lt;br/&gt;
i added a new method initializeLocalWork() in Operator. In exec-mapper, the mapoperator&apos;s initializeLocalWork() is called, and triggered all its children&apos;s initializeLocalWork().&lt;/p&gt;</comment>
                            <comment id="12839935" author="namit" created="Tue, 2 Mar 2010 00:33:27 +0000"  >&lt;p&gt;There is a operator id which is unique - so the problem of different operator instance can be solved&lt;/p&gt;

&lt;p&gt;Each operator will access its local work. Currently, only map join operators will need them.&lt;br/&gt;
MapJoinOperator will get the complete small table in the beginning, whereas SMBJoinOperator reads it&lt;br/&gt;
row by row.&lt;/p&gt;

&lt;p&gt;ExecMapper does nothing&lt;/p&gt;</comment>
                            <comment id="12840403" author="he yongqiang" created="Wed, 3 Mar 2010 00:40:46 +0000"  >&lt;p&gt;a new patch added more testcases and fixed some bugs.&lt;br/&gt;
@namit,&lt;br/&gt;
I agree, that will make the code more clear. can we do that in a followup jira, because it requires a code refactoring which may break existing mapjoin etc.&lt;/p&gt;</comment>
                            <comment id="12840463" author="he yongqiang" created="Wed, 3 Mar 2010 05:01:44 +0000"  >&lt;p&gt;hive-1194-2010-3-2.2.patch fixed a bug in outer joins with more than 2 tables.&lt;/p&gt;</comment>
                            <comment id="12840802" author="namit" created="Wed, 3 Mar 2010 19:01:07 +0000"  >&lt;p&gt;smb_mapjoin4.q:&lt;/p&gt;


&lt;p&gt;POSTHOOK: query: select /&lt;b&gt;+mapjoin(a,b)&lt;/b&gt;/ * from smb_bucket_1 a left outer join smb_bucket_2 b on a.key \&lt;br/&gt;
= b.key left outer join smb_bucket_3 c on b.key=c.key&lt;br/&gt;
POSTHOOK: type: QUERY&lt;br/&gt;
POSTHOOK: Input: default@smb_bucket_2&lt;br/&gt;
POSTHOOK: Input: default@smb_bucket_3&lt;br/&gt;
POSTHOOK: Input: default@smb_bucket_1&lt;br/&gt;
POSTHOOK: Output: &lt;a href=&quot;file:/Users/heyongqiang/Documents/workspace/Hive-Test/build/ql/scratchdir/hive_2010-03&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/Users/heyongqiang/Documents/workspace/Hive-Test/build/ql/scratchdir/hive_2010-03\&lt;/a&gt;&lt;br/&gt;
-02_16-28-42_346_3202067314016412424/10000&lt;br/&gt;
1 val_1 NULL  NULL  NULL  NULL&lt;br/&gt;
3 val_3 NULL  NULL  NULL  NULL&lt;br/&gt;
4 val_4 NULL  NULL  NULL  NULL&lt;br/&gt;
5 val_5 NULL  NULL  NULL  NULL&lt;br/&gt;
10  val_10  NULL  NULL  NULL  NULL&lt;/p&gt;


&lt;p&gt;I am not sure if the above semantics are correct - this may be a existing bug in the code, can you check the semantics of mysql and oracle ?&lt;/p&gt;</comment>
                            <comment id="12840805" author="namit" created="Wed, 3 Mar 2010 19:02:05 +0000"  >&lt;p&gt;POSTHOOK: query: select /&lt;b&gt;+mapjoin(a,b)&lt;/b&gt;/ * from smb_bucket_1 a left outer join smb_bucket_2 b on a.key \&lt;br/&gt;
= b.key full outer join smb_bucket_3 c on b.key=c.key&lt;br/&gt;
POSTHOOK: type: QUERY&lt;br/&gt;
POSTHOOK: Input: default@smb_bucket_2&lt;br/&gt;
POSTHOOK: Input: default@smb_bucket_3&lt;br/&gt;
POSTHOOK: Input: default@smb_bucket_1&lt;br/&gt;
POSTHOOK: Output: &lt;a href=&quot;file:/Users/heyongqiang/Documents/workspace/Hive-Test/build/ql/scratchdir/hive_2010-03&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/Users/heyongqiang/Documents/workspace/Hive-Test/build/ql/scratchdir/hive_2010-03\&lt;/a&gt;&lt;br/&gt;
-02_16-28-56_475_666795559542199348/10000&lt;br/&gt;
1 val_1 NULL  NULL  NULL  NULL&lt;br/&gt;
3 val_3 NULL  NULL  NULL  NULL&lt;br/&gt;
4 val_4 NULL  NULL  NULL  NULL&lt;br/&gt;
NULL  NULL  NULL  NULL  4 val_4&lt;br/&gt;
5 val_5 NULL  NULL  NULL  NULL&lt;br/&gt;
10  val_10  NULL  NULL  NULL  NULL&lt;br/&gt;
NULL  NULL  NULL  NULL  10  val_10&lt;br/&gt;
NULL  NULL  NULL  NULL  17  val_17&lt;br/&gt;
NULL  NULL  NULL  NULL  19  val_19&lt;br/&gt;
NULL  NULL  NULL  NULL  20  val_20&lt;br/&gt;
NULL  NULL  NULL  NULL  23  val_23&lt;/p&gt;


&lt;p&gt;same as above&lt;/p&gt;</comment>
                            <comment id="12840806" author="namit" created="Wed, 3 Mar 2010 19:03:38 +0000"  >
&lt;p&gt;PREHOOK: query: select /&lt;b&gt;+mapjoin(a,b)&lt;/b&gt;/ * from smb_bucket_1 a right outer join smb_bucket_2 b on a.key \&lt;br/&gt;
= b.key join smb_bucket_3 c on b.key=c.key&lt;br/&gt;
PREHOOK: type: QUERY&lt;br/&gt;
PREHOOK: Input: default@smb_bucket_2&lt;br/&gt;
PREHOOK: Input: default@smb_bucket_3&lt;br/&gt;
PREHOOK: Input: default@smb_bucket_1&lt;br/&gt;
PREHOOK: Output: &lt;a href=&quot;file:/Users/heyongqiang/Documents/workspace/Hive-Test/build/ql/scratchdir/hive_2010-03-&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/Users/heyongqiang/Documents/workspace/Hive-Test/build/ql/scratchdir/hive_2010-03-\&lt;/a&gt;&lt;br/&gt;
02_16-29-05_320_5840475035790004401/10000&lt;br/&gt;
POSTHOOK: query: select /&lt;b&gt;+mapjoin(a,b)&lt;/b&gt;/ * from smb_bucket_1 a right outer join smb_bucket_2 b on a.key\&lt;br/&gt;
 = b.key join smb_bucket_3 c on b.key=c.key&lt;br/&gt;
POSTHOOK: type: QUERY&lt;br/&gt;
POSTHOOK: Input: default@smb_bucket_2&lt;br/&gt;
POSTHOOK: Input: default@smb_bucket_3&lt;br/&gt;
POSTHOOK: Input: default@smb_bucket_1&lt;br/&gt;
POSTHOOK: Output: &lt;a href=&quot;file:/Users/heyongqiang/Documents/workspace/Hive-Test/build/ql/scratchdir/hive_2010-03&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/Users/heyongqiang/Documents/workspace/Hive-Test/build/ql/scratchdir/hive_2010-03\&lt;/a&gt;&lt;br/&gt;
-02_16-29-05_320_5840475035790004401/10000&lt;/p&gt;


&lt;p&gt;Why is this giving a empty result ?&lt;/p&gt;</comment>
                            <comment id="12840807" author="namit" created="Wed, 3 Mar 2010 19:05:03 +0000"  >&lt;p&gt;PREHOOK: query: select /&lt;b&gt;+mapjoin(a,b)&lt;/b&gt;/ * from smb_bucket_1 a right outer join smb_bucket_2 b on a.key \&lt;br/&gt;
= b.key right outer join smb_bucket_3 c on b.key=c.key&lt;br/&gt;
PREHOOK: type: QUERY&lt;br/&gt;
PREHOOK: Input: default@smb_bucket_2&lt;br/&gt;
PREHOOK: Input: default@smb_bucket_3&lt;br/&gt;
PREHOOK: Input: default@smb_bucket_1&lt;br/&gt;
PREHOOK: Output: &lt;a href=&quot;file:/Users/heyongqiang/Documents/workspace/Hive-Test/build/ql/scratchdir/hive_2010-03-&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/Users/heyongqiang/Documents/workspace/Hive-Test/build/ql/scratchdir/hive_2010-03-\&lt;/a&gt;&lt;br/&gt;
02_16-29-16_626_5515675647620051128/10000&lt;br/&gt;
POSTHOOK: query: select /&lt;b&gt;+mapjoin(a,b)&lt;/b&gt;/ * from smb_bucket_1 a right outer join smb_bucket_2 b on a.key\&lt;br/&gt;
 = b.key right outer join smb_bucket_3 c on b.key=c.key&lt;br/&gt;
POSTHOOK: type: QUERY&lt;br/&gt;
POSTHOOK: Input: default@smb_bucket_2&lt;br/&gt;
POSTHOOK: Input: default@smb_bucket_3&lt;br/&gt;
POSTHOOK: Input: default@smb_bucket_1&lt;br/&gt;
POSTHOOK: Output: &lt;a href=&quot;file:/Users/heyongqiang/Documents/workspace/Hive-Test/build/ql/scratchdir/hive_2010-03&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/Users/heyongqiang/Documents/workspace/Hive-Test/build/ql/scratchdir/hive_2010-03\&lt;/a&gt;&lt;br/&gt;
-02_16-29-16_626_5515675647620051128/10000&lt;br/&gt;
NULL  NULL  NULL  NULL  4 val_4&lt;br/&gt;
NULL  NULL  NULL  NULL  10  val_10&lt;br/&gt;
NULL  NULL  NULL  NULL  17  val_17&lt;br/&gt;
NULL  NULL  NULL  NULL  19  val_19&lt;br/&gt;
NULL  NULL  NULL  NULL  20  val_20&lt;br/&gt;
NULL  NULL  NULL  NULL  23  val_23&lt;/p&gt;


&lt;p&gt;Even this one looks wrong - can you take a look in detail ?&lt;/p&gt;</comment>
                            <comment id="12840812" author="he yongqiang" created="Wed, 3 Mar 2010 19:11:54 +0000"  >&lt;p&gt;will take a look now.&lt;/p&gt;</comment>
                            <comment id="12840825" author="he yongqiang" created="Wed, 3 Mar 2010 19:26:31 +0000"  >&lt;p&gt;@namit, are u looking at patch hive-1194-2010-3-2.2.patch?&lt;/p&gt;

&lt;p&gt;For the last two queries you mentioned above,&lt;/p&gt;

&lt;p&gt; select /+mapjoin(a,b)/ * from smb_bucket_1 a right outer join smb_bucket_2 b on a.key \&lt;br/&gt;
= b.key join smb_bucket_3 c on b.key=c.key&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;select /+mapjoin(a,b)/ * from smb_bucket_1 a right outer join smb_bucket_2 b on a.key \&lt;br/&gt;
= b.key right outer join smb_bucket_3 c on b.key=c.key&lt;/p&gt;


&lt;p&gt;The results look good to me.&lt;br/&gt;
Results:&lt;/p&gt;

&lt;p&gt;NULL	NULL	20	val_20	20	val_20&lt;br/&gt;
NULL	NULL	23	val_23	23	val_23&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;NULL	NULL	NULL	NULL	4	val_4&lt;br/&gt;
NULL	NULL	NULL	NULL	10	val_10&lt;br/&gt;
NULL	NULL	NULL	NULL	17	val_17&lt;br/&gt;
NULL	NULL	NULL	NULL	19	val_19&lt;br/&gt;
NULL	NULL	20	val_20	20	val_20&lt;br/&gt;
NULL	NULL	23	val_23	23	val_23&lt;/p&gt;


&lt;p&gt;Will check oracle and mysql about the semantics of the first two queries you commented.&lt;/p&gt;</comment>
                            <comment id="12840829" author="he yongqiang" created="Wed, 3 Mar 2010 19:31:10 +0000"  >&lt;p&gt;btw, i just checked the results without map join hints. The results are consistent.&lt;/p&gt;</comment>
                            <comment id="12840841" author="he yongqiang" created="Wed, 3 Mar 2010 19:57:15 +0000"  >&lt;p&gt;checked with mysql,&lt;br/&gt;
for query:&lt;br/&gt;
select /+mapjoin(a,b)/ * from smb_bucket_1 a left outer join smb_bucket_2 b on a.key \&lt;br/&gt;
= b.key left outer join smb_bucket_3 c on b.key=c.key&lt;br/&gt;
the result is consistent.&lt;/p&gt;

&lt;p&gt;i did not check the second query because mysql does not support full outer join&lt;/p&gt;</comment>
                            <comment id="12840877" author="namit" created="Wed, 3 Mar 2010 21:01:40 +0000"  >&lt;p&gt;Reviewed with Yongqiang online - &lt;/p&gt;

&lt;p&gt;MapJoinProcessor.java:convertMapJoin: Also check if the tables are sorted.&lt;br/&gt;
(check it later in SMBJoinOptimizer)&lt;/p&gt;

&lt;p&gt;Add a negative test for the same.&lt;/p&gt;

&lt;p&gt;Also, can you add a simple test with 2 buckets ?&lt;/p&gt;</comment>
                            <comment id="12840895" author="sdong" created="Wed, 3 Mar 2010 21:46:05 +0000"  >&lt;p&gt;Yongqiang, can you add a test case that the &quot;big table&quot; is generated from &quot;select * from XXX where XXX&quot; and make sure the 3-way joining query works well?&lt;/p&gt;</comment>
                            <comment id="12840969" author="sdong" created="Thu, 4 Mar 2010 00:24:42 +0000"  >&lt;p&gt;Turns out to be, we also need to support sub query for &quot;small table&quot; like:&lt;/p&gt;

&lt;p&gt;select /* mapjoin(t) */ from (select * from a where ...) t join ....&lt;/p&gt;</comment>
                            <comment id="12840997" author="he yongqiang" created="Thu, 4 Mar 2010 02:07:31 +0000"  >&lt;p&gt;A new patch integrates Namit and Siying&apos;s comments. Thanks Namit and Siying!&lt;/p&gt;</comment>
                            <comment id="12840999" author="namit" created="Thu, 4 Mar 2010 02:17:55 +0000"  >&lt;p&gt;Need to report progress for sort-merge join&lt;/p&gt;</comment>
                            <comment id="12841023" author="he yongqiang" created="Thu, 4 Mar 2010 02:55:09 +0000"  >&lt;p&gt;a new one added the reportProgress&lt;/p&gt;</comment>
                            <comment id="12841099" author="namit" created="Thu, 4 Mar 2010 07:14:11 +0000"  >&lt;p&gt;There is a problem in smb_mapjoin_6.q - the checked in results seem OK - but I am getting a diff.&lt;br/&gt;
Can you investigate ? &lt;/p&gt;

&lt;p&gt;There are 2 problems:&lt;/p&gt;

&lt;p&gt;1. order not deterministic.&lt;br/&gt;
2. Bigger problem: 498 missing from the results for the first query&lt;/p&gt;</comment>
                            <comment id="12841109" author="namit" created="Thu, 4 Mar 2010 07:41:07 +0000"  >&lt;p&gt;Verified problem 2. above again - in the first query&lt;/p&gt;</comment>
                            <comment id="12841414" author="he yongqiang" created="Thu, 4 Mar 2010 18:02:21 +0000"  >&lt;p&gt;@namit,&lt;/p&gt;

&lt;p&gt;498&apos;s join results is in the results:&lt;/p&gt;

&lt;p&gt;496	val_496	496	val_496&lt;br/&gt;
498	val_498	498	val_498&lt;br/&gt;
498	val_498	498	val_498&lt;br/&gt;
498	val_498	498	val_498&lt;br/&gt;
498	val_498	498	val_498&lt;br/&gt;
498	val_498	498	val_498&lt;br/&gt;
498	val_498	498	val_498&lt;br/&gt;
498	val_498	498	val_498&lt;br/&gt;
498	val_498	498	val_498&lt;br/&gt;
498	val_498	498	val_498&lt;br/&gt;
5	val_5	5	val_5&lt;br/&gt;
5	val_5	5	val_5&lt;br/&gt;
5	val_5	5	val_5&lt;br/&gt;
5	val_5	5	val_5&lt;br/&gt;
5	val_5	5	val_5&lt;br/&gt;
5	val_5	5	val_5&lt;br/&gt;
5	val_5	5	val_5&lt;br/&gt;
5	val_5	5	val_5&lt;br/&gt;
5	val_5	5	val_5&lt;br/&gt;
9	val_9	9	val_9&lt;/p&gt;


&lt;p&gt;I will add a automatic check query in the test and upload a new one.&lt;/p&gt;</comment>
                            <comment id="12841442" author="namit" created="Thu, 4 Mar 2010 18:38:09 +0000"  >&lt;p&gt;I know - the log file is correct, but when I run the tests, I get a diff.&lt;/p&gt;</comment>
                            <comment id="12841542" author="he yongqiang" created="Thu, 4 Mar 2010 21:39:05 +0000"  >&lt;p&gt;attached a new patch &lt;/p&gt;</comment>
                            <comment id="12841550" author="namit" created="Thu, 4 Mar 2010 21:50:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12841632" author="namit" created="Fri, 5 Mar 2010 00:58:04 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12458014">HIVE-1210</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12458032">HIVE-1213</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12471879">HIVE-1552</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12458033">HIVE-1214</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12437452" name="hive-1194-2010-02-28.patch" size="86481" author="he yongqiang" created="Mon, 1 Mar 2010 07:25:28 +0000"/>
                            <attachment id="12437677" name="hive-1194-2010-3-2.2.patch" size="311224" author="he yongqiang" created="Wed, 3 Mar 2010 05:00:29 +0000"/>
                            <attachment id="12437659" name="hive-1194-2010-3-2.patch" size="310938" author="he yongqiang" created="Wed, 3 Mar 2010 00:40:46 +0000"/>
                            <attachment id="12437836" name="hive-1194-2010-3-3-2.patch" size="389448" author="he yongqiang" created="Thu, 4 Mar 2010 02:55:09 +0000"/>
                            <attachment id="12437827" name="hive-1194-2010-3-3.patch" size="388786" author="he yongqiang" created="Thu, 4 Mar 2010 02:07:31 +0000"/>
                            <attachment id="12437931" name="hive-1194-2010-3-4.patch" size="405503" author="he yongqiang" created="Thu, 4 Mar 2010 21:39:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Feb 2010 00:49:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73040</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122902</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1195] Increase ObjectInspector[] length on demand</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1195</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Operator.java
  &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;transient&lt;/span&gt; ObjectInspector[] inputObjInspectors = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ObjectInspector[&lt;span class=&quot;code-object&quot;&gt;Short&lt;/span&gt;.MAX_VALUE];
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;An array of 32K elements takes 256KB memory under 64-bit Java.&lt;br/&gt;
We are seeing hive client going out of memory because of that.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457361">HIVE-1195</key>
            <summary>Increase ObjectInspector[] length on demand</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Feb 2010 23:06:34 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:43 +0000</updated>
                            <resolved>Thu, 25 Feb 2010 04:57:56 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.6.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12838080" author="nzhang" created="Wed, 24 Feb 2010 23:21:58 +0000"  >&lt;p&gt;+1 Will commit after tests. &lt;/p&gt;</comment>
                            <comment id="12838088" author="nzhang" created="Wed, 24 Feb 2010 23:32:01 +0000"  >&lt;p&gt;Uploading a patch for branch 0.5. Zheng, can you double check?&lt;/p&gt;</comment>
                            <comment id="12838110" author="zshao" created="Thu, 25 Feb 2010 00:25:52 +0000"  >&lt;p&gt;Fixed an obvious bug which caused unit test failures.&lt;/p&gt;</comment>
                            <comment id="12838112" author="nzhang" created="Thu, 25 Feb 2010 00:27:05 +0000"  >&lt;p&gt;Zheng, join26.q , join_map_ppr.q , union16.q, union9.q, failed on trunk. Can you take a look?&lt;/p&gt;</comment>
                            <comment id="12838114" author="nzhang" created="Thu, 25 Feb 2010 00:28:58 +0000"  >&lt;p&gt;Cool. I&apos;ll take the new patches to test. &lt;/p&gt;</comment>
                            <comment id="12838189" author="nzhang" created="Thu, 25 Feb 2010 04:57:56 +0000"  >&lt;p&gt;Committed to 0.5.1 and trunk. Thanks Zheng!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12436926" name="HIVE-1195-branch-0.5.patch" size="1293" author="nzhang" created="Wed, 24 Feb 2010 23:32:01 +0000"/>
                            <attachment id="12436920" name="HIVE-1195.1.patch" size="1293" author="zshao" created="Wed, 24 Feb 2010 23:08:12 +0000"/>
                            <attachment id="12436935" name="HIVE-1195.2.branch-0.5.patch" size="1399" author="zshao" created="Thu, 25 Feb 2010 00:25:52 +0000"/>
                            <attachment id="12436936" name="HIVE-1195.2.patch" size="1399" author="zshao" created="Thu, 25 Feb 2010 00:25:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Feb 2010 23:21:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73039</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122903</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1196] Railroad Diagrams for Hive Language Manual</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1196</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add railroad diagrams (syntax diagrams) to the Hive Language Manual.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The &lt;a href=&quot;http://www.antlr.org/works/index.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;ANTLRWorks IDE&lt;/a&gt; generates railroad diagrams and allows you to export them as EPS.&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://sourceforge.net/projects/clapham/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Clapham&lt;/a&gt; is another tool for generating railroad diagrams based on BNF style inputs.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12457368">HIVE-1196</key>
            <summary>Railroad Diagrams for Hive Language Manual</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Feb 2010 00:21:03 +0000</created>
                <updated>Thu, 25 Feb 2010 00:21:03 +0000</updated>
                                                                            <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42594</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122904</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1197] create a new input format where a mapper spans a file</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1197</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This will be needed for Sort merge joins.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12457369">HIVE-1197</key>
            <summary>create a new input format where a mapper spans a file</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                            <label>Bucketing</label>
                    </labels>
                <created>Thu, 25 Feb 2010 00:40:24 +0000</created>
                <updated>Thu, 21 Jun 2012 21:53:50 +0000</updated>
                            <resolved>Thu, 4 Mar 2010 00:35:05 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12838763" author="zshao" created="Fri, 26 Feb 2010 08:46:24 +0000"  >&lt;p&gt;Can you explain what does &quot;a mapper spans a file&quot; mean?&lt;/p&gt;</comment>
                            <comment id="12838959" author="namit" created="Fri, 26 Feb 2010 17:45:43 +0000"  >&lt;p&gt;Currently, the split that a mapper processes is determined by a variety of parameters, including the dfs block size, min split size etc.&lt;/p&gt;

&lt;p&gt;It might be useful to have an option when the users wants a mapper so scan 1 file. This will be specially useful for sort-merge join.&lt;br/&gt;
If the data is partitioned into various buckets, and each bucket us sorted, the sort merge join can join the different buckets together.&lt;/p&gt;

&lt;p&gt;For example, consider the following scenario:&lt;/p&gt;

&lt;p&gt;table T1: sorted and bucketed by column &apos;key&apos; into 1000 buckets&lt;br/&gt;
table T2: sorted and bucketed by column &apos;key&apos; into 1000 buckets&lt;/p&gt;


&lt;p&gt;and the query:&lt;/p&gt;


&lt;p&gt;select * from T1 join T2 on key&lt;br/&gt;
mapjoin.&lt;/p&gt;

&lt;p&gt;Instead of joining the table T1 with T2, the 1000 buckets can be joined with each other individually.&lt;br/&gt;
Since the data is sorted on the join key, sort-merge join can be used.&lt;br/&gt;
Say the buckets are named: b0001, b0002 .. b1000&lt;br/&gt;
Say table T1 is the big table, and the buckets from T2 are being read as part of the mapper which is spawned to process T1,&lt;br/&gt;
under the current approach, it will be very difficult to perform outer joins.&lt;/p&gt;

&lt;p&gt;For example, if bucket b1 for T1 contains:&lt;/p&gt;


&lt;p&gt;1&lt;br/&gt;
2&lt;br/&gt;
5&lt;br/&gt;
6&lt;br/&gt;
9&lt;br/&gt;
16&lt;br/&gt;
22&lt;br/&gt;
30&lt;/p&gt;

&lt;p&gt;and the corresponding bucket for T2 contains:&lt;/p&gt;

&lt;p&gt;2&lt;br/&gt;
4&lt;br/&gt;
8&lt;/p&gt;


&lt;p&gt;If there are 2 mappers for bucket b1 for T1, processing 4 records each ((1,2,5,6) and (9.16.22.30) respectively.&lt;br/&gt;
It will be very difficult to perform a outer join. The mapper will need to peek into the previous record&lt;br/&gt;
and the next record respectively.&lt;/p&gt;

&lt;p&gt;Moreover, it will be very difficult to ensure that the result also has 1000 buckets. Another map-reduce job&lt;br/&gt;
will be needed for the same.&lt;/p&gt;

&lt;p&gt;This can be easily solved if we are guaranteed that the whole bucket (or the file corresponding to the bucket),&lt;br/&gt;
will be processed by a single mapper.&lt;/p&gt;
</comment>
                            <comment id="12839574" author="namit" created="Mon, 1 Mar 2010 07:13:09 +0000"  >&lt;p&gt;Overall, looks good - some general comments.&lt;/p&gt;

&lt;p&gt;Would it be a good idea to make BucketizedHiveInputFormat extend HiveInpuFormat, and BucketizedHiveRecordReader extend HiveRecordReader ?&lt;br/&gt;
You wont have to copy a lot of code, and it would be easy to maintain. For example, the check for ExecMapper in hiverecordreader and such future &lt;br/&gt;
optimizations would be easier to maintain.&lt;/p&gt;</comment>
                            <comment id="12839575" author="he yongqiang" created="Mon, 1 Mar 2010 07:14:24 +0000"  >&lt;p&gt;Looks very good overall, congrats!&lt;/p&gt;

&lt;p&gt;just few minor comments:&lt;br/&gt;
1. Can you change inputFormatClassName to use getter and setter method?&lt;br/&gt;
2. some duplication code with HiveInputFormat, can we reuse them?&lt;br/&gt;
3. In BucketizedHiveRecordReader&apos;s next, i think should remove the check of &quot;curReader == null&quot;. we should throw an exception if curReader==null, which means the reader has been closed.&lt;br/&gt;
4. i think we should remove line 207 in BucketizedHiveInputFormat:   newjob.setInputFormat(inputFormat.getClass());&lt;br/&gt;
5. In HiveRecordReader,&lt;br/&gt;
5.1 progress is calculated based on (number of splits done) / (total split number), can we make it more accurate? Let&apos;s say the work is evenly divided among all splits. something like this: (number of splits done) / (total split number) + currReader.getProgess();&lt;br/&gt;
5.2 getPos should return this currReader.getPos()&lt;/p&gt;

&lt;p&gt;Another one is do you think it is a good idea to let the BucketizedHiveInputFormat extend HiveInputFormat? That way, the code would be more clear. And we should put the RecordReader and InputSplit in the same file as BucketizedHiveInputFormat.&lt;/p&gt;</comment>
                            <comment id="12839576" author="he yongqiang" created="Mon, 1 Mar 2010 07:16:58 +0000"  >&lt;p&gt;Correction about 5.1, it should be  ((number of splits done) + currReader.getProgess() )/ (total split number)&lt;/p&gt;</comment>
                            <comment id="12840349" author="sdong" created="Tue, 2 Mar 2010 22:06:16 +0000"  >&lt;p&gt;no change from hive.1197.3.patch besides adding a new line in the end of the file.&lt;/p&gt;</comment>
                            <comment id="12840771" author="namit" created="Wed, 3 Mar 2010 18:14:33 +0000"  >&lt;p&gt;What is the reason for creating such a large table in the test ?&lt;br/&gt;
Is that necessary for testing - since changing dfs.block.size is not helping ?&lt;/p&gt;</comment>
                            <comment id="12840785" author="namit" created="Wed, 3 Mar 2010 18:32:54 +0000"  >&lt;p&gt;Looks good to me  - can you update  the test result file - I am getting a diff.&lt;br/&gt;
Other than that, I am fine and can merge, unless Yongqiang has some additional comments&lt;/p&gt;</comment>
                            <comment id="12840787" author="sdong" created="Wed, 3 Mar 2010 18:34:32 +0000"  >&lt;p&gt;At least when I tried from my box, it doesn&apos;t work.&lt;/p&gt;
</comment>
                            <comment id="12840793" author="namit" created="Wed, 3 Mar 2010 18:42:17 +0000"  >&lt;p&gt;Does the new test work for you ?&lt;/p&gt;</comment>
                            <comment id="12840893" author="sdong" created="Wed, 3 Mar 2010 21:43:49 +0000"  >&lt;p&gt;update test output file.&lt;/p&gt;</comment>
                            <comment id="12840903" author="namit" created="Wed, 3 Mar 2010 21:51:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12840974" author="namit" created="Thu, 4 Mar 2010 00:35:05 +0000"  >&lt;p&gt;Committed. Thanks Siying&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12437298" name="hive.1197.1.patch" size="22689" author="sdong" created="Sat, 27 Feb 2010 01:49:53 +0000"/>
                            <attachment id="12437538" name="hive.1197.2.patch" size="35316" author="sdong" created="Mon, 1 Mar 2010 23:37:26 +0000"/>
                            <attachment id="12437652" name="hive.1197.3.patch" size="35288" author="sdong" created="Tue, 2 Mar 2010 22:06:16 +0000"/>
                            <attachment id="12437794" name="hive.1197.4.patch" size="35288" author="sdong" created="Wed, 3 Mar 2010 21:43:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Feb 2010 08:46:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73038</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldx3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1198] When checkstyle is activated for Hive in Eclipse environment, it shows all checkstyle problems as errors.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1198</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As of now, checkstyle plugin reports all problems as errors. This causes an overwhelming number of errors to show up (3000+) which masks real errors that might be there. Since all the checkstyle violations are not going to be fixed in one shot, it is desirable to lower the severity of checkstyle violations to warnings so that the plugin can be kept enabled. This will encourage developers to spot checkstyle violations in the files they touch and potentially fix them as they go along, along with pointing out violations as they code.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Mac OS X (10.6.2), Eclipse 3.5.1.R35, Checkstyle Plugin 5.1.0.201002232103 (latest eclipse and checkstyle build as of 02/2010)&lt;/p&gt;</environment>
        <key id="12457376">HIVE-1198</key>
            <summary>When checkstyle is activated for Hive in Eclipse environment, it shows all checkstyle problems as errors.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aprabhakar">Arvind Prabhakar</assignee>
                                    <reporter username="aprabhakar">Arvind Prabhakar</reporter>
                        <labels>
                            <label>cleanup</label>
                            <label>eclipse</label>
                    </labels>
                <created>Thu, 25 Feb 2010 02:22:53 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:57 +0000</updated>
                            <resolved>Sat, 29 May 2010 06:05:41 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12838488" author="aprabhakar" created="Thu, 25 Feb 2010 19:25:30 +0000"  >&lt;p&gt;This patch address this issue as follows:&lt;/p&gt;

&lt;p&gt;1.  The .checkstyle file&apos;s match pattern has been changed. This is done to exclude top-level ant directory from being included in the checkstyle application path. Since this is not a valid source directory, it causes checkstyle to report errors for all matching files within it.&lt;/p&gt;

&lt;p&gt;2. The build file - build.xml has been modified to exclude &lt;tt&gt;ant&lt;/tt&gt; directory from processing under the checkstyle target for the same reason as above.&lt;/p&gt;

&lt;p&gt;3. The &lt;tt&gt;eclipse-templates/.project&lt;/tt&gt; file has been modified to include the &lt;tt&gt;CheckstyleBuilder&lt;/tt&gt; and &lt;tt&gt;CheckstyleNature&lt;/tt&gt;. This would automatically enable checkstyle when the project is imported in Eclipse. I tested out the scenario of importing the project in Eclipse without having the checkstyle plugin installed - it did not seem to cause any noticeable problem.&lt;/p&gt;

&lt;p&gt;4. The section on &lt;tt&gt;Developing Hive using Eclipse&lt;/tt&gt; in the README.txt has been updated to state that the user must install Checkstyle plugin in eclipse if not already present before importing the project.&lt;/p&gt;</comment>
                            <comment id="12838495" author="cwsteinbach" created="Thu, 25 Feb 2010 19:33:04 +0000"  >&lt;p&gt;+1 Changes look good.&lt;/p&gt;</comment>
                            <comment id="12838508" author="aprabhakar" created="Thu, 25 Feb 2010 19:48:39 +0000"  >&lt;p&gt;Missed out a change description in my previous comment:&lt;/p&gt;

&lt;p&gt;5. Modified the &lt;tt&gt;checkstyle/checkstyle.xml&lt;/tt&gt; to set the default value of &lt;tt&gt;severity&lt;/tt&gt; as &lt;tt&gt;warning&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="12871830" author="aprabhakar" created="Wed, 26 May 2010 17:18:23 +0000"  >&lt;p&gt;Updated the patch so that it cleanly applies to the trunk. It will be great to have this patch committed as it really helps in using eclipse effectively.&lt;/p&gt;</comment>
                            <comment id="12871839" author="nzhang" created="Wed, 26 May 2010 17:33:48 +0000"  >&lt;p&gt;+1 will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="12871880" author="nzhang" created="Wed, 26 May 2010 18:39:12 +0000"  >&lt;p&gt;Arvind, after installing checkstyle indicated in README and your package, eclipse is extremely slow in compiling. It stucked in 36% and I have to kill it. Did you see the same thing?&lt;/p&gt;</comment>
                            <comment id="12871882" author="aprabhakar" created="Wed, 26 May 2010 18:44:33 +0000"  >&lt;p&gt;I do not see any slow down Ning. I tested it just now and the project imports and builds under 40 seconds. &lt;/p&gt;

&lt;p&gt;Did you do the ant package, model-jar and gen-test before importing the project in eclipse? Without doing that, eclipse will not find the necessary classpath entires and that could lead to slow down.&lt;/p&gt;</comment>
                            <comment id="12871898" author="nzhang" created="Wed, 26 May 2010 19:16:08 +0000"  >&lt;p&gt;I did everything from scratch as you mentioned. Whenever I refresh the project, it got stuck in ~36% (for at least 3 mins before I killed it). BTW, I&apos;m using the latest checkstyle version 5.1, eclipse SDK 3.6.0 build I20100312-1448 on linux. &lt;/p&gt;</comment>
                            <comment id="12871952" author="aprabhakar" created="Wed, 26 May 2010 21:03:37 +0000"  >&lt;p&gt;I will try to reproduce this on a linux box and note any findings in the comments.&lt;/p&gt;</comment>
                            <comment id="12871968" author="aprabhakar" created="Wed, 26 May 2010 21:53:51 +0000"  >&lt;p&gt;I just installed freshly downloaded eclipse on Ubuntu desktop 9.10, with Java 1.6.0_20, checkstyle 5.1. The version of eclipse build is 20100218-1602 (latest galileo SR2 build). I was able to import the project in under 45 seconds. &lt;/p&gt;

&lt;p&gt;Since you are using version 3.6 of eclipse that is not yet released, perhaps that is why you are seeing this problem. Can you try reproducing this issue with a stable release of eclipse such as galileo SR2?&lt;/p&gt;</comment>
                            <comment id="12872296" author="aprabhakar" created="Thu, 27 May 2010 17:29:32 +0000"  >&lt;p&gt;Ning - I have attached an updated patch - (hive-1198-2.patch). The key difference in this patch is that it does not activate checkstyle by default. When you import the hive project and you wish to activate checkstyle, you will have to right click on the project  and select Checkstyle &amp;gt; Activate Checkstyle from the context menu.&lt;/p&gt;

&lt;p&gt;So in case checkstyle is causing problems on your workbench, you can choose to not activate it. The steps to activate checkstyle plugin in eclipse are also documented in the README.txt file, right below the section on setting up Eclipse. &lt;/p&gt;

&lt;p&gt;Can you give this patch a try and see if it resolves the problem you were facing?&lt;/p&gt;</comment>
                            <comment id="12873236" author="nzhang" created="Sat, 29 May 2010 04:57:02 +0000"  >&lt;p&gt;The new patch looks good. I will commit after the tests pass. &lt;/p&gt;</comment>
                            <comment id="12873241" author="nzhang" created="Sat, 29 May 2010 06:05:41 +0000"  >&lt;p&gt;Committed. Thanks Arvind!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12445567" name="HIVE-1198-1.patch" size="3956" author="aprabhakar" created="Wed, 26 May 2010 17:15:40 +0000"/>
                            <attachment id="12445675" name="HIVE-1198-2.patch" size="2569" author="aprabhakar" created="Thu, 27 May 2010 17:25:58 +0000"/>
                            <attachment id="12437032" name="HIVE-1198.patch" size="2698" author="aprabhakar" created="Thu, 25 Feb 2010 19:25:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Feb 2010 19:33:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122906</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1199] configure total number of mappers</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1199</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For users, it might be very difficult to control the number of mappers. There are many parameters which confuses the users - &lt;br/&gt;
for CombineHiveInputFormat, a different set of parameters is required to control the number of mappers.&lt;/p&gt;

&lt;p&gt;In general, users should have a way to specify the total number of mappers, which should be obeyed. This will be very difficult&lt;br/&gt;
to guarantee, since the query might be reading from a large number of partitions, where a mapper can only span one partition.&lt;br/&gt;
What if the number of mappers that the user wants is less than the total number of partitions ?&lt;/p&gt;

&lt;p&gt;It would be a very hueristic to have - a simple usecase that Joy had is as follows:&lt;/p&gt;

&lt;p&gt;A query needs to be run on one table, which has a lot of small files - it will be easy for him to specify the total number of mappers&lt;br/&gt;
rather than the various rac local/node local combinefileinputformat parameters.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457474">HIVE-1199</key>
            <summary>configure total number of mappers</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Feb 2010 19:14:44 +0000</created>
                <updated>Fri, 25 Mar 2011 17:37:28 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13011302" author="akramer" created="Fri, 25 Mar 2011 17:37:28 +0000"  >&lt;p&gt;+1. This is also a bigger issue for automation of jobs that require tweaking the amount of resources. I have a job right now that needs about 10x the number of mappers to run smoothly, and I would like to pipeline it, but the data size is growing...so if I configure the split sizes, I need to do so based on today&apos;s size of the table. That should be handled by Hive.&lt;/p&gt;

&lt;p&gt;Ideally, this would mean that the split.sizes are generated or recomputed dynamically. One variable, mapred.map.tasks.approx, could be set or unset...then Hive could do some quick math based on the size of the table and dynamically set its own mapred.max.split.size and min.split.size to get approximately the desired number of mappers. Doesn&apos;t have to be perfect in order to be useful!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Mar 2011 17:37:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42593</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08n93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48366</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1200] Fix CombineHiveInputFormat to work with multi-level of directories in a single table/partition</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1200</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The CombineHiveInputFormat does not work with multi-level of directories in a single table/partition, because it uses an exact match logic, instead of the relativize logic as in MapOperator&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;MapOperator.java:
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!onepath.toUri().relativize(fpath.toUri()).equals(fpath.toUri())) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12457506">HIVE-1200</key>
            <summary>Fix CombineHiveInputFormat to work with multi-level of directories in a single table/partition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zshao">Zheng Shao</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Feb 2010 23:38:09 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:31 +0000</updated>
                            <resolved>Thu, 4 Mar 2010 21:53:32 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12838730" author="namit" created="Fri, 26 Feb 2010 06:48:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;looks good - will commit if the tests pass&lt;/p&gt;</comment>
                            <comment id="12841551" author="namit" created="Thu, 4 Mar 2010 21:53:32 +0000"  >&lt;p&gt;Committed to both trunk and 0.5. Thanks Zheng&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12437126" name="HIVE-1200.1.branch-0.5.patch" size="7354" author="zshao" created="Fri, 26 Feb 2010 05:36:52 +0000"/>
                            <attachment id="12437125" name="HIVE-1200.1.patch" size="3374" author="zshao" created="Fri, 26 Feb 2010 05:36:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Feb 2010 06:48:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73036</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1201] Add a python command-line interface for Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1201</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Venky has a nice python command-line interface for Hive. It uses thrift API to talk with metastore. It uses hadoop command line to submit jobs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457511">HIVE-1201</key>
            <summary>Add a python command-line interface for Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="indigoviolet">Venky Iyer</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Feb 2010 00:28:47 +0000</created>
                <updated>Sat, 27 Feb 2010 09:06:35 +0000</updated>
                                                                                <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12839184" author="hammer" created="Sat, 27 Feb 2010 07:58:53 +0000"  >&lt;p&gt;Ha: we&apos;ve come full circle. The original CLI was in Python, but we decided to switch to Java to reduce the dependencies. What are the advantages of switching back to Python?&lt;/p&gt;</comment>
                            <comment id="12839186" author="hammer" created="Sat, 27 Feb 2010 08:03:16 +0000"  >&lt;p&gt;Ah, or is this a client module you can use in the Python interpreter? Seems moderately useful.&lt;/p&gt;</comment>
                            <comment id="12839200" author="zshao" created="Sat, 27 Feb 2010 09:06:35 +0000"  >&lt;p&gt;Yes this is a client module (using Metastore Thrift API) that we can use in Python interpreter. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12443295">HIVE-987</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Feb 2010 07:58:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42592</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122908</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1202] &quot;Unknown exception : null&quot; while join</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1202</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive throws &quot;Unknown exception : null&quot; with query:&lt;/p&gt;

&lt;p&gt;select * from &lt;br/&gt;
(&lt;br/&gt;
  select name from classes &lt;br/&gt;
) a&lt;br/&gt;
  join classes b&lt;br/&gt;
where a.name &amp;gt; b.number&lt;/p&gt;

&lt;p&gt;After tracing the code, I found this bug will occur with following&lt;br/&gt;
conditions:&lt;br/&gt;
1. It is join operation.&lt;br/&gt;
2. At least one of the source of join is physical table (right side in&lt;br/&gt;
above case).&lt;br/&gt;
3. With where condition and condition(s) of where clause must include&lt;br/&gt;
columns from both side of join (a.name and b.number in case)&lt;/p&gt;</description>
                <environment>&lt;p&gt;hive-0.4.1&lt;br/&gt;
hadoop 0.19.1&lt;/p&gt;</environment>
        <key id="12457531">HIVE-1202</key>
            <summary>&quot;Unknown exception : null&quot; while join</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mafish">Mafish</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Feb 2010 07:46:02 +0000</created>
                <updated>Mon, 26 Jul 2010 06:31:33 +0000</updated>
                                            <version>0.4.1</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12838743" author="mafish" created="Fri, 26 Feb 2010 07:59:23 +0000"  >&lt;p&gt;The call stack is:&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hive.ql.session.SessionState$LogHelper.printError(SessionState.java:279) - FAILED: Unknown exception : null&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.QBMetaData.getTableForAlias(QBMetaData.java:76)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.ASTPartitionPruner.getTableColumnDesc(ASTPartitionPruner.java:298)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.ASTPartitionPruner.genExprNodeDesc(ASTPartitionPruner.java:220)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.ASTPartitionPruner.genExprNodeDesc(ASTPartitionPruner.java:234)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.ASTPartitionPruner.genExprNodeDesc(ASTPartitionPruner.java:234)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.ASTPartitionPruner.addExpression(ASTPartitionPruner.java:397)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPartitionPruners(SemanticAnalyzer.java:624)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:4440)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:76)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:249)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:281)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:123)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:181)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:287)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.util.RunJar.main(RunJar.java:165)&lt;br/&gt;
        at org.apache.hadoop.mapred.JobShell.run(JobShell.java:54)&lt;br/&gt;
        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)&lt;br/&gt;
        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:79)&lt;br/&gt;
        at org.apache.hadoop.mapred.JobShell.main(JobShell.java:68)&lt;/p&gt;

&lt;p&gt;This bug occurs while hive tries to prune table b, but it takes columns in where clauses. Bug there also exists columns of table a.  Thus, hive fails to find column &quot;name&quot; in table b.&lt;/p&gt;</comment>
                            <comment id="12838765" author="mafish" created="Fri, 26 Feb 2010 08:57:44 +0000"  >&lt;p&gt;Attachment is the patch for this BUG.&lt;/p&gt;

&lt;p&gt;It limits hive to perform pruning action only when the current query block contains only on table. &lt;br/&gt;
This is fixed according to my understanding and I&apos;m not sure it is the original idea of author. Author of the pruner is Yongqiang, right?&lt;/p&gt;

&lt;p&gt;Please comment and evaluate it.&lt;/p&gt;</comment>
                            <comment id="12838946" author="he yongqiang" created="Fri, 26 Feb 2010 17:23:09 +0000"  >&lt;p&gt;Actually hive does not support this kind of join. It only support equal join. &lt;br/&gt;
please try sth like this:&lt;br/&gt;
select a.name, b.* from classes a join classes b on a.name = b.number  where a.name &amp;gt; b.number&lt;/p&gt;</comment>
                            <comment id="12839515" author="mafish" created="Mon, 1 Mar 2010 01:17:36 +0000"  >&lt;p&gt;@Yongqaing&lt;br/&gt;
I ran the query:&lt;/p&gt;

&lt;p&gt;select a.name, b.* from classes a join classes b on a.name = b.number where a.name &amp;gt; b.number &lt;br/&gt;
It passed.&lt;/p&gt;

&lt;p&gt;In this case, two tables are physical.&lt;/p&gt;

&lt;p&gt;But when I changed one of them to sub-query, error occured again, as:&lt;/p&gt;

&lt;p&gt;select a.name, b.* from  (select name from classes) a join classes b on a.name = b.number where a.name &amp;gt; b.number ;&lt;/p&gt;

&lt;p&gt;Please try this case.&lt;/p&gt;</comment>
                            <comment id="12839546" author="he yongqiang" created="Mon, 1 Mar 2010 03:39:21 +0000"  >&lt;blockquote&gt;
&lt;p&gt;But when I changed one of them to sub-query, error occured again, as:&lt;br/&gt;
select a.name, b.* from (select name from classes) a join classes b on a.name = b.number where a.name &amp;gt; b.number ;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;what&apos;s the error for this query?&lt;/p&gt;</comment>
                            <comment id="12839547" author="mafish" created="Mon, 1 Mar 2010 03:44:29 +0000"  >&lt;p&gt;Error message in hive is as title: Unknown exception : null.&lt;/p&gt;

&lt;p&gt;And the call stack is the same as my first comment.&lt;/p&gt;</comment>
                            <comment id="12839551" author="he yongqiang" created="Mon, 1 Mar 2010 05:05:13 +0000"  >&lt;p&gt;I tried this query with the trunk code. it works fine.&lt;br/&gt;
hive&amp;gt; select a.name, b.* from (select name from classes) a join classes b on a.name = b.number where a.name&amp;gt;b.number;           &lt;br/&gt;
Total MapReduce jobs = 1&lt;/p&gt;</comment>
                            <comment id="12839552" author="mafish" created="Mon, 1 Mar 2010 05:27:21 +0000"  >&lt;p&gt;Which trunk are you using?&lt;br/&gt;
I&apos;m using release 0.4.1, which is checkoed out from &lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/branches/branch-0.4&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/branches/branch-0.4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;$ svn info&lt;br/&gt;
Path: .&lt;br/&gt;
URL: &lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/branches/branch-0.4&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/branches/branch-0.4&lt;/a&gt;&lt;br/&gt;
Repository Root: &lt;a href=&quot;http://svn.apache.org/repos/asf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf&lt;/a&gt;&lt;br/&gt;
Repository UUID: 13f79535-47bb-0310-9956-ffa450edef68&lt;br/&gt;
Revision: 916543&lt;br/&gt;
Node Kind: directory&lt;br/&gt;
Schedule: normal&lt;br/&gt;
Last Changed Author: nzhang&lt;br/&gt;
Last Changed Rev: 912061&lt;br/&gt;
Last Changed Date: 2010-02-20 09:44:44 +0800 (Sat, 20 Feb 2010)&lt;/p&gt;
</comment>
                            <comment id="12839555" author="he yongqiang" created="Mon, 1 Mar 2010 05:45:42 +0000"  >&lt;p&gt;Please try &lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/hadoop/hive/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hadoop/hive/trunk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;or you can download the latest stable 0.5 version from&lt;br/&gt;
&lt;a href=&quot;http://hadoop.apache.org/hive/releases.html#Download&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoop.apache.org/hive/releases.html#Download&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12839606" author="mafish" created="Mon, 1 Mar 2010 09:06:12 +0000"  >&lt;p&gt;@Yongqiang&lt;br/&gt;
We have a internal hive originate from  hive-0.4.2rc2. So we are not able to using the latest hive release.&lt;br/&gt;
This bug afftects 0.4.x only since hive-0.5.x uses a different pruning strategy.&lt;/p&gt;

&lt;p&gt;I&apos;m wondering if hive-0.4.x still need bug fixing since hive-0.5.x has been released?&lt;/p&gt;</comment>
                            <comment id="12839940" author="zshao" created="Tue, 2 Mar 2010 00:43:18 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from 
(
select name from classes 
) a
join classes b
where a.date_partition = &lt;span class=&quot;code-quote&quot;&gt;&apos;2010-02-01&apos;&lt;/span&gt; AND b.date_partition = &lt;span class=&quot;code-quote&quot;&gt;&apos;2010-03-01&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It seems with the patch, we won&apos;t do partition pruning for this case?&lt;br/&gt;
Is that a problem?&lt;/p&gt;</comment>
                            <comment id="12839959" author="mafish" created="Tue, 2 Mar 2010 01:50:59 +0000"  >&lt;p&gt;@Zheng&lt;br/&gt;
With my patch, hive will omit the outmost where clauses while joining.&lt;br/&gt;
So it doesn&apos;t do partition pruning for this case, Which may be a problem in this situation.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12437146" name="HIVE-1202.branch-0.4.1.patch" size="713" author="mafish" created="Fri, 26 Feb 2010 08:57:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Feb 2010 17:23:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42591</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122909</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1203] HiveInputFormat.getInputFormatFromCache &quot;swallows&quot;  cause exception when throwing IOExcpetion</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1203</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;To fix this it&apos;s simply needed to add second parameter to IOException constructor. Patches for 0.4, 0.5 and trunk are available.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457577">HIVE-1203</key>
            <summary>HiveInputFormat.getInputFormatFromCache &quot;swallows&quot;  cause exception when throwing IOExcpetion</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="klimontovich">Vladimir Klimontovich</assignee>
                                    <reporter username="klimontovich">Vladimir Klimontovich</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Feb 2010 14:58:06 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:23 +0000</updated>
                            <resolved>Thu, 13 Jan 2011 20:23:05 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12838953" author="he yongqiang" created="Fri, 26 Feb 2010 17:34:41 +0000"  >&lt;p&gt;Vladimir, in this case, do we really need a stack trace? It is mostly caused by ClassNotFound etc when creating an input format instance with the class name.&lt;br/&gt;
Is there some error that can only be found from the stack trace?&lt;/p&gt;</comment>
                            <comment id="12838960" author="klimontovich" created="Fri, 26 Feb 2010 17:46:02 +0000"  >&lt;p&gt;I think so. Exception could be thrown not only from Class.forName, but also from Class.newInstance. Actually it was my case as due to incorrect settings constructor of my InputFormat was throwing an exception (and this exception was being swallowed).&lt;/p&gt;

&lt;p&gt;Also, it&apos;s a general rule in most java projects (to add exception as a cause esception). More information in stacktrace never hurts &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;br/&gt;
(Although I&apos;m not sure that Hive should follow this rule)&lt;/p&gt;</comment>
                            <comment id="12838968" author="he yongqiang" created="Fri, 26 Feb 2010 18:09:04 +0000"  >&lt;p&gt;Thanks for the explanation.  Yes, there is no harm to do that.&lt;br/&gt;
I will test and commit it.&lt;/p&gt;</comment>
                            <comment id="12839382" author="he yongqiang" created="Sun, 28 Feb 2010 07:43:30 +0000"  >&lt;p&gt;Vladimir Klimontovich, please assign this issue to yourself. &lt;/p&gt;</comment>
                            <comment id="12839427" author="klimontovich" created="Sun, 28 Feb 2010 14:50:13 +0000"  >&lt;p&gt;Well, I can&apos;t assign this issue. Seems like I don&apos;t have enough permissions&lt;/p&gt;</comment>
                            <comment id="12899488" author="he yongqiang" created="Tue, 17 Aug 2010 17:43:39 +0000"  >&lt;p&gt;Vladimir, can you update the patch? After that, i will test and commit it.&lt;/p&gt;</comment>
                            <comment id="12970513" author="eli" created="Sat, 11 Dec 2010 20:04:22 +0000"  >&lt;p&gt;Updated patch for trunk attached.&lt;/p&gt;</comment>
                            <comment id="12971186" author="cwsteinbach" created="Tue, 14 Dec 2010 07:28:20 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12980600" author="namit" created="Wed, 12 Jan 2011 07:04:09 +0000"  >&lt;p&gt;Carl, is it already committed ?&lt;/p&gt;</comment>
                            <comment id="12981026" author="cwsteinbach" created="Thu, 13 Jan 2011 00:02:42 +0000"  >&lt;p&gt;@Namit: No, I forgot to check the tests. I&apos;m rerunning them now.&lt;/p&gt;</comment>
                            <comment id="12981460" author="cwsteinbach" created="Thu, 13 Jan 2011 20:23:05 +0000"  >&lt;p&gt;Committed. Thanks Vladimir!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12437193" name="0.4.patch" size="684" author="klimontovich" created="Fri, 26 Feb 2010 14:59:47 +0000"/>
                            <attachment id="12437192" name="0.5.patch" size="684" author="klimontovich" created="Fri, 26 Feb 2010 14:59:47 +0000"/>
                            <attachment id="12466073" name="hive-1203-1.patch" size="787" author="eli" created="Sat, 11 Dec 2010 20:04:22 +0000"/>
                            <attachment id="12437194" name="trunk.patch" size="713" author="klimontovich" created="Fri, 26 Feb 2010 15:05:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Feb 2010 17:34:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73035</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122910</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1204] typedbytes: writing to stderr kills the mapper</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1204</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12457624">HIVE-1204</key>
            <summary>typedbytes: writing to stderr kills the mapper</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Feb 2010 01:36:32 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:49 +0000</updated>
                            <resolved>Sun, 28 Feb 2010 20:00:48 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12839278" author="he yongqiang" created="Sat, 27 Feb 2010 18:06:55 +0000"  >
&lt;p&gt;Compile error after applying this patch.&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Compiling: hive&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Compiling 499 source files to /data/users/heyongqiang/hive-trunk/build/ql/classes&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; /data/users/heyongqiang/hive-trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ScriptOperator.java:301: incompatible types&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; found   : capture#928 of ? extends org.apache.hadoop.hive.ql.exec.RecordWriter&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; required: org.apache.hadoop.hive.ql.exec.RecordReader&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;             .newInstance();&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;                         ^&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; /data/users/heyongqiang/hive-trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:1502: cannot find symbol&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; symbol  : constructor ScriptDesc(java.lang.String,org.apache.hadoop.hive.ql.plan.TableDesc,java.lang.Class&amp;lt;capture#379 of ? extends org.apache.hadoop.hive.ql.exec.RecordWriter&amp;gt;,org.apache.hadoop.hive.ql.plan.TableDesc,java.lang.Class&amp;lt;capture#717 of ? extends org.apache.hadoop.hive.ql.exec.RecordReader&amp;gt;,java.lang.Class&amp;lt;capture#178 of ? extends org.apache.hadoop.hive.ql.exec.RecordReader&amp;gt;,org.apache.hadoop.hive.ql.plan.TableDesc)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; location: class org.apache.hadoop.hive.ql.plan.ScriptDesc&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;         new ScriptDesc(&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;         ^&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Some input files use or override a deprecated API.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Recompile with -Xlint:deprecation for details.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Some input files use unchecked or unsafe operations.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Note: Recompile with -Xlint:unchecked for details.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; 2 errors&lt;/p&gt;</comment>
                            <comment id="12839444" author="namit" created="Sun, 28 Feb 2010 16:42:43 +0000"  >&lt;p&gt;fixed the old patch&lt;/p&gt;</comment>
                            <comment id="12839477" author="he yongqiang" created="Sun, 28 Feb 2010 19:14:41 +0000"  >&lt;p&gt;+1 looks good, will test and commit.&lt;/p&gt;</comment>
                            <comment id="12839490" author="he yongqiang" created="Sun, 28 Feb 2010 20:00:48 +0000"  >&lt;p&gt;Committed. Thanks Namit!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12437293" name="hive.1204.1.patch" size="25004" author="namit" created="Sat, 27 Feb 2010 01:39:33 +0000"/>
                            <attachment id="12437388" name="hive.1204.2.patch" size="40621" author="namit" created="Sun, 28 Feb 2010 16:42:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Feb 2010 18:06:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73034</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122911</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1205] RowContainer should flush out  dummy rows when the table desc is null</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1205</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When a skew key found, row container will flush all rows to hdfs. &lt;br/&gt;
But if the table desc is null, it actually flush an empty file. It should flush out a file with dummy rows.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457656">HIVE-1205</key>
            <summary>RowContainer should flush out  dummy rows when the table desc is null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Sun, 28 Feb 2010 00:22:25 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:37 +0000</updated>
                            <resolved>Wed, 3 Mar 2010 21:37:58 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12840891" author="he yongqiang" created="Wed, 3 Mar 2010 21:37:58 +0000"  >&lt;p&gt;For empty rows, we actually do not need to write anything. This will not affect the join.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73033</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1206] Return row results in a list instead of a tab-delimited string</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1206</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Driver.getResults() returns each row as a string, with fields tab delimited always. This breaks for data with tabs. It&apos;d be really nice if the interface allows returning the row as a list of fields.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12457665">HIVE-1206</key>
            <summary>Return row results in a list instead of a tab-delimited string</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bcwalrus">bc Wong</reporter>
                        <labels>
                    </labels>
                <created>Sun, 28 Feb 2010 08:44:00 +0000</created>
                <updated>Sun, 28 Feb 2010 08:44:00 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42590</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ldyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>
