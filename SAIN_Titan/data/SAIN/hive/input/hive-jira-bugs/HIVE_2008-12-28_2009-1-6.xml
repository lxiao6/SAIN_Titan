<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:12:39 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2008-12-28+AND+created+%3C%3D+2009-1-6+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="10" total="10"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-200] ant test will fail with apache-ant-1.7.1</title>
                <link>https://issues.apache.org/jira/browse/HIVE-200</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ant test succeeded with &quot;Apache Ant version 1.6.5 compiled on June 2 2005&quot;, but fails with apache-ant-1.7.1.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411497">HIVE-200</key>
            <summary>ant test will fail with apache-ant-1.7.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Dec 2008 21:40:57 +0000</created>
                <updated>Mon, 12 Sep 2011 22:17:39 +0000</updated>
                            <resolved>Mon, 12 Sep 2011 22:17:39 +0000</resolved>
                                                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12659951" author="zshao" created="Tue, 30 Dec 2008 21:41:48 +0000"  >&lt;p&gt;hadoop trunk requires apache-ant-1.7.1 now (i tried ant 1.6.5 and it does not work any more).&lt;br/&gt;
It&apos;s better to make hive also compile under the same ant version.&lt;/p&gt;</comment>
                            <comment id="12659953" author="athusoo" created="Tue, 30 Dec 2008 21:44:34 +0000"  >&lt;p&gt;what failure do you get?&lt;/p&gt;</comment>
                            <comment id="12659956" author="zshao" created="Tue, 30 Dec 2008 21:51:14 +0000"  >
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestAlter&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestCreateDB&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestDBGetName&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestDrop&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestGetDBs&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestGetSchema&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestGetTable&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestGetTables&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestHiveMetaStore&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestPartitions&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestTableExists&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestTablePath&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestTruncate&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;/p&gt;</comment>
                            <comment id="12659959" author="athusoo" created="Tue, 30 Dec 2008 21:54:52 +0000"  >&lt;p&gt;Can you run ant with debug. That output might help us nail this down.&lt;/p&gt;</comment>
                            <comment id="12659964" author="zshao" created="Tue, 30 Dec 2008 22:03:28 +0000"  >&lt;p&gt;test:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;mkdir&amp;#93;&lt;/span&gt; Created dir: /data/users/zshao/sync/pp/build/metastore/test/logs&lt;br/&gt;
Property &quot;ql.test.query.clientpositive.dir&quot; has not been set&lt;br/&gt;
Property &quot;ql.test.results.clientpositive.dir&quot; has not been set&lt;br/&gt;
Property &quot;testcase&quot; has not been set&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Implicitly adding /home/pchakka/eclipse/plugins/org.junit4_4.3.1/junit.jar:/home/zshao/software/apache-ant-1.7.1/lib/ant-launcher.jar:/home/zshao/software/ant/lib/ant.jar:/home/\&lt;br/&gt;
zshao/software/ant/lib/ant-junit.jar to CLASSPATH&lt;br/&gt;
dropping /data/users/zshao/sync/pp/build/classes from path as it doesn&apos;t exist&lt;br/&gt;
dropping /data/users/zshao/sync/pp/build/classes from path as it doesn&apos;t exist&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Setting environment variable: HADOOP_HOME=/data/users/zshao/sync/pp/build/hadoopcore/hadoop-0.19.0&lt;br/&gt;
dropping /data/users/zshao/sync/pp/build/classes from path as it doesn&apos;t exist&lt;br/&gt;
dropping /data/users/zshao/sync/pp/build/classes from path as it doesn&apos;t exist&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Executing &apos;/usr/local/jdk-6u7-64/jre/bin/java&apos; with arguments:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;-Xmx256m&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;-Dtest.output.overwrite=false&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;-Dtest.service.standalone.server=false&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;-Dlog4j.configuration=&lt;a href=&quot;file:///data/users/zshao/sync/pp/build/metastore/test/data/conf/hive-log4j.properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///data/users/zshao/sync/pp/build/metastore/test/data/conf/hive-log4j.properties&lt;/a&gt;&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;-Dderby.stream.error.file=/data/users/zshao/sync/pp/build/metastore/test/derby.log&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;-Dhive.aux.jars.path=/data/users/zshao/sync/pp/build/ql/test/test-udfs.jar,/data/users/zshao/sync/pp/data/files/TestSerDe.jar&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;-Dql.test.query.clientpositive.dir=${ql.test.query.clientpositive.dir}&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;-Dql.test.results.clientpositive.dir=${ql.test.results.clientpositive.dir}&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;-classpath&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;/data/users/zshao/sync/pp/build/metastore/test/classes:/data/users/zshao/sync/pp/metastore:/data/users/zshao/sync/pp/build/metastore/test/data/conf:/data/users/zshao/sync/pp/co\&lt;br/&gt;
nf:/data/users/zshao/sync/pp/data/files/TestSerDe.jar:/data/users/zshao/sync/pp/testlibs/junit-3.8.1.jar:/data/users/zshao/sync/pp/build/common/classes:/data/users/zshao/sync/pp/build/serde\&lt;br/&gt;
/classes:/data/users/zshao/sync/pp/build/metastore/classes:/data/users/zshao/sync/pp/build/ql/classes:/data/users/zshao/sync/pp/build/cli/classes:/data/users/zshao/sync/pp/build/hadoopcore/\&lt;br/&gt;
hadoop-0.19.0/hadoop-0.19.0-core.jar:/data/users/zshao/sync/pp/build/hive_anttasks.jar:/data/users/zshao/sync/pp/build/hive_cli.jar:/data/users/zshao/sync/pp/build/hive_common.jar:/data/use\&lt;br/&gt;
rs/zshao/sync/pp/build/hive_exec.jar:/data/users/zshao/sync/pp/build/hive_metastore.jar:/data/users/zshao/sync/pp/build/hive_serde.jar:/data/users/zshao/sync/pp/build/hive_service.jar:/data\&lt;br/&gt;
/users/zshao/sync/pp/lib/asm-3.1.jar:/data/users/zshao/sync/pp/lib/commons-cli-2.0-SNAPSHOT.jar:/data/users/zshao/sync/pp/lib/commons-collections-3.2.1.jar:/data/users/zshao/sync/pp/lib/com\&lt;br/&gt;
mons-lang-2.4.jar:/data/users/zshao/sync/pp/lib/commons-logging-1.0.4.jar:/data/users/zshao/sync/pp/lib/commons-logging-api-1.0.4.jar:/data/users/zshao/sync/pp/lib/derby.jar:/data/users/zsh\&lt;br/&gt;
ao/sync/pp/lib/jdo2-api-2.1.jar:/data/users/zshao/sync/pp/lib/jpox-core-1.2.2.jar:/data/users/zshao/sync/pp/lib/jpox-enhancer-1.2.2.jar:/data/users/zshao/sync/pp/lib/jpox-rdbms-1.2.2.jar:/d\&lt;br/&gt;
ata/users/zshao/sync/pp/lib/libfb303.jar:/data/users/zshao/sync/pp/lib/libthrift.jar:/data/users/zshao/sync/pp/lib/log4j-1.2.15.jar:/data/users/zshao/sync/pp/lib/velocity-1.5.jar:/data/user\&lt;br/&gt;
s/zshao/sync/pp/ql/lib/antlr-2.7.7.jar:/data/users/zshao/sync/pp/ql/lib/antlr-3.0.1.jar:/data/users/zshao/sync/pp/ql/lib/antlr-runtime-3.0.1.jar:/data/users/zshao/sync/pp/ql/lib/commons-jex\&lt;br/&gt;
l-1.1.jar:/data/users/zshao/sync/pp/ql/lib/stringtemplate-3.1b1.jar:/home/pchakka/eclipse/plugins/org.junit4_4.3.1/junit.jar:/home/zshao/software/apache-ant-1.7.1/lib/ant-launcher.jar:/home\&lt;br/&gt;
/zshao/software/ant/lib/ant.jar:/home/zshao/software/ant/lib/ant-junit.jar&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;org.apache.hadoop.hive.metastore.TestAlter&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;filtertrace=false&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;haltOnError=false&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;haltOnFailure=false&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;formatter=org.apache.tools.ant.taskdefs.optional.junit.SummaryJUnitResultFormatter&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;showoutput=true&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;outputtoformatters=true&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;logtestlistenerevents=true&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;formatter=org.apache.tools.ant.taskdefs.optional.junit.PlainJUnitResultFormatter,/data/users/zshao/sync/pp/build/metastore/test/TEST-org.apache.hadoop.hive.metastore.TestAlter.\&lt;br/&gt;
txt&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;crashfile=/data/users/zshao/sync/pp/metastore/junitvmwatcher51227.properties&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &apos;propsfile=/data/users/zshao/sync/pp/metastore/junit51228.properties&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; The &apos; characters around the executable and arguments are&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; not part of the command.&lt;br/&gt;
dropping /data/users/zshao/sync/pp/build/classes from path as it doesn&apos;t exist&lt;br/&gt;
dropping /data/users/zshao/sync/pp/build/classes from path as it doesn&apos;t exist&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/30 13:27:57 DEBUG conf.Configuration: java.io.IOException: config()&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.conf.Configuration.&amp;lt;init&amp;gt;(Configuration.java:176)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.conf.Configuration.&amp;lt;init&amp;gt;(Configuration.java:164)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.metastore.MetaStoreTestBase.&amp;lt;clinit&amp;gt;(MetaStoreTestBase.java:63)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.lang.Class.forName0(Native Method)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.lang.Class.forName(Class.java:169)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:335)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:911)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:768)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 08/12/30 13:27:57 DEBUG security.UserGroupInformation: Unix Login: zshao,users,engineers,svnuser&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Running org.apache.hadoop.hive.metastore.TestAlter&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Test org.apache.hadoop.hive.metastore.TestAlter FAILED&lt;/p&gt;</comment>
                            <comment id="13103125" author="jvs" created="Mon, 12 Sep 2011 22:17:39 +0000"  >&lt;p&gt;We&apos;re on 1.8.x these days.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Dec 2008 21:44:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35821</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 20 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8h3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122023</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-201] fetch task appears as a root task in explain plan</title>
                <link>https://issues.apache.org/jira/browse/HIVE-201</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;fetch task appears as a root task in explain plan. that should be changed so that fetch task depends on the execution task appropriately&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12411505">HIVE-201</key>
            <summary>fetch task appears as a root task in explain plan</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Dec 2008 23:36:41 +0000</created>
                <updated>Fri, 15 Feb 2013 06:24:14 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13578989" author="navis" created="Fri, 15 Feb 2013 06:24:14 +0000"  >&lt;p&gt;Sorry, mistakenly pushed resolve.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Feb 2013 06:24:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42882</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8hb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122024</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-202] LINEAGE is not  working for join quries</title>
                <link>https://issues.apache.org/jira/browse/HIVE-202</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;lineage is not giving input tables  in case of join quires.&lt;/p&gt;</description>
                <environment>&lt;p&gt;lineage is not working for join quires&lt;/p&gt;</environment>
        <key id="12411507">HIVE-202</key>
            <summary>LINEAGE is not  working for join quries</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="santony73">Suresh Antony</assignee>
                                    <reporter username="santony73">Suresh Antony</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Dec 2008 00:00:14 +0000</created>
                <updated>Sat, 17 Dec 2011 00:09:07 +0000</updated>
                            <resolved>Wed, 31 Dec 2008 20:29:21 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12659991" author="athusoo" created="Wed, 31 Dec 2008 00:34:56 +0000"  >&lt;p&gt;submit patch on Suresh&apos;s behalf.&lt;/p&gt;</comment>
                            <comment id="12659992" author="athusoo" created="Wed, 31 Dec 2008 00:35:59 +0000"  >&lt;p&gt;Suresh, it seems that the patch does not have the join test case in it...&lt;/p&gt;</comment>
                            <comment id="12660010" author="santony73" created="Wed, 31 Dec 2008 02:47:37 +0000"  >&lt;p&gt;This query is already there in the test...&lt;/p&gt;

&lt;p&gt;FROM ( FROM ( FROM src1 src1 SELECT src1.key AS c1, src1.value AS c2 WHERE src1.key &amp;gt; 10 and src1.key &amp;lt; 20) a RIGHT OUTER JOIN ( FROM src2 src2 SELECT src2.key AS c3, src2.value AS c4 WHERE src2.key &amp;gt; 15 and src2.key &amp;lt; 25) b ON (a.c1 = b.c3) SELECT a.c1 AS c1, a.c2 AS c2, b.c3 AS c3, b.c4 AS c4) c SELECT c.c1, c.c2, c.c3, c.c4&lt;/p&gt;</comment>
                            <comment id="12660124" author="santony73" created="Wed, 31 Dec 2008 18:58:42 +0000"  >&lt;p&gt;New patch with test case included.&lt;/p&gt;</comment>
                            <comment id="12660125" author="santony73" created="Wed, 31 Dec 2008 18:59:27 +0000"  >&lt;p&gt;Added a new patch with a test case included.&lt;/p&gt;</comment>
                            <comment id="12660126" author="athusoo" created="Wed, 31 Dec 2008 19:05:27 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Looks good to me.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12660144" author="dhruba" created="Wed, 31 Dec 2008 20:29:21 +0000"  >&lt;p&gt;I just committed this. Thanks Suresh!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12396979" name="patch_202.txt" size="12406" author="santony73" created="Wed, 31 Dec 2008 18:58:42 +0000"/>
                            <attachment id="12396941" name="patch_202.txt" size="5656" author="santony73" created="Wed, 31 Dec 2008 00:05:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 31 Dec 2008 00:34:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73709</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8hj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122025</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-203] fix eclipse templates to get junit tests working</title>
                <link>https://issues.apache.org/jira/browse/HIVE-203</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;right now eclipse templates are not complete.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411510">HIVE-203</key>
            <summary>fix eclipse templates to get junit tests working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsm">Raghotham Murthy</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Dec 2008 02:05:51 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:30 +0000</updated>
                            <resolved>Thu, 8 Jan 2009 19:17:54 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12660115" author="rsm" created="Wed, 31 Dec 2008 18:11:38 +0000"  >&lt;p&gt;Need to do the following after applying the patch:&lt;/p&gt;

&lt;p&gt;1. ant package in trunk (couldnt get rid of this step)&lt;br/&gt;
2. ant model-jar in metastore directory&lt;br/&gt;
3. ant gen-test in ql directory&lt;br/&gt;
4. ant eclipse-files in trunk (in addition to classpath, project, settings this cmd also generates two launch configurations in trunk)&lt;/p&gt;

&lt;p&gt;Then, in eclipse, file-&amp;gt;import-&amp;gt;General-&amp;gt;Existing Projects Into Workspace-&amp;gt;Select root directory (point to trunk)&lt;/p&gt;

&lt;p&gt;This should import the project and the launch configurations. You can look for launch configurations by checking:&lt;br/&gt;
Run-&amp;gt;Run Configurations-&amp;gt;JUnit. There should be two configurations TestCliDriver, and TestHive (metastore tests).&lt;/p&gt;

&lt;p&gt;Then, you should be able to run all the unit tests by Run-&amp;gt;Run.&lt;/p&gt;

&lt;p&gt;I had to remove a whole bunch of extraneous @Overrides because  eclipse complained about them for me. These overrides were extraneous since they were specified for methods in classes which were just implementing interfaces and not really extending classes which had those same methods.&lt;/p&gt;</comment>
                            <comment id="12660116" author="rsm" created="Wed, 31 Dec 2008 18:12:00 +0000"  >&lt;p&gt;patch available&lt;/p&gt;</comment>
                            <comment id="12660117" author="rsm" created="Wed, 31 Dec 2008 18:14:32 +0000"  >&lt;p&gt;One more thing. All the unit tests for TestCliDriver are not passing - 7 failures out of 128 tests. Some are because TestSerde.jar is not in the path - I am trying to fix that. Others because the tests dont clean up after themselves - example input16.q fails saying table input16 already exists.&lt;/p&gt;</comment>
                            <comment id="12660119" author="athusoo" created="Wed, 31 Dec 2008 18:18:39 +0000"  >&lt;p&gt;The patch seems to delete the contents of&lt;/p&gt;

&lt;p&gt;eclipse-templates/.externalToolBuilders/Hive_Ant_Builder.launch&lt;/p&gt;

&lt;p&gt;Can you check that?&lt;/p&gt;</comment>
                            <comment id="12660120" author="rsm" created="Wed, 31 Dec 2008 18:29:39 +0000"  >&lt;p&gt;fixed patch to not change Hive_Ant_Builder.launch. But we wont be using this builder for hadoop-17. We will be using the java builder for hadoop 17. This will allow us to step through code. So, for each of the ant commands above use -Dhadoop.version=&quot;0.17.2.1&quot; option to pull in hadoop-17.&lt;/p&gt;


</comment>
                            <comment id="12660121" author="prasadc" created="Wed, 31 Dec 2008 18:39:22 +0000"  >&lt;p&gt;.classpath&lt;br/&gt;
classpathentry excluding=&quot;test/|test/|java/|gen-java/|test/&quot; kind=&quot;src&quot; path=&quot;serde/src&quot;/&amp;gt;&lt;br/&gt;
--&amp;gt; what is this excluding for?&lt;/p&gt;

&lt;p&gt;Users can create launch configurations for other tests by changing the class name in the following line in .launch files&lt;br/&gt;
&amp;lt;stringAttribute key=&quot;org.eclipse.jdt.launching.MAIN_TYPE&quot; value=&quot;org.apache.hadoop.hive.ql.metadata.TestHive&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;@Override is not an issue for default eclipse configuration. I think your changed your configuration which is causing the @Override warnings. I think you removed comment for getDatabases() function along with the @override&lt;/p&gt;

&lt;p&gt;why is ant package is needed when gen-test depends on test-init as well? &lt;/p&gt;</comment>
                            <comment id="12660123" author="rsm" created="Wed, 31 Dec 2008 18:48:52 +0000"  >&lt;p&gt;@overrides caused errors - not warnings. That&apos;s the reason I had to get rid of them. I didnt change any eclipse configuration (I have eclipse 3.4.1).&lt;/p&gt;

&lt;p&gt;the classpathentry existed earlier. I am not sure what it does. Should probably remove it.&lt;/p&gt;

&lt;p&gt;I could not get rid of ant package since there was no way for me to directly call ant install-hadoopcore in trunk/build.xml. That would require us to refactor build-common.xml and other */build.xml files which is a bigger change.&lt;/p&gt;

&lt;p&gt;Will add the comment back to getDatabases.&lt;/p&gt;</comment>
                            <comment id="12660763" author="athusoo" created="Mon, 5 Jan 2009 14:03:37 +0000"  >&lt;p&gt;I was able to import the project using this patch (this is very useful), however I got the following errors:&lt;/p&gt;

&lt;p&gt;1. There is a duplicate entry for serde/src/gen-java in the .classpath files - this gives a build error in eclipse&lt;br/&gt;
2. The build is looking for hadoopcore/hadoop-0.17.2.1 - in the checked in files we should probably have this as 0.19. (I was able to get rid of the build issues once I did ant package -Dhadoop.version=&quot;0.17.2.1&quot;&lt;/p&gt;

&lt;p&gt;I think without fixing 1 this will not build in eclipse.&lt;/p&gt;

&lt;p&gt;Also for the hadoop version, we can potentially do the following in the .classpath file so that it brings in the correct version.&lt;/p&gt;

&lt;p&gt;Using &lt;/p&gt;

&lt;p&gt;@HADOOPVER@ in .classpath similar to how we use @PROJECT@ in .project&lt;/p&gt;

&lt;p&gt;and then add the following in &amp;lt;root&amp;gt;/build.xml&lt;/p&gt;

&lt;p&gt;&amp;lt;filter token=&quot;HADOOPVER&quot; value=&quot;${hadoop.version}&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;after the token for PROJECT&lt;/p&gt;

&lt;p&gt;I do see the test configurations... This looks great..&lt;/p&gt;

&lt;p&gt;However, when I try to run say the TestCliDriver configuration it seems to give me an error &lt;/p&gt;

&lt;p&gt;&quot;Input type of the launch configuration does not exist&quot;.&lt;/p&gt;

&lt;p&gt;Also while running TestHive I get the following:&lt;/p&gt;

&lt;p&gt;&quot;The archive: /hive_local_ws3/build/metastore/metastore_model.jar which is referenced by the classpath, does not exist.&quot;&lt;/p&gt;

&lt;p&gt;even though the jar is there (I checked it).&lt;/p&gt;</comment>
                            <comment id="12660830" author="prasadc" created="Mon, 5 Jan 2009 17:50:53 +0000"  >&lt;p&gt;For the issues with test launch configurations, you might need to refresh the project or restart eclipse. these problems might go away.&lt;/p&gt;</comment>
                            <comment id="12660959" author="rsm" created="Mon, 5 Jan 2009 22:24:39 +0000"  >&lt;p&gt;1. fixed duplicate serde entries&lt;br/&gt;
2. using hadoop.version in the classpath - defaults to 0.19.&lt;/p&gt;

&lt;p&gt;And as prasad mentioned, try either refreshing the project or just restarting eclipse to get the launch configurations to work.&lt;/p&gt;

&lt;p&gt;Note that its currently not possible  to get eclipse to run junit tests for anything other than hadoop-17 because of the deprecated validateInput call. We should try and make it such only hadoop-17 would require code preprocessing and later hadoop versions work without preprocessing.&lt;/p&gt;</comment>
                            <comment id="12660989" author="athusoo" created="Mon, 5 Jan 2009 23:36:09 +0000"  >&lt;p&gt;something is wrong with the new patch. It seems to be missing a bunch of things frrom the previous patch.&lt;/p&gt;</comment>
                            <comment id="12661006" author="rsm" created="Tue, 6 Jan 2009 00:49:44 +0000"  >&lt;p&gt;Missed including the @Override fixes. Replaced the patch with the fixed patch.&lt;/p&gt;</comment>
                            <comment id="12661034" author="athusoo" created="Tue, 6 Jan 2009 02:27:49 +0000"  >&lt;p&gt;I am still getting the following error:&lt;/p&gt;

&lt;p&gt;Description	Resource	Path	Location	Type&lt;br/&gt;
Project &apos;hive_local_ws3&apos; is missing required source folder: &apos;jdbc/src/java&apos;	hive_local_ws3		Build path	Build Path Problem&lt;br/&gt;
Project &apos;hive_local_ws3&apos; is missing required source folder: &apos;jdbc/src/test&apos;	hive_local_ws3		Build path	Build Path Problem&lt;br/&gt;
The project cannot be built until build path errors are resolved	hive_local_ws3		Unknown	Java Problem&lt;/p&gt;</comment>
                            <comment id="12661077" author="rsm" created="Tue, 6 Jan 2009 08:40:21 +0000"  >&lt;p&gt;Now that hive-48 has been committed, can you update your tree and try the same patch again?&lt;/p&gt;</comment>
                            <comment id="12661351" author="athusoo" created="Tue, 6 Jan 2009 21:46:58 +0000"  >&lt;p&gt;Now it does not show me the two launch configurations. They seem to be missing from the patch.&lt;/p&gt;</comment>
                            <comment id="12661442" author="rsm" created="Wed, 7 Jan 2009 04:39:07 +0000"  >&lt;p&gt;more git grief. uploaded new patch&lt;/p&gt;</comment>
                            <comment id="12661768" author="athusoo" created="Wed, 7 Jan 2009 23:19:14 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Works for me now.&lt;/p&gt;</comment>
                            <comment id="12662071" author="dhruba" created="Thu, 8 Jan 2009 19:17:54 +0000"  >&lt;p&gt;I just committed this. Thanks Raghu.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12396977" name="hive-203.1.patch" size="38305" author="rsm" created="Wed, 31 Dec 2008 18:11:38 +0000"/>
                            <attachment id="12396978" name="hive-203.2.patch" size="36294" author="rsm" created="Wed, 31 Dec 2008 18:29:39 +0000"/>
                            <attachment id="12397164" name="hive-203.3.patch" size="31832" author="rsm" created="Tue, 6 Jan 2009 00:49:44 +0000"/>
                            <attachment id="12397265" name="hive-203.4.patch" size="41083" author="rsm" created="Wed, 7 Jan 2009 04:39:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 31 Dec 2008 18:18:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8hr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122026</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-204] Provide option to run hadoop via TestMiniMR</title>
                <link>https://issues.apache.org/jira/browse/HIVE-204</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Right now MapRedTask does an exec on the hadoop command line. This prevents us from stepping through query execution code. If there were an option to run hadoop via MiniMR, this will create tasks within the same VM and so allows stepping into the execution code. See, src/test/org/apache/hadoop/mapred/TestMiniMRWithDFS.java in the hadoop source code for an example.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411537">HIVE-204</key>
            <summary>Provide option to run hadoop via TestMiniMR</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="rsm">Raghotham Murthy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Dec 2008 20:37:59 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:13 +0000</updated>
                            <resolved>Wed, 27 May 2009 19:00:56 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12660268" author="jsensarma" created="Fri, 2 Jan 2009 07:34:15 +0000"  >&lt;p&gt;we do have the option of submitting the job from the same vm (which is what we do in non-local mode). in local mode - we ran into issues with multiple tasks running in same jvm (we generally assume one task per jvm).&lt;/p&gt;

&lt;p&gt;is this asking for running tests in non-local mode against a test cluster (miniMR?) (same as hive-117?)&lt;/p&gt;</comment>
                            <comment id="12660288" author="rsm" created="Fri, 2 Jan 2009 10:07:17 +0000"  >&lt;p&gt;Ashish mentioned to me that MapRedTask(local mode, different vm) and ExecDriver(non-local mode, same vm) existed. This jira is to be able to run local mode, same vm for junit tests only for stepping through map and reduce tasks.&lt;/p&gt;

&lt;p&gt;This jira is asking for the ability to submit jobs using the MiniMRCluster class. According to javadocs - &quot;This class creates a single-process Map-Reduce cluster for junit testing. One thread is created for each server.&quot;&lt;/p&gt;</comment>
                            <comment id="12660427" author="jsensarma" created="Fri, 2 Jan 2009 23:59:14 +0000"  >&lt;p&gt;ok. i am not sure why exactly - but we had trouble trying to do this (local mode same vm). if the localmode, same vm combination can be made to work - the minimr stuff is not relevant - is it?&lt;/p&gt;

&lt;p&gt;also - for the minimr cluster - will it run in a separate jvm? or will it be running in the same jvm (as cli/driver etc.)?&lt;/p&gt;</comment>
                            <comment id="12704250" author="namit" created="Wed, 29 Apr 2009 18:55:51 +0000"  >&lt;p&gt;added another testcase TestCliMiniMRDriver which creates a miniMR cluster for each test.&lt;br/&gt;
Right now, it is not enabled for all the tests since it takes a long time and is not parallelized yet.&lt;br/&gt;
That can be done in a follow-up.&lt;/p&gt;

&lt;p&gt;The user can pass a list of comma-separated files to be run to the miniMR cluster. &lt;/p&gt;</comment>
                            <comment id="12705201" author="zshao" created="Sat, 2 May 2009 01:18:26 +0000"  >&lt;p&gt;+1 but it failed some 0.17.0 tests.&lt;/p&gt;

&lt;p&gt;Seems like class path problem.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant -Dhadoop.version=0.17.0 &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; test -Dtestcase=TestCliDriver -Dqfile=input16_cc.q

    [junit] java.lang.ClassNotFoundException: org.apache.hadoop.hive.serde2.TestSerDe
    [junit] Continuing ...
    [junit] org.apache.hadoop.hive.ql.metadata.HiveException: java.lang.ClassNotFoundException: org.apache.hadoop.hive.serde2.TestSerDe
    [junit]     at org.apache.hadoop.hive.ql.exec.MapOperator.initialize(MapOperator.java:153)
    [junit]     at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:57)
    [junit]     at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:47)
    [junit]     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:219)
    [junit]     at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:157)
    [junit] Caused by: java.lang.ClassNotFoundException: org.apache.hadoop.hive.serde2.TestSerDe
    [junit]     at java.net.URLClassLoader$1.run(URLClassLoader.java:200)
    [junit]     at java.security.AccessController.doPrivileged(Native Method)
    [junit]     at java.net.URLClassLoader.findClass(URLClassLoader.java:188)
    [junit]     at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:306)
    [junit]     at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:251)
    [junit]     at org.apache.hadoop.hive.ql.exec.MapOperator.initialize(MapOperator.java:108)
    [junit]     ... 4 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For this patch, we need to do both:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant clean test
ant -Dhadoop.version=0.17.0 clean test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the tests are passed, I am OK with this committed. But I am gone for the next 2 weeks, so maybe somebody else can help commit it.&lt;/p&gt;</comment>
                            <comment id="12705795" author="namit" created="Mon, 4 May 2009 22:31:28 +0000"  >&lt;p&gt;incorporated Zheng&apos;s comments.&lt;/p&gt;

&lt;p&gt;Hadoop 17 does not like &lt;a href=&quot;file://&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://&lt;/a&gt; in the aux lib path&lt;/p&gt;</comment>
                            <comment id="12705843" author="athusoo" created="Tue, 5 May 2009 00:18:26 +0000"  >&lt;p&gt;The latest patch is an svn stat output instead of svn diff output.&lt;/p&gt;</comment>
                            <comment id="12705844" author="namit" created="Tue, 5 May 2009 00:22:24 +0000"  >&lt;p&gt;added the &apos;svn stat&apos; output by mistake last time&lt;/p&gt;</comment>
                            <comment id="12706024" author="athusoo" created="Tue, 5 May 2009 13:41:02 +0000"  >&lt;p&gt;The following are my comments:&lt;/p&gt;

&lt;p&gt;1. In QTestUtil - you probably don&apos;t need reflection to call getFileSystem. You should just use reflection for getting the MiniDFSCluster.&lt;br/&gt;
2. In build.xml and build-common.xml - can you move the new pathelements from the common-classpath to the test classpath in ql/build.xml. The tests for other&lt;br/&gt;
modules I presume don&apos;t need all these jars.&lt;br/&gt;
3. In QTestGenTask.java - what do you need the clusterQueryFiles for, can&apos;t you just use the the split extensions that you have made to the queryFile member variable?&lt;/p&gt;</comment>
                            <comment id="12707406" author="namit" created="Fri, 8 May 2009 16:32:54 +0000"  >&lt;p&gt;1. You need reflection, since you cant cast dfs to a given class (it is different in 17 and 19) - without casting appropriately, you cannot call the method&lt;br/&gt;
2. Will do&lt;br/&gt;
3. By default, qfile gets all the .1 files in the test directory, and I did not want to change that behavior. I did not want to run miniMR cluster tests for all the files,&lt;br/&gt;
    since it takes a awefully long time. Once the tests have been parallelized, I agree clusterQueryFiles can be removed, but we would need it till then.&lt;/p&gt;

&lt;p&gt;Will do 2, and upload the new patch&lt;/p&gt;</comment>
                            <comment id="12710550" author="athusoo" created="Tue, 19 May 2009 00:09:51 +0000"  >&lt;p&gt;getting some conflicts in build-common.xml. Can you regenerate the patch?&lt;/p&gt;

&lt;p&gt;Also some review comments are as follows:&lt;/p&gt;

&lt;p&gt;1. Instead of minimr.query.files is it better to just introduce an option -Dmode=miniMR so that this can be run on any of the files. In order to run it in that mode on the two files, we could just call TestCliDriver with that mode and pass only those files in the query.files variable.&lt;br/&gt;
2. In QTestUtil.java I did not quite understand the following code:&lt;br/&gt;
  +      // hive.metastore.warehouse.dir needs to be set relative to the jobtracker&lt;br/&gt;
  +      String fsName = conf.get(&quot;fs.default.name&quot;);&lt;br/&gt;
  +      assert fsName != null;&lt;br/&gt;
  +      conf.set(&quot;hive.metastore.warehouse.dir&quot;, fsName.concat(&quot;/build/ql/test/data/warehouse/&quot;));&lt;br/&gt;
  +      &lt;br/&gt;
  +      conf.set(&quot;mapred.job.tracker&quot;, &quot;localhost:&quot; + mr.getJobTrackerPort());&lt;br/&gt;
Where do you specify the root of the filesystem?&lt;/p&gt;</comment>
                            <comment id="12710799" author="namit" created="Tue, 19 May 2009 17:10:44 +0000"  >&lt;p&gt;1. I agree with the mode approach instead of another target. But we still need minimr.query.files to run the tests with the build - which tests get picked up by default.&lt;br/&gt;
    So, it is a just a cleaner way - let us talk about it offline&lt;br/&gt;
2. conf.set(&quot;hive.metastore.warehouse.dir&quot;, fsName.concat(&quot;/build/ql/test/data/warehouse/&quot;));&lt;br/&gt;
    Note that a concatenation is being performed above. &lt;br/&gt;
   new MiniMRCluster() sets the configuration variable fs.default.name.&lt;/p&gt;

</comment>
                            <comment id="12713359" author="namit" created="Wed, 27 May 2009 01:14:44 +0000"  >&lt;p&gt;incorporated comments&lt;/p&gt;</comment>
                            <comment id="12713690" author="athusoo" created="Wed, 27 May 2009 18:57:19 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Looks good to me.&lt;/p&gt;

&lt;p&gt;We should file a separate JIRA to enable this by default after we parallelize junit (unless that JIRA is not already filed).&lt;/p&gt;</comment>
                            <comment id="12713693" author="athusoo" created="Wed, 27 May 2009 19:00:56 +0000"  >&lt;p&gt;committed. Thanks Namit!!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12406816" name="hive.204.1.patch" size="14494" author="namit" created="Wed, 29 Apr 2009 18:53:50 +0000"/>
                            <attachment id="12406825" name="hive.204.2.patch" size="14458" author="namit" created="Wed, 29 Apr 2009 20:02:54 +0000"/>
                            <attachment id="12406843" name="hive.204.3.patch" size="15111" author="namit" created="Wed, 29 Apr 2009 21:54:27 +0000"/>
                            <attachment id="12407190" name="hive.204.4.patch" size="451" author="namit" created="Mon, 4 May 2009 22:31:28 +0000"/>
                            <attachment id="12407200" name="hive.204.5.patch" size="16872" author="namit" created="Tue, 5 May 2009 00:22:24 +0000"/>
                            <attachment id="12407634" name="hive.204.6.patch" size="16120" author="namit" created="Fri, 8 May 2009 16:36:06 +0000"/>
                            <attachment id="12409107" name="hive.204.7.patch" size="13278" author="namit" created="Wed, 27 May 2009 01:14:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Jan 2009 07:34:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73707</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8hz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122027</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-205] file sink operator needs unique file names</title>
                <link>https://issues.apache.org/jira/browse/HIVE-205</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;a query like &quot;SELECT * FROM (SELECT &apos;a&apos; from table UNION ALL SELECT &apos;b&apos; from table) c&quot; will fail, because the 2 sub queries of &quot;UNION&quot; will be executed inside the same mapper (because the input is the same) towards the same destination table, and the 2 file sink operators will have the same output file name.&lt;/p&gt;

&lt;p&gt;We need to append the file sink operator id to the file name to make it unique.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411672">HIVE-205</key>
            <summary>file sink operator needs unique file names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Jan 2009 08:06:18 +0000</created>
                <updated>Wed, 11 Mar 2009 00:27:31 +0000</updated>
                            <resolved>Wed, 11 Mar 2009 00:27:31 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12660781" author="athusoo" created="Mon, 5 Jan 2009 15:10:14 +0000"  >&lt;p&gt;what happens in the test&lt;/p&gt;

&lt;p&gt;./ql/src/test/queries/clientpositive/union.q&lt;/p&gt;

&lt;p&gt;the seems to have the same general pattern as the reported query...&lt;/p&gt;</comment>
                            <comment id="12660866" author="zshao" created="Mon, 5 Jan 2009 19:23:26 +0000"  >&lt;p&gt;The test runs in a different mode I think. I remember the output file names of the tests looks different from what the file names are from the jobs on the cluster.&lt;/p&gt;</comment>
                            <comment id="12661568" author="athusoo" created="Wed, 7 Jan 2009 13:44:46 +0000"  >&lt;p&gt;Needed for the first release.&lt;/p&gt;</comment>
                            <comment id="12680707" author="zshao" created="Wed, 11 Mar 2009 00:27:18 +0000"  >&lt;p&gt;This will be fixed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-318&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-318&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12416025">HIVE-318</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Jan 2009 15:10:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73706</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8i7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122028</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-206] partition pruning check fails for uppercase table names</title>
                <link>https://issues.apache.org/jira/browse/HIVE-206</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The failed query is like:&lt;/p&gt;

&lt;p&gt;SELECT &quot;a&quot; from table_TAG where table_TAG.ds = &apos;2008-12-31&apos;&lt;/p&gt;

&lt;p&gt;The error message is:&lt;/p&gt;

&lt;p&gt;FAILED: Error in semantic analysis: line 1:227 No Partition Predicate Found &quot;2008-12-31&quot;:  for Alias table_tag Table table_tag&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411673">HIVE-206</key>
            <summary>partition pruning check fails for uppercase table names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="athusoo">Ashish Thusoo</assignee>
                                    <reporter username="zshao">Zheng Shao</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Jan 2009 08:23:20 +0000</created>
                <updated>Sat, 17 Dec 2011 00:09:01 +0000</updated>
                            <resolved>Tue, 6 Jan 2009 22:37:14 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12661013" author="athusoo" created="Tue, 6 Jan 2009 01:17:42 +0000"  >&lt;p&gt;patch attached.&lt;/p&gt;

&lt;p&gt;The test case has also been modified to reflect this bug.&lt;/p&gt;</comment>
                            <comment id="12661014" author="athusoo" created="Tue, 6 Jan 2009 01:18:08 +0000"  >&lt;p&gt;submitting.&lt;/p&gt;</comment>
                            <comment id="12661284" author="zshao" created="Tue, 6 Jan 2009 19:56:57 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12661362" author="zshao" created="Tue, 6 Jan 2009 22:37:14 +0000"  >&lt;p&gt;Committed revision 732157. Thanks Ashish!&lt;/p&gt;</comment>
                            <comment id="12661534" author="johanoskarsson" created="Wed, 7 Jan 2009 12:27:28 +0000"  >&lt;p&gt;This patch changed the log4j properties file from:&lt;br/&gt;
hive.root.logger=WARN,DRFA&lt;br/&gt;
to&lt;br/&gt;
hive.root.logger=DEBUG,console&lt;/p&gt;

&lt;p&gt;Was this intentional? It gives a whole lot of hadoop debugging output when starting up the shell?&lt;/p&gt;</comment>
                            <comment id="12661541" author="athusoo" created="Wed, 7 Jan 2009 12:48:45 +0000"  >&lt;p&gt;The patch file does not have that change..&lt;/p&gt;

&lt;p&gt;Zheng, was this due to some debugging during test running?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12397166" name="patch-206.txt" size="1677" author="athusoo" created="Tue, 6 Jan 2009 01:17:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Jan 2009 01:17:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73705</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8if:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122029</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-206&quot; title=&quot;partition pruning check fails for uppercase table names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-206&quot;&gt;&lt;strike&gt;HIVE-206&lt;/strike&gt;&lt;/a&gt;. Fixed partition pruning check for uppercase table names. (Ashish Thusoo via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-207] Change SerDe API to allow skipping unused columns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-207</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A deserializer shouldn&apos;t have to deserialize columns that are never used by the query processor.  A serializer shouldn&apos;t have to examine unused columns that are known to always be null.&lt;/p&gt;

&lt;p&gt;As an example, we store data as a Protocol Buffer structure with ~60 fields.  Running a &quot;select count(1)&quot; currently requires deserializing all fields, which includes checking if they exist and formatting the data appropriately.  This is expensive and unnecessary.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411699">HIVE-207</key>
            <summary>Change SerDe API to allow skipping unused columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="electrum">David Phillips</reporter>
                        <labels>
                            <label>optimization</label>
                    </labels>
                <created>Mon, 5 Jan 2009 17:21:18 +0000</created>
                <updated>Tue, 5 Apr 2011 23:13:06 +0000</updated>
                                                                            <component>Query Processor</component>
                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="12660832" author="jsensarma" created="Mon, 5 Jan 2009 17:59:12 +0000"  >&lt;p&gt;the deserializer api does get one column at a time. the deserialize() call doesn&apos;t have to do anything - it only has to return a handle back for lazy deserialization (where for example - the handle can contain a reference to a byte array). later on specific operators will invoke ObjectInspector interfaces to get access to particular columns - and at this point the objectinspector interface can be implemented to deserialize the relevant part of the byte array (for example).&lt;/p&gt;

&lt;p&gt;the default reflection based objectinspector does not work this way - but this is a matter of implementation (we just haven&apos;t gotten around to lazy deserialization - and anyway it&apos;s dependent on the serialization format).&lt;/p&gt;

&lt;p&gt;if u can try and implement lazy deserialization for protocol buffers - that will tell us what else needs to be added in terms of interfaces (right now i am confident that we have enough interfaces, to for example, do lazy deserialization of delimited string format).&lt;/p&gt;</comment>
                            <comment id="12660922" author="electrum" created="Mon, 5 Jan 2009 20:55:59 +0000"  >&lt;p&gt;Thanks, I&apos;ll give that a try.&lt;/p&gt;

&lt;p&gt;I haven&apos;t dug into the ObjectInspector stuff, but my initial impression is that it feels overly complex and backwards.  Perhaps part of it is the standard deserializers being spread over multiple classes.  It also seems strange that the deserializer can override the declared column types of the table.  My deserializer returns a MetadataListStructObjectInspector, causing all column types to be string.&lt;/p&gt;

&lt;p&gt;Here&apos;s a rough idea for a new interface:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;interface ColumnSet {
  String[] getTableColumnNames();
  ColumnType[] getTableColumnTypes();
  int[] getUsedColumns();
  void setColumnValue(int n, Object o);
}

interface Deserializer {
  void initialize(Configuration conf, Properties tbl, ColumnSet cols);
  void deserialize(Writable blob, ColumnSet cols);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The deserializer would call setColumnValue() for each non-null column from getUsedColumns() index list.  The ColumnSet would be pre-initialized to null for all values.  The deserializer wouldn&apos;t need to worry about caching objects, implementing complex interfaces, etc.  It simply makes a single call for each column value.&lt;/p&gt;

&lt;p&gt;There might be an overloaded setColumnValue() for standard types like int, Integer, String, etc.  Creating the actual ColumnSet object dynamically at runtime might have some performance advantages.&lt;/p&gt;</comment>
                            <comment id="12660950" author="jsensarma" created="Mon, 5 Jan 2009 22:07:36 +0000"  >&lt;p&gt;one thing about the SerDe/Objectinspector stuff is that the schema is dictated by the serde. Essentially - the DDL in hive is just a way to create configuration for the native serde (dynamic serde). At this point - what the serde returns whatever the DDL defines.&lt;/p&gt;

&lt;p&gt;However - the DDL is not required for all tables. Tables just need to have a SerDe - and the schema will be obtained from the Serde. There is a create table command that just takes in a serde specification (although i can&apos;t recount ths syntax off the bat - and there may be issues). We have lots of custom formatted tables in our environment for which the schema is not obtained from a DDL - but from a serde implementation. &lt;/p&gt;

&lt;p&gt;The objectinspector stuff is also complicated because we support complex and nested types. So the ObjectInspector interfaces are somewhat similar to Java Reflection apis and are recursive.&lt;/p&gt;

&lt;p&gt;Regarding the specific proposal for the columnset - i think this is implementable inside the objectinspector framework. I take it that the data model is a flat set of columns. the deserialize() implementation will just populate the equivalent of the columnset structure (which is part of ur implementation) and will return a container with reference to the underlying serialized buffer and the columnset structure. You would have to implement a StructObjectInspector (which is what the getObjectInspector() should return). If u look at the methods in this (comments on what the implementation might have to do):&lt;/p&gt;

&lt;p&gt;  public List&amp;lt;? extends StructField&amp;gt; getAllStructFieldRefs(); &lt;br/&gt;
  // this is just getTableColumnNames() from ur columnset struct&lt;/p&gt;

&lt;p&gt;  public StructField getStructFieldRef(String fieldName);&lt;br/&gt;
  // this is whatever is required to extract  a field from a underlying buffer - for example some offset or index&lt;/p&gt;

&lt;p&gt;  public Object getStructFieldData(Object data, StructField fieldRef);&lt;br/&gt;
  // this actually retrieves the field from the buffer. At this point - you can used information about used/unused columns to return nulls as required.&lt;/p&gt;

&lt;p&gt;  public List&amp;lt;Object&amp;gt; getStructFieldsDataAsList(Object data);&lt;br/&gt;
  // this is just a transformation function - i am not entirely sure when this is invoked - but the implementation is obvious&lt;/p&gt;

&lt;p&gt;hope this explains things somewhat .. (unfortunately the design/scope of the serde stuff is not that well documented ..)&lt;/p&gt;</comment>
                            <comment id="12660963" author="zshao" created="Mon, 5 Jan 2009 22:31:13 +0000"  >&lt;p&gt;Our current SerDe framework is designed for allowing lazy initialization. That&apos;s why we allow the objects inside the memory to be heterogeneous and allow users to specify the object inspector to get the fields out of the object.&lt;/p&gt;

&lt;p&gt;The major difficulty that you will see when implementing a new SerDe is probably you need to parse and understand the DDL (which is in thrift). The only easy way for that is to reuse the DynamicSerDe code, and write a new Protocol instead of a new serde. Then you can reuse the code in DynamicSerDe to parse the thrift DDL. You may want to take a look at TBinaryProtocol. (Let us know if you have any other good ideas to represent the types of columns without thrift DDL).&lt;/p&gt;

&lt;p&gt;Your idea of skipping columns is an alternative way of achieving efficiency. The good thing is that you can still enjoy the majority of the efficiencies (through pruning columns) while have a simple homogeneous in-memory representation. The bad thing is that there are some potential optimizations that your framework won&apos;t be able to do: 1. for different rows, we might want to deserialize different columns because there is an IF or CASE statement; 2. there are some operations that can be calculated without deserializing the whole field: size of the list, sub-field of a field, which are very common if the field is of complex type.&lt;/p&gt;

&lt;p&gt;As a result, the use of ObjectInspector provides the best potential performance.&lt;/p&gt;</comment>
                            <comment id="12660987" author="jsensarma" created="Mon, 5 Jan 2009 23:33:32 +0000"  >&lt;p&gt;@Zheng - can we get lazy deserialization using Dynamic Serde without changing the Dynamic Serde code (and writing a new protocol only?)?&lt;/p&gt;

&lt;p&gt;alternatively - we could ignore the whole DDL thing right now and create a table with a custom serde for protocol buffers and put the schema information in the serde properties (which the create table command should support).&lt;/p&gt;

&lt;p&gt;Instead of forcing people to use dynamic serde (when they want to use DDL) - one extensibility hook we can add is to generate serde configuration from the parsed DDL information using a callback. Perhaps this can be an optional method in the SerDe. That way - people can add Hive DDL to Protocol Buffer configuration (for example) without having to use Dynamic Serde.&lt;/p&gt;</comment>
                            <comment id="12661371" author="electrum" created="Tue, 6 Jan 2009 23:30:42 +0000"  >&lt;p&gt;Thank you for the detailed explanations.  I now have a much better understanding of SerDe&apos;s purpose and scope.  The design of ObjectInspector also makes sense now.  To summarize:&lt;/p&gt;

&lt;p&gt;1) SerDe, not the DDL, defines the table schema.  Some SerDe implementations use the DDL for configuration.&lt;br/&gt;
2) Column types can be arbitrarily nested arrays, maps and structures.&lt;br/&gt;
3) The callback design of ObjectInspector allows lazy deserialization with CASE/IF or when using complex or nested types.&lt;/p&gt;
</comment>
                            <comment id="12661380" author="hammer" created="Tue, 6 Jan 2009 23:49:21 +0000"  >&lt;p&gt;I learned a lot, too. Could someone with a handle on Hive compress this discussion into reusable documentation and post it to the Hive site?&lt;/p&gt;</comment>
                            <comment id="12661424" author="zshao" created="Wed, 7 Jan 2009 03:29:51 +0000"  >&lt;p&gt;@Joydeep - Yes DynamicSerDe is just a parser for thrift DDL. It calls the respective methods of the protocol for each field. As a result, it&apos;s possible to write a protocol without a modifying the Dynamic SerDe code. I don&apos;t get your idea of the extensibility hook. I guess the hook is just the same as DynamicSerDe and its Protocols?&lt;/p&gt;</comment>
                            <comment id="12661462" author="prasadc" created="Wed, 7 Jan 2009 06:33:21 +0000"  >&lt;p&gt;may be make DDL available to serde through TypeInfo interface (by moving it into serde package) instead of just exposing thrift ddl. joydeep, is that what you meant?&lt;/p&gt;</comment>
                            <comment id="12661859" author="jsensarma" created="Thu, 8 Jan 2009 06:55:07 +0000"  >&lt;p&gt;@Zheng - i finally grokked at the Dynamic SerDe code a bit. as i suspected - it reads all the fields in one shot in the deserialize code. this is natural given that the protocol is a thrift protocol and thrift reads all fields in one shot. while it can skip fields - the skipping itself has a cost (ie. if there was a format smart enough to store offsets for each field and go directly to a particular field - dynamic serde would not be able to leverage it).&lt;/p&gt;

&lt;p&gt;i did mean what Prasad inferred. that whatever data structures are used to represent type information from the ddl are exposed via a public interface. an additional method call in the serde can be optionally implemented that can take this data structure in and popularte configuration keys (that can then be stored as serdeproperties). it would be trivial to convert the dynamic serde &amp;lt;-&amp;gt; DDL interaction to follow this model as well. &lt;/p&gt;

&lt;p&gt;(will try to educate myself a bit on protocol buffers - a jist would be greatly appreciated though - especially as far as how the serialization lends itself to efficient retrieval of specific fields?)&lt;/p&gt;</comment>
                            <comment id="12662103" author="zshao" created="Thu, 8 Jan 2009 20:14:23 +0000"  >&lt;p&gt;@Jeff: see &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/DeveloperGuide#head-075e4c5524138d2674250e664dfb0f40ed57f9ca&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/DeveloperGuide#head-075e4c5524138d2674250e664dfb0f40ed57f9ca&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;@Joydeep: I see. You mean to make the &quot;SQL DDL&quot; -&amp;gt; hierarchical type information (TypeInfo classes) translation a job of the shared utility code? I like this idea. It saves developer a lot of time in understanding &quot;thrift DDL&quot;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;DDLColumnInfo {
  &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; columnName;
  TypeInfo columnType;
}

&lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; SerDe {
  /** List&amp;lt;DDLColumnInfo&amp;gt; will provide the column information from SQL DDL.
   *  If the user created the table with no column information, we will pass &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;.
   *  The ObjectInspector returned by getObjectInspector() needs to have the same column names and types as the List&amp;lt;DDLColumnInfo&amp;gt; (&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;).
   */
  void intialize(Configuration, Properties, List&amp;lt;DDLColumnInfo&amp;gt; );

  ObjectInspector getObjectInspector() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; SerDeException;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;By adding an additional parameter List&amp;lt;DDLColumnInfo&amp;gt;, the developers of SerDe do not need to parse the SQL DDL or Thrift DDL.&lt;/p&gt;

&lt;p&gt;We already have TypeInfo classes and we just need to move them from ql to serde. It seems trivial to do and all future SerDe can take advantage of List&amp;lt;DDLColumnInfo&amp;gt;. (Although I don&apos;t want to change DynamicSerDe at this point unless necessary).&lt;/p&gt;

&lt;p&gt;Can you confirm this is what we want?&lt;/p&gt;</comment>
                            <comment id="12662106" author="prasadc" created="Thu, 8 Jan 2009 20:27:59 +0000"  >&lt;p&gt;another way of doing this is &lt;/p&gt;

&lt;p&gt;add a new function to SerDe interface that returns list of ColumnInfo (why DDL?) objects. And provide a static utility method that takes a thrift DDL and converts to ColumnInfo/TypeInfo classes and any serde that wants to use DDL in this form can call this function. Others needn&apos;t do this.&lt;/p&gt;</comment>
                            <comment id="12662130" author="zshao" created="Thu, 8 Jan 2009 21:46:40 +0000"  >&lt;p&gt;It&apos;s not trivial to write a thrift DDL to ColumnInfo/TypeInfo converter.  Why don&apos;t we directly go from SQL DDL to TypeInfo?&lt;/p&gt;</comment>
                            <comment id="12662133" author="prasadc" created="Thu, 8 Jan 2009 21:58:46 +0000"  >&lt;p&gt;i thought we could pull some code from DynamicSerDe to do that, or may some thrift code. &lt;/p&gt;

&lt;p&gt;couple of reasons are:&lt;br/&gt;
1) simpler interface (imo) &lt;br/&gt;
2) How do deserializers get initialized in task trackers? we need to transport ColumnInfo objects as javabeans?&lt;/p&gt;

&lt;p&gt;But none of these are blocking are critical, so if it is really difficult to convert thrift DDL into TypeInfo then we can do it the way you proposed.&lt;/p&gt;</comment>
                            <comment id="12662175" author="jsensarma" created="Thu, 8 Jan 2009 23:42:32 +0000"  >&lt;p&gt;I like Zheng&apos;s proposal.&lt;/p&gt;

&lt;p&gt;The only thing that concerns me is whether the SerDe might find it expensive to bootstrap off DDLColumnInfo. for example - the following would be equivalent - but would allow the SerDe to cache some transformed/serialized version off the DDLInfo in it&apos;s own properties that  might be easier (ie. cheaper) for the SerDe to bootstrap off:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;at table creation time - we know the serde/deserializer&lt;/li&gt;
	&lt;li&gt;we call a new method in the Deserializer that translates DDLInfo to some properties:&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;interface SerDe {&lt;br/&gt;
...&lt;br/&gt;
Properties schemaToProperties(List&amp;lt;DDLColumnInfo) throws UnsupportedSchemaException;&lt;br/&gt;
...&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;we store the returned Properties as part of SerDeProperties in metastore (that&apos;s available in the serde initialize call). The initialize() call signature can be what Zheng proposed. But if the SerDe wants - it can cache a serialized version of the schema in the properties that it finds easier to handle. This will also provide an opportunity for the SerDe to reject any Hive Schemas that it cannot support (for example - if a SerDe cannot support maps - it can reject DDL statements with maps in this step).&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 5 Jan 2009 17:59:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42881</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8in:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122030</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-208] Incorrect job names in the configuration if a Hive query results in multiple jobs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-208</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If there are two jobs for a single query then both jobs are being labeled as 1/2 which is confusing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411706">HIVE-208</key>
            <summary>Incorrect job names in the configuration if a Hive query results in multiple jobs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Jan 2009 19:13:29 +0000</created>
                <updated>Mon, 5 Jan 2009 19:13:29 +0000</updated>
                                                                            <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8iv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122031</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-209] Enable assertions for unit tests</title>
                <link>https://issues.apache.org/jira/browse/HIVE-209</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We should enable assertions while running unit tests.  Many assertions currently fail while running tests.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12411721">HIVE-209</key>
            <summary>Enable assertions for unit tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="electrum">David Phillips</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Jan 2009 22:11:23 +0000</created>
                <updated>Sat, 17 Dec 2011 00:09:04 +0000</updated>
                            <resolved>Wed, 7 Jan 2009 19:29:44 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12660967" author="electrum" created="Mon, 5 Jan 2009 22:37:25 +0000"  >&lt;p&gt;Simple patch to enable assertions.  It would be great if the core developers can fix the existing assertion failures.&lt;/p&gt;</comment>
                            <comment id="12660969" author="electrum" created="Mon, 5 Jan 2009 22:44:23 +0000"  >&lt;p&gt;This change to HiveConf.java&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;-    HADOOPNUMREDUCERS(&quot;mapred.reduce.tasks&quot;, &quot;1&quot;),
+    HADOOPNUMREDUCERS(&quot;mapred.reduce.tasks&quot;, 1),
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;exposes an assertion in DynamicSerDeFieldList.java:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  assert(field.type == TType.STOP);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Use this (happens with many other tests too): ant -Dtestcase=TestCliDriver -Dqfile=join1.q test&lt;/p&gt;</comment>
                            <comment id="12661015" author="prasadc" created="Tue, 6 Jan 2009 01:20:10 +0000"  >&lt;p&gt;These are 4 assertions I see that cause quite a few failures in TestCliDriver&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hive.serde2.dynamic_type.DynamicSerDeFieldList.deserialize(DynamicSerDeFieldList.java:196)&lt;br/&gt;
org.apache.hadoop.hive.conf.HiveConf.getIntVar(HiveConf.java:154)&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.doPhase1GetAllAggregations(SemanticAnalyzer.java:189)&lt;br/&gt;
org.apache.hadoop.hive.ql.typeinfo.TypeInfoFactory.getPrimitiveTypeInfo(TypeInfoFactory.java:38)&lt;/p&gt;</comment>
                            <comment id="12661368" author="prasadc" created="Tue, 6 Jan 2009 22:54:44 +0000"  >&lt;p&gt;another one here&lt;/p&gt;

&lt;p&gt; org.apache.hadoop.hive.ql.typeinfo.StructTypeInfo.&amp;lt;init&amp;gt;(StructTypeInfo.java:78)&lt;/p&gt;</comment>
                            <comment id="12661417" author="prasadc" created="Wed, 7 Jan 2009 02:54:17 +0000"  >&lt;p&gt;there was one another assert that was caught later. now all tests pass.&lt;/p&gt;</comment>
                            <comment id="12661671" author="zshao" created="Wed, 7 Jan 2009 19:29:44 +0000"  >&lt;p&gt;Thanks Prasad! Committed revision 732271.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12397259" name="hive-209.2.patch" size="5509" author="prasadc" created="Wed, 7 Jan 2009 02:54:17 +0000"/>
                            <attachment id="12397238" name="hive-209.patch" size="4795" author="prasadc" created="Tue, 6 Jan 2009 22:52:43 +0000"/>
                            <attachment id="12397156" name="hive-junit-assert.patch" size="434" author="electrum" created="Mon, 5 Jan 2009 22:37:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Jan 2009 01:20:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l8j3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122032</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-209&quot; title=&quot;Enable assertions for unit tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-209&quot;&gt;&lt;strike&gt;HIVE-209&lt;/strike&gt;&lt;/a&gt;. Enabling asserts in tests. (Prasad Chakka via zshao)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
