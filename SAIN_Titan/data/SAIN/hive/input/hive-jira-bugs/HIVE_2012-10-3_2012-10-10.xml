<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:21:55 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-10-3+AND+created+%3C%3D+2012-10-10+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="38" total="38"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-3523] Hive info logging is broken</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3523</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive Info logging is broken on trunk. hive -hiveconf hive.root.logger=INFO,console doesn&apos;t print the output of LOG.info statements to the console. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12610015">HIVE-3523</key>
            <summary>Hive info logging is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Oct 2012 00:57:34 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:05 +0000</updated>
                            <resolved>Fri, 19 Oct 2012 00:03:02 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13468241" author="cwsteinbach" created="Wed, 3 Oct 2012 01:22:32 +0000"  >&lt;p&gt;This bug is caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3505&quot; title=&quot;log4j template has logging threshold that hides all audit logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3505&quot;&gt;&lt;del&gt;HIVE-3505&lt;/del&gt;&lt;/a&gt; which modified the hive-log4j.properties file.&lt;/p&gt;

&lt;p&gt;Before &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3505&quot; title=&quot;log4j template has logging threshold that hides all audit logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3505&quot;&gt;&lt;del&gt;HIVE-3505&lt;/del&gt;&lt;/a&gt; the hive-log4j.properties file looked like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive.root.logger=WARN,DRFA
hive.log.dir=/tmp/${user.name}

...

# Logging Threshold
log4j.threshhold=WARN
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3505&quot; title=&quot;log4j template has logging threshold that hides all audit logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3505&quot;&gt;&lt;del&gt;HIVE-3505&lt;/del&gt;&lt;/a&gt; it looks like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive.log.threshold=WARN
hive.root.logger=${hive.log.threshold},DRFA

...

# Logging Threshold
log4j.threshold=${hive.log.threshold}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;One not so obvious change is that we corrected a spelling mistake, changing &quot;log4j.thresshold&quot; to &quot;log4j.threshold&quot;. The fact that log4j.threshold was previously misspelled meant that log4j had been using the default threshold value ALL, which is equivalent to no threshold at all. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3505&quot; title=&quot;log4j template has logging threshold that hides all audit logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3505&quot;&gt;&lt;del&gt;HIVE-3505&lt;/del&gt;&lt;/a&gt; fixed the spelling mistake, which caused log4j to start using the new threshold value WARN, which explains why INFO level messages are getting filtered out even when hive.root.logger is set to INFO,console.&lt;/p&gt;

&lt;p&gt;It&apos;s possible to work around this problem right now by setting both hive.log.threshold and hive.root.logger. For example:&lt;/p&gt;

&lt;p&gt;hive -hiveconf hive.log.threshold=INFO -hiveconf hive.root.logger=INFO,console&lt;/p&gt;
</comment>
                            <comment id="13468245" author="cwsteinbach" created="Wed, 3 Oct 2012 01:32:22 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.facebook.net/D5811&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5811&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13468247" author="phabricator@reviews.facebook.net" created="Wed, 3 Oct 2012 01:34:07 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3523&quot; title=&quot;Hive info logging is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3523&quot;&gt;&lt;del&gt;HIVE-3523&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive info logging is broken&quot;.&lt;br/&gt;
Reviewers: JIRA, ashutoshc, njain&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3523&quot; title=&quot;Hive info logging is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3523&quot;&gt;&lt;del&gt;HIVE-3523&lt;/del&gt;&lt;/a&gt;. Hive INFO level logging is broken&lt;/p&gt;

&lt;p&gt;  Hive Info logging is broken on trunk. hive -hiveconf hive.root.logger=INFO,console doesn&apos;t print the output of LOG.info statements to the console.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5811&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5811&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/conf/hive-log4j.properties&lt;br/&gt;
  ql/src/java/conf/hive-exec-log4j.properties&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/13737/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/13737/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, njain, cwsteinbach&lt;/p&gt;</comment>
                            <comment id="13478644" author="ashutoshc" created="Thu, 18 Oct 2012 04:16:32 +0000"  >&lt;p&gt;+1 Please commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13479507" author="cwsteinbach" created="Fri, 19 Oct 2012 00:03:02 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13480060" author="hudson" created="Fri, 19 Oct 2012 14:48:22 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1746 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1746/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1746/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3523&quot; title=&quot;Hive info logging is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3523&quot;&gt;&lt;del&gt;HIVE-3523&lt;/del&gt;&lt;/a&gt;. Hive info logging is broken (Carl Steinbach via cws) (Revision 1399929)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1399929&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1399929&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/conf/hive-log4j.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/conf/hive-exec-log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548006" author="hudson" created="Wed, 9 Jan 2013 10:23:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3523&quot; title=&quot;Hive info logging is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3523&quot;&gt;&lt;del&gt;HIVE-3523&lt;/del&gt;&lt;/a&gt;. Hive info logging is broken (Carl Steinbach via cws) (Revision 1399929)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1399929&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1399929&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/conf/hive-log4j.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/conf/hive-exec-log4j.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550023" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:05 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12608937">HIVE-3505</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12547477" name="HIVE-3523.1.patch.txt" size="1070" author="cwsteinbach" created="Wed, 3 Oct 2012 01:31:53 +0000"/>
                            <attachment id="12547478" name="HIVE-3523.D5811.1.patch" size="1051" author="phabricator@reviews.facebook.net" created="Wed, 3 Oct 2012 01:34:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 Oct 2012 01:22:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242104</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02irb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12640</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3524] Storing certain Exception objects thrown in HiveMetaStore.java in MetaStoreEndFunctionContext</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3524</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Idea is to store exception objects thrown in the scope of the public functions of HiveMetaStore.java. Exception objects will be stored in MetaStoreEndFunctionContext. These could then be optionally processed to gather interesting statistics.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610130">HIVE-3524</key>
            <summary>Storing certain Exception objects thrown in HiveMetaStore.java in MetaStoreEndFunctionContext</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mahesh25">Maheshwaran Srinivasan</assignee>
                                    <reporter username="mahesh25">Maheshwaran Srinivasan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Oct 2012 20:18:05 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:01 +0000</updated>
                            <resolved>Wed, 7 Nov 2012 02:49:06 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <timeoriginalestimate seconds="604800">168h</timeoriginalestimate>
                            <timeestimate seconds="604800">168h</timeestimate>
                                        <comments>
                            <comment id="13482654" author="kevinwilfong" created="Tue, 23 Oct 2012 20:34:20 +0000"  >&lt;p&gt;Maheshwaran, for the future, can you post a link to the Phabricator diff here and mark the JIRA patch available once you have a diff ready for review.&lt;/p&gt;

&lt;p&gt;Can you also attach a file containing the patch to the JIRA.  See &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HowToContribute#HowToContribute&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HowToContribute#HowToContribute&lt;/a&gt;, particularly the sections on creating a patch and contributing your work.&lt;/p&gt;</comment>
                            <comment id="13482655" author="kevinwilfong" created="Tue, 23 Oct 2012 20:34:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5937&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5937&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13483481" author="kevinwilfong" created="Wed, 24 Oct 2012 19:02:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mahesh25&quot; class=&quot;user-hover&quot; rel=&quot;mahesh25&quot;&gt;Maheshwaran Srinivasan&lt;/a&gt; Could you update the diff (run svn up/git rebase) and resolve conflicts.  Also, can you attach the patch to the JIRA.&lt;/p&gt;</comment>
                            <comment id="13483519" author="mahesh25" created="Wed, 24 Oct 2012 19:54:59 +0000"  >&lt;p&gt;Please review the code at:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D5937&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5937&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13483667" author="kevinwilfong" created="Wed, 24 Oct 2012 22:29:43 +0000"  >&lt;p&gt;I still can&apos;t apply the patch, can you update it and repost?&lt;/p&gt;</comment>
                            <comment id="13483668" author="kevinwilfong" created="Wed, 24 Oct 2012 22:30:22 +0000"  >&lt;p&gt;Hit the &quot;Submit Patch&quot; button when you are ready for it to be reviewed.&lt;/p&gt;</comment>
                            <comment id="13483807" author="mahesh25" created="Thu, 25 Oct 2012 01:27:39 +0000"  >&lt;p&gt;Please review the diff&lt;/p&gt;</comment>
                            <comment id="13483813" author="mahesh25" created="Thu, 25 Oct 2012 01:38:02 +0000"  >&lt;p&gt;Please review my diff&lt;/p&gt;</comment>
                            <comment id="13485061" author="kevinwilfong" created="Fri, 26 Oct 2012 17:21:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13492081" author="kevinwilfong" created="Wed, 7 Nov 2012 02:49:06 +0000"  >&lt;p&gt;Committed, thanks Maheshwaran.&lt;/p&gt;</comment>
                            <comment id="13492223" author="hudson" created="Wed, 7 Nov 2012 09:37:18 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1777 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1777/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1777/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3524&quot; title=&quot;Storing certain Exception objects thrown in HiveMetaStore.java in MetaStoreEndFunctionContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3524&quot;&gt;&lt;del&gt;HIVE-3524&lt;/del&gt;&lt;/a&gt;. Storing certain Exception objects thrown in HiveMetaStore.java in MetaStoreEndFunctionContext. (Maheshwaran Srinivasan via kevinwilfong) (Revision 1406427)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406427&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406427&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEndFunctionContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyEndFunctionListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEndFunctionListener.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13492931" author="hudson" created="Thu, 8 Nov 2012 03:58:58 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1780 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1780/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1780/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3686&quot; title=&quot;Fix compile errors introduced by the interaction of HIVE-1362 and HIVE-3524&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3686&quot;&gt;&lt;del&gt;HIVE-3686&lt;/del&gt;&lt;/a&gt;. Fix compile errors introduced by the interaction of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1362&quot; title=&quot;Optimizer statistics on columns in tables and partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1362&quot;&gt;&lt;del&gt;HIVE-1362&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3524&quot; title=&quot;Storing certain Exception objects thrown in HiveMetaStore.java in MetaStoreEndFunctionContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3524&quot;&gt;&lt;del&gt;HIVE-3524&lt;/del&gt;&lt;/a&gt;. (Shreepadma Venugopalan via kevinwilfong) (Revision 1406783)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406783&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406783&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548005" author="hudson" created="Wed, 9 Jan 2013 10:23:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3686&quot; title=&quot;Fix compile errors introduced by the interaction of HIVE-1362 and HIVE-3524&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3686&quot;&gt;&lt;del&gt;HIVE-3686&lt;/del&gt;&lt;/a&gt;. Fix compile errors introduced by the interaction of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1362&quot; title=&quot;Optimizer statistics on columns in tables and partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1362&quot;&gt;&lt;del&gt;HIVE-1362&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3524&quot; title=&quot;Storing certain Exception objects thrown in HiveMetaStore.java in MetaStoreEndFunctionContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3524&quot;&gt;&lt;del&gt;HIVE-3524&lt;/del&gt;&lt;/a&gt;. (Shreepadma Venugopalan via kevinwilfong) (Revision 1406783)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3524&quot; title=&quot;Storing certain Exception objects thrown in HiveMetaStore.java in MetaStoreEndFunctionContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3524&quot;&gt;&lt;del&gt;HIVE-3524&lt;/del&gt;&lt;/a&gt;. Storing certain Exception objects thrown in HiveMetaStore.java in MetaStoreEndFunctionContext. (Maheshwaran Srinivasan via kevinwilfong) (Revision 1406427)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406783&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406783&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406427&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406427&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEndFunctionContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyEndFunctionListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEndFunctionListener.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550266" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:01 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12465176">HIVE-1362</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12550674" name="HIVE-3524.1.patch.txt" size="58784" author="mahesh25" created="Wed, 24 Oct 2012 19:54:59 +0000"/>
                            <attachment id="12550732" name="HIVE-3524.2.patch.txt" size="58230" author="mahesh25" created="Thu, 25 Oct 2012 01:27:39 +0000"/>
                            <attachment id="12550733" name="HIVE-3524.3.patch.txt" size="58237" author="mahesh25" created="Thu, 25 Oct 2012 01:38:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Oct 2012 20:34:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242107</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02irz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3525] Avro Maps with Nullable Values fail with NPE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3525</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When working against current trunk@1393794, using a backing Avro schema that has a Map field with nullable values causes a NPE on deserialization when the map contains a null value.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610149">HIVE-3525</key>
            <summary>Avro Maps with Nullable Values fail with NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="busbey">Sean Busbey</assignee>
                                    <reporter username="busbey">Sean Busbey</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Oct 2012 22:08:48 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:44 +0000</updated>
                            <resolved>Fri, 19 Oct 2012 00:24:35 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13468906" author="busbey" created="Wed, 3 Oct 2012 22:10:43 +0000"  >&lt;p&gt;Patch with unit tests that expresses the NPE on deserialization and during the roundtrip for serialization.&lt;/p&gt;

&lt;p&gt;Also shows that the object inspector is behaving correctly.&lt;/p&gt;</comment>
                            <comment id="13468907" author="shreepadma" created="Wed, 3 Oct 2012 22:11:23 +0000"  >&lt;p&gt;@Sean: Can you post a review request on review board or on phabricator? Thanks.&lt;/p&gt;</comment>
                            <comment id="13468910" author="busbey" created="Wed, 3 Oct 2012 22:14:12 +0000"  >&lt;p&gt;It looks like this is because the Avro SerDe uses a Hashtable when reading out Avro Maps. The BinarySortableSerDe uses HashMap, so presumably it could as well.&lt;/p&gt;</comment>
                            <comment id="13468914" author="busbey" created="Wed, 3 Oct 2012 22:14:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shreepadma&quot; class=&quot;user-hover&quot; rel=&quot;shreepadma&quot;&gt;Shreepadma Venugopalan&lt;/a&gt; Sure thing. Should I wait till the patch contains a solution, or just while it&apos;s still the tests?&lt;/p&gt;</comment>
                            <comment id="13468915" author="shreepadma" created="Wed, 3 Oct 2012 22:17:20 +0000"  >&lt;p&gt;It looks like you have a patch attached to the JIRA page. Is this a work in progress patch? Is this something you would like us to review? Its a lot easier to perform the review on phabricator/reviewboard. &lt;/p&gt;</comment>
                            <comment id="13468937" author="busbey" created="Wed, 3 Oct 2012 22:38:36 +0000"  >&lt;p&gt;At the moment the patch merely shows the error described in the ticket, it does not solve it.&lt;/p&gt;

&lt;p&gt;I placed it on &lt;a href=&quot;https://reviews.apache.org/r/7430/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;ReviewBoard&lt;/a&gt;, because Phabricator was unable to register via my github account.&lt;/p&gt;</comment>
                            <comment id="13469112" author="busbey" created="Thu, 4 Oct 2012 03:14:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/7430/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Review Board #7430&lt;/a&gt; Now contains a proposed fix as well as tests.&lt;/p&gt;</comment>
                            <comment id="13469398" author="busbey" created="Thu, 4 Oct 2012 14:27:24 +0000"  >&lt;p&gt;Patch that corresponds to review board #7430&lt;/p&gt;</comment>
                            <comment id="13470640" author="jghoman" created="Fri, 5 Oct 2012 20:46:35 +0000"  >&lt;p&gt;Reviewing...&lt;/p&gt;</comment>
                            <comment id="13471953" author="jghoman" created="Mon, 8 Oct 2012 23:25:17 +0000"  >&lt;p&gt;+1.  Correct approach, good tests.  verified.&lt;/p&gt;</comment>
                            <comment id="13478416" author="cwsteinbach" created="Wed, 17 Oct 2012 21:40:31 +0000"  >&lt;p&gt;@Jakob: thanks for reviewing this!&lt;/p&gt;

&lt;p&gt;@Sean: +1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13479529" author="cwsteinbach" created="Fri, 19 Oct 2012 00:24:35 +0000"  >&lt;p&gt;Committed to trunk. Thanks Sean!&lt;/p&gt;</comment>
                            <comment id="13480061" author="hudson" created="Fri, 19 Oct 2012 14:48:22 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1746 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1746/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1746/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3525&quot; title=&quot;Avro Maps with Nullable Values fail with NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3525&quot;&gt;&lt;del&gt;HIVE-3525&lt;/del&gt;&lt;/a&gt;. Avro Maps with Nullable Values fail with NPE (Sean Busbey via cws) (Revision 1399935)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1399935&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1399935&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroObjectInspectorGenerator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroSerializer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548007" author="hudson" created="Wed, 9 Jan 2013 10:23:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3525&quot; title=&quot;Avro Maps with Nullable Values fail with NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3525&quot;&gt;&lt;del&gt;HIVE-3525&lt;/del&gt;&lt;/a&gt;. Avro Maps with Nullable Values fail with NPE (Sean Busbey via cws) (Revision 1399935)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1399935&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1399935&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroObjectInspectorGenerator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroSerializer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550191" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:44 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547608" name="HIVE-3525.1.patch.txt" size="6705" author="busbey" created="Wed, 3 Oct 2012 22:10:43 +0000"/>
                            <attachment id="12547761" name="HIVE-3525.2.patch.txt" size="8780" author="busbey" created="Thu, 4 Oct 2012 14:27:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 Oct 2012 22:11:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240047</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00wcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3173</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3526] Column Statistics - Add support for equi-height histograms on numeric columns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3526</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This JIRA covers the task of adding support for equi-height histograms on numeric columns in Hive tables and partitions. This task involves a) implementing a UDAF to compute equi-height histograms on numeric columns, b) persisting the histogram to the metastore along with other column statistics , c) enhancing the thrift api to retrieve the histogram along with the other statistics and d) extending the grammar of ANALYZE to allow the user to request histograms and specify the number of bins.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610150">HIVE-3526</key>
            <summary>Column Statistics - Add support for equi-height histograms on numeric columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Oct 2012 22:09:04 +0000</created>
                <updated>Tue, 6 Nov 2012 21:21:41 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>Statistics</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                            <comments>
                            <comment id="13468905" author="shreepadma" created="Wed, 3 Oct 2012 22:10:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1362&quot; title=&quot;Optimizer statistics on columns in tables and partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1362&quot;&gt;&lt;del&gt;HIVE-1362&lt;/del&gt;&lt;/a&gt; covers the task of adding support for column level statistics in Hive.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12465176">HIVE-1362</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12626866">HIVE-3877</subtask>
                            <subtask id="12626867">HIVE-3878</subtask>
                            <subtask id="12626868">HIVE-3879</subtask>
                            <subtask id="12626869">HIVE-3880</subtask>
                            <subtask id="12626870">HIVE-3881</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240087</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00x2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3289</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3527] Allow CREATE TABLE LIKE command to take TBLPROPERTIES</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3527</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;CREATE TABLE ... LIKE ... commands currently don&apos;t take TBLPROPERTIES.  I think it would be a useful feature.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610151">HIVE-3527</key>
            <summary>Allow CREATE TABLE LIKE command to take TBLPROPERTIES</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                            <label>TODOC11</label>
                    </labels>
                <created>Wed, 3 Oct 2012 22:32:44 +0000</created>
                <updated>Sun, 15 Jun 2014 05:16:56 +0000</updated>
                            <resolved>Sat, 26 Jan 2013 14:00:39 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13468934" author="kevinwilfong" created="Wed, 3 Oct 2012 22:34:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5847&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5847&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13469218" author="namit" created="Thu, 4 Oct 2012 08:28:20 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13469236" author="phabricator@reviews.facebook.net" created="Thu, 4 Oct 2012 09:11:07 +0000"  >&lt;p&gt;kevinwilfong requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3527&quot; title=&quot;Allow CREATE TABLE LIKE command to take TBLPROPERTIES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3527&quot;&gt;&lt;del&gt;HIVE-3527&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Allow CREATE TABLE LIKE command to take TBLPROPERTIES&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  test&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5883&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5883&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableLikeDesc.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/create_like_tbl_props.q&lt;br/&gt;
  ql/src/test/results/clientpositive/create_like_tbl_props.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/13935/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/13935/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, kevinwilfong&lt;/p&gt;</comment>
                            <comment id="13469237" author="phabricator@reviews.facebook.net" created="Thu, 4 Oct 2012 09:11:07 +0000"  >&lt;p&gt;kevinwilfong has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3527&quot; title=&quot;Allow CREATE TABLE LIKE command to take TBLPROPERTIES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3527&quot;&gt;&lt;del&gt;HIVE-3527&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Allow CREATE TABLE LIKE command to take TBLPROPERTIES&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5883&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5883&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, kevinwilfong&lt;/p&gt;</comment>
                            <comment id="13469239" author="kevinwilfong" created="Thu, 4 Oct 2012 09:11:50 +0000"  >&lt;p&gt;Ignore the that Phabricator diff and patch, they should be the same as the original, I just wanted to see if I could make it work.&lt;/p&gt;</comment>
                            <comment id="13470983" author="namit" created="Sat, 6 Oct 2012 12:26:36 +0000"  >&lt;p&gt;Kevin, can you refresh ?&lt;br/&gt;
Some patches went in between and this patch is not applying cleanly.&lt;/p&gt;</comment>
                            <comment id="13476589" author="kevinwilfong" created="Tue, 16 Oct 2012 00:04:32 +0000"  >&lt;p&gt;Namit, can you try applying the first patch&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12547617/HIVE-3527.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12547617/HIVE-3527.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This worked for me.  &lt;/p&gt;</comment>
                            <comment id="13477188" author="namit" created="Tue, 16 Oct 2012 17:30:51 +0000"  >&lt;p&gt;That works&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13508633" author="namit" created="Mon, 3 Dec 2012 10:36:18 +0000"  >&lt;p&gt;Sorry, I missed this somehow.&lt;br/&gt;
Can you refresh ?&lt;/p&gt;</comment>
                            <comment id="13534390" author="kevinwilfong" created="Mon, 17 Dec 2012 22:42:40 +0000"  >&lt;p&gt;Updated revision here&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D5847&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5847&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and in&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3527&quot; title=&quot;Allow CREATE TABLE LIKE command to take TBLPROPERTIES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3527&quot;&gt;&lt;del&gt;HIVE-3527&lt;/del&gt;&lt;/a&gt;.3.patch.txt&lt;br/&gt;
attached to the JIRA&lt;/p&gt;</comment>
                            <comment id="13534555" author="kevinwilfong" created="Tue, 18 Dec 2012 02:34:00 +0000"  >&lt;p&gt;Tests passed.&lt;/p&gt;</comment>
                            <comment id="13534702" author="namit" created="Tue, 18 Dec 2012 06:39:31 +0000"  >&lt;p&gt;Sorry Kevin, can you refresh one more time ?&lt;br/&gt;
It is not applying cleanly any more.&lt;/p&gt;</comment>
                            <comment id="13563221" author="kevinwilfong" created="Sat, 26 Jan 2013 00:42:52 +0000"  >&lt;p&gt;Refreshed.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3527&quot; title=&quot;Allow CREATE TABLE LIKE command to take TBLPROPERTIES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3527&quot;&gt;&lt;del&gt;HIVE-3527&lt;/del&gt;&lt;/a&gt;.4.patch.txt attached to the JIRA contains the latest code&lt;/p&gt;

&lt;p&gt;also &lt;a href=&quot;https://reviews.facebook.net/D5847&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5847&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13563403" author="namit" created="Sat, 26 Jan 2013 08:24:54 +0000"  >&lt;p&gt;Running tests&lt;/p&gt;</comment>
                            <comment id="13563494" author="namit" created="Sat, 26 Jan 2013 14:00:39 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13563512" author="hudson" created="Sat, 26 Jan 2013 15:01:56 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #45 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/45/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/45/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3527&quot; title=&quot;Allow CREATE TABLE LIKE command to take TBLPROPERTIES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3527&quot;&gt;&lt;del&gt;HIVE-3527&lt;/del&gt;&lt;/a&gt; Allow CREATE TABLE LIKE command to take TBLPROPERTIES&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1438896)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438896&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438896&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableLikeDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/create_like_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_like_tbl_props.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563702" author="hudson" created="Sun, 27 Jan 2013 01:19:42 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #89 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/89/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/89/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3527&quot; title=&quot;Allow CREATE TABLE LIKE command to take TBLPROPERTIES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3527&quot;&gt;&lt;del&gt;HIVE-3527&lt;/del&gt;&lt;/a&gt; Allow CREATE TABLE LIKE command to take TBLPROPERTIES&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1438896)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438896&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438896&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableLikeDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/create_like_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_like_tbl_props.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563711" author="hudson" created="Sun, 27 Jan 2013 02:26:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1938 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1938/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1938/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3527&quot; title=&quot;Allow CREATE TABLE LIKE command to take TBLPROPERTIES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3527&quot;&gt;&lt;del&gt;HIVE-3527&lt;/del&gt;&lt;/a&gt; Allow CREATE TABLE LIKE command to take TBLPROPERTIES&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1438896)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438896&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438896&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableLikeDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/create_like_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_like_tbl_props.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547617" name="HIVE-3527.1.patch.txt" size="14559" author="kevinwilfong" created="Wed, 3 Oct 2012 22:35:41 +0000"/>
                            <attachment id="12561366" name="HIVE-3527.3.patch.txt" size="14563" author="kevinwilfong" created="Mon, 17 Dec 2012 22:41:55 +0000"/>
                            <attachment id="12566586" name="HIVE-3527.4.patch.txt" size="14563" author="kevinwilfong" created="Sat, 26 Jan 2013 00:40:14 +0000"/>
                            <attachment id="12547702" name="HIVE-3527.D5883.1.patch" size="14324" author="phabricator@reviews.facebook.net" created="Thu, 4 Oct 2012 09:11:07 +0000"/>
                            <attachment id="12549348" name="hive.3527.2.patch" size="14563" author="namit" created="Tue, 16 Oct 2012 17:32:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Oct 2012 08:28:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240242</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00ypb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3528] Avro SerDe doesn&apos;t handle serializing Nullable types that require access to a Schema</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3528</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Deserialization properly handles hiding Nullable Avro types, including complex types like record, map, array, etc. However, when Serialization attempts to write out these types it erroneously makes use of the UNION schema that contains NULL and the other type.&lt;/p&gt;

&lt;p&gt;This results in Schema mis-match errors for Record, Array, Enum, Fixed, and Bytes.&lt;/p&gt;

&lt;p&gt;Here&apos;s a &lt;a href=&quot;https://reviews.apache.org/r/7431/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;review board of unit tests that express the problem&lt;/a&gt;, as well as one that supports the case that it&apos;s only when the schema is needed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610154">HIVE-3528</key>
            <summary>Avro SerDe doesn&apos;t handle serializing Nullable types that require access to a Schema</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="busbey">Sean Busbey</assignee>
                                    <reporter username="busbey">Sean Busbey</reporter>
                        <labels>
                            <label>avro</label>
                    </labels>
                <created>Wed, 3 Oct 2012 22:52:18 +0000</created>
                <updated>Thu, 16 May 2013 21:10:08 +0000</updated>
                            <resolved>Fri, 25 Jan 2013 17:25:30 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13470108" author="busbey" created="Fri, 5 Oct 2012 08:40:55 +0000"  >&lt;p&gt;Patch with proposed fix and unit tests. Also on &lt;a href=&quot;https://reviews.apache.org/r/7431/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;review board #7431&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13470635" author="jghoman" created="Fri, 5 Oct 2012 20:44:01 +0000"  >&lt;p&gt;This looks good.  Let me test the patch.&lt;/p&gt;</comment>
                            <comment id="13472023" author="jghoman" created="Tue, 9 Oct 2012 01:08:32 +0000"  >&lt;p&gt;Looks good.  Added a couple comments to reviewboard.  Also, it would be great to add a .q test that the Avro Serde can handle null records (with a proper nullable Avro schema) from other formats from Hive.  Had meant to do that during the Apachification.  If you&apos;d like to add that to this patch, that&apos;d be great.  If not, I&apos;ll spin up a quick test after this gets committed.  &lt;/p&gt;</comment>
                            <comment id="13480056" author="busbey" created="Fri, 19 Oct 2012 14:32:37 +0000"  >&lt;p&gt;FYI, I&apos;m working on the .q test, just building off of the example &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AvroSerDe+-+working+with+Avro+from+Hive&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;on the using the Avro Serde page&lt;/a&gt;. Ran into some difficulty, trying to work back from the test logs to figure out what I&apos;m doing wrong.&lt;/p&gt;</comment>
                            <comment id="13480115" author="jghoman" created="Fri, 19 Oct 2012 16:35:18 +0000"  >&lt;p&gt;Great.  Happy to help either here or email me.&lt;/p&gt;</comment>
                            <comment id="13542533" author="busbey" created="Wed, 2 Jan 2013 23:13:56 +0000"  >&lt;p&gt;Update with clientpositive .q test and subsumed enum handling (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3538&quot; title=&quot;Avro SerDe can&amp;#39;t handle Nullable Enums&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3538&quot;&gt;&lt;del&gt;HIVE-3538&lt;/del&gt;&lt;/a&gt;) to &lt;a href=&quot;https://reviews.apache.org/r/7431/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;review board #7431&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13547431" author="jghoman" created="Tue, 8 Jan 2013 23:46:12 +0000"  >&lt;p&gt;Did a review on rb, but it doesn&apos;t seem to be showing up.  +1.  Great tests.&lt;/p&gt;</comment>
                            <comment id="13548953" author="jghoman" created="Wed, 9 Jan 2013 20:25:14 +0000"  >&lt;p&gt;Sean, can you attach the RB patch to the JIRA?&lt;/p&gt;</comment>
                            <comment id="13548999" author="busbey" created="Wed, 9 Jan 2013 21:04:39 +0000"  >&lt;p&gt;Updated patch from review board.&lt;/p&gt;</comment>
                            <comment id="13562323" author="ashutoshc" created="Fri, 25 Jan 2013 03:14:55 +0000"  >&lt;p&gt;+1 running tests.&lt;/p&gt;</comment>
                            <comment id="13562850" author="ashutoshc" created="Fri, 25 Jan 2013 17:25:30 +0000"  >&lt;p&gt;Thanks, Sean for fix. Thanks, Jakob for review!&lt;/p&gt;</comment>
                            <comment id="13562871" author="jghoman" created="Fri, 25 Jan 2013 17:47:46 +0000"  >&lt;p&gt;If there&apos;s a 10.1 release, it&apos;d be good to get this in there.  Can it be committed to the 10 branch?&lt;/p&gt;</comment>
                            <comment id="13562909" author="hudson" created="Fri, 25 Jan 2013 18:59:26 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #43 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/43/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/43/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3528&quot; title=&quot;Avro SerDe doesn&amp;#39;t handle serializing Nullable types that require access to a Schema&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3528&quot;&gt;&lt;del&gt;HIVE-3528&lt;/del&gt;&lt;/a&gt; : Avro SerDe doesn&apos;t handle serializing Nullable types that require access to a Schema (Sean Busbey via Ashutosh Chauhan) (Revision 1438599)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438599&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438599&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/avro_nullable_fields.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_nullable_fields.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroObjectInspectorGenerator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroSerializer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563504" author="hudson" created="Sat, 26 Jan 2013 14:38:44 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #88 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/88/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/88/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3528&quot; title=&quot;Avro SerDe doesn&amp;#39;t handle serializing Nullable types that require access to a Schema&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3528&quot;&gt;&lt;del&gt;HIVE-3528&lt;/del&gt;&lt;/a&gt; : Avro SerDe doesn&apos;t handle serializing Nullable types that require access to a Schema (Sean Busbey via Ashutosh Chauhan) (Revision 1438599)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438599&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438599&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/avro_nullable_fields.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_nullable_fields.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroObjectInspectorGenerator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroSerializer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13563524" author="hudson" created="Sat, 26 Jan 2013 15:36:00 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1937 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1937/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1937/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3528&quot; title=&quot;Avro SerDe doesn&amp;#39;t handle serializing Nullable types that require access to a Schema&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3528&quot;&gt;&lt;del&gt;HIVE-3528&lt;/del&gt;&lt;/a&gt; : Avro SerDe doesn&apos;t handle serializing Nullable types that require access to a Schema (Sean Busbey via Ashutosh Chauhan) (Revision 1438599)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438599&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1438599&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/avro_nullable_fields.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_nullable_fields.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroObjectInspectorGenerator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroSerializer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13578523" author="michaelmalak" created="Thu, 14 Feb 2013 17:48:03 +0000"  >&lt;p&gt;I&apos;ve tried the latest Avro SerDe from GitHub, and it allows me to write NULLs with a simple schema, but not with anything involving STRUCTs.  If a STRUCT contains NULLable fields, or the entire STRUCT is NULLable (optional), Hive throws exceptions.  Should I create new JIRA item(s)?&lt;/p&gt;</comment>
                            <comment id="13578534" author="busbey" created="Thu, 14 Feb 2013 18:05:30 +0000"  >&lt;p&gt;Hi Michael,&lt;/p&gt;

&lt;p&gt;Do you mean &lt;a href=&quot;https://github.com/jghoman/haivvreo&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Haivvreo&lt;/a&gt;? I don&apos;t believe this fix has been backported. Issues with that project should be filed &lt;a href=&quot;https://github.com/jghoman/haivvreo/issues&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;against its issue tracker&lt;/a&gt;. I believe that project is only maintained on a best effort basis now, in favor of the integrated support within Hive.&lt;/p&gt;</comment>
                            <comment id="13578538" author="michaelmalak" created="Thu, 14 Feb 2013 18:11:16 +0000"  >&lt;p&gt;Sean:&lt;/p&gt;

&lt;p&gt;I mean&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/hive/tree/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/tree/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;which has:&lt;br/&gt;
	AvroSerializer.java	20 days ago	&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3528&quot; title=&quot;Avro SerDe doesn&amp;#39;t handle serializing Nullable types that require access to a Schema&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3528&quot;&gt;&lt;del&gt;HIVE-3528&lt;/del&gt;&lt;/a&gt; : Avro SerDe doesn&apos;t handle serializing Nullable types that&lt;/p&gt;</comment>
                            <comment id="13578545" author="busbey" created="Thu, 14 Feb 2013 18:23:02 +0000"  >&lt;p&gt;In that case, since 0.11 hasn&apos;t gone out yet, either including error information here or starting another JIRA is fine.&lt;/p&gt;

&lt;p&gt;I&apos;d recommend including the error information here until we can determine if your problem is the one that this patch is supposed to fix.&lt;/p&gt;</comment>
                            <comment id="13578783" author="michaelmalak" created="Thu, 14 Feb 2013 22:56:59 +0000"  >&lt;p&gt;Sean:&lt;/p&gt;

&lt;p&gt;OK, I&apos;ve researched the problem further.&lt;/p&gt;

&lt;p&gt;There is in fact a null-struct test case in line 14 of&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/hive/blob/15cc604bf10f4c2502cb88fb8bb3dcd45647cf2c/data/files/csv.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/15cc604bf10f4c2502cb88fb8bb3dcd45647cf2c/data/files/csv.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The test script at&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/hive/blob/12d6f3e7d21f94e8b8490b7c6d291c9f4cac8a4f/ql/src/test/queries/clientpositive/avro_nullable_fields.q&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/12d6f3e7d21f94e8b8490b7c6d291c9f4cac8a4f/ql/src/test/queries/clientpositive/avro_nullable_fields.q&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;does indeed work when I tested it locally.  But in that test, the query gets all of its data from a test table verbatim:&lt;/p&gt;

&lt;p&gt;INSERT OVERWRITE TABLE as_avro SELECT * FROM test_serializer;&lt;/p&gt;

&lt;p&gt;If instead we stick in a hard-coded null for the struct directly into the query, it fails:&lt;/p&gt;

&lt;p&gt;INSERT OVERWRITE TABLE as_avro SELECT string1, int1, tinyint1, smallint1, bigint1, boolean1, float1, double1, list1, map1, null, enum1, nullableint, bytes1, fixed1 FROM test_serializer;&lt;/p&gt;

&lt;p&gt;with the following error:&lt;/p&gt;

&lt;p&gt;FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10044&amp;#93;&lt;/span&gt;: Line 1:23 Cannot insert into target table because column number/types are different &apos;as_avro&apos;: Cannot convert column 10 from void to struct&amp;lt;sint:int,sboolean:boolean,sstring:string&amp;gt;.&lt;/p&gt;

&lt;p&gt;Note, though, that substituting a hard-coded null for string1 (and restoring struct1 to the query) does work:&lt;/p&gt;

&lt;p&gt;INSERT OVERWRITE TABLE as_avro SELECT null, int1, tinyint1, smallint1, bigint1, boolean1, float1, double1, list1, map1, struct1, enum1, nullableint, bytes1, fixed1 FROM test_serializer;&lt;/p&gt;

&lt;p&gt;I will be entering an all-new JIRA for this.&lt;/p&gt;</comment>
                            <comment id="13582617" author="fwiffo" created="Wed, 20 Feb 2013 22:48:15 +0000"  >&lt;p&gt;Hey Michael,&lt;/p&gt;

&lt;p&gt;As a work around, did you try casting the null to the type of the column that you&apos;re inserting into? It&apos;s not ideal, but might be a workable interim solution.&lt;/p&gt;

&lt;p&gt;-Joey&lt;/p&gt;</comment>
                            <comment id="13582664" author="michaelmalak" created="Wed, 20 Feb 2013 23:35:22 +0000"  >&lt;p&gt;As noted in the first comment from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1287&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1287&lt;/a&gt;, casting to a STRUCT is not currently supported.&lt;/p&gt;

&lt;p&gt;However, I did just now try casting individual fields of a STRUCT and that indeed does work.&lt;/p&gt;

&lt;p&gt;I just now added details to the JIRA that I created last week.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4022&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-4022&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547889" name="HIVE-3528.1.patch.txt" size="10654" author="busbey" created="Fri, 5 Oct 2012 08:40:55 +0000"/>
                            <attachment id="12564039" name="HIVE-3528.2.patch.txt" size="40724" author="busbey" created="Wed, 9 Jan 2013 21:04:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 5 Oct 2012 20:44:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240664</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i014ef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4482</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3529] Incorrect partition bucket/sort metadata when overwriting partition with different metadata from table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3529</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If you have a partition with bucket/sort metadata set, then you alter the table to have different bucket/sort metadata, and insert overwrite the partition with hive.enforce.bucketing=true and/or hive.enforce.sorting=true, the partition data will be bucketed/sorted by the table&apos;s metadata, but the partition will have the same metadata.&lt;/p&gt;

&lt;p&gt;This could result in wrong results.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610172">HIVE-3529</key>
            <summary>Incorrect partition bucket/sort metadata when overwriting partition with different metadata from table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Oct 2012 00:51:08 +0000</created>
                <updated>Thu, 10 Jan 2013 19:52:57 +0000</updated>
                            <resolved>Mon, 29 Oct 2012 15:26:06 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13469067" author="kevinwilfong" created="Thu, 4 Oct 2012 01:36:28 +0000"  >&lt;p&gt;My proposed fix is to by default always overwrite the partition&apos;s bucket/sorting metadata with that of the table when overwriting a table.  My main motivation for doing this vs. using the partition&apos;s metadata is dynamic partitions.  The potential for having to manage maintaining all the different bucket/sorting schemes across several partitions which are overwritten dynamically sounds like a new feature rather than a bug fix, and could be done in a separate JIRA.&lt;/p&gt;</comment>
                            <comment id="13479239" author="kevinwilfong" created="Thu, 18 Oct 2012 18:54:12 +0000"  >&lt;p&gt;Also, the serde parameters are wrong as well.&lt;/p&gt;</comment>
                            <comment id="13479253" author="kevinwilfong" created="Thu, 18 Oct 2012 19:03:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6087&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6087&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13479254" author="kevinwilfong" created="Thu, 18 Oct 2012 19:03:19 +0000"  >&lt;p&gt;The following information is now copied from the table to the partition when writing to an existing partition:&lt;br/&gt;
bucket columns&lt;br/&gt;
bucket number&lt;br/&gt;
sort columns/orders&lt;br/&gt;
serde parameters&lt;/p&gt;</comment>
                            <comment id="13485942" author="namit" created="Mon, 29 Oct 2012 10:37:48 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13486080" author="namit" created="Mon, 29 Oct 2012 15:26:06 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13486502" author="hudson" created="Mon, 29 Oct 2012 23:36:33 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1763 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1763/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1763/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3529&quot; title=&quot;Incorrect partition bucket/sort metadata when overwriting partition with different metadata from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3529&quot;&gt;&lt;del&gt;HIVE-3529&lt;/del&gt;&lt;/a&gt; Incorrect partition bucket/sort metadata when overwriting partition with different metadata from table&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1403363)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1403363&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1403363&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/alter_numbuckets_partitioned_table2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/alter_table_serde2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_numbuckets_partitioned_table.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_numbuckets_partitioned_table2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_table_serde2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548004" author="hudson" created="Wed, 9 Jan 2013 10:23:55 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3529&quot; title=&quot;Incorrect partition bucket/sort metadata when overwriting partition with different metadata from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3529&quot;&gt;&lt;del&gt;HIVE-3529&lt;/del&gt;&lt;/a&gt; Incorrect partition bucket/sort metadata when overwriting partition with different metadata from table&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1403363)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1403363&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1403363&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/alter_numbuckets_partitioned_table2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/alter_table_serde2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_numbuckets_partitioned_table.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_numbuckets_partitioned_table2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_table_serde2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13549990" author="ashutoshc" created="Thu, 10 Jan 2013 19:52:57 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12549735" name="HIVE-3529.1.patch.txt" size="92580" author="kevinwilfong" created="Thu, 18 Oct 2012 19:03:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Oct 2012 10:37:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i013zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4417</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3530] warnings in Hive.g</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3530</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;     Building Grammar /Users/njain/hive/hive3/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g  ....&lt;br/&gt;
     ANTLR Parser Generator  Version 3.0.1 (August 13, 2007)  1989-2007&lt;br/&gt;
     warning(200): /Users/njain/hive/hive3/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g:578:5: Decision can match input such as &quot;Identifier KW_RENAME KW_TO&quot; using multiple alternatives: 1, 10&lt;br/&gt;
     As a result, alternative(s) 10 were disabled for that input&lt;br/&gt;
     warning(200): /Users/njain/hive/hive3/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g:1607:5: Decision can m&lt;br/&gt;
atch input such as &quot;Identifier DOT Identifier&quot; using multiple alternatives: 1, 2&lt;br/&gt;
     As a result, alternative(s) 2 were disabled for that input&lt;br/&gt;
     warning(200): /Users/njain/hive/hive3/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g:1823:5: Decision can match input such as &quot;KW_ORDER KW_BY LPAREN&quot; using multiple alternatives: 1, 2&lt;br/&gt;
     As a result, alternative(s) 2 were disabled for that input&lt;br/&gt;
     warning(200): /Users/njain/hive/hive3/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g:1836:5: Decision can match input such as &quot;KW_CLUSTER KW_BY LPAREN&quot; using multiple alternatives: 1, 2&lt;br/&gt;
     As a result, alternative(s) 2 were disabled for that input&lt;br/&gt;
     warning(200): /Users/njain/hive/hive3/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g:1848:5: Decision can match input such as &quot;KW_DISTRIBUTE KW_BY LPAREN&quot; using multiple alternatives: 1, 2&lt;br/&gt;
     As a result, alternative(s) 2 were disabled for that input&lt;br/&gt;
     warning(200): /Users/njain/hive/hive3/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g:1859:5: Decision can match input such as &quot;KW_SORT KW_BY LPAREN&quot; using multiple alternatives: 1, 2&lt;br/&gt;
     As a result, alternative(s) 2 were disabled for that input&lt;/p&gt;


&lt;p&gt;Most of these seem to be due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1367&quot; title=&quot;cluster by multiple columns does not work if parenthesis is present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1367&quot;&gt;&lt;del&gt;HIVE-1367&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610191">HIVE-3530</key>
            <summary>warnings in Hive.g</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Oct 2012 05:20:29 +0000</created>
                <updated>Thu, 4 Oct 2012 17:29:16 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13469160" author="namit" created="Thu, 4 Oct 2012 05:22:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhenxiao&quot; class=&quot;user-hover&quot; rel=&quot;zhenxiao&quot;&gt;Zhenxiao Luo&lt;/a&gt;, can you take a look if possible ?&lt;/p&gt;</comment>
                            <comment id="13469528" author="zhenxiao" created="Thu, 4 Oct 2012 17:29:13 +0000"  >&lt;p&gt;Sure. I will take a look.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Oct 2012 17:29:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240547</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0139r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4299</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3531] Simple lock manager for dedicated hive server</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3531</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In many cases, we uses hive server as a sole proxy for executing all the queries. For that, current default lock manager based on zookeeper seemed a little heavy. Simple in-memory lock manager could be enough.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610195">HIVE-3531</key>
            <summary>Simple lock manager for dedicated hive server</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Oct 2012 06:44:18 +0000</created>
                <updated>Thu, 16 May 2013 21:10:15 +0000</updated>
                            <resolved>Wed, 28 Nov 2012 08:54:34 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Locking</component>
                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13469192" author="phabricator@reviews.facebook.net" created="Thu, 4 Oct 2012 06:47:07 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3531&quot; title=&quot;Simple lock manager for dedicated hive server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3531&quot;&gt;&lt;del&gt;HIVE-3531&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Simple lock manager for dedicated hive server&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1906 Implement simple lock manager for hive server&lt;/p&gt;

&lt;p&gt;  In many cases, we uses hive server as a sole proxy for executing all the queries. For that, current default lock manager based on zookeeper seemed a little heavy. Simple in-memory lock manager could be enough.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  TestDedicatedLockManager&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DedicatedLockManager.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/InMemoryLockManager.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/lockmgr/TestDedicatedLockManager.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/13923/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/13923/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13469550" author="appodictic" created="Thu, 4 Oct 2012 17:52:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Interesting.  I do know that the locking does not work well with thrift service currently as I have had issues with it. &lt;/p&gt;

&lt;p&gt;What is your use case for this? Why would you want a lock manager that does not actually work? One possibility is that it may be much nicer to make this the default for unit tests, but other then that I can not think of one.&lt;/p&gt;</comment>
                            <comment id="13469552" author="cwsteinbach" created="Thu, 4 Oct 2012 17:55:47 +0000"  >&lt;p&gt;@Navis: This is awesome. We were planning to write something like this for HiveServer2, but you beat us to it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll try to review this in the next day or so. Thanks!&lt;/p&gt;</comment>
                            <comment id="13469558" author="appodictic" created="Thu, 4 Oct 2012 18:01:08 +0000"  >&lt;p&gt;@Carl Why? See my comments above. I am worried about code bloat in hive (No offense Navis your code is great). What is the case for having a lock manager that only does half the things a lock manager is supposed to do?&lt;/p&gt;</comment>
                            <comment id="13469559" author="appodictic" created="Thu, 4 Oct 2012 18:01:45 +0000"  >&lt;p&gt;Why wouldnt I just want to turn that off?&lt;/p&gt;</comment>
                            <comment id="13469857" author="navis" created="Fri, 5 Oct 2012 00:08:17 +0000"  >&lt;p&gt;@Edward: As stated in description, we delegates execution of all the queries to a single hive server. In this case, external lock manager like a zookeeper could be used but it&apos;s not required thing. But it does not mean locking itself is not needed. Multiple queries could be executed concurrently and still need a appropriate locking system. &lt;/p&gt;

&lt;p&gt;I didn&apos;t think of locking mechanism of hive deeply yet. It&apos;s just in-memory version of zookeeper lock manager. The part &quot;locking does not working well&quot; in your comment should be an another issue.&lt;/p&gt;</comment>
                            <comment id="13497827" author="cwsteinbach" created="Thu, 15 Nov 2012 07:59:42 +0000"  >&lt;p&gt;@Navis: I added some comments on phabricator. Please take a look when you have time. Thanks.&lt;/p&gt;</comment>
                            <comment id="13497830" author="phabricator@reviews.facebook.net" created="Thu, 15 Nov 2012 08:00:11 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3531&quot; title=&quot;Simple lock manager for dedicated hive server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3531&quot;&gt;&lt;del&gt;HIVE-3531&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Simple lock manager for dedicated hive server&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/lockmgr/TestDedicatedLockManager.java:1 Missing ASF license header.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DedicatedLockManager.java:25 Please consider changing the name to EmbeddedLockManager.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/DedicatedLockManager.java:27 I&apos;m not sure that creating a separate class for the InMemoryLockManager code makes sense. Please consider removing InMemoryLockManager and moving that code here.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/InMemoryLockManager.java:145 Please log this exception.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1906&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, navis&lt;/p&gt;</comment>
                            <comment id="13503582" author="phabricator@reviews.facebook.net" created="Mon, 26 Nov 2012 00:48:57 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3531&quot; title=&quot;Simple lock manager for dedicated hive server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3531&quot;&gt;&lt;del&gt;HIVE-3531&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Simple lock manager for dedicated hive server&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Addressed comments &amp;amp; rebased to trunk&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockManager.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/lockmgr/TestEmbeddedLockManager.java&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, navis&lt;/p&gt;</comment>
                            <comment id="13503583" author="phabricator@reviews.facebook.net" created="Mon, 26 Nov 2012 00:50:57 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3531&quot; title=&quot;Simple lock manager for dedicated hive server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3531&quot;&gt;&lt;del&gt;HIVE-3531&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Simple lock manager for dedicated hive server&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed comments. And i think default values for this needed to be tuned.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, navis&lt;/p&gt;</comment>
                            <comment id="13503654" author="phabricator@reviews.facebook.net" created="Mon, 26 Nov 2012 08:04:57 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3531&quot; title=&quot;Simple lock manager for dedicated hive server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3531&quot;&gt;&lt;del&gt;HIVE-3531&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Simple lock manager for dedicated hive server&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/lockmgr/TestEmbeddedLockManager.java:1 Please add an ASF license header.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1906&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, navis&lt;/p&gt;</comment>
                            <comment id="13503655" author="cwsteinbach" created="Mon, 26 Nov 2012 08:05:13 +0000"  >&lt;p&gt;@Navis: Can you please add an ASF license header to TestEmbeddedLockManager? Looks good otherwise.&lt;/p&gt;</comment>
                            <comment id="13503739" author="phabricator@reviews.facebook.net" created="Mon, 26 Nov 2012 11:26:57 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3531&quot; title=&quot;Simple lock manager for dedicated hive server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3531&quot;&gt;&lt;del&gt;HIVE-3531&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Simple lock manager for dedicated hive server&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/lockmgr/TestEmbeddedLockManager.java:1 I remember I&apos;ve added it, but missed again. Sorry.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1906&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, navis&lt;/p&gt;</comment>
                            <comment id="13503775" author="phabricator@reviews.facebook.net" created="Mon, 26 Nov 2012 13:22:57 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3531&quot; title=&quot;Simple lock manager for dedicated hive server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3531&quot;&gt;&lt;del&gt;HIVE-3531&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Simple lock manager for dedicated hive server&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  added ASF header. sorry again&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockManager.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/lockmgr/TestEmbeddedLockManager.java&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, navis&lt;/p&gt;</comment>
                            <comment id="13504040" author="cwsteinbach" created="Mon, 26 Nov 2012 19:55:39 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13504044" author="phabricator@reviews.facebook.net" created="Mon, 26 Nov 2012 19:56:57 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3531&quot; title=&quot;Simple lock manager for dedicated hive server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3531&quot;&gt;&lt;del&gt;HIVE-3531&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Simple lock manager for dedicated hive server&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1906&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, navis&lt;/p&gt;</comment>
                            <comment id="13505310" author="cwsteinbach" created="Wed, 28 Nov 2012 08:54:34 +0000"  >&lt;p&gt;Committed to trunk. Thanks Navis!&lt;/p&gt;</comment>
                            <comment id="13505315" author="phabricator@reviews.facebook.net" created="Wed, 28 Nov 2012 09:00:57 +0000"  >&lt;p&gt;navis has closed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3531&quot; title=&quot;Simple lock manager for dedicated hive server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3531&quot;&gt;&lt;del&gt;HIVE-3531&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Simple lock manager for dedicated hive server&quot;.&lt;/p&gt;

&lt;p&gt;  Closed by cws.&lt;/p&gt;

&lt;p&gt;CHANGED PRIOR TO COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5871?vs=22401&amp;amp;id=22593#differential-review-toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5871?vs=22401&amp;amp;id=22593#differential-review-toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1414590&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1414590&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, navis&lt;/p&gt;</comment>
                            <comment id="13505431" author="hudson" created="Wed, 28 Nov 2012 13:02:43 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1822 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1822/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1822/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3531&quot; title=&quot;Simple lock manager for dedicated hive server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3531&quot;&gt;&lt;del&gt;HIVE-3531&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Simple lock manager for dedicated hive server&lt;br/&gt;
(Navis Ryu via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
DPAL-1906 Implement simple lock manager for hive server&lt;/p&gt;

&lt;p&gt;In many cases, we uses hive server as a sole proxy for executing all the queries. For that, current default lock manager based on zookeeper seemed a little heavy. Simple in-memory lock manager could be enough.&lt;/p&gt;

&lt;p&gt;Test Plan: TestDedicatedLockManager&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D5871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5871&lt;/a&gt; (Revision 1414590)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414590&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414590&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/lockmgr&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/lockmgr/TestEmbeddedLockManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548001" author="hudson" created="Wed, 9 Jan 2013 10:23:55 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3531&quot; title=&quot;Simple lock manager for dedicated hive server&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3531&quot;&gt;&lt;del&gt;HIVE-3531&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Simple lock manager for dedicated hive server&lt;br/&gt;
(Navis Ryu via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
DPAL-1906 Implement simple lock manager for hive server&lt;/p&gt;

&lt;p&gt;In many cases, we uses hive server as a sole proxy for executing all the queries. For that, current default lock manager based on zookeeper seemed a little heavy. Simple in-memory lock manager could be enough.&lt;/p&gt;

&lt;p&gt;Test Plan: TestDedicatedLockManager&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D5871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5871&lt;/a&gt; (Revision 1414590)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414590&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414590&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/lockmgr&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/lockmgr/TestEmbeddedLockManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547689" name="HIVE-3531.D5871.1.patch" size="21798" author="phabricator@reviews.facebook.net" created="Thu, 4 Oct 2012 06:47:07 +0000"/>
                            <attachment id="12554811" name="HIVE-3531.D5871.2.patch" size="20626" author="phabricator@reviews.facebook.net" created="Mon, 26 Nov 2012 00:48:57 +0000"/>
                            <attachment id="12554848" name="HIVE-3531.D5871.3.patch" size="21452" author="phabricator@reviews.facebook.net" created="Mon, 26 Nov 2012 13:22:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 4 Oct 2012 06:47:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240577</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i013nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3532] ALTER TABLE SET LOCATION can be used to circumvent authorization checks</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3532</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12610353">HIVE-3532</key>
            <summary>ALTER TABLE SET LOCATION can be used to circumvent authorization checks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Oct 2012 16:27:58 +0000</created>
                <updated>Thu, 4 Oct 2012 16:27:58 +0000</updated>
                                                                            <component>Authorization</component>
                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240481</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i011x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4077</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3533] ZooKeeperHiveLockManager does not respect the option to keep locks alive even after the current session has closed</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3533</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The HiveLockManager interface defines the following method:&lt;/p&gt;

&lt;p&gt;public List&amp;lt;HiveLock&amp;gt; lock(List&amp;lt;HiveLockObj&amp;gt; objs,&lt;br/&gt;
      boolean keepAlive) throws LockException;&lt;/p&gt;

&lt;p&gt;ZooKeeperHiveLockManager implements HiveLockManager, but the current implementation of the &quot;lock&quot; method never actually references the &quot;keepAlive&quot; parameter.  As a result, all of the locks acquired by the &quot;lock&quot; method are ephemeral.  In other words, Zookeeper-based locks only exist as long as the underlying Zookeeper session exists.  As soon as the Zookeeper session ends, any Zookeeper-based locks are automatically released.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610374">HIVE-3533</key>
            <summary>ZooKeeperHiveLockManager does not respect the option to keep locks alive even after the current session has closed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="matt.martin">Matt Martin</assignee>
                                    <reporter username="matt.martin">Matt Martin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Oct 2012 19:17:16 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:05 +0000</updated>
                            <resolved>Sat, 6 Oct 2012 12:30:26 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Locking</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13469618" author="matt.martin" created="Thu, 4 Oct 2012 19:22:36 +0000"  >&lt;p&gt;Uploading the very simple patch for this issue.  Replacing the hardcoded value of &quot;false&quot; with the boolean parameter &quot;keepAlive&quot;.&lt;/p&gt;</comment>
                            <comment id="13470234" author="namit" created="Fri, 5 Oct 2012 11:37:55 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13470985" author="namit" created="Sat, 6 Oct 2012 12:30:26 +0000"  >&lt;p&gt;Committed. Thanks Matt&lt;/p&gt;</comment>
                            <comment id="13471098" author="hudson" created="Sat, 6 Oct 2012 21:20:32 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1726 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1726/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1726/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3533&quot; title=&quot;ZooKeeperHiveLockManager does not respect the option to keep locks alive even after the current session has closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3533&quot;&gt;&lt;del&gt;HIVE-3533&lt;/del&gt;&lt;/a&gt; ZooKeeperHiveLockManager does not respect the option to keep locks alive even after&lt;br/&gt;
the current session has closed (Matt Martin via namit) (Revision 1395026)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395026&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395026&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548002" author="hudson" created="Wed, 9 Jan 2013 10:23:55 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3533&quot; title=&quot;ZooKeeperHiveLockManager does not respect the option to keep locks alive even after the current session has closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3533&quot;&gt;&lt;del&gt;HIVE-3533&lt;/del&gt;&lt;/a&gt; ZooKeeperHiveLockManager does not respect the option to keep locks alive even after&lt;br/&gt;
the current session has closed (Matt Martin via namit) (Revision 1395026)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395026&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395026&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550025" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:05 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547803" name="HIVE-3533.1.patch.txt" size="828" author="matt.martin" created="Thu, 4 Oct 2012 19:22:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 5 Oct 2012 11:37:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240720</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0153r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4596</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3534] Add left Lateral view syntax</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3534</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A lateral view is like a join and if the function in question (like explode()) produces zero rows then you lose the row&lt;br/&gt;
whereas conceivably you could keep the row and just fill all entry with nulls.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610394">HIVE-3534</key>
            <summary>Add left Lateral view syntax</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Oct 2012 20:51:48 +0000</created>
                <updated>Sat, 6 Jul 2013 20:52:55 +0000</updated>
                            <resolved>Thu, 4 Jul 2013 18:09:21 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13659184" author="appodictic" created="Thu, 16 May 2013 03:24:21 +0000"  >&lt;p&gt;This patch adds a left explode UDF. Works like a left join in that if the thing being exploded is empty it returns NULL so the right row matches with something.&lt;/p&gt;</comment>
                            <comment id="13665011" author="navis" created="Thu, 23 May 2013 08:54:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=appodictic&quot; class=&quot;user-hover&quot; rel=&quot;appodictic&quot;&gt;Edward Capriolo&lt;/a&gt; Interesting. How about make a grammar something like OUTER LATERAL VIEW, which could be used more generic with all other UDTFs?&lt;/p&gt;</comment>
                            <comment id="13665247" author="appodictic" created="Thu, 23 May 2013 15:03:46 +0000"  >&lt;p&gt;I did consider that. I have never actually added anything to hive grammar also not skilled on developing query parsers/planners. I would like to add this UDF and possibly do what you are suggesting as a follow up, but I could use someone to guide me through it.&lt;/p&gt;</comment>
                            <comment id="13700273" author="appodictic" created="Thu, 4 Jul 2013 18:09:21 +0000"  >&lt;p&gt;OUTER LATERAL VIEW added to the language.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12649508">HIVE-4614</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12583424" name="hive-3534.diff.txt" size="7610" author="appodictic" created="Thu, 16 May 2013 03:23:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 23 May 2013 08:54:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241440</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i027vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10879</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3535] derby metastore upgrade script throw errors when updating from 0.7 to 0.8</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3535</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;$DERBY_HOME/bin/ij upgrade.sql&lt;br/&gt;
ij version 10.4&lt;br/&gt;
ij&amp;gt; CONNECT &apos;jdbc:derby:/var/lib/hive/metastore/metastore_db&apos;;&lt;br/&gt;
ij&amp;gt; RUN &apos;/usr/lib/hive/scripts/metastore/upgrade/derby/upgrade-0.7.0-to-0.8.0.derby.sql&apos;;&lt;br/&gt;
ij&amp;gt; &amp;#8211; Upgrade MetaStore schema from 0.7.0 to 0.8.0&lt;br/&gt;
RUN &apos;008-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt;.derby.sql&apos;;&lt;br/&gt;
ij&amp;gt; /*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Creates the following tables:&lt;/li&gt;
	&lt;li&gt;- CDS&lt;/li&gt;
	&lt;li&gt;- COLUMNS_V2&lt;/li&gt;
	&lt;li&gt;The new columns table is called COLUMNS_V2&lt;/li&gt;
	&lt;li&gt;because many columns are removed, and the schema is changed.&lt;/li&gt;
	&lt;li&gt;It&apos;d take too long to migrate and keep the same table.&lt;br/&gt;
 */&lt;br/&gt;
CREATE TABLE &quot;CDS&quot; (&lt;br/&gt;
  &quot;CD_ID&quot; bigint NOT NULL,&lt;br/&gt;
  PRIMARY KEY (&quot;CD_ID&quot;)&lt;br/&gt;
);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; CREATE TABLE &quot;COLUMNS_V2&quot; (&lt;br/&gt;
  &quot;CD_ID&quot; bigint NOT NULL,&lt;br/&gt;
  &quot;COMMENT&quot; varchar(4000),&lt;br/&gt;
  &quot;COLUMN_NAME&quot; varchar(128) NOT NULL,&lt;br/&gt;
  &quot;TYPE_NAME&quot; varchar(4000),&lt;br/&gt;
  &quot;INTEGER_IDX&quot; INTEGER NOT NULL,&lt;br/&gt;
  PRIMARY KEY (&quot;CD_ID&quot;, &quot;COLUMN_NAME&quot;)&lt;br/&gt;
);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; ALTER TABLE &quot;COLUMNS_V2&quot; &lt;br/&gt;
  ADD CONSTRAINT &quot;COLUMNS_V2_FK1&quot;&lt;br/&gt;
  FOREIGN KEY (&quot;CD_ID&quot;) REFERENCES &quot;CDS&quot; (&quot;CD_ID&quot;)&lt;br/&gt;
  ON DELETE NO ACTION ON UPDATE NO ACTION&lt;br/&gt;
;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; /* Alter the SDS table to:&lt;/li&gt;
	&lt;li&gt;- add the column CD_ID&lt;/li&gt;
	&lt;li&gt;- add a foreign key on CD_ID&lt;/li&gt;
	&lt;li&gt;- create an index on CD_ID&lt;br/&gt;
 */ &lt;br/&gt;
ALTER TABLE SDS&lt;br/&gt;
  ADD COLUMN &quot;CD_ID&quot; bigint&lt;br/&gt;
;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; ALTER TABLE SDS&lt;br/&gt;
  ADD CONSTRAINT &quot;SDS_FK2&quot;&lt;br/&gt;
  FOREIGN KEY (&quot;CD_ID&quot;) REFERENCES &quot;CDS&quot; (&quot;CD_ID&quot;)&lt;br/&gt;
;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; /*&lt;/li&gt;
	&lt;li&gt;Migrate the TBLS table&lt;/li&gt;
	&lt;li&gt;Add entries into CDS.&lt;/li&gt;
	&lt;li&gt;Populate the CD_ID field in SDS for tables&lt;/li&gt;
	&lt;li&gt;Add entires to COLUMNS_V2 based on this table&apos;s sd&apos;s columns&lt;br/&gt;
 */ &lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;/* In the migration, there is a 1:1 mapping between CD_ID and SD_ID&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;for tables. For speed, just let CD_ID = SD_ID for tables&lt;br/&gt;
 */&lt;br/&gt;
INSERT INTO CDS (CD_ID)&lt;br/&gt;
SELECT t.SD_ID FROM TBLS t WHERE t.SD_ID IS NOT NULL ORDER BY t.SD_ID;&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;ORDER&quot; at line 13, column 54.&lt;br/&gt;
ij&amp;gt; UPDATE SDS&lt;br/&gt;
  SET CD_ID = SD_ID&lt;br/&gt;
WHERE SD_ID in &lt;br/&gt;
(SELECT t.SD_ID FROM TBLS t WHERE t.SD_ID IS NOT NULL ORDER BY t.SD_ID);&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;ORDER&quot; at line 4, column 55.&lt;br/&gt;
ij&amp;gt; INSERT INTO COLUMNS_V2&lt;br/&gt;
  (CD_ID, COMMENT, COLUMN_NAME, TYPE_NAME, INTEGER_IDX)&lt;br/&gt;
SELECT &lt;br/&gt;
  c.SD_ID, c.COMMENT, c.COLUMN_NAME, c.TYPE_NAME, c.INTEGER_IDX&lt;br/&gt;
FROM&lt;br/&gt;
  COLUMNS c&lt;br/&gt;
JOIN&lt;br/&gt;
  TBLS t&lt;br/&gt;
ON&lt;br/&gt;
  t.SD_ID = c.SD_ID&lt;br/&gt;
;&lt;br/&gt;
ERROR 23503: INSERT on table &apos;COLUMNS_V2&apos; caused a violation of foreign key constraint &apos;COLUMNS_V2_FK1&apos; for key (1).  The statement has been rolled back.&lt;br/&gt;
ij&amp;gt; /*&lt;/li&gt;
	&lt;li&gt;Migrate the partitions.&lt;/li&gt;
	&lt;li&gt;Update the partitions&apos; SDS to use the parent tables&apos; CD_ID  BEGIN&lt;/li&gt;
	&lt;li&gt;Derby does not allow joins in update statements,&lt;/li&gt;
	&lt;li&gt;so we have to make a temporary tableh&lt;br/&gt;
 */&lt;br/&gt;
DECLARE GLOBAL TEMPORARY TABLE &quot;TMP_TBL&quot; (&lt;br/&gt;
  &quot;SD_ID&quot; bigint not null,&lt;br/&gt;
  &quot;CD_ID&quot; bigint not null&lt;br/&gt;
) ON COMMIT PRESERVE ROWS NOT LOGGED;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; INSERT INTO &quot;SESSION&quot;.&quot;TMP_TBL&quot; SELECT&lt;br/&gt;
  p.SD_ID, sds.CD_ID&lt;br/&gt;
  FROM PARTITIONS p&lt;br/&gt;
  JOIN TBLS t ON t.TBL_ID = p.TBL_ID&lt;br/&gt;
  JOIN SDS sds on t.SD_ID = sds.SD_ID&lt;br/&gt;
  WHERE p.SD_ID IS NOT NULL;&lt;br/&gt;
ERROR 23502: Column &apos;CD_ID&apos;  cannot accept a NULL value.&lt;br/&gt;
ij&amp;gt; UPDATE SDS sd&lt;br/&gt;
  SET sd.CD_ID = &lt;br/&gt;
    (SELECT tt.CD_ID FROM SESSION.TMP_TBL tt WHERE tt.SD_ID = sd.SD_ID)&lt;br/&gt;
  WHERE sd.SD_ID IN (SELECT SD_ID FROM SESSION.TMP_TBL);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
WARNING 02000: No row was found for FETCH, UPDATE or DELETE; or the result of a query is an empty table.&lt;br/&gt;
ij&amp;gt; /*&lt;/li&gt;
	&lt;li&gt;Migrate IDXS&lt;br/&gt;
 */&lt;br/&gt;
INSERT INTO CDS (CD_ID)&lt;br/&gt;
SELECT i.SD_ID FROM IDXS i WHERE i.SD_ID IS NOT NULL ORDER BY i.SD_ID;&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;ORDER&quot; at line 5, column 54.&lt;br/&gt;
ij&amp;gt; UPDATE SDS&lt;br/&gt;
  SET CD_ID = SD_ID&lt;br/&gt;
WHERE SD_ID in &lt;br/&gt;
(SELECT i.SD_ID FROM IDXS i WHERE i.SD_ID IS NOT NULL ORDER BY i.SD_ID);&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;ORDER&quot; at line 4, column 55.&lt;br/&gt;
ij&amp;gt; INSERT INTO COLUMNS_V2&lt;br/&gt;
  (CD_ID, COMMENT, COLUMN_NAME, TYPE_NAME, INTEGER_IDX)&lt;br/&gt;
SELECT &lt;br/&gt;
  c.SD_ID, c.COMMENT, c.COLUMN_NAME, c.TYPE_NAME, c.INTEGER_IDX&lt;br/&gt;
FROM&lt;br/&gt;
  COLUMNS c&lt;br/&gt;
JOIN&lt;br/&gt;
  IDXS i&lt;br/&gt;
ON&lt;br/&gt;
  i.SD_ID = c.SD_ID&lt;br/&gt;
;&lt;br/&gt;
ERROR 42X05: Table/View &apos;IDXS&apos; does not exist.&lt;br/&gt;
ij&amp;gt; /*&lt;/li&gt;
	&lt;li&gt;rename the old COLUMNS table&lt;br/&gt;
 */&lt;br/&gt;
RENAME TABLE COLUMNS TO COLUMNS_OLD;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; RUN &apos;009-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2215&quot; title=&quot;Add api for marking / querying set of partitions for events&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2215&quot;&gt;&lt;del&gt;HIVE-2215&lt;/del&gt;&lt;/a&gt;.derby.sql&apos;;&lt;br/&gt;
ij&amp;gt; &amp;#8211; Table PARTITION_EVENTS for classes &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.hadoop.hive.metastore.model.MPartitionEvent&amp;#93;&lt;/span&gt;&lt;br/&gt;
CREATE TABLE PARTITION_EVENTS&lt;br/&gt;
(&lt;br/&gt;
    PART_NAME_ID BIGINT NOT NULL,&lt;br/&gt;
    DB_NAME VARCHAR(128),&lt;br/&gt;
    EVENT_TIME BIGINT NOT NULL,&lt;br/&gt;
    EVENT_TYPE INTEGER NOT NULL,&lt;br/&gt;
    PARTITION_NAME VARCHAR(767),&lt;br/&gt;
    TBL_NAME VARCHAR(128)&lt;br/&gt;
);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; ALTER TABLE PARTITION_EVENTS ADD CONSTRAINT PARTITION_EVENTS_PK PRIMARY KEY (PART_NAME_ID);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;7 Errors in the middle:&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;ORDER&quot; at line 13, column 54.&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;ORDER&quot; at line 4, column 55.&lt;br/&gt;
ERROR 23503: INSERT on table &apos;COLUMNS_V2&apos; caused a violation of foreign key constraint &apos;COLUMNS_V2_FK1&apos; for key (1).  The statement has been rolled back.&lt;br/&gt;
ERROR 23502: Column &apos;CD_ID&apos;  cannot accept a NULL value.&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;ORDER&quot; at line 5, column 54.&lt;br/&gt;
ERROR 42X01: Syntax error: Encountered &quot;ORDER&quot; at line 4, column 55.&lt;br/&gt;
ERROR 42X05: Table/View &apos;IDXS&apos; does not exist.&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12610419">HIVE-3535</key>
            <summary>derby metastore upgrade script throw errors when updating from 0.7 to 0.8</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="zhenxiao">Zhenxiao Luo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Oct 2012 22:08:08 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:08 +0000</updated>
                            <resolved>Fri, 19 Oct 2012 00:26:25 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13469774" author="zhenxiao" created="Thu, 4 Oct 2012 22:09:32 +0000"  >&lt;p&gt;Derby does not support ORDER BY in subquery:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://old.nabble.com/Problem-with-%22order-by%22-td16775867.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://old.nabble.com/Problem-with-%22order-by%22-td16775867.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&quot;Using a order by clause in a subquery is actually not allowed in the SQL standard (neither SQL-99 nor SQL-2003)&quot;&lt;/p&gt;</comment>
                            <comment id="13469776" author="zhenxiao" created="Thu, 4 Oct 2012 22:13:15 +0000"  >&lt;p&gt;Review request submitted at:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D5889&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5889&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13469778" author="zhenxiao" created="Thu, 4 Oct 2012 22:14:11 +0000"  >&lt;p&gt;The new upgrade script gets rid of all the errors:&lt;/p&gt;

&lt;p&gt;ij&amp;gt; run &apos;upgrade-0.7.0-to-0.8.0.derby.sql&apos;;&lt;br/&gt;
ij&amp;gt; &#8211; Upgrade MetaStore schema from 0.7.0 to 0.8.0&lt;br/&gt;
RUN &apos;008-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt;.derby.sql&apos;;&lt;br/&gt;
ij&amp;gt; /*&lt;br/&gt;
Creates the following tables:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;CDS&lt;/li&gt;
	&lt;li&gt;COLUMNS_V2&lt;br/&gt;
The new columns table is called COLUMNS_V2&lt;br/&gt;
because many columns are removed, and the schema is changed.&lt;br/&gt;
It&apos;d take too long to migrate and keep the same table.&lt;br/&gt;
*/&lt;br/&gt;
CREATE TABLE &quot;CDS&quot; (&lt;br/&gt;
&quot;CD_ID&quot; bigint NOT NULL,&lt;br/&gt;
PRIMARY KEY (&quot;CD_ID&quot;)&lt;br/&gt;
);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; CREATE TABLE &quot;COLUMNS_V2&quot; (&lt;br/&gt;
&quot;CD_ID&quot; bigint NOT NULL,&lt;br/&gt;
&quot;COMMENT&quot; varchar(4000),&lt;br/&gt;
&quot;COLUMN_NAME&quot; varchar(128) NOT NULL,&lt;br/&gt;
&quot;TYPE_NAME&quot; varchar(4000),&lt;br/&gt;
&quot;INTEGER_IDX&quot; INTEGER NOT NULL,&lt;br/&gt;
PRIMARY KEY (&quot;CD_ID&quot;, &quot;COLUMN_NAME&quot;)&lt;br/&gt;
);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; ALTER TABLE &quot;COLUMNS_V2&quot; &lt;br/&gt;
ADD CONSTRAINT &quot;COLUMNS_V2_FK1&quot;&lt;br/&gt;
FOREIGN KEY (&quot;CD_ID&quot;) REFERENCES &quot;CDS&quot; (&quot;CD_ID&quot;)&lt;br/&gt;
ON DELETE NO ACTION ON UPDATE NO ACTION&lt;br/&gt;
;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; /* Alter the SDS table to:&lt;/li&gt;
	&lt;li&gt;add the column CD_ID&lt;/li&gt;
	&lt;li&gt;add a foreign key on CD_ID&lt;/li&gt;
	&lt;li&gt;create an index on CD_ID&lt;br/&gt;
*/ &lt;br/&gt;
ALTER TABLE SDS&lt;br/&gt;
ADD COLUMN &quot;CD_ID&quot; bigint&lt;br/&gt;
;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; ALTER TABLE SDS&lt;br/&gt;
ADD CONSTRAINT &quot;SDS_FK2&quot;&lt;br/&gt;
FOREIGN KEY (&quot;CD_ID&quot;) REFERENCES &quot;CDS&quot; (&quot;CD_ID&quot;)&lt;br/&gt;
;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; /*&lt;br/&gt;
Migrate the TBLS table&lt;br/&gt;
Add entries into CDS.&lt;br/&gt;
Populate the CD_ID field in SDS for tables&lt;br/&gt;
Add entires to COLUMNS_V2 based on this table&apos;s sd&apos;s columns&lt;br/&gt;
*/&lt;br/&gt;
/* In the migration, there is a 1:1 mapping between CD_ID and SD_ID&lt;br/&gt;
for tables. For speed, just let CD_ID = SD_ID for tables&lt;br/&gt;
*/&lt;br/&gt;
INSERT INTO CDS (CD_ID)&lt;br/&gt;
SELECT t.SD_ID FROM TBLS t WHERE t.SD_ID IS NOT NULL;&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; UPDATE SDS&lt;br/&gt;
SET CD_ID = SD_ID&lt;br/&gt;
WHERE SD_ID in &lt;br/&gt;
(SELECT t.SD_ID FROM TBLS t WHERE t.SD_ID IS NOT NULL);&lt;br/&gt;
1 row inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; INSERT INTO COLUMNS_V2&lt;br/&gt;
(CD_ID, COMMENT, COLUMN_NAME, TYPE_NAME, INTEGER_IDX)&lt;br/&gt;
SELECT &lt;br/&gt;
c.SD_ID, c.COMMENT, c.COLUMN_NAME, c.TYPE_NAME, c.INTEGER_IDX&lt;br/&gt;
FROM&lt;br/&gt;
COLUMNS c&lt;br/&gt;
JOIN&lt;br/&gt;
TBLS t&lt;br/&gt;
ON&lt;br/&gt;
t.SD_ID = c.SD_ID&lt;br/&gt;
;&lt;br/&gt;
2 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; /*&lt;br/&gt;
Migrate the partitions.&lt;br/&gt;
Update the partitions&apos; SDS to use the parent tables&apos; CD_ID BEGIN&lt;br/&gt;
Derby does not allow joins in update statements,&lt;br/&gt;
so we have to make a temporary tableh&lt;br/&gt;
*/&lt;br/&gt;
DECLARE GLOBAL TEMPORARY TABLE &quot;TMP_TBL&quot; (&lt;br/&gt;
&quot;SD_ID&quot; bigint not null,&lt;br/&gt;
&quot;CD_ID&quot; bigint not null&lt;br/&gt;
) ON COMMIT PRESERVE ROWS NOT LOGGED;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; INSERT INTO &quot;SESSION&quot;.&quot;TMP_TBL&quot; SELECT&lt;br/&gt;
p.SD_ID, sds.CD_ID&lt;br/&gt;
FROM PARTITIONS p&lt;br/&gt;
JOIN TBLS t ON t.TBL_ID = p.TBL_ID&lt;br/&gt;
JOIN SDS sds on t.SD_ID = sds.SD_ID&lt;br/&gt;
WHERE p.SD_ID IS NOT NULL AND sds.CD_ID IS NOT NULL;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; UPDATE SDS sd&lt;br/&gt;
SET sd.CD_ID = &lt;br/&gt;
(SELECT tt.CD_ID FROM SESSION.TMP_TBL tt WHERE tt.SD_ID = sd.SD_ID)&lt;br/&gt;
WHERE sd.SD_ID IN (SELECT SD_ID FROM SESSION.TMP_TBL);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
WARNING 02000: No row was found for FETCH, UPDATE or DELETE; or the result of a query is an empty table.&lt;br/&gt;
ij&amp;gt; /*&lt;br/&gt;
Migrate IDXS&lt;br/&gt;
*/&lt;br/&gt;
INSERT INTO CDS (CD_ID)&lt;br/&gt;
SELECT i.SD_ID FROM IDXS i WHERE i.SD_ID IS NOT NULL;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; UPDATE SDS&lt;br/&gt;
SET CD_ID = SD_ID&lt;br/&gt;
WHERE SD_ID in &lt;br/&gt;
(SELECT i.SD_ID FROM IDXS i WHERE i.SD_ID IS NOT NULL);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
WARNING 02000: No row was found for FETCH, UPDATE or DELETE; or the result of a query is an empty table.&lt;br/&gt;
ij&amp;gt; INSERT INTO COLUMNS_V2&lt;br/&gt;
(CD_ID, COMMENT, COLUMN_NAME, TYPE_NAME, INTEGER_IDX)&lt;br/&gt;
SELECT &lt;br/&gt;
c.SD_ID, c.COMMENT, c.COLUMN_NAME, c.TYPE_NAME, c.INTEGER_IDX&lt;br/&gt;
FROM&lt;br/&gt;
COLUMNS c&lt;br/&gt;
JOIN&lt;br/&gt;
IDXS i&lt;br/&gt;
ON&lt;br/&gt;
i.SD_ID = c.SD_ID&lt;br/&gt;
;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; /*&lt;br/&gt;
rename the old COLUMNS table&lt;br/&gt;
*/&lt;br/&gt;
RENAME TABLE COLUMNS TO COLUMNS_OLD;&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; RUN &apos;009-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2215&quot; title=&quot;Add api for marking / querying set of partitions for events&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2215&quot;&gt;&lt;del&gt;HIVE-2215&lt;/del&gt;&lt;/a&gt;.derby.sql&apos;;&lt;br/&gt;
ij&amp;gt; &#8211; Table PARTITION_EVENTS for classes &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.hadoop.hive.metastore.model.MPartitionEvent&amp;#93;&lt;/span&gt;&lt;br/&gt;
CREATE TABLE PARTITION_EVENTS&lt;br/&gt;
(&lt;br/&gt;
PART_NAME_ID BIGINT NOT NULL,&lt;br/&gt;
DB_NAME VARCHAR(128),&lt;br/&gt;
EVENT_TIME BIGINT NOT NULL,&lt;br/&gt;
EVENT_TYPE INTEGER NOT NULL,&lt;br/&gt;
PARTITION_NAME VARCHAR(767),&lt;br/&gt;
TBL_NAME VARCHAR(128)&lt;br/&gt;
);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt; ALTER TABLE PARTITION_EVENTS ADD CONSTRAINT PARTITION_EVENTS_PK PRIMARY KEY (PART_NAME_ID);&lt;br/&gt;
0 rows inserted/updated/deleted&lt;br/&gt;
ij&amp;gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13471877" author="dreambird" created="Mon, 8 Oct 2012 21:30:24 +0000"  >&lt;p&gt;I verified the patch works, please commit it!&lt;/p&gt;</comment>
                            <comment id="13478559" author="cwsteinbach" created="Thu, 18 Oct 2012 01:15:00 +0000"  >&lt;p&gt;+1. Will commit if tests pass. Thanks.&lt;/p&gt;</comment>
                            <comment id="13479530" author="cwsteinbach" created="Fri, 19 Oct 2012 00:26:25 +0000"  >&lt;p&gt;Committed to trunk. Thanks Zhenxiao!&lt;/p&gt;</comment>
                            <comment id="13550036" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:08 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547841" name="HIVE-3535.1.patch.txt" size="1545" author="zhenxiao" created="Thu, 4 Oct 2012 22:14:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 8 Oct 2012 21:30:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02a93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3536] Output of sort merge join is no longer bucketed</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3536</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I don&apos;t know if this was a feature or a happy coincidence, but before &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3230&quot; title=&quot;Make logging of plan progress in HadoopJobExecHelper configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3230&quot;&gt;&lt;del&gt;HIVE-3230&lt;/del&gt;&lt;/a&gt;, the output of a sort merge join on two partitions would be bucketed, even if hive.enforce.bucketing was set to false.  This could potentially save a reduce phase when inserting into a bucketed table.&lt;/p&gt;

&lt;p&gt;This would be good to have back.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610441">HIVE-3536</key>
            <summary>Output of sort merge join is no longer bucketed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Oct 2012 01:58:48 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:15 +0000</updated>
                            <resolved>Sat, 6 Oct 2012 05:28:00 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13469976" author="kevinwilfong" created="Fri, 5 Oct 2012 02:40:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5907&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5907&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13470007" author="phabricator@reviews.facebook.net" created="Fri, 5 Oct 2012 04:05:47 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3536&quot; title=&quot;Output of sort merge join is no longer bucketed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3536&quot;&gt;&lt;del&gt;HIVE-3536&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Output of sort merge join is no longer bucketed&quot;.&lt;/p&gt;

&lt;p&gt;  This was certainty a desired feature.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5907&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5907&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, kevinwilfong&lt;/p&gt;</comment>
                            <comment id="13470008" author="namit" created="Fri, 5 Oct 2012 04:07:38 +0000"  >&lt;p&gt;small comment on phabricator&lt;/p&gt;</comment>
                            <comment id="13470009" author="phabricator@reviews.facebook.net" created="Fri, 5 Oct 2012 04:07:47 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3536&quot; title=&quot;Output of sort merge join is no longer bucketed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3536&quot;&gt;&lt;del&gt;HIVE-3536&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Output of sort merge join is no longer bucketed&quot;.&lt;/p&gt;

&lt;p&gt;  Otherwise, it looks good&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/smb_mapjoin_11.q:32 Unfortunately, this does not verify that the data is bucketed.&lt;br/&gt;
  Can you perform a join between test_table3 and test_table1 for bucket 2 for both of them.&lt;br/&gt;
  That would return 0 rows if the data was not bucketed correctly.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5907&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5907&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, kevinwilfong&lt;/p&gt;</comment>
                            <comment id="13470011" author="namit" created="Fri, 5 Oct 2012 04:18:53 +0000"  >&lt;p&gt;I will start running the tests.&lt;br/&gt;
Once you update the new test, I can just run the new test (assuming all tests run fine).&lt;/p&gt;</comment>
                            <comment id="13470018" author="kevinwilfong" created="Fri, 5 Oct 2012 04:41:04 +0000"  >&lt;p&gt;Updated the new test.&lt;/p&gt;</comment>
                            <comment id="13470020" author="phabricator@reviews.facebook.net" created="Fri, 5 Oct 2012 04:42:47 +0000"  >&lt;p&gt;kevinwilfong updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3536&quot; title=&quot;Output of sort merge join is no longer bucketed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3536&quot;&gt;&lt;del&gt;HIVE-3536&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Output of sort merge join is no longer bucketed&quot;.&lt;br/&gt;
Reviewers: JIRA, njain&lt;/p&gt;

&lt;p&gt;  Updated test case.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5907&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5907&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/smb_mapjoin_11.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/smb_mapjoin_11.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, kevinwilfong&lt;/p&gt;</comment>
                            <comment id="13470031" author="namit" created="Fri, 5 Oct 2012 05:28:41 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13470032" author="phabricator@reviews.facebook.net" created="Fri, 5 Oct 2012 05:30:47 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3536&quot; title=&quot;Output of sort merge join is no longer bucketed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3536&quot;&gt;&lt;del&gt;HIVE-3536&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Output of sort merge join is no longer bucketed&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5907&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5907&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, kevinwilfong&lt;/p&gt;</comment>
                            <comment id="13470495" author="kevinwilfong" created="Fri, 5 Oct 2012 17:39:30 +0000"  >&lt;p&gt;Fixed a bug causing non-prefixed files to be generated prefixed with null.&lt;/p&gt;</comment>
                            <comment id="13470496" author="phabricator@reviews.facebook.net" created="Fri, 5 Oct 2012 17:40:02 +0000"  >&lt;p&gt;kevinwilfong updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3536&quot; title=&quot;Output of sort merge join is no longer bucketed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3536&quot;&gt;&lt;del&gt;HIVE-3536&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Output of sort merge join is no longer bucketed&quot;.&lt;br/&gt;
Reviewers: JIRA, njain&lt;/p&gt;

&lt;p&gt;  Fixed a bug causing non-prefixed files to be generated prefixed with null.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5907&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5907&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/smb_mapjoin_11.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/smb_mapjoin_11.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, kevinwilfong&lt;/p&gt;</comment>
                            <comment id="13470922" author="namit" created="Sat, 6 Oct 2012 05:28:00 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13471020" author="hudson" created="Sat, 6 Oct 2012 14:09:05 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1725 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1725/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1725/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3536&quot; title=&quot;Output of sort merge join is no longer bucketed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3536&quot;&gt;&lt;del&gt;HIVE-3536&lt;/del&gt;&lt;/a&gt; Output of sort merge join is no longer bucketed&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1394928)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1394928&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1394928&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_11.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_11.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13472177" author="hudson" created="Tue, 9 Oct 2012 06:31:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1730 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1730/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1730/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3536&quot; title=&quot;Output of sort merge join is no longer bucketed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3536&quot;&gt;&lt;del&gt;HIVE-3536&lt;/del&gt;&lt;/a&gt; Output of sort merge join is no longer bucketed&lt;br/&gt;
(Kevin Wilfong) &lt;/p&gt;

&lt;p&gt;For some reason, I missed merging the test in my previous merge (Revision 1395742)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395742&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395742&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_11.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_11.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548060" author="hudson" created="Wed, 9 Jan 2013 10:24:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3536&quot; title=&quot;Output of sort merge join is no longer bucketed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3536&quot;&gt;&lt;del&gt;HIVE-3536&lt;/del&gt;&lt;/a&gt; Output of sort merge join is no longer bucketed&lt;br/&gt;
(Kevin Wilfong) &lt;/p&gt;

&lt;p&gt;For some reason, I missed merging the test in my previous merge (Revision 1395742)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3536&quot; title=&quot;Output of sort merge join is no longer bucketed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3536&quot;&gt;&lt;del&gt;HIVE-3536&lt;/del&gt;&lt;/a&gt; Output of sort merge join is no longer bucketed&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1394928)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395742&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395742&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_11.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_11.q.out&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1394928&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1394928&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_11.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_11.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550324" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:15 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12612320">HIVE-3593</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12547870" name="HIVE-3536.1.patch.txt" size="20964" author="kevinwilfong" created="Fri, 5 Oct 2012 02:39:47 +0000"/>
                            <attachment id="12547873" name="HIVE-3536.2.patch.txt" size="19890" author="kevinwilfong" created="Fri, 5 Oct 2012 04:41:19 +0000"/>
                            <attachment id="12548010" name="HIVE-3536.3.patch.txt" size="19918" author="kevinwilfong" created="Fri, 5 Oct 2012 17:39:08 +0000"/>
                            <attachment id="12547874" name="HIVE-3536.D5907.2.patch" size="19804" author="phabricator@reviews.facebook.net" created="Fri, 5 Oct 2012 04:42:47 +0000"/>
                            <attachment id="12548011" name="HIVE-3536.D5907.3.patch" size="19742" author="phabricator@reviews.facebook.net" created="Fri, 5 Oct 2012 17:40:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 5 Oct 2012 04:05:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242023</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02i0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3537] release locks at the end of move tasks</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3537</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3106&quot; title=&quot;Add option to make multi inserts more atomic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3106&quot;&gt;&lt;del&gt;HIVE-3106&lt;/del&gt;&lt;/a&gt; for details.&lt;/p&gt;

&lt;p&gt;In order to make sure that concurrency is not an issue for multi-table &lt;br/&gt;
inserts, the current option is to introduce a dependency task, which thereby&lt;br/&gt;
delays the creation of all partitions. It would be desirable to release the&lt;br/&gt;
locks for the outputs as soon as the move task is completed. That way, for&lt;br/&gt;
multi-table inserts, the concurrency can be enabled without delaying any &lt;br/&gt;
table.&lt;/p&gt;

&lt;p&gt;Currently, the movetask contains a input/output, but they do not seem to be&lt;br/&gt;
populated correctly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610449">HIVE-3537</key>
            <summary>release locks at the end of move tasks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Oct 2012 05:35:25 +0000</created>
                <updated>Thu, 16 May 2013 21:10:49 +0000</updated>
                            <resolved>Sat, 19 Jan 2013 18:09:01 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Locking</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13470227" author="namit" created="Fri, 5 Oct 2012 11:20:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5931&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5931&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13509653" author="namit" created="Tue, 4 Dec 2012 10:49:47 +0000"  >&lt;p&gt;comments addressed&lt;/p&gt;</comment>
                            <comment id="13530176" author="kevinwilfong" created="Wed, 12 Dec 2012 18:16:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13531621" author="kevinwilfong" created="Thu, 13 Dec 2012 23:22:34 +0000"  >&lt;p&gt;Lots of NPE&apos;s when running tests.&lt;/p&gt;</comment>
                            <comment id="13548831" author="namit" created="Wed, 9 Jan 2013 19:01:23 +0000"  >&lt;p&gt;refreshed and fixed tests&lt;/p&gt;</comment>
                            <comment id="13550862" author="ashutoshc" created="Fri, 11 Jan 2013 05:57:35 +0000"  >&lt;p&gt;Namit,&lt;br/&gt;
Will this result in fix introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3106&quot; title=&quot;Add option to make multi inserts more atomic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3106&quot;&gt;&lt;del&gt;HIVE-3106&lt;/del&gt;&lt;/a&gt; redundant, i.e., dependency task (and thus config variable) introduced will no longer be required. If not, than config variable should always be true, isn&apos;t it for concurrency to work correctly?&lt;/p&gt;</comment>
                            <comment id="13550877" author="ashutoshc" created="Fri, 11 Jan 2013 06:23:16 +0000"  >&lt;p&gt;Also, seems like it won&apos;t be easy to write a test case for this. One possibility I can think of is to write a junit test-case (instead of .q) which tests for the lock data in ZK and asserts that lock data is wiped out of ZK, after query doing multi-insert finishes. &lt;/p&gt;</comment>
                            <comment id="13550977" author="namit" created="Fri, 11 Jan 2013 08:21:35 +0000"  >&lt;p&gt;@Ashutosh, I agree - with this, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3106&quot; title=&quot;Add option to make multi inserts more atomic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3106&quot;&gt;&lt;del&gt;HIVE-3106&lt;/del&gt;&lt;/a&gt; is redundant.&lt;br/&gt;
Do you want me to remove that code/config, or leave it around for now - I cant think of a good usecase why would be useful other than locking,&lt;br/&gt;
but intuitively, it seems to be good to allow multi-table insert to finish atomically.&lt;/p&gt;</comment>
                            <comment id="13550980" author="ashutoshc" created="Fri, 11 Jan 2013 08:30:14 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do you want me to remove that code/config, &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes please. Dependency task approach looks very hacky to me. We should really get rid of it.&lt;/p&gt;</comment>
                            <comment id="13552255" author="namit" created="Sun, 13 Jan 2013 17:45:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, I was thinking about it more, and I think we should leave it for some users.&lt;br/&gt;
What if I want atomicity for some reason - Without dependency, it is possible that:&lt;/p&gt;

&lt;p&gt;the query fails (for some reason), but some outputs get changed, and we dont even know which one.&lt;/p&gt;</comment>
                            <comment id="13554680" author="namit" created="Wed, 16 Jan 2013 02:39:54 +0000"  >&lt;p&gt;ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, what do you think ?&lt;/p&gt;</comment>
                            <comment id="13554781" author="ashutoshc" created="Wed, 16 Jan 2013 06:15:10 +0000"  >&lt;p&gt;Before &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3106&quot; title=&quot;Add option to make multi inserts more atomic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3106&quot;&gt;&lt;del&gt;HIVE-3106&lt;/del&gt;&lt;/a&gt;, for a multi-insert case, if query failed it was possible that some partitions gets inserted while others don&apos;t inspite of acquiring table level locks. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3106&quot; title=&quot;Add option to make multi inserts more atomic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3106&quot;&gt;&lt;del&gt;HIVE-3106&lt;/del&gt;&lt;/a&gt; fixed that by introducing a fake dependency task which was added at the end of the plan because of which partitions will be added only after all the MR jobs are finished and data is generated for all tables. This jira fixes the issue where a lock on table is released as soon as partition addition on that particular table is completed. This ensures consistency for that table as in no other updates could be made on that table until lock is released. Atomicity you are referring to in your previous comment is when users want either all of the tables are changed or none at all. Are all these statements correct? Wants to make sure I understood all the nuances here. &lt;/p&gt;</comment>
                            <comment id="13554812" author="namit" created="Wed, 16 Jan 2013 07:32:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;Atomicity you are referring to in your previous comment is when users want either all of the tables are changed or none at all. &lt;/p&gt;&lt;/blockquote&gt;


&lt;p&gt;YES, this has nothing to do with locking.&lt;/p&gt;</comment>
                            <comment id="13554822" author="ashutoshc" created="Wed, 16 Jan 2013 07:52:54 +0000"  >&lt;p&gt;I agree, atomicity is an useful property to guarantee, I know of use-cases where folks have wanted this from Hive. I wish we had a cleaner approach instead of fake dependency task, but if thats the best we can come up with, I am fine with that.&lt;br/&gt;
+1&lt;/p&gt;</comment>
                            <comment id="13555137" author="namit" created="Wed, 16 Jan 2013 15:47:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, I am assuming you are taking care of testing and committing.&lt;br/&gt;
If you want me to to do it, let me know.&lt;/p&gt;</comment>
                            <comment id="13555173" author="ashutoshc" created="Wed, 16 Jan 2013 16:24:40 +0000"  >&lt;p&gt;OK. I am running tests now. Will commit if tests pass. BTW, there is no tests in the patch, I assume you did some manual testing of the patch, since its hard to write a test-case for this. Curious how did you test, since it seems like it will be hard to simulate failure before the patch.&lt;/p&gt;</comment>
                            <comment id="13555900" author="namit" created="Thu, 17 Jan 2013 06:07:05 +0000"  >&lt;p&gt;Dont need to simulate a failure. Can have a multi-table insert where one of the inserts take a much longer than time than the other ?&lt;br/&gt;
Manually verified that the locks are getting released when one of the branches is completed.&lt;/p&gt;</comment>
                            <comment id="13555953" author="ashutoshc" created="Thu, 17 Jan 2013 07:39:34 +0000"  >&lt;p&gt;Seems like there is some problem. My tests have been running for more than 15 hours and they seem to have been stuck. e.g., following tests extraordinarily long to complete:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; [junit] Done query: bucketmapjoin5.q elapsedTime=4421s
 [junit] Done query: bucketmapjoin4.q elapsedTime=4419s
 [junit] Done query: bucketmapjoin2.q elapsedTime=6625s
 [junit] Done query: bucketmapjoin3.q elapsedTime=4414s
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I was able to capture jstack for one of it.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;jstack 14269
2013-01-16 23:29:23
Full thread dump Java HotSpot(TM) Server VM (10.0-b19 mixed mode):

&lt;span class=&quot;code-quote&quot;&gt;&quot;Attach Listener&quot;&lt;/span&gt; daemon prio=10 tid=0x08786400 nid=0x74a4 waiting on condition [0x00000000..0x00000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;main-EventThread&quot;&lt;/span&gt; daemon prio=10 tid=0xce4ae000 nid=0x63ac waiting on condition [0xcedfe000..0xcedff030]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0xd684c6b8&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1925)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:358)
	at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:493)

&lt;span class=&quot;code-quote&quot;&gt;&quot;main-SendThread(localhost:21818)&quot;&lt;/span&gt; daemon prio=10 tid=0xcf142400 nid=0x63ab runnable [0xce9ad000..0xce9adfb0]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:215)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:65)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:69)
	- locked &amp;lt;0xd6854078&amp;gt; (a sun.nio.ch.Util$1)
	- locked &amp;lt;0xd6854068&amp;gt; (a java.util.Collections$UnmodifiableSet)
	- locked &amp;lt;0xd6853bf8&amp;gt; (a sun.nio.ch.EPollSelectorImpl)
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:80)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:274)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1035)

&lt;span class=&quot;code-quote&quot;&gt;&quot;main-EventThread&quot;&lt;/span&gt; daemon prio=10 tid=0xce4aa800 nid=0x63aa waiting on condition [0xce95c000..0xce95d130]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0xd6856b70&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1925)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:358)
	at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:493)

&lt;span class=&quot;code-quote&quot;&gt;&quot;main-SendThread(localhost:21818)&quot;&lt;/span&gt; daemon prio=10 tid=0xce4aa400 nid=0x63a9 runnable [0xcf5d7000..0xcf5d80b0]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:215)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:65)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:69)
	- locked &amp;lt;0xd6857720&amp;gt; (a sun.nio.ch.Util$1)
	- locked &amp;lt;0xd6857710&amp;gt; (a java.util.Collections$UnmodifiableSet)
	- locked &amp;lt;0xd68572a0&amp;gt; (a sun.nio.ch.EPollSelectorImpl)
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:80)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:274)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1035)

&lt;span class=&quot;code-quote&quot;&gt;&quot;main-EventThread&quot;&lt;/span&gt; daemon prio=10 tid=0xcf4f3c00 nid=0x37f1 waiting on condition [0xcf35c000..0xcf35d030]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0xd5528060&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1925)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:358)
	at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:493)

&lt;span class=&quot;code-quote&quot;&gt;&quot;main-SendThread(localhost:21818)&quot;&lt;/span&gt; daemon prio=10 tid=0xcf11f000 nid=0x37f0 runnable [0xce9fe000..0xce9fefb0]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:215)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:65)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:69)
	- locked &amp;lt;0xd5528d48&amp;gt; (a sun.nio.ch.Util$1)
	- locked &amp;lt;0xd5528d38&amp;gt; (a java.util.Collections$UnmodifiableSet)
	- locked &amp;lt;0xd55288c8&amp;gt; (a sun.nio.ch.EPollSelectorImpl)
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:80)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:274)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1035)

&lt;span class=&quot;code-quote&quot;&gt;&quot;derby.rawStoreDaemon&quot;&lt;/span&gt; daemon prio=10 tid=0x08edd800 nid=0x37e6 in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait() [0xcf3ad000..0xcf3ae030]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	- waiting on &amp;lt;0xd50539f0&amp;gt; (a org.apache.derby.impl.services.daemon.BasicDaemon)
	at org.apache.derby.impl.services.daemon.BasicDaemon.&lt;span class=&quot;code-keyword&quot;&gt;rest&lt;/span&gt;(Unknown Source)
	- locked &amp;lt;0xd50539f0&amp;gt; (a org.apache.derby.impl.services.daemon.BasicDaemon)
	at org.apache.derby.impl.services.daemon.BasicDaemon.run(Unknown Source)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:619)

&lt;span class=&quot;code-quote&quot;&gt;&quot;Timer-0&quot;&lt;/span&gt; daemon prio=10 tid=0x09070c00 nid=0x37e3 in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait() [0xcf3fe000..0xcf3ff0b0]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	- waiting on &amp;lt;0xd4e87170&amp;gt; (a java.util.TaskQueue)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.java:485)
	at java.util.TimerThread.mainLoop(Timer.java:483)
	- locked &amp;lt;0xd4e87170&amp;gt; (a java.util.TaskQueue)
	at java.util.TimerThread.run(Timer.java:462)

&lt;span class=&quot;code-quote&quot;&gt;&quot;derby.antiGC&quot;&lt;/span&gt; daemon prio=10 tid=0x08da4800 nid=0x37e2 in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait() [0xcf586000..0xcf586e30]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	- waiting on &amp;lt;0xd4e8a188&amp;gt; (a org.apache.derby.impl.services.monitor.AntiGC)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.java:485)
	at org.apache.derby.impl.services.monitor.AntiGC.run(Unknown Source)
	- locked &amp;lt;0xd4e8a188&amp;gt; (a org.apache.derby.impl.services.monitor.AntiGC)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:619)

&lt;span class=&quot;code-quote&quot;&gt;&quot;ProcessThread(sid:0 cport:-1):&quot;&lt;/span&gt; prio=10 tid=0xcfed1000 nid=0x37d7 waiting on condition [0xcf679000..0xcf679e30]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0xd4df4e60&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1925)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:358)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:119)

&lt;span class=&quot;code-quote&quot;&gt;&quot;SyncThread:0&quot;&lt;/span&gt; prio=10 tid=0xcfed4800 nid=0x37d6 waiting on condition [0xcf6ca000..0xcf6cadb0]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)
	- parking to wait &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;  &amp;lt;0xd4df74d0&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:158)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:1925)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:358)
	at org.apache.zookeeper.server.SyncRequestProcessor.run(SyncRequestProcessor.java:97)

&lt;span class=&quot;code-quote&quot;&gt;&quot;SessionTracker&quot;&lt;/span&gt; prio=10 tid=0xcfd99800 nid=0x37d5 in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait() [0xcf71b000..0xcf71bf30]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	- waiting on &amp;lt;0xd4df7e80&amp;gt; (a org.apache.zookeeper.server.SessionTrackerImpl)
	at org.apache.zookeeper.server.SessionTrackerImpl.run(SessionTrackerImpl.java:146)
	- locked &amp;lt;0xd4df7e80&amp;gt; (a org.apache.zookeeper.server.SessionTrackerImpl)

&lt;span class=&quot;code-quote&quot;&gt;&quot;NIOServerCxn.Factory:0.0.0.0/0.0.0.0:21818&quot;&lt;/span&gt; daemon prio=10 tid=0xcfcd9000 nid=0x37d4 runnable [0xcf76c000..0xcf76ceb0]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE
	at sun.nio.ch.EPollArrayWrapper.epollWait(Native Method)
	at sun.nio.ch.EPollArrayWrapper.poll(EPollArrayWrapper.java:215)
	at sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:65)
	at sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:69)
	- locked &amp;lt;0xd4d4a100&amp;gt; (a sun.nio.ch.Util$1)
	- locked &amp;lt;0xd4d4a0f0&amp;gt; (a java.util.Collections$UnmodifiableSet)
	- locked &amp;lt;0xd4d49ec0&amp;gt; (a sun.nio.ch.EPollSelectorImpl)
	at sun.nio.ch.SelectorImpl.select(SelectorImpl.java:80)
	at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:194)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:619)

&lt;span class=&quot;code-quote&quot;&gt;&quot;Low Memory Detector&quot;&lt;/span&gt; daemon prio=10 tid=0x0868e400 nid=0x37d0 runnable [0x00000000..0x00000000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;CompilerThread1&quot;&lt;/span&gt; daemon prio=10 tid=0x0868cc00 nid=0x37cf waiting on condition [0x00000000..0xd00f05f8]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;CompilerThread0&quot;&lt;/span&gt; daemon prio=10 tid=0x0868a400 nid=0x37ce waiting on condition [0x00000000..0xd0171578]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;Signal Dispatcher&quot;&lt;/span&gt; daemon prio=10 tid=0x08689000 nid=0x37cd runnable [0x00000000..0xd01c2b10]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE

&lt;span class=&quot;code-quote&quot;&gt;&quot;Finalizer&quot;&lt;/span&gt; daemon prio=10 tid=0x0866e000 nid=0x37cc in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait() [0xd0413000..0xd0413db0]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	- waiting on &amp;lt;0xd4dcd590&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:116)
	- locked &amp;lt;0xd4dcd590&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:132)
	at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)

&lt;span class=&quot;code-quote&quot;&gt;&quot;Reference Handler&quot;&lt;/span&gt; daemon prio=10 tid=0x0866cc00 nid=0x37cb in &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait() [0xd0464000..0xd0464f30]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: WAITING (on object monitor)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(Native Method)
	- waiting on &amp;lt;0xd4d54fa8&amp;gt; (a java.lang.ref.Reference$Lock)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.wait(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;.java:485)
	at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)
	- locked &amp;lt;0xd4d54fa8&amp;gt; (a java.lang.ref.Reference$Lock)

&lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; prio=10 tid=0x08583000 nid=0x37c1 waiting on condition [0xf7ee7000..0xf7ee8208]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: TIMED_WAITING (sleeping)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(Native Method)
	at org.apache.hadoop.hive.ql.lockmgr.zookeeper.ZooKeeperHiveLockManager.unlockWithRetry(ZooKeeperHiveLockManager.java:415)
	at org.apache.hadoop.hive.ql.lockmgr.zookeeper.ZooKeeperHiveLockManager.unlock(ZooKeeperHiveLockManager.java:404)
	at org.apache.hadoop.hive.ql.lockmgr.zookeeper.ZooKeeperHiveLockManager.releaseLocks(ZooKeeperHiveLockManager.java:251)
	at org.apache.hadoop.hive.ql.Driver.releaseLocks(Driver.java:862)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:948)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:348)
	at org.apache.hadoop.hive.ql.QTestUtil.executeClient(QTestUtil.java:774)
	at org.apache.hadoop.hive.cli.TestCliDriver.runTest(TestCliDriver.java:5609)
	at org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketmapjoin5(TestCliDriver.java:1657)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:518)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1052)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:906)
&lt;span class=&quot;code-quote&quot;&gt;&quot;VM &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;&quot;&lt;/span&gt; prio=10 tid=0x08669c00 nid=0x37ca runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#0 (ParallelGC)&quot;&lt;/span&gt; prio=10 tid=0x08589c00 nid=0x37c2 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#1 (ParallelGC)&quot;&lt;/span&gt; prio=10 tid=0x0858b000 nid=0x37c3 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#2 (ParallelGC)&quot;&lt;/span&gt; prio=10 tid=0x0858c000 nid=0x37c4 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#3 (ParallelGC)&quot;&lt;/span&gt; prio=10 tid=0x0858d000 nid=0x37c5 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#4 (ParallelGC)&quot;&lt;/span&gt; prio=10 tid=0x0858e000 nid=0x37c6 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#5 (ParallelGC)&quot;&lt;/span&gt; prio=10 tid=0x0858f400 nid=0x37c7 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#6 (ParallelGC)&quot;&lt;/span&gt; prio=10 tid=0x08590400 nid=0x37c8 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;GC task thread#7 (ParallelGC)&quot;&lt;/span&gt; prio=10 tid=0x08591400 nid=0x37c9 runnable 

&lt;span class=&quot;code-quote&quot;&gt;&quot;VM Periodic Task &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;&quot;&lt;/span&gt; prio=10 tid=0x0868fc00 nid=0x37d1 waiting on condition 

JNI global references: 888

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Though none of the tests have failed and there is no deadlock in this jstack. But this stack and extra-ordinarily long run time of these tests suggest, something is up here. Are you observing similar behavior in your environment?&lt;/p&gt;</comment>
                            <comment id="13556017" author="namit" created="Thu, 17 Jan 2013 09:44:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, let me take a look ? Thanks&lt;/p&gt;</comment>
                            <comment id="13556343" author="namit" created="Thu, 17 Jan 2013 16:14:13 +0000"  >&lt;p&gt;Found the issue - there was a issue in the equals method for lock, whereby the lock data was not getting fetched.&lt;br/&gt;
Due to that, although the lock was getting released, but hive thought that the lock was still present, and it was again&lt;br/&gt;
repeatedly trying to release it before giving up.&lt;/p&gt;

&lt;p&gt;Manually verified above tests finish normally - running the whole suite now.&lt;/p&gt;</comment>
                            <comment id="13556447" author="namit" created="Thu, 17 Jan 2013 18:33:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, the tests finished in appropriate time.&lt;br/&gt;
Can you take a look ?&lt;/p&gt;

&lt;p&gt;I have updated the phabricator entry and uploaded the new patch.&lt;/p&gt;</comment>
                            <comment id="13557206" author="ashutoshc" created="Fri, 18 Jan 2013 13:34:57 +0000"  >&lt;p&gt;Looks good. Running tests. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13557924" author="ashutoshc" created="Sat, 19 Jan 2013 05:41:40 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Namit!&lt;/p&gt;</comment>
                            <comment id="13557927" author="hudson" created="Sat, 19 Jan 2013 06:13:40 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #27 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/27/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/27/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3537&quot; title=&quot;release locks at the end of move tasks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3537&quot;&gt;&lt;del&gt;HIVE-3537&lt;/del&gt;&lt;/a&gt; : release locks at the end of move tasks (Namit via Ashutosh Chauhan) (Revision 1435492)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435492&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435492&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Context.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MoveTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLock.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13558107" author="hudson" created="Sat, 19 Jan 2013 22:30:32 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #75 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/75/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/75/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3537&quot; title=&quot;release locks at the end of move tasks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3537&quot;&gt;&lt;del&gt;HIVE-3537&lt;/del&gt;&lt;/a&gt; : release locks at the end of move tasks (Namit via Ashutosh Chauhan) (Revision 1435492)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435492&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435492&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Context.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MoveTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLock.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13558120" author="hudson" created="Sat, 19 Jan 2013 23:19:10 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1924 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1924/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1924/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3537&quot; title=&quot;release locks at the end of move tasks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3537&quot;&gt;&lt;del&gt;HIVE-3537&lt;/del&gt;&lt;/a&gt; : release locks at the end of move tasks (Namit via Ashutosh Chauhan) (Revision 1435492)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435492&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1435492&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Context.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MoveTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/EmbeddedLockManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/HiveLockObject.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLock.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/lockmgr/zookeeper/ZooKeeperHiveLockManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12547967" name="hive.3537.1.patch" size="10807" author="namit" created="Fri, 5 Oct 2012 11:20:41 +0000"/>
                            <attachment id="12565339" name="hive.3537.10.patch" size="19324" author="namit" created="Thu, 17 Jan 2013 16:12:03 +0000"/>
                            <attachment id="12555732" name="hive.3537.2.patch" size="14234" author="namit" created="Mon, 3 Dec 2012 10:23:17 +0000"/>
                            <attachment id="12556124" name="hive.3537.3.patch" size="13878" author="namit" created="Wed, 5 Dec 2012 17:39:25 +0000"/>
                            <attachment id="12561253" name="hive.3537.4.patch" size="13878" author="namit" created="Mon, 17 Dec 2012 07:06:58 +0000"/>
                            <attachment id="12561429" name="hive.3537.5.patch" size="13878" author="namit" created="Tue, 18 Dec 2012 05:22:31 +0000"/>
                            <attachment id="12561441" name="hive.3537.6.patch" size="13926" author="namit" created="Tue, 18 Dec 2012 07:06:38 +0000"/>
                            <attachment id="12561634" name="hive.3537.7.patch" size="13926" author="namit" created="Wed, 19 Dec 2012 04:22:45 +0000"/>
                            <attachment id="12563901" name="hive.3537.8.patch" size="13926" author="namit" created="Wed, 9 Jan 2013 07:43:39 +0000"/>
                            <attachment id="12563996" name="hive.3537.9.patch" size="13926" author="namit" created="Wed, 9 Jan 2013 19:00:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Dec 2012 18:16:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242326</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02o5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13516</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3538] Avro SerDe can&apos;t handle Nullable Enums</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3538</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If a field has a schema that unions NULL with an enum, Avro fails to resolve the union because Avro SerDe doesn&apos;t restore &quot;enumness&quot;.&lt;/p&gt;

&lt;p&gt;Since the enum datum is a String, avro internals check the union for a string schema, which is not present.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610465">HIVE-3538</key>
            <summary>Avro SerDe can&apos;t handle Nullable Enums</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="busbey">Sean Busbey</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Oct 2012 08:25:38 +0000</created>
                <updated>Wed, 2 Jan 2013 23:12:52 +0000</updated>
                            <resolved>Wed, 2 Jan 2013 23:12:52 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13470311" author="busbey" created="Fri, 5 Oct 2012 13:31:53 +0000"  >&lt;p&gt;Attaching tests to show what I&apos;m talking about. Note that this is not a solution patch, just some unit tests.&lt;/p&gt;</comment>
                            <comment id="13470316" author="busbey" created="Fri, 5 Oct 2012 13:39:38 +0000"  >&lt;p&gt;I think at least part of this is a bug in Avro. If you follow the flow of canDeserializeNullableEnums (in the attached patch of tests), inside of the first call to verifyNullableType GenericData properly validates the record. Despite this, the call to GenericDatumWriter.write inside of AvroGenericRecordWritable explodes because it&apos;s unable to resolve a String against a &lt;span class=&quot;error&quot;&gt;&amp;#91;null, ENUM&amp;#93;&lt;/span&gt;. Especially when the same sequence of validate followed by write works in the non-union case for canDeserializeEnums, that looks like a problem in Avro.&lt;/p&gt;

&lt;p&gt;I&apos;ll follow up there, depending on the fix this issue might be obviated.&lt;/p&gt;</comment>
                            <comment id="13470639" author="jghoman" created="Fri, 5 Oct 2012 20:46:24 +0000"  >&lt;p&gt;Good catch.  Let me take a look.&lt;/p&gt;</comment>
                            <comment id="13471562" author="busbey" created="Mon, 8 Oct 2012 14:07:35 +0000"  >&lt;p&gt;This looks like a manifestation of &lt;a href=&quot;https://issues.apache.org/jira/browse/AVRO-997&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;AVRO-997&lt;/a&gt;. I&apos;ll reopen the discussion on that ticket.&lt;/p&gt;</comment>
                            <comment id="13542531" author="busbey" created="Wed, 2 Jan 2013 23:12:52 +0000"  >&lt;p&gt;Subsumed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3528&quot; title=&quot;Avro SerDe doesn&amp;#39;t handle serializing Nullable types that require access to a Schema&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3528&quot;&gt;&lt;del&gt;HIVE-3528&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12538833">AVRO-997</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12547973" name="HIVE-3538.tests.txt" size="5873" author="busbey" created="Fri, 5 Oct 2012 13:31:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 5 Oct 2012 20:46:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242677</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02z07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15272</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3539] add an option in hive where the location for managed tables/partitions cannot be specified</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3539</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We run into scenarios where multiple tables/partitions point to the same data.&lt;br/&gt;
This is OK for external tables, but may create problems for managed tables.&lt;/p&gt;

&lt;p&gt;An option should be provided to disable this behavior.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610548">HIVE-3539</key>
            <summary>add an option in hive where the location for managed tables/partitions cannot be specified</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Oct 2012 11:59:56 +0000</created>
                <updated>Fri, 5 Oct 2012 11:59:56 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>243008</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i035nr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3540] Non-local Hive query with custom InputFormat via CombineFileInputFormat fails with zipped data</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3540</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When accessing a table with zipped data using a custom InputFormat which extends CombineFileInputFormat, any non-local Hive execution will pick up the default org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.&lt;/p&gt;

&lt;p&gt;Issue spawns from the fact that (by default) InputFormat cannot handle concatenated zip files. &lt;/p&gt;

&lt;p&gt;To reproduce:&lt;/p&gt;

&lt;p&gt;Create data that is text based, zip it&lt;br/&gt;
Create table with a custom input that extends CombineFileInputFormat&lt;br/&gt;
Execute query that is not local (select * from &amp;lt;table&amp;gt; limit 1&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12610602">HIVE-3540</key>
            <summary>Non-local Hive query with custom InputFormat via CombineFileInputFormat fails with zipped data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ctm">Chris McConnell</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Oct 2012 17:25:02 +0000</created>
                <updated>Thu, 2 May 2013 02:30:54 +0000</updated>
                                            <version>0.8.1</version>
                                                    <component>CLI</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12539495">HIVE-2737</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244010</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05af3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3541] Allow keeping the bucket order while streaming bucketed table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3541</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If we have a bucketed table, for example table_a with columns col_key and col_value (bucketed on col_key), and we need to create new derived bucketed table (by for example SELECT col_key, col_value*2 FROM table a), it would be fastest if it can be done in single streaming map-only job. &lt;/p&gt;

&lt;p&gt;With specifying:&lt;br/&gt;
SET hive.input.format=org.apache.hadoop.hive.ql.io.BucketizedHiveInputFormat;&lt;br/&gt;
we can make sure that each input bucket will be read by exactly one mapper, and that they will output exactly one file. With:&lt;br/&gt;
SET hive.merge.mapfiles = false;&lt;br/&gt;
SET hive.merge.mapredfiles = false;&lt;br/&gt;
SET hive.enforce.bucketing = false;&lt;br/&gt;
We can make sure those files are inserted as is into the output table. &lt;br/&gt;
But with that - bucket order is not kept, so end table is not bucketed correctly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610675">HIVE-3541</key>
            <summary>Allow keeping the bucket order while streaming bucketed table</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ikabiljo">Igor Kabiljo</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 Oct 2012 01:32:38 +0000</created>
                <updated>Sat, 6 Oct 2012 01:42:13 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13470851" author="kevinwilfong" created="Sat, 6 Oct 2012 01:42:13 +0000"  >&lt;p&gt;It would be good if the bucketing was maintained even in the face of selects, filters, and other operators through which the values of the columns the table is bucketed on pass through unmodified.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 6 Oct 2012 01:42:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244150</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05iqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30132</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3542] Can not use DB Qualified Name in Order By, Sort By, Distribute By, and Cluster By</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3542</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;CREATE DATABASE db1;&lt;/p&gt;

&lt;p&gt;CREATE TABLE db1.t(a INT, b INT);&lt;/p&gt;

&lt;p&gt;SELECT * FROM db1.t ORDER BY db1.t.a;&lt;br/&gt;
FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10004&amp;#93;&lt;/span&gt;: Line 3:29 Invalid table alias or column reference &apos;db1&apos;: (possible column names are: a, b)&lt;/p&gt;

&lt;p&gt;SELECT * FROM db1.t SORT BY db1.t.a;&lt;br/&gt;
FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10004&amp;#93;&lt;/span&gt;: Line 3:28 Invalid table alias or column reference &apos;db1&apos;: (possible column names are: a, b)&lt;/p&gt;

&lt;p&gt;SELECT * FROM db1.t CLUSTER BY db1.t.a;&lt;br/&gt;
FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10004&amp;#93;&lt;/span&gt;: Line 3:31 Invalid table alias or column reference &apos;db1&apos;: (possible column names are: a, b)&lt;/p&gt;

&lt;p&gt;SELECT * FROM db1.t DISTRIBUTE BY db1.t.a;&lt;br/&gt;
FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10004&amp;#93;&lt;/span&gt;: Line 3:34 Invalid table alias or column reference &apos;db1&apos;: (possible column names are: a, b)&lt;/p&gt;

&lt;p&gt;alias is working OK:&lt;br/&gt;
SELECT * FROM db1.t t ORDER BY t.a;&lt;br/&gt;
OK&lt;br/&gt;
SELECT * FROM db1.t t SORT BY t.a;&lt;br/&gt;
OK&lt;br/&gt;
SELECT * FROM db1.t t CLUSTER BY t.a;&lt;br/&gt;
OK&lt;br/&gt;
SELECT * FROM db1.t t DISTRIBUTE BY t.a;&lt;br/&gt;
OK&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12610689">HIVE-3542</key>
            <summary>Can not use DB Qualified Name in Order By, Sort By, Distribute By, and Cluster By</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="zhenxiao">Zhenxiao Luo</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 Oct 2012 05:10:13 +0000</created>
                <updated>Wed, 19 Dec 2012 06:30:35 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12511009">HIVE-2228</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244169</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05iv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30153</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3543] A hive-builtins snapshot is required on the classpath of generated eclipse files</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3543</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We shouldn&apos;t rely on presence of a jar of our own project to pre-exist when generating the eclipse files, like so:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;classpathentry kind=&lt;span class=&quot;code-quote&quot;&gt;&quot;lib&quot;&lt;/span&gt; path=&lt;span class=&quot;code-quote&quot;&gt;&quot;build/builtins/hive-builtins-0.10.0-SNAPSHOT.jar&quot;&lt;/span&gt;/&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Does the src on classpath for builtins not suffice instead? This one&apos;s presence makes one have to run &lt;tt&gt;ant jar eclipse-files&lt;/tt&gt; instead of the simple &lt;tt&gt;ant compile eclipse-files&lt;/tt&gt;. If not source paths, lets at least consider adding a classes/ directory instead of expecting a jar.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610691">HIVE-3543</key>
            <summary>A hive-builtins snapshot is required on the classpath of generated eclipse files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="qwertymaniac">Harsh J</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 Oct 2012 05:53:17 +0000</created>
                <updated>Sun, 7 Oct 2012 11:36:28 +0000</updated>
                            <resolved>Sun, 7 Oct 2012 11:36:28 +0000</resolved>
                                    <version>0.10.0</version>
                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13470963" author="qwertymaniac" created="Sat, 6 Oct 2012 10:02:57 +0000"  >&lt;p&gt;Removing the entry still lets me compile the whole project in the IDE without a compilation error. I think we ought to remove it unless it serves any purpose over the src/ classpath entry for the same thing.&lt;/p&gt;</comment>
                            <comment id="13471198" author="qwertymaniac" created="Sun, 7 Oct 2012 11:36:28 +0000"  >&lt;p&gt;Doing this causes &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2673&quot; title=&quot;Eclipse launch configurations fail due to unsatisfied builtins JAR dependency&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2673&quot;&gt;&lt;del&gt;HIVE-2673&lt;/del&gt;&lt;/a&gt;. Resolving. Sorry for noise.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244171</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05ivj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3544] union involving double column with a map join subquery will fail or give wrong results</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3544</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following query fails:&lt;br/&gt;
select * from (select cast(a.key as bigint) as key from src a join src b on a.key = b.key union all select cast(key as double) as key from src)a&lt;/p&gt;

&lt;p&gt;The following query gives wrong results:&lt;br/&gt;
select * from (select cast(a.key as bigint) as key, cast(b.key as double) as value from src a join src b on a.key = b.key union all select cast(key as double) as key, cast(key as string) as value from src)a&lt;/p&gt;

&lt;p&gt;But the following query runs fine:&lt;br/&gt;
select * from (select cast(a.key as bigint) as key from src a union all select cast(key as double) as key from src)a&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610746">HIVE-3544</key>
            <summary>union involving double column with a map join subquery will fail or give wrong results</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Oct 2012 08:23:23 +0000</created>
                <updated>Thu, 2 May 2013 02:29:56 +0000</updated>
                            <resolved>Fri, 19 Oct 2012 20:06:35 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13478343" author="kevinwilfong" created="Wed, 17 Oct 2012 20:36:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6063&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6063&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13478346" author="kevinwilfong" created="Wed, 17 Oct 2012 20:37:38 +0000"  >&lt;p&gt;I tracked the problem down to two causes.&lt;/p&gt;

&lt;p&gt;1) In the genUnionPlan, when preparing the ColumnInfo objects to be used to generate the RowResolver for the Union operator, it actually changes the ColumnInfo objects of the left operator&apos;s RowResolver to have the &quot;common class&quot; as its type. This would cause it to get serialized wrong in the intermediate FileSink operator between map reduce jobs (as was the case when the left subquery of the union involved a join).&lt;/p&gt;

&lt;p&gt;2) The common class for a column of the Union operator would get determined once at compile time and again later at run time using different functions which could return different classes (for instance when the type on one side was a double and on the other it was a string). This caused the union operator to return objects with a different type from what the RowResolver specified causing serialization errors/failures.&lt;/p&gt;

&lt;p&gt;To fix 1) I added the ability to clone a ColumnInfo, and in the SemanticAnalyzer the left operator&apos;s ColumnInfo objects are now cloned before being modified.&lt;/p&gt;

&lt;p&gt;To fix 2) I added Select operators between the input operators and the union operator. These select operators cast the input columns to the types determined at compile time if they do not match, otherwise they simply forward the value. Now the conversion in the union operator is only needed to alter the the type of the ObjectInspector, not the type of the column.&lt;/p&gt;</comment>
                            <comment id="13478511" author="kevinwilfong" created="Thu, 18 Oct 2012 00:00:06 +0000"  >&lt;p&gt;Updated my checkout, and uploaded a new patch.&lt;/p&gt;</comment>
                            <comment id="13479329" author="namit" created="Thu, 18 Oct 2012 20:31:08 +0000"  >&lt;p&gt;minor comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13479543" author="kevinwilfong" created="Fri, 19 Oct 2012 01:01:40 +0000"  >&lt;p&gt;Updated per comments.&lt;/p&gt;</comment>
                            <comment id="13480118" author="namit" created="Fri, 19 Oct 2012 16:40:03 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13480334" author="namit" created="Fri, 19 Oct 2012 20:06:35 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13480656" author="hudson" created="Sat, 20 Oct 2012 05:55:36 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1748 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1748/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1748/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3544&quot; title=&quot;union involving double column with a map join subquery will fail or give wrong results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3544&quot;&gt;&lt;del&gt;HIVE-3544&lt;/del&gt;&lt;/a&gt; union involving double column with a map join subquery will fail or give wrong results&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1400260)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1400260&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1400260&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ColumnInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SelectOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPrunerProcCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPrunerProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/SelectDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt11.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union32.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_skew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/skewjoinopt11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/type_widening.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union32.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/union.q.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548048" author="hudson" created="Wed, 9 Jan 2013 10:24:11 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3544&quot; title=&quot;union involving double column with a map join subquery will fail or give wrong results&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3544&quot;&gt;&lt;del&gt;HIVE-3544&lt;/del&gt;&lt;/a&gt; union involving double column with a map join subquery will fail or give wrong results&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1400260)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1400260&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1400260&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ColumnInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SelectOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPrunerProcCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ColumnPrunerProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/SelectDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt11.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union32.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_skew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/skewjoinopt11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/type_widening.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union32.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/union.q.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550091" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:21 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12599401">HIVE-3276</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12549608" name="HIVE-3544.1.patch.txt" size="658013" author="kevinwilfong" created="Wed, 17 Oct 2012 23:59:49 +0000"/>
                            <attachment id="12549607" name="HIVE-3544.2.patch.txt" size="658472" author="kevinwilfong" created="Wed, 17 Oct 2012 23:59:08 +0000"/>
                            <attachment id="12549731" name="HIVE-3544.3.patch.txt" size="659530" author="kevinwilfong" created="Thu, 18 Oct 2012 18:57:04 +0000"/>
                            <attachment id="12549790" name="HIVE-3544.4.patch.txt" size="83436" author="kevinwilfong" created="Fri, 19 Oct 2012 01:01:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Oct 2012 20:31:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244945</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05wsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32409</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3545] Add BeeLine source to Hive repository and package in a separate submodule</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3545</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12610772">HIVE-3545</key>
            <summary>Add BeeLine source to Hive repository and package in a separate submodule</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12550255">HIVE-2935</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Oct 2012 22:04:56 +0000</created>
                <updated>Fri, 28 Jun 2013 22:25:53 +0000</updated>
                            <resolved>Tue, 12 Mar 2013 18:51:20 +0000</resolved>
                                                                    <component>CLI</component>
                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12550255">HIVE-2935</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05xfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32517</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3546] Implement TestBeeLineDriver</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3546</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12610773">HIVE-3546</key>
            <summary>Implement TestBeeLineDriver</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12550255">HIVE-2935</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Oct 2012 22:06:00 +0000</created>
                <updated>Fri, 28 Jun 2013 22:26:02 +0000</updated>
                            <resolved>Tue, 12 Mar 2013 18:51:38 +0000</resolved>
                                                                    <component>HiveServer2</component>
                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12550255">HIVE-2935</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05xg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3547] thriftif Ant target should clean old Thrift generated code before generating new code</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3547</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12610774">HIVE-3547</key>
            <summary>thriftif Ant target should clean old Thrift generated code before generating new code</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12550255">HIVE-2935</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Oct 2012 22:06:57 +0000</created>
                <updated>Fri, 28 Jun 2013 22:26:29 +0000</updated>
                            <resolved>Tue, 12 Mar 2013 18:54:59 +0000</resolved>
                                                                    <component>HiveServer2</component>
                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12550255">HIVE-2935</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244995</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05xgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32519</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3548] Implement core HiveServer2 components</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3548</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12610775">HIVE-3548</key>
            <summary>Implement core HiveServer2 components</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12550255">HIVE-2935</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Sun, 7 Oct 2012 22:10:07 +0000</created>
                <updated>Fri, 28 Jun 2013 22:26:43 +0000</updated>
                            <resolved>Tue, 12 Mar 2013 18:51:58 +0000</resolved>
                                                                    <component>HiveServer2</component>
                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12550255">HIVE-2935</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244996</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05xgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3549] Add option to run JobClient in process instead of creating a bin/hadoop subprocess</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3549</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12610776">HIVE-3549</key>
            <summary>Add option to run JobClient in process instead of creating a bin/hadoop subprocess</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12550255">HIVE-2935</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                            <label>HiveServer2</label>
                    </labels>
                <created>Sun, 7 Oct 2012 22:17:18 +0000</created>
                <updated>Wed, 9 Jan 2013 03:53:31 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13547607" author="ashutoshc" created="Wed, 9 Jan 2013 03:53:31 +0000"  >&lt;p&gt;Is this dupe of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3574&quot; title=&quot;Allow Hive to Submit MapReduce jobs via the MapReduce API (instead of using Hadoop BIN)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3574&quot;&gt;HIVE-3574&lt;/a&gt; ? If so, lets close this one as the other one has more folks watching it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Jan 2013 03:53:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05xgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32521</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3550] Early skipping for limit operator at reduce stage</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3550</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Queries with limit clause whose final result is from reduce stage could not be early exited like map stage. But it seemed possible to just skip remaining lines. It can be accomplished by adding just two lines. Is there any reason we should not to do that?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select key from src order by key limit 10;
1. current
ExtractOperator: 3 forwarded 500 rows
LimitOperator: 4 forwarded 10 rows

2. early skipping
ExtractOperator: 3 forwarded 12 rows
LimitOperator: 4 forwarded 10 rows
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12610799">HIVE-3550</key>
            <summary>Early skipping for limit operator at reduce stage</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Oct 2012 07:19:10 +0000</created>
                <updated>Fri, 15 Feb 2013 06:25:34 +0000</updated>
                            <resolved>Mon, 8 Oct 2012 22:23:42 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13471431" author="navis" created="Mon, 8 Oct 2012 07:23:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5943&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5943&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13471432" author="phabricator@reviews.facebook.net" created="Mon, 8 Oct 2012 07:24:02 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3550&quot; title=&quot;Early skipping for limit operator at reduce stage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3550&quot;&gt;&lt;del&gt;HIVE-3550&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Early skipping for limit operator at reduce stage&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1908 Early skipping for limit operator at reduce stage&lt;/p&gt;

&lt;p&gt;  Queries with limit clause whose final result is from reduce stage could not be early exited like map stage. But it seemed possible to just skip remaining lines. It can be accomplished by adding just two lines. Is there any reason we should not to do that?&lt;/p&gt;

&lt;p&gt;  select key from src order by key limit 10;&lt;br/&gt;
  1. current&lt;br/&gt;
  ExtractOperator: 3 forwarded 500 rows&lt;br/&gt;
  LimitOperator: 4 forwarded 10 rows&lt;/p&gt;

&lt;p&gt;  2. early skipping&lt;br/&gt;
  ExtractOperator: 3 forwarded 12 rows&lt;br/&gt;
  LimitOperator: 4 forwarded 10 rows&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5943&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5943&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/ExecReducer.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/14115/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/14115/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13471726" author="namit" created="Mon, 8 Oct 2012 18:24:57 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13471731" author="phabricator@reviews.facebook.net" created="Mon, 8 Oct 2012 18:28:02 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3550&quot; title=&quot;Early skipping for limit operator at reduce stage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3550&quot;&gt;&lt;del&gt;HIVE-3550&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Early skipping for limit operator at reduce stage&quot;.&lt;/p&gt;

&lt;p&gt;  Cant think of any reason why it should not be done&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5943&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5943&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1908&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;/p&gt;</comment>
                            <comment id="13471917" author="namit" created="Mon, 8 Oct 2012 22:23:42 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13472176" author="hudson" created="Tue, 9 Oct 2012 06:31:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1730 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1730/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1730/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3550&quot; title=&quot;Early skipping for limit operator at reduce stage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3550&quot;&gt;&lt;del&gt;HIVE-3550&lt;/del&gt;&lt;/a&gt; Early skipping for limit operator at reduce stage&lt;br/&gt;
(Navis via namit) (Revision 1395796)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395796&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395796&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecReducer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548064" author="hudson" created="Wed, 9 Jan 2013 10:24:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3550&quot; title=&quot;Early skipping for limit operator at reduce stage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3550&quot;&gt;&lt;del&gt;HIVE-3550&lt;/del&gt;&lt;/a&gt; Early skipping for limit operator at reduce stage&lt;br/&gt;
(Navis via namit) (Revision 1395796)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395796&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1395796&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecReducer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550097" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:22 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12444968">HIVE-1035</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12548206" name="HIVE-3550.D5943.1.patch" size="571" author="phabricator@reviews.facebook.net" created="Mon, 8 Oct 2012 07:24:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 8 Oct 2012 07:24:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245454</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06afb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34620</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3551] Add more tests where output of sort merge join is sorted</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3551</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As a follow-up to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3536&quot; title=&quot;Output of sort merge join is no longer bucketed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3536&quot;&gt;&lt;del&gt;HIVE-3536&lt;/del&gt;&lt;/a&gt;, it would be good to have tests where a join&lt;br/&gt;
is being performed between a single partition of the big table with multiple&lt;br/&gt;
partitions of the small tables. The output should still be sorted&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610860">HIVE-3551</key>
            <summary>Add more tests where output of sort merge join is sorted</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Oct 2012 19:15:43 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:00 +0000</updated>
                            <resolved>Thu, 18 Oct 2012 19:30:49 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13471842" author="namit" created="Mon, 8 Oct 2012 20:50:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5949&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5949&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13471844" author="namit" created="Mon, 8 Oct 2012 20:51:51 +0000"  >&lt;p&gt;It is a new test - a test only change.&lt;/p&gt;</comment>
                            <comment id="13478284" author="namit" created="Wed, 17 Oct 2012 19:30:58 +0000"  >&lt;p&gt;addressed comments&lt;/p&gt;</comment>
                            <comment id="13478540" author="kevinwilfong" created="Thu, 18 Oct 2012 00:49:23 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13479285" author="kevinwilfong" created="Thu, 18 Oct 2012 19:30:49 +0000"  >&lt;p&gt;Committed, thanks Namit.&lt;/p&gt;</comment>
                            <comment id="13479674" author="hudson" created="Fri, 19 Oct 2012 07:03:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1745 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1745/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1745/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3551&quot; title=&quot;Add more tests where output of sort merge join is sorted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3551&quot;&gt;&lt;del&gt;HIVE-3551&lt;/del&gt;&lt;/a&gt;. Add more tests where output of sort merge join is sorted. (njain via kevinwilfong) (Revision 1399732)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1399732&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1399732&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_12.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_12.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548063" author="hudson" created="Wed, 9 Jan 2013 10:24:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3551&quot; title=&quot;Add more tests where output of sort merge join is sorted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3551&quot;&gt;&lt;del&gt;HIVE-3551&lt;/del&gt;&lt;/a&gt;. Add more tests where output of sort merge join is sorted. (njain via kevinwilfong) (Revision 1399732)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1399732&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1399732&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_12.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_12.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550261" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:00 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12548295" name="hive.3551.1.patch" size="19668" author="namit" created="Mon, 8 Oct 2012 20:51:33 +0000"/>
                            <attachment id="12549557" name="hive.3551.2.patch" size="20485" author="namit" created="Wed, 17 Oct 2012 19:28:50 +0000"/>
                            <attachment id="12549558" name="hive.3551.3.patch" size="34210" author="namit" created="Wed, 17 Oct 2012 19:30:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 18 Oct 2012 00:49:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245630</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06c8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34916</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3552] HIVE-3552 performant manner for performing cubes/rollups/grouping sets for a high number of grouping set keys</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3552</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is a follow up for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3433&quot; title=&quot;Implement CUBE and ROLLUP operators in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3433&quot;&gt;&lt;del&gt;HIVE-3433&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Had a offline discussion with Sambavi - she pointed out a scenario where the&lt;br/&gt;
implementation in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3433&quot; title=&quot;Implement CUBE and ROLLUP operators in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3433&quot;&gt;&lt;del&gt;HIVE-3433&lt;/del&gt;&lt;/a&gt; will not scale. Assume that the user is performing&lt;br/&gt;
a cube on many columns, say &apos;8&apos; columns. So, each row would generate 256 rows&lt;br/&gt;
for the hash table, which may kill the current group by implementation.&lt;/p&gt;

&lt;p&gt;A better implementation would be to add an additional mr job - in the first &lt;br/&gt;
mr job perform the group by assuming there was no cube. Add another mr job, where&lt;br/&gt;
you would perform the cube. The assumption is that the group by would have &lt;br/&gt;
decreased the output data significantly, and the rows would appear in the order of&lt;br/&gt;
grouping keys which has a higher probability of hitting the hash table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610869">HIVE-3552</key>
            <summary>HIVE-3552 performant manner for performing cubes/rollups/grouping sets for a high number of grouping set keys</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Oct 2012 20:58:09 +0000</created>
                <updated>Sat, 31 Jan 2015 19:58:17 +0000</updated>
                            <resolved>Wed, 9 Jan 2013 17:59:41 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13505230" author="namit" created="Wed, 28 Nov 2012 05:29:42 +0000"  >&lt;p&gt;This approach wont work for distincts.&lt;/p&gt;</comment>
                            <comment id="13505231" author="namit" created="Wed, 28 Nov 2012 05:32:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D7029&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7029&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13508575" author="namit" created="Mon, 3 Dec 2012 08:31:53 +0000"  >&lt;p&gt;tests passed&lt;/p&gt;</comment>
                            <comment id="13530021" author="namit" created="Wed, 12 Dec 2012 15:17:47 +0000"  >&lt;p&gt;comments addressed + tests passed&lt;/p&gt;</comment>
                            <comment id="13534273" author="kevinwilfong" created="Mon, 17 Dec 2012 20:30:56 +0000"  >&lt;p&gt;Add a couple comments on Phabricator.&lt;/p&gt;</comment>
                            <comment id="13534646" author="namit" created="Tue, 18 Dec 2012 05:09:30 +0000"  >&lt;p&gt;comments addressed&lt;/p&gt;</comment>
                            <comment id="13536762" author="namit" created="Thu, 20 Dec 2012 04:25:49 +0000"  >&lt;p&gt;refreshed and attached latest patch.&lt;/p&gt;</comment>
                            <comment id="13537462" author="kevinwilfong" created="Thu, 20 Dec 2012 23:02:10 +0000"  >&lt;p&gt;A few more comments on Phabricator.&lt;/p&gt;</comment>
                            <comment id="13542382" author="kevinwilfong" created="Wed, 2 Jan 2013 20:33:56 +0000"  >&lt;p&gt;The patch needs to be updated, it&apos;s not applying cleanly.&lt;/p&gt;

&lt;p&gt;Some minor style comments on Phabricator.&lt;/p&gt;</comment>
                            <comment id="13543542" author="namit" created="Fri, 4 Jan 2013 02:24:28 +0000"  >&lt;p&gt;comments addressed&lt;/p&gt;</comment>
                            <comment id="13547083" author="kevinwilfong" created="Tue, 8 Jan 2013 18:20:19 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13548751" author="kevinwilfong" created="Wed, 9 Jan 2013 17:59:41 +0000"  >&lt;p&gt;Committed, thanks Namit.&lt;/p&gt;</comment>
                            <comment id="13548842" author="hudson" created="Wed, 9 Jan 2013 19:10:34 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #4 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/4/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/4/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3552&quot; title=&quot;HIVE-3552 performant manner for performing cubes/rollups/grouping sets for a high number of grouping set keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3552&quot;&gt;&lt;del&gt;HIVE-3552&lt;/del&gt;&lt;/a&gt;. performant manner for performing cubes/rollups/grouping sets for a high number of grouping set keys. (Revision 1430979)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1430979&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1430979&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/grouping_sets1.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/grouping_sets2.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby6.q.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13549423" author="hudson" created="Thu, 10 Jan 2013 08:17:12 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1904 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1904/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1904/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3552&quot; title=&quot;HIVE-3552 performant manner for performing cubes/rollups/grouping sets for a high number of grouping set keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3552&quot;&gt;&lt;del&gt;HIVE-3552&lt;/del&gt;&lt;/a&gt;. performant manner for performing cubes/rollups/grouping sets for a high number of grouping set keys. (Revision 1430979)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1430979&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1430979&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/grouping_sets1.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/grouping_sets2.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby6.q.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13549459" author="hudson" created="Thu, 10 Jan 2013 09:11:00 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #56 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/56/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/56/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3552&quot; title=&quot;HIVE-3552 performant manner for performing cubes/rollups/grouping sets for a high number of grouping set keys&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3552&quot;&gt;&lt;del&gt;HIVE-3552&lt;/del&gt;&lt;/a&gt;. performant manner for performing cubes/rollups/grouping sets for a high number of grouping set keys. (Revision 1430979)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1430979&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1430979&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/grouping_sets1.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/grouping_sets2.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/GroupByOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby6.q.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13694416" author="yugouai@aliyun.com" created="Thu, 27 Jun 2013 01:42:39 +0000"  >&lt;p&gt;I have tested for cubes and rollups, but failed.&lt;br/&gt;
My table is:t1,formatted followes:&lt;/p&gt;

&lt;p&gt;The error message is:&lt;/p&gt;

&lt;p&gt;I have tried to use hive-0.10.0 and hive-0.11.0, and the error is same.&lt;br/&gt;
Why I cannot use Enhanced Aggregation, Cube, Grouping and Rollup?&lt;br/&gt;
Any one help? thanks!&lt;/p&gt;</comment>
                            <comment id="13694419" author="yugouai@aliyun.com" created="Thu, 27 Jun 2013 01:48:48 +0000"  >&lt;p&gt;I have tested for cubes and rollups, but failed.&lt;br/&gt;
My table is:t1,formatted followes:&lt;br/&gt;
CREATE TABLE T1(a STRING, b STRING, c STRING) ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos; &apos; STORED AS TEXTFILE; &lt;br/&gt;
Datas:&lt;br/&gt;
a1 b1 1&lt;br/&gt;
a2 b2 2&lt;br/&gt;
a3 b3 3&lt;br/&gt;
a4 b4 4&lt;br/&gt;
a5 b5 5&lt;br/&gt;
a6 b6 6&lt;br/&gt;
a7 b7 7&lt;br/&gt;
a1 b1 2&lt;br/&gt;
a1 b1 3&lt;br/&gt;
a2 b2 1&lt;br/&gt;
a2 b2 5&lt;br/&gt;
The sql is:&lt;br/&gt;
hive&amp;gt; SELECT a,b,count(1) from t1 GROUP BY a,b WITH CUBE;&lt;br/&gt;
The error message is:&lt;br/&gt;
FAILED: Parse Error: line 1:37 cannot recognize input near &apos;b&apos; &apos;WITH&apos; &apos;CUBE&apos; in expression specification&lt;br/&gt;
I have tried to use hive-0.10.0 and hive-0.11.0, and the error message is same.&lt;br/&gt;
Why I cannot use Enhanced Aggregation, Cube, Grouping and Rollup?&lt;br/&gt;
Any one help? Thanks!&lt;/p&gt;</comment>
                            <comment id="13878542" author="lefty@hortonworks.com" created="Wed, 22 Jan 2014 11:22:36 +0000"  >&lt;p&gt;This adds hive.new.job.grouping.set.cardinality to HiveConf.java and hive-default.xml.template.&lt;/p&gt;

&lt;p&gt;Also documented in the wiki, with a link to this JIRA ticket:  &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-QueryExecution&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Query Execution &lt;/a&gt; (search for &quot;grouping&quot;).&lt;/p&gt;</comment>
                            <comment id="13878581" author="lefty@hortonworks.com" created="Wed, 22 Jan 2014 12:13:05 +0000"  >&lt;p&gt;The main wikidoc for this is here: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Enhanced+Aggregation%2C+Cube%2C+Grouping+and+Rollup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Enhanced Aggregation, Cube, Grouping and Rollup &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14299962" author="agurumurthi" created="Sat, 31 Jan 2015 19:58:17 +0000"  >&lt;p&gt;Hi Namit,&lt;/p&gt;

&lt;p&gt;This functionality is great.&lt;/p&gt;

&lt;p&gt;Will there be further enhancement to allow following :&lt;br/&gt;
a) Rollup &amp;amp; Cube to allow format such as -&lt;/p&gt;

&lt;p&gt;current format : group by a, b, c with rollup&lt;/p&gt;

&lt;p&gt;New formats : &lt;br/&gt;
a) group by rollup(a, b, c) --&amp;gt; this will give output same as current format&lt;br/&gt;
b) group by rollup((a, b), c) --&amp;gt; this will give output as (a,b,c) / (a,b) / total&lt;br/&gt;
c) group by a rollup((b, c), d) --&amp;gt; this will give output as (a, b, c, d) / (a,b,c) , a&lt;/p&gt;

&lt;p&gt;similar functionality with CUBE&lt;/p&gt;

&lt;p&gt;These allow us to use rollup instead of specifying to many combinations with grouping sets when we do not want all combinations but only selective but it is still too many to specify in grouping sets.&lt;/p&gt;

&lt;p&gt;This functionality is available in RDBMS.&lt;/p&gt;

&lt;p&gt;Another request : If we were to use cube and filter only the sets we need instead of all combinations, i was trying to use groouping__ID to filter only specific sets and it does not return any output.&lt;/p&gt;

&lt;p&gt;select a,b,c, grouping__ID, count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
from tableA&lt;br/&gt;
group by a,b,c, with cube&lt;br/&gt;
having grouping__ID = 2&lt;br/&gt;
;&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Arun&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12606252">HIVE-3433</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12555137" name="hive.3552.1.patch" size="184215" author="namit" created="Wed, 28 Nov 2012 08:37:22 +0000"/>
                            <attachment id="12561840" name="hive.3552.10.patch" size="231297" author="namit" created="Thu, 20 Dec 2012 04:25:34 +0000"/>
                            <attachment id="12562212" name="hive.3552.11.patch" size="231526" author="namit" created="Sat, 22 Dec 2012 05:41:44 +0000"/>
                            <attachment id="12563090" name="hive.3552.12.patch" size="231019" author="namit" created="Thu, 3 Jan 2013 16:44:40 +0000"/>
                            <attachment id="12556123" name="hive.3552.2.patch" size="183149" author="namit" created="Wed, 5 Dec 2012 17:31:41 +0000"/>
                            <attachment id="12560535" name="hive.3552.3.patch" size="223835" author="namit" created="Wed, 12 Dec 2012 10:08:24 +0000"/>
                            <attachment id="12560578" name="hive.3552.4.patch" size="223835" author="namit" created="Wed, 12 Dec 2012 15:17:30 +0000"/>
                            <attachment id="12561427" name="hive.3552.5.patch" size="226102" author="namit" created="Tue, 18 Dec 2012 05:07:46 +0000"/>
                            <attachment id="12561444" name="hive.3552.6.patch" size="226102" author="namit" created="Tue, 18 Dec 2012 07:40:47 +0000"/>
                            <attachment id="12561635" name="hive.3552.7.patch" size="226102" author="namit" created="Wed, 19 Dec 2012 04:33:11 +0000"/>
                            <attachment id="12561653" name="hive.3552.8.patch" size="231723" author="namit" created="Wed, 19 Dec 2012 06:46:53 +0000"/>
                            <attachment id="12561660" name="hive.3552.9.patch" size="231297" author="namit" created="Wed, 19 Dec 2012 08:07:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Dec 2012 20:30:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245641</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06ccn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3553] Support binary qualifiers for Hive/HBase integration</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3553</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Along with regular qualifiers, we should support binary HBase qualifiers as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610875">HIVE-3553</key>
            <summary>Support binary qualifiers for Hive/HBase integration</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="swarnim">Swarnim Kulkarni</assignee>
                                    <reporter username="swarnim">Swarnim Kulkarni</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Oct 2012 21:05:43 +0000</created>
                <updated>Fri, 3 Jan 2014 16:18:10 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13498429" author="swarnim" created="Thu, 15 Nov 2012 23:08:57 +0000"  >&lt;p&gt;This patch should be up for review now.&lt;/p&gt;</comment>
                            <comment id="13559908" author="swarnim" created="Tue, 22 Jan 2013 19:17:16 +0000"  >&lt;p&gt;This is a very small patch which is ready for review. Should I open up a phabricator review for this to get reviewed or the patch should be good enough to review directly?&lt;/p&gt;</comment>
                            <comment id="13569678" author="swarnim" created="Sun, 3 Feb 2013 00:51:07 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/9275/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9275/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13710260" author="swarnim" created="Tue, 16 Jul 2013 21:15:56 +0000"  >&lt;p&gt;If someone can take a quick look at this patch, I will highly appreciate that. Should be pretty quick. Thanks!&lt;/p&gt;</comment>
                            <comment id="13710759" author="navis" created="Wed, 17 Jul 2013 06:05:01 +0000"  >&lt;p&gt;I&apos;ve seen some cases using UTF string as qualifier. I think we should make utility method which can convert both side of usage.&lt;/p&gt;</comment>
                            <comment id="13712453" author="brocknoland" created="Thu, 18 Jul 2013 16:32:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; is there a place we aren&apos;t correctly using UTF-8 charset? Or am I misunderstanding your comment?&lt;/p&gt;</comment>
                            <comment id="13712454" author="brocknoland" created="Thu, 18 Jul 2013 16:33:05 +0000"  >&lt;p&gt;Feedback provided on RB.&lt;/p&gt;</comment>
                            <comment id="13715966" author="navis" created="Tue, 23 Jul 2013 01:38:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; Bytes.toBytes() makes byte[] by String.getBytes(&quot;UTF8&quot;). But Bytes.toBytesBinary() regards all input chars as ascii. I was implying that.&lt;/p&gt;</comment>
                            <comment id="13861605" author="brocknoland" created="Fri, 3 Jan 2014 15:37:47 +0000"  >&lt;p&gt;Ahh ok, that makes sense.  So the change to Bytes.toBytesBinary() will break some users and we&apos;ll need to create our own utility method to do the conversion.&lt;/p&gt;</comment>
                            <comment id="13861612" author="swarnim" created="Fri, 3 Jan 2014 15:49:43 +0000"  >&lt;p&gt;Sounds good to me as well. I&apos;ll make the change and try to have an updated patch soon.&lt;/p&gt;</comment>
                            <comment id="13861633" author="brocknoland" created="Fri, 3 Jan 2014 16:18:10 +0000"  >&lt;p&gt;Sounds good! And thank you for the test &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12553714" name="HIVE-3553.1.patch.txt" size="4948" author="swarnim" created="Thu, 15 Nov 2012 23:04:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Jul 2013 06:05:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245647</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 3 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06cdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34941</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3554] Hive List Bucketing - Query logic</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3554</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is part of efforts for list bucketing feature: &lt;a href=&quot;https://cwiki.apache.org/Hive/listbucketing.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/Hive/listbucketing.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This patch includes:&lt;br/&gt;
1. Query logic: hive chooses right sub-directory instead of partition directory.&lt;br/&gt;
2. alter table grammar which is required to support query logic&lt;/p&gt;

&lt;p&gt;This patch doesn&apos;t include list bucketing DML. Main reasons:&lt;br/&gt;
1. risk. w/o DML, this patch won&apos;t impact any existing hive regression features since no touch on any data manipulation so that very low risk.&lt;br/&gt;
2. manageability. w/ DML, patch is getting bigger and hard to review. Removing DML, it&apos;s easy to review.&lt;/p&gt;

&lt;p&gt;We still disable hive feature by default since DML is not in yet.&lt;/p&gt;

&lt;p&gt;DML will be in follow-up patch. &lt;/p&gt;
</description>
                <environment></environment>
        <key id="12610884">HIVE-3554</key>
            <summary>Hive List Bucketing - Query logic</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Oct 2012 21:41:57 +0000</created>
                <updated>Thu, 2 May 2013 02:30:54 +0000</updated>
                            <resolved>Fri, 2 Nov 2012 11:20:05 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13472190" author="gangtimliu" created="Tue, 9 Oct 2012 07:09:06 +0000"  >&lt;p&gt;patch is available for review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5955&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5955&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="13473740" author="cwsteinbach" created="Thu, 11 Oct 2012 00:30:14 +0000"  >&lt;p&gt;@Tim: I added some comments on phabricator. Also, can you please link this ticket to the other list bucketing tickets? Thanks.&lt;/p&gt;</comment>
                            <comment id="13473955" author="gangtimliu" created="Thu, 11 Oct 2012 08:31:39 +0000"  >&lt;p&gt;Yes, link other issues.&lt;/p&gt;

&lt;p&gt;Yes, patch is available.&lt;/p&gt;</comment>
                            <comment id="13486659" author="namit" created="Tue, 30 Oct 2012 05:18:28 +0000"  >&lt;p&gt;Can you upload the latest patch file ?&lt;/p&gt;</comment>
                            <comment id="13486688" author="namit" created="Tue, 30 Oct 2012 06:39:53 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13487435" author="gangtimliu" created="Wed, 31 Oct 2012 01:25:21 +0000"  >&lt;p&gt;patch is available.&lt;/p&gt;</comment>
                            <comment id="13487436" author="gangtimliu" created="Wed, 31 Oct 2012 01:26:08 +0000"  >&lt;p&gt;Yes, i update the latest patch file here.&lt;/p&gt;

&lt;p&gt;Also in &lt;a href=&quot;https://reviews.facebook.net/D5955&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5955&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13488505" author="mgrover" created="Thu, 1 Nov 2012 06:39:11 +0000"  >&lt;p&gt;@Tim, I took a quick look at the patch and had a few questions for you.&lt;/p&gt;

&lt;p&gt;1. Have you tested the following cases:&lt;br/&gt;
Test A: Renaming the skewed key&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE test (c1 STRING, c2 STRING) SKEWED BY (c1) ON (&lt;span class=&quot;code-quote&quot;&gt;&apos;x1&apos;&lt;/span&gt;);
ALTER TABLE test CHANGE c1 c STRING; -- Changing the type of the skewed key
SELECT * from test where c1=&lt;span class=&quot;code-quote&quot;&gt;&apos;x1&apos;&lt;/span&gt;; -- query with a skewed value
SELECT * from test where c1=&lt;span class=&quot;code-quote&quot;&gt;&apos;x_something &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;&apos;&lt;/span&gt;; -- query with a non-skewed value
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test B: Changing the type of the skewed key&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE test (c1 STRING, c2 STRING) SKEWED BY (c1) ON (&lt;span class=&quot;code-quote&quot;&gt;&apos;12&apos;&lt;/span&gt;);
ALTER TABLE test CHANGE c1 c1 INT; -- Changing the type of the skewed key
SELECT * from test where c1=12; -- query with a skewed value
SELECT * from test where c1=11; -- query with a non-skewed value
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2. Is it possible for user to add/remove skewed keys once the skewed table has been created? If so, would it make sense to add a test case for that?&lt;br/&gt;
3. Is it possible for user to add/remove skewed values (&apos;x1&apos;, &apos;x_something else&apos;, 12, 11, in above examples) once the skewed table has been created? If so, would it make sense to add a test case for that?&lt;/p&gt;</comment>
                            <comment id="13488509" author="gangtimliu" created="Thu, 1 Nov 2012 06:51:07 +0000"  >&lt;p&gt;@Mark,&lt;/p&gt;

&lt;p&gt;In general, alter skewed will overwrite previous setting&lt;/p&gt;

&lt;p&gt;#2 and #3 have been covered in alter_skewed_table.q.&lt;/p&gt;</comment>
                            <comment id="13488920" author="gangtimliu" created="Thu, 1 Nov 2012 18:45:16 +0000"  >&lt;p&gt;@Mark,&lt;/p&gt;

&lt;p&gt;It&apos;s not allowed to rename skewed column. It&apos;s been covered by column_rename5.q&lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;

&lt;p&gt;Tim&lt;/p&gt;</comment>
                            <comment id="13488954" author="gangtimliu" created="Thu, 1 Nov 2012 19:22:16 +0000"  >&lt;p&gt;@Mark,&lt;/p&gt;

&lt;p&gt;It&apos;s also not allowed to change skewed column type. Code has supported it.&lt;/p&gt;

&lt;p&gt;I am going to add a test case to cover it.&lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;

&lt;p&gt;Tim&lt;/p&gt;</comment>
                            <comment id="13489180" author="gangtimliu" created="Fri, 2 Nov 2012 00:49:06 +0000"  >&lt;p&gt;patch available in attachment and D5955&lt;/p&gt;</comment>
                            <comment id="13489261" author="namit" created="Fri, 2 Nov 2012 04:52:31 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will commit if tests pass&lt;/p&gt;</comment>
                            <comment id="13489364" author="namit" created="Fri, 2 Nov 2012 11:20:05 +0000"  >&lt;p&gt;Committed. Thanks Tim&lt;/p&gt;</comment>
                            <comment id="13489444" author="gangtimliu" created="Fri, 2 Nov 2012 14:31:11 +0000"  >&lt;p&gt;Hi Namit thank you so much Tim&lt;/p&gt;

&lt;p&gt;Sent from my iPhone&lt;/p&gt;

</comment>
                            <comment id="13489446" author="mgrover" created="Fri, 2 Nov 2012 14:35:42 +0000"  >&lt;p&gt;Thanks for the clarifications and the patch, Tim!&lt;/p&gt;</comment>
                            <comment id="13489549" author="gangtimliu" created="Fri, 2 Nov 2012 17:14:27 +0000"  >&lt;p&gt;you welcome.&lt;/p&gt;</comment>
                            <comment id="13489843" author="hudson" created="Fri, 2 Nov 2012 23:35:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1770 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1770/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1770/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3554&quot; title=&quot;Hive List Bucketing - Query logic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3554&quot;&gt;&lt;del&gt;HIVE-3554&lt;/del&gt;&lt;/a&gt; Hive List Bucketing - Query logic&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1404924)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1404924&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1404924&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/common/FileUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Partition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/PrunerOperatorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBExprProcCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBExprProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBOpPartitionWalkerCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBOpWalkerCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBPartitionProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/ListBucketingPruner.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/ListBucketingPrunerUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzerFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/HiveOperation.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ValidationUtility.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/optimizer&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/DynamicMultiDimeCollectionTest.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/ListBucketingPrunnerTest.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/column_change_skewedcol_type1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/column_rename5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_skewed_table_col_name_value_no_mismatch.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_skewed_table_dup_col_name.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_skewed_table_failure_invalid_col_name.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_config1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/alter_skewed_table.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/create_skewed_table1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_query_multiskew_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_query_multiskew_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_query_multiskew_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_query_oneskew_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_query_oneskew_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_query_oneskew_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt10.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt11.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt12.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt13.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt14.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt15.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt16.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt17.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt18.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt19.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt8.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt9.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/column_change_skewedcol_type1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/column_rename5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_config1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_skewed_table.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_3.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548067" author="hudson" created="Wed, 9 Jan 2013 10:24:16 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3554&quot; title=&quot;Hive List Bucketing - Query logic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3554&quot;&gt;&lt;del&gt;HIVE-3554&lt;/del&gt;&lt;/a&gt; Hive List Bucketing - Query logic&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1404924)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1404924&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1404924&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/common/FileUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Partition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/PrunerOperatorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBExprProcCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBExprProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBOpPartitionWalkerCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBOpWalkerCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBPartitionProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/LBProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/ListBucketingPruner.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/ListBucketingPrunerUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzerFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/HiveOperation.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ValidationUtility.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/optimizer&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/DynamicMultiDimeCollectionTest.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/optimizer/listbucketingpruner/ListBucketingPrunnerTest.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/column_change_skewedcol_type1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/column_rename5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_skewed_table_col_name_value_no_mismatch.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_skewed_table_dup_col_name.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/create_skewed_table_failure_invalid_col_name.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_config1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/alter_skewed_table.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/create_skewed_table1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_query_multiskew_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_query_multiskew_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_query_multiskew_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_query_oneskew_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_query_oneskew_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/list_bucket_query_oneskew_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt10.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt11.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt12.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt13.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt14.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt15.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt16.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt17.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt18.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt19.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt6.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt7.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt8.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/skewjoinopt9.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/column_change_skewedcol_type1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/column_rename5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_config1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_skewed_table.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_3.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550294" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:08 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12614071">HIVE-3641</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12611302">HIVE-3567</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12614074">HIVE-3642</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12555256">HIVE-3026</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12558842">HIVE-3072</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12558843">HIVE-3073</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12614075">HIVE-3643</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12611301">HIVE-3566</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12607176">HIVE-3451</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12610901">HIVE-3556</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12609577">HIVE-3514</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12548372" name="HIVE-3554.patch.1" size="331" author="gangtimliu" created="Tue, 9 Oct 2012 07:08:31 +0000"/>
                            <attachment id="12551801" name="HIVE-3554.patch.10" size="432773" author="gangtimliu" created="Fri, 2 Nov 2012 00:48:49 +0000"/>
                            <attachment id="12551822" name="HIVE-3554.patch.11" size="441884" author="gangtimliu" created="Fri, 2 Nov 2012 05:39:23 +0000"/>
                            <attachment id="12551834" name="HIVE-3554.patch.12" size="441431" author="gangtimliu" created="Fri, 2 Nov 2012 08:03:07 +0000"/>
                            <attachment id="12548615" name="HIVE-3554.patch.2" size="162378" author="gangtimliu" created="Wed, 10 Oct 2012 19:00:53 +0000"/>
                            <attachment id="12548711" name="HIVE-3554.patch.3" size="217097" author="gangtimliu" created="Thu, 11 Oct 2012 08:30:55 +0000"/>
                            <attachment id="12548763" name="HIVE-3554.patch.4" size="215873" author="gangtimliu" created="Thu, 11 Oct 2012 16:41:12 +0000"/>
                            <attachment id="12548842" name="HIVE-3554.patch.5" size="309033" author="gangtimliu" created="Fri, 12 Oct 2012 01:26:28 +0000"/>
                            <attachment id="12550672" name="HIVE-3554.patch.7" size="423405" author="gangtimliu" created="Wed, 24 Oct 2012 19:28:57 +0000"/>
                            <attachment id="12551470" name="HIVE-3554.patch.8" size="424988" author="gangtimliu" created="Wed, 31 Oct 2012 01:25:42 +0000"/>
                            <attachment id="12551584" name="HIVE-3554.patch.9" size="425209" author="gangtimliu" created="Wed, 31 Oct 2012 17:39:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Oct 2012 00:30:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06cm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3555] Support thrift and protocol buffer data stored in HBase columns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3555</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Presently, the HBase Hive integration supports querying only primitive data types in columns. It would be nice to be able to store and query Thrift or Protocol Buffer objects in HBase columns by making them visible as structs to Hive. This will allow Hive to perform ad hoc analysis of HBase data which can be deeply structured.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610895">HIVE-3555</key>
            <summary>Support thrift and protocol buffer data stored in HBase columns</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="swarnim">Swarnim Kulkarni</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Oct 2012 22:22:43 +0000</created>
                <updated>Mon, 8 Oct 2012 22:22:43 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245689</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06cpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3556] Test &quot;Path -&gt; Alias&quot; for explain extended</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3556</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Test framework masks output of &quot;Path -&amp;gt; Alias&quot; for explain extended. This makes it impossible to verify the output is right. &lt;/p&gt;

&lt;p&gt;Design is to add a new entry &quot;Truncated Path -&amp;gt; Alias&quot; to MapredWork. It has the same content as &quot;Path -&amp;gt; Alias&quot; except the prefix including file schema and temp dir is removed. The following config will be used for prefix-removal:&lt;br/&gt;
METASTOREWAREHOUSE(&quot;hive.metastore.warehouse.dir&quot;, &quot;/user/hive/warehouse&quot;),&lt;/p&gt;

&lt;p&gt;This will keep &quot;Path -&amp;gt; Alias&quot; intact and also test it&apos;s result is right.&lt;/p&gt;

&lt;p&gt;The first use case is to verify list bucketing query&apos;s result is right.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12610901">HIVE-3556</key>
            <summary>Test &quot;Path -&gt; Alias&quot; for explain extended</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Oct 2012 22:51:42 +0000</created>
                <updated>Thu, 2 May 2013 02:30:55 +0000</updated>
                            <resolved>Sat, 13 Oct 2012 17:10:44 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13473603" author="gangtimliu" created="Wed, 10 Oct 2012 22:01:51 +0000"  >&lt;p&gt;patch is available &lt;a href=&quot;https://reviews.facebook.net/D5961&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5961&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13473749" author="namit" created="Thu, 11 Oct 2012 01:06:01 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13473810" author="navis" created="Thu, 11 Oct 2012 03:37:52 +0000"  >&lt;p&gt;It&apos;s better than &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3209&quot; title=&quot;QTestUtil should filter out only env-dependent part of paths from explain result&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3209&quot;&gt;&lt;del&gt;HIVE-3209&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13473864" author="gangtimliu" created="Thu, 11 Oct 2012 06:00:41 +0000"  >&lt;p&gt;@Navis, thanks.&lt;/p&gt;

&lt;p&gt;@Namit, I accidentally deleted &quot;issue link&quot; and just added it back.&lt;/p&gt;

&lt;p&gt;patch is available &lt;a href=&quot;https://reviews.facebook.net/D5961&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5961&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13475057" author="namit" created="Fri, 12 Oct 2012 15:07:58 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13475104" author="namit" created="Fri, 12 Oct 2012 16:13:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gangtimliu&quot; class=&quot;user-hover&quot; rel=&quot;gangtimliu&quot;&gt;Gang Tim Liu&lt;/a&gt;, can you load the new patch file ?&lt;/p&gt;</comment>
                            <comment id="13475160" author="gangtimliu" created="Fri, 12 Oct 2012 16:59:43 +0000"  >&lt;p&gt;Yes, just load one. thanks&lt;/p&gt;</comment>
                            <comment id="13475662" author="namit" created="Sat, 13 Oct 2012 17:10:44 +0000"  >&lt;p&gt;Committed. Thanks Tim&lt;/p&gt;</comment>
                            <comment id="13475667" author="gangtimliu" created="Sat, 13 Oct 2012 17:26:02 +0000"  >&lt;p&gt;Namit thank you very much Tim&lt;/p&gt;

&lt;p&gt;Best wishes&lt;/p&gt;

&lt;p&gt;Tim Liu (Liu , Gang)&lt;/p&gt;

&lt;p&gt;Sent from my iPhone &lt;/p&gt;

</comment>
                            <comment id="13475776" author="hudson" created="Sun, 14 Oct 2012 05:49:46 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1736 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1736/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1736/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3556&quot; title=&quot;Test &amp;quot;Path -&amp;gt; Alias&amp;quot; for explain extended&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3556&quot;&gt;&lt;del&gt;HIVE-3556&lt;/del&gt;&lt;/a&gt; Test &quot;Path -&amp;gt; Alias&quot; for explain extended&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1397897)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1397897&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1397897&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/MapredWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/binary_output_format.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/combine2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ctas.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/disable_merge_for_bucketing.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/filter_join_breaktask.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_map_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_map_ppr_multi_distinct.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_ppr_multi_distinct.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_skew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input23.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input42.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join17.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join26.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join32.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join33.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join34.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join35.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_map_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/louter_join_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/outer_join_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/pcr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_join_filter.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppr_allchildsarenull.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rand_partitionpruner1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rand_partitionpruner2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rand_partitionpruner3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/reduce_deduplicate.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/regexp_extract.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/router_join_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats0.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/transform_ppr1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/transform_ppr2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_explode.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_java_method.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_reflect.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udtf_explode.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union22.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union24.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_ppr.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548038" author="hudson" created="Wed, 9 Jan 2013 10:24:09 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3556&quot; title=&quot;Test &amp;quot;Path -&amp;gt; Alias&amp;quot; for explain extended&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3556&quot;&gt;&lt;del&gt;HIVE-3556&lt;/del&gt;&lt;/a&gt; Test &quot;Path -&amp;gt; Alias&quot; for explain extended&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1397897)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1397897&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1397897&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/MapredWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/binary_output_format.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/combine2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ctas.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/disable_merge_for_bucketing.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/filter_join_breaktask.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_map_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_map_ppr_multi_distinct.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_ppr_multi_distinct.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_skew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input23.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input42.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join17.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join26.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join32.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join33.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join34.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join35.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_map_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/louter_join_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/outer_join_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/pcr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_join_filter.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppr_allchildsarenull.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rand_partitionpruner1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rand_partitionpruner2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rand_partitionpruner3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/reduce_deduplicate.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/regexp_extract.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/router_join_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats0.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/transform_ppr1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/transform_ppr2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_explode.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_java_method.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_reflect.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udtf_explode.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union22.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union24.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_ppr.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550314" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:13 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12612456">HIVE-3597</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12610884">HIVE-3554</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12548701" name="HIVE-3556.patch.1" size="129638" author="gangtimliu" created="Thu, 11 Oct 2012 05:58:57 +0000"/>
                            <attachment id="12548917" name="HIVE-3556.patch.2" size="129638" author="gangtimliu" created="Fri, 12 Oct 2012 16:59:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Oct 2012 01:06:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06cr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35000</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3557] Access to external URLs in hivetest.py </title>
                <link>https://issues.apache.org/jira/browse/HIVE-3557</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;1. Migrate all non-HTTP urls to HTTP.&lt;br/&gt;
2. Add HTTP_PROXY support&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610905">HIVE-3557</key>
            <summary>Access to external URLs in hivetest.py </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ivangorbachev">Ivan Gorbachev</assignee>
                                    <reporter username="ivangorbachev">Ivan Gorbachev</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Oct 2012 23:48:59 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:11 +0000</updated>
                            <resolved>Sat, 10 Nov 2012 01:04:56 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13484298" author="ivangorbachev" created="Thu, 25 Oct 2012 17:23:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6189&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6189&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13493415" author="kevinwilfong" created="Thu, 8 Nov 2012 19:20:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13494483" author="kevinwilfong" created="Sat, 10 Nov 2012 01:04:56 +0000"  >&lt;p&gt;Committed, thanks Ivan.&lt;/p&gt;</comment>
                            <comment id="13494591" author="hudson" created="Sat, 10 Nov 2012 08:31:47 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1788 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1788/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1788/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3557&quot; title=&quot;Access to external URLs in hivetest.py &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3557&quot;&gt;&lt;del&gt;HIVE-3557&lt;/del&gt;&lt;/a&gt;. Access to external URLs in hivetest.py. (Ivan Gorbachev via kevinwilfong) (Revision 1407692)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407692&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407692&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Ssh.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548039" author="hudson" created="Wed, 9 Jan 2013 10:24:09 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3557&quot; title=&quot;Access to external URLs in hivetest.py &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3557&quot;&gt;&lt;del&gt;HIVE-3557&lt;/del&gt;&lt;/a&gt;. Access to external URLs in hivetest.py. (Ivan Gorbachev via kevinwilfong) (Revision 1407692)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407692&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407692&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Ssh.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550049" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:11 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12550812" name="jira-3557.0.patch" size="4717" author="ivangorbachev" created="Thu, 25 Oct 2012 17:24:06 +0000"/>
                            <attachment id="12552542" name="jira-3557.1.patch" size="4866" author="ivangorbachev" created="Wed, 7 Nov 2012 21:26:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Nov 2012 19:20:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245703</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06csv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35008</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3558] UDF  LEFT(string,position) to HIVE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3558</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>
&lt;p&gt;Introduction&lt;/p&gt;


&lt;p&gt;	UDF (User Defined Function) to obtain the left most &apos;n&apos; characters from a string in  HIVE. &lt;/p&gt;


&lt;p&gt;Relevance&lt;/p&gt;

&lt;p&gt;	Current releases of Hive lacks a function which would returns the leftmost len characters from the string str, or NULL if any argument is NULL.   &lt;br/&gt;
The function LEFT(string,length)  would return the leftmost &apos;n&apos; characters from the string , or NULL if any argument is NULL which would be useful while using HiveQL. This would find its use  in all the technical aspects where the concept of strings are used.&lt;/p&gt;


&lt;p&gt;Functionality :-&lt;/p&gt;

&lt;p&gt;Function Name: LEFT(string,length) &lt;/p&gt;

&lt;p&gt;Returns the leftmost length characters from the string  or NULL if any argument is NULL.  &lt;br/&gt;
Example: hive&amp;gt;SELECT LEFT(&apos;https://www.irctc.co.in&apos;,5);&lt;br/&gt;
        	-&amp;gt; &apos;https&apos;&lt;/p&gt;

&lt;p&gt;Usage :-&lt;br/&gt;
Case 1: To query a table to find details based on an https request&lt;br/&gt;
Table :-Transaction&lt;br/&gt;
Request_id|date|period_id|url_name&lt;/p&gt;

&lt;p&gt;0001|01/07/2012|110001|https://www.irctc.co.in&lt;/p&gt;

&lt;p&gt;0002|02/07/2012|110001|https://nextstep.tcs.com&lt;/p&gt;

&lt;p&gt;0003|03/07/2012|110001|https://www.hdfcbank.com&lt;/p&gt;

&lt;p&gt;0005|01/07/2012|110001|http://www.lmnm.co.in&lt;/p&gt;

&lt;p&gt;0006|08/07/2012|110001|http://nextstart.com&lt;/p&gt;

&lt;p&gt;0007|10/07/2012|110001|https://netbanking.icicibank.com&lt;/p&gt;

&lt;p&gt;0012|21/07/2012|110001|http://www.people.co.in&lt;/p&gt;

&lt;p&gt;0026|08/07/2012|110001|http://nextprobs.com&lt;/p&gt;

&lt;p&gt;00023|25/07/2012|110001|https://netbanking.canarabank.com&lt;/p&gt;


&lt;p&gt;Query : select * from transaction where LEFT(url_name,5)=&apos;https&apos;;&lt;/p&gt;


&lt;p&gt;Result :-&lt;br/&gt;
0001|01/07/2012|110001|https://www.irctc.com&lt;br/&gt;
0002|02/07/2012|110001|https://nextstep.tcs.com  &lt;br/&gt;
0003|03/07/2012|110001|https://www.hdfcbank.com&lt;br/&gt;
0007|10/07/2012|110001|https://netbanking.icicibank.com&lt;br/&gt;
00023|25/07/2012|110001|https://netbanking.canarabank.com&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12610969">HIVE-3558</key>
            <summary>UDF  LEFT(string,position) to HIVE</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="arunababu">Aruna Babu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Oct 2012 11:51:39 +0000</created>
                <updated>Wed, 8 Feb 2017 05:45:58 +0000</updated>
                            <resolved>Wed, 8 Feb 2017 05:45:58 +0000</resolved>
                                    <version>0.9.0</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13568664" author="fitha" created="Fri, 1 Feb 2013 10:59:36 +0000"  >&lt;p&gt;patch attached for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3558&quot; title=&quot;UDF  LEFT(string,position) to HIVE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3558&quot;&gt;&lt;del&gt;HIVE-3558&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13568669" author="ak.arun@aol.com" created="Fri, 1 Feb 2013 11:11:54 +0000"  >&lt;p&gt;Adding revieq request - &lt;a href=&quot;https://reviews.apache.org/r/9249/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9249/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arunababu&quot; class=&quot;user-hover&quot; rel=&quot;arunababu&quot;&gt;Aruna Babu&lt;/a&gt; Please check the patch provided. &lt;/p&gt;</comment>
                            <comment id="15857451" author="apivovarov" created="Wed, 8 Feb 2017 05:45:33 +0000"  >&lt;p&gt;You can use substr to get LEFT and RIGHT&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// get characters from 1st to 5th included
&lt;/span&gt;SELECT substr(&lt;span class=&quot;code-quote&quot;&gt;&apos;https:&lt;span class=&quot;code-comment&quot;&gt;//www.irctc.co.in&apos;&lt;/span&gt;, 1, 5);
&lt;/span&gt;https

&lt;span class=&quot;code-comment&quot;&gt;// all RIGHT characters starting from 6th
&lt;/span&gt;SELECT substr(&lt;span class=&quot;code-quote&quot;&gt;&apos;https:&lt;span class=&quot;code-comment&quot;&gt;//www.irctc.co.in&apos;&lt;/span&gt;, 6);
&lt;/span&gt;:&lt;span class=&quot;code-comment&quot;&gt;//www.irctc.co.in&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12567564" name="HIVE-3558.1.patch.txt" size="6100" author="fitha" created="Fri, 1 Feb 2013 10:59:36 +0000"/>
                            <attachment id="12567566" name="udf_left.q" size="175" author="fitha" created="Fri, 1 Feb 2013 10:59:36 +0000"/>
                            <attachment id="12567565" name="udf_left.q.out" size="2073" author="fitha" created="Fri, 1 Feb 2013 10:59:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Feb 2013 10:59:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07fsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41325</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3559] UDF  RIGHT(string,position) to HIVE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3559</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>

&lt;p&gt;Introduction&lt;/p&gt;


&lt;p&gt;	UDF (User Defined Function) to obtain the rightmost &apos;n&apos; characters from a string in  HIVE. &lt;/p&gt;


&lt;p&gt;Relevance&lt;/p&gt;

&lt;p&gt;	Current releases of Hive lacks a function which would returns the rightmost len characters from the string str, or NULL if any argument is NULL. The function LEFT(string,length)  would return the rightmost &apos;length&apos; characters from the string &apos;string&apos; , or NULL if any argument is NULL which would be useful while using HiveQL. This would find its use  in all the technical aspects where the concept of strings are used.&lt;/p&gt;


&lt;p&gt;Functionality :-&lt;/p&gt;

&lt;p&gt;Function Name: RIGHT(string,length) &lt;/p&gt;

&lt;p&gt;Returns the rightmost &apos;length&apos; characters from the string  or NULL if any argument is NULL.  &lt;br/&gt;
Example: hive&amp;gt;SELECT LEFT(&apos;https://www.irctc.com&apos;,3);&lt;br/&gt;
        	-&amp;gt; &apos;com&apos;&lt;/p&gt;

&lt;p&gt;Usage :-&lt;br/&gt;
Case 1: To query a table to find details based on an https request&lt;br/&gt;
Table :-Transaction&lt;br/&gt;
Request_id|date|period_id|url_name&lt;/p&gt;

&lt;p&gt;0001|01/07/2012|110001|https://www.irctc.com&lt;/p&gt;

&lt;p&gt;0002|02/07/2012|110001|https://nextstep.tcs.com&lt;/p&gt;

&lt;p&gt;0003|03/07/2012|110001|https://www.hdfcbank.com&lt;/p&gt;

&lt;p&gt;0005|01/07/2012|110001|http://www.lmnm.org&lt;/p&gt;

&lt;p&gt;0006|08/07/2012|110001|http://nextstart.gov&lt;/p&gt;

&lt;p&gt;0007|10/07/2012|110001|https://netbanking.icicibank.com&lt;/p&gt;

&lt;p&gt;0012|21/07/2012|110001|http://www.people.nic&lt;/p&gt;

&lt;p&gt;0026|08/07/2012|110001|http://nextprobs.gov&lt;/p&gt;

&lt;p&gt;00023|25/07/2012|110001|https://netbanking.canarabank.com&lt;/p&gt;


&lt;p&gt;Query : select * from transaction where RIGHT(url_name,3)=&apos;com&apos;;&lt;/p&gt;


&lt;p&gt;Result :-&lt;br/&gt;
0001|01/07/2012|110001|https://www.irctc.com&lt;br/&gt;
0002|02/07/2012|110001|https://nextstep.tcs.com  &lt;br/&gt;
0003|03/07/2012|110001|https://www.hdfcbank.com&lt;br/&gt;
0007|10/07/2012|110001|https://netbanking.icicibank.com&lt;br/&gt;
00023|25/07/2012|110001|https://netbanking.canarabank.com&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12610973">HIVE-3559</key>
            <summary>UDF  RIGHT(string,position) to HIVE</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="vinayavarghese">Vinaya Varghese</assignee>
                                    <reporter username="vinayavarghese">Vinaya Varghese</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Oct 2012 12:01:22 +0000</created>
                <updated>Fri, 26 Feb 2016 09:09:44 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13568667" author="meenu" created="Fri, 1 Feb 2013 11:03:04 +0000"  >&lt;p&gt;Patch attached for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3559&quot; title=&quot;UDF  RIGHT(string,position) to HIVE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3559&quot;&gt;HIVE-3559&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13568668" author="ak.arun@aol.com" created="Fri, 1 Feb 2013 11:08:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vinayavarghese&quot; class=&quot;user-hover&quot; rel=&quot;vinayavarghese&quot;&gt;Vinaya Varghese&lt;/a&gt;, Please find the patch added.&lt;/p&gt;

&lt;p&gt;Quoting the review request &lt;a href=&quot;https://reviews.apache.org/r/9248/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9248/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13569140" author="cwsteinbach" created="Fri, 1 Feb 2013 21:53:34 +0000"  >&lt;p&gt;@Meenu: I left some comments on reviewboard. Please take a look. Thanks.&lt;/p&gt;</comment>
                            <comment id="13570282" author="ak.arun@aol.com" created="Mon, 4 Feb 2013 14:18:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=meenu&quot; class=&quot;user-hover&quot; rel=&quot;meenu&quot;&gt;Meenu K Chandran&lt;/a&gt;&lt;br/&gt;
Please review the patch submitted. I have seen ample number of bugs in the current version of the patch.&lt;/p&gt;

&lt;p&gt;eg:&lt;/p&gt;

&lt;p&gt;String null, length 3&lt;br/&gt;
String &quot;teststring&quot;, length 200&lt;br/&gt;
String &quot;test&quot;, length -1&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;Do take time and fix these bugs and add new patch file. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12567567" name="HIVE-3559.1.patch.txt" size="6165" author="meenu" created="Fri, 1 Feb 2013 11:03:04 +0000"/>
                            <attachment id="12567569" name="udf_right.q" size="175" author="meenu" created="Fri, 1 Feb 2013 11:03:04 +0000"/>
                            <attachment id="12567568" name="udf_right.q.out" size="2073" author="meenu" created="Fri, 1 Feb 2013 11:03:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 1 Feb 2013 11:03:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>246001</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 51 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07ftj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41329</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3560] Hive always prints a warning message when using remote metastore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3560</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This issue was discovered in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2585&quot; title=&quot;Collapse hive.metastore.uris and hive.metastore.local&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2585&quot;&gt;&lt;del&gt;HIVE-2585&lt;/del&gt;&lt;/a&gt; and more details about why this issue was filed are available there.&lt;/p&gt;

&lt;p&gt;Currently if one sets &lt;tt&gt;hive.metastore.uris&lt;/tt&gt; the following error will always be displayed:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2012-07-24 15:23:58,647 [main] WARN org.apache.hadoop.hive.conf.HiveConf - DEPRECATED: Configuration property hive.metastore.local no longer has any effect. Make sure to provide a valid value &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; hive.metastore.uris &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; you are connecting to a remote metastore.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The reason is &lt;tt&gt;javax.jdo.option.ConnectionURL&lt;/tt&gt; has a default value and will never be null. I set this property in &lt;tt&gt;hive-site.xml&lt;/tt&gt; and walked through the configuration loading in a debugger. If the value is not empty it takes effect, and is ignored if empty.&lt;/p&gt;

&lt;p&gt;Since &lt;tt&gt;javax.jdo.option.ConnectionURL&lt;/tt&gt; has a default and cannot be unset, this warning will always be printed if someone sets &lt;tt&gt;hive.metastore.uris&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Per the review comments, the error message was added to reduce user confusion, and prevent surprises by using the wrong metastore (either embedded or remote). In &lt;tt&gt;HiveMetaStoreClient.java&lt;/tt&gt; we see a very clear info message printed saying that a remote metastore is used.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Trying to connect to metastore with URI &quot;&lt;/span&gt; + store);
...
LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Connected to metastore.&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Since we clearly communicate to the user that a remote metastore at the given URI is being used we&apos;ll remove that message. Additionally, to further clarify a remote metastore is used I&apos;ll make the following HiveMetaStoreClient logging change:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Trying to connect to remote HiveMetaStore: &quot;&lt;/span&gt; + store);
...
LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Connected to remote HiveMetaStore: &quot;&lt;/span&gt; + store);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The change is at debug level we print connection attempts, and always print which remote HiveMetaStore we actually connected to.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12611061">HIVE-3560</key>
            <summary>Hive always prints a warning message when using remote metastore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="traviscrawford">Travis Crawford</assignee>
                                    <reporter username="traviscrawford">Travis Crawford</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Oct 2012 20:39:41 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:55 +0000</updated>
                            <resolved>Wed, 14 Nov 2012 02:57:50 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13477322" author="traviscrawford" created="Tue, 16 Oct 2012 20:34:50 +0000"  >&lt;p&gt;Looking at this patch with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pengfeng&quot; class=&quot;user-hover&quot; rel=&quot;pengfeng&quot;&gt;Feng Peng&lt;/a&gt; he had the good suggestion we should log the &quot;Trying to connect&quot; line at the same level as the &quot;Connected&quot; line. The reason is for making calls out to another service we should always have the start/end log messages at the same level or higher, so they can be matched up in the logs.&lt;/p&gt;</comment>
                            <comment id="13496298" author="ashutoshc" created="Tue, 13 Nov 2012 16:22:18 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13496789" author="ashutoshc" created="Wed, 14 Nov 2012 02:57:50 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Travis!&lt;/p&gt;</comment>
                            <comment id="13497118" author="hudson" created="Wed, 14 Nov 2012 14:17:41 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1795 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1795/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1795/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3560&quot; title=&quot;Hive always prints a warning message when using remote metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3560&quot;&gt;&lt;del&gt;HIVE-3560&lt;/del&gt;&lt;/a&gt; : Hive always prints a warning message when using remote metastore (Travis Crawford via Ashutosh Chauhan) (Revision 1409066)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409066&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409066&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548034" author="hudson" created="Wed, 9 Jan 2013 10:24:08 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3560&quot; title=&quot;Hive always prints a warning message when using remote metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3560&quot;&gt;&lt;del&gt;HIVE-3560&lt;/del&gt;&lt;/a&gt; : Hive always prints a warning message when using remote metastore (Travis Crawford via Ashutosh Chauhan) (Revision 1409066)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409066&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409066&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550238" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:55 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12531722">HIVE-2585</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12549356" name="HIVE-3560_logging_tweaks.1.patch" size="3522" author="traviscrawford" created="Tue, 16 Oct 2012 18:21:41 +0000"/>
                            <attachment id="12549378" name="HIVE-3560_logging_tweaks.2.patch" size="3521" author="traviscrawford" created="Tue, 16 Oct 2012 20:34:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Nov 2012 16:22:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>246497</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07pzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42976</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
