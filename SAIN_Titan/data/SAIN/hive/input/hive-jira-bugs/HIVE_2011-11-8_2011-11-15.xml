<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:19:26 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2011-11-8+AND+created+%3C%3D+2011-11-15+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="22" total="22"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2557] Inserting illegal timestamp behaves differently that in MySql</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2557</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In MySql there is:&lt;/p&gt;

&lt;p&gt;Illegal DATETIME, DATE, or TIMESTAMP values are converted to the &quot;zero&quot; value of the appropriate type (&apos;0000-00-00 00:00:00&apos; or &apos;0000-00-00&apos;). ( &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/datetime.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/datetime.html&lt;/a&gt; ), yet in Hive we have e.g.:&lt;/p&gt;

&lt;p&gt;hive&amp;gt; insert into table rrt select &apos;1970-01-51 00:00:05&apos; from src_copy limit 1;&lt;br/&gt;
hive&amp;gt; select * from rrt;&lt;br/&gt;
1970-02-20 00:00:05&lt;/p&gt;

&lt;p&gt;It is probably something to be discussed whether to change it, but at least we should be aware of this current inconsistency, especially when documentation for timestamp will be added. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12530660">HIVE-2557</key>
            <summary>Inserting illegal timestamp behaves differently that in MySql</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rsurowka">Robert Sur&#243;wka</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Nov 2011 00:27:20 +0000</created>
                <updated>Tue, 8 Nov 2011 00:27:20 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216398</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123977</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2558] Timestamp comparisons don&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2558</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I may be missing something, but:&lt;/p&gt;

&lt;p&gt;After performing:&lt;/p&gt;

&lt;p&gt;create table rrt (r timestamp);&lt;br/&gt;
insert into table rrt select &apos;1970-01-01 00:00:01&apos; from src limit 1;&lt;/p&gt;

&lt;p&gt;Following queries give undesirable results:&lt;/p&gt;

&lt;p&gt;select * from rrt where r in (&apos;1970-01-01 00:00:01&apos;);&lt;br/&gt;
select * from rrt where r in (0); &lt;br/&gt;
select * from rrt where r = 0; &lt;br/&gt;
select * from rrt where r = &apos;1970-01-01 00:00:01&apos;;&lt;/p&gt;

&lt;p&gt;At least for the first two, the reason may be the lack of timestamp in numericTypes Map from FunctionRegistry.java (591) . Yet whether we really want to have a linear hierarchy of primitive types in the end, is another question.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12530664">HIVE-2558</key>
            <summary>Timestamp comparisons don&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rsurowka">Robert Sur&#243;wka</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Nov 2011 00:57:25 +0000</created>
                <updated>Fri, 24 Jan 2014 19:20:59 +0000</updated>
                            <resolved>Fri, 24 Jan 2014 19:20:59 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13168407" author="priyadarshini.r" created="Tue, 13 Dec 2011 14:27:22 +0000"  >&lt;p&gt;Hi Robert,&lt;/p&gt;

&lt;p&gt;In the above query, timestamp is used as a column datatype of the table rrt.&lt;br/&gt;
So when u want to use the timestamp in the where clause of select statement, we should be able to tell that the data we are searching is a timestamp value.&lt;br/&gt;
Giving the field value in single/double quote will be treated as a string value and not timestamp value.&lt;br/&gt;
So when u wanted to retreive the results that satisfy the timestamp value you are specifying in where clause, the query should be&lt;/p&gt;

&lt;p&gt;select * from rrt where r = unix_timestamp(&apos;1970-01-01 00:00:01&apos;);&lt;/p&gt;

&lt;p&gt;This would be interpreted as data u r searching is a timestamp. &lt;br/&gt;
Hope it helps &lt;/p&gt;


&lt;p&gt;Thanks,&lt;br/&gt;
Priya&lt;/p&gt;</comment>
                            <comment id="13236736" author="ubell" created="Fri, 23 Mar 2012 16:23:43 +0000"  >&lt;p&gt;In the query:&lt;/p&gt;

&lt;p&gt;select * from rrt where r = &apos;1970-01-01 00:00:01&apos;;&lt;/p&gt;

&lt;p&gt;you say that the problem is that the field is treated as a string not as a time stamp but if it is treated as a string then either there should be a proper conversion of the string to timestamp (or vice versa) to do the compare or an error should be raised, you cannot just compare the bytes (or what ever hive is doing) and return an invalid answer.&lt;/p&gt;

&lt;p&gt;The first query:&lt;/p&gt;

&lt;p&gt;select * from rrt where r in (&apos;1970-01-01 00:00:01&apos;);&lt;/p&gt;

&lt;p&gt;does the right thing:&lt;br/&gt;
FAILED: Error in semantic analysis: Line 1:26 Wrong arguments &apos;&apos;1970-01-01 00:00:01&apos;&apos;: The arguments for IN should be the same type! Types are: &lt;/p&gt;
{timestamp IN (string)}</comment>
                            <comment id="13236800" author="ubell" created="Fri, 23 Mar 2012 17:21:10 +0000"  >&lt;p&gt;Actually I misunderstood what hive is doing.  It is converting the string to a number and then comparing it to the timestamp:&lt;/p&gt;

&lt;p&gt;select * from rrt where r = &apos;28801&apos;;&lt;br/&gt;
OK&lt;br/&gt;
1970-01-01 00:00:01&lt;/p&gt;

&lt;p&gt;While this does pass the reasonability test, I don&apos;t think its the right thing to do.  It would be much better to implicitly cast the string constant to a timestamp.&lt;/p&gt;</comment>
                            <comment id="13881331" author="jdere" created="Fri, 24 Jan 2014 19:19:38 +0000"  >&lt;p&gt;This has changed as of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5204&quot; title=&quot;Change type compatibility methods to use PrimitiveCategory rather than TypeInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5204&quot;&gt;&lt;del&gt;HIVE-5204&lt;/del&gt;&lt;/a&gt; - the comparison is done as string&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Dec 2011 14:27:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2559] Add target to install Hive JARs/POMs in the local Maven cache</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2559</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2391&quot; title=&quot;published POMs in Maven repo are incorrect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2391&quot;&gt;&lt;del&gt;HIVE-2391&lt;/del&gt;&lt;/a&gt; is producing usable Maven artifacts.&lt;/p&gt;

&lt;p&gt;However, it only as a target to deploy/publish those artifacts to Apache Maven repos.&lt;/p&gt;

&lt;p&gt;There should be a new target to locally install Hive Maven artifacts, thus enabling their use from other projects before they are committed/publish to Apache Maven (this is critical to test patches that may address issues in downstream components).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12530735">HIVE-2559</key>
            <summary>Add target to install Hive JARs/POMs in the local Maven cache</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="tucu00">Alejandro Abdelnur</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Nov 2011 16:48:11 +0000</created>
                <updated>Thu, 2 May 2013 02:29:46 +0000</updated>
                            <resolved>Thu, 5 Apr 2012 07:26:58 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13245612" author="alangates" created="Tue, 3 Apr 2012 19:06:36 +0000"  >&lt;p&gt;Addition to build.xml to allow publishing to local maven repo.  With this if you do:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;
ant -Dmvn.publish.repo=local maven-build
ant -Dmvn.publish.repo=local maven-publish
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You&apos;ll publish the jars to your local maven repo (by default located in ~/.m2).&lt;/p&gt;

&lt;p&gt;Note that you must do an &quot;ant package&quot; first because the jar target (which maven-build depends on) doesn&apos;t build the builtins.  This looked like a bug, but I didn&apos;t change it because the maven-build target is part of the nightly build and release publishing process, and I did not want to mess it up.&lt;/p&gt;

&lt;p&gt;Could someone with appropriate power assign this JIRA to me?  Or better yet put me in the contributor list so I can assign it to myself.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13246928" author="ashutoshc" created="Thu, 5 Apr 2012 01:30:10 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13247070" author="ashutoshc" created="Thu, 5 Apr 2012 07:26:58 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Alan!&lt;/p&gt;</comment>
                            <comment id="13247535" author="hudson" created="Thu, 5 Apr 2012 19:00:58 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1354 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1354/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1354/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2559&quot; title=&quot;Add target to install Hive JARs/POMs in the local Maven cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2559&quot;&gt;&lt;del&gt;HIVE-2559&lt;/del&gt;&lt;/a&gt; : Add target to install Hive JARs/POMs in the local Maven cache (Alan Gates via Ashutosh Chauhan) (Revision 1309675)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1309675&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1309675&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265299" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:35 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13501591" author="mikhail" created="Tue, 20 Nov 2012 23:47:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3694&quot; title=&quot;Generate test jars and publish them to Maven&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3694&quot;&gt;HIVE-3694&lt;/a&gt; deals with packaging certain test classes that are necessary to test some projects dependent on Hive.&lt;/p&gt;</comment>
                            <comment id="13547884" author="hudson" created="Wed, 9 Jan 2013 10:23:27 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2559&quot; title=&quot;Add target to install Hive JARs/POMs in the local Maven cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2559&quot;&gt;&lt;del&gt;HIVE-2559&lt;/del&gt;&lt;/a&gt; : Add target to install Hive JARs/POMs in the local Maven cache (Alan Gates via Ashutosh Chauhan) (Revision 1309675)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1309675&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1309675&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12615414">HIVE-3694</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12519222">HIVE-2391</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12521192" name="HIVE-2559.patch" size="667" author="alangates" created="Tue, 3 Apr 2012 19:06:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 Apr 2012 19:06:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216473</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09yi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56031</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2560] speed up Hive unit tests by configuring Derby to be non-durable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2560</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Try setting derby.system.durability=test to see if it can speed up metastore writes while running Hive ant test.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://db.apache.org/derby/docs/10.1/tuning/rtunproperdurability.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://db.apache.org/derby/docs/10.1/tuning/rtunproperdurability.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12530769">HIVE-2560</key>
            <summary>speed up Hive unit tests by configuring Derby to be non-durable</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="mareksapota_fb">Marek Sapota</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Nov 2011 20:42:43 +0000</created>
                <updated>Tue, 8 Nov 2011 23:39:51 +0000</updated>
                            <resolved>Tue, 8 Nov 2011 23:00:39 +0000</resolved>
                                    <version>0.9.0</version>
                                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13146580" author="phabricator@reviews.facebook.net" created="Tue, 8 Nov 2011 21:35:51 +0000"  >&lt;p&gt;mareksapotafb requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2560&quot; title=&quot;speed up Hive unit tests by configuring Derby to be non-durable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2560&quot;&gt;&lt;del&gt;HIVE-2560&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; speed up Hive unit tests by configuring Derby to be non-durable&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Set the derby.system.durability property in build-common.xml&lt;/p&gt;

&lt;p&gt;  Try setting derby.system.durability=test to see if it can speed up metastore writes while running Hive ant test.&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://db.apache.org/derby/docs/10.1/tuning/rtunproperdurability.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://db.apache.org/derby/docs/10.1/tuning/rtunproperdurability.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D327&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D327&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/657/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/657/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13146581" author="phabricator@reviews.facebook.net" created="Tue, 8 Nov 2011 21:37:51 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2560&quot; title=&quot;speed up Hive unit tests by configuring Derby to be non-durable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2560&quot;&gt;&lt;del&gt;HIVE-2560&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; speed up Hive unit tests by configuring Derby to be non-durable&quot;.&lt;/p&gt;

&lt;p&gt;  Now I just have to test and see if it actually works=)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D327&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D327&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13146604" author="phabricator@reviews.facebook.net" created="Tue, 8 Nov 2011 22:13:51 +0000"  >&lt;p&gt;mareksapotafb updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2560&quot; title=&quot;speed up Hive unit tests by configuring Derby to be non-durable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2560&quot;&gt;&lt;del&gt;HIVE-2560&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; speed up Hive unit tests by configuring Derby to be non-durable&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Maybe I should place it here?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D327&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D327&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  conf/hive-default.xml&lt;/p&gt;</comment>
                            <comment id="13146608" author="phabricator@reviews.facebook.net" created="Tue, 8 Nov 2011 22:25:51 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2560&quot; title=&quot;speed up Hive unit tests by configuring Derby to be non-durable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2560&quot;&gt;&lt;del&gt;HIVE-2560&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; speed up Hive unit tests by configuring Derby to be non-durable&quot;.&lt;/p&gt;

&lt;p&gt;  You should be able to verify that the setting has been picked up by seeing this in derby.log:&lt;/p&gt;

&lt;p&gt;  WARNING: The database is booted with derby.system.durability=test.&lt;br/&gt;
  In this mode, it is possible that database may not be able to recover, committed transactions may be lost, and the database may be in an inconsistent state. Please use this mode only when these consequences are acceptable.&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D327&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D327&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13146613" author="phabricator@reviews.facebook.net" created="Tue, 8 Nov 2011 22:37:51 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2560&quot; title=&quot;speed up Hive unit tests by configuring Derby to be non-durable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2560&quot;&gt;&lt;del&gt;HIVE-2560&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; speed up Hive unit tests by configuring Derby to be non-durable&quot;.&lt;/p&gt;

&lt;p&gt;  With both changes the setting got picked up.  I can check which change actually caused it after the tests finish.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D327&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D327&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13146622" author="phabricator@reviews.facebook.net" created="Tue, 8 Nov 2011 22:49:51 +0000"  >&lt;p&gt;mareksapotafb updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2560&quot; title=&quot;speed up Hive unit tests by configuring Derby to be non-durable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2560&quot;&gt;&lt;del&gt;HIVE-2560&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; speed up Hive unit tests by configuring Derby to be non-durable&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Back to only Ant change&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D327&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D327&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;/p&gt;</comment>
                            <comment id="13146630" author="phabricator@reviews.facebook.net" created="Tue, 8 Nov 2011 22:59:51 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2560&quot; title=&quot;speed up Hive unit tests by configuring Derby to be non-durable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2560&quot;&gt;&lt;del&gt;HIVE-2560&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; speed up Hive unit tests by configuring Derby to be non-durable&quot;.&lt;/p&gt;

&lt;p&gt;  The change in build-common was enough for derby to pick it up, but unfortunately it didn&apos;t give any speed up.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D327&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D327&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13146631" author="jvs" created="Tue, 8 Nov 2011 23:00:39 +0000"  >&lt;p&gt;Closing this as invalid since my guess on its usefulness was wrong.&lt;/p&gt;</comment>
                            <comment id="13146655" author="phabricator@reviews.facebook.net" created="Tue, 8 Nov 2011 23:39:51 +0000"  >&lt;p&gt;mareksapotafb has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2560&quot; title=&quot;speed up Hive unit tests by configuring Derby to be non-durable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2560&quot;&gt;&lt;del&gt;HIVE-2560&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; speed up Hive unit tests by configuring Derby to be non-durable&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D327&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D327&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12502964" name="ASF.LICENSE.NOT.GRANTED--D327.1.patch" size="567" author="phabricator@reviews.facebook.net" created="Tue, 8 Nov 2011 21:35:52 +0000"/>
                            <attachment id="12502971" name="ASF.LICENSE.NOT.GRANTED--D327.2.patch" size="1083" author="phabricator@reviews.facebook.net" created="Tue, 8 Nov 2011 22:13:51 +0000"/>
                            <attachment id="12502980" name="ASF.LICENSE.NOT.GRANTED--D327.3.patch" size="567" author="phabricator@reviews.facebook.net" created="Tue, 8 Nov 2011 22:49:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Nov 2011 21:35:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216507</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123979</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2561] Allow UDFs to specify additional FILE/JAR resources necessary for execution</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2561</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Often times UDFs will have dependencies to external JARs/FILEs.  It makes sense for these to be encoded by the UDF (rather than having the caller remember the set of files that need to be ADDed).  Let&apos;s add an annotation to UDFs which will cause these resources to be auto-added.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12530779">HIVE-2561</key>
            <summary>Allow UDFs to specify additional FILE/JAR resources necessary for execution</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jonchang">Jonathan Chang</assignee>
                                    <reporter username="jonchang">Jonathan Chang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Nov 2011 22:48:48 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:09 +0000</updated>
                            <resolved>Tue, 29 Nov 2011 21:27:55 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13146678" author="atfiore" created="Wed, 9 Nov 2011 00:18:46 +0000"  >&lt;p&gt;I like the idea of using an annotation to load or require files, but it would be awesome if there were a way to bundle or package dependency files and store them in a consistent but reconfigurable location.  That way we could avoid specifying them with (potentially brittle) absolute paths in the UDF source files.&lt;/p&gt;</comment>
                            <comment id="13146680" author="jonchang" created="Wed, 9 Nov 2011 00:21:41 +0000"  >&lt;p&gt;Hm, how would you feel about something more general then, like a method on the class that would be called.  That method could potentially access things like environment vars, config settings, etc. to dynamically specify the dependencies?&lt;/p&gt;</comment>
                            <comment id="13146697" author="atfiore" created="Wed, 9 Nov 2011 00:49:06 +0000"  >&lt;p&gt;That seems like a good idea. Do you mean a member method in the UDF class (or its children) or a method that a UDF class could call on something else to fetch the info?  That is, would UDFs pull these environment vars, etc., by calling some getter as needed, or would they be pushed to them by the Hive runtime (e.g., by calling a setter on a UDF class before its evaluate() is called)?  Is there already some way for any Hive class to get info from a central config store somewhere?&lt;/p&gt;

&lt;p&gt;I&apos;m unclear on what &quot;ADD JAR&quot; and &quot;ADD FILE&quot; in the Hive CLI do.  In my own tests with loading files from an absolute path, I can directly read (i.e., open a file handle) from an absolute path when running in local mode.  When the job is sent out to the cluster, this fails, though that might be because the cluster nodes don&apos;t mount the same share in the same way as my local machine.  However, if I &quot;ADD FILE &lt;span class=&quot;error&quot;&gt;&amp;#91;absolute-path&amp;#93;&lt;/span&gt;&quot; from the CLI, then the UDF running on the cluster node can open a file handle with just the file name (i.e., no path).&lt;/p&gt;

&lt;p&gt;Point being &amp;#8211; will the approach we&apos;re talking about work if the dependency files live at different absolute paths from the point of view of the CLI client machine and the cluster nodes?&lt;/p&gt;</comment>
                            <comment id="13146703" author="jonchang" created="Wed, 9 Nov 2011 00:54:39 +0000"  >&lt;p&gt;I believe (and I will check this tomorrow), that UDFs have access to the config during the init phase which happens on the local machine.  There is an outstanding JIRA to make the config available to the running UDFs but it&apos;s not needed here since all the ADDs happen before execution.  I&apos;ll probably end up adding some utility functions to make getting these values easier.&lt;/p&gt;

&lt;p&gt;So for ADD FILE and the like, you should not refer to the absolute path in your UDF.  In essence, ADD FILE is copying those paths to some temp directory which is the working directory of the UDF.  &lt;/p&gt;</comment>
                            <comment id="13148057" author="jonchang" created="Thu, 10 Nov 2011 22:27:43 +0000"  >&lt;p&gt;Ok, I think I have a reasonable implementation.  Does anyone have a good suggestion for a UDF which I could also add and which would be a good testbed for this functionality?&lt;/p&gt;</comment>
                            <comment id="13148084" author="atfiore" created="Thu, 10 Nov 2011 22:55:24 +0000"  >&lt;p&gt;Language detection?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://code.google.com/p/language-detection/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://code.google.com/p/language-detection/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13148089" author="jonchang" created="Thu, 10 Nov 2011 23:04:23 +0000"  >&lt;p&gt;External dependencies might lead to license hell.&lt;/p&gt;</comment>
                            <comment id="13148101" author="atfiore" created="Thu, 10 Nov 2011 23:20:10 +0000"  >&lt;p&gt;True, although that particular library and its dependency are Apache 2.0-licensed, just like Hive.&lt;/p&gt;

&lt;p&gt;It seems like some kind of lookup function in an external data file would be a good example.  It&apos;s hard to think of anything that would be both generally useful to Hive users and public-domain, though.  Is there something in here maybe?  &lt;a href=&quot;http://aws.amazon.com/datasets&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://aws.amazon.com/datasets&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13148104" author="jonchang" created="Thu, 10 Nov 2011 23:28:08 +0000"  >&lt;p&gt;How about something general then which takes a delimited input file and does lookups? Or would that just be overly redundant with a mapjoin?&lt;/p&gt;</comment>
                            <comment id="13152317" author="ikabiljo" created="Thu, 17 Nov 2011 20:58:45 +0000"  >&lt;p&gt;Maybe some udf that needs another library to be added to classpath to work? (maybe we already have some, which currently makes that library being added always?)&lt;/p&gt;</comment>
                            <comment id="13153753" author="phabricator@reviews.facebook.net" created="Sun, 20 Nov 2011 09:48:51 +0000"  >&lt;p&gt;jonchang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Add requirements.&lt;/p&gt;

&lt;p&gt;  Often times UDFs will have dependencies to external JARs/FILEs.  It makes sense for these to be encoded by the UDF (rather than having the caller remember the set of files that need to be ADDed).  Let&apos;s add an annotation to UDFs which will cause these resources to be auto-added.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDF.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFInFile.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_in_file.q&lt;br/&gt;
  ql/src/test/results/clientpositive/show_functions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_in_file.q.out&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/1059/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/1059/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13153940" author="appodictic" created="Mon, 21 Nov 2011 02:03:57 +0000"  >&lt;p&gt;I understand the reason for wanting this because when you do not get the stuff you need on the classpath tracing the error is hard. However with a dynamic class loading language like Java I think marking classes with dependencies is not the way to go. i think it is better to make the error reporting clear then to try to make an administrative problem a coding problem.&lt;/p&gt;</comment>
                            <comment id="13153961" author="jonchang" created="Mon, 21 Nov 2011 03:06:30 +0000"  >&lt;p&gt;I don&apos;t think this is purely an administrative problem; right now there&apos;s no way for an administrator to express that this file should be added if and only if the query uses a certain UDF.  And even if there were it then tightly couples the UDF developer with the administration of the cluster.  Thus it seems to me that the responsibility of specifying what the requirements are of the UDF should be the onus of the UDF developer, not the cluster administrator or the end user/query writer.&lt;/p&gt;</comment>
                            <comment id="13154520" author="phabricator@reviews.facebook.net" created="Mon, 21 Nov 2011 21:12:52 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:1091 Why?  I don&apos;t understand the connection between statefulness and external jar dependency.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFInFile.java:41 Have you tested this on a real cluster to make sure the paths actually come out the same on both the client side and inside the task execution?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13154525" author="jvs" created="Mon, 21 Nov 2011 21:14:28 +0000"  >&lt;p&gt;@Jon:  This JIRA issue should be renamed since you went with the method override approach instead of annotation.&lt;/p&gt;</comment>
                            <comment id="13154573" author="phabricator@reviews.facebook.net" created="Mon, 21 Nov 2011 21:54:51 +0000"  >&lt;p&gt;jonchang has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:1091 A file handle is state.  Or at least, I haven&apos;t seen a function that depended on external files that wasn&apos;t stateful.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFInFile.java:41 Is the test case not sufficient?  You&apos;ll notice that the resource added is the fully qualified path, but the file loaded is the unqualified path (since on execution time you don&apos;t get the absolute path).&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13154702" author="phabricator@reviews.facebook.net" created="Mon, 21 Nov 2011 22:53:39 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:1091 The stateful annotation is intended for stuff like running sum, where the state seen so far affects the results of future evaluations.&lt;/p&gt;

&lt;p&gt;  The presence of internal state (e.g. file handle) is unrelated to stateful behavior.&lt;/p&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFInFile.java:41 Unit tests run in something like local mode, so for stuff like this, it&apos;s usually a good idea to test on a real cluster too.  It&apos;s fine to either test now, or wait until after it gets committed and then test later and open up a new JIRA issue if there&apos;s a problem.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13154720" author="appodictic" created="Mon, 21 Nov 2011 23:19:00 +0000"  >&lt;p&gt;If you look at the direction Java has gone with systems like Guice, dependency injection, and OSGi if has become the job of the packager to make sure the classpath is proper. I can see the case for add FILE. Although throwing a Runtime exception can convey the same information throw new RunTimeException(&quot;could not find X in distributed cache&quot;), but for other jars we are just coming up with exotic wrapping for ClassNotFoundException(). I think developing custom annotations to deal with user space errors bloats the codebase. &lt;/p&gt;

&lt;p&gt;I do have a GEOIP UDF that has exactly this problem, needing other jars and an external file in the distributed cache but I think annotation based dependency declaration does not have a large advantage over throwing exceptions. This is a pretty nitch case.  The only one I see is you will get an error in the compile phase rather then the MR phase.   &lt;/p&gt;</comment>
                            <comment id="13154726" author="phabricator@reviews.facebook.net" created="Mon, 21 Nov 2011 23:27:39 +0000"  >&lt;p&gt;jonchang has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFInFile.java:41 In what ways would you expect differences to pop up?  Is there a way I can test these code paths easily in my unittest?&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:1091 Internal state such as whether or not I&apos;ve opened the file handle seem to me to be as stateful as a cumulative sum?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13154727" author="jonchang" created="Mon, 21 Nov 2011 23:29:43 +0000"  >&lt;p&gt;A dependency declaration allows the resources to be automatically loaded so the end user doesn&apos;t have to.  I don&apos;t think this is a niche case; this has come up a lot and this diff is the result of a brainstorm in response to user complaints.&lt;/p&gt;</comment>
                            <comment id="13154733" author="phabricator@reviews.facebook.net" created="Mon, 21 Nov 2011 23:39:39 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:1091 The statefulness refers to the user-visible behavior of the function, not to its implementation.&lt;/p&gt;

&lt;p&gt;  By declaring in_file to be stateful, you&apos;d be preventing it from being used in the WHERE clause, and there&apos;s no reason for that restriction.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFInFile.java:41 I&apos;m not expecting any differences; if there were any it would probably have to do with how the filename is qualified.&lt;/p&gt;

&lt;p&gt;  We have a &quot;minimr&quot; test mode; I&apos;m not sure whether it exercises all the same code paths as the real thing with respect to added files.  Tests named in build-common.xml&apos;s minimr.query.files get run in this mode.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13154736" author="jvs" created="Mon, 21 Nov 2011 23:43:46 +0000"  >&lt;p&gt;@Ed:  the standard SQL way to handle this is via SQL/J jar support (as implemented by Oracle, PostgreSQL, DB/2, LucidDB, and others).  There, you bundle up the function descriptions inside of a descriptor file in the jar, and then when you add the jar to the system, all of the functions get deployed automatically.  And there&apos;s a way to declare dependencies between jars as well.&lt;/p&gt;

&lt;p&gt;Long-term, we could consider adding that as part of support for persistent functions; the whole temporary function thing is kludgy to begin with (in my opinion), so a little more won&apos;t kill us in the interim.&lt;/p&gt;</comment>
                            <comment id="13154738" author="phabricator@reviews.facebook.net" created="Mon, 21 Nov 2011 23:49:40 +0000"  >&lt;p&gt;atfiore has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;/p&gt;

&lt;p&gt;  One inline comment below and one more general question:  Will this functionality be available only to GenericUDFs?  It would be great to have this for simple UDFs, too.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDF.java:133 Is &quot;fully qualified path&quot; really what we mean here?  The examples in udf_in_file.q use relative file paths.&lt;/p&gt;

&lt;p&gt;  And what about the case of fixed files/JARs required for the UDF to work and distributed with it?  Including fully qualified file paths seems brittle for this use case.  Or are the paths meant to be relative to some central, configurable $root that all UDF-evaluation contexts can see?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13154741" author="atfiore" created="Mon, 21 Nov 2011 23:50:39 +0000"  >&lt;p&gt;As an end user, noob-ish UDF author, and originator of one of the user complaints Jon mentioned, I would agree that this is not a niche case.  &lt;/p&gt;

&lt;p&gt;For end users who aren&apos;t writing the UDFs they want to use or administering clusters, it&apos;s not just that you might get an error in the compile phase rather than the MR phase (which does save some time), it&apos;s that you are much more likely to avoid the error completely.  End users of UDFs shouldn&apos;t have to know anything about the FILE or JAR dependencies.  Administrators should have to worry about them exactly once, when they put them in a common place and perhaps set a config parameter to let UDFs know where to look for their stuff.  And even better would be if we had full-fledged packaging as John describes.&lt;/p&gt;</comment>
                            <comment id="13154796" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 01:14:40 +0000"  >&lt;p&gt;jonchang updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Get rid of stateful check, move the check to a more precise place.  Adjust comment based on suggestion.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDF.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFInFile.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_in_file.q&lt;br/&gt;
  ql/src/test/results/clientpositive/show_functions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_in_file.q.out&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java&lt;/p&gt;</comment>
                            <comment id="13154812" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 01:34:39 +0000"  >&lt;p&gt;jsichi has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;/p&gt;

&lt;p&gt;  +1.  Will commit when tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13155264" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 17:10:39 +0000"  >&lt;p&gt;jonchang has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;/p&gt;

&lt;p&gt;  @atfiore, this doesn&apos;t add it to UDFs but that&apos;s a good idea.  I&apos;ll do a followup diff for that (@jvs, can you make sure not to mark this as resolved until both are in?).&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13155366" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 19:38:39 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;/p&gt;

&lt;p&gt;  Running tests, I got a failure in show_functions.q because it shows up in more than one result; there&apos;s one that tests regex with SHOW FUNCTIONS &apos;.*e$&apos;.&lt;/p&gt;

&lt;p&gt;  So you can just give me an updated diff which fixes that and adds the non-generic support.&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13155449" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 21:28:39 +0000"  >&lt;p&gt;jsichi has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13156532" author="phabricator@reviews.facebook.net" created="Thu, 24 Nov 2011 04:59:39 +0000"  >&lt;p&gt;jonchang updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;br/&gt;
Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;  Also add support to regular UDFs.  Fix failing unittest.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/UDF.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDF.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBridge.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFInFile.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_in_file.q&lt;br/&gt;
  ql/src/test/results/clientpositive/show_functions.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_in_file.q.out&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java&lt;/p&gt;</comment>
                            <comment id="13158936" author="phabricator@reviews.facebook.net" created="Mon, 28 Nov 2011 23:35:39 +0000"  >&lt;p&gt;jsichi has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;/p&gt;

&lt;p&gt;  +1, will commit when tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13159553" author="jvs" created="Tue, 29 Nov 2011 21:27:56 +0000"  >&lt;p&gt;Committed to trunk.  Thanks Jonathan!  Remember to update the wiki for the new function.  (Dang, we need to get those auto-generated!)&lt;/p&gt;
</comment>
                            <comment id="13159558" author="phabricator@reviews.facebook.net" created="Tue, 29 Nov 2011 21:33:39 +0000"  >&lt;p&gt;jonchang has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional FILE/JAR resources necessary for execution&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D507&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D507&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1208075&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1208075&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13159806" author="hudson" created="Wed, 30 Nov 2011 04:03:05 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1112 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1112/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1112/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2561&quot; title=&quot;Allow UDFs to specify additional FILE/JAR resources necessary for execution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2561&quot;&gt;&lt;del&gt;HIVE-2561&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add an annotation to UDFs to allow them to specify additional&lt;br/&gt;
FILE/JAR resources necessary for execution&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
Add requirements.&lt;/p&gt;

&lt;p&gt;Often times UDFs will have dependencies to external JARs/FILEs.  It makes sense&lt;br/&gt;
for these to be encoded by the UDF (rather than having the caller remember the&lt;br/&gt;
set of files that need to be ADDed).  Let&apos;s add an annotation to UDFs which will&lt;br/&gt;
cause these resources to be auto-added.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: jsichi, jonchang, atfiore&lt;/p&gt;

&lt;p&gt;Differential Revision: 507&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1208075&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1208075&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/UDF.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDF.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBridge.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFInFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_in_file.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/show_functions.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_in_file.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12504425" name="ASF.LICENSE.NOT.GRANTED--HIVE-2561.D507.1.patch" size="16764" author="phabricator@reviews.facebook.net" created="Sun, 20 Nov 2011 09:48:52 +0000"/>
                            <attachment id="12504689" name="ASF.LICENSE.NOT.GRANTED--HIVE-2561.D507.2.patch" size="16949" author="phabricator@reviews.facebook.net" created="Tue, 22 Nov 2011 01:14:41 +0000"/>
                            <attachment id="12504987" name="ASF.LICENSE.NOT.GRANTED--HIVE-2561.D507.3.patch" size="19397" author="phabricator@reviews.facebook.net" created="Thu, 24 Nov 2011 04:59:40 +0000"/>
                            <attachment id="12504772" name="HIVE-2561.D507.2.patch" size="16949" author="jonchang" created="Tue, 22 Nov 2011 17:11:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Nov 2011 00:18:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216517</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123980</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2562] HIVE-2247 Changed the Thrift API causing compatibility issues.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2562</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2247&quot; title=&quot;ALTER TABLE RENAME PARTITION&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2247&quot;&gt;&lt;del&gt;HIVE-2247&lt;/del&gt;&lt;/a&gt; Added a parameter to alter_partition in the Metastore Thrift API which has been causing compatibility issues with some scripts.  We would like to change this to have two methods, one called alter_partition which takes the old parameters, and one called something else (I&apos;ll leave the naming up to you) which has the new parameters.  The implementation of the old method should just call the new method with null for the new parameter.&lt;/p&gt;

&lt;p&gt;This will fix the compatibility issues.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12530800">HIVE-2562</key>
            <summary>HIVE-2247 Changed the Thrift API causing compatibility issues.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="weiyan">Weiyan Wang</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Nov 2011 01:28:40 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:40 +0000</updated>
                            <resolved>Thu, 10 Nov 2011 17:30:20 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13146850" author="weiyan" created="Wed, 9 Nov 2011 08:38:15 +0000"  >&lt;p&gt;keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null &lt;/p&gt;

&lt;p&gt;Run the &quot;ant test&quot;. Only load_fs.q fails, but after I revert the patch and run &quot;ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false&quot; it still fails. So I think it&apos;s not a bug introduced by my patch&lt;/p&gt;</comment>
                            <comment id="13146869" author="jiraposter@reviews.apache.org" created="Wed, 9 Nov 2011 09:05:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-11-09 09:04:42.416457)&lt;/p&gt;


&lt;p&gt;Review request for hive, Siying Dong and Kevin Wilfong.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;I thought this patch is going to fix the bug in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2247&quot; title=&quot;ALTER TABLE RENAME PARTITION&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2247&quot;&gt;&lt;del&gt;HIVE-2247&lt;/del&gt;&lt;/a&gt;, so I should put &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2247&quot; title=&quot;ALTER TABLE RENAME PARTITION&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2247&quot;&gt;&lt;del&gt;HIVE-2247&lt;/del&gt;&lt;/a&gt; in the bugs field...It seems it is not like what I think.&lt;/p&gt;


&lt;p&gt;Summary (updated)&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null&lt;/p&gt;

&lt;p&gt;Run the &quot;ant test&quot;. Only load_fs.q fails, but after I revert the patch and run &quot;ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false&quot; it still fails. So I think it&apos;s not a bug introduced by my patch&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; title=&quot;HIVE-2247 Changed the Thrift API causing compatibility issues.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2562&quot;&gt;&lt;del&gt;HIVE-2562&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2562&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/metastore/if/hive_metastore.thrift 1199598 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199598 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199598 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199598 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199598 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199598 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199598 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199598 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199598 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199598 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199598 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2783/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Weiyan&lt;/p&gt;
</comment>
                            <comment id="13147154" author="jiraposter@reviews.apache.org" created="Wed, 9 Nov 2011 17:01:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2783/#review3131&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/#review3131&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/metastore/if/hive_metastore.thrift&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2783/#comment6944&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/#comment6944&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    can this function just called rename_partition().&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ning&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-11-09 09:04:42, Weiyan Wang wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/2783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-11-09 09:04:42)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, Siying Dong and Kevin Wilfong.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Run the &quot;ant test&quot;. Only load_fs.q fails, but after I revert the patch and run &quot;ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false&quot; it still fails. So I think it&apos;s not a bug introduced by my patch&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; title=&quot;HIVE-2247 Changed the Thrift API causing compatibility issues.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2562&quot;&gt;&lt;del&gt;HIVE-2562&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2562&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/if/hive_metastore.thrift 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2783/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Weiyan&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13147197" author="namit" created="Wed, 9 Nov 2011 18:05:07 +0000"  >&lt;p&gt;Remove the files /tmp/*9000 from your machine.&lt;br/&gt;
load_fs.q will succeed after that&lt;/p&gt;</comment>
                            <comment id="13147234" author="jiraposter@reviews.apache.org" created="Wed, 9 Nov 2011 19:45:51 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-11-09 17:01:46, Ning Zhang wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/metastore/if/hive_metastore.thrift, line 373&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2783/diff/2/?file=56941#file56941line373&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/diff/2/?file=56941#file56941line373&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     can this function just called rename_partition().&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree with Ning&apos;s comment about the function name, everything else looks good to me.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Kevin&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2783/#review3131&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/#review3131&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-11-09 09:04:42, Weiyan Wang wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/2783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-11-09 09:04:42)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, Siying Dong and Kevin Wilfong.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Run the &quot;ant test&quot;. Only load_fs.q fails, but after I revert the patch and run &quot;ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false&quot; it still fails. So I think it&apos;s not a bug introduced by my patch&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; title=&quot;HIVE-2247 Changed the Thrift API causing compatibility issues.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2562&quot;&gt;&lt;del&gt;HIVE-2562&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2562&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/if/hive_metastore.thrift 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199598 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2783/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Weiyan&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13147314" author="jiraposter@reviews.apache.org" created="Wed, 9 Nov 2011 21:39:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-11-09 21:38:50.463372)&lt;/p&gt;


&lt;p&gt;Review request for hive, Siying Dong and Kevin Wilfong.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Address Ning&apos;s comment&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null&lt;/p&gt;

&lt;p&gt;Run the &quot;ant test&quot;. Only load_fs.q fails, but after I revert the patch and run &quot;ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false&quot; it still fails. So I think it&apos;s not a bug introduced by my patch&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; title=&quot;HIVE-2247 Changed the Thrift API causing compatibility issues.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2562&quot;&gt;&lt;del&gt;HIVE-2562&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2562&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/metastore/if/hive_metastore.thrift 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199943 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199943 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199943 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2783/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Weiyan&lt;/p&gt;
</comment>
                            <comment id="13147316" author="jiraposter@reviews.apache.org" created="Wed, 9 Nov 2011 21:41:51 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-11-09 17:01:46, Ning Zhang wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/metastore/if/hive_metastore.thrift, line 373&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2783/diff/2/?file=56941#file56941line373&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/diff/2/?file=56941#file56941line373&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     can this function just called rename_partition().&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Kevin Wilfong wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;I agree with Ning&apos;s comment about the function name, everything else looks good to me.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I am still running all unit tests.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Weiyan&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2783/#review3131&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/#review3131&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-11-09 21:38:50, Weiyan Wang wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/2783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-11-09 21:38:50)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, Siying Dong and Kevin Wilfong.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Run the &quot;ant test&quot;. Only load_fs.q fails, but after I revert the patch and run &quot;ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false&quot; it still fails. So I think it&apos;s not a bug introduced by my patch&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; title=&quot;HIVE-2247 Changed the Thrift API causing compatibility issues.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2562&quot;&gt;&lt;del&gt;HIVE-2562&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2562&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/if/hive_metastore.thrift 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2783/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Weiyan&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13147327" author="jiraposter@reviews.apache.org" created="Wed, 9 Nov 2011 22:01:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2783/#review3141&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/#review3141&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/metastore/if/hive_metastore.thrift&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2783/#comment6951&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/#comment6951&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    can you keep the comments for this method (after reverting the changes to the comments as well). &lt;/p&gt;



&lt;p&gt;trunk/metastore/if/hive_metastore.thrift&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2783/#comment6952&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/#comment6952&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    the comment here is not clear. are you changing the name of new_part with the name specified by part_vals or you want to change the partition identified by part_vals with the name found in new_part? &lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ning&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-11-09 21:38:50, Weiyan Wang wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/2783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-11-09 21:38:50)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, Siying Dong and Kevin Wilfong.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Run the &quot;ant test&quot;. Only load_fs.q fails, but after I revert the patch and run &quot;ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false&quot; it still fails. So I think it&apos;s not a bug introduced by my patch&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; title=&quot;HIVE-2247 Changed the Thrift API causing compatibility issues.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2562&quot;&gt;&lt;del&gt;HIVE-2562&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2562&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/if/hive_metastore.thrift 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2783/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Weiyan&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13147504" author="weiyan" created="Thu, 10 Nov 2011 05:45:00 +0000"  >&lt;p&gt;Change comment in the thrift api&lt;/p&gt;</comment>
                            <comment id="13147506" author="jiraposter@reviews.apache.org" created="Thu, 10 Nov 2011 05:47:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-11-10 05:46:57.500909)&lt;/p&gt;


&lt;p&gt;Review request for hive, Siying Dong and Kevin Wilfong.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null&lt;/p&gt;

&lt;p&gt;Run the &quot;ant test&quot;. Only load_fs.q fails, but after I revert the patch and run &quot;ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false&quot; it still fails. So I think it&apos;s not a bug introduced by my patch&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; title=&quot;HIVE-2247 Changed the Thrift API causing compatibility issues.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2562&quot;&gt;&lt;del&gt;HIVE-2562&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2562&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/metastore/if/hive_metastore.thrift 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199943 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199943 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199943 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199943 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2783/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Weiyan&lt;/p&gt;
</comment>
                            <comment id="13147527" author="nzhang" created="Thu, 10 Nov 2011 07:03:30 +0000"  >&lt;p&gt;+1. Will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="13147528" author="jiraposter@reviews.apache.org" created="Thu, 10 Nov 2011 07:03:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2783/#review3150&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/#review3150&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Ship it!&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ning&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-11-10 05:46:57, Weiyan Wang wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/2783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-11-10 05:46:57)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, Siying Dong and Kevin Wilfong.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;keep the old api alter_partition, and add the new api alter_rename_partition. In the server side, alter_partition calls alter_rename_partition with part_vals = null&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Run the &quot;ant test&quot;. Only load_fs.q fails, but after I revert the patch and run &quot;ant clean package; ant test -Dtestcase=TestCliDriver -Dqfile=load_fs.q -Dtest.silent=false&quot; it still fails. So I think it&apos;s not a bug introduced by my patch&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; title=&quot;HIVE-2247 Changed the Thrift API causing compatibility issues.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2562&quot;&gt;&lt;del&gt;HIVE-2562&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2562&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/if/hive_metastore.thrift 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1199943 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2783/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2783/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Weiyan&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13147842" author="nzhang" created="Thu, 10 Nov 2011 17:30:20 +0000"  >&lt;p&gt;Committed. Thanks Weiyan!&lt;/p&gt;</comment>
                            <comment id="13148119" author="hudson" created="Thu, 10 Nov 2011 23:37:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1075 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1075/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1075/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2562&quot; title=&quot;HIVE-2247 Changed the Thrift API causing compatibility issues.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2562&quot;&gt;&lt;del&gt;HIVE-2562&lt;/del&gt;&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2247&quot; title=&quot;ALTER TABLE RENAME PARTITION&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2247&quot;&gt;&lt;del&gt;HIVE-2247&lt;/del&gt;&lt;/a&gt; Changed the Thrift API causing compatibility issues. (Weiyan Wang via Ning Zhang)&lt;/p&gt;

&lt;p&gt;nzhang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1200442&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1200442&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/if/hive_metastore.thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12503136" name="HIVE-2562-1.patch" size="108233" author="weiyan" created="Wed, 9 Nov 2011 21:39:28 +0000"/>
                            <attachment id="12503170" name="HIVE-2562-2.patch" size="108465" author="weiyan" created="Thu, 10 Nov 2011 05:45:00 +0000"/>
                            <attachment id="12503028" name="HIVE-2562.patch" size="109463" author="weiyan" created="Wed, 9 Nov 2011 08:38:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Nov 2011 08:38:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216538</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 11 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123981</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2563] OutOfMemory errors when using dynamic partition inserts with large number of partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2563</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I&apos;m trying to use dynamic partition inserts to mimic a legacy file generation process that creates a single file per combination of two record attributes, one with a low cardinality, and one with a high degree of cardinality.  In a small data set, I can do this successfully.  Using a larger data set on the same 11 node cluster, with a combined cardinality resulting in ~1600 partitions, I get out of memory errors in the reduce phase 100% of the time.  &lt;/p&gt;

&lt;p&gt;I&apos;m running with the following settings, writing to a textfile-backed table with two partitions of type string:&lt;/p&gt;

&lt;p&gt;SET hive.exec.compress.output=true; &lt;br/&gt;
SET io.seqfile.compression.type=BLOCK;&lt;br/&gt;
SET mapred.max.map.failures.percent=100;&lt;br/&gt;
SET hive.exec.dynamic.partition=true;&lt;br/&gt;
SET hive.exec.dynamic.partition.mode=nonstrict;&lt;br/&gt;
SET hive.exec.max.dynamic.partitions=10000;&lt;br/&gt;
SET hive.exec.max.dynamic.partitions.pernode=10000;&lt;/p&gt;

&lt;p&gt;(I&apos;ve also tried gzip compression with the same result)&lt;/p&gt;


&lt;p&gt;Here&apos;s an example of the error:&lt;/p&gt;

&lt;p&gt;2011-11-09 00:51:52,425 INFO org.apache.hadoop.hive.ql.exec.FileSinkOperator: New Final Path: FS hdfs://ec2-50-19-131-121.compute-1.amazonaws.com/tmp/hive-hdfs/hive_2011-11-09_00-48-57_840_6003656718210084497/_tmp.-ext-10000/requestday=2011-09-29/clientname=XXXX-JA/000008_0.deflate&lt;br/&gt;
2011-11-09 00:51:52,461 INFO org.apache.hadoop.mapred.TaskLogsTruncater: Initializing logs&apos; truncater with mapRetainSize=-1 and reduceRetainSize=-1&lt;br/&gt;
2011-11-09 00:51:52,464 FATAL org.apache.hadoop.mapred.Child: Error running child : java.lang.OutOfMemoryError: unable to create new native thread&lt;br/&gt;
	at java.lang.Thread.start0(Native Method)&lt;br/&gt;
	at java.lang.Thread.start(Thread.java:640)&lt;br/&gt;
	at org.apache.hadoop.hdfs.DFSClient$DFSOutputStream.&amp;lt;init&amp;gt;(DFSClient.java:2931)&lt;br/&gt;
	at org.apache.hadoop.hdfs.DFSClient.create(DFSClient.java:544)&lt;br/&gt;
	at org.apache.hadoop.hdfs.DistributedFileSystem.create(DistributedFileSystem.java:219)&lt;br/&gt;
	at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:584)&lt;br/&gt;
	at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:565)&lt;br/&gt;
	at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:472)&lt;br/&gt;
	at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:464)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat.getHiveRecordWriter(HiveIgnoreKeyTextOutputFormat.java:80)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.HiveFileFormatUtils.getRecordWriter(HiveFileFormatUtils.java:247)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.HiveFileFormatUtils.getHiveRecordWriter(HiveFileFormatUtils.java:235)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.FileSinkOperator.createBucketFiles(FileSinkOperator.java:458)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.FileSinkOperator.getDynOutWriters(FileSinkOperator.java:599)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.FileSinkOperator.processOp(FileSinkOperator.java:539)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:744)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.SelectOperator.processOp(SelectOperator.java:84)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:744)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.GroupByOperator.forward(GroupByOperator.java:959)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.GroupByOperator.processAggr(GroupByOperator.java:798)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.GroupByOperator.processOp(GroupByOperator.java:724)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecReducer.reduce(ExecReducer.java:247)&lt;br/&gt;
	at org.apache.hadoop.mapred.ReduceTask.runOldReducer(ReduceTask.java:469)&lt;br/&gt;
	at org.apache.hadoop.mapred.ReduceTask.run(ReduceTask.java:417)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child$4.run(Child.java:270)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1127)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child.main(Child.java:264)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Cloudera CDH3 Update 2 distro on Ubuntu 10.04 64 bit cluster nodes&lt;/p&gt;</environment>
        <key id="12530802">HIVE-2563</key>
            <summary>OutOfMemory errors when using dynamic partition inserts with large number of partitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="epollan">Evan Pollan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Nov 2011 01:35:10 +0000</created>
                <updated>Wed, 9 Nov 2011 01:52:02 +0000</updated>
                                            <version>0.7.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13146723" author="epollan" created="Wed, 9 Nov 2011 01:52:02 +0000"  >&lt;p&gt;By the way, the total number of records in this table (if were able to insert successfully &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, is just over 5 million.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216540</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 11 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02o5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13515</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2564] Set dbname at JDBC URL or properties</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2564</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The current Hive implementation ignores a database name at JDBC URL, &lt;br/&gt;
though we can set it by executing &quot;use &amp;lt;DBNAME&amp;gt;&quot; statement.&lt;br/&gt;
I think it is better to also specify a database name at JDBC URL or database properties.&lt;br/&gt;
Therefore, I&apos;ll attach the patch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12530804">HIVE-2564</key>
            <summary>Set dbname at JDBC URL or properties</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="shinsuke">Shinsuke Sugaya</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 9 Nov 2011 02:01:39 +0000</created>
                <updated>Wed, 11 Jun 2014 19:00:22 +0000</updated>
                            <resolved>Wed, 11 Jun 2014 19:00:22 +0000</resolved>
                                    <version>0.7.1</version>
                    <version>0.12.0</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>5</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13146725" author="shinsuke" created="Wed, 9 Nov 2011 02:03:29 +0000"  >&lt;p&gt;Attached patch.&lt;/p&gt;</comment>
                            <comment id="13407867" author="thesemo" created="Fri, 6 Jul 2012 09:47:48 +0000"  >&lt;p&gt;Hope to resolve this issue soon.&lt;/p&gt;</comment>
                            <comment id="13655815" author="jin" created="Mon, 13 May 2013 07:15:12 +0000"  >&lt;p&gt;Hope to resolve this issue soon, me too.&lt;br/&gt;
If this patch is too big, I&apos;d like to send new small patch.&lt;/p&gt;</comment>
                            <comment id="13723841" author="jin" created="Tue, 30 Jul 2013 13:22:41 +0000"  >&lt;p&gt;I attached new patch including TestCase.&lt;/p&gt;</comment>
                            <comment id="13724015" author="hiveqa" created="Tue, 30 Jul 2013 16:25:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594952/HIVE-2564.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594952/HIVE-2564.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 58 failed/errored test(s), 2738 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDriverProperties
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDatabaseMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAll
org.apache.hive.jdbc.TestJdbcDriver2.testResultSetMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetColumnsMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testDescribeTable
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllFetchSize
org.apache.hive.jdbc.TestJdbcDriver2.testNullType
org.apache.hive.jdbc.TestJdbcDriver2.testDuplicateColumnNameOrder
org.apache.hive.jdbc.TestJdbcDriver2.testProccedures
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllMaxRows
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testErrorMessages
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAllFetchSize
org.apache.hive.jdbc.TestJdbcDriver2.testDataTypes2
org.apache.hive.jdbc.TestJdbcDriver2.testOutOfBoundCols
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAll
org.apache.hive.jdbc.TestJdbcDriver2.testDriverProperties
org.apache.hive.jdbc.TestJdbcDriver2.testErrorDiag
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testNullType
org.apache.hive.jdbc.TestJdbcDriver2.testProcCols
org.apache.hive.jdbc.TestJdbcDriver2.testBuiltInUDFCol
org.apache.hive.jdbc.TestJdbcDriver2.testPostClose
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetColumnsMetaData
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetTableTypes
org.apache.hive.jdbc.TestJdbcDriver2.testErrorMessages
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllPartioned
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetColumns
org.apache.hive.jdbc.TestJdbcDriver2.testPrimaryKeys
org.apache.hive.jdbc.TestJdbcDriver2.testShowTables
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetTables
org.apache.hive.jdbc.TestJdbcDriver2.testShowDatabases
org.apache.hive.jdbc.TestJdbcDriver2.testExplainStmt
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testResultSetMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testBadURL
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetCatalogs
org.apache.hive.jdbc.TestJdbcDriver2.testImportedKeys
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testShowTables
org.apache.hive.jdbc.TestJdbcDriver2.testPrepareStatement
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetCatalogs
org.apache.hive.jdbc.TestJdbcDriver2.testInvalidURL
org.apache.hive.jdbc.TestJdbcDriver2.testSetCommand
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAllMaxRows
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testExplainStmt
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDescribeTable
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDataTypes
org.apache.hive.jdbc.TestJdbcDriver2.testDataTypes
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAllPartioned
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSetCommand
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetTables
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetColumns
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testPrepareStatement
org.apache.hive.jdbc.TestJdbcDriver2.testDatabaseMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetSchemas
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetSchemas
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testConversionsBaseResultSet
org.apache.hive.jdbc.TestJdbcDriver2.testExprCol
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetTableTypes
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testShowDatabases
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/240/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/240/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/240/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/240/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 58 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13724109" author="hiveqa" created="Tue, 30 Jul 2013 17:23:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594952/HIVE-2564.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594952/HIVE-2564.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 58 failed/errored test(s), 2738 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDriverProperties
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDatabaseMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAll
org.apache.hive.jdbc.TestJdbcDriver2.testResultSetMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetColumnsMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testDescribeTable
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllFetchSize
org.apache.hive.jdbc.TestJdbcDriver2.testNullType
org.apache.hive.jdbc.TestJdbcDriver2.testDuplicateColumnNameOrder
org.apache.hive.jdbc.TestJdbcDriver2.testProccedures
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllMaxRows
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testErrorMessages
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAllFetchSize
org.apache.hive.jdbc.TestJdbcDriver2.testDataTypes2
org.apache.hive.jdbc.TestJdbcDriver2.testOutOfBoundCols
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAll
org.apache.hive.jdbc.TestJdbcDriver2.testDriverProperties
org.apache.hive.jdbc.TestJdbcDriver2.testErrorDiag
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testNullType
org.apache.hive.jdbc.TestJdbcDriver2.testProcCols
org.apache.hive.jdbc.TestJdbcDriver2.testBuiltInUDFCol
org.apache.hive.jdbc.TestJdbcDriver2.testPostClose
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetColumnsMetaData
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetTableTypes
org.apache.hive.jdbc.TestJdbcDriver2.testErrorMessages
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllPartioned
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetColumns
org.apache.hive.jdbc.TestJdbcDriver2.testPrimaryKeys
org.apache.hive.jdbc.TestJdbcDriver2.testShowTables
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetTables
org.apache.hive.jdbc.TestJdbcDriver2.testShowDatabases
org.apache.hive.jdbc.TestJdbcDriver2.testExplainStmt
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testResultSetMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testBadURL
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetCatalogs
org.apache.hive.jdbc.TestJdbcDriver2.testImportedKeys
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testShowTables
org.apache.hive.jdbc.TestJdbcDriver2.testPrepareStatement
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetCatalogs
org.apache.hive.jdbc.TestJdbcDriver2.testInvalidURL
org.apache.hive.jdbc.TestJdbcDriver2.testSetCommand
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAllMaxRows
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testExplainStmt
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDescribeTable
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDataTypes
org.apache.hive.jdbc.TestJdbcDriver2.testDataTypes
org.apache.hive.jdbc.TestJdbcDriver2.testSelectAllPartioned
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSetCommand
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetTables
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetColumns
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testPrepareStatement
org.apache.hive.jdbc.TestJdbcDriver2.testDatabaseMetaData
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetSchemas
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetSchemas
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testConversionsBaseResultSet
org.apache.hive.jdbc.TestJdbcDriver2.testExprCol
org.apache.hive.jdbc.TestJdbcDriver2.testMetaDataGetTableTypes
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testShowDatabases
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/241/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/241/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/241/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/241/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 58 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13724153" author="brocknoland" created="Tue, 30 Jul 2013 17:50:31 +0000"  >&lt;p&gt;Hey guys, I am excited about this patch! However, since there are test failures I am going to remove the &quot;Patch Available&quot; status. As soon as you have a another one please mark it &quot;Patch Available&quot;.&lt;/p&gt;</comment>
                            <comment id="13724791" author="jin" created="Wed, 31 Jul 2013 02:43:35 +0000"  >&lt;p&gt;Sorry for my wrong TestCase.&lt;br/&gt;
I fixed failures and it works fine in my environment as &apos;ant test -Dmodule=jdbc&apos;.&lt;/p&gt;</comment>
                            <comment id="13724921" author="hiveqa" created="Wed, 31 Jul 2013 06:18:34 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12595112/HIVE-2564.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12595112/HIVE-2564.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2750 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/257/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/257/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/257/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/257/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13833971" author="hiveqa" created="Wed, 27 Nov 2013 17:25:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12595112/HIVE-2564.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12595112/HIVE-2564.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/458/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/458/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/458/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/458/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests failed with: NonZeroExitCodeException: Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-458/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/Vectorizer.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizedRowBatch.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizedRowBatchCtx.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorMapJoinOperator.java&apos;
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/assembly/target shims/0.20S/target shims/0.23/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target ql/src/test/results/clientpositive/vectorized_context.q.out ql/src/test/queries/clientpositive/vectorized_context.q ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizationContextRegion.java
+ svn update
D    ql/src/java/org/apache/hadoop/hive/ql/exec/JobCloseFeedBack.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizedRowBatch.java
A    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizationContextRegion.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizedRowBatchCtx.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorMapJoinOperator.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/JoinOperator.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/mr/ExecDriver.java
U    ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcInputFormat.java
U    ql/src/java/org/apache/hadoop/hive/ql/io/HiveInputFormat.java
U    ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/Vectorizer.java
A    ql/src/test/queries/clientpositive/vectorized_context.q
U    ql/src/test/queries/clientpositive/orc_split_elimination.q
A    ql/src/test/results/clientpositive/vectorized_context.q.out
U    ql/src/test/results/clientpositive/orc_split_elimination.q.out
U    ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestOrcSplitElimination.java
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.java
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.testPrepNone.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.testAlternativeTestJVM.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.testPrepSvn.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.testBatch.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestHostExecutor.java
A    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestHostExecutor.testShutdownBeforeExec.approved.txt
U    testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.testPrepGit.approved.txt
U    testutils/ptest2/src/main/resources/batch-exec.vm
U    testutils/ptest2/src/main/resources/source-prep.vm
U    testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/PTest.java

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
Updated external to revision 1546123.

Updated to revision 1546123.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12595112&lt;/p&gt;</comment>
                            <comment id="13912839" author="njw45" created="Wed, 26 Feb 2014 12:55:30 +0000"  >&lt;p&gt;I&apos;ve attached a rebased patch&lt;/p&gt;</comment>
                            <comment id="13913503" author="vgumashta" created="Wed, 26 Feb 2014 21:07:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=njw45&quot; class=&quot;user-hover&quot; rel=&quot;njw45&quot;&gt;Nick White&lt;/a&gt;: Thanks a lot for the patch! Can you also post the patch on review board (&lt;a href=&quot;https://reviews.apache.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/&lt;/a&gt;). It&apos;s very easy to browse thru the code changes there. Thanks again! &lt;/p&gt;</comment>
                            <comment id="13913616" author="njw45" created="Wed, 26 Feb 2014 22:23:47 +0000"  >&lt;p&gt;Actually, it seems it might have been fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4256&quot; title=&quot;JDBC2 HiveConnection does not use the specified database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4256&quot;&gt;&lt;del&gt;HIVE-4256&lt;/del&gt;&lt;/a&gt;, maybe this should be resolved as a duplicate?&lt;/p&gt;</comment>
                            <comment id="13914167" author="jin" created="Thu, 27 Feb 2014 07:35:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4256&quot; title=&quot;JDBC2 HiveConnection does not use the specified database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4256&quot;&gt;&lt;del&gt;HIVE-4256&lt;/del&gt;&lt;/a&gt; supports only HiveServer2, isn&apos;t it?&lt;br/&gt;
This patch supports HiveServer1 and 2.&lt;/p&gt;</comment>
                            <comment id="14028234" author="alangates" created="Wed, 11 Jun 2014 19:00:22 +0000"  >&lt;p&gt;Closing this as duplicate.  HiveServer1 is no longer supported and is scheduled to be removed from the code base (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6977&quot; title=&quot;Delete Hiveserver1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6977&quot;&gt;&lt;del&gt;HIVE-6977&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12515616">HIVE-2320</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12639768">HIVE-4256</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12594952" name="HIVE-2564.1.patch" size="6723" author="jin" created="Tue, 30 Jul 2013 13:21:29 +0000"/>
                            <attachment id="12595112" name="HIVE-2564.2.patch" size="8031" author="jin" created="Wed, 31 Jul 2013 02:42:54 +0000"/>
                            <attachment id="12631212" name="HIVE-2564.3.patch" size="7015" author="njw45" created="Wed, 26 Feb 2014 12:55:30 +0000"/>
                            <attachment id="12503007" name="hive-2564.patch" size="10483" author="shinsuke" created="Wed, 9 Nov 2011 02:03:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Jul 2012 09:47:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08ntr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48459</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2565] Add Java linter to Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2565</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Add a linter that will be run at `arc diff` and will check for too long lines, trailing whitespace, etc.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12530826">HIVE-2565</key>
            <summary>Add Java linter to Hive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mareksapota_fb">Marek Sapota</assignee>
                                    <reporter username="mareksapota_fb">Marek Sapota</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Nov 2011 07:33:04 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:44 +0000</updated>
                            <resolved>Wed, 9 Nov 2011 23:24:30 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13146829" author="phabricator@reviews.facebook.net" created="Wed, 9 Nov 2011 07:39:51 +0000"  >&lt;p&gt;mareksapotafb requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2565&quot; title=&quot;Add Java linter to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2565&quot;&gt;&lt;del&gt;HIVE-2565&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add Java linter to Hive&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Alter .arcconfig to use JavaLintEngine&lt;/p&gt;

&lt;p&gt;  Add a linter that will be run at `arc diff` and will check for too long lines, trailing whitespace, etc.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D345&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D345&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  .arcconfig&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/693/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/693/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13146830" author="phabricator@reviews.facebook.net" created="Wed, 9 Nov 2011 07:43:51 +0000"  >&lt;p&gt;mareksapotafb has added reviewers to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2565&quot; title=&quot;Add Java linter to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2565&quot;&gt;&lt;del&gt;HIVE-2565&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add Java linter to Hive&quot;.&lt;br/&gt;
Added Reviewers: jsichi&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D345&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D345&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13147251" author="phabricator@reviews.facebook.net" created="Wed, 9 Nov 2011 20:05:51 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2565&quot; title=&quot;Add Java linter to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2565&quot;&gt;&lt;del&gt;HIVE-2565&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add Java linter to Hive&quot;.&lt;/p&gt;

&lt;p&gt;  I applied this and tried&lt;/p&gt;

&lt;p&gt;  arc lint --lintall *&lt;b&gt;/&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;  but got&lt;/p&gt;

&lt;p&gt;  Usage Exception: No paths are lintable.&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D345&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D345&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13147253" author="phabricator@reviews.facebook.net" created="Wed, 9 Nov 2011 20:09:51 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2565&quot; title=&quot;Add Java linter to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2565&quot;&gt;&lt;del&gt;HIVE-2565&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add Java linter to Hive&quot;.&lt;/p&gt;

&lt;p&gt;  You&apos;re using Bash?  *&lt;b&gt;/&lt;/b&gt; trick might not work there, just try giving it some specific paths like:&lt;/p&gt;

&lt;p&gt;  arc lint --lintall ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Adjacency.java&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D345&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D345&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13147256" author="phabricator@reviews.facebook.net" created="Wed, 9 Nov 2011 20:13:51 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2565&quot; title=&quot;Add Java linter to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2565&quot;&gt;&lt;del&gt;HIVE-2565&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add Java linter to Hive&quot;.&lt;/p&gt;

&lt;p&gt;  Oh ok, yeah, I was using bash.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D345&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D345&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13147358" author="phabricator@reviews.facebook.net" created="Wed, 9 Nov 2011 23:17:51 +0000"  >&lt;p&gt;jsichi has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2565&quot; title=&quot;Add Java linter to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2565&quot;&gt;&lt;del&gt;HIVE-2565&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add Java linter to Hive&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D345&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D345&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13147359" author="jvs" created="Wed, 9 Nov 2011 23:18:22 +0000"  >&lt;p&gt;+1, committed to trunk.  Thanks Marek!&lt;/p&gt;</comment>
                            <comment id="13147362" author="phabricator@reviews.facebook.net" created="Wed, 9 Nov 2011 23:23:51 +0000"  >&lt;p&gt;mareksapotafb has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2565&quot; title=&quot;Add Java linter to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2565&quot;&gt;&lt;del&gt;HIVE-2565&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add Java linter to Hive&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D345&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D345&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1200031&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1200031&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13147487" author="hudson" created="Thu, 10 Nov 2011 04:43:55 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1072 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1072/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1072/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2565&quot; title=&quot;Add Java linter to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2565&quot;&gt;&lt;del&gt;HIVE-2565&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add Java linter to Hive&lt;br/&gt;
(Marek Sapota via jvs)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
Alter .arcconfig to use JavaLintEngine&lt;/p&gt;

&lt;p&gt;Add a linter that will be run at `arc diff` and will check for too long lines,&lt;br/&gt;
trailing whitespace, etc.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 345&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1200031&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1200031&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/.arcconfig&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12503023" name="ASF.LICENSE.NOT.GRANTED--D345.1.patch" size="431" author="phabricator@reviews.facebook.net" created="Wed, 9 Nov 2011 07:39:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 9 Nov 2011 07:39:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216564</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123982</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2566] reduce the number map-reduce jobs for union all</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2566</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A query like:&lt;/p&gt;

&lt;p&gt;select s.key, s.value from (&lt;br/&gt;
  select key, value from src2  where key &amp;lt; 10&lt;br/&gt;
  union all &lt;br/&gt;
  select key, value from src3  where key &amp;lt; 10&lt;br/&gt;
  union all &lt;br/&gt;
  select key, value from src4  where key &amp;lt; 10&lt;br/&gt;
  union all &lt;br/&gt;
  select key, count(1) as value from src5 group by key&lt;br/&gt;
)s;&lt;/p&gt;

&lt;p&gt;should run the last sub-query &lt;br/&gt;
&apos;select key, count(1) as value from src5 group by key&apos;&lt;br/&gt;
as a map-reduce job.&lt;/p&gt;

&lt;p&gt;And then the union should be a map-only job reading from the first 3 map-only subqueries&lt;br/&gt;
and the output of the last map-reduce job.&lt;/p&gt;

&lt;p&gt;The current plan is very inefficient.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12530905">HIVE-2566</key>
            <summary>reduce the number map-reduce jobs for union all</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Nov 2011 18:16:04 +0000</created>
                <updated>Thu, 22 Dec 2011 00:19:27 +0000</updated>
                            <resolved>Tue, 15 Nov 2011 20:13:49 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13148222" author="phabricator@reviews.facebook.net" created="Fri, 11 Nov 2011 02:32:51 +0000"  >&lt;p&gt;njain requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; reduce the number map-reduce jobs for union all&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt;: initial patch&lt;/p&gt;

&lt;p&gt;  A query like:&lt;/p&gt;

&lt;p&gt;  select s.key, s.value from (&lt;br/&gt;
  select key, value from src2  where key &amp;lt; 10&lt;br/&gt;
  union all&lt;br/&gt;
  select key, value from src3  where key &amp;lt; 10&lt;br/&gt;
  union all&lt;br/&gt;
  select key, value from src4  where key &amp;lt; 10&lt;br/&gt;
  union all&lt;br/&gt;
  select key, count(1) as value from src5 group by key&lt;br/&gt;
  )s;&lt;/p&gt;

&lt;p&gt;  should run the last sub-query&lt;br/&gt;
  &apos;select key, count(1) as value from src5 group by key&apos;&lt;br/&gt;
  as a map-reduce job.&lt;/p&gt;

&lt;p&gt;  And then the union should be a map-only job reading from the first 3 map-only subqueries&lt;br/&gt;
  and the output of the last map-reduce job.&lt;/p&gt;

&lt;p&gt;  The current plan is very inefficient.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D405&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D405&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/union24.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/807/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/807/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13149479" author="phabricator@reviews.facebook.net" created="Mon, 14 Nov 2011 07:18:51 +0000"  >&lt;p&gt;njain updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; reduce the number map-reduce jobs for union all&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt; patch available&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D405&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D405&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/merge4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join27.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union19.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input25.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lineage1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join35.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input26.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union17.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union18.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/union24.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;/p&gt;</comment>
                            <comment id="13150013" author="he yongqiang" created="Mon, 14 Nov 2011 22:30:39 +0000"  >&lt;p&gt;looks good, running tests.&lt;/p&gt;</comment>
                            <comment id="13150728" author="phabricator@reviews.facebook.net" created="Tue, 15 Nov 2011 20:02:55 +0000"  >&lt;p&gt;njain updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; reduce the number map-reduce jobs for union all&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Make union24.q deterministic&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D405&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D405&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/merge4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join27.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union19.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_view.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union5.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input25.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union6.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/lineage1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join35.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input26.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union7.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union17.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/stats1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union18.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/union24.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;/p&gt;</comment>
                            <comment id="13150734" author="he yongqiang" created="Tue, 15 Nov 2011 20:13:50 +0000"  >&lt;p&gt;I just committed, thanks namit!&lt;/p&gt;</comment>
                            <comment id="13151003" author="hudson" created="Wed, 16 Nov 2011 03:46:40 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1088 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1088/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1088/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt;: reduce the number map-reduce jobs for union all (namit via He Yongqiang)&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202405&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202405&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union24.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join27.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input26.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join35.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/lineage1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union15.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union17.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union18.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union19.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union24.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union7.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13165797" author="hudson" created="Fri, 9 Dec 2011 02:56:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #9 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/9/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/9/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Namit Jain via Yongqiang He)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is leading to some problems.   &lt;/p&gt;

&lt;p&gt;I will upload the offending testcase in a new jira.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, heyongqiang&lt;/p&gt;

&lt;p&gt;Reviewed By: heyongqiang&lt;/p&gt;

&lt;p&gt;CC: heyongqiang&lt;/p&gt;

&lt;p&gt;Differential Revision: 651&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212182&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212182&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union25.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join27.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input26.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join35.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/lineage1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union15.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union17.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union18.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union19.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union24.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union7.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13165885" author="hudson" created="Fri, 9 Dec 2011 06:44:51 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1133 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1133/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1133/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2566&quot; title=&quot;reduce the number map-reduce jobs for union all&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2566&quot;&gt;&lt;del&gt;HIVE-2566&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Namit Jain via Yongqiang He)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2634&quot; title=&quot;revert HIVE-2566&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2634&quot;&gt;&lt;del&gt;HIVE-2634&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is leading to some problems.   &lt;/p&gt;

&lt;p&gt;I will upload the offending testcase in a new jira.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, heyongqiang&lt;/p&gt;

&lt;p&gt;Reviewed By: heyongqiang&lt;/p&gt;

&lt;p&gt;CC: heyongqiang&lt;/p&gt;

&lt;p&gt;Differential Revision: 651&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212182&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212182&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRProcContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRUnion1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union25.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join27.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input26.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join35.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/lineage1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ql_rewrite_gbtoidx.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union15.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union17.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union18.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union19.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union24.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union7.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13174330" author="hudson" created="Wed, 21 Dec 2011 19:17:37 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #42 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/42/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/42/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2642&quot; title=&quot;fix Hive-2566 and make union optimization more aggressive &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2642&quot;&gt;&lt;del&gt;HIVE-2642&lt;/del&gt;&lt;/a&gt; fix Hive-2566 and make union optimization more aggressive&lt;br/&gt;
(Yongqiang He via namit)&lt;/p&gt;</comment>
                            <comment id="13174520" author="hudson" created="Thu, 22 Dec 2011 00:19:27 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1164 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1164/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1164/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2642&quot; title=&quot;fix Hive-2566 and make union optimization more aggressive &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2642&quot;&gt;&lt;del&gt;HIVE-2642&lt;/del&gt;&lt;/a&gt; fix Hive-2566 and make union optimization more aggressive&lt;br/&gt;
(Yongqiang He via namit)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12534284">HIVE-2634</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12503328" name="ASF.LICENSE.NOT.GRANTED--HIVE-2566.D405.1.patch" size="93382" author="phabricator@reviews.facebook.net" created="Fri, 11 Nov 2011 02:32:52 +0000"/>
                            <attachment id="12503574" name="ASF.LICENSE.NOT.GRANTED--HIVE-2566.D405.2.patch" size="461059" author="phabricator@reviews.facebook.net" created="Mon, 14 Nov 2011 07:18:52 +0000"/>
                            <attachment id="12503784" name="ASF.LICENSE.NOT.GRANTED--HIVE-2566.D405.3.patch" size="452199" author="phabricator@reviews.facebook.net" created="Tue, 15 Nov 2011 20:02:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Nov 2011 02:32:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123983</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2567] Some CTAS queries with * and group by don&apos;t work.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2567</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12530911">HIVE-2567</key>
            <summary>Some CTAS queries with * and group by don&apos;t work.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="rsurowka">Robert Sur&#243;wka</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Nov 2011 19:07:03 +0000</created>
                <updated>Fri, 18 Nov 2011 04:13:04 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13148853" author="jiraposter@reviews.apache.org" created="Fri, 11 Nov 2011 23:48:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2792/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2792/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-11-11 23:47:08.652126)&lt;/p&gt;


&lt;p&gt;Review request for Ning Zhang and namit jain.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;To introduce proper support for the problem would require a lot of work I believe. Yet this patch seems to do the job pretty well, and with very good chance doesn&apos;t break anything &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. &lt;/p&gt;

&lt;p&gt;When user puts tablename.columnname in group by, then the name of the column from * won&apos;t be columname but tablename_columnname, to allow ctas with * and joins on tables that share column names (like in the test). In very rare cases it may lead to duplicate column anyway, as shown in the negative test.&lt;/p&gt;

&lt;p&gt;This isn&apos;t the final resolution of the problem (as that would require substantial changes), yet at least this allows hive to support many use cases with ctas, * and group by. &lt;/p&gt;

&lt;p&gt;I also run all the tests (with -overwrite option)  for this change, the tests executed correctly and no output file for any already existing test had been changed. &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2567&quot; title=&quot;Some CTAS queries with * and group by don&amp;#39;t work.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2567&quot;&gt;HIVE-2567&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2567&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2567&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java 1199920 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1199920 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/ctas_group_by_failure1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/input48.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/ctas_group_by_failure1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/input48.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2792/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2792/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Worked on some sample queries. &lt;/p&gt;

&lt;p&gt;Unit tests work too.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;
</comment>
                            <comment id="13149443" author="nzhang" created="Mon, 14 Nov 2011 04:48:36 +0000"  >&lt;p&gt;Robert, this patch doesn&apos;t apply cleanly. Can you svn up and regenerate the patch?&lt;/p&gt;</comment>
                            <comment id="13149791" author="jiraposter@reviews.apache.org" created="Mon, 14 Nov 2011 18:07:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2792/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2792/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-11-14 18:06:11.336387)&lt;/p&gt;


&lt;p&gt;Review request for Ning Zhang and namit jain.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Updated the patch to apply cleanly on current trunk&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;To introduce proper support for the problem would require a lot of work I believe. Yet this patch seems to do the job pretty well, and with very good chance doesn&apos;t break anything &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. &lt;/p&gt;

&lt;p&gt;When user puts tablename.columnname in group by, then the name of the column from * won&apos;t be columname but tablename_columnname, to allow ctas with * and joins on tables that share column names (like in the test). In very rare cases it may lead to duplicate column anyway, as shown in the negative test.&lt;/p&gt;

&lt;p&gt;This isn&apos;t the final resolution of the problem (as that would require substantial changes), yet at least this allows hive to support many use cases with ctas, * and group by. &lt;/p&gt;

&lt;p&gt;I also run all the tests (with -overwrite option)  for this change, the tests executed correctly and no output file for any already existing test had been changed. &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2567&quot; title=&quot;Some CTAS queries with * and group by don&amp;#39;t work.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2567&quot;&gt;HIVE-2567&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2567&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2567&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java 1201807 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java 1201807 &lt;br/&gt;
  trunk/ql/src/test/queries/clientnegative/ctas_group_by_failure1.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/input48.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/ctas_group_by_failure1.q.out PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/input48.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2792/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2792/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Worked on some sample queries. &lt;/p&gt;

&lt;p&gt;Unit tests work too.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;
</comment>
                            <comment id="13152598" author="he yongqiang" created="Fri, 18 Nov 2011 02:23:15 +0000"  >&lt;p&gt;will run tests &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12503116" name="HIVE-2567.1.patch" size="16281" author="rsurowka" created="Wed, 9 Nov 2011 19:54:58 +0000"/>
                            <attachment id="12503802" name="HIVE-2567.2.patch" size="13273" author="rsurowka" created="Tue, 15 Nov 2011 21:47:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Nov 2011 23:48:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216649</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkkv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123984</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2568] HIVE-2246 upgrade script needs to drop foreign key in COLUMNS_OLD</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2568</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;One more bug in the MySQL metastore upgrade script: the foreign key in COLUMNS needs to be dropped, otherwise drop_partition will fail because the SDS row cannot be deleted due to the foreign key constraint. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12531039">HIVE-2568</key>
            <summary>HIVE-2246 upgrade script needs to drop foreign key in COLUMNS_OLD</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Nov 2011 19:47:19 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:20 +0000</updated>
                            <resolved>Fri, 18 Nov 2011 01:16:38 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13147964" author="phabricator@reviews.facebook.net" created="Thu, 10 Nov 2011 19:49:51 +0000"  >&lt;p&gt;nzhang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2568&quot; title=&quot;HIVE-2246 upgrade script needs to drop foreign key in COLUMNS_OLD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2568&quot;&gt;&lt;del&gt;HIVE-2568&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt; upgrade script needs to drop foreign key in COLUMNS_OLD&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;   the foreign key in COLUMNS needs to be dropped, otherwise drop_partition will fail because the SDS row cannot be deleted due to the foreign key constraint.&lt;/p&gt;

&lt;p&gt;  One more bug in the MySQL metastore upgrade script: the foreign key in COLUMNS needs to be dropped, otherwise drop_partition will fail because the SDS row cannot be deleted due to the foreign key constraint.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D369&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D369&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/scripts/upgrade/mysql/008-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/735/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/735/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13147973" author="namit" created="Thu, 10 Nov 2011 20:04:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="13148822" author="namit" created="Fri, 11 Nov 2011 23:12:44 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                            <comment id="13148986" author="hudson" created="Sat, 12 Nov 2011 04:46:43 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1079 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1079/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1079/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2568&quot; title=&quot;HIVE-2246 upgrade script needs to drop foreign key in COLUMNS_OLD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2568&quot;&gt;&lt;del&gt;HIVE-2568&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt; upgrade script needs to drop foreign key in COLUMNS_OLD&lt;br/&gt;
(Ning Zhang via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1201091&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1201091&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/008-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13150102" author="cwsteinbach" created="Tue, 15 Nov 2011 00:20:57 +0000"  >&lt;p&gt;@Ning: Can you please backport this 0.8.0? Thanks.&lt;/p&gt;</comment>
                            <comment id="13151666" author="nzhang" created="Thu, 17 Nov 2011 00:15:18 +0000"  >&lt;p&gt;backported to 0.8.0&lt;/p&gt;</comment>
                            <comment id="13151815" author="hudson" created="Thu, 17 Nov 2011 05:19:52 +0000"  >&lt;p&gt;Integrated in Hive-0.8.0-SNAPSHOT-h0.21 #98 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.8.0-SNAPSHOT-h0.21/98/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.8.0-SNAPSHOT-h0.21/98/&lt;/a&gt;)&lt;br/&gt;
    backporting &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2568&quot; title=&quot;HIVE-2246 upgrade script needs to drop foreign key in COLUMNS_OLD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2568&quot;&gt;&lt;del&gt;HIVE-2568&lt;/del&gt;&lt;/a&gt; (rev. 1201091)&lt;/p&gt;

&lt;p&gt;nzhang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202945&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202945&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.8&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/README.txt&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/contrib/src/java/org/apache/hadoop/hive/contrib/udaf/example/UDAFExampleMax.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/contrib/src/java/org/apache/hadoop/hive/contrib/udaf/example/UDAFExampleMin.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/metastore/scripts/upgrade/mysql/008-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/io/NonSyncDataInputBuffer.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/io/NonSyncDataOutputBuffer.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/lib/DefaultGraphWalker.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/lib/DefaultRuleDispatcher.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/lib/Dispatcher.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/lib/GraphWalker.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/lib/NodeProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/lib/NodeProcessorCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/lib/Rule.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/lib/RuleRegExp.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/parse/JoinCond.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/parse/JoinType.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/AggregationDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/CollectDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/CopyWork.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateFunctionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableLikeDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateViewDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/DDLDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/DescFunctionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/DescTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/DropFunctionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/DropTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/Explain.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ExplainWork.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ExplosionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeColumnDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeConstantDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeFieldDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeNullDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ExtractDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/FetchWork.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/FileSinkDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/FilterDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ForwardDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/GroupByDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/JoinCondDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/JoinDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/LateralViewJoinDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/LimitDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/LoadDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/LoadFileDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/LoadTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/MapJoinDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/MapredLocalWork.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/MapredWork.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/MoveWork.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/PartitionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ReduceSinkDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/SchemaDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ScriptDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/SelectDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowFunctionsDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowPartitionsDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowTableStatusDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/ShowTablesDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/TableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/TableScanDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/UDTFDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/ql/src/java/org/apache/hadoop/hive/ql/plan/UnionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/serde/README.txt&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12503282" name="ASF.LICENSE.NOT.GRANTED--D369.1.patch" size="1005" author="phabricator@reviews.facebook.net" created="Thu, 10 Nov 2011 19:49:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Nov 2011 19:49:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216777</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123985</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2569] Too much debugging info on console if a job failed</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2569</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When a job failed and Hive client tries to get the error message from failed task, it printed the following info on console for each task:&lt;/p&gt;

&lt;p&gt;Examining task ID: task_201110112120_773499_m_000037 from job job_201110112120_773499&lt;/p&gt;

&lt;p&gt;This should be shorten significantly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531041">HIVE-2569</key>
            <summary>Too much debugging info on console if a job failed</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Nov 2011 19:59:46 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:53 +0000</updated>
                            <resolved>Fri, 18 Nov 2011 20:30:29 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Diagnosability</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13147974" author="phabricator@reviews.facebook.net" created="Thu, 10 Nov 2011 20:07:51 +0000"  >&lt;p&gt;nzhang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2569&quot; title=&quot;Too much debugging info on console if a job failed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2569&quot;&gt;&lt;del&gt;HIVE-2569&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Too much debugging info on console if a job failed&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Too much debugging info on console if a job failed&lt;/p&gt;

&lt;p&gt;  When a job failed and Hive client tries to get the error message from failed task, it printed the following info on console for each task:&lt;/p&gt;

&lt;p&gt;  Examining task ID: task_201110112120_773499_m_000037 from job job_201110112120_773499&lt;/p&gt;

&lt;p&gt;  This should be shorten significantly.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D375&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D375&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/JobDebugger.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/HadoopJobExecHelper.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/741/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/741/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13151786" author="phabricator@reviews.facebook.net" created="Thu, 17 Nov 2011 04:30:51 +0000"  >&lt;p&gt;jsichi has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2569&quot; title=&quot;Too much debugging info on console if a job failed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2569&quot;&gt;&lt;del&gt;HIVE-2569&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Too much debugging info on console if a job failed&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D375&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D375&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13152397" author="jvs" created="Thu, 17 Nov 2011 22:20:04 +0000"  >&lt;p&gt;+1, will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="13153105" author="jvs" created="Fri, 18 Nov 2011 20:30:29 +0000"  >&lt;p&gt;Committed to trunk, thanks Ning!&lt;/p&gt;</comment>
                            <comment id="13153108" author="phabricator@reviews.facebook.net" created="Fri, 18 Nov 2011 20:40:51 +0000"  >&lt;p&gt;nzhang has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2569&quot; title=&quot;Too much debugging info on console if a job failed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2569&quot;&gt;&lt;del&gt;HIVE-2569&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Too much debugging info on console if a job failed&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D375&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D375&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1203819&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1203819&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13153298" author="hudson" created="Sat, 19 Nov 2011 01:06:38 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1097 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1097/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1097/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2569&quot; title=&quot;Too much debugging info on console if a job failed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2569&quot;&gt;&lt;del&gt;HIVE-2569&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Too much debugging info on console if a job failed&lt;br/&gt;
(Ning Zhang via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
Too much debugging info on console if a job failed&lt;/p&gt;

&lt;p&gt;When a job failed and Hive client tries to get the error message from failed&lt;br/&gt;
task, it printed the following info on console for each task:   &lt;/p&gt;

&lt;p&gt;Examining task ID: task_201110112120_773499_m_000037 from job&lt;br/&gt;
job_201110112120_773499   &lt;/p&gt;

&lt;p&gt;This should be shorten significantly.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, njain, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 375&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203819&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203819&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/HadoopJobExecHelper.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/JobDebugger.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12503284" name="ASF.LICENSE.NOT.GRANTED--D375.1.patch" size="7600" author="phabricator@reviews.facebook.net" created="Thu, 10 Nov 2011 20:07:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Nov 2011 20:07:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216779</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lklb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123986</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2570] ShimLoader does not work with Hadoop 0.20.20#.0 because of nano version.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2570</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The ShimsLoader getMajorVersion() method expects a version is #.#.# (2 dots only) but the Hadoop security releases are #.#.#.# (ie 0.20.205.0)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531046">HIVE-2570</key>
            <summary>ShimLoader does not work with Hadoop 0.20.20#.0 because of nano version.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tucu00">Alejandro Abdelnur</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Nov 2011 20:46:03 +0000</created>
                <updated>Mon, 14 Nov 2011 23:34:31 +0000</updated>
                            <resolved>Mon, 14 Nov 2011 23:34:31 +0000</resolved>
                                    <version>0.7.1</version>
                    <version>0.9.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13150075" author="tucu00" created="Mon, 14 Nov 2011 23:34:31 +0000"  >&lt;p&gt;My bad, read the code wrong.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d2q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74218</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2571] eclipse template .classpath is broken</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2571</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12531047">HIVE-2571</key>
            <summary>eclipse template .classpath is broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsurowka">Robert Sur&#243;wka</assignee>
                                    <reporter username="rsurowka">Robert Sur&#243;wka</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Nov 2011 20:49:47 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:12 +0000</updated>
                            <resolved>Thu, 17 Nov 2011 00:09:50 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13148009" author="jiraposter@reviews.apache.org" created="Thu, 10 Nov 2011 21:05:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2800/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2800/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for Ning Zhang and namit jain.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2571&quot; title=&quot;eclipse template .classpath is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2571&quot;&gt;&lt;del&gt;HIVE-2571&lt;/del&gt;&lt;/a&gt; update eclipse classpath template&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2571&quot; title=&quot;eclipse template .classpath is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2571&quot;&gt;&lt;del&gt;HIVE-2571&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2571&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2571&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/eclipse-templates/.classpath 1200538 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2800/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2800/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;project build with eclipse.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;
</comment>
                            <comment id="13148918" author="jiraposter@reviews.apache.org" created="Sat, 12 Nov 2011 01:12:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2800/#review3182&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2800/#review3182&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;This patch requires a small change, I will do it on Monday.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Robert&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-11-10 21:05:45, Robert Sur&#243;wka wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/2800/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2800/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-11-10 21:05:45)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for Ning Zhang and namit jain.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2571&quot; title=&quot;eclipse template .classpath is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2571&quot;&gt;&lt;del&gt;HIVE-2571&lt;/del&gt;&lt;/a&gt; update eclipse classpath template&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2571&quot; title=&quot;eclipse template .classpath is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2571&quot;&gt;&lt;del&gt;HIVE-2571&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2571&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2571&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/eclipse-templates/.classpath 1200538 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2800/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2800/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;project build with eclipse.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Robert&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13148934" author="cwsteinbach" created="Sat, 12 Nov 2011 02:02:06 +0000"  >&lt;p&gt;The template is still valid as long as you run &apos;ant package&apos; instead of &apos;ant jar&apos;, but I agree that this should be fixed.&lt;/p&gt;</comment>
                            <comment id="13149766" author="jiraposter@reviews.apache.org" created="Mon, 14 Nov 2011 17:31:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2800/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2800/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-11-14 17:31:02.776950)&lt;/p&gt;


&lt;p&gt;Review request for Ning Zhang and namit jain.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;This patch should will make the eclipse classpath point to places where needed jars are available from the very beginning.&lt;/p&gt;

&lt;p&gt;Apparently, even without this change the setup described here: &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/GettingStarted+EclipseSetup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/GettingStarted+EclipseSetup&lt;/a&gt; works, yet with this patch it should work also with just ant jar instead of ant package. &lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2571&quot; title=&quot;eclipse template .classpath is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2571&quot;&gt;&lt;del&gt;HIVE-2571&lt;/del&gt;&lt;/a&gt; update eclipse classpath template&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2571&quot; title=&quot;eclipse template .classpath is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2571&quot;&gt;&lt;del&gt;HIVE-2571&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2571&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2571&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/eclipse-templates/.classpath 1201784 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2800/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2800/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;project build with eclipse.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;
</comment>
                            <comment id="13151662" author="he yongqiang" created="Thu, 17 Nov 2011 00:07:15 +0000"  >&lt;p&gt;+1, will commit after tests pass&lt;/p&gt;</comment>
                            <comment id="13151664" author="he yongqiang" created="Thu, 17 Nov 2011 00:09:50 +0000"  >&lt;p&gt;just committed without running hive tests, because it&apos;s just .classpath change. Thanks Robert Sur&#243;wka!&lt;/p&gt;</comment>
                            <comment id="13151811" author="hudson" created="Thu, 17 Nov 2011 05:18:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1092 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1092/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1092/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2571&quot; title=&quot;eclipse template .classpath is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2571&quot;&gt;&lt;del&gt;HIVE-2571&lt;/del&gt;&lt;/a&gt;: eclipse template .classpath is broken (Robert Sur&#243;wka via He Yongqiang)&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202943&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202943&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/eclipse-templates/.classpath&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13159038" author="cwsteinbach" created="Tue, 29 Nov 2011 02:06:25 +0000"  >&lt;p&gt;Backported to branch-0.8.&lt;/p&gt;</comment>
                            <comment id="13159126" author="hudson" created="Tue, 29 Nov 2011 07:02:35 +0000"  >&lt;p&gt;Integrated in Hive-0.8.0-SNAPSHOT-h0.21 #114 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.8.0-SNAPSHOT-h0.21/114/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.8.0-SNAPSHOT-h0.21/114/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2571&quot; title=&quot;eclipse template .classpath is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2571&quot;&gt;&lt;del&gt;HIVE-2571&lt;/del&gt;&lt;/a&gt;. eclipse template .classpath is broken (Robert Sur&#243;wka via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1207734&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1207734&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.8/eclipse-templates/.classpath&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12503288" name="HIVE-2571.1.patch" size="6783" author="rsurowka" created="Thu, 10 Nov 2011 21:06:03 +0000"/>
                            <attachment id="12503641" name="HIVE-2571.2.patch" size="7907" author="rsurowka" created="Mon, 14 Nov 2011 17:32:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Nov 2011 21:05:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lklj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123987</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2572] HIVE-2246 upgrade script changed the COLUMNS_V2.COMMENT length</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2572</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This changes from varchar(4000) to varchar(128) is backward incompatible. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12531048">HIVE-2572</key>
            <summary>HIVE-2246 upgrade script changed the COLUMNS_V2.COMMENT length</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Nov 2011 20:51:23 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:10 +0000</updated>
                            <resolved>Fri, 18 Nov 2011 01:15:10 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13148002" author="phabricator@reviews.facebook.net" created="Thu, 10 Nov 2011 20:53:52 +0000"  >&lt;p&gt;nzhang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2572&quot; title=&quot;HIVE-2246 upgrade script changed the COLUMNS_V2.COMMENT length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2572&quot;&gt;&lt;del&gt;HIVE-2572&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt; upgrade script changed the COLUMNS_V2.COMMENT length&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt; upgrade script changed the COLUMNS_V2.COMMENT length, which makes backward incompatible.&lt;/p&gt;

&lt;p&gt;  This changes from varchar(4000) to varchar(128) is backward incompatible.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D381&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D381&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/scripts/upgrade/mysql/008-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/747/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/747/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13149396" author="hudson" created="Sun, 13 Nov 2011 23:55:09 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1082 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1082/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1082/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2572&quot; title=&quot;HIVE-2246 upgrade script changed the COLUMNS_V2.COMMENT length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2572&quot;&gt;&lt;del&gt;HIVE-2572&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt; upgrade script changed the COLUMNS_V2.COMMENT length&lt;br/&gt;
(Ning Zhang via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1201470&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1201470&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/008-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13149482" author="namit" created="Mon, 14 Nov 2011 07:38:21 +0000"  >&lt;p&gt;Committed. Thanks Ning&lt;/p&gt;</comment>
                            <comment id="13150104" author="cwsteinbach" created="Tue, 15 Nov 2011 00:25:08 +0000"  >&lt;p&gt;@Ning: Can you please backport this to 0.8.0? Thanks.&lt;/p&gt;</comment>
                            <comment id="13151665" author="nzhang" created="Thu, 17 Nov 2011 00:14:53 +0000"  >&lt;p&gt;backported to 0.8.0&lt;/p&gt;</comment>
                            <comment id="13151814" author="hudson" created="Thu, 17 Nov 2011 05:19:51 +0000"  >&lt;p&gt;Integrated in Hive-0.8.0-SNAPSHOT-h0.21 #98 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.8.0-SNAPSHOT-h0.21/98/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.8.0-SNAPSHOT-h0.21/98/&lt;/a&gt;)&lt;br/&gt;
    backporting &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2572&quot; title=&quot;HIVE-2246 upgrade script changed the COLUMNS_V2.COMMENT length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2572&quot;&gt;&lt;del&gt;HIVE-2572&lt;/del&gt;&lt;/a&gt; (rev. 1201470)&lt;/p&gt;

&lt;p&gt;nzhang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202946&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202946&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.8&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.8/metastore/scripts/upgrade/mysql/008-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2246&quot; title=&quot;Dedupe tables&amp;#39; column schemas from partitions in the metastore db&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2246&quot;&gt;&lt;del&gt;HIVE-2246&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12503286" name="ASF.LICENSE.NOT.GRANTED--D381.1.patch" size="913" author="phabricator@reviews.facebook.net" created="Thu, 10 Nov 2011 20:53:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Nov 2011 20:53:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216786</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lklr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2573] Create per-session function registry </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2573</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently the function registry is shared resource and could be overrided by other users when using HiveServer. If per-session function registry is provided, this situation could be prevented.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531100">HIVE-2573</key>
            <summary>Create per-session function registry </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                            <label>TODOC1.2</label>
                    </labels>
                <created>Fri, 11 Nov 2011 08:35:29 +0000</created>
                <updated>Sat, 30 Apr 2016 08:00:38 +0000</updated>
                            <resolved>Fri, 13 Feb 2015 05:57:27 +0000</resolved>
                                                    <fixVersion>1.2.0</fixVersion>
                                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>14</watches>
                                                                <comments>
                            <comment id="13149507" author="navis" created="Mon, 14 Nov 2011 09:02:57 +0000"  >&lt;p&gt;This patch induces sentences like this&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE [SESSION] TEMPORARY FUNCTION ...
DROP [SESSION] TEMPORARY FUNCTION ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ve thought keyword &apos;TEMPORARY&apos; could mean the &apos;session&apos; thing but it seemed to be not safe.&lt;/p&gt;</comment>
                            <comment id="13149558" author="bennies" created="Mon, 14 Nov 2011 10:54:44 +0000"  >&lt;p&gt;This probably fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2544&quot; title=&quot;Nullpointer on registering udfs.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2544&quot;&gt;&lt;del&gt;HIVE-2544&lt;/del&gt;&lt;/a&gt; also. That would be nice.&lt;/p&gt;</comment>
                            <comment id="13150128" author="navis" created="Tue, 15 Nov 2011 00:53:54 +0000"  >&lt;p&gt;added test query &amp;amp; result&lt;/p&gt;</comment>
                            <comment id="13150132" author="jiraposter@reviews.apache.org" created="Tue, 15 Nov 2011 00:57:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2831/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Extension from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2503&quot; title=&quot;HiveServer should provide per session configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2503&quot;&gt;&lt;del&gt;HIVE-2503&lt;/del&gt;&lt;/a&gt; for function registry.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2573&quot; title=&quot;Create per-session function registry &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2573&quot;&gt;&lt;del&gt;HIVE-2573&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2573&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2573&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java 35d124b &lt;br/&gt;
  ql/src/test/queries/clientpositive/session_function.q PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientpositive/session_function.q.out PRE-CREATION &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 4d4fce2 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java d60ba09 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/CreateFunctionDesc.java 051095a &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/DropFunctionDesc.java 8a78f5b &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java 07a4832 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/FunctionSemanticAnalyzer.java f2b7018 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionTask.java 70b6f57 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 197bc77 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2831/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Navis&lt;/p&gt;
</comment>
                            <comment id="13150183" author="jiraposter@reviews.apache.org" created="Tue, 15 Nov 2011 02:14:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2831/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-11-15 02:14:32.702033)&lt;/p&gt;


&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Extension from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2503&quot; title=&quot;HiveServer should provide per session configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2503&quot;&gt;&lt;del&gt;HIVE-2503&lt;/del&gt;&lt;/a&gt; for function registry.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2573&quot; title=&quot;Create per-session function registry &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2573&quot;&gt;&lt;del&gt;HIVE-2573&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2573&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2573&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/parse/FunctionSemanticAnalyzer.java f2b7018 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 4d4fce2 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/CreateFunctionDesc.java 051095a &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/DropFunctionDesc.java 8a78f5b &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java 07a4832 &lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java 35d124b &lt;br/&gt;
  ql/src/test/queries/clientpositive/session_function.q PRE-CREATION &lt;br/&gt;
  ql/src/test/results/clientpositive/session_function.q.out PRE-CREATION &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionTask.java 70b6f57 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 197bc77 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2831/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Navis&lt;/p&gt;
</comment>
                            <comment id="13150214" author="cwsteinbach" created="Tue, 15 Nov 2011 03:11:31 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;ve thought keyword &apos;TEMPORARY&apos; could mean the &apos;session&apos; thing but it seemed to be not safe.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What issues did you run into? I think the original intent of the &apos;TEMPORARY&apos; keyword was to signal that the function&apos;s lifecycle is tied to the session. Adding a new SESSION keyword seems to imply that non-SESSION TEMPORARY functions should be globally visible, which doesn&apos;t seem like a good idea.&lt;/p&gt;

&lt;p&gt;If we currently have tests that rely on TEMPORARY functions being visible to other sessions, then maybe we should instead support &apos;CREATE &lt;span class=&quot;error&quot;&gt;&amp;#91;TEMPORARY&amp;#93;&lt;/span&gt; FUNCTION ...&apos;, mapping &apos;CREATE FUNCTION ...&apos; to the current behavior, and &apos;CREATE TEMPORARY FUNCTION ...&apos; to the new behavior added in this patch.&lt;/p&gt;</comment>
                            <comment id="13150244" author="navis" created="Tue, 15 Nov 2011 05:25:05 +0000"  >&lt;p&gt;I agree and can say that first modification was exactly same as you mentioned. But I was not certain that someone might be relying on the current globalness of temporary function (furthermore, keyword &apos;TEMPORARY&apos; was mandatory). I&apos;ll revise this patch shortly.&lt;/p&gt;</comment>
                            <comment id="13150271" author="jiraposter@reviews.apache.org" created="Tue, 15 Nov 2011 07:07:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2831/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-11-15 07:06:04.002057)&lt;/p&gt;


&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Changed to use KW_TEMPORARY instead of &apos;SESSION&apos;. &lt;/p&gt;

&lt;p&gt;Some security checks would be needed for &apos;CREATE FUNCTION&apos; which would add function to main function registry.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Extension from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2503&quot; title=&quot;HiveServer should provide per session configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2503&quot;&gt;&lt;del&gt;HIVE-2503&lt;/del&gt;&lt;/a&gt; for function registry.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2573&quot; title=&quot;Create per-session function registry &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2573&quot;&gt;&lt;del&gt;HIVE-2573&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2573&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2573&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 4d4fce2 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/CreateFunctionDesc.java 051095a &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/DropFunctionDesc.java 8a78f5b &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java 07a4832 &lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java 35d124b &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 197bc77 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionTask.java 70b6f57 &lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/FunctionSemanticAnalyzer.java f2b7018 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2831/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Navis&lt;/p&gt;
</comment>
                            <comment id="13150853" author="jiraposter@reviews.apache.org" created="Tue, 15 Nov 2011 22:41:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2831/#review3281&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/#review3281&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;Looks good overall, but I think we should continue to require that the user specify the TEMPORARY keyword until we have a security mechanism in place to restrict access to non-temporary functions.&lt;/p&gt;


&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2831/#comment7343&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/#comment7343&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please don&apos;t move blocks of code around. It makes the diffs much harder to review. Please save cleanup/reorganization changes like this for refactoring patches.&lt;/p&gt;



&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2831/#comment7344&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/#comment7344&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Since we don&apos;t yet have the security mechanism in place to handle global non-temporary functions, I think we should leave the grammar unchanged and continue to require that the user specify the &quot;TEMPORARY&quot; keyword. Please back out this change, along with the modifications to CreateFuncDesc and DropFuncDesc.&lt;/p&gt;



&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/plan/CreateFunctionDesc.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2831/#comment7345&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/#comment7345&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Please prefix boolean variable names with &quot;is&quot;, e.g. &quot;isTemporary&quot;.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Carl&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-11-15 07:06:04, Navis Ryu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/2831/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-11-15 07:06:04)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Extension from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2503&quot; title=&quot;HiveServer should provide per session configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2503&quot;&gt;&lt;del&gt;HIVE-2503&lt;/del&gt;&lt;/a&gt; for function registry.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2573&quot; title=&quot;Create per-session function registry &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2573&quot;&gt;&lt;del&gt;HIVE-2573&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2573&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2573&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 4d4fce2 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/plan/CreateFunctionDesc.java 051095a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/plan/DropFunctionDesc.java 8a78f5b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java 07a4832 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java 35d124b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 197bc77 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionTask.java 70b6f57 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/FunctionSemanticAnalyzer.java f2b7018 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2831/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Navis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13150932" author="jiraposter@reviews.apache.org" created="Wed, 16 Nov 2011 00:39:51 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-11-15 22:41:17, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java, line 1232&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2831/diff/3/?file=58368#file58368line1232&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/diff/3/?file=58368#file58368line1232&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Please don&apos;t move blocks of code around. It makes the diffs much harder to review. Please save cleanup/reorganization changes like this for refactoring patches.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ve moved the part because it was in the middle of inner-class named Registry, but should be referenced by outer-class FunctionRegistry. I&apos;ll revise patch to minimize the difference.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-11-15 22:41:17, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; ql/src/java/org/apache/hadoop/hive/ql/plan/CreateFunctionDesc.java, line 41&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2831/diff/3/?file=58372#file58372line41&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/diff/3/?file=58372#file58372line41&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Please prefix boolean variable names with &quot;is&quot;, e.g. &quot;isTemporary&quot;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Will be backed-out with other modifications.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-11-15 22:41:17, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g, line 1004&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/2831/diff/3/?file=58371#file58371line1004&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/diff/3/?file=58371#file58371line1004&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Since we don&apos;t yet have the security mechanism in place to handle global non-temporary functions, I think we should leave the grammar unchanged and continue to require that the user specify the &quot;TEMPORARY&quot; keyword. Please back out this change, along with the modifications to CreateFuncDesc and DropFuncDesc.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It was requested thing to us to register functions by admin authority. I should keep this part as a in-house patch.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Navis&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2831/#review3281&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/#review3281&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-11-15 07:06:04, Navis Ryu wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/2831/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-11-15 07:06:04)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Extension from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2503&quot; title=&quot;HiveServer should provide per session configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2503&quot;&gt;&lt;del&gt;HIVE-2503&lt;/del&gt;&lt;/a&gt; for function registry.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2573&quot; title=&quot;Create per-session function registry &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2573&quot;&gt;&lt;del&gt;HIVE-2573&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2573&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2573&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 4d4fce2 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/plan/CreateFunctionDesc.java 051095a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/plan/DropFunctionDesc.java 8a78f5b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java 07a4832 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java 35d124b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java 197bc77 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionTask.java 70b6f57 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ql/src/java/org/apache/hadoop/hive/ql/parse/FunctionSemanticAnalyzer.java f2b7018 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2831/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2831/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Navis&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13179212" author="cwsteinbach" created="Wed, 4 Jan 2012 01:40:28 +0000"  >&lt;p&gt;@Navis: Is this ready for a final review?&lt;/p&gt;</comment>
                            <comment id="13179277" author="navis" created="Wed, 4 Jan 2012 05:14:49 +0000"  >&lt;p&gt;Has no test cases yet. I think &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2503&quot; title=&quot;HiveServer should provide per session configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2503&quot;&gt;&lt;del&gt;HIVE-2503&lt;/del&gt;&lt;/a&gt; should be resolved first for that.&lt;/p&gt;</comment>
                            <comment id="13275133" author="phabricator@reviews.facebook.net" created="Tue, 15 May 2012 01:56:30 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2573&quot; title=&quot;Create per-session function registry &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2573&quot;&gt;&lt;del&gt;HIVE-2573&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Create per-session function registry&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-412 Create per-session function registry&lt;/p&gt;

&lt;p&gt;  Currently the function registry is shared resource and could be overrided by other users when using HiveServer. If per-session function registry is provided, this situation could be prevented.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D3231&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D3231&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  pdk/scripts/class-registration.xsl&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Registry.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/FunctionSemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/CreateFunctionDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/DropFunctionDesc.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/drop_native_udf.q&lt;br/&gt;
  ql/src/test/results/clientnegative/drop_native_udf.q.out&lt;br/&gt;
  service/src/java/org/apache/hadoop/hive/service/HiveServer.java&lt;br/&gt;
  service/src/test/org/apache/hadoop/hive/service/TestHiveServerSessions.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/7311/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/7311/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="14151375" author="navis" created="Mon, 29 Sep 2014 05:33:07 +0000"  >&lt;p&gt;Rebased to trunk. Let&apos;s see what will happen.&lt;/p&gt;</comment>
                            <comment id="14151555" author="hiveqa" created="Mon, 29 Sep 2014 09:58:23 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12671743/HIVE-2573.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12671743/HIVE-2573.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 24 failed/errored test(s), 6365 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_func1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_functions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_collect_set
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_corr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_covar_pop
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_covar_samp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_avg
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_count
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_max
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_min
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_percentile
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_std
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_stddev
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_stddev_samp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_sum
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_var_pop
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_var_samp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_variance
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udaf_example_max
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udaf_example_min
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testNegativeCliDriver_invalid_row_sequence
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
org.apache.hadoop.hive.service.TestHiveServerSessions.testSessionFuncs
org.apache.hive.jdbc.TestJdbcDriver2.testGetQueryLog
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1033/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1033/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1033/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1033/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1033/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1033/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 24 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12671743&lt;/p&gt;</comment>
                            <comment id="14155869" author="jdere" created="Thu, 2 Oct 2014 00:25:59 +0000"  >&lt;p&gt;Nice! Is there an updated RB entry for this? A few comments so far:&lt;/p&gt;

&lt;p&gt;FunctionRegistry.java:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;registerTemporaryUDF()/registerTemporaryGenericUDF()/registerTemporaryGenericUDTF()/etc: Is it now possible to remove these?&lt;/li&gt;
	&lt;li&gt;getFunctionInfo(): This changes the order in which unqualified function names are resolved:
	&lt;ul&gt;
		&lt;li&gt;Before:
		&lt;ul&gt;
			&lt;li&gt;Temp/system functions looked up first (without qualified name)&lt;/li&gt;
			&lt;li&gt;Function name qualified with DB name, looked up in metastore&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
		&lt;li&gt;With patch:
		&lt;ul&gt;
			&lt;li&gt;Temp functions looked up first (without qualified name)&lt;/li&gt;
			&lt;li&gt;Function name qualified with DB name, looked up in metastore&lt;/li&gt;
			&lt;li&gt;System functions looked up (without qualified name)&lt;/li&gt;
			&lt;li&gt;Function name qualified with DB name, looked up in metastore a 2nd time&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
		&lt;li&gt;This also means that built-in functions end up requiring a failed metastore lookup due to checking the SessionState Registry first, and in worst case a non-existent function requires 2 separate lookups to the metastore. I think it should be possible to get behavior similar to the old behavior, if you move most of the logic back to FunctionRegistry.getFunctionInfo() and if Registry is able to lookup functions with/without looking in the metastore.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;FunctionTask.java:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;dropTemporaryFunction(): Should this use FunctionRegistry.unregisterTemporaryUDF()?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Registry.java:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;LOG is using FunctionRegistry.class; should use Registry.class&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14156201" author="navis" created="Thu, 2 Oct 2014 08:05:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt; Yes, the concept of this patch is conflicting with permanent functions which was introduced long after of this. So now we can have four kind(native/session x permanent/non-permanent) of functions and seemed not a good idea. To resolve this, I think we should remove session/permanent type and native/permanent type functions. By doing that, metastore-lookup-twice problem also would be disappeared.&lt;/p&gt;

&lt;p&gt;Currently the HQL grammar is,&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;create function : native/permanent
create temporary function : native/non-permanent
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;m suggesting like below,&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;create function : native/permanent
create temporary function : session/non-permanent
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For native functions, there would be built-in system functions, which is not needed to be persisted to metastore.&lt;/p&gt;</comment>
                            <comment id="14156959" author="jdere" created="Thu, 2 Oct 2014 18:39:47 +0000"  >&lt;p&gt;Whoops, had not meant to assign this to myself&lt;/p&gt;</comment>
                            <comment id="14157034" author="jdere" created="Thu, 2 Oct 2014 19:35:11 +0000"  >&lt;p&gt;Agreed that it makes sense to get rid of the native/non-permanent functions.&lt;br/&gt;
I could see a case for the permanent (metastore) UDFs being added to the session function registry, just because it would keep the system registry clean with just built-in functions. Also even if the permanent UDF is in the system registry, Session&apos;s classloader may not have loaded the Jars necessary for the UDF, if it was a different thread which added the UDF to the system registry.  Although I guess &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6672&quot; title=&quot;JARs loaded by permanent functions don&amp;#39;t work properly with HiveServer2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6672&quot;&gt;&lt;del&gt;HIVE-6672&lt;/del&gt;&lt;/a&gt; should take care of that issue. Anyway it looks like the permanent UDFs will work ok either as native/permanent or session/permanent so either way should do.&lt;/p&gt;</comment>
                            <comment id="14159769" author="navis" created="Mon, 6 Oct 2014 00:50:07 +0000"  >&lt;p&gt;Permanent function is stored in metastore, which is shared to all clients. So session-permanent is not possible in the sense that it should be accessible only for the session. I think it would be better to investigate META-INF in jar files which should be added to session, to register temporary functions. How about that?&lt;/p&gt;</comment>
                            <comment id="14161114" author="jdere" created="Mon, 6 Oct 2014 22:17:30 +0000"  >&lt;blockquote&gt;
&lt;p&gt;So session-permanent is not possible in the sense that it should be accessible only for the session.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;True, permanent functions are not restricted to only being used in one session.  However the function may need to get looked up/loaded for each session that uses it (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6672&quot; title=&quot;JARs loaded by permanent functions don&amp;#39;t work properly with HiveServer2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6672&quot;&gt;&lt;del&gt;HIVE-6672&lt;/del&gt;&lt;/a&gt;). As I said earlier though, I think it should ok for permanent UDFs to go into the system function registry.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;I think it would be better to investigate META-INF in jar files which should be added to session, to register temporary functions. How about that?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Not sure I understand this - is the idea here to automatically register temp functions for Jars that the user adds to their session, rather than requiring users to run CREATE TEMPORARY FUNCTION?&lt;/p&gt;</comment>
                            <comment id="14161348" author="navis" created="Tue, 7 Oct 2014 01:46:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;Not sure I understand this - is the idea here to automatically register temp functions for Jars that the user adds to their session, rather than requiring users to run CREATE TEMPORARY FUNCTION?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, as you said. Sorry for ambiguity. It&apos;s spring out thinking of session-permanent function. If someone should add jar to &quot;activate&quot; session-permanent function (if it&apos;s already in the classpath of hive, it&apos;s not different from native-permanent function), it would be better to describe the function in the jar, not in metastore. &lt;/p&gt;</comment>
                            <comment id="14167290" author="jdere" created="Fri, 10 Oct 2014 18:47:22 +0000"  >&lt;p&gt;How about this? Patch v5 disables metastore lookup of UDFs in the session registry, this should be similar behavior to what was there before. Couple other bits:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;applied review comments&lt;/li&gt;
	&lt;li&gt;metastore udfs should not be considered native. This allows them to be added/removed from registry&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14168513" author="hiveqa" created="Sun, 12 Oct 2014 04:10:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12674220/HIVE-2573.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12674220/HIVE-2573.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1223/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1223/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1223/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1223/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1223/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1223/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
Decision can match input such as &quot;STAR&quot; using multiple alternatives: 1, 2

As a result, alternative(s) 2 were disabled for that input
warning(200): IdentifiersParser.g:179:5: 
Decision can match input such as &quot;KW_STRUCT&quot; using multiple alternatives: 4, 6

As a result, alternative(s) 6 were disabled for that input
warning(200): IdentifiersParser.g:179:5: 
Decision can match input such as &quot;KW_ARRAY&quot; using multiple alternatives: 2, 6

As a result, alternative(s) 6 were disabled for that input
warning(200): IdentifiersParser.g:179:5: 
Decision can match input such as &quot;KW_UNIONTYPE&quot; using multiple alternatives: 5, 6

As a result, alternative(s) 6 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_NULL&quot; using multiple alternatives: 1, 8

As a result, alternative(s) 8 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_FALSE&quot; using multiple alternatives: 3, 8

As a result, alternative(s) 8 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_TRUE&quot; using multiple alternatives: 3, 8

As a result, alternative(s) 8 were disabled for that input
warning(200): IdentifiersParser.g:261:5: 
Decision can match input such as &quot;KW_DATE StringLiteral&quot; using multiple alternatives: 2, 3

As a result, alternative(s) 3 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_CLUSTER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_UNION KW_ALL&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_SORT KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_INSERT KW_INTO&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_LATERAL KW_VIEW&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;KW_BETWEEN KW_MAP LPAREN&quot; using multiple alternatives: 8, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_DISTRIBUTE KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_INSERT KW_OVERWRITE&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_ORDER KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_GROUP KW_BY&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:393:5: 
Decision can match input such as &quot;{KW_LIKE, KW_REGEXP, KW_RLIKE} KW_MAP LPAREN&quot; using multiple alternatives: 2, 9

As a result, alternative(s) 9 were disabled for that input
warning(200): IdentifiersParser.g:518:5: 
Decision can match input such as &quot;{AMPERSAND..BITWISEXOR, DIV..DIVIDE, EQUAL..EQUAL_NS, GREATERTHAN..GREATERTHANOREQUALTO, KW_AND, KW_ARRAY, KW_BETWEEN..KW_BOOLEAN, KW_CASE, KW_DOUBLE, KW_FLOAT, KW_IF, KW_IN, KW_INT, KW_LIKE, KW_MAP, KW_NOT, KW_OR, KW_REGEXP, KW_RLIKE, KW_SMALLINT, KW_STRING..KW_STRUCT, KW_TINYINT, KW_UNIONTYPE, KW_WHEN, LESSTHAN..LESSTHANOREQUALTO, MINUS..NOTEQUAL, PLUS, STAR, TILDE}&quot; using multiple alternatives: 1, 3

As a result, alternative(s) 3 were disabled for that input
[INFO] 
[INFO] --- maven-remote-resources-plugin:1.5:process (default) @ hive-exec ---
Downloading: http://conjars.org/repo/org/apache/calcite/calcite/0.9.1-incubating-SNAPSHOT/maven-metadata.xml
Downloading: https://repository.jboss.org/nexus/content/groups/public/net/hydromatic/linq4j/0.4/linq4j-0.4.pom
Downloading: http://repo.maven.apache.org/maven2/net/hydromatic/linq4j/0.4/linq4j-0.4.pom
Downloading: https://repository.jboss.org/nexus/content/groups/public/net/hydromatic/quidem/0.1.1/quidem-0.1.1.pom
Downloading: http://repo.maven.apache.org/maven2/net/hydromatic/quidem/0.1.1/quidem-0.1.1.pom
Downloading: https://repository.jboss.org/nexus/content/groups/public/org/pentaho/pentaho-aggdesigner-algorithm/5.1.3-jhyde/pentaho-aggdesigner-algorithm-5.1.3-jhyde.pom
Downloading: http://repo.maven.apache.org/maven2/org/pentaho/pentaho-aggdesigner-algorithm/5.1.3-jhyde/pentaho-aggdesigner-algorithm-5.1.3-jhyde.pom
Downloading: https://repository.jboss.org/nexus/content/groups/public/eigenbase/eigenbase-properties/1.1.4/eigenbase-properties-1.1.4.pom
Downloading: http://repo.maven.apache.org/maven2/eigenbase/eigenbase-properties/1.1.4/eigenbase-properties-1.1.4.pom
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ hive-exec ---
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-exec ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-exec ---
[INFO] Compiling 1915 source files to /data/hive-ptest/working/apache-svn-trunk-source/ql/target/classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinBytesTableContainer.java: Some input files use or override a deprecated API.
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/MapJoinBytesTableContainer.java: Recompile with -Xlint:deprecation for details.
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Query.java: Some input files use unchecked or unsafe operations.
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Query.java: Recompile with -Xlint:unchecked for details.
[INFO] 4 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:[481,28] no suitable method found for getFunctionNames(boolean)
    method org.apache.hadoop.hive.ql.exec.FunctionRegistry.getFunctionNames(java.lang.String) is not applicable
      (actual argument boolean cannot be converted to java.lang.String by method invocation conversion)
    method org.apache.hadoop.hive.ql.exec.FunctionRegistry.getFunctionNames() is not applicable
      (actual and formal argument lists differ in length)
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:[486,9] cannot find symbol
  symbol:   class Pattern
  location: class org.apache.hadoop.hive.ql.exec.FunctionRegistry
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:[486,30] cannot find symbol
  symbol:   variable Pattern
  location: class org.apache.hadoop.hive.ql.exec.FunctionRegistry
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:[492,16] cannot find symbol
  symbol:   class PatternSyntaxException
  location: class org.apache.hadoop.hive.ql.exec.FunctionRegistry
[INFO] 4 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [14.180s]
[INFO] Hive Shims Common ................................. SUCCESS [7.813s]
[INFO] Hive Shims 0.20 ................................... SUCCESS [3.608s]
[INFO] Hive Shims Secure Common .......................... SUCCESS [4.667s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [2.314s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [8.074s]
[INFO] Hive Shims ........................................ SUCCESS [0.672s]
[INFO] Hive Common ....................................... SUCCESS [22.539s]
[INFO] Hive Serde ........................................ SUCCESS [14.479s]
[INFO] Hive Metastore .................................... SUCCESS [36.268s]
[INFO] Hive Ant Utilities ................................ SUCCESS [1.710s]
[INFO] Hive Query Language ............................... FAILURE [1:29.761s]
[INFO] Hive Service ...................................... SKIPPED
[INFO] Hive Accumulo Handler ............................. SKIPPED
[INFO] Hive JDBC ......................................... SKIPPED
[INFO] Hive Beeline ...................................... SKIPPED
[INFO] Hive CLI .......................................... SKIPPED
[INFO] Hive Contrib ...................................... SKIPPED
[INFO] Hive HBase Handler ................................ SKIPPED
[INFO] Hive HCatalog ..................................... SKIPPED
[INFO] Hive HCatalog Core ................................ SKIPPED
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog Streaming ........................... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 3:28.993s
[INFO] Finished at: Sun Oct 12 00:09:54 EDT 2014
[INFO] Final Memory: 75M/737M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hive-exec: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:[481,28] no suitable method found for getFunctionNames(boolean)
[ERROR] method org.apache.hadoop.hive.ql.exec.FunctionRegistry.getFunctionNames(java.lang.String) is not applicable
[ERROR] (actual argument boolean cannot be converted to java.lang.String by method invocation conversion)
[ERROR] method org.apache.hadoop.hive.ql.exec.FunctionRegistry.getFunctionNames() is not applicable
[ERROR] (actual and formal argument lists differ in length)
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:[486,9] cannot find symbol
[ERROR] symbol:   class Pattern
[ERROR] location: class org.apache.hadoop.hive.ql.exec.FunctionRegistry
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:[486,30] cannot find symbol
[ERROR] symbol:   variable Pattern
[ERROR] location: class org.apache.hadoop.hive.ql.exec.FunctionRegistry
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java:[492,16] cannot find symbol
[ERROR] symbol:   class PatternSyntaxException
[ERROR] location: class org.apache.hadoop.hive.ql.exec.FunctionRegistry
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-exec
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12674220&lt;/p&gt;</comment>
                            <comment id="14170239" author="jdere" created="Mon, 13 Oct 2014 23:35:35 +0000"  >&lt;p&gt;rebasing with trunk and fixing qfile failures&lt;/p&gt;</comment>
                            <comment id="14170888" author="hiveqa" created="Tue, 14 Oct 2014 13:06:41 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12674643/HIVE-2573.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12674643/HIVE-2573.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 6555 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parallel
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_drop_native_udf
org.apache.hadoop.hive.service.TestHiveServerSessions.testSessionFuncs
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1261/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1261/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1261/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1261/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1261/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1261/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12674643&lt;/p&gt;</comment>
                            <comment id="14172159" author="jdere" created="Wed, 15 Oct 2014 09:01:00 +0000"  >&lt;p&gt;Fix test failures. TestHiveServerSessions seems to pass when I move it to itests/&lt;/p&gt;</comment>
                            <comment id="14173431" author="hiveqa" created="Thu, 16 Oct 2014 06:35:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12674959/HIVE-2573.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12674959/HIVE-2573.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 6559 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_custom_key
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_custom_key2
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_custom_key3
org.apache.hive.beeline.TestSchemaTool.testSchemaInit
org.apache.hive.beeline.TestSchemaTool.testSchemaUpgrade
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1292/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1292/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1292/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1292/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1292/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1292/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12674959&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;PreCommit-HIVE-TRUNK-Build&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14174619" author="jdere" created="Fri, 17 Oct 2014 01:40:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;, how does this look now? Most of the changes (done by Navis), look good to me.&lt;br/&gt;
Test failures not related, due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8465&quot; title=&quot;Fix some minor test fails on trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8465&quot;&gt;&lt;del&gt;HIVE-8465&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14174656" author="jdere" created="Fri, 17 Oct 2014 02:22:16 +0000"  >&lt;p&gt;yet another RB - &lt;a href=&quot;https://reviews.apache.org/r/26854/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/26854/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14176719" author="navis" created="Mon, 20 Oct 2014 08:42:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt; Good work. But one thing I want to change is that all functions in native registry should be native function and vise versa to clarify function types. I think we can define permanent function as a native function but acts as a temporary function when accessed, by registering itself to session registry. So it&apos;s,&lt;/p&gt;

&lt;p&gt;system registry (native) : builtin-function + permanent function (contains definition only)&lt;br/&gt;
session register (non-native) : temporary function + permanent function&lt;/p&gt;

&lt;p&gt;Review board is not accessible for a day long till now. So I&apos;ve attached patch for showing the intention.&lt;/p&gt;</comment>
                            <comment id="14176807" author="hiveqa" created="Mon, 20 Oct 2014 10:59:28 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12675782/HIVE-2573.8.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12675782/HIVE-2573.8.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 188 failed/errored test(s), 6566 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ptf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ptf_register_tblfn
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ptf_streaming
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_collect_set
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_corr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_covar_pop
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_covar_samp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_avg
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_count
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_max
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_min
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_percentile
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_std
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_stddev
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_stddev_samp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_sum
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_var_pop
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_var_samp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_variance
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_ptf
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udaf_example_max
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udaf_example_min
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testNegativeCliDriver_invalid_row_sequence
org.apache.hadoop.hive.cli.TestHBaseMinimrCliDriver.testCliDriver_hbase_bulk
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_alter_merge_2_orc
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_alter_merge_orc
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_alter_merge_stats_orc
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_join0
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_join1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_10
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_11
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_12
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_13
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_14
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_15
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_4
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_5
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_7
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_8
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_auto_sortmerge_join_9
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_bucket2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_bucket3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_bucket4
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_cbo_correctness
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_correlationoptimizer1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_ctas
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_all_non_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_all_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_orig_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_tmp_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_where_no_match
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_where_non_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_where_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_whole_partition
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_disable_merge_for_bucketing
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynamic_partition_pruning
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynamic_partition_pruning_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_filter_join_breaktask
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_filter_join_breaktask2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_groupby1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_groupby2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_groupby3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_having
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_into1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_into2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_orig_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_update_delete
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_values_dynamic_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_values_non_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_values_tmp_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_join0
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_join1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_leftsemijoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_limit_pushdown
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_load_dyn_part1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mapjoin_decimal
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mapjoin_mapjoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mapreduce1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mapreduce2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_merge1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_merge2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_metadata_only_queries
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_metadataonly1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_mrr
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge4
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge5
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge6
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_merge_incompat1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_orc_vectorization_ppd
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_ptf
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_sample1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_scriptfile1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_select_dummy_source
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_subquery_exists
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_subquery_in
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_temp_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_bmj_schema_evolution
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_dml
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_join_hash
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_join_tests
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_schema_evolution
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_smb_main
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union_decimal
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_union_group_by
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_transform1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_transform2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_transform_ppr1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_transform_ppr2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union4
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_union6
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_after_multiple_inserts
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_all_non_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_all_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_all_types
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_orig_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_tmp_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_two_cols
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_where_no_match
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_where_non_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_where_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_char_simple
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_aggregate
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_mapjoin_reduce
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_partitioned_date_time
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_varchar_simple
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_0
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_12
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_13
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_14
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_15
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_16
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_4
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_decimal_date
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_not
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_short_regress
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_bucketmapjoin1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_context
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_dynamic_partition_pruning
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_ptf
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_shufflejoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_timestamp_funcs
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket4
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket5
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers2
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin7
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_disable_merge_for_bucketing
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_empty_dir_in_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_file_with_header_footer
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_groupby2
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_index_bitmap_auto
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_bucketed_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_dyn_part
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_map_operators
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_merge
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_num_buckets
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_join1
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_leftsemijoin_mr
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_quotedid_smb
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_scriptfile1
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_smb_mapjoin_8
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_udf_using
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_drop_native_udf
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udf_nonexistent_resource
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_udf_local_resource
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1
org.apache.hadoop.hive.service.TestHiveServerSessions.testSessionFuncs
org.apache.hive.jdbc.TestJdbcWithMiniMr.testMrQuery
org.apache.hive.jdbc.TestJdbcWithMiniMr.testTempTable
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1347/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1347/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1347/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1347/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1347/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1347/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 188 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12675782&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;PreCommit-HIVE-TRUNK-Build&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14177974" author="navis" created="Tue, 21 Oct 2014 05:32:42 +0000"  >&lt;p&gt;fixed ClassNotFoundError and different result from getFunctionSynonyms()&lt;/p&gt;</comment>
                            <comment id="14178504" author="hiveqa" created="Tue, 21 Oct 2014 15:15:10 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12676032/HIVE-2573.9.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12676032/HIVE-2573.9.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 26 failed/errored test(s), 6568 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_collect_set
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_corr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_covar_pop
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_covar_samp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_avg
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_count
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_max
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_min
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_percentile
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_std
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_stddev
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_stddev_samp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_sum
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_var_pop
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_var_samp
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_variance
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udaf_example_max
org.apache.hadoop.hive.cli.TestContribCliDriver.testCliDriver_udaf_example_min
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testNegativeCliDriver_invalid_row_sequence
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_drop_native_udf
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udf_nonexistent_resource
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_udf_local_resource
org.apache.hadoop.hive.metastore.TestMetaStoreConnectionUrlHook.testUrlHook
org.apache.hadoop.hive.service.TestHiveServerSessions.testSessionFuncs
org.apache.hive.hcatalog.mapreduce.TestHCatMultiOutputFormat.testOutputFormat
org.apache.hive.minikdc.TestJdbcWithMiniKdc.testNegativeTokenAuth
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1372/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1372/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1372/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1372/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1372/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1372/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 26 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12676032 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14184008" author="hiveqa" created="Sat, 25 Oct 2014 07:08:32 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12676841/HIVE-2573.10.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12676841/HIVE-2573.10.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 6564 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testNegativeCliDriver_invalid_row_sequence
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_drop_native_udf
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udf_nonexistent_resource
org.apache.hadoop.hive.service.TestHiveServerSessions.testSessionFuncs
org.apache.hive.jdbc.TestJdbcWithMiniMr.testPermFunc
org.apache.hive.minikdc.TestJdbcWithMiniKdc.testNegativeTokenAuth
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1448/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1448/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1448/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1448/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1448/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1448/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12676841 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14184883" author="navis" created="Mon, 27 Oct 2014 06:30:05 +0000"  >&lt;p&gt;Fixed test fails&lt;/p&gt;</comment>
                            <comment id="14184944" author="hiveqa" created="Mon, 27 Oct 2014 08:25:46 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12677248/HIVE-2573.11.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12677248/HIVE-2573.11.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 6579 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1470/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1470/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1470/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1470/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1470/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1470/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12677248 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14207208" author="jdere" created="Tue, 11 Nov 2014 22:30:43 +0000"  >&lt;p&gt;rebasing patch with trunk&lt;/p&gt;</comment>
                            <comment id="14207248" author="jdere" created="Tue, 11 Nov 2014 22:45:22 +0000"  >&lt;p&gt;Looks like TestHiveServerSessions has been removed since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6977&quot; title=&quot;Delete Hiveserver1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6977&quot;&gt;&lt;del&gt;HIVE-6977&lt;/del&gt;&lt;/a&gt;, so no longer issue with hadoop-2 for that test.&lt;/p&gt;</comment>
                            <comment id="14207676" author="hiveqa" created="Wed, 12 Nov 2014 04:50:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12680915/HIVE-2573.12.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12680915/HIVE-2573.12.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 115 failed/errored test(s), 6686 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ba_table_udfs
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cbo_simple_select
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_delete_orig_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_delete_where_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_delete_whole_partition
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_literal_decimal
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_literal_double
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_macro
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_predicate_pushdown
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ptf_matchpath
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_functions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_timestamp_comparison2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_abs
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_acos
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_asin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_atan
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_between
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_bin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_conv
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_cos
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_format_number
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_hex
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_negative
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_pmod
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_positive
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_repeat
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_round
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_round_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_sign
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_sin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_sort_array
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_space
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_substr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_tan
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_to_boolean
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_to_byte
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_to_double
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_to_float
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_to_long
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_to_short
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_to_string
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_update_orig_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_between_in
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_math_funcs
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_round
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_round_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_decimal_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_0
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_div0
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_not
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_short_regress
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_context
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_math_funcs
org.apache.hadoop.hive.cli.TestCompareCliDriver.testCompareCliDriver_vectorized_math_funcs
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_external_table_ppd
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_storage_queries
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_cbo_simple_select
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_orig_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_where_partitioned
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_delete_whole_partition
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_optimize_nullscan
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_dml
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_orig_table
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_between_in
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_math_funcs
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_decimal_udf
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_0
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_10
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_11
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_12
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_13
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_14
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_15
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_16
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_4
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_5
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_6
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_7
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_8
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_9
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_div0
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_not
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_short_regress
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_context
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_math_funcs
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udf_format_number_wrong3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_windowing_ll_no_neg
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testOneInputParamters
org.apache.hadoop.hive.ql.parse.TestParse.testParse_udf4
org.apache.hive.hcatalog.streaming.TestStreaming.testInterleavedTransactionBatchCommits
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchEmptyCommit
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1744/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1744/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1744/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1744/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1744/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1744/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 115 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12680915 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14207761" author="navis" created="Wed, 12 Nov 2014 07:22:58 +0000"  >&lt;p&gt;Cannot reproduce fails&lt;/p&gt;</comment>
                            <comment id="14208357" author="hiveqa" created="Wed, 12 Nov 2014 18:01:26 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12681023/HIVE-2573.13.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12681023/HIVE-2573.13.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 6687 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_optimize_nullscan
org.apache.hive.hcatalog.streaming.TestStreaming.testEndpointConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1754/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1754/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1754/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1754/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1754/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1754/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12681023 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14234923" author="jdere" created="Fri, 5 Dec 2014 02:05:29 +0000"  >&lt;p&gt;Is this one still being worked on? I think it&apos;s basically ready, with the exception of 2 questions/comments from the RB of patch v13:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;HiveParser.g has a error message that should be changed from &quot;drop function statement&quot; to &quot;reload function statement&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;SessionConf.java: What about the idea of moving static call to resolveFunctions() to SessionState? I thought that would remove the need for SessionConf, because then Hive class would once again be usable during query runtime. Unless you think it&apos;s cleaner to use SessionConf to get HiveConf rather than the Hive object.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14311682" author="navis" created="Mon, 9 Feb 2015 01:03:44 +0000"  >&lt;p&gt;Forgot this for a long time. Rebased to trunk.&lt;/p&gt;</comment>
                            <comment id="14311727" author="hiveqa" created="Mon, 9 Feb 2015 02:33:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12697373/HIVE-2573.14.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12697373/HIVE-2573.14.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 7526 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testDropMacro
org.apache.hadoop.hive.ql.parse.TestMacroSemanticAnalyzer.testDropMacroExistsDoNotIgnoreErrors
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2711/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2711/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2711/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2711/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2711/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2711/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12697373 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14315263" author="jdere" created="Wed, 11 Feb 2015 00:26:18 +0000"  >&lt;p&gt;New patch? Also, does it get painful to rebase this patch if new UDFs are added? I was going to add from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apivovarov&quot; class=&quot;user-hover&quot; rel=&quot;apivovarov&quot;&gt;Alexander Pivovarov&lt;/a&gt;, but could hold off for a couple days if it makes it easier to get this one in.&lt;/p&gt;</comment>
                            <comment id="14315295" author="apivovarov" created="Wed, 11 Feb 2015 00:43:34 +0000"  >&lt;p&gt;The patch should be rebased anyway because it does not have next_day GenericUDFNextDay&lt;/p&gt;</comment>
                            <comment id="14317405" author="navis" created="Thu, 12 Feb 2015 01:56:13 +0000"  >&lt;p&gt;Addressed comments (exept one) and cannot reproduce fails on TestMacroSemanticAnalyzer.&lt;/p&gt;</comment>
                            <comment id="14317609" author="jdere" created="Thu, 12 Feb 2015 05:05:20 +0000"  >&lt;p&gt;+1 if the tests look ok&lt;/p&gt;</comment>
                            <comment id="14317716" author="hiveqa" created="Thu, 12 Feb 2015 06:58:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12698274/HIVE-2573.15.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12698274/HIVE-2573.15.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 7540 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2770/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2770/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2770/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2770/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2770/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2770/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12698274 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14319637" author="navis" created="Fri, 13 Feb 2015 05:57:28 +0000"  >&lt;p&gt;Committed to trunk, at last. Thanks Jason!&lt;/p&gt;</comment>
                            <comment id="14319779" author="lefty@hortonworks.com" created="Fri, 13 Feb 2015 09:28:55 +0000"  >&lt;p&gt;Doc note:  This adds &quot;Function&quot; to the description of &lt;b&gt;hive.exec.drop.ignorenonexistent&lt;/b&gt; in 1.2.0, so the wiki needs to be updated (with version information).  By the way, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3781&quot; title=&quot;Index related events should be delivered to metastore event listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3781&quot;&gt;&lt;del&gt;HIVE-3781&lt;/del&gt;&lt;/a&gt; added &quot;Index&quot; to the description in 1.1.0.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.exec.drop.ignorenonexistent&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.exec.drop.ignorenonexistent &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What other documentation does this need?  Should there be a release note?&lt;/p&gt;</comment>
                            <comment id="14325556" author="lefty@hortonworks.com" created="Wed, 18 Feb 2015 08:07:23 +0000"  >&lt;p&gt;Doc update:  The description of &lt;b&gt;hive.exec.drop.ignorenonexistent&lt;/b&gt; has been updated in the wiki.&lt;/p&gt;

&lt;p&gt;Does the per-session function registry need to be documented?&lt;/p&gt;</comment>
                            <comment id="14548991" author="sushanth" created="Mon, 18 May 2015 19:54:46 +0000"  >&lt;p&gt;This issue has been fixed and released as part of the 1.2.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                            <comment id="15257105" author="sershe" created="Mon, 25 Apr 2016 21:44:56 +0000"  >&lt;p&gt;This patch breaks some scenarios for multi-HS2 deployments, due to the code that talks to metastore being removed from getFunctionNames(). &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; is there a reason why this code had to be removed? I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13596&quot; title=&quot;HS2 should be able to get UDFs on demand from metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13596&quot;&gt;&lt;del&gt;HIVE-13596&lt;/del&gt;&lt;/a&gt; before I knew this patch existed (I was assuming the scenario in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13596&quot; title=&quot;HS2 should be able to get UDFs on demand from metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13596&quot;&gt;&lt;del&gt;HIVE-13596&lt;/del&gt;&lt;/a&gt; never worked); restoring the metastore-calling code, possibly with a config flag, could be one way to fix the issue described there. Ideally, the metastore call should only happen if the UDF is not found locally; that can be the next step, for now we can just fix the issue by restoring the old behavior.&lt;/p&gt;</comment>
                            <comment id="15265237" author="lefty@hortonworks.com" created="Sat, 30 Apr 2016 08:00:38 +0000"  >&lt;p&gt;Thanks for the release note, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Doc query:  Should the per-session function registry be documented in the wiki?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12743302">HIVE-8218</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12526959">HIVE-2503</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12743302">HIVE-8218</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12529893">HIVE-2544</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12859455">HIVE-11657</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12761548">HIVE-9095</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12941603">HIVE-13132</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12938557">HIVE-13043</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12961977">HIVE-13596</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12526869" name="ASF.LICENSE.NOT.GRANTED--HIVE-2573.D3231.1.patch" size="55289" author="phabricator@reviews.facebook.net" created="Tue, 15 May 2012 01:56:31 +0000"/>
                            <attachment id="12503581" name="HIVE-2573.1.patch.txt" size="47208" author="navis" created="Mon, 14 Nov 2011 09:02:57 +0000"/>
                            <attachment id="12676841" name="HIVE-2573.10.patch.txt" size="144456" author="navis" created="Fri, 24 Oct 2014 05:41:50 +0000"/>
                            <attachment id="12677248" name="HIVE-2573.11.patch.txt" size="151000" author="navis" created="Mon, 27 Oct 2014 06:30:05 +0000"/>
                            <attachment id="12680915" name="HIVE-2573.12.patch.txt" size="147769" author="jdere" created="Tue, 11 Nov 2014 22:30:43 +0000"/>
                            <attachment id="12681023" name="HIVE-2573.13.patch.txt" size="159085" author="navis" created="Wed, 12 Nov 2014 07:23:28 +0000"/>
                            <attachment id="12697373" name="HIVE-2573.14.patch.txt" size="169654" author="navis" created="Mon, 9 Feb 2015 01:06:57 +0000"/>
                            <attachment id="12698274" name="HIVE-2573.15.patch.txt" size="170401" author="navis" created="Thu, 12 Feb 2015 01:56:13 +0000"/>
                            <attachment id="12503699" name="HIVE-2573.2.patch.txt" size="58856" author="navis" created="Tue, 15 Nov 2011 00:53:54 +0000"/>
                            <attachment id="12503719" name="HIVE-2573.3.patch.txt" size="53740" author="navis" created="Tue, 15 Nov 2011 07:07:37 +0000"/>
                            <attachment id="12671743" name="HIVE-2573.4.patch.txt" size="97313" author="navis" created="Mon, 29 Sep 2014 05:33:07 +0000"/>
                            <attachment id="12674220" name="HIVE-2573.5.patch" size="101870" author="jdere" created="Fri, 10 Oct 2014 18:47:22 +0000"/>
                            <attachment id="12674643" name="HIVE-2573.6.patch" size="117152" author="jdere" created="Mon, 13 Oct 2014 23:35:35 +0000"/>
                            <attachment id="12674959" name="HIVE-2573.7.patch" size="122530" author="jdere" created="Wed, 15 Oct 2014 09:01:00 +0000"/>
                            <attachment id="12675782" name="HIVE-2573.8.patch.txt" size="118989" author="navis" created="Mon, 20 Oct 2014 08:43:01 +0000"/>
                            <attachment id="12676032" name="HIVE-2573.9.patch.txt" size="116499" author="navis" created="Tue, 21 Oct 2014 05:32:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Nov 2011 10:54:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216838</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 38 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08p07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48650</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Marked as incompatible because of a bug - &lt;br/&gt;
&lt;br/&gt;
This patch broke automatic loading of externally added permanent functions in HiveServer2. This only affects multi-HS2 setup, where only one HS2 adds the function; or functions added from Hive CLI bypassing HS2. In such cases, HS2 will not be able to run a query with the new function.&lt;br/&gt;
&lt;br/&gt;
Additionally, RELOAD FUNCTION call has been broken by this patch.&lt;br/&gt;
Workaround: &lt;br/&gt;
The HS2s that don&amp;#39;t have the function need to be restarted.&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2574] ivy offline mode broken by changingPattern and checkmodified attributes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2574</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As described here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.mail-archive.com/ivy-user@ant.apache.org/msg03534.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mail-archive.com/ivy-user@ant.apache.org/msg03534.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This wasn&apos;t the case formerly (maybe the upgrade to ivy 1.2?)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531183">HIVE-2574</key>
            <summary>ivy offline mode broken by changingPattern and checkmodified attributes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Nov 2011 21:55:11 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:19 +0000</updated>
                            <resolved>Fri, 18 Nov 2011 03:39:04 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13148855" author="phabricator@reviews.facebook.net" created="Fri, 11 Nov 2011 23:50:51 +0000"  >&lt;p&gt;jsichi requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Factored out existing ivy offline properties to common buildfile, and&lt;br/&gt;
  added new ones to control the relevant settings.&lt;/p&gt;

&lt;p&gt;  As described here:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://www.mail-archive.com/ivy-user@ant.apache.org/msg03534.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mail-archive.com/ivy-user@ant.apache.org/msg03534.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  This wasn&apos;t the case formerly (maybe the upgrade to ivy 1.2?)&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build-offline.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/867/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/867/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13148863" author="phabricator@reviews.facebook.net" created="Fri, 11 Nov 2011 23:54:51 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;/p&gt;

&lt;p&gt;  Marek, this may be good enough for fixing the parallel testing ivy problem (without sed hacking) if you run the slaves with -Doffline=true&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13148910" author="phabricator@reviews.facebook.net" created="Sat, 12 Nov 2011 00:48:51 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;/p&gt;

&lt;p&gt;  Not sure if this is the reason, but it took 34min to update and build Hive and when it got to tests I got this:&lt;/p&gt;

&lt;p&gt;    ivy-resolve:&lt;br/&gt;
         &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Project: anttasks&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt; :: Ivy 2.2.0 - 20100923230623 :: &lt;a href=&quot;http://ant.apache.org/ivy/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ant.apache.org/ivy/&lt;/a&gt; ::&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt; :: loading settings :: file = /data/users/hivetests-mareksapota/trunk-dev3263.snc6.facebook.com-5/ivy/ivysettings.xml&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt; :: problems summary ::&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt; :::: ERRORS&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt; :: USE VERBOSE OR DEBUG MESSAGE LEVEL FOR MORE DETAILS&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt;   unknown resolver null&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:report&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Fatal Error&amp;#93;&lt;/span&gt; ivy-report.xsl:1:1: Premature end of file.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:report&amp;#93;&lt;/span&gt; ERROR:  &apos;Premature end of file.&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:report&amp;#93;&lt;/span&gt; FATAL ERROR:  &apos;Could not compile stylesheet&apos;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13150113" author="phabricator@reviews.facebook.net" created="Tue, 15 Nov 2011 00:34:51 +0000"  >&lt;p&gt;jsichi updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;br/&gt;
Reviewers: JIRA, mareksapotafb&lt;/p&gt;

&lt;p&gt;  Tentative change to see if we can avoid ivy concurrency problems.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build-offline.xml&lt;/p&gt;</comment>
                            <comment id="13150156" author="phabricator@reviews.facebook.net" created="Tue, 15 Nov 2011 01:40:51 +0000"  >&lt;p&gt;jsichi updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;br/&gt;
Reviewers: JIRA, mareksapotafb&lt;/p&gt;

&lt;p&gt;  Turns out we only need to set resolutionCacheDir.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build-offline.xml&lt;/p&gt;</comment>
                            <comment id="13151791" author="phabricator@reviews.facebook.net" created="Thu, 17 Nov 2011 04:36:51 +0000"  >&lt;p&gt;mareksapotafb has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;/p&gt;

&lt;p&gt;  Not sure why, but it started working.  Didn&apos;t work with both this patch and the one downgrading Ivy but now it&apos;s fine.  Hope it doesn&apos;t break again=)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13152333" author="jvs" created="Thu, 17 Nov 2011 21:20:19 +0000"  >&lt;p&gt;Patch is ready for review.  Besides fixing offline mode, it also sets a private resolution cache directory to avoid concurrency problems when running Hive tests in parallel on the same machine.&lt;/p&gt;</comment>
                            <comment id="13152363" author="cwsteinbach" created="Thu, 17 Nov 2011 21:44:20 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13152499" author="jvs" created="Fri, 18 Nov 2011 00:26:52 +0000"  >&lt;p&gt;Reattaching latest patch granting ASF rights.&lt;/p&gt;</comment>
                            <comment id="13152618" author="cwsteinbach" created="Fri, 18 Nov 2011 03:39:04 +0000"  >&lt;p&gt;Committed to trunk. Thanks John!&lt;/p&gt;</comment>
                            <comment id="13152710" author="hudson" created="Fri, 18 Nov 2011 07:48:06 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1095 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1095/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1095/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt;. Ivy offline mode broken by changingPattern and checkmodified attributes (John Sichi via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203477&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203477&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build-offline.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/ivysettings.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13153041" author="phabricator@reviews.facebook.net" created="Fri, 18 Nov 2011 18:46:51 +0000"  >&lt;p&gt;mareksapotafb has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12503447" name="ASF.LICENSE.NOT.GRANTED--HIVE-2574.D435.1.patch" size="5081" author="phabricator@reviews.facebook.net" created="Fri, 11 Nov 2011 23:50:52 +0000"/>
                            <attachment id="12503696" name="ASF.LICENSE.NOT.GRANTED--HIVE-2574.D435.2.patch" size="5876" author="phabricator@reviews.facebook.net" created="Tue, 15 Nov 2011 00:34:52 +0000"/>
                            <attachment id="12503706" name="ASF.LICENSE.NOT.GRANTED--HIVE-2574.D435.3.patch" size="5690" author="phabricator@reviews.facebook.net" created="Tue, 15 Nov 2011 01:40:51 +0000"/>
                            <attachment id="12504148" name="HIVE-2574.D435.3.patch" size="5690" author="jvs" created="Fri, 18 Nov 2011 00:26:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Nov 2011 23:50:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216920</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lklz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123989</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2575] Hive runs out of memory with a large number of partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2575</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When a large number of partitions needs to be fetched for a query (say ~10k), it will take several minutes for the query plan to even be generated and the client will often run out of memory.&lt;/p&gt;

&lt;p&gt;Some quick investigation shows that the partition pruner is relatively speedy, but the actual fetch of the partitions is quite slow with most of the time being spent in DataNucleus generated code.  It also looks like the amount of data that needs to be pulled and stored for each Partition object is quite large.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531184">HIVE-2575</key>
            <summary>Hive runs out of memory with a large number of partitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jonchang">Jonathan Chang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Nov 2011 21:58:07 +0000</created>
                <updated>Fri, 11 Nov 2011 21:58:07 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216921</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 11 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123990</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2576] HiveDataSource doesn&apos;t get a proper connection</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2576</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The HiveDataSource is creating a HiveConnection with as an URL &quot;&quot;, but the connection expects to start with &quot;jdbc:hive://&quot;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531293">HIVE-2576</key>
            <summary>HiveDataSource doesn&apos;t get a proper connection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="hibou">Nicolas Lalev&#233;e</assignee>
                                    <reporter username="hibou">Nicolas Lalev&#233;e</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Nov 2011 09:14:54 +0000</created>
                <updated>Sat, 28 Feb 2015 08:18:50 +0000</updated>
                                            <version>0.8.0</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13149510" author="hibou" created="Mon, 14 Nov 2011 09:16:01 +0000"  >&lt;p&gt;Here is the trivial patch&lt;/p&gt;</comment>
                            <comment id="13244958" author="ashutoshc" created="Tue, 3 Apr 2012 04:11:47 +0000"  >&lt;p&gt;@Nicolas,&lt;br/&gt;
Patch looks good. Instead of hardcoding string, can you make &lt;tt&gt;URI_PREFIX&lt;/tt&gt; in HiveConnection public and reference that.&lt;/p&gt;</comment>
                            <comment id="14341413" author="apivovarov" created="Sat, 28 Feb 2015 08:12:52 +0000"  >&lt;p&gt;I do not think this patch helps.&lt;br/&gt;
It should be methods to set URL, serverName, portNumber, etc&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12778456">HIVE-9822</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12503582" name="HIVE-2576-r1201637.patch" size="636" author="hibou" created="Mon, 14 Nov 2011 09:16:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 Apr 2012 04:11:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217029</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 47 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123991</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2577] Expose the HiveConf in HiveConnection API</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2577</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When running the jdbc code in a local mode, there no way to programatically manage the hive conf.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531301">HIVE-2577</key>
            <summary>Expose the HiveConf in HiveConnection API</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hibou">Nicolas Lalev&#233;e</assignee>
                                    <reporter username="hibou">Nicolas Lalev&#233;e</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Nov 2011 09:47:12 +0000</created>
                <updated>Wed, 9 Jan 2013 10:23:37 +0000</updated>
                            <resolved>Thu, 22 Mar 2012 21:17:24 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13149520" author="hibou" created="Mon, 14 Nov 2011 09:48:01 +0000"  >&lt;p&gt;Here is the trivial patch&lt;/p&gt;</comment>
                            <comment id="13235654" author="ashutoshc" created="Thu, 22 Mar 2012 15:39:30 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13236045" author="ashutoshc" created="Thu, 22 Mar 2012 21:17:25 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Nicolas!&lt;/p&gt;</comment>
                            <comment id="13236462" author="hudson" created="Fri, 23 Mar 2012 09:01:39 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1327 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1327/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1327/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2577&quot; title=&quot;Expose the HiveConf in HiveConnection API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2577&quot;&gt;&lt;del&gt;HIVE-2577&lt;/del&gt;&lt;/a&gt;: Expose the HiveConf in HiveConnection API (Nicolas Lalevee via Ashutosh Chauhan) (Revision 1304068)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1304068&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1304068&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265278" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:29 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13547926" author="hudson" created="Wed, 9 Jan 2013 10:23:37 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2577&quot; title=&quot;Expose the HiveConf in HiveConnection API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2577&quot;&gt;&lt;del&gt;HIVE-2577&lt;/del&gt;&lt;/a&gt;: Expose the HiveConf in HiveConnection API (Nicolas Lalevee via Ashutosh Chauhan) (Revision 1304068)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1304068&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1304068&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12503586" name="HIVE-2577-r1201637.patch" size="1242" author="hibou" created="Mon, 14 Nov 2011 09:48:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Mar 2012 15:39:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2578] Debug mode in some situations doesn&apos;t work properly when child JVM  is started from MapRedLocalTask</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2578</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12531362">HIVE-2578</key>
            <summary>Debug mode in some situations doesn&apos;t work properly when child JVM  is started from MapRedLocalTask</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rsurowka">Robert Sur&#243;wka</assignee>
                                    <reporter username="rsurowka">Robert Sur&#243;wka</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Nov 2011 20:00:48 +0000</created>
                <updated>Fri, 16 Dec 2011 23:57:13 +0000</updated>
                            <resolved>Thu, 17 Nov 2011 00:06:50 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13149865" author="jiraposter@reviews.apache.org" created="Mon, 14 Nov 2011 20:10:53 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/2825/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2825/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for Ning Zhang.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Basically there is an additional place in Hive where a child JVM can be started, that I wasn&apos;t aware of. I added to that place (MapRedLocalTask) update of debug environment variables as it is being already done in MapRedTask.&lt;/p&gt;

&lt;p&gt;By the way I added new debug option: swapSuspend, since I was very often using hive --debug:mainSuspend=n,childSuspend=y whereas now --debug:swapSuspend will be sufficient. &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2578&quot; title=&quot;Debug mode in some situations doesn&amp;#39;t work properly when child JVM  is started from MapRedLocalTask&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2578&quot;&gt;&lt;del&gt;HIVE-2578&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2578&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2578&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/bin/ext/debug.sh 1201858 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java 1201858 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java 1201858 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/2825/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/2825/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Tested on sample queries that it works (e.g. select s1.key, count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from src s1 join src s2 on s1.key = s2.key  group by s1.key, s2.value; )&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Robert&lt;/p&gt;
</comment>
                            <comment id="13150714" author="he yongqiang" created="Tue, 15 Nov 2011 19:43:55 +0000"  >&lt;p&gt;+1, will commit after tests pass.&lt;/p&gt;</comment>
                            <comment id="13151661" author="he yongqiang" created="Thu, 17 Nov 2011 00:06:50 +0000"  >&lt;p&gt;committed, thanks Robert Sur&#243;wka!&lt;/p&gt;</comment>
                            <comment id="13151812" author="hudson" created="Thu, 17 Nov 2011 05:18:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1092 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1092/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1092/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2578&quot; title=&quot;Debug mode in some situations doesn&amp;#39;t work properly when child JVM  is started from MapRedLocalTask&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2578&quot;&gt;&lt;del&gt;HIVE-2578&lt;/del&gt;&lt;/a&gt;: Debug mode doesn&apos;t work properly with MapRedLocalTask (Robert Sur&#243;wka via He Yongqiang)&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202942&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1202942&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/bin/ext/debug.sh&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12503662" name="HIVE-2578.1.patch" size="2694" author="rsurowka" created="Mon, 14 Nov 2011 20:09:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Nov 2011 20:10:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lkmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123993</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
