<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 03:24:01 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2013-7-24+AND+created+%3C%3D+2013-7-28+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="25" total="25"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-4923] Provide compile + run method for HiveServer2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4923</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Make additional thrift method for asynchronous execution.&lt;/p&gt;

&lt;p&gt;execute=compile+run&lt;/p&gt;

&lt;p&gt;This addresses same thing with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4569&quot; title=&quot;GetQueryPlan api in Hive Server2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4569&quot;&gt;HIVE-4569&lt;/a&gt; but with simpler implementation. It&apos;s just for reference (We are using this for months).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659475">HIVE-4923</key>
            <summary>Provide compile + run method for HiveServer2</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Jul 2013 01:54:54 +0000</created>
                <updated>Wed, 24 Dec 2014 03:23:38 +0000</updated>
                                                                            <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13717902" author="phabricator@reviews.facebook.net" created="Wed, 24 Jul 2013 02:14:46 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4923&quot; title=&quot;Provide compile + run method for HiveServer2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4923&quot;&gt;HIVE-4923&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Provide compile + run method for HiveServer2&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2684&quot; title=&quot;Provide compile + run method for HiveServer interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2684&quot;&gt;&lt;del&gt;HIVE-2684&lt;/del&gt;&lt;/a&gt; Provide compile + run method for HiveServer2 interface&lt;/p&gt;

&lt;p&gt;Make additional thrift method for asynchronous execution.&lt;/p&gt;

&lt;p&gt;execute=compile+run&lt;/p&gt;

&lt;p&gt;This addresses same thing with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4569&quot; title=&quot;GetQueryPlan api in Hive Server2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4569&quot;&gt;HIVE-4569&lt;/a&gt; but with simpler implementation. It&apos;s just for reference (We are using this for months).&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11781&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11781&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveConnection.java&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/Utils.java&lt;br/&gt;
  ql/src/gen/thrift/gen-cpp/queryplan_types.cpp&lt;br/&gt;
  ql/src/gen/thrift/gen-cpp/queryplan_types.h&lt;br/&gt;
  ql/src/gen/thrift/gen-php/Types.php&lt;br/&gt;
  ql/src/gen/thrift/gen-py/queryplan/ttypes.py&lt;br/&gt;
  ql/src/gen/thrift/gen-rb/queryplan_types.rb&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/log/PerfLogger.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;br/&gt;
  service/if/TCLIService.thrift&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService.h&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_server.skeleton.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.h&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TCLIService.java&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TCompileReq.java&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TCompileRes.java&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TOperationState.java&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TRunReq.java&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TRunRes.java&lt;br/&gt;
  service/src/gen/thrift/gen-php/TCLIService.php&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/TCLIService-remote&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/TCLIService.py&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/ttypes.py&lt;br/&gt;
  service/src/gen/thrift/gen-py/hive_service/ThriftHive-remote&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service.rb&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/CLIService.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/CLIServiceClient.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/CompileResult.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/EmbeddedCLIServiceClient.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/ICLIService.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/OperationState.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Row.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/RowSet.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/TableSchema.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/operation/HiveCommandOperation.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/operation/SQLOperation.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/session/HiveSession.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/session/HiveSessionImpl.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/thrift/ThriftCLIService.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/thrift/ThriftCLIServiceClient.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/28017/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/28017/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="14006674" author="navis" created="Fri, 23 May 2014 01:05:54 +0000"  >&lt;p&gt;Seemed replaced by asynchronous execution in hiveserver2. Closing the issue.&lt;/p&gt;</comment>
                            <comment id="14239174" author="navis" created="Tue, 9 Dec 2014 09:17:22 +0000"  >&lt;p&gt;Seemed still useful for some cases. especially with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3946&quot; title=&quot;Make it possible to configure for each stage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3946&quot;&gt;HIVE-3946&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14239428" author="hiveqa" created="Tue, 9 Dec 2014 14:14:53 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12685978/HIVE-4923.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12685978/HIVE-4923.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 6700 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx_cbo_1
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchEmptyCommit
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2007/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2007/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2007/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2007/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2007/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2007/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12685978 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12647890">HIVE-4569</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12641741">HIVE-4321</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12711469">HIVE-6992</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12685978" name="HIVE-4923.2.patch.txt" size="321993" author="navis" created="Tue, 9 Dec 2014 09:17:34 +0000"/>
                            <attachment id="12593829" name="HIVE-4923.D11781.1.patch" size="265252" author="phabricator@reviews.facebook.net" created="Wed, 24 Jul 2013 02:14:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Jul 2013 02:14:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339668</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ml2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4924] JDBC: Support query timeout for jdbc</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4924</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;support &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Statement.setQueryTimeout(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; timeout)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12659511">HIVE-4924</key>
            <summary>JDBC: Support query timeout for jdbc</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vgumashta">Vaibhav Gumashta</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                            <label>TODOC2.1</label>
                    </labels>
                <created>Wed, 24 Jul 2013 06:24:36 +0000</created>
                <updated>Mon, 17 Jul 2017 09:46:52 +0000</updated>
                            <resolved>Tue, 3 May 2016 19:54:01 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>HiveServer2</component>
                    <component>JDBC</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13718039" author="phabricator@reviews.facebook.net" created="Wed, 24 Jul 2013 06:31:46 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4924&quot; title=&quot;JDBC: Support query timeout for jdbc&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4924&quot;&gt;&lt;del&gt;HIVE-4924&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support query timeout for jdbc2&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4924&quot; title=&quot;JDBC: Support query timeout for jdbc&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4924&quot;&gt;&lt;del&gt;HIVE-4924&lt;/del&gt;&lt;/a&gt; Support query timeout for jdbc2&lt;/p&gt;

&lt;p&gt;support&lt;/p&gt;

&lt;p&gt;Statement.setQueryTimeout(int timeout)&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11787&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11787&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java&lt;br/&gt;
  jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/TaskRunner.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/history/HiveHistory.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/operation/SQLOperation.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/28023/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/28023/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13718224" author="hiveqa" created="Wed, 24 Jul 2013 10:57:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593864/HIVE-4924.D11787.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593864/HIVE-4924.D11787.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 2649 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_cachingprintstream
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_view_cast
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/161/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/161/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/161/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/161/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13718318" author="hiveqa" created="Wed, 24 Jul 2013 12:39:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593864/HIVE-4924.D11787.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593864/HIVE-4924.D11787.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 2649 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_cachingprintstream
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_view_cast
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/162/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/162/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/162/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/162/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13719099" author="phabricator@reviews.facebook.net" created="Thu, 25 Jul 2013 00:31:48 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4924&quot; title=&quot;JDBC: Support query timeout for jdbc&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4924&quot;&gt;&lt;del&gt;HIVE-4924&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Support query timeout for jdbc2&quot;.&lt;/p&gt;

&lt;p&gt;  Fixed test failure&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11787&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11787&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11787?vs=36093&amp;amp;id=36147#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11787?vs=36093&amp;amp;id=36147#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveStatement.java&lt;br/&gt;
  jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/TaskRunner.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/history/HiveHistory.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/operation/SQLOperation.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13719688" author="hiveqa" created="Thu, 25 Jul 2013 15:18:17 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594074/HIVE-4924.D11787.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594074/HIVE-4924.D11787.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2651 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hcatalog.listener.TestNotificationListener.testAMQListener
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/181/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/181/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/181/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/181/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13737878" author="navis" created="Tue, 13 Aug 2013 06:09:46 +0000"  >&lt;p&gt;The failed test seemed flaky which is described in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4851&quot; title=&quot;Fix flaky tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4851&quot;&gt;&lt;del&gt;HIVE-4851&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="14038621" author="sithmein" created="Fri, 20 Jun 2014 09:42:02 +0000"  >&lt;p&gt;Any news on this? Currently the timeout for the Socket created by thrift is taken from the login &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/warning.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; timeout set by the java.sql.DriverManager. First of all nobody expects the login timeout to affect the read timeout during a query and secondly this timeout can only be set globally for the whole JVM. This means if you have connections to other databases they will also be affected when the value is changed.&lt;/p&gt;</comment>
                            <comment id="14039914" author="hiveqa" created="Sat, 21 Jun 2014 18:24:15 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594074/HIVE-4924.D11787.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594074/HIVE-4924.D11787.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/542/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/542/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/542/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/542/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-542/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-542/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-maven-3.0.5/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-542/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;ql/src/test/org/apache/hadoop/hive/ql/io/parquet/serde/TestParquetTimestampUtils.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/parquet/convert/ETypeConverter.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/parquet/utils/NanoTimeUtils.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/parquet/write/DataWritableWriter.java&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-minikdc/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/server-extensions/target hcatalog/hcatalog-pig-adapter/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hwi/target common/target common/src/gen contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target ql/src/java/org/apache/hadoop/hive/ql/io/parquet/timestamp
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1604446.

At revision 1604446.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12594074&lt;/p&gt;</comment>
                            <comment id="14043187" author="hiveqa" created="Wed, 25 Jun 2014 08:22:22 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12652329/HIVE-4924.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12652329/HIVE-4924.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5655 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hive.hcatalog.pig.TestHCatLoader.testReadDataPrimitiveTypes
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/586/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/586/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/586/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/586/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-586/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-586/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12652329&lt;/p&gt;</comment>
                            <comment id="15252970" author="vgumashta" created="Thu, 21 Apr 2016 23:06:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; If you&apos;re not actively working on it, can I take a look at this one?&lt;/p&gt;</comment>
                            <comment id="15265395" author="hiveqa" created="Sat, 30 Apr 2016 17:58:41 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12801551/HIVE-4924.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12801551/HIVE-4924.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to build exiting with an error&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/132/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/132/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/132/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/132/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-132/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-132/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/lib64/qt-3.3/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/lib64/qt-3.3/bin:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.7.0_45-cloudera/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-MASTER-Build-132/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ git = \s\v\n ]]
+ [[ git = \g\i\t ]]
+ [[ -z master ]]
+ [[ -d apache-github-source-source ]]
+ [[ ! -d apache-github-source-source/.git ]]
+ [[ ! -d apache-github-source-source ]]
+ cd apache-github-source-source
+ git fetch origin
+ git reset --hard HEAD
HEAD is now at 9e1fa0c HIVE-13421 : Propagate job progress in operation status
+ git clean -f -d
+ git checkout master
Already on &apos;master&apos;
+ git reset --hard origin/master
HEAD is now at 9e1fa0c HIVE-13421 : Propagate job progress in operation status
+ git merge --ff-only origin/master
Already up-to-date.
+ git gc
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12801551 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15265511" author="thejas" created="Sat, 30 Apr 2016 21:52:49 +0000"  >&lt;p&gt;Changes look good, looks like it needs a minor rebase.&lt;br/&gt;
+1 pending rebase and tests.&lt;/p&gt;</comment>
                            <comment id="15266756" author="vgumashta" created="Mon, 2 May 2016 15:07:49 +0000"  >&lt;p&gt;Rebasing on master.&lt;/p&gt;</comment>
                            <comment id="15268566" author="hiveqa" created="Tue, 3 May 2016 11:40:54 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12801753/HIVE-4924.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12801753/HIVE-4924.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 4 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 53 failed/errored test(s), 9993 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_constantPropagateForSubQuery
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket4
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket5
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_bucket6
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_disable_merge_for_bucketing
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_map_operators
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_num_buckets
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_list_bucket_dml_10
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge1
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge2
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge9
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_orc_merge_diff_fs
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_reduce_deduplicate
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join1
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join2
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join3
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join4
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_vector_outer_join5
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote
org.apache.hadoop.hive.metastore.TestFilterHooks.org.apache.hadoop.hive.metastore.TestFilterHooks
org.apache.hadoop.hive.metastore.TestHiveMetaStoreGetMetaConf.testGetMetaConfDefault
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testAddPartitions
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hadoop.hive.metastore.TestMetaStoreEndFunctionListener.testEndFunctionListener
org.apache.hadoop.hive.metastore.TestMetaStoreEventListenerOnlyOnCommit.testEventStatus
org.apache.hadoop.hive.metastore.TestMetaStoreInitListener.testMetaStoreInitListener
org.apache.hadoop.hive.metastore.TestMetaStoreMetrics.org.apache.hadoop.hive.metastore.TestMetaStoreMetrics
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithCommas
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithUnicode
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithValidCharacters
org.apache.hadoop.hive.metastore.TestRetryingHMSHandler.testRetryingHMSHandler
org.apache.hadoop.hive.ql.exec.tez.TestDynamicPartitionPruner.testSingleSourceMultipleFiltersOrdering1
org.apache.hadoop.hive.ql.security.TestClientSideAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestExtendedAcls.org.apache.hadoop.hive.ql.security.TestExtendedAcls
org.apache.hadoop.hive.ql.security.TestFolderPermissions.org.apache.hadoop.hive.ql.security.TestFolderPermissions
org.apache.hadoop.hive.ql.security.TestMetastoreAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener.org.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener
org.apache.hadoop.hive.ql.security.TestStorageBasedClientSideAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropDatabase
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableFailure
org.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testSaslWithHiveMetaStore
org.apache.hive.hcatalog.api.repl.commands.TestCommands.org.apache.hive.hcatalog.api.repl.commands.TestCommands
org.apache.hive.hcatalog.listener.TestDbNotificationListener.cleanupNotifs
org.apache.hive.minikdc.TestJdbcNonKrbSASLWithMiniKdc.org.apache.hive.minikdc.TestJdbcNonKrbSASLWithMiniKdc
org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.org.apache.hive.service.TestHS2ImpersonationWithRemoteMS
org.apache.hive.service.cli.session.TestHiveSessionImpl.testLeakOperationHandle
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/160/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/160/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/160/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/160/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-160/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-160/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 53 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12801753 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15269440" author="vgumashta" created="Tue, 3 May 2016 19:43:39 +0000"  >&lt;p&gt;Most failures unrelated. The ones that look related: org.apache.hive.minikdc.TestJdbcNonKrbSASLWithMiniKdc.org.apache.hive.minikdc.TestJdbcNonKrbSASLWithMiniKdc, org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.org.apache.hive.service.TestHS2ImpersonationWithRemoteMS, org.apache.hive.service.cli.session.TestHiveSessionImpl.testLeakOperationHandle pass locally. Will commit this shortly.&lt;/p&gt;</comment>
                            <comment id="15269461" author="vgumashta" created="Tue, 3 May 2016 19:54:01 +0000"  >&lt;p&gt;Committed to master. Thanks for reviewing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15273439" author="ashutoshc" created="Fri, 6 May 2016 01:11:55 +0000"  >&lt;p&gt;TestHiveSessionImpl failed in QA run and is still failing on master.&lt;/p&gt;</comment>
                            <comment id="15283421" author="lefty@hortonworks.com" created="Sat, 14 May 2016 04:44:23 +0000"  >&lt;p&gt;Added a TODOC2.1 label as a reminder to document this in the wiki.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12969676">HIVE-13760</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13087468">SPARK-21433</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12970934">HIVE-13786</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12652329" name="HIVE-4924.3.patch.txt" size="10128" author="navis" created="Wed, 25 Jun 2014 02:24:37 +0000"/>
                            <attachment id="12801143" name="HIVE-4924.4.patch" size="71346" author="vgumashta" created="Wed, 27 Apr 2016 23:15:14 +0000"/>
                            <attachment id="12801512" name="HIVE-4924.5.patch" size="73879" author="vgumashta" created="Fri, 29 Apr 2016 20:13:38 +0000"/>
                            <attachment id="12801551" name="HIVE-4924.6.patch" size="73993" author="vgumashta" created="Fri, 29 Apr 2016 22:33:32 +0000"/>
                            <attachment id="12801753" name="HIVE-4924.7.patch" size="73998" author="vgumashta" created="Mon, 2 May 2016 15:07:49 +0000"/>
                            <attachment id="12593864" name="HIVE-4924.D11787.1.patch" size="16056" author="phabricator@reviews.facebook.net" created="Wed, 24 Jul 2013 06:31:46 +0000"/>
                            <attachment id="12594074" name="HIVE-4924.D11787.2.patch" size="17519" author="phabricator@reviews.facebook.net" created="Thu, 25 Jul 2013 00:31:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Jul 2013 06:31:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 36 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mlaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340023</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12334255</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4925] Modify Hive build to enable compiling and running Hive with JDK7</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4925</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12659632">HIVE-4925</key>
            <summary>Modify Hive build to enable compiling and running Hive with JDK7</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12648611">HIVE-4583</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="xuefuz">Xuefu Zhang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Jul 2013 18:54:26 +0000</created>
                <updated>Tue, 10 Sep 2013 17:14:40 +0000</updated>
                            <resolved>Mon, 9 Sep 2013 15:20:52 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13738253" author="xuefuz" created="Tue, 13 Aug 2013 14:07:20 +0000"  >&lt;p&gt;It&apos;s found that compiling and running hive with JDK7 (or JDK6) requires no change on hive build and it&apos;s just a matter of setting up the JDK environment. Thus, I plan to close this issue as &quot;not an issue&quot;. Please let me know if anyone disagree.&lt;/p&gt;</comment>
                            <comment id="13738255" author="ashutoshc" created="Tue, 13 Aug 2013 14:10:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; Can you please document what (if any) changes in JDK environment are required to get hive to compile/run on JDK 7?&lt;/p&gt;</comment>
                            <comment id="13738272" author="brocknoland" created="Tue, 13 Aug 2013 14:19:55 +0000"  >&lt;p&gt;Doesn&apos;t it require -Djavac.version=1.7 as an ant arg?&lt;/p&gt;</comment>
                            <comment id="13741907" author="xuefuz" created="Fri, 16 Aug 2013 04:45:10 +0000"  >&lt;p&gt;No. I don&apos;t think so. If you have JDK7, then java.version will be 1.7.&lt;/p&gt;</comment>
                            <comment id="13742195" author="brocknoland" created="Fri, 16 Aug 2013 13:24:48 +0000"  >&lt;p&gt;Yeah but if you look at build files it takes the property set by javac.version and places it in the source and target JVM versions. AFAIK that means if you don&apos;t set -Djavac.version=1.7 at the command line, you will be compiling and running with the JDK7 but the code will be at version JDK6. For example:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hive/blob/trunk/build-common.xml#L301&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/trunk/build-common.xml#L301&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13742248" author="xuefuz" created="Fri, 16 Aug 2013 14:18:07 +0000"  >&lt;p&gt;Good catch. I was searching java.version.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure why we have that in that target (and a couple of others). It doesn&apos;t seem making sense to have that only in part of the build. Regardless, we have two choices:&lt;/p&gt;

&lt;p&gt;1. Do nothing. People be aware of using -Djavac.version on command line in JDK7&lt;br/&gt;
2. Get rid of javac.version, so source/target version will be defaulted to that of the compiler.&lt;/p&gt;

&lt;p&gt;Thought?&lt;/p&gt;


</comment>
                            <comment id="13742254" author="brocknoland" created="Fri, 16 Aug 2013 14:22:12 +0000"  >&lt;p&gt;I don&apos;t think we should get rid of javac.version because at some point we&apos;ll want to use JDK8. It&apos;s much easier to use -Djavac.version than to switch out your JVM. If there are areas that are not using source/target I think we should fix that.&lt;/p&gt;</comment>
                            <comment id="13742256" author="ashutoshc" created="Fri, 16 Aug 2013 14:23:04 +0000"  >&lt;p&gt;I agree its unnecessary detail which every dev has to know and is confusing at best. I vote for option 2 as well.&lt;/p&gt;</comment>
                            <comment id="13742257" author="brocknoland" created="Fri, 16 Aug 2013 14:23:10 +0000"  >&lt;p&gt;I chatted with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jarcec&quot; class=&quot;user-hover&quot; rel=&quot;jarcec&quot;&gt;Jarek Jarcec Cecho&lt;/a&gt; about this awhile back. Do you have thoughts Jarcec?&lt;/p&gt;</comment>
                            <comment id="13742374" author="xuefuz" created="Fri, 16 Aug 2013 16:44:21 +0000"  >&lt;p&gt;It appears to me that javac.version option is there by mistake, given the fact that majority of the code is compile with no consideration of that. In my personal opinion, we shouldn&apos;t turn an error to a feature. However, this doesn&apos;t exclude having such a feature in the future when need arrives. Thus, Option#2 seems making more sense to me.&lt;/p&gt;</comment>
                            <comment id="13745118" author="xuefuz" created="Tue, 20 Aug 2013 16:48:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; Could we have a close on this?&lt;/p&gt;</comment>
                            <comment id="13745122" author="brocknoland" created="Tue, 20 Aug 2013 16:50:56 +0000"  >&lt;p&gt;Sure, let&apos;s remove it for now and add it later if required.&lt;/p&gt;</comment>
                            <comment id="13745132" author="ashutoshc" created="Tue, 20 Aug 2013 17:01:16 +0000"  >&lt;p&gt;yeah.. lets reintroduce this later if we find a need for it.&lt;/p&gt;</comment>
                            <comment id="13745141" author="xuefuz" created="Tue, 20 Aug 2013 17:11:18 +0000"  >&lt;p&gt;Attached patch that removes a few usage of javac.version in the build.&lt;/p&gt;</comment>
                            <comment id="13747046" author="hiveqa" created="Wed, 21 Aug 2013 23:50:12 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12598983/HIVE-4925.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12598983/HIVE-4925.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2895 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_script_broken_pipe1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/497/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/497/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/497/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/497/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13761923" author="ashutoshc" created="Mon, 9 Sep 2013 15:20:52 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Xuefu!&lt;/p&gt;</comment>
                            <comment id="13761979" author="hudson" created="Mon, 9 Sep 2013 16:17:56 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #89 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/89/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/89/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4925&quot; title=&quot;Modify Hive build to enable compiling and running Hive with JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4925&quot;&gt;&lt;del&gt;HIVE-4925&lt;/del&gt;&lt;/a&gt; : Modify Hive build to enable compiling and running Hive with JDK7 (Xuefu Zhang via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1521157&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1521157&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/storage-handlers/hbase/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13761998" author="hudson" created="Mon, 9 Sep 2013 16:31:13 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop1-ptest #157 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/157/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/157/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4925&quot; title=&quot;Modify Hive build to enable compiling and running Hive with JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4925&quot;&gt;&lt;del&gt;HIVE-4925&lt;/del&gt;&lt;/a&gt; : Modify Hive build to enable compiling and running Hive with JDK7 (Xuefu Zhang via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1521157&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1521157&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/storage-handlers/hbase/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13763235" author="hudson" created="Tue, 10 Sep 2013 17:12:38 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2322 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2322/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2322/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4925&quot; title=&quot;Modify Hive build to enable compiling and running Hive with JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4925&quot;&gt;&lt;del&gt;HIVE-4925&lt;/del&gt;&lt;/a&gt; : Modify Hive build to enable compiling and running Hive with JDK7 (Xuefu Zhang via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1521157&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1521157&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/storage-handlers/hbase/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13763249" author="hudson" created="Tue, 10 Sep 2013 17:14:40 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop2 #419 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/419/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/419/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4925&quot; title=&quot;Modify Hive build to enable compiling and running Hive with JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4925&quot;&gt;&lt;del&gt;HIVE-4925&lt;/del&gt;&lt;/a&gt; : Modify Hive build to enable compiling and running Hive with JDK7 (Xuefu Zhang via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1521157&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1521157&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/build.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/storage-handlers/hbase/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12598983" name="HIVE-4925.patch" size="3699" author="xuefuz" created="Tue, 20 Aug 2013 17:11:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Aug 2013 14:10:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339825</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mm13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340144</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4926] Queries which specify clustered-by keys as constants will still scan all buckets</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4926</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When tables are CLUSTERED BY (key) into multiple buckets, a query which specifies a key in the query predicate will still scan all buckets in the directory.&lt;/p&gt;

&lt;p&gt;In the ideal scenario, only bucket needs to be inspected for a given key, particularly if hive.enforce.bucketing is turned on.&lt;/p&gt;

&lt;p&gt;When a simple filter query like the following is run&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from store_sales where ss_item_sk = 1;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The log files contain&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader: Processing file hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hadoop1.lxc:56565/user/hive/warehouse/hive_bucketed.db/store_sales/000005_0
&lt;/span&gt; org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader: Processing file hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hadoop1.lxc:56565/user/hive/warehouse/hive_bucketed.db/store_sales/000006_0
&lt;/span&gt; org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader: Processing file hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hadoop1.lxc:56565/user/hive/warehouse/hive_bucketed.db/store_sales/000007_0
&lt;/span&gt; org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader: Processing file hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hadoop1.lxc:56565/user/hive/warehouse/hive_bucketed.db/store_sales/000008_0
&lt;/span&gt; org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader: Processing file hdfs:&lt;span class=&quot;code-comment&quot;&gt;//hadoop1.lxc:56565/user/hive/warehouse/hive_bucketed.db/store_sales/000009_0&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is going through 32x the amount of data, compared to the right approach of scanning only the partitions which match the predicate.&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12659637">HIVE-4926</key>
            <summary>Queries which specify clustered-by keys as constants will still scan all buckets</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gopalv">Gopal V</reporter>
                        <labels>
                            <label>perfomance</label>
                    </labels>
                <created>Wed, 24 Jul 2013 19:01:08 +0000</created>
                <updated>Tue, 25 Apr 2017 12:04:17 +0000</updated>
                                            <version>0.12.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13718717" author="gopalv" created="Wed, 24 Jul 2013 19:02:44 +0000"  >&lt;p&gt;Simple self-contained test-case&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12679346">HIVE-5831</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12593999" name="HIVE-4926-test.tgz" size="525673" author="gopalv" created="Wed, 24 Jul 2013 19:02:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339830</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mm27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340149</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4927] When we merge two MapJoin MapRedTasks, the TableScanOperator of the second one should be removed</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4927</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.auto.convert.join=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
set hive.auto.convert.join.noconditionaltask=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
EXPLAIN
SELECT x1.key AS key FROM src x1 JOIN src1 y1 ON (x1.key = y1.key) JOIN src1 y2 ON (x1.value = y2.value) GROUP BY x1.key;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We will get a NPE from MetadataOnlyOptimizer. The reason is that the operator tree of the MapRedTask evaluating two MapJoins is &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;TS1-&amp;gt;MapJoin1-&amp;gt;TS2-&amp;gt;MapJoin2-&amp;gt;...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We should remove the TS2...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659665">HIVE-4927</key>
            <summary>When we merge two MapJoin MapRedTasks, the TableScanOperator of the second one should be removed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Jul 2013 21:08:20 +0000</created>
                <updated>Tue, 15 Oct 2013 23:30:28 +0000</updated>
                            <resolved>Fri, 26 Jul 2013 15:54:39 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13719053" author="yhuai" created="Wed, 24 Jul 2013 23:57:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D11811&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11811&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13719055" author="phabricator@reviews.facebook.net" created="Wed, 24 Jul 2013 23:57:46 +0000"  >&lt;p&gt;yhuai requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4927&quot; title=&quot;When we merge two MapJoin MapRedTasks, the TableScanOperator of the second one should be removed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4927&quot;&gt;&lt;del&gt;HIVE-4927&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; When we merge two MapJoin MapRedTasks, the TableScanOperator of the second one should be removed&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;remove the unnecessary TableScanOperator&lt;/p&gt;

&lt;p&gt;set hive.auto.convert.join=true;&lt;br/&gt;
set hive.auto.convert.join.noconditionaltask=true;&lt;br/&gt;
EXPLAIN&lt;br/&gt;
SELECT x1.key AS key FROM src x1 JOIN src1 y1 ON (x1.key = y1.key) JOIN src1 y2 ON (x1.value = y2.value) GROUP BY x1.key;&lt;/p&gt;

&lt;p&gt;We will get a NPE from MetadataOnlyOptimizer. The reason is that the operator tree of the MapRedTask evaluating two MapJoins is&lt;/p&gt;

&lt;p&gt;TS1-&amp;gt;MapJoin1-&amp;gt;TS2-&amp;gt;MapJoin2-&amp;gt;...&lt;/p&gt;

&lt;p&gt;We should remove the TS2...&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11811&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11811&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinTaskDispatcher.java&lt;br/&gt;
  ql/src/test/results/clientpositive/multiMapJoin1.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/28053/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/28053/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, yhuai&lt;/p&gt;</comment>
                            <comment id="13719539" author="hiveqa" created="Thu, 25 Jul 2013 11:53:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594067/HIVE-4927.D11811.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594067/HIVE-4927.D11811.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 12 failed/errored test(s), 2651 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multi_join_union
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_subquery
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join28
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_subquery2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_star
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join22
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join33
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join32
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/179/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/179/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/179/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/179/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 12 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13719759" author="phabricator@reviews.facebook.net" created="Thu, 25 Jul 2013 16:39:48 +0000"  >&lt;p&gt;yhuai updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4927&quot; title=&quot;When we merge two MapJoin MapRedTasks, the TableScanOperator of the second one should be removed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4927&quot;&gt;&lt;del&gt;HIVE-4927&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; When we merge two MapJoin MapRedTasks, the TableScanOperator of the second one should be removed&quot;.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;update results&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11811&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11811&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11811?vs=36141&amp;amp;id=36183#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11811?vs=36141&amp;amp;id=36183#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/files/v1.txt&lt;br/&gt;
  data/files/v2.txt&lt;br/&gt;
  hcatalog/build-support/ant/checkstyle.xml&lt;br/&gt;
  metastore/src/model/package.jdo&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinTaskDispatcher.java&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/exec/TestUtilities.java&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join22.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_sortmerge_join_12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join28.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join32.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join33.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_star.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin_mapjoin.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin_subquery.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin_subquery2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/multiMapJoin1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/multi_join_union.q.out&lt;br/&gt;
  testutils/ptest2/README.md&lt;br/&gt;
  testutils/ptest2/src/main/java/org/apache/hive/ptest/api/client/PTestClient.java&lt;br/&gt;
  testutils/ptest2/src/main/java/org/apache/hive/ptest/api/request/TestStartRequest.java&lt;br/&gt;
  testutils/ptest2/src/main/java/org/apache/hive/ptest/api/server/TestExecutor.java&lt;br/&gt;
  testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/ExecutionPhase.java&lt;br/&gt;
  testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/HostExecutor.java&lt;br/&gt;
  testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/JIRAService.java&lt;br/&gt;
  testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/JUnitReportParser.java&lt;br/&gt;
  testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/PTest.java&lt;br/&gt;
  testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/ReportingPhase.java&lt;br/&gt;
  testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/conf/QFileTestBatch.java&lt;br/&gt;
  testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/conf/TestConfiguration.java&lt;br/&gt;
  testutils/ptest2/src/main/java/org/apache/hive/ptest/execution/conf/UnitTestBatch.java&lt;br/&gt;
  testutils/ptest2/src/main/resources/batch-exec.vm&lt;br/&gt;
  testutils/ptest2/src/main/resources/source-prep.vm&lt;br/&gt;
  testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestExecutionPhase.java&lt;br/&gt;
  testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestHostExecutor.java&lt;br/&gt;
  testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestReportParser.java&lt;br/&gt;
  testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestReportingPhase.testExecute.approved.txt&lt;br/&gt;
  testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.java&lt;br/&gt;
  testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.testBatch.approved.txt&lt;br/&gt;
  testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.testPrepGit.approved.txt&lt;br/&gt;
  testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.testPrepNone.approved.txt&lt;br/&gt;
  testutils/ptest2/src/test/java/org/apache/hive/ptest/execution/TestScripts.testPrepSvn.approved.txt&lt;br/&gt;
  testutils/ptest2/src/test/resources/SomeTest-failure.xml&lt;br/&gt;
  testutils/ptest2/src/test/resources/TEST-SomeTest-failure.xml&lt;br/&gt;
  testutils/ptest2/src/test/resources/SomeTest-success.xml&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/TEST-SomeTest-truncated.xml&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/SomeTest-truncated.xml&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/TEST-index_auth.q-bucketcontex-ba31fb54-1d7f-4c70-a89d-477b7d155191-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/TEST-skewjoin.q-ab8536a7-1b5c-45ed-ba29-14450f27db8b-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/TEST-skewjoin_union_remove_1.q-6fa31776-d2b0-4e13-9761-11f750627ad1-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/TEST-union_remove_9.q-acb9de8f-1b9c-4874-924c-b2107ca7b07c-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/index_auth.q-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/index_auth.q-bucketcontex-ba31fb54-1d7f-4c70-a89d-477b7d155191-hive.log&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/index_auth.q-hive.log&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/skewjoin.q-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/skewjoin.q-ab8536a7-1b5c-45ed-ba29-14450f27db8b-TestCliDriver.txt&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/skewjoin.q-ab8536a7-1b5c-45ed-ba29-14450f27db8b-hive.log&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/skewjoin_union_remove_1.q-6fa31776-d2b0-4e13-9761-11f750627ad1-TestCliDriver.txt&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/skewjoin_union_remove_1.q-6fa31776-d2b0-4e13-9761-11f750627ad1-hive.log&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/skewjoin_union_remove_1.q-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/skewjoin_union_remove_1.q-TestCliDriver.txt&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/union_remove_9.q-TEST-org.apache.hadoop.hive.cli.TestCliDriver.xml&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/union_remove_9.q-acb9de8f-1b9c-4874-924c-b2107ca7b07c-TestCliDriver.txt&lt;br/&gt;
  testutils/ptest2/src/test/resources/test-outputs/union_remove_9.q-acb9de8f-1b9c-4874-924c-b2107ca7b07c-hive.log&lt;/p&gt;

&lt;p&gt;To: JIRA, yhuai&lt;/p&gt;</comment>
                            <comment id="13719760" author="phabricator@reviews.facebook.net" created="Thu, 25 Jul 2013 16:41:47 +0000"  >&lt;p&gt;yhuai updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4927&quot; title=&quot;When we merge two MapJoin MapRedTasks, the TableScanOperator of the second one should be removed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4927&quot;&gt;&lt;del&gt;HIVE-4927&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; When we merge two MapJoin MapRedTasks, the TableScanOperator of the second one should be removed&quot;.&lt;/p&gt;

&lt;p&gt;  generate the correct diff. The last one is not based on the latest trunk&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11811&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11811&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11811?vs=36183&amp;amp;id=36189#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11811?vs=36183&amp;amp;id=36189#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinTaskDispatcher.java&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join22.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_sortmerge_join_12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join28.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join32.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join33.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_star.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin_mapjoin.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin_subquery.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin_subquery2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/multiMapJoin1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/multi_join_union.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, yhuai&lt;/p&gt;</comment>
                            <comment id="13719761" author="yhuai" created="Thu, 25 Jul 2013 16:41:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4927&quot; title=&quot;When we merge two MapJoin MapRedTasks, the TableScanOperator of the second one should be removed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4927&quot;&gt;&lt;del&gt;HIVE-4927&lt;/del&gt;&lt;/a&gt;.D11811.2.patch is not based on the latest trunk. Please ignore it...&lt;/p&gt;</comment>
                            <comment id="13719764" author="yhuai" created="Thu, 25 Jul 2013 16:45:07 +0000"  >&lt;p&gt;Update test results. The hidden TableScanOperator will introduce the indent in the result of EXPLAIN... Since those TS does not have a conf, there is no other info related to the hidden TS.. &lt;/p&gt;</comment>
                            <comment id="13720295" author="hiveqa" created="Fri, 26 Jul 2013 00:31:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594200/HIVE-4927.D11811.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594200/HIVE-4927.D11811.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 2651 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hcatalog.pig.TestHCatLoader.testProjectionsBasic
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/187/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/187/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/187/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/187/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13720304" author="yhuai" created="Fri, 26 Jul 2013 00:47:44 +0000"  >&lt;p&gt;These two failed tests pass in my laptop.&lt;/p&gt;</comment>
                            <comment id="13720307" author="yhuai" created="Fri, 26 Jul 2013 00:52:10 +0000"  >&lt;p&gt;Let&apos;s trigger the precommit tests again since the queue is short.&lt;/p&gt;</comment>
                            <comment id="13720484" author="phabricator@reviews.facebook.net" created="Fri, 26 Jul 2013 07:15:46 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4927&quot; title=&quot;When we merge two MapJoin MapRedTasks, the TableScanOperator of the second one should be removed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4927&quot;&gt;&lt;del&gt;HIVE-4927&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; When we merge two MapJoin MapRedTasks, the TableScanOperator of the second one should be removed&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11811&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11811&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4927&quot; title=&quot;When we merge two MapJoin MapRedTasks, the TableScanOperator of the second one should be removed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4927&quot;&gt;&lt;del&gt;HIVE-4927&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, yhuai&lt;/p&gt;</comment>
                            <comment id="13720573" author="hiveqa" created="Fri, 26 Jul 2013 09:32:12 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594308/HIVE-4927.D11811.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594308/HIVE-4927.D11811.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2652 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/189/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/189/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/189/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/189/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13720907" author="ashutoshc" created="Fri, 26 Jul 2013 15:54:40 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Yin!&lt;/p&gt;</comment>
                            <comment id="13796024" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:28 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12656770">HIVE-4827</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12594067" name="HIVE-4927.D11811.1.patch" size="17178" author="phabricator@reviews.facebook.net" created="Wed, 24 Jul 2013 23:57:46 +0000"/>
                            <attachment id="12594199" name="HIVE-4927.D11811.2.patch" size="189964" author="phabricator@reviews.facebook.net" created="Thu, 25 Jul 2013 16:39:48 +0000"/>
                            <attachment id="12594308" name="HIVE-4927.D11811.3.patch" size="75642" author="yhuai" created="Fri, 26 Jul 2013 01:22:37 +0000"/>
                            <attachment id="12594200" name="HIVE-4927.D11811.3.patch" size="75642" author="phabricator@reviews.facebook.net" created="Thu, 25 Jul 2013 16:41:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Jul 2013 23:57:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339857</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mm7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340175</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4928] Date literals do not work properly in partition spec clause</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4928</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The partition spec parsing doesn&apos;t do any actual real evaluation of the values in the partition spec, instead just taking the text value of the ASTNode representing the partition value. This works fine for string/numeric literals (expression tree below):&lt;/p&gt;

&lt;p&gt;(TOK_PARTVAL region 99)&lt;/p&gt;

&lt;p&gt;But not for Date literals which are of form DATE &apos;yyyy-mm-dd&apos; (expression tree below:&lt;/p&gt;

&lt;p&gt;(TOK_DATELITERAL &apos;1999-12-31&apos;)&lt;/p&gt;

&lt;p&gt;In this case the parser/analyzer uses &quot;TOK_DATELITERAL&quot; as the partition column value, when it should really get value of the child of the DATELITERAL token.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12659688">HIVE-4928</key>
            <summary>Date literals do not work properly in partition spec clause</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdere">Jason Dere</assignee>
                                    <reporter username="jdere">Jason Dere</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Jul 2013 23:52:35 +0000</created>
                <updated>Tue, 15 Oct 2013 23:31:22 +0000</updated>
                            <resolved>Tue, 30 Jul 2013 17:23:23 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13719046" author="jdere" created="Wed, 24 Jul 2013 23:53:46 +0000"  >&lt;p&gt;Related to work on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4055&quot; title=&quot;add Date data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4055&quot;&gt;&lt;del&gt;HIVE-4055&lt;/del&gt;&lt;/a&gt;.  I&apos;ll do this fix as an additional item after getting 4055 in.&lt;/p&gt;</comment>
                            <comment id="13721136" author="jdere" created="Fri, 26 Jul 2013 19:52:20 +0000"  >&lt;p&gt;Patch changes the parsing of the date literal so the DATELITERAL contains the date string value. This makes it more consistent with the ASTNodes generated for the other type literals.&lt;/p&gt;</comment>
                            <comment id="13721351" author="hiveqa" created="Fri, 26 Jul 2013 23:08:46 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594443/HIVE-4928.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594443/HIVE-4928.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/200/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/200/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/200/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/200/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests failed with: NonZeroExitCodeException: Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-200/source-prep.txt
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1507508.

At revision 1507508.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0 to p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13721355" author="jdere" created="Fri, 26 Jul 2013 23:14:50 +0000"  >&lt;p&gt;This Jira is dependent on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4055&quot; title=&quot;add Date data type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4055&quot;&gt;&lt;del&gt;HIVE-4055&lt;/del&gt;&lt;/a&gt; which hasn&apos;t been committed yet, so the tests shouldn&apos;t be run yet for this. Will mark jira to not run tests yet.&lt;/p&gt;</comment>
                            <comment id="13722075" author="phabricator@reviews.facebook.net" created="Sun, 28 Jul 2013 22:29:47 +0000"  >&lt;p&gt;jdere requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4928&quot; title=&quot;Date literals do not work properly in partition spec clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4928&quot;&gt;&lt;del&gt;HIVE-4928&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Date literals do not work properly in partition spec clause&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4928&quot; title=&quot;Date literals do not work properly in partition spec clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4928&quot;&gt;&lt;del&gt;HIVE-4928&lt;/del&gt;&lt;/a&gt; fix date literal parsing to work in partition_spec clause&lt;/p&gt;

&lt;p&gt;The partition spec parsing doesn&apos;t do any actual real evaluation of the values in the partition spec, instead just taking the text value of the ASTNode representing the partition value. This works fine for string/numeric literals (expression tree below):&lt;/p&gt;

&lt;p&gt;(TOK_PARTVAL region 99)&lt;/p&gt;

&lt;p&gt;But not for Date literals which are of form DATE &apos;yyyy-mm-dd&apos; (expression tree below:&lt;/p&gt;

&lt;p&gt;(TOK_DATELITERAL &apos;1999-12-31&apos;)&lt;/p&gt;

&lt;p&gt;In this case the parser/analyzer uses &quot;TOK_DATELITERAL&quot; as the partition column value, when it should really get value of the child of the DATELITERAL token.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/partition_date2.q&lt;br/&gt;
  ql/src/test/results/clientpositive/partition_date2.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/28221/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/28221/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, jdere&lt;/p&gt;</comment>
                            <comment id="13722076" author="jdere" created="Sun, 28 Jul 2013 22:33:12 +0000"  >&lt;p&gt;Review at &lt;a href=&quot;https://reviews.facebook.net/D11871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;These changes make use of a Java action in ANTLR grammar to create a DATELITERAL token containing the text of the date literal string.  There didn&apos;t seem to be any other way to do that. &lt;/p&gt;

&lt;p&gt;Ran unit tests yesterday night on Mac, 4 failed, but these all passed when I ran them on a Linux VM. &lt;/p&gt;</comment>
                            <comment id="13722084" author="hiveqa" created="Mon, 29 Jul 2013 00:14:09 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594613/HIVE-4928.D11871.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594613/HIVE-4928.D11871.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2736 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/218/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/218/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/218/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/218/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13722718" author="phabricator@reviews.facebook.net" created="Mon, 29 Jul 2013 17:47:48 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4928&quot; title=&quot;Date literals do not work properly in partition spec clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4928&quot;&gt;&lt;del&gt;HIVE-4928&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Date literals do not work properly in partition spec clause&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11871&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4928&quot; title=&quot;Date literals do not work properly in partition spec clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4928&quot;&gt;&lt;del&gt;HIVE-4928&lt;/del&gt;&lt;/a&gt;.2&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, jdere&lt;/p&gt;</comment>
                            <comment id="13724108" author="ashutoshc" created="Tue, 30 Jul 2013 17:23:23 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Jason!&lt;/p&gt;</comment>
                            <comment id="13724322" author="hudson" created="Tue, 30 Jul 2013 19:52:37 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #37 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/37/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/37/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4928&quot; title=&quot;Date literals do not work properly in partition spec clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4928&quot;&gt;&lt;del&gt;HIVE-4928&lt;/del&gt;&lt;/a&gt; : Date literals do not work properly in partition spec clause (Jason Dere via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508534&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508534&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/partition_date2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partition_date2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13724417" author="hudson" created="Tue, 30 Jul 2013 20:59:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-hadoop1-ptest #109 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/109/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4928&quot; title=&quot;Date literals do not work properly in partition spec clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4928&quot;&gt;&lt;del&gt;HIVE-4928&lt;/del&gt;&lt;/a&gt; : Date literals do not work properly in partition spec clause (Jason Dere via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508534&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508534&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/partition_date2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partition_date2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13725329" author="hudson" created="Wed, 31 Jul 2013 15:17:33 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2234 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2234/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2234/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4928&quot; title=&quot;Date literals do not work properly in partition spec clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4928&quot;&gt;&lt;del&gt;HIVE-4928&lt;/del&gt;&lt;/a&gt; : Date literals do not work properly in partition spec clause (Jason Dere via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508534&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508534&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/partition_date2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partition_date2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13726134" author="hudson" created="Thu, 1 Aug 2013 06:48:53 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop2 #319 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/319/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/319/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4928&quot; title=&quot;Date literals do not work properly in partition spec clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4928&quot;&gt;&lt;del&gt;HIVE-4928&lt;/del&gt;&lt;/a&gt; : Date literals do not work properly in partition spec clause (Jason Dere via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508534&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508534&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/IdentifiersParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/partition_date2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partition_date2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13796151" author="ashutoshc" created="Tue, 15 Oct 2013 23:31:22 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12633560">HIVE-4055</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12633560">HIVE-4055</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12594443" name="HIVE-4928.1.patch.txt" size="49310" author="jdere" created="Fri, 26 Jul 2013 19:52:20 +0000"/>
                            <attachment id="12594613" name="HIVE-4928.D11871.1.patch" size="49001" author="phabricator@reviews.facebook.net" created="Sun, 28 Jul 2013 22:29:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Jul 2013 23:08:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mmd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340198</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4929] the type of all numeric constants is changed to double in the plan</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4929</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There&apos;s code which, after the numeric type for a constant in where clause has been chosen as the most restricted one or based on suffix, tries to change the type to match the numeric column  which the constant is being compared with. However, due to a hack from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3059&quot; title=&quot;revert HIVE-2703&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3059&quot;&gt;&lt;del&gt;HIVE-3059&lt;/del&gt;&lt;/a&gt; every column type shows up as string in that code, causing it to always change the constant type to double. This should not be done (regardless of the hack).&lt;br/&gt;
Spinoff from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt;, large number of query outputs change so it will be a big patch&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659690">HIVE-4929</key>
            <summary>the type of all numeric constants is changed to double in the plan</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jul 2013 00:15:20 +0000</created>
                <updated>Tue, 15 Oct 2013 23:28:45 +0000</updated>
                            <resolved>Sat, 27 Jul 2013 21:52:35 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13720998" author="sershe" created="Fri, 26 Jul 2013 17:55:55 +0000"  >&lt;p&gt;Review uploaded to RB (Phabricator errors out, seemingly due to size)&lt;/p&gt;</comment>
                            <comment id="13721006" author="ashutoshc" created="Fri, 26 Jul 2013 17:59:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; Can you post the RB link here ?&lt;/p&gt;</comment>
                            <comment id="13721029" author="sershe" created="Fri, 26 Jul 2013 18:24:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/12974/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/12974/&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="13721052" author="ashutoshc" created="Fri, 26 Jul 2013 18:46:29 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13721342" author="hiveqa" created="Fri, 26 Jul 2013 23:00:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594427/HIVE-4929.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594427/HIVE-4929.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2653 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/198/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/198/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/198/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/198/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13721776" author="ashutoshc" created="Sat, 27 Jul 2013 21:52:35 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Sergey!&lt;/p&gt;</comment>
                            <comment id="13795803" author="ashutoshc" created="Tue, 15 Oct 2013 23:28:45 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12537866">HIVE-2702</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12594427" name="HIVE-4929.patch" size="336000" author="sershe" created="Fri, 26 Jul 2013 17:56:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Jul 2013 17:59:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339882</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mmdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340200</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4930] Classes of metastore should not be included MR-task</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4930</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;metastore.api.SkewedValueList is included in FileSinkOperator, which should not be.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659713">HIVE-4930</key>
            <summary>Classes of metastore should not be included MR-task</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jul 2013 06:05:22 +0000</created>
                <updated>Tue, 15 Oct 2013 23:28:53 +0000</updated>
                            <resolved>Wed, 7 Aug 2013 23:54:10 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13719286" author="phabricator@reviews.facebook.net" created="Thu, 25 Jul 2013 06:19:46 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4930&quot; title=&quot;Classes of metastore should not be included MR-task&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4930&quot;&gt;&lt;del&gt;HIVE-4930&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Classes of metastore should not be included MR-task&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4930&quot; title=&quot;Classes of metastore should not be included MR-task&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4930&quot;&gt;&lt;del&gt;HIVE-4930&lt;/del&gt;&lt;/a&gt; Classes of metastore should not be included MR-task&lt;/p&gt;

&lt;p&gt;metastore.api.SkewedValueList is included in FileSinkOperator, which should not be.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11817&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11817&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ListBucketingCtx.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/28071/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/28071/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13720013" author="hiveqa" created="Thu, 25 Jul 2013 20:33:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594111/HIVE-4930.D11817.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594111/HIVE-4930.D11817.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2651 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/184/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/184/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/184/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/184/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13720201" author="ashutoshc" created="Thu, 25 Jul 2013 23:06:26 +0000"  >&lt;p&gt;Patch looks benign, though I am wondering whats the motivation? Is it that we dont want to refer to metastore classes from backend ?&lt;/p&gt;</comment>
                            <comment id="13720277" author="navis" created="Fri, 26 Jul 2013 00:10:02 +0000"  >&lt;p&gt;I remember classes in metastore does not included in job.jar for MR tasks. Isn&apos;t it?&lt;/p&gt;</comment>
                            <comment id="13720287" author="ashutoshc" created="Fri, 26 Jul 2013 00:27:48 +0000"  >&lt;p&gt;yes.. thats correct, thats why I am confused. Whats the motivation for the jira?&lt;/p&gt;</comment>
                            <comment id="13720296" author="navis" created="Fri, 26 Jul 2013 00:33:06 +0000"  >&lt;p&gt;FileSinkOperator refs SkewedValueList which is in metastore. I wonder why ClassNotFoundException is not thrown in MR task. Or, am I misunderstanding something?&lt;/p&gt;</comment>
                            <comment id="13720313" author="ashutoshc" created="Fri, 26 Jul 2013 00:56:08 +0000"  >&lt;p&gt;Correct and thats confusing to me as well. I didnt understand the issue of this jira. Than I guessed it is that because FSOp refers to metastore class it must be resulting in CNF exception from backend which is what you are trying to fix, but clearly we have not seeing that happening. So, I am double confused now : ) 1) Why Classcast exception not happening? 2) If thats true (though not understood) what you are trying to fix here anyways?&lt;/p&gt;</comment>
                            <comment id="13720332" author="navis" created="Fri, 26 Jul 2013 01:14:21 +0000"  >&lt;p&gt;Confirmed it&apos;s happening in real hadoop.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.RuntimeException: java.lang.NoClassDefFoundError: org/apache/hadoop/hive/metastore/api/SkewedValueList
	at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.map(ExecMapper.java:175)
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:430)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:366)
	at org.apache.hadoop.mapred.Child$4.run(Child.java:255)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:396)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1190)
	at org.apache.hadoop.mapred.Child.main(Child.java:249)
Caused by: java.lang.NoClassDefFoundError: org/apache/hadoop/hive/metastore/api/SkewedValueList
	at org.apache.hadoop.hive.ql.exec.FileSinkOperator.generateListBucketingDirName(FileSinkOperator.java:737)
	at org.apache.hadoop.hive.ql.exec.FileSinkOperator.processOp(FileSinkOperator.java:564)
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:501)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:848)
	at org.apache.hadoop.hive.ql.exec.SelectOperator.processOp(SelectOperator.java:88)
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:501)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:848)
	at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:90)
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:501)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:848)
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:657)
	at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.map(ExecMapper.java:157)
	... 8 more
Caused by: java.lang.ClassNotFoundException: org.apache.hadoop.hive.metastore.api.SkewedValueList
	at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
	... 20 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I thinks metastore.jar is on classpath for tests(TestCliDriver or TestMinimrCliDriver, either)&lt;/p&gt;</comment>
                            <comment id="13720383" author="phabricator@reviews.facebook.net" created="Fri, 26 Jul 2013 04:07:48 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4930&quot; title=&quot;Classes of metastore should not be included MR-task&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4930&quot;&gt;&lt;del&gt;HIVE-4930&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Classes of metastore should not be included MR-task&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java:996 It will be good to add a comment here saying that we do this so that we need not to ship metastore jars to backend.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11817&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11817&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4930&quot; title=&quot;Classes of metastore should not be included MR-task&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4930&quot;&gt;&lt;del&gt;HIVE-4930&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;/p&gt;</comment>
                            <comment id="13732958" author="ashutoshc" created="Wed, 7 Aug 2013 23:54:10 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="13733062" author="hudson" created="Thu, 8 Aug 2013 02:08:16 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2 #340 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/340/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/340/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4930&quot; title=&quot;Classes of metastore should not be included MR-task&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4930&quot;&gt;&lt;del&gt;HIVE-4930&lt;/del&gt;&lt;/a&gt; : Classes of metastore should not be included MR-task (Navis via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511541&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511541&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ListBucketingCtx.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13733527" author="hudson" created="Thu, 8 Aug 2013 14:04:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-h0.21 #2251 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2251/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2251/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4930&quot; title=&quot;Classes of metastore should not be included MR-task&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4930&quot;&gt;&lt;del&gt;HIVE-4930&lt;/del&gt;&lt;/a&gt; : Classes of metastore should not be included MR-task (Navis via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511541&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511541&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ListBucketingCtx.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13736090" author="hudson" created="Sat, 10 Aug 2013 22:20:13 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #51 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/51/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/51/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4930&quot; title=&quot;Classes of metastore should not be included MR-task&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4930&quot;&gt;&lt;del&gt;HIVE-4930&lt;/del&gt;&lt;/a&gt; : Classes of metastore should not be included MR-task (Navis via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511541&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511541&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ListBucketingCtx.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13736139" author="hudson" created="Sun, 11 Aug 2013 00:00:31 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-hadoop1-ptest #122 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/122/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/122/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4930&quot; title=&quot;Classes of metastore should not be included MR-task&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4930&quot;&gt;&lt;del&gt;HIVE-4930&lt;/del&gt;&lt;/a&gt; : Classes of metastore should not be included MR-task (Navis via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511541&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1511541&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ListBucketingCtx.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795822" author="ashutoshc" created="Tue, 15 Oct 2013 23:28:53 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12641743">HIVE-4322</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12594111" name="HIVE-4930.D11817.1.patch" size="4771" author="phabricator@reviews.facebook.net" created="Thu, 25 Jul 2013 06:19:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Jul 2013 06:19:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339905</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mmin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340223</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4931] MAX/MIN aggregates yield incorrect results</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4931</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;With the dataset attached by Tony, running:&lt;/p&gt;

&lt;p&gt;select max(ctinyint), max(csmallint), max(cint), max(cbigint), max(cfloat), max(cdouble) from alltypes_orc;&lt;/p&gt;

&lt;p&gt;this is the result in rowmode:&lt;br/&gt;
OK&lt;br/&gt;
62      16379   1073737829      2146661184      62.0    16376.0&lt;/p&gt;

&lt;p&gt;This is the result in vector mode:&lt;br/&gt;
OK&lt;br/&gt;
1       16379   1071926788      -106115134      62.0    16361.0&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659719">HIVE-4931</key>
            <summary>MAX/MIN aggregates yield incorrect results</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rusanu">Remus Rusanu</assignee>
                                    <reporter username="rusanu">Remus Rusanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jul 2013 06:37:29 +0000</created>
                <updated>Wed, 23 Oct 2013 21:59:16 +0000</updated>
                            <resolved>Wed, 31 Jul 2013 01:55:04 +0000</resolved>
                                    <version>vectorization-branch</version>
                                    <fixVersion>vectorization-branch</fixVersion>
                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13719345" author="rusanu" created="Thu, 25 Jul 2013 07:46:29 +0000"  >&lt;p&gt;The agg templates were incorrectly checking for isNull&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; in addition of hasNulls for repeating values. I also discovered that the MIN/MAX aggregate was using hard-coded comparison instead of templatized &amp;lt;Operand&amp;gt; for this case. &lt;/p&gt;

&lt;p&gt;These are the results with the patch applied:&lt;/p&gt;

&lt;p&gt;select max(ctinyint), max(csmallint), max(cint), max(cbigint), max(cfloat), max(cdouble) from alltypes_orc;&lt;br/&gt;
rowmode&lt;br/&gt;
62      16379   1073737829      2146661184      62.0    16376.0&lt;br/&gt;
vect:&lt;br/&gt;
62      16379   1073737829      2146661184      62.0    16376.0&lt;/p&gt;

&lt;p&gt;select min(ctinyint), min(csmallint), min(cint), min(cbigint), min(cfloat), min(cdouble) from alltypes_orc;&lt;br/&gt;
rowmode:&lt;br/&gt;
-64     -16381  -1073517051     -2147049514     -64.0   -16376.0&lt;br/&gt;
vect:&lt;br/&gt;
-64     -16381  -1073517051     -2147049514     -64.0   -16376.0&lt;/p&gt;

&lt;p&gt;select avg(ctinyint), avg(csmallint), avg(cint), avg(cbigint), avg(cfloat), avg(cdouble) from alltypes_orc;&lt;br/&gt;
rowmode:&lt;br/&gt;
2.522511719175842       -415.2897318508829      -1.0994357654011336E8   1.9003309384238064E7    -2.2073250490516676     -2877.6021364726403&lt;br/&gt;
vect:&lt;br/&gt;
2.522511719175842       -415.2897318508829      -1.0994357654011336E8   1.9003309384238064E7    -2.2073250490516676     -2877.6021364726403&lt;/p&gt;

&lt;p&gt;select stddev(ctinyint), stddev(csmallint), stddev(cint), stddev(cbigint), stddev(cfloat), stddev(cdouble) from alltypes_orc;&lt;br/&gt;
rowmode:&lt;br/&gt;
34.52579284952266       8956.673250179136       6.765972128417507E8     1.0284485805202962E9    38.5241575060334        10107.644590369582&lt;br/&gt;
vect:&lt;br/&gt;
34.52579284952266       8956.673250179136       6.765972128417507E8     1.0284485805202962E9    38.5241575060334        10107.644590369582&lt;/p&gt;</comment>
                            <comment id="13719350" author="rusanu" created="Thu, 25 Jul 2013 07:49:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/12939/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/12939/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13720022" author="hiveqa" created="Thu, 25 Jul 2013 20:40:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594134/HIVE-4931.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594134/HIVE-4931.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/185/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/185/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/185/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/185/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests failed with: NonZeroExitCodeException: Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-185/source-prep.txt
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/plan/ListBucketingCtx.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf build hcatalog/build hcatalog/core/build hcatalog/storage-handlers/hbase/build hcatalog/server-extensions/build hcatalog/webhcat/svr/build hcatalog/webhcat/java-client/build hcatalog/hcatalog-pig-adapter/build common/src/gen
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1507115.

At revision 1507115.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0 to p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13721375" author="ashutoshc" created="Fri, 26 Jul 2013 23:28:45 +0000"  >&lt;p&gt;Committed to branch. Thanks, Remus!&lt;/p&gt;</comment>
                            <comment id="13721686" author="appodictic" created="Sat, 27 Jul 2013 17:06:12 +0000"  >&lt;p&gt;Why no tests? What is to prevent a regression?&lt;/p&gt;</comment>
                            <comment id="13721688" author="appodictic" created="Sat, 27 Jul 2013 17:11:03 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-@Override
+    @Override
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And ^ means the last commit on this file went in without check-style.&lt;/p&gt;</comment>
                            <comment id="13722650" author="anthony.murphy" created="Mon, 29 Jul 2013 17:15:04 +0000"  >&lt;p&gt;Hey Edward. I&apos;m working with Remus and others to stabilize vectorization, and this bug was found as a result of that stabilization. I&apos;ve just uploaded a new patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4794&quot; title=&quot;Unit e2e tests for vectorization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4794&quot;&gt;&lt;del&gt;HIVE-4794&lt;/del&gt;&lt;/a&gt; which contains the tests we&apos;ve been using to stabilize, and which give us regression coverage for this issue.&lt;/p&gt;</comment>
                            <comment id="13724750" author="appodictic" created="Wed, 31 Jul 2013 01:55:04 +0000"  >&lt;p&gt;Test patch in a follow up. Marking as closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12594134" name="HIVE-4931.1.patch" size="18412" author="rusanu" created="Thu, 25 Jul 2013 07:46:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Jul 2013 20:40:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339911</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mmjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340229</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4932] PTFOperator fails resetting PTFPersistence</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4932</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;From mailing list &lt;a href=&quot;http://www.mail-archive.com/user@hive.apache.org/msg08811.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mail-archive.com/user@hive.apache.org/msg08811.html&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;PTFOperator fails with stack trace like this.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Reset on PersistentByteBasedList not supported
	at org.apache.hadoop.hive.ql.exec.PTFPersistence$PersistentByteBasedList.reset(PTFPersistence.java:895)
	at org.apache.hadoop.hive.ql.exec.PTFPersistence$PartitionedByteBasedList.reset(PTFPersistence.java:456)
	at org.apache.hadoop.hive.ql.exec.PTFPartition.reset(PTFPartition.java:67)
	at org.apache.hadoop.hive.ql.exec.PTFOperator.processOp(PTFOperator.java:132)
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:504)
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:848)
	at org.apache.hadoop.hive.ql.exec.ExtractOperator.processOp(ExtractOperator.java:45)
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:504)
	at org.apache.hadoop.hive.ql.exec.mr.ExecReducer.reduce(ExecReducer.java:249)
	... 7 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12659736">HIVE-4932</key>
            <summary>PTFOperator fails resetting PTFPersistence</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jul 2013 07:55:21 +0000</created>
                <updated>Tue, 15 Oct 2013 23:31:46 +0000</updated>
                            <resolved>Fri, 26 Jul 2013 03:51:52 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>PTF-Windowing</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13719361" author="phabricator@reviews.facebook.net" created="Thu, 25 Jul 2013 08:01:47 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4932&quot; title=&quot;PTFOperator fails resetting PTFPersistence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4932&quot;&gt;&lt;del&gt;HIVE-4932&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; PTFOperator fails resetting PTFPersistence&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4932&quot; title=&quot;PTFOperator fails resetting PTFPersistence&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4932&quot;&gt;&lt;del&gt;HIVE-4932&lt;/del&gt;&lt;/a&gt; PTFOperator fails resetting PTFPersistence&lt;/p&gt;

&lt;p&gt;From mailing list &lt;a href=&quot;http://www.mail-archive.com/user@hive.apache.org/msg08811.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mail-archive.com/user@hive.apache.org/msg08811.html&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;PTFOperator fails with stack trace like this.&lt;/p&gt;

&lt;p&gt;Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Reset on PersistentByteBasedList not supported&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.PTFPersistence$PersistentByteBasedList.reset(PTFPersistence.java:895)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.PTFPersistence$PartitionedByteBasedList.reset(PTFPersistence.java:456)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.PTFPartition.reset(PTFPartition.java:67)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.PTFOperator.processOp(PTFOperator.java:132)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:504)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:848)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExtractOperator.processOp(ExtractOperator.java:45)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:504)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.mr.ExecReducer.reduce(ExecReducer.java:249)&lt;br/&gt;
	... 7 more&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11823&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11823&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/PTFPersistence.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/ptf_reuse_memstore.q&lt;br/&gt;
  ql/src/test/results/clientpositive/ptf_reuse_memstore.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/28077/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/28077/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13719502" author="appodictic" created="Thu, 25 Jul 2013 11:09:00 +0000"  >&lt;p&gt;I will look later tonight.&lt;/p&gt;</comment>
                            <comment id="13719802" author="lars_francke" created="Thu, 25 Jul 2013 17:29:14 +0000"  >&lt;p&gt;I tested the patch and it resolved the problem for my use case (which used to reliably fail before).&lt;/p&gt;</comment>
                            <comment id="13720144" author="hiveqa" created="Thu, 25 Jul 2013 22:23:41 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594135/HIVE-4932.D11823.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594135/HIVE-4932.D11823.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2652 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/186/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/186/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/186/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/186/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13720369" author="appodictic" created="Fri, 26 Jul 2013 03:17:15 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13720376" author="appodictic" created="Fri, 26 Jul 2013 03:51:52 +0000"  >&lt;p&gt;Thanks Navis. Your a force.&lt;/p&gt;</comment>
                            <comment id="13796198" author="ashutoshc" created="Tue, 15 Oct 2013 23:31:46 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12594135" name="HIVE-4932.D11823.1.patch" size="9818" author="phabricator@reviews.facebook.net" created="Thu, 25 Jul 2013 08:01:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Jul 2013 08:01:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>339928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mmnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340246</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4933] Document how aliases work with the OVER clause</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4933</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE test (foo INT);
hive&amp;gt; SELECT SUM(foo) AS bar OVER (PARTITION BY foo) FROM test;
MismatchedTokenException(175!=110)
	at org.antlr.runtime.BaseRecognizer.recoverFromMismatchedToken(BaseRecognizer.java:617)
	at org.antlr.runtime.BaseRecognizer.match(BaseRecognizer.java:115)
	at org.apache.hadoop.hive.ql.parse.HiveParser_FromClauseParser.fromClause(HiveParser_FromClauseParser.java:1424)
	at org.apache.hadoop.hive.ql.parse.HiveParser.fromClause(HiveParser.java:35998)
	at org.apache.hadoop.hive.ql.parse.HiveParser.selectStatement(HiveParser.java:33974)
	at org.apache.hadoop.hive.ql.parse.HiveParser.regular_body(HiveParser.java:33882)
	at org.apache.hadoop.hive.ql.parse.HiveParser.queryStatement(HiveParser.java:33389)
	at org.apache.hadoop.hive.ql.parse.HiveParser.queryStatementExpression(HiveParser.java:33169)
	at org.apache.hadoop.hive.ql.parse.HiveParser.execStatement(HiveParser.java:1284)
	at org.apache.hadoop.hive.ql.parse.HiveParser.statement(HiveParser.java:983)
	at org.apache.hadoop.hive.ql.parse.ParseDriver.parse(ParseDriver.java:190)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:434)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:352)
	at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:995)
	at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1038)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:931)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:921)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:268)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:220)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:422)
	at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:790)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:684)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:623)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:212)
FAILED: ParseException line 1:20 mismatched input &lt;span class=&quot;code-quote&quot;&gt;&apos;OVER&apos;&lt;/span&gt; expecting FROM near &lt;span class=&quot;code-quote&quot;&gt;&apos;bar&apos;&lt;/span&gt; in from clause&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The same happens without the &lt;tt&gt;AS&lt;/tt&gt; but it works when leaving out the alias entirely.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659840">HIVE-4933</key>
            <summary>Document how aliases work with the OVER clause</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lars_francke">Lars Francke</assignee>
                                    <reporter username="lars_francke">Lars Francke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jul 2013 16:50:42 +0000</created>
                <updated>Tue, 5 Aug 2014 16:31:46 +0000</updated>
                            <resolved>Tue, 5 Aug 2014 16:31:46 +0000</resolved>
                                    <version>0.11.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14079077" author="lars_francke" created="Wed, 30 Jul 2014 08:43:55 +0000"  >&lt;p&gt;The proper usage turns out to be&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;SUM&lt;/span&gt;(foo) &lt;span class=&quot;code-keyword&quot;&gt;OVER&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;PARTITION&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BY&lt;/span&gt; foo) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; bar &lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt; test;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have added documentation to the Wiki for this.&lt;/p&gt;</comment>
                            <comment id="14080570" author="lefty@hortonworks.com" created="Thu, 31 Jul 2014 06:37:42 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lars_francke&quot; class=&quot;user-hover&quot; rel=&quot;lars_francke&quot;&gt;Lars Francke&lt;/a&gt;, this is helpful.  (I added a missing &quot;AS&quot; for the b_sum alias.)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+WindowingAndAnalytics#LanguageManualWindowingAndAnalytics-PARTITIONBYwithpartitioning,ORDERBY,andwindowspecification&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;PARTITION BY with partitioning, ORDER BY, and window specification &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14080621" author="lars_francke" created="Thu, 31 Jul 2014 07:57:04 +0000"  >&lt;p&gt;Hey &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt;, I had both alias forms in there on purpose to show that either works &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I&apos;ll remove one again if that&apos;s all right with you.&lt;/p&gt;</comment>
                            <comment id="14081308" author="lefty@hortonworks.com" created="Thu, 31 Jul 2014 19:29:10 +0000"  >&lt;p&gt;Oh, I missed that completely.  Yes, please do remove it and add a brief explanation in the text.&lt;/p&gt;

&lt;p&gt;(Good to know you&apos;ve got my back.)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 31 Jul 2014 06:37:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340032</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 25 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mnav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4934] Improve documentation of OVER clause</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4934</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE test (foo INT);
SELECT ntile(10), foo OVER (PARTITION BY foo) FROM test;
FAILED: SemanticException org.apache.hadoop.hive.ql.metadata.HiveException: Only COMPLETE mode supported &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; NTile function

SELECT foo, ntile(10) OVER (PARTITION BY foo) FROM test;
...works...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;m not sure if that is a bug or necessary. Either way the error message is not helpful as it&apos;s not documented anywhere what &lt;tt&gt;COMPLETE&lt;/tt&gt; mode is. A cursory glance at the code didn&apos;t help me either.&lt;/p&gt;

&lt;p&gt;Edit: It is not a bug, it wasn&apos;t clear to me that the OVER clause only applies to the directly preceding function.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659841">HIVE-4934</key>
            <summary>Improve documentation of OVER clause</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lars_francke">Lars Francke</assignee>
                                    <reporter username="lars_francke">Lars Francke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jul 2013 16:54:47 +0000</created>
                <updated>Mon, 4 Aug 2014 09:21:56 +0000</updated>
                            <resolved>Wed, 30 Jul 2014 08:26:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13719786" author="xuefuz" created="Thu, 25 Jul 2013 17:13:20 +0000"  >&lt;p&gt;Here is the definition in the code for COMPLETE&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    /**
     * COMPLETE: from original data directly to full aggregation: iterate() and
     * terminate() will be called.
     */
    COMPLETE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13720312" author="navis" created="Fri, 26 Jul 2013 00:55:56 +0000"  >&lt;p&gt;I think you should do like this,&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT ntile(10) OVER (PARTITION BY foo), foo FROM test;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13722548" author="lars_francke" created="Mon, 29 Jul 2013 15:37:53 +0000"  >&lt;p&gt;I see. A misunderstanding on my side then I guess. So at most it&apos;s a documentation issue.&lt;/p&gt;</comment>
                            <comment id="14079061" author="lars_francke" created="Wed, 30 Jul 2014 08:26:51 +0000"  >&lt;p&gt;This was a misunderstanding on my part. I&apos;ll add a sentence to the documentation to clear this up for other.&lt;/p&gt;</comment>
                            <comment id="14080569" author="lefty@hortonworks.com" created="Thu, 31 Jul 2014 06:37:24 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lars_francke&quot; class=&quot;user-hover&quot; rel=&quot;lars_francke&quot;&gt;Lars Francke&lt;/a&gt;.  Was there a reason for the line break that put &quot;SELECT&quot; and &quot;a,&quot; on separate lines?  (I removed it to match all the other examples, but you can restore it if it has a purpose.)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SELECT
 a,
 COUNT(b) OVER (PARTITION BY c),
 SUM(b) OVER (PARTITION BY c)
FROM T;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also thanks for changing the formatting of code samples.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+WindowingAndAnalytics#LanguageManualWindowingAndAnalytics-PARTITIONBYwithpartitioning,ORDERBY,andwindowspecification&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;PARTITION BY with partitioning, ORDER BY, and window specification &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14080623" author="lars_francke" created="Thu, 31 Jul 2014 07:58:12 +0000"  >&lt;p&gt;Yeah, I thought it was easier to see that each OVER has only one associated function call but I&apos;m not overly attached to the line breaks so if you feel it looks better on one line feel free to change it.&lt;/p&gt;</comment>
                            <comment id="14081337" author="lefty@hortonworks.com" created="Thu, 31 Jul 2014 19:37:41 +0000"  >&lt;p&gt;Hm, that&apos;s a good point.  The line break after SELECT adds helpful emphasis so feel free to restore it, or I will.&lt;/p&gt;

&lt;p&gt;A bit of text explaining the obvious would also be good, such as &quot;In this example, the first OVER clause applies to COUNT(b) and the second OVER clause applies to SUM(b).&quot;  Maybe with &quot;only&quot; thrown in.&lt;/p&gt;</comment>
                            <comment id="14084462" author="lars_francke" created="Mon, 4 Aug 2014 09:21:56 +0000"  >&lt;p&gt;I just wanted to add the clarification and saw that you&apos;ve been - once more - faster than me. Thanks for helping out!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Jul 2013 17:13:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340033</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mnb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340351</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4935] Potential NPE in MetadataOnlyOptimizer</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4935</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In MetadataOnlyOptimizer.TableScanProcessor.process, it is possible that we consider a TableScanOperator as &quot;MayBeMetadataOnly&quot; when this TS does not have a conf. In MetadataOnlyOptimizer.MetadataOnlyTaskDispatcher.dispatch(Node, Stack&amp;lt;Node&amp;gt;, Object...), when we convert this TS, we want to get the alias from its conf....&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659861">HIVE-4935</key>
            <summary>Potential NPE in MetadataOnlyOptimizer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jul 2013 18:06:47 +0000</created>
                <updated>Tue, 15 Oct 2013 23:30:14 +0000</updated>
                            <resolved>Fri, 26 Jul 2013 15:06:21 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13720270" author="ashutoshc" created="Fri, 26 Jul 2013 00:02:31 +0000"  >&lt;p&gt;Which line could result in NPE? Is it &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;LOG.info(&quot;Metadata only table scan for &quot; + tso.getConf().getAlias()); ?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13720276" author="yhuai" created="Fri, 26 Jul 2013 00:09:54 +0000"  >&lt;p&gt;right. If that tso does not have any needed column and it does not have a conf, MetadataOnlyOptimizer will consider it as a possible TS. &lt;/p&gt;</comment>
                            <comment id="13720280" author="ashutoshc" created="Fri, 26 Jul 2013 00:14:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13720354" author="hiveqa" created="Fri, 26 Jul 2013 02:15:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594224/HIVE-4935.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594224/HIVE-4935.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2651 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hcatalog.mapreduce.TestHCatPartitioned.testHCatPartitionedTable
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/188/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/188/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/188/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/188/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13720387" author="yhuai" created="Fri, 26 Jul 2013 04:18:59 +0000"  >&lt;p&gt;Trigger the precommit tests again.&lt;/p&gt;</comment>
                            <comment id="13720395" author="yhuai" created="Fri, 26 Jul 2013 04:34:54 +0000"  >&lt;p&gt;btw, this test passed on my laptop&lt;/p&gt;</comment>
                            <comment id="13720721" author="hiveqa" created="Fri, 26 Jul 2013 12:12:28 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594321/HIVE-4935.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594321/HIVE-4935.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2652 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/191/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/191/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/191/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/191/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13720868" author="ashutoshc" created="Fri, 26 Jul 2013 15:06:21 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Yin!&lt;/p&gt;</comment>
                            <comment id="13795993" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:14 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12594321" name="HIVE-4935.1.patch" size="1445" author="yhuai" created="Fri, 26 Jul 2013 04:18:59 +0000"/>
                            <attachment id="12594224" name="HIVE-4935.1.patch" size="1445" author="yhuai" created="Thu, 25 Jul 2013 18:19:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Jul 2013 00:02:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340053</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mnfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340371</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4936] PTest increase performance by parallelizing rsync</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4936</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently the bottom neck in PTest2 when adding hosts is the rsync to the slaves. Today if we have 3 &quot;threads&quot; which will execute on a slave we rsync the source from the master to the slave 3 times. This causes the process to be CPU bound on the master.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659889">HIVE-4936</key>
            <summary>PTest increase performance by parallelizing rsync</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jul 2013 20:44:12 +0000</created>
                <updated>Sat, 27 Jul 2013 17:24:41 +0000</updated>
                            <resolved>Sat, 27 Jul 2013 17:24:41 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13720032" author="brocknoland" created="Thu, 25 Jul 2013 20:46:11 +0000"  >&lt;p&gt;I implemented a fix for this by rsyncing master &amp;#45;&amp;gt; slave (thread 0) once and then executing rsync on the slave (thread 0) &amp;#45;&amp;gt; slave (thread 1 and 2) and achieved significant speedup. I will post a patch soon.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12659411">HIVE-4920</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 26 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mnlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340399</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4937] Create description annotations for vectorized UDF</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4937</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Vectorized UDFs should technically be close to the same as normal UDFs, but that is not guaranteed. For example a standard UDF might have multiple overloads that the vectorized version does not.&lt;/p&gt;

&lt;p&gt;When users run things like &apos;describe function&apos; they may not be getting the correct information depending if they are in vectorized mode or not.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ehans&quot; class=&quot;user-hover&quot; rel=&quot;ehans&quot;&gt;Eric Hanson&lt;/a&gt; I assigned this to you feel free to unassign it, but I think we need some internal documentation for vectorized UDFs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659956">HIVE-4937</key>
            <summary>Create description annotations for vectorized UDF</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="vjk1688">Bijoy Kumar Khandelwal</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jul 2013 03:04:36 +0000</created>
                <updated>Mon, 25 Apr 2016 07:53:53 +0000</updated>
                                                            <fixVersion>vectorization-branch</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13720368" author="appodictic" created="Fri, 26 Jul 2013 03:16:01 +0000"  >&lt;p&gt;Marked this as a blocker because we should not do a release until this is sorted out, but this does not need to be handler right away.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340148</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 26 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mo0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340466</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4938] Update website to use Apache CMS</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4938</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hive-dev/201307.mbox/%3CCAENxBwx47KQsFRBbBB-i3y1VovBwA8E2dymsfcenkb7X5vhVnQ%40mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;vote&lt;/a&gt; was held and we decided to move from Apache Forrest to Apache CMS for the website. This is an uber ticket to track this effort.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659959">HIVE-4938</key>
            <summary>Update website to use Apache CMS</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jul 2013 04:20:06 +0000</created>
                <updated>Fri, 19 Sep 2014 17:21:57 +0000</updated>
                            <resolved>Fri, 19 Sep 2014 17:21:56 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                            <comments>
                            <comment id="13720394" author="brocknoland" created="Fri, 26 Jul 2013 04:30:37 +0000"  >&lt;p&gt;The template is committed &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/cms/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/cms/&lt;/a&gt; and I have requested the staging site in &lt;a href=&quot;https://issues.apache.org/jira/browse/INFRA-6593&quot; title=&quot;CMS Staging site for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;INFRA-6593&quot;&gt;&lt;del&gt;INFRA-6593&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13835547" author="lefty@hortonworks.com" created="Fri, 29 Nov 2013 21:36:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/INFRA-6593&quot; title=&quot;CMS Staging site for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;INFRA-6593&quot;&gt;&lt;del&gt;INFRA-6593&lt;/del&gt;&lt;/a&gt; says the staging site is ready and points here:  &lt;a href=&quot;https://www.apache.org/dev/cmsref#setup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://www.apache.org/dev/cmsref#setup&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13835550" author="lefty@hortonworks.com" created="Fri, 29 Nov 2013 21:49:34 +0000"  >&lt;p&gt;Progress on sub-task 2 no longer blocked by &lt;a href=&quot;https://issues.apache.org/jira/browse/INFRA-6740&quot; title=&quot;Apache CMS build not kicking off&quot; class=&quot;issue-link&quot; data-issue-key=&quot;INFRA-6740&quot;&gt;&lt;del&gt;INFRA-6740&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;(Sorry for these unnecessary comments, I wasn&apos;t paying attention to the sub-tasks.)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12659962">INFRA-6593</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12659960">HIVE-4939</subtask>
                            <subtask id="12666781">HIVE-5201</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Nov 2013 21:36:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340151</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 8 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mo1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340469</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4939] Create CMS in SVN and request a staging site</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4939</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;First we must create a directory for the site (different than our current one) and commit the &lt;a href=&quot;https://svn.apache.org/repos/infra/websites/cms/template/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;template&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Then we must request the staging site from Infra (similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/INFRA-5702&quot; title=&quot;CMS Staging for Shiro&quot; class=&quot;issue-link&quot; data-issue-key=&quot;INFRA-5702&quot;&gt;&lt;del&gt;INFRA-5702&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659960">HIVE-4939</key>
            <summary>Create CMS in SVN and request a staging site</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12659959">HIVE-4938</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jul 2013 04:23:38 +0000</created>
                <updated>Tue, 10 Sep 2013 17:34:11 +0000</updated>
                            <resolved>Tue, 3 Sep 2013 22:51:38 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13757194" author="brocknoland" created="Tue, 3 Sep 2013 22:51:38 +0000"  >&lt;p&gt;Done&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12667855">INFRA-6740</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12659962">INFRA-6593</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340152</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mo1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340470</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4940] udaf_percentile_approx.q is not deterministic</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4940</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Makes different result for 20(S) and 23.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659961">HIVE-4940</key>
            <summary>udaf_percentile_approx.q is not deterministic</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12629407">HIVE-3949</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jul 2013 04:25:12 +0000</created>
                <updated>Tue, 3 Mar 2015 01:11:13 +0000</updated>
                            <resolved>Fri, 16 Aug 2013 16:24:00 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13737625" author="phabricator@reviews.facebook.net" created="Tue, 13 Aug 2013 00:34:49 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4940&quot; title=&quot;udaf_percentile_approx.q is not deterministic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4940&quot;&gt;&lt;del&gt;HIVE-4940&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; udaf_percentile_approx.q is not deterministic&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4940&quot; title=&quot;udaf_percentile_approx.q is not deterministic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4940&quot;&gt;&lt;del&gt;HIVE-4940&lt;/del&gt;&lt;/a&gt; udaf_percentile_approx.q is not deterministic&lt;/p&gt;

&lt;p&gt;Makes different result for 20(S) and 23.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D12189&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D12189&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/udaf_percentile_approx.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udaf_percentile_approx_20.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udaf_percentile_approx_23.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udaf_percentile_approx.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udaf_percentile_approx_20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udaf_percentile_approx_23.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/29097/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/29097/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13737813" author="hiveqa" created="Tue, 13 Aug 2013 04:54:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12597617/HIVE-4940.D12189.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12597617/HIVE-4940.D12189.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2849 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/410/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/410/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/410/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/410/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13738176" author="phabricator@reviews.facebook.net" created="Tue, 13 Aug 2013 13:16:48 +0000"  >&lt;p&gt;brock has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4940&quot; title=&quot;udaf_percentile_approx.q is not deterministic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4940&quot;&gt;&lt;del&gt;HIVE-4940&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; udaf_percentile_approx.q is not deterministic&quot;.&lt;/p&gt;

&lt;p&gt;  Thanks for doing this work Navis!  I am just curious as to what the difference was between the two versions test outputs?&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/udaf_percentile_approx_20.q:42 Should these queries have an order by to ensure they are deterministic in future revs of hadoop and JVM versions?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D12189&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D12189&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13739088" author="phabricator@reviews.facebook.net" created="Wed, 14 Aug 2013 00:46:48 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4940&quot; title=&quot;udaf_percentile_approx.q is not deterministic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4940&quot;&gt;&lt;del&gt;HIVE-4940&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; udaf_percentile_approx.q is not deterministic&quot;.&lt;/p&gt;

&lt;p&gt;  I&apos;ve not checked precisely, but it seemed the iteration order of value is changed in hadoop2.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/udaf_percentile_approx_20.q:42 All the tables have single value. It might not need order by clause for them.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D12189&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D12189&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13741042" author="phabricator@reviews.facebook.net" created="Thu, 15 Aug 2013 15:07:49 +0000"  >&lt;p&gt;brock has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4940&quot; title=&quot;udaf_percentile_approx.q is not deterministic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4940&quot;&gt;&lt;del&gt;HIVE-4940&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; udaf_percentile_approx.q is not deterministic&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D12189&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D12189&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: brock&lt;/p&gt;</comment>
                            <comment id="13742353" author="brocknoland" created="Fri, 16 Aug 2013 16:24:00 +0000"  >&lt;p&gt;Thanks for the contribution Navis! I committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13742549" author="hudson" created="Fri, 16 Aug 2013 19:28:31 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #61 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/61/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/61/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4940&quot; title=&quot;udaf_percentile_approx.q is not deterministic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4940&quot;&gt;&lt;del&gt;HIVE-4940&lt;/del&gt;&lt;/a&gt; udaf_percentile_approx.q is not deterministic (Navis via Brock Noland) (brock: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1514771&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1514771&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udaf_percentile_approx.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udaf_percentile_approx_20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udaf_percentile_approx_23.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udaf_percentile_approx.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udaf_percentile_approx_20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udaf_percentile_approx_23.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13742621" author="hudson" created="Fri, 16 Aug 2013 21:35:08 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop1-ptest #130 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/130/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/130/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4940&quot; title=&quot;udaf_percentile_approx.q is not deterministic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4940&quot;&gt;&lt;del&gt;HIVE-4940&lt;/del&gt;&lt;/a&gt; udaf_percentile_approx.q is not deterministic (Navis via Brock Noland) (brock: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1514771&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1514771&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udaf_percentile_approx.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udaf_percentile_approx_20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udaf_percentile_approx_23.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udaf_percentile_approx.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udaf_percentile_approx_20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udaf_percentile_approx_23.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13742850" author="hudson" created="Sat, 17 Aug 2013 05:32:45 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2273 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2273/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2273/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4940&quot; title=&quot;udaf_percentile_approx.q is not deterministic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4940&quot;&gt;&lt;del&gt;HIVE-4940&lt;/del&gt;&lt;/a&gt; udaf_percentile_approx.q is not deterministic (Navis via Brock Noland) (brock: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1514771&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1514771&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udaf_percentile_approx.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udaf_percentile_approx_20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udaf_percentile_approx_23.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udaf_percentile_approx.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udaf_percentile_approx_20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udaf_percentile_approx_23.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13743032" author="hudson" created="Sat, 17 Aug 2013 21:24:47 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop2 #366 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/366/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/366/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4940&quot; title=&quot;udaf_percentile_approx.q is not deterministic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4940&quot;&gt;&lt;del&gt;HIVE-4940&lt;/del&gt;&lt;/a&gt; udaf_percentile_approx.q is not deterministic (Navis via Brock Noland) (brock: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1514771&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1514771&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udaf_percentile_approx.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udaf_percentile_approx_20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udaf_percentile_approx_23.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udaf_percentile_approx.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udaf_percentile_approx_20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udaf_percentile_approx_23.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795798" author="ashutoshc" created="Tue, 15 Oct 2013 23:28:43 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                            <comment id="14344219" author="wzheng" created="Tue, 3 Mar 2015 01:11:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9833&quot; title=&quot;udaf_percentile_approx_23.q fails intermittently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9833&quot;&gt;&lt;del&gt;HIVE-9833&lt;/del&gt;&lt;/a&gt; has been opened to report the same issue. It seems the problem is still there.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12628043">HIVE-3911</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12778924">HIVE-9833</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12597617" name="HIVE-4940.D12189.1.patch" size="157901" author="phabricator@reviews.facebook.net" created="Tue, 13 Aug 2013 00:34:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Aug 2013 00:34:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340153</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mo1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340471</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4941] PTest2 Investigate Ignores</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4941</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently we excluding the following tests:&lt;/p&gt;

&lt;p&gt;unitTests.exclude = TestHiveMetaStore TestSerDe TestBeeLineDriver TestHiveServer2Concurrency TestJdbcDriver2 TestHiveServer2Concurrency TestBeeLineDriver&lt;/p&gt;

&lt;p&gt;some of them we got from the build files but I am not sure about TestJdbcDriver2 for example. We should investigate why these are excluded.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659966">HIVE-4941</key>
            <summary>PTest2 Investigate Ignores</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jul 2013 05:14:41 +0000</created>
                <updated>Wed, 25 Mar 2015 21:33:15 +0000</updated>
                            <resolved>Mon, 13 Oct 2014 23:26:34 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13721697" author="brocknoland" created="Sat, 27 Jul 2013 17:35:04 +0000"  >&lt;p&gt;TestJdbcDriver2 ran just fine, I have enabled it.&lt;/p&gt;</comment>
                            <comment id="13721772" author="ashutoshc" created="Sat, 27 Jul 2013 21:39:14 +0000"  >&lt;p&gt;In recent runs, I noticed Hive QA runs around ~2653 tests while when I run my tests old style (ie via ant test) it reports running ~2692 tests. It will be good to verify the same number of tests are run in either cases.&lt;/p&gt;</comment>
                            <comment id="13721775" author="brocknoland" created="Sat, 27 Jul 2013 21:47:30 +0000"  >&lt;p&gt;Will do&lt;/p&gt;</comment>
                            <comment id="13721967" author="brocknoland" created="Sun, 28 Jul 2013 15:11:31 +0000"  >&lt;p&gt;OK, the first item is that PTest2 wasn&apos;t reporting on all the tests that it ran. This was fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4892&quot; title=&quot;PTest2 cleanup after merge&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4892&quot;&gt;&lt;del&gt;HIVE-4892&lt;/del&gt;&lt;/a&gt;. Now as it did &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4299?focusedCommentId=13721929&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13721929&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-4299?focusedCommentId=13721929&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13721929&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3926?focusedCommentId=13721861&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13721861&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt; PTest2 should be reporting ~2729.&lt;/p&gt;

&lt;p&gt;I counted the number of tests ran by ant test and ptest2 and I got the following This is using grep &apos;&amp;lt;testcase&apos;:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ wc -l ant.txt ptest.txt 
  2747 ant.txt
  2729 ptest.txt
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I found some interesting items.&lt;/p&gt;

&lt;p&gt;1) Ptest2 doesn&apos;t exclude skipped tests from reporting&lt;br/&gt;
2) PTest2 tracks &quot;include&quot; properties specified in the build.xml files separately (only impacts minimr and testhbasedriver) and they are slightly out of date. Short term I can fix this and create instructions on how to update PTest2 when adding a minimr test. Medium term we should just parse these properties out of the build.xml.&lt;br/&gt;
3) Some tests don&apos;t start with Test and therefore PTest2 misses them&lt;br/&gt;
4) In PTest2 we list out the directories we expect to find unit tests. One directory is missing. Short term fix is to list it and medium term fix is just to look in all directories.&lt;/p&gt;</comment>
                            <comment id="13721984" author="brocknoland" created="Sun, 28 Jul 2013 16:12:12 +0000"  >&lt;p&gt;Actually 4. above should be that some tests cannot be executed via ant test -Dtestcase. For example TestHadoop20SAuthBridge.&lt;/p&gt;</comment>
                            <comment id="13783412" author="ashutoshc" created="Tue, 1 Oct 2013 22:17:00 +0000"  >&lt;p&gt;Whats the status of these tasks? Are all tests now running with PTest2 ?&lt;/p&gt;</comment>
                            <comment id="13783585" author="brocknoland" created="Wed, 2 Oct 2013 02:17:11 +0000"  >&lt;p&gt;I believe so but i&apos;d be good for me to do one more confirmation.&lt;/p&gt;</comment>
                            <comment id="13784270" author="brocknoland" created="Wed, 2 Oct 2013 18:45:25 +0000"  >&lt;p&gt;FYI I am running a local ant test and will compare the results tomorrow.&lt;/p&gt;</comment>
                            <comment id="13797074" author="brocknoland" created="Wed, 16 Oct 2013 18:12:51 +0000"  >&lt;p&gt;And my local run failed.&lt;/p&gt;</comment>
                            <comment id="14380793" author="erwaman" created="Wed, 25 Mar 2015 21:14:04 +0000"  >&lt;p&gt;I&apos;m trying to run TestHiveMetaStore but I&apos;m having trouble getting it to run.  I made the following changes to the root pom.xml file&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;diff --git a/pom.xml b/pom.xml
index 5d4f13c..a8098ce 100644
--- a/pom.xml
+++ b/pom.xml
@@ -712,12 +712,12 @@
         &amp;lt;configuration&amp;gt;
           &amp;lt;excludes&amp;gt;
             &amp;lt;exclude&amp;gt;**/TestSerDe.java&amp;lt;/exclude&amp;gt;
-            &amp;lt;exclude&amp;gt;**/TestHiveMetaStore.java&amp;lt;/exclude&amp;gt;
+            &amp;lt;!--exclude&amp;gt;**/TestHiveMetaStore.java&amp;lt;/exclude--&amp;gt;
             &amp;lt;exclude&amp;gt;**/ql/exec/vector/util/*.java&amp;lt;/exclude&amp;gt;
             &amp;lt;exclude&amp;gt;**/ql/exec/vector/udf/legacy/*.java&amp;lt;/exclude&amp;gt;
             &amp;lt;exclude&amp;gt;**/ql/exec/vector/udf/&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;/*.java&amp;lt;/exclude&amp;gt;
             &amp;lt;exclude&amp;gt;**/TestHiveServer2Concurrency.java&amp;lt;/exclude&amp;gt;
-            &amp;lt;exclude&amp;gt;**/TestHiveMetaStore.java&amp;lt;/exclude&amp;gt;
+            &amp;lt;!--exclude&amp;gt;**/TestHiveMetaStore.java&amp;lt;/exclude--&amp;gt;
           &amp;lt;/excludes&amp;gt;
           &amp;lt;redirectTestOutputToFile&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/redirectTestOutputToFile&amp;gt;
           &amp;lt;reuseForks&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/reuseForks&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and then ran&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn clean install -DskipTests -Phadoop-2
cd itests
mvn clean install -DskipTests -Phadoop-2
mvn test -Phadoop-2 -Dtest=TestHiveMetaStore
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, in the output, I see no tests were run:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-------------------------------------------------------
 T E S T S
-------------------------------------------------------

Results :

Tests run: 0, Failures: 0, Errors: 0, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A couple questions:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Why is the TestHiveMetaStore test excluded?&lt;/li&gt;
	&lt;li&gt;How do I run the TestHiveMetaStore test?&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="14380823" author="erwaman" created="Wed, 25 Mar 2015 21:33:15 +0000"  >&lt;p&gt;I figured it out. I&apos;m not supposed to run TestHiveMetaStore directly. I&apos;m supposed to run the subclasses TestEmbeddedHiveMetaStore and TestRemoteHiveMetaStore instead. Running the subclasses works.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12660287">HIVE-4949</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12660276">HIVE-4948</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Jul 2013 21:39:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 43 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mo2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340476</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4942] Fix eclipse template files to use correct datanucleus libs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4942</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3632&quot; title=&quot;Upgrade datanucleus to support JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3632&quot;&gt;&lt;del&gt;HIVE-3632&lt;/del&gt;&lt;/a&gt; did not update the eclipse template files&lt;/p&gt;</description>
                <environment></environment>
        <key id="12660093">HIVE-4942</key>
            <summary>Fix eclipse template files to use correct datanucleus libs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jul 2013 16:05:32 +0000</created>
                <updated>Tue, 15 Oct 2013 23:29:40 +0000</updated>
                            <resolved>Fri, 26 Jul 2013 21:08:29 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13720916" author="yhuai" created="Fri, 26 Jul 2013 16:06:26 +0000"  >&lt;p&gt;We need &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2739&quot; title=&quot;Manage Eclipse integration with IvyDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2739&quot;&gt;HIVE-2739&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13720968" author="ashutoshc" created="Fri, 26 Jul 2013 17:21:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13721212" author="ashutoshc" created="Fri, 26 Jul 2013 21:08:29 +0000"  >&lt;p&gt;It would be really nice if someone picks up &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2739&quot; title=&quot;Manage Eclipse integration with IvyDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2739&quot;&gt;HIVE-2739&lt;/a&gt;.  In the meanwhile thanks Yin for the quick fix.&lt;/p&gt;</comment>
                            <comment id="13721430" author="yhuai" created="Sat, 27 Jul 2013 00:21:49 +0000"  >&lt;p&gt;Kick the precommit tests again with a minor update.&lt;/p&gt;</comment>
                            <comment id="13721433" author="yhuai" created="Sat, 27 Jul 2013 00:22:35 +0000"  >&lt;p&gt;commented in the wrong jira...&lt;/p&gt;</comment>
                            <comment id="13795919" author="ashutoshc" created="Tue, 15 Oct 2013 23:29:40 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12613843">HIVE-3632</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12594417" name="HIVE-4942.txt" size="2752" author="yhuai" created="Fri, 26 Jul 2013 16:16:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Jul 2013 17:21:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mov3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340603</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4943] An explode function that includes the item&apos;s position in the array</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4943</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A function that explodes an array and includes an output column with the position of each item in the original array.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12660098">HIVE-4943</key>
            <summary>An explode function that includes the item&apos;s position in the array</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="niko246">Niko Stahl</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Fri, 26 Jul 2013 16:41:18 +0000</created>
                <updated>Sun, 3 Nov 2013 08:50:30 +0000</updated>
                            <resolved>Mon, 14 Oct 2013 21:42:28 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                    <timeoriginalestimate seconds="28800">8h</timeoriginalestimate>
                            <timeestimate seconds="28800">8h</timeestimate>
                                        <comments>
                            <comment id="13733262" author="niko246" created="Thu, 8 Aug 2013 08:48:36 +0000"  >&lt;p&gt;Please review.&lt;/p&gt;</comment>
                            <comment id="13737968" author="niko246" created="Tue, 13 Aug 2013 08:19:30 +0000"  >&lt;p&gt;Please review. Thanks!&lt;/p&gt;</comment>
                            <comment id="13743615" author="niko246" created="Mon, 19 Aug 2013 08:04:02 +0000"  >&lt;p&gt;Please review.&lt;/p&gt;</comment>
                            <comment id="13743876" author="ashutoshc" created="Mon, 19 Aug 2013 14:58:33 +0000"  >&lt;p&gt;I cannot see any patch attached to the jira. What is it that needs review?&lt;/p&gt;</comment>
                            <comment id="13744009" author="niko246" created="Mon, 19 Aug 2013 17:13:02 +0000"  >&lt;p&gt;Sorry I&apos;ve now attached the patch for your review. Thanks!&lt;/p&gt;</comment>
                            <comment id="13744163" author="hiveqa" created="Mon, 19 Aug 2013 20:20:04 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12598792/HIVE-4943.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12598792/HIVE-4943.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 2886 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udtf_posexplode
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/477/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/477/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/477/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/477/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13744570" author="navis" created="Tue, 20 Aug 2013 00:47:19 +0000"  >&lt;p&gt;Seemed too specific to be included in hive built-in.&lt;/p&gt;</comment>
                            <comment id="13744616" author="ashutoshc" created="Tue, 20 Aug 2013 02:02:03 +0000"  >&lt;p&gt;Agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; This one looks too specific to be included in hive built-ins.&lt;/p&gt;</comment>
                            <comment id="13744888" author="niko246" created="Tue, 20 Aug 2013 11:54:54 +0000"  >&lt;p&gt;Yes, it&apos;s quite specific but very useful when the ordering of the original array matters. I&apos;ve uploaded a new patch that should pass those failing tests. Thanks for your feedback.&lt;/p&gt;</comment>
                            <comment id="13745154" author="hiveqa" created="Tue, 20 Aug 2013 17:23:31 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12598937/HIVE-4943.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12598937/HIVE-4943.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2887 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/489/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/489/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/489/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/489/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13765869" author="niko246" created="Thu, 12 Sep 2013 20:33:13 +0000"  >&lt;p&gt;What&apos;s the verdict? Will there be a vote?&lt;/p&gt;</comment>
                            <comment id="13767894" author="akatose" created="Sun, 15 Sep 2013 20:10:31 +0000"  >&lt;p&gt;An awesome feature of Hive is the rich type system with excellent support for complex data-structures. To me, this ticket seems like a very useful extension to the hive built-ins. It is especially helpful for those users, that use complex data-structures. Right now, queries are often cumbersome when you access denormalized or nested data.&lt;/p&gt;

&lt;p&gt;E.g., let&apos;s consider a table that contains products together with their most popular accessories (cross-sellings). The order of the cross-selling products matter:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-javascript&quot;&gt;{
  &lt;span class=&quot;code-quote&quot;&gt;&quot;productId&quot;&lt;/span&gt;: 42,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;most awesome mp3 player&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;manufacturer&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;acme corp&quot;&lt;/span&gt;,

  &lt;span class=&quot;code-quote&quot;&gt;&quot;accessories&quot;&lt;/span&gt;: [
    { &lt;span class=&quot;code-quote&quot;&gt;&quot;productId&quot;&lt;/span&gt; : 23, &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;batteries&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;manufacturer&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;acme corp&quot;&lt;/span&gt; },
    { &lt;span class=&quot;code-quote&quot;&gt;&quot;productId&quot;&lt;/span&gt; : 25, &lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;extra load earphones&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;manufacturer&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;noisemakers inc&quot;&lt;/span&gt; }
  ]
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Let&apos;s assume we want to know the average position in cross-sellings of the manufacturer &quot;noisemakers inc&quot;. Surprisingly, this is not possible with hive built-ins. You could try to come up with a custom UDFSequence and a query like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;AVG&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;SEQUENCE&lt;/span&gt;(p.productId)) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; wrongAverage
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt;
  products p
&lt;span class=&quot;code-keyword&quot;&gt;LATERAL&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;VIEW&lt;/span&gt;
  EXPLODE(p.accessories) pa &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; accessory
&lt;span class=&quot;code-keyword&quot;&gt;WHERE&lt;/span&gt;
  pa.accessory.manufacturer = &lt;span class=&quot;code-quote&quot;&gt;&apos;noisemakers inc&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Unfortunately, the above query will give us wrong results, because Hive executes the predicate in the where clause first. Therefore, any UDF in the select clause has no chance to see and count all values.&lt;/p&gt;

&lt;p&gt;Using the UDTF from this ticket seems to be the best solution:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;SELECT&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;AVG&lt;/span&gt;(pa.pos) &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; correctAverage
&lt;span class=&quot;code-keyword&quot;&gt;FROM&lt;/span&gt;
  products p
&lt;span class=&quot;code-keyword&quot;&gt;LATERAL&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;VIEW&lt;/span&gt;
  POSEXPLODE(p.accessories) pa &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; pos, accessory
&lt;span class=&quot;code-keyword&quot;&gt;WHERE&lt;/span&gt;
  pa.accessory.manufacturer = &lt;span class=&quot;code-quote&quot;&gt;&apos;noisemakers inc&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13793360" author="niko246" created="Sat, 12 Oct 2013 14:40:51 +0000"  >&lt;p&gt;Hi Yin, &lt;/p&gt;

&lt;p&gt;Sorry I&apos;m new to this process. Is any further action required on my part? &lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Niko&lt;/p&gt;</comment>
                            <comment id="13793375" author="appodictic" created="Sat, 12 Oct 2013 15:36:36 +0000"  >&lt;p&gt;+1. Let me re-upload the patch after it retests I will commit.&lt;/p&gt;</comment>
                            <comment id="13793378" author="niko246" created="Sat, 12 Oct 2013 15:42:05 +0000"  >&lt;p&gt;Sounds good, thanks!&lt;/p&gt;</comment>
                            <comment id="13793424" author="hiveqa" created="Sat, 12 Oct 2013 17:24:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12608151/HIVE-4943.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12608151/HIVE-4943.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4397 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1113/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1113/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1113/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1113/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13794521" author="appodictic" created="Mon, 14 Oct 2013 21:42:28 +0000"  >&lt;p&gt;Resolved. Thanks Niko. Next time tag me as a watcher or make more noise if the patch takes so long.&lt;/p&gt;</comment>
                            <comment id="13794930" author="lefty@hortonworks.com" created="Tue, 15 Oct 2013 06:33:25 +0000"  >&lt;p&gt;This will need to be documented in the wiki, with a version note and a link to this JIRA.  You can wait until Hive 0.13 is released, but please don&apos;t forget.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;add to table here:  &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-BuiltinTableGeneratingFunctions%28UDTF%29&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Built-in Table-Generating Functions (UDTF)&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;after the table, add a section similar to this (or change to &quot;explode and posexplode&quot;):  &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-explode&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;explode&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Use this version tag for consistency with other docs: &lt;/p&gt;

&lt;p&gt;{info:title=Version}&lt;br/&gt;
To be introduced in Hive 0.13.  See &amp;lt;link-to-JIRA&amp;gt;.&lt;br/&gt;
{info}&lt;/p&gt;</comment>
                            <comment id="13812263" author="lefty@hortonworks.com" created="Sun, 3 Nov 2013 04:55:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lars_francke&quot; class=&quot;user-hover&quot; rel=&quot;lars_francke&quot;&gt;Lars Francke&lt;/a&gt; documented this in the wiki.  See &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-BuiltinTableGeneratingFunctions%28UDTF%29&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Built-in Table-Generating Functions&lt;/a&gt; and &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-posexplode&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;posexplode&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thanks, Lars.  (Also thanks for fixing typos on the Home page.)&lt;/p&gt;</comment>
                            <comment id="13812298" author="niko246" created="Sun, 3 Nov 2013 08:50:30 +0000"  >&lt;p&gt;Thanks, Lars!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12598792" name="HIVE-4943.1.patch" size="5317" author="niko246" created="Mon, 19 Aug 2013 17:11:48 +0000"/>
                            <attachment id="12598937" name="HIVE-4943.2.patch" size="7755" author="niko246" created="Tue, 20 Aug 2013 11:53:23 +0000"/>
                            <attachment id="12608151" name="HIVE-4943.3.patch" size="7755" author="appodictic" created="Sat, 12 Oct 2013 15:38:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 19 Aug 2013 14:58:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340290</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mow7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340608</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4944] Hive Windows Scripts and Compatibility changes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4944</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Porting patches that enable hive packaging and running under windows.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12660138">HIVE-4944</key>
            <summary>Hive Windows Scripts and Compatibility changes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="sushanth">Sushanth Sowmyan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jul 2013 21:48:01 +0000</created>
                <updated>Thu, 29 Aug 2013 22:17:09 +0000</updated>
                                                                            <component>Windows</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                            <comments>
                            <comment id="13721262" author="sushanth" created="Fri, 26 Jul 2013 21:49:54 +0000"  >&lt;p&gt;Attaching 2 patches - one that is a umbrella patch of compatibility changes to enable hive building, testing and packaging under windows, and another that is a patch of scripts for installation, packaging and running.&lt;/p&gt;</comment>
                            <comment id="13754123" author="sushanth" created="Thu, 29 Aug 2013 22:12:05 +0000"  >&lt;p&gt;(Made subtask patches from the monolithic patches attached to this jira for easier reviewing, will upload each patch individually)&lt;/p&gt;</comment>
                            <comment id="13754127" author="sushanth" created="Thu, 29 Aug 2013 22:15:44 +0000"  >&lt;p&gt;Also, these patches aren&apos;t originally by me, I&apos;ll add in the names of each of the contributors in the individual patches, they&apos;re from contributors in Microsoft who developed against hive 0.9, and asked for my help in reviewing and forward-porting to trunk.&lt;/p&gt;</comment>
                            <comment id="13754130" author="sushanth" created="Thu, 29 Aug 2013 22:17:09 +0000"  >&lt;p&gt;Edit, above should read :&lt;/p&gt;

&lt;p&gt;Also, these patches aren&apos;t originally by me, I&apos;ll add in the names of each of the contributors in the individual patches, they&apos;re from contributors in Microsoft who developed against hive 0.9, and asked for my help in reviewing and forward-porting to trunk and contributing it to apache hive.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12594455" name="compat.patch" size="34706" author="sushanth" created="Fri, 26 Jul 2013 21:50:39 +0000"/>
                            <attachment id="12594456" name="packaging.patch" size="733742" author="sushanth" created="Fri, 26 Jul 2013 21:50:39 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12666201">HIVE-5173</subtask>
                            <subtask id="12666202">HIVE-5174</subtask>
                            <subtask id="12666203">HIVE-5175</subtask>
                            <subtask id="12666204">HIVE-5176</subtask>
                            <subtask id="12666205">HIVE-5177</subtask>
                            <subtask id="12666207">HIVE-5178</subtask>
                            <subtask id="12666208">HIVE-5179</subtask>
                            <subtask id="12666209">HIVE-5180</subtask>
                            <subtask id="12685680">HIVE-6064</subtask>
                            <subtask id="12685693">HIVE-6066</subtask>
                            <subtask id="12710990">HIVE-6982</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340330</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mp4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340648</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4945] Make RLIKE/REGEXP run end-to-end by updating VectorizationContext</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4945</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12660154">HIVE-4945</key>
            <summary>Make RLIKE/REGEXP run end-to-end by updating VectorizationContext</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="teddy.choi">Teddy Choi</assignee>
                                    <reporter username="ehans">Eric Hanson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jul 2013 23:03:20 +0000</created>
                <updated>Wed, 9 Oct 2013 04:05:06 +0000</updated>
                            <resolved>Tue, 8 Oct 2013 15:44:38 +0000</resolved>
                                    <version>vectorization-branch</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13721347" author="ehans" created="Fri, 26 Jul 2013 23:05:05 +0000"  >&lt;p&gt;This is possible now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4642&quot; title=&quot;Implement vectorized RLIKE and REGEXP filter expressions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4642&quot;&gt;&lt;del&gt;HIVE-4642&lt;/del&gt;&lt;/a&gt; is complete (the vectorized expressions for RLIKE and REGEXP exist).&lt;/p&gt;</comment>
                            <comment id="13736578" author="teddy.choi" created="Mon, 12 Aug 2013 04:47:47 +0000"  >&lt;p&gt;I wrote some code for this issue and now I&apos;m testing it with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4794&quot; title=&quot;Unit e2e tests for vectorization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4794&quot;&gt;&lt;del&gt;HIVE-4794&lt;/del&gt;&lt;/a&gt;. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13736581" author="teddy.choi" created="Mon, 12 Aug 2013 04:50:18 +0000"  >&lt;p&gt;Eric, can I take this issue?&lt;/p&gt;</comment>
                            <comment id="13736751" author="teddy.choi" created="Mon, 12 Aug 2013 11:02:50 +0000"  >&lt;p&gt;Review request on &lt;a href=&quot;https://reviews.apache.org/r/13494/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/13494/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13736761" author="teddy.choi" created="Mon, 12 Aug 2013 11:14:30 +0000"  >&lt;p&gt;While writing this code, I found that even if the query was not running with vectorization expressions, it returns the same .q.out file. So it makes hard to check that vectorization expressions were used or not.&lt;/p&gt;

&lt;p&gt;There is a way to check it. If vectorized expressions were used, ExecDriver#job#getMapperClass() returns VectorExecMapper#class after calling ExecDriver#execute(). Otherwise, getMapperClass() returns ExecMapper#class.&lt;/p&gt;</comment>
                            <comment id="13770482" author="jnp" created="Wed, 18 Sep 2013 06:13:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=teddy.choi&quot; class=&quot;user-hover&quot; rel=&quot;teddy.choi&quot;&gt;Teddy Choi&lt;/a&gt; I have assigned the jira to you.&lt;br/&gt;
This patch will need to be updated in light of the recent changes to vectorization branch, particularly &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4959&quot; title=&quot;Vectorized plan generation should be added as an optimization transform.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4959&quot;&gt;&lt;del&gt;HIVE-4959&lt;/del&gt;&lt;/a&gt;. Please rebase the patch.&lt;/p&gt;</comment>
                            <comment id="13778616" author="teddy.choi" created="Thu, 26 Sep 2013 09:59:43 +0000"  >&lt;p&gt;I attach the second patch. Before apply it, make sure that it comes after the 7th patch of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4642&quot; title=&quot;Implement vectorized RLIKE and REGEXP filter expressions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4642&quot;&gt;&lt;del&gt;HIVE-4642&lt;/del&gt;&lt;/a&gt;. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13779412" author="hiveqa" created="Thu, 26 Sep 2013 22:55:19 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12605232/HIVE-4945.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12605232/HIVE-4945.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/919/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/919/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/919/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/919/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests failed with: NonZeroExitCodeException: Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-919/source-prep.txt
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;serde/src/test/org/apache/hadoop/hive/serde2/lazy/TestLazySimpleSerDe.java&apos;
Reverted &apos;serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyLong.java&apos;
Reverted &apos;serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyInteger.java&apos;
Reverted &apos;ql/src/test/org/apache/hadoop/hive/ql/udf/TestToInteger.java&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf build hcatalog/build hcatalog/core/build hcatalog/storage-handlers/hbase/build hcatalog/server-extensions/build hcatalog/webhcat/svr/build hcatalog/webhcat/java-client/build hcatalog/hcatalog-pig-adapter/build common/src/gen ql/src/test/results/clientpositive/cast_to_int.q.out ql/src/test/queries/clientpositive/cast_to_int.q
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1526728.

At revision 1526728.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0 to p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13780648" author="hiveqa" created="Sat, 28 Sep 2013 01:47:35 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12605488/HIVE-4945.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12605488/HIVE-4945.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/941/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/941/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/941/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/941/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests failed with: NonZeroExitCodeException: Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-941/source-prep.txt
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHFileOutputFormat.java&apos;
Reverted &apos;hcatalog/core/src/test/java/org/apache/hcatalog/cli/DummyStorageHandler.java&apos;
Reverted &apos;hcatalog/storage-handlers/hbase/src/java/org/apache/hcatalog/hbase/HBaseBaseOutputFormat.java&apos;
Reverted &apos;contrib/src/java/org/apache/hadoop/hive/contrib/fileformat/base64/Base64TextOutputFormat.java&apos;
Reverted &apos;serde/src/java/org/apache/hadoop/hive/serde2/SerDeStats.java&apos;
Reverted &apos;ql/src/test/org/apache/hadoop/hive/ql/io/orc/TestInputOutputFormat.java&apos;
Reverted &apos;ql/src/test/org/apache/hadoop/hive/ql/io/udf/Rot13OutputFormat.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/PTFRowContainer.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/persistence/RowContainer.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/orc/Reader.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/orc/Writer.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcOutputFormat.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/orc/ReaderImpl.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/HiveNullValueSequenceFileOutputFormat.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/HiveSequenceFileOutputFormat.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/HiveFileFormatUtils.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroGenericRecordWriter.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroContainerOutputFormat.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/RCFileOutputFormat.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/HiveIgnoreKeyTextOutputFormat.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/HivePassThroughOutputFormat.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/HivePassThroughRecordWriter.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/HiveOutputFormat.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/io/HiveBinaryOutputFormat.java&apos;
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf build hcatalog/build hcatalog/core/build hcatalog/storage-handlers/hbase/build hcatalog/server-extensions/build hcatalog/webhcat/svr/build hcatalog/webhcat/java-client/build hcatalog/hcatalog-pig-adapter/build common/src/gen ql/src/java/org/apache/hadoop/hive/ql/io/FSRecordWriter.java
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1527140.

At revision 1527140.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0 to p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13783651" author="jnp" created="Wed, 2 Oct 2013 04:58:15 +0000"  >&lt;p&gt;The vectorization work is now committed to trunk. Please rebase the patch against trunk. All vectorization work is now happening directly on trunk.&lt;/p&gt;</comment>
                            <comment id="13785344" author="jnp" created="Thu, 3 Oct 2013 17:01:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4642&quot; title=&quot;Implement vectorized RLIKE and REGEXP filter expressions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4642&quot;&gt;&lt;del&gt;HIVE-4642&lt;/del&gt;&lt;/a&gt; is committed, so this patch is unblocked. Please add a unit test to the patch.&lt;/p&gt;</comment>
                            <comment id="13785346" author="jnp" created="Thu, 3 Oct 2013 17:03:14 +0000"  >&lt;p&gt;I noticed that the first patch had couple of tests, please add them to the latest patch.&lt;/p&gt;</comment>
                            <comment id="13788007" author="teddy.choi" created="Mon, 7 Oct 2013 09:21:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jnp&quot; class=&quot;user-hover&quot; rel=&quot;jnp&quot;&gt;Jitendra Nath Pandey&lt;/a&gt;, I changed vectorization_short_regress.q test file little bit to cover RLIKE while keeping covering LIKE.&lt;/p&gt;</comment>
                            <comment id="13788117" author="hiveqa" created="Mon, 7 Oct 2013 12:54:46 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12607140/HIVE-4945.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12607140/HIVE-4945.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4060 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1065/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1065/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/1065/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/1065/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13788375" author="jnp" created="Mon, 7 Oct 2013 18:10:05 +0000"  >&lt;p&gt;+1.&lt;/p&gt;</comment>
                            <comment id="13788755" author="ashutoshc" created="Tue, 8 Oct 2013 00:20:55 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13789308" author="ashutoshc" created="Tue, 8 Oct 2013 15:44:38 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Teddy!&lt;/p&gt;</comment>
                            <comment id="13789432" author="hudson" created="Tue, 8 Oct 2013 17:49:10 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #131 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/131/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/131/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4945&quot; title=&quot;Make RLIKE/REGEXP run end-to-end by updating VectorizationContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4945&quot;&gt;&lt;del&gt;HIVE-4945&lt;/del&gt;&lt;/a&gt; : Make RLIKE/REGEXP run end-to-end by updating VectorizationContext (Teddy Choi via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1530314&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1530314&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizationContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/vectorization_short_regress.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/vectorization_short_regress.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13789572" author="hudson" created="Tue, 8 Oct 2013 19:19:14 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop1-ptest #196 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/196/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/196/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4945&quot; title=&quot;Make RLIKE/REGEXP run end-to-end by updating VectorizationContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4945&quot;&gt;&lt;del&gt;HIVE-4945&lt;/del&gt;&lt;/a&gt; : Make RLIKE/REGEXP run end-to-end by updating VectorizationContext (Teddy Choi via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1530314&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1530314&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizationContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/vectorization_short_regress.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/vectorization_short_regress.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13789725" author="hudson" created="Tue, 8 Oct 2013 21:34:18 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2388 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2388/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2388/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4945&quot; title=&quot;Make RLIKE/REGEXP run end-to-end by updating VectorizationContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4945&quot;&gt;&lt;del&gt;HIVE-4945&lt;/del&gt;&lt;/a&gt; : Make RLIKE/REGEXP run end-to-end by updating VectorizationContext (Teddy Choi via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1530314&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1530314&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizationContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/vectorization_short_regress.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/vectorization_short_regress.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13790001" author="hudson" created="Wed, 9 Oct 2013 04:05:06 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2 #491 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/491/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/491/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4945&quot; title=&quot;Make RLIKE/REGEXP run end-to-end by updating VectorizationContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4945&quot;&gt;&lt;del&gt;HIVE-4945&lt;/del&gt;&lt;/a&gt; : Make RLIKE/REGEXP run end-to-end by updating VectorizationContext (Teddy Choi via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1530314&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1530314&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizationContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/vectorization_short_regress.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/vectorization_short_regress.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12650409">HIVE-4642</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12597451" name="HIVE-4945.1.patch.txt" size="144973" author="teddy.choi" created="Mon, 12 Aug 2013 11:02:50 +0000"/>
                            <attachment id="12605232" name="HIVE-4945.2.patch.txt" size="4309" author="teddy.choi" created="Thu, 26 Sep 2013 09:59:43 +0000"/>
                            <attachment id="12605488" name="HIVE-4945.3.patch.txt" size="4307" author="teddy.choi" created="Fri, 27 Sep 2013 17:47:07 +0000"/>
                            <attachment id="12607140" name="HIVE-4945.4.patch.txt" size="46188" author="teddy.choi" created="Mon, 7 Oct 2013 09:21:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 12 Aug 2013 04:47:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340346</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mp8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340664</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4946] Allow prevention of string column re-use for string functions that can set results by reference</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4946</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In order to prevent a bug, I had to use BytesColumnVector.setVal instead of BytesColumnVector.setRef when creating the output of all string functions. These include TRIM/LTRIM/RTRIM/SUBSTR, which can be made faster if they can use the setRef method instead. That allows them to avoid the cost of copying the data, by just setting a reference to a string (by setting the byte[] pointer, start, and length). &lt;/p&gt;

&lt;p&gt;As a future performance enhancement, it would be desirable to be able to use setRef for these functions instead of setVal. But to do that, it is necessary to be able to mark a BytesColumnVector that is being referenced into so it is not reclaimed and re-used. So this would require a design and implementation change to the output column manager used in VectorizationContext.&lt;/p&gt;

&lt;p&gt;I&apos;m marking this as &quot;minor&quot; priority because it will result in a small performance enhancement, most likely. It can be deferred for a while.&lt;/p&gt;

&lt;p&gt;The following is an example of a query that will exhibit a bug if setRef is used instead of setVal in the implementation of trim and concat functions:&lt;/p&gt;

&lt;p&gt;select l_shipmode, &lt;br/&gt;
  rtrim(concat(l_shipmode,&apos; &apos;))  &amp;#8211; incorrect result for this output column&lt;br/&gt;
  ,trim(concat(&apos; &apos;,l_shipmode))  &amp;#8211; requires this line for bug to show up&lt;br/&gt;
from lineitem_orc &lt;br/&gt;
where l_orderkey = 1;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12660168">HIVE-4946</key>
            <summary>Allow prevention of string column re-use for string functions that can set results by reference</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ehans">Eric Hanson</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Jul 2013 00:01:26 +0000</created>
                <updated>Sat, 27 Jul 2013 00:04:14 +0000</updated>
                                            <version>vectorization-branch</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 26 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mpbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340678</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4947] Add myself to committer list</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4947</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Update website to include myself.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12660177">HIVE-4947</key>
            <summary>Add myself to committer list</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Jul 2013 02:27:58 +0000</created>
                <updated>Sat, 27 Jul 2013 22:43:21 +0000</updated>
                            <resolved>Sat, 27 Jul 2013 22:43:21 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13721685" author="appodictic" created="Sat, 27 Jul 2013 17:04:05 +0000"  >&lt;p&gt;+1. Can you please set my company to &apos;m6d&apos; while you are at it? thanks&lt;/p&gt;</comment>
                            <comment id="13721698" author="hagleitn" created="Sat, 27 Jul 2013 17:43:12 +0000"  >&lt;p&gt;Sure. Added m6d as your organization.&lt;/p&gt;</comment>
                            <comment id="13721700" author="hagleitn" created="Sat, 27 Jul 2013 17:44:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; I&apos;ve added you too, since I didn&apos;t see you in there. Can you confirm I got the entry right?&lt;/p&gt;</comment>
                            <comment id="13721705" author="brocknoland" created="Sat, 27 Jul 2013 17:54:26 +0000"  >&lt;p&gt;Thank you very much!! Looks good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13721785" author="hagleitn" created="Sat, 27 Jul 2013 22:43:05 +0000"  >&lt;p&gt;Committed to hive-site. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12594546" name="HIVE-4947.2.patch" size="16864" author="hagleitn" created="Sat, 27 Jul 2013 17:43:12 +0000"/>
                            <attachment id="12594509" name="HIVE-4947.patch" size="10596" author="hagleitn" created="Sat, 27 Jul 2013 02:29:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Jul 2013 17:04:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mpdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
