<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:22:10 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-10-28+AND+created+%3C%3D+2012-11-6+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="46" total="46"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-3629] Try bucket split more localized by referencing block locations of small aliases</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3629</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently splits for SMBMapJoin does not concern about location of small aliases. If all inputs could be on single server, joining would be more faster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613836">HIVE-3629</key>
            <summary>Try bucket split more localized by referencing block locations of small aliases</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Oct 2012 03:51:16 +0000</created>
                <updated>Tue, 2 Jul 2013 00:51:32 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13485820" author="phabricator@reviews.facebook.net" created="Mon, 29 Oct 2012 03:55:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3629&quot; title=&quot;Try bucket split more localized by referencing block locations of small aliases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3629&quot;&gt;HIVE-3629&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Try bucket split more localized by referencing block locations of small aliases&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1926 Try bucket split more localized by referencing block locations of small aliases&lt;/p&gt;

&lt;p&gt;  Currently splits for SMBMapJoin does not concern about location of small aliases. If all inputs could be on single server, joining would be more faster.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6273&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6273&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/BucketizedHiveInputFormat.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/BucketMapJoinContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/MapredWork.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/14907/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/14907/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13585834" author="phabricator@reviews.facebook.net" created="Mon, 25 Feb 2013 12:54:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3629&quot; title=&quot;Try bucket split more localized by referencing block locations of small aliases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3629&quot;&gt;HIVE-3629&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Try bucket split more localized by referencing block locations of small aliases&quot;.&lt;/p&gt;

&lt;p&gt;  Rebased to trunk&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6273&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6273&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6273?vs=20583&amp;amp;id=28599#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6273?vs=20583&amp;amp;id=28599#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/BucketizedHiveInputFormat.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/BucketMapJoinContext.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/MapredWork.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13696299" author="ashutoshc" created="Sun, 30 Jun 2013 08:01:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Did you get a chance to benchmark this? How much speedup you are getting because of this?&lt;/p&gt;</comment>
                            <comment id="13696300" author="ashutoshc" created="Sun, 30 Jun 2013 08:08:33 +0000"  >&lt;p&gt;Also can you create a ReviewBoard entry for this. Phabricator seems to be down.&lt;/p&gt;</comment>
                            <comment id="13697385" author="navis" created="Tue, 2 Jul 2013 00:51:32 +0000"  >&lt;p&gt;Sorry, I didn&apos;t do any benchmarks because we cannot find any chances to use SMBjoins. &lt;br/&gt;
I&apos;ll do some tests if time permits.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551153" name="HIVE-3629.D6273.1.patch" size="10808" author="phabricator@reviews.facebook.net" created="Mon, 29 Oct 2012 03:55:11 +0000"/>
                            <attachment id="12570781" name="HIVE-3629.D6273.2.patch" size="10444" author="phabricator@reviews.facebook.net" created="Mon, 25 Feb 2013 12:54:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Oct 2012 03:55:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252648</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d1un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74076</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3630] udf_substr.q fails when using JDK7</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3630</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Internal error: Cannot find ConstantObjectInspector for BINARY&lt;/p&gt;

&lt;p&gt;This exception has two causes.&lt;/p&gt;

&lt;p&gt;JDK7 iterators do not return values in the same order as JDK6, which selects a different implementation of this UDF when the first argument is null. With JDK7 this happens to be the binary version.&lt;/p&gt;

&lt;p&gt;The binary version is not implemented properly which ultimately causes the exception when the method is called.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613841">HIVE-3630</key>
            <summary>udf_substr.q fails when using JDK7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="cdrome">Chris Drome</assignee>
                                    <reporter username="cdrome">Chris Drome</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Oct 2012 05:20:12 +0000</created>
                <updated>Mon, 12 Aug 2013 22:46:27 +0000</updated>
                            <resolved>Mon, 12 Aug 2013 22:45:46 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                    <version>0.11.0</version>
                                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13502366" author="cdrome" created="Wed, 21 Nov 2012 22:10:58 +0000"  >&lt;p&gt;Attached branch 0.9 and trunk patches.&lt;/p&gt;</comment>
                            <comment id="13502378" author="cdrome" created="Wed, 21 Nov 2012 22:24:52 +0000"  >&lt;p&gt;Branch 0.9:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D6885&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6885&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Trunk:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D6891&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6891&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13543523" author="cdrome" created="Fri, 4 Jan 2013 02:08:31 +0000"  >&lt;p&gt;Added patch for branch-0.10&lt;/p&gt;</comment>
                            <comment id="13543525" author="cdrome" created="Fri, 4 Jan 2013 02:12:10 +0000"  >&lt;p&gt;branch-0.10 requires &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3384&quot; title=&quot;HIVE JDBC module won&amp;#39;t compile under JDK1.7 as new methods added in JDBC specification&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3384&quot;&gt;&lt;del&gt;HIVE-3384&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13543527" author="cdrome" created="Fri, 4 Jan 2013 02:13:15 +0000"  >&lt;p&gt;branch-0.9 and trunk require &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3789&quot; title=&quot;Patch HIVE-3648 causing the majority of unit tests to fail on branch 0.9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3789&quot;&gt;&lt;del&gt;HIVE-3789&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13543535" author="cdrome" created="Fri, 4 Jan 2013 02:19:25 +0000"  >&lt;p&gt;Note that this patch requires &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3789&quot; title=&quot;Patch HIVE-3648 causing the majority of unit tests to fail on branch 0.9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3789&quot;&gt;&lt;del&gt;HIVE-3789&lt;/del&gt;&lt;/a&gt; for branch-0.9 and trunk and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3384&quot; title=&quot;HIVE JDBC module won&amp;#39;t compile under JDK1.7 as new methods added in JDBC specification&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3384&quot;&gt;&lt;del&gt;HIVE-3384&lt;/del&gt;&lt;/a&gt; for branch-0.10.&lt;/p&gt;

&lt;p&gt;Please apply this patch to all three versions.&lt;/p&gt;</comment>
                            <comment id="13544874" author="ashutoshc" created="Sat, 5 Jan 2013 20:40:17 +0000"  >&lt;p&gt;Chris,&lt;br/&gt;
I think underlying problem is &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3840&quot; title=&quot;hive cli null representation in output is inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3840&quot;&gt;&lt;del&gt;HIVE-3840&lt;/del&gt;&lt;/a&gt;. Once we fix that (via which null binary columns will be printed as NULL instead of null) this problem should go away. Right ?&lt;/p&gt;</comment>
                            <comment id="13696605" author="ashutoshc" created="Mon, 1 Jul 2013 06:18:23 +0000"  >&lt;p&gt;Now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3840&quot; title=&quot;hive cli null representation in output is inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3840&quot;&gt;&lt;del&gt;HIVE-3840&lt;/del&gt;&lt;/a&gt; is fixed. Is this still a problem?&lt;/p&gt;</comment>
                            <comment id="13704043" author="xuefuz" created="Wed, 10 Jul 2013 00:31:30 +0000"  >&lt;p&gt;I think &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3630&quot; title=&quot;udf_substr.q fails when using JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3630&quot;&gt;&lt;del&gt;HIVE-3630&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3840&quot; title=&quot;hive cli null representation in output is inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3840&quot;&gt;&lt;del&gt;HIVE-3840&lt;/del&gt;&lt;/a&gt; are dealing with two different issues: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3840&quot; title=&quot;hive cli null representation in output is inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3840&quot;&gt;&lt;del&gt;HIVE-3840&lt;/del&gt;&lt;/a&gt; is about inconsistency of null vs NULL, while &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3630&quot; title=&quot;udf_substr.q fails when using JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3630&quot;&gt;&lt;del&gt;HIVE-3630&lt;/del&gt;&lt;/a&gt; about an internal error causing a result diff of empty string vs NULL.&lt;/p&gt;

&lt;p&gt;With patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3840&quot; title=&quot;hive cli null representation in output is inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3840&quot;&gt;&lt;del&gt;HIVE-3840&lt;/del&gt;&lt;/a&gt;, the test fails with the following diff:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 36c36&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; NULL              NULL    NULL    NULL&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; NULL      NULL    NULL    NULL    NULL&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 184c184&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; NULL              NULL    NULL    NULL    A       AB      ABC     ABC     A       AB      ABC     ABC     B       BC      BC      BC      C       C       C       C               C       C       C       C       B       BC      BC      BC      A       AB      ABC     ABC&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; NULL      NULL    NULL    NULL    NULL    A       AB      ABC     ABC     A       AB      ABC     ABC     B       BC      BC      BC      C       C       C       C               C       C       C       C       B       BC      BC      BC      A       AB      ABC     ABC&lt;/p&gt;

&lt;p&gt;Compare it with the original diff in JDK7:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 36c36&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; NULL              NULL    NULL    NULL&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; NULL      NULL    NULL    NULL    NULL&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 184c184&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; NULL              NULL    NULL    NULL    A       AB      ABC     ABC     A       AB      ABC     ABC     B       BC      BC      BC      C       C       C       C               C       C       C       C       B       BC      BC      BC      A       AB      ABC     ABC&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; NULL      NULL    NULL    NULL    NULL    A       AB      ABC     ABC     A       AB      ABC     ABC     B       BC      BC      BC      C       C       C       C               C       C       C       C       B       BC      BC      BC      A       AB      ABC     ABC&lt;/p&gt;

&lt;p&gt;Please note that there is no &quot;null&quot; in the result any more, thanks to the patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3840&quot; title=&quot;hive cli null representation in output is inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3840&quot;&gt;&lt;del&gt;HIVE-3840&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;With patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3630&quot; title=&quot;udf_substr.q fails when using JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3630&quot;&gt;&lt;del&gt;HIVE-3630&lt;/del&gt;&lt;/a&gt;, the test passes.&lt;/p&gt;

&lt;p&gt;In fact, with JDK7, more test failures are observed because of output ordering, probably due to the iterator behaviour difference introduced in JDK7, same cause as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3630&quot; title=&quot;udf_substr.q fails when using JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3630&quot;&gt;&lt;del&gt;HIVE-3630&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;


</comment>
                            <comment id="13737266" author="brocknoland" created="Mon, 12 Aug 2013 19:31:31 +0000"  >&lt;p&gt;Xuefu, I don&apos;t follow your last comment. It seems this test is now passing on JDK7 and this JIRA can be resolved, is that what you are saying?&lt;/p&gt;</comment>
                            <comment id="13737427" author="xuefuz" created="Mon, 12 Aug 2013 22:10:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; No. I meant &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3630&quot; title=&quot;udf_substr.q fails when using JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3630&quot;&gt;&lt;del&gt;HIVE-3630&lt;/del&gt;&lt;/a&gt; is needed to allow JDK7 to pass. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3840&quot; title=&quot;hive cli null representation in output is inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3840&quot;&gt;&lt;del&gt;HIVE-3840&lt;/del&gt;&lt;/a&gt; addresses a different issue. The patch here probably needs to rebase because of changes introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3840&quot; title=&quot;hive cli null representation in output is inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3840&quot;&gt;&lt;del&gt;HIVE-3840&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13737448" author="brocknoland" created="Mon, 12 Aug 2013 22:25:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; udf_substr.q does not fail on JDK7 for me. I think we can close this.&lt;/p&gt;</comment>
                            <comment id="13737450" author="xuefuz" created="Mon, 12 Aug 2013 22:29:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; Okay. Feel free to close it if it&apos;s no longer reproducible. It was there a couple months back.&lt;/p&gt;</comment>
                            <comment id="13737466" author="brocknoland" created="Mon, 12 Aug 2013 22:45:46 +0000"  >&lt;p&gt;I am unable to reproduce despite repeated efforts. It seems something else fixed this therefore I am marking resolved. Please re-open if required.&lt;/p&gt;</comment>
                            <comment id="13737467" author="cdrome" created="Mon, 12 Aug 2013 22:46:27 +0000"  >&lt;p&gt;Sorry for jumping into the discussion late. Feel free to close this if it is no longer reproducible (&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;] thought that would be the case after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3840&quot; title=&quot;hive cli null representation in output is inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3840&quot;&gt;&lt;del&gt;HIVE-3840&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12623322">HIVE-3789</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12603418">HIVE-3384</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12648611">HIVE-4583</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12563211" name="HIVE-3630-0.10.patch" size="3761" author="cdrome" created="Fri, 4 Jan 2013 02:08:31 +0000"/>
                            <attachment id="12554584" name="HIVE-3630-0.9.patch" size="6936" author="cdrome" created="Wed, 21 Nov 2012 22:10:58 +0000"/>
                            <attachment id="12554585" name="HIVE-3630-trunk.patch" size="3761" author="cdrome" created="Wed, 21 Nov 2012 22:10:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 Jan 2013 20:40:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252654</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d1vz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74082</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3631] script_pipe.q fails when using JDK7</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3631</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive Runtime Error while closing operators: Hit error while closing ..&lt;/p&gt;

&lt;p&gt;The MR job fails on this test. Unfortunately, the exception is not all that helpful.&lt;/p&gt;

&lt;p&gt;I tracked this down to a class which attempts to close a stream that is already closed. Broken pipe exceptions are caught and not propagated further, but stream closed exception are not caught.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613842">HIVE-3631</key>
            <summary>script_pipe.q fails when using JDK7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cdrome">Chris Drome</assignee>
                                    <reporter username="cdrome">Chris Drome</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Oct 2012 05:24:42 +0000</created>
                <updated>Wed, 24 Jul 2013 17:04:51 +0000</updated>
                            <resolved>Mon, 6 May 2013 20:00:43 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13502407" author="cdrome" created="Wed, 21 Nov 2012 23:07:54 +0000"  >&lt;p&gt;Branch 0.9:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D6897&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6897&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Trunk:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D6909&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6909&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13502408" author="cdrome" created="Wed, 21 Nov 2012 23:11:14 +0000"  >&lt;p&gt;Attached branch 0.9 and trunk patches.&lt;/p&gt;</comment>
                            <comment id="13506358" author="ashutoshc" created="Thu, 29 Nov 2012 09:28:14 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13507036" author="hudson" created="Fri, 30 Nov 2012 01:53:02 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1826 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1826/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1826/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3631&quot; title=&quot;script_pipe.q fails when using JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3631&quot;&gt;&lt;del&gt;HIVE-3631&lt;/del&gt;&lt;/a&gt; : script_pipe.q fails when using JDK7 (Chris Drome via Ashutosh Chauhan) (Revision 1415278)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415278&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415278&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ScriptOperator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13543536" author="cdrome" created="Fri, 4 Jan 2013 02:20:41 +0000"  >&lt;p&gt;Added patch for branch-0.10&lt;/p&gt;</comment>
                            <comment id="13543537" author="cdrome" created="Fri, 4 Jan 2013 02:21:22 +0000"  >&lt;p&gt;branch-0.9 and trunk require &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3789&quot; title=&quot;Patch HIVE-3648 causing the majority of unit tests to fail on branch 0.9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3789&quot;&gt;&lt;del&gt;HIVE-3789&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13543538" author="cdrome" created="Fri, 4 Jan 2013 02:21:54 +0000"  >&lt;p&gt;branch-0.10 requires &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3384&quot; title=&quot;HIVE JDBC module won&amp;#39;t compile under JDK1.7 as new methods added in JDBC specification&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3384&quot;&gt;&lt;del&gt;HIVE-3384&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13543539" author="cdrome" created="Fri, 4 Jan 2013 02:22:59 +0000"  >&lt;p&gt;Reopening to patch branch-0.9 and branch-0.10.&lt;/p&gt;</comment>
                            <comment id="13543541" author="cdrome" created="Fri, 4 Jan 2013 02:24:05 +0000"  >&lt;p&gt;Please apply this patch to branch-0.9 and branch-0.10 as well.&lt;/p&gt;</comment>
                            <comment id="13548253" author="hudson" created="Wed, 9 Jan 2013 10:25:00 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3631&quot; title=&quot;script_pipe.q fails when using JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3631&quot;&gt;&lt;del&gt;HIVE-3631&lt;/del&gt;&lt;/a&gt; : script_pipe.q fails when using JDK7 (Chris Drome via Ashutosh Chauhan) (Revision 1415278)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415278&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415278&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ScriptOperator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13650049" author="owen.omalley" created="Mon, 6 May 2013 20:00:43 +0000"  >&lt;p&gt;Probably won&apos;t make 0.9 or 0.10 releases.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12623322">HIVE-3789</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12603418">HIVE-3384</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12648611">HIVE-4583</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12563217" name="HIVE-3631-0.10.patch" size="1257" author="cdrome" created="Fri, 4 Jan 2013 02:20:41 +0000"/>
                            <attachment id="12554596" name="HIVE-3631-0.9.patch" size="1090" author="cdrome" created="Wed, 21 Nov 2012 23:11:14 +0000"/>
                            <attachment id="12554597" name="HIVE-3631-trunk.patch" size="1257" author="cdrome" created="Wed, 21 Nov 2012 23:11:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Nov 2012 09:28:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252655</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d1w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74083</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3632] Upgrade datanucleus to support JDK7</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3632</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I found serious problems with datanucleus code when using JDK7, resulting in some sort of exception being thrown when datanucleus code is entered.&lt;/p&gt;

&lt;p&gt;I tried source=1.7, target=1.7 with JDK7 as well as source=1.6, target=1.6 with JDK7 and there was no visible difference in that the same unit tests failed.&lt;/p&gt;

&lt;p&gt;I tried upgrading datanucleus to 3.0.1, as per &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2084&quot; title=&quot;Upgrade datanucleus from 2.0.3 to a more recent version (3.?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2084&quot;&gt;&lt;del&gt;HIVE-2084&lt;/del&gt;&lt;/a&gt;.patch, which did not fix the failing tests.&lt;/p&gt;

&lt;p&gt;I tried upgrading datanucleus to 3.1-release, as per the advise of &lt;a href=&quot;http://www.datanucleus.org/servlet/jira/browse/NUCENHANCER-86&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.datanucleus.org/servlet/jira/browse/NUCENHANCER-86&lt;/a&gt;, which suggests using ASMv4 will allow datanucleus to work with JDK7. I was not successful with this either.&lt;/p&gt;

&lt;p&gt;I tried upgrading datanucleus to 3.1.2. I was not successful with this either.&lt;/p&gt;

&lt;p&gt;Regarding datanucleus support for JDK7+, there is the following JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.datanucleus.org/servlet/jira/browse/NUCENHANCER-81&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.datanucleus.org/servlet/jira/browse/NUCENHANCER-81&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;which suggests that they don&apos;t plan to actively support JDK7+ bytecode any time soon.&lt;/p&gt;

&lt;p&gt;I also tested the following JVM parameters found on&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://veerasundar.com/blog/2012/01/java-lang-verifyerror-expecting-a-stackmap-frame-at-branch-target-jdk-7/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://veerasundar.com/blog/2012/01/java-lang-verifyerror-expecting-a-stackmap-frame-at-branch-target-jdk-7/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;with no success either.&lt;/p&gt;

&lt;p&gt;This will become a more serious problem as people move to newer JVMs. If there are other who have solved this issue, please post how this was done. Otherwise, it is a topic that I would like to raise for discussion.&lt;/p&gt;

&lt;p&gt;Test Properties:&lt;br/&gt;
CLEAR LIBRARY CACHE&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613843">HIVE-3632</key>
            <summary>Upgrade datanucleus to support JDK7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="cdrome">Chris Drome</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Oct 2012 05:41:14 +0000</created>
                <updated>Tue, 15 Oct 2013 23:29:16 +0000</updated>
                            <resolved>Fri, 26 Jul 2013 15:35:35 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13498101" author="andy" created="Thu, 15 Nov 2012 16:15:44 +0000"  >&lt;p&gt;You refer to a DataNucleus JIRA issue that was marked fixed in June 2012. How does that imply that &quot;they don&apos;t plan to actively support JDK7+ bytecode any time soon&quot; ? DataNucleus 3.1.x supports JDK1.7+ and has for some time. There are 0 reported problems using DataNucleus v3.1 with JDK1.7. You don&apos;t define &quot;not successful&quot;&lt;/p&gt;</comment>
                            <comment id="13708637" author="xuefuz" created="Mon, 15 Jul 2013 16:59:39 +0000"  >&lt;p&gt;Since nobody is working on this, I will give it a shot.&lt;/p&gt;</comment>
                            <comment id="13708639" author="xuefuz" created="Mon, 15 Jul 2013 17:06:22 +0000"  >&lt;p&gt;To compile and run hive on JDK7, DataNucleus needs to be upgraded. The current plan is to upgrade using the following library versions:&lt;/p&gt;

&lt;p&gt;datanucleus-api-jdo-3.2.1.jar&lt;br/&gt;
datanucleus-rdbms-3.2.1.jar&lt;br/&gt;
datanucleus-core-3.2.2.jar.&lt;/p&gt;

&lt;p&gt;These versions work for both JDK6 and JDK7. After upgrade, there is only a few test failures with JDK6. Besides the unit tests, more tests will be conducted.&lt;/p&gt;

&lt;p&gt;This is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2084&quot; title=&quot;Upgrade datanucleus from 2.0.3 to a more recent version (3.?)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2084&quot;&gt;&lt;del&gt;HIVE-2084&lt;/del&gt;&lt;/a&gt;, but the goal here is slightly different. Of course, the upgrade needs to address all issues that may arise.&lt;/p&gt;</comment>
                            <comment id="13708673" author="ashutoshc" created="Mon, 15 Jul 2013 17:25:33 +0000"  >&lt;p&gt;I am all for updating DN. Huge +1&lt;br/&gt;
But we need to be wary of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2084?focusedCommentId=13014240&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13014240&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2084?focusedCommentId=13014240&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13014240&lt;/a&gt;&lt;br/&gt;
Feels like we might need to provide upgrade scripts for folks to migrate because of this.&lt;/p&gt;</comment>
                            <comment id="13713014" author="xuefuz" created="Thu, 18 Jul 2013 22:42:45 +0000"  >&lt;p&gt;Patch includes fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4858&quot; title=&quot;Sort &amp;quot;show grant&amp;quot; result to improve usability and testability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4858&quot;&gt;&lt;del&gt;HIVE-4858&lt;/del&gt;&lt;/a&gt;. Will rebase if it gets committed first.&lt;/p&gt;</comment>
                            <comment id="13713036" author="xuefuz" created="Thu, 18 Jul 2013 22:58:32 +0000"  >&lt;p&gt;Review board: &lt;a href=&quot;https://reviews.apache.org/r/12750/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/12750/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13713300" author="hiveqa" created="Fri, 19 Jul 2013 03:19:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 build exited with an error&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593080/HIVE-3632.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593080/HIVE-3632.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 254 failed/errored test(s)&lt;br/&gt;
Failed tests:&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testSimpleTypeApi&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDriverProperties&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServerSessions.testSessionVars&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveMetaStoreChecker.testTableCheck&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testSimpleTable&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testDynamicSerde&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column4&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testColumnStatistics&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats2&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDatabaseMetaData&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHive.testPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testAlterPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMetaStoreInitListener.testMetaStoreInitListener&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStoreIpAddress.testIpAddress&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testFilterSinglePartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testAlterTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testConcurrentMetastores&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHive.testGetAndDropTables&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_joins&lt;br/&gt;
org.apache.hadoop.hive.ql.history.TestHiveHistory.testQueryloglocParentDirNotExist&lt;br/&gt;
junit.framework.TestSuite.org.apache.hive.service.cli.TestEmbeddedThriftCLIService&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testPartition&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testIndex&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testGetConfigValue&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllFetchSize&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHive.testThriftTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testAlterTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testColumnStatistics&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_nonkey_groupby&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_scan_params&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testRenamePartition&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_missing_overwrite&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMetaStoreAuthorization.testMetaStoreAuthorization&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_wrong_distinct1&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column1&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_function4&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testDatabaseLocation&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testAlterPartition&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllMaxRows&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testSimpleTypeApi&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testSimpleTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testNameMethods&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testNonHiveCommand&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testErrorMessages&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_map_index&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_ppd_key_range&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testPartitionFilter&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testFilterSinglePartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testAlterViewParititon&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAll&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testColumnStatistics&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestSemanticAnalyzerHookLoading.testHookLoading&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_table1&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testComplexTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testColumnStatistics&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testAddFileShouldFailIfFileNotExist&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestHiveMetaTool.testListFSRoot&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testTableDatabase&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testScratchDirShouldNotClearWhileStartup&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testNameMethods&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testNullType&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDatabaseLocation&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_wrong_distinct2&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_index&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testDatabaseLocation&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testConcurrentMetastores&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column2&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testAlterPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testDatabaseLocationWithPermissionProblems&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testPartitionFilter&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testDatabaseLocationWithPermissionProblems&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithUnicode&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDatabaseLocationWithPermissionProblems&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testComplexTypeApi&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testSimpleTable&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats_empty_partition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testFilterLastPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testComplexTypeApi&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testGetClusterStatus&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testConcurrentMetastores&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testPartitionFilter&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testSynchronized&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testTableFilter&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHive.testIndex&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testFilterLastPartition&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHive.testTable&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetTableTypes&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testAlterPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDropTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testListPartitionNames&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetColumnsMetaData&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_map_queries&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testFilterSinglePartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMetaStoreEventListenerOnlyOnCommit.testEventStatus&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testDropTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_insert_wrong_number_columns&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testFilterLastPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDatabaseLocation&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testNameMethods&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMarkPartitionRemote.testMarkingPartitionSet&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSelectAllPartioned&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testTableFilter&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testGetConfigValue&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testSynchronized&lt;br/&gt;
org.apache.hadoop.hive.ql.TestLocationQueries.testAlterTablePartitionLocation_alter5&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveMetaStoreChecker.testPartitionsCheck&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testDatabase&lt;br/&gt;
org.apache.hadoop.hive.hwi.TestHWISessionManager.testHiveDriver&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDatabaseLocationWithPermissionProblems&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver_cascade_dbdrop&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_macro_reserved_word&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testNameMethods&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_table2&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testMetastore&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRetryingHMSHandler.testRetryingHMSHandler&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testNameMethods&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testListPartitionNames&lt;br/&gt;
org.apache.hadoop.hive.ql.security.TestDefaultHiveMetastoreAuthorizationProvider.testSimplePrivileges&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testAlterTable&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetTables&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testTableFilter&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testPartitionFilter&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testFilterLastPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testFilterSinglePartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testAlterViewParititon&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_pushdown&lt;br/&gt;
org.apache.hadoop.hive.ql.history.TestHiveHistory.testSimpleQuery&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithValidCharacters&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testResultSetMetaData&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_function2&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testFilterSinglePartition&lt;br/&gt;
junit.framework.TestSuite.org.apache.hive.beeline.src.test.TestBeeLineWithArgs&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testConcurrentMetastores&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testComplexTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMetaStoreListenersError.testEventListenerException&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_select&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testAlterViewParititon&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testComplexTable&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_ppd_key_ranges&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_list_index&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMetaStoreEndFunctionListener.testEndFunctionListener&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testConcurrentMetastores&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testHiveRefreshDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestHiveMetaStoreWithEnvironmentContext.testEnvironmentContext&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_external_table_queries&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testShowTables&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testAlterViewParititon&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMetaStoreEventListener.testListener&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetCatalogs&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testListPartitions&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAddPartitionWithValidPartVal&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testListPartitions&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_create_table&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testComplexTypeApi&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteUGIHiveMetaStoreIpAddress.testIpAddress&lt;br/&gt;
org.apache.hadoop.hive.ql.security.TestAuthorizationPreEventListener.testListener&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testDropTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testComplexTypeApi&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testTable&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testAddJarShouldFailIfJarNotExist&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column6&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testGetConfigValue&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testComplexTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_function3&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testSynchronized&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testExplainStmt&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testListPartitions&lt;br/&gt;
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_duplicate_alias&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testGetConfigValue&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSynchronized&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testPartition&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDescribeTable&lt;br/&gt;
org.apache.hadoop.hive.ql.io.TestSymlinkTextInputFormat.testCombine&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testAlterTable&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseMinimrCliDriver.testCliDriver_hbase_bulk&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_ambiguous_join_col&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testRenamePartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testDatabaseLocationWithPermissionProblems&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testDataTypes&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testSimpleTypeApi&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testAddArchiveShouldFailIfFileNotExist&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_binary_storage_queries&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestHiveMetaTool.testExecuteJDOQL&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testTableDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testListPartitionNames&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testRenamePartition&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_quoted_string&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testComplexTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testColumnStatistics&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestMarkPartition.testMarkingPartitionSet&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column5&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_function_param2&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testDropTable&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testTableDatabase&lt;br/&gt;
org.apache.hadoop.hive.ql.exec.TestOperators.testBaseFilterOperator&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testPartitionFilter&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testSetCommand&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testScratchDirShouldClearWhileStartup&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testDatabaseLocation&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_function1&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testListPartitions&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSimpleTypeApi&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testTableDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testDropTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_map_index2&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetColumns&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testRenamePartition&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testPrepareStatement&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestHiveMetaTool.testUpdateFSRootLocation&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testConversionsBaseResultSet&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testTableFilter&lt;br/&gt;
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testMetaDataGetSchemas&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testRenamePartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testListPartitions&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testListPartitionNames&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testThriftTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_garbage&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testAlterPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testGetConfigValue&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats3&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestEmbeddedHiveMetaStore.testAlterViewParititon&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testComplexTypeApi&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_external_table_ppd&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testFilterLastPartition&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAddPartitionWithCommas&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testListPartitionNames&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_unknown_column3&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testTableFilter&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseNegativeCliDriver.testCliDriver_cascade_dbdrop_hadoop20&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHive.testHiveRefreshDatabase&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyClient.testSimpleTypeApi&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testGetAndDropTables&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnBothClientServer.testSimpleTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_list_index2&lt;br/&gt;
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_queries&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testFetch&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestSetUGIOnOnlyServer.testSynchronized&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testTableDatabase&lt;br/&gt;
org.apache.hadoop.hive.ql.exec.TestOperators.testScriptOperator&lt;br/&gt;
org.apache.hadoop.hive.service.TestHiveServer.testExecute&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testSimpleTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_shutdown&lt;br/&gt;
org.apache.hadoop.hive.metastore.TestRemoteHiveMetaStore.testAlterTable&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.TestParseNegative.testParseNegative_invalid_dot&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/86/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/86/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/86/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/86/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;br/&gt;
Executing org.apache.hive.ptest.execution.CleanupPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.PrepPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ExecutionPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ReportingPhase&lt;br/&gt;
Tests failed with: TestsFailedException: 254 tests failed&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13713324" author="xuefuz" created="Fri, 19 Jul 2013 04:15:37 +0000"  >&lt;p&gt;I believe these failures were caused by mismatched DN libraries. We need to either do a &quot;ant very-clean&quot; or remove ivy cache before launching the build. Or both.&lt;/p&gt;</comment>
                            <comment id="13713705" author="brocknoland" created="Fri, 19 Jul 2013 14:27:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; shoot, we support that internally via the kickout shell script. I haven&apos;t built that support for that yet because we have a client server model as opposed to directly invoking ptest2. I&apos;ll look at it today.&lt;/p&gt;</comment>
                            <comment id="13714091" author="sershe" created="Fri, 19 Jul 2013 21:23:58 +0000"  >&lt;p&gt;2 comments on RB&lt;/p&gt;</comment>
                            <comment id="13714144" author="ashutoshc" created="Fri, 19 Jul 2013 22:10:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; Please tease out &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4858&quot; title=&quot;Sort &amp;quot;show grant&amp;quot; result to improve usability and testability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4858&quot;&gt;&lt;del&gt;HIVE-4858&lt;/del&gt;&lt;/a&gt; bits from the patch. &lt;br/&gt;
It seems to me upgrade is required, we are changing column names. One way to test that is to create latest schema from script in metastore/scripts/upgrade/mysql in mysql, than apply your patch and than run tests against it. I will assume tests should fail because they wont find column names in mysql they are expecting.&lt;/p&gt;</comment>
                            <comment id="13714184" author="xuefuz" created="Fri, 19 Jul 2013 22:46:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; My incomplete test shows that no upgrade script is necessary. The change of column names was to fix mistakes in DN mapping file (package.jdo) where a few columns weren&apos;t matched with the actually column names in schema. Old DN didn&apos;t catch those, and worked magically. Thus, the patch is to fix the field mapping rather than changing db schema.&lt;/p&gt;

&lt;p&gt;One of my test was to create DB schema using hive-schema-0.10.0.mysql.sql, and start metastore on the top of it. This patch works fine.&lt;/p&gt;

&lt;p&gt;I said my test is incomplete as it didn&apos;t try in case of metastore schema auto create. I don&apos;t think there will be a problem, but it&apos;s a good thing to check too. Otherwise, I don&apos;t think there is a need for schema upgrade.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sergey.l.ivashin%40intel.com&quot; class=&quot;user-hover&quot; rel=&quot;sergey.l.ivashin@intel.com&quot;&gt;Ivashin Sergey&lt;/a&gt; As to your question in RB, this patch doesn&apos;t change connection pooling in any form. The change you observed is a &quot;missing&quot; jar, which is part of DN-rdbms jar in the new DN version. Here is the DN doc for your reference.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.datanucleus.org/products/datanucleus/migration.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.datanucleus.org/products/datanucleus/migration.html&lt;/a&gt; (search for datanucleus-connectionpool).&lt;/p&gt;

&lt;p&gt;I think Hive uses DBCP as a connection pool.&lt;/p&gt;</comment>
                            <comment id="13714317" author="xuefuz" created="Sat, 20 Jul 2013 03:14:12 +0000"  >&lt;p&gt;Patch updated with code for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4858&quot; title=&quot;Sort &amp;quot;show grant&amp;quot; result to improve usability and testability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4858&quot;&gt;&lt;del&gt;HIVE-4858&lt;/del&gt;&lt;/a&gt; stripped.&lt;/p&gt;</comment>
                            <comment id="13714414" author="brocknoland" created="Sat, 20 Jul 2013 12:46:54 +0000"  >&lt;p&gt;The patch &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3632&quot; title=&quot;Upgrade datanucleus to support JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3632&quot;&gt;&lt;del&gt;HIVE-3632&lt;/del&gt;&lt;/a&gt;.patch.1&quot; is not in the correct format for the precommit tests and I&apos;d like to see it run. Therefore I am re-uploading the exact same patch named as &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3632&quot; title=&quot;Upgrade datanucleus to support JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3632&quot;&gt;&lt;del&gt;HIVE-3632&lt;/del&gt;&lt;/a&gt;.1.patch&quot;.&lt;/p&gt;</comment>
                            <comment id="13714427" author="hiveqa" created="Sat, 20 Jul 2013 13:32:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593335/HIVE-3632.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593335/HIVE-3632.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/110/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/110/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/110/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/110/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Tests failed with: InterruptedException: null
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13714457" author="hiveqa" created="Sat, 20 Jul 2013 15:40:35 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593335/HIVE-3632.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593335/HIVE-3632.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2646 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/111/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/111/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/111/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/111/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13714463" author="appodictic" created="Sat, 20 Jul 2013 15:50:59 +0000"  >&lt;p&gt;Can we open a separate patch to fix the mapping file and trest and commit that first.&lt;/p&gt;</comment>
                            <comment id="13714470" author="xuefuz" created="Sat, 20 Jul 2013 16:14:44 +0000"  >&lt;p&gt;I think that&apos;s a good idea. It avoids confusions. Will do that.&lt;/p&gt;</comment>
                            <comment id="13714593" author="brocknoland" created="Sun, 21 Jul 2013 01:26:27 +0000"  >&lt;p&gt;These new libraries were causing most tests to fail. Until we finish this upgrade I have enabled deletion of the library cache on all builds. I assume this versioning issue with the libraries is an ivy problem?&lt;/p&gt;</comment>
                            <comment id="13718907" author="ashutoshc" created="Wed, 24 Jul 2013 22:09:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; Now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4900&quot; title=&quot;Fix the mismatched column names in package.jdo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4900&quot;&gt;&lt;del&gt;HIVE-4900&lt;/del&gt;&lt;/a&gt; is in. Can you rebase this patch? Also few comments:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;+    METASTORE_USE_LEGACY_VALUE_STRATEGY(&quot;datanucleus.rdbms.useLegacyNativeValueStrategy&quot;, true), I don&apos;t know what this property does, can you briefly explain what it is and why we need it for the upgrade ?&lt;/li&gt;
	&lt;li&gt;Why we need to declare new deps in ql/ivy.xml Declaring them in metastore/ivy.xml should suffice.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13718946" author="xuefuz" created="Wed, 24 Jul 2013 22:35:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; Yes, it&apos;s an ivy problem, which keeps the old DN libs while bringing new ones.&lt;/p&gt;</comment>
                            <comment id="13718963" author="xuefuz" created="Wed, 24 Jul 2013 22:50:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; Thanks for your comments.&lt;/p&gt;

&lt;p&gt;0. Will base.&lt;br/&gt;
1. datanucleus.rdbms.useLegacyNativeValueStrategy is required because DN 3.x changed the way that default values are generated. Without this, metastore startup would fail while inserting default database entry. This is the error msg:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;javax.jdo.JDODataStoreException: Insert of object &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hive.metastore.model.MDatabase@176fbe79&quot;&lt;/span&gt; using statement &lt;span class=&quot;code-quote&quot;&gt;&quot;INSERT INTO `DBS` (`NAME`,`DESC`,`DB_LOCATION_URI`) VALUES (?,?,?)&quot;&lt;/span&gt; failed : Field &lt;span class=&quot;code-quote&quot;&gt;&apos;DB_ID&apos;&lt;/span&gt; doesn&apos;t have a &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; value
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Setting this property to true instructs DN that the old way of generating default values is used. More information can be found at &lt;a href=&quot;http://www.datanucleus.org/products/datanucleus/migration.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.datanucleus.org/products/datanucleus/migration.html&lt;/a&gt; (search for useLegacyNativeValueStrategy).&lt;/p&gt;

&lt;p&gt;2. DN deps in ql/ivy.xml is probably not needed. My patch was originally based on 0.10, where DN deps exist. I will test and remove if there is no need.&lt;/p&gt;</comment>
                            <comment id="13718999" author="xuefuz" created="Wed, 24 Jul 2013 23:09:49 +0000"  >&lt;p&gt;Patch is rebased and updated by removing deps in ql/ivy.xml.&lt;/p&gt;</comment>
                            <comment id="13719054" author="xuefuz" created="Wed, 24 Jul 2013 23:57:28 +0000"  >&lt;p&gt;Rebase patch (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3632&quot; title=&quot;Upgrade datanucleus to support JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3632&quot;&gt;&lt;del&gt;HIVE-3632&lt;/del&gt;&lt;/a&gt;.3.patch) based on latest trunk.&lt;/p&gt;</comment>
                            <comment id="13719467" author="hiveqa" created="Thu, 25 Jul 2013 10:09:05 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594065/HIVE-3632.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594065/HIVE-3632.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2651 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/178/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/178/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/178/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/178/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13719613" author="hiveqa" created="Thu, 25 Jul 2013 13:35:11 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594065/HIVE-3632.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594065/HIVE-3632.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2651 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/180/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/180/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/180/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/180/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13719865" author="ashutoshc" created="Thu, 25 Jul 2013 18:16:38 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13720888" author="ashutoshc" created="Fri, 26 Jul 2013 15:35:36 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Xuefu!&lt;/p&gt;</comment>
                            <comment id="13795861" author="ashutoshc" created="Tue, 15 Oct 2013 23:29:16 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12658906">HIVE-4900</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12532680">HIVE-2609</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12502784">HIVE-2084</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12667054">HIVE-5218</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12660093">HIVE-4942</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12648611">HIVE-4583</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12593335" name="HIVE-3632.1.patch" size="9252" author="brocknoland" created="Sat, 20 Jul 2013 12:46:54 +0000"/>
                            <attachment id="12594054" name="HIVE-3632.2.patch" size="6484" author="xuefuz" created="Wed, 24 Jul 2013 23:09:49 +0000"/>
                            <attachment id="12594065" name="HIVE-3632.3.patch" size="6484" author="xuefuz" created="Wed, 24 Jul 2013 23:57:28 +0000"/>
                            <attachment id="12593080" name="HIVE-3632.patch" size="19498" author="xuefuz" created="Thu, 18 Jul 2013 22:42:45 +0000"/>
                            <attachment id="12593315" name="HIVE-3632.patch.1" size="9252" author="xuefuz" created="Sat, 20 Jul 2013 03:14:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 15 Nov 2012 16:15:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d1wn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74085</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3633] sort-merge join does not work with sub-queries</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3633</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Consider the following query:&lt;/p&gt;

&lt;p&gt;create table smb_bucket_1(key int, value string) CLUSTERED BY (key) SORTED BY (key) INTO 6 BUCKETS STORED AS TEXTFILE;&lt;br/&gt;
create table smb_bucket_2(key int, value string) CLUSTERED BY (key) SORTED BY (key) INTO 6 BUCKETS STORED AS TEXTFILE;&lt;/p&gt;

&lt;p&gt;&amp;#8211; load the above tables&lt;/p&gt;

&lt;p&gt;set hive.optimize.bucketmapjoin = true;&lt;br/&gt;
set hive.optimize.bucketmapjoin.sortedmerge = true;&lt;br/&gt;
set hive.input.format = org.apache.hadoop.hive.ql.io.BucketizedHiveInputFormat;&lt;/p&gt;



&lt;p&gt;explain&lt;br/&gt;
select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from&lt;br/&gt;
(&lt;br/&gt;
select /&lt;b&gt;+mapjoin(a)&lt;/b&gt;/ a.key as key1, b.key as key2, a.value as value1, b.value as value2&lt;br/&gt;
from smb_bucket_1 a join smb_bucket_2 b on a.key = b.key)&lt;br/&gt;
subq;&lt;/p&gt;


&lt;p&gt;The above query does not use sort-merge join. This would be very useful as we automatically convert the queries to use sorting and bucketing properties for join.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613846">HIVE-3633</key>
            <summary>sort-merge join does not work with sub-queries</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Oct 2012 06:17:03 +0000</created>
                <updated>Thu, 16 May 2013 21:10:09 +0000</updated>
                            <resolved>Wed, 19 Dec 2012 01:21:59 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13493945" author="namit" created="Fri, 9 Nov 2012 11:39:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6615&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6615&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13498230" author="namit" created="Thu, 15 Nov 2012 18:44:21 +0000"  >&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="13504353" author="namit" created="Tue, 27 Nov 2012 04:05:50 +0000"  >&lt;p&gt;There were some comments on phabricator by Kevin&lt;/p&gt;</comment>
                            <comment id="13504513" author="namit" created="Tue, 27 Nov 2012 10:40:32 +0000"  >&lt;p&gt;comments addressed &amp;#8211; all tests passed&lt;/p&gt;</comment>
                            <comment id="13506732" author="kevinwilfong" created="Thu, 29 Nov 2012 19:56:14 +0000"  >&lt;p&gt;Added a bunch of comments on the diff.  It&apos;s mostly minor things and questions to make sure I understand the logic.&lt;/p&gt;</comment>
                            <comment id="13508574" author="namit" created="Mon, 3 Dec 2012 08:30:55 +0000"  >&lt;p&gt;comments addressed, and ran tests &lt;/p&gt;</comment>
                            <comment id="13510084" author="kevinwilfong" created="Tue, 4 Dec 2012 22:40:24 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13531326" author="kevinwilfong" created="Thu, 13 Dec 2012 18:48:45 +0000"  >&lt;p&gt;Namit, can you refresh one more time.&lt;/p&gt;</comment>
                            <comment id="13533766" author="namit" created="Mon, 17 Dec 2012 09:32:54 +0000"  >&lt;p&gt;refreshed, and also attached the new file&lt;/p&gt;</comment>
                            <comment id="13534142" author="kevinwilfong" created="Mon, 17 Dec 2012 18:18:16 +0000"  >&lt;p&gt;Thanks Namit, running tests.&lt;/p&gt;</comment>
                            <comment id="13534334" author="kevinwilfong" created="Mon, 17 Dec 2012 21:45:01 +0000"  >&lt;p&gt;The output of the new testcase appears to be nondeterministic.  Can you update.&lt;/p&gt;

&lt;p&gt;I pointed out one nondeterministic query in Phabricator.&lt;/p&gt;</comment>
                            <comment id="13534637" author="namit" created="Tue, 18 Dec 2012 04:42:31 +0000"  >&lt;p&gt;addressed comments - made new tests deterministic&lt;/p&gt;</comment>
                            <comment id="13535539" author="kevinwilfong" created="Wed, 19 Dec 2012 01:21:59 +0000"  >&lt;p&gt;Committed, thanks Namit.&lt;/p&gt;</comment>
                            <comment id="13535954" author="hudson" created="Wed, 19 Dec 2012 13:38:23 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1865 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1865/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1865/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3633&quot; title=&quot;sort-merge join does not work with sub-queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3633&quot;&gt;&lt;del&gt;HIVE-3633&lt;/del&gt;&lt;/a&gt;. sort-merge join does not work with sub-queries. (njain via kevinwilfong) (Revision 1423731)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1423731&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1423731&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DummyStoreOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/OperatorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapJoinOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapJoinOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QB.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBJoinTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TableAccessAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DummyStoreDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/SMBJoinDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_14.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_14.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548340" author="hudson" created="Wed, 9 Jan 2013 10:25:21 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3633&quot; title=&quot;sort-merge join does not work with sub-queries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3633&quot;&gt;&lt;del&gt;HIVE-3633&lt;/del&gt;&lt;/a&gt;. sort-merge join does not work with sub-queries. (njain via kevinwilfong) (Revision 1423731)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1423731&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1423731&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DummyStoreOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/OperatorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/SMBMapJoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractBucketJoinProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapJoinOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapJoinOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QB.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBJoinTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TableAccessAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DummyStoreDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/SMBJoinDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_14.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_14.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12623099">HIVE-3784</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12618527">HIVE-3763</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12604358">HIVE-3403</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12552825" name="hive.3633.1.patch" size="8928" author="namit" created="Fri, 9 Nov 2012 11:39:30 +0000"/>
                            <attachment id="12561263" name="hive.3633.10.patch" size="150526" author="namit" created="Mon, 17 Dec 2012 09:32:09 +0000"/>
                            <attachment id="12561423" name="hive.3633.11.patch" size="149371" author="namit" created="Tue, 18 Dec 2012 04:42:07 +0000"/>
                            <attachment id="12553653" name="hive.3633.2.patch" size="42895" author="namit" created="Thu, 15 Nov 2012 13:35:49 +0000"/>
                            <attachment id="12553682" name="hive.3633.3.patch" size="49520" author="namit" created="Thu, 15 Nov 2012 18:43:20 +0000"/>
                            <attachment id="12554124" name="hive.3633.4.patch" size="60573" author="namit" created="Mon, 19 Nov 2012 06:13:25 +0000"/>
                            <attachment id="12554159" name="hive.3633.5.patch" size="107505" author="namit" created="Mon, 19 Nov 2012 11:24:51 +0000"/>
                            <attachment id="12554325" name="hive.3633.6.patch" size="105963" author="namit" created="Tue, 20 Nov 2012 10:27:25 +0000"/>
                            <attachment id="12554972" name="hive.3633.7.patch" size="135180" author="namit" created="Tue, 27 Nov 2012 07:06:20 +0000"/>
                            <attachment id="12555707" name="hive.3633.8.patch" size="143056" author="namit" created="Mon, 3 Dec 2012 05:31:17 +0000"/>
                            <attachment id="12556112" name="hive.3633.9.patch" size="143056" author="namit" created="Wed, 5 Dec 2012 16:41:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 29 Nov 2012 19:56:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252660</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d1xb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74088</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3634] Utilize sorted traits of columns provided by some storage handler (hbase, etc.)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3634</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Some storage handler can provide rows sorted/bucketized on columns but this is not utilized by hive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613850">HIVE-3634</key>
            <summary>Utilize sorted traits of columns provided by some storage handler (hbase, etc.)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Oct 2012 06:37:43 +0000</created>
                <updated>Mon, 28 Jan 2013 05:45:48 +0000</updated>
                                                                            <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13485865" author="phabricator@reviews.facebook.net" created="Mon, 29 Oct 2012 06:51:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3634&quot; title=&quot;Utilize sorted traits of columns provided by some storage handler (hbase, etc.)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3634&quot;&gt;HIVE-3634&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Utilize sorted traits of columns provided by some storage handler (hbase, etc.)&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1927 Utilize sorted traits of columns provided by some storage handler (hbase, etc.)&lt;/p&gt;

&lt;p&gt;  Some storage handler can provide rows sorted/bucketized on columns but this is not utilized by hive.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D6279&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6279&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;br/&gt;
  hbase-handler/src/test/queries/positive/hbase_mapside_groupby.q&lt;br/&gt;
  hbase-handler/src/test/results/positive/hbase_mapside_groupby.q.out&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/SortedBucketizedStorageHandler.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/TableScanDesc.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/14919/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/14919/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13485867" author="navis" created="Mon, 29 Oct 2012 06:52:41 +0000"  >&lt;p&gt;The patch is just a quick-hack applying map group-by on hbase key column. It&apos;s way far from completed work.&lt;br/&gt;
I&apos;m expecting someone could make it more usable one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551163" name="HIVE-3634.D6279.1.patch" size="14947" author="phabricator@reviews.facebook.net" created="Mon, 29 Oct 2012 06:51:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Oct 2012 06:51:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252664</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d1yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3635]  allow &apos;t&apos;, &apos;T&apos;, &apos;1&apos;, &apos;f&apos;, &apos;F&apos;, and &apos;0&apos; to be allowable true/false values for the boolean hive type</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3635</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;interpret t as true and f as false for boolean types. PostgreSQL exports represent it that way.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613856">HIVE-3635</key>
            <summary> allow &apos;t&apos;, &apos;T&apos;, &apos;1&apos;, &apos;f&apos;, &apos;F&apos;, and &apos;0&apos; to be allowable true/false values for the boolean hive type</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="alo.alt">Alexander Alten-Lorenz</reporter>
                        <labels>
                            <label>TODOC14</label>
                    </labels>
                <created>Mon, 29 Oct 2012 07:07:45 +0000</created>
                <updated>Mon, 13 Apr 2015 04:02:32 +0000</updated>
                            <resolved>Fri, 7 Mar 2014 17:09:11 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13485874" author="alo.alt" created="Mon, 29 Oct 2012 07:12:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/7759/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7759/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13485878" author="esteban" created="Mon, 29 Oct 2012 07:30:07 +0000"  >&lt;p&gt;It might be good to add a property to maintain consistency if the user doesn&apos;t require this behavior by default. Probably something like &apos;hive.extended.boolean = &lt;span class=&quot;error&quot;&gt;&amp;#91;false|true&amp;#93;&lt;/span&gt;&apos; &lt;/p&gt;</comment>
                            <comment id="13486563" author="shreepadma" created="Tue, 30 Oct 2012 00:53:20 +0000"  >&lt;p&gt;The changes to LazyBoolean.java look good. +1 to what Esteban said. It would be good to have a way to turn this off. &lt;/p&gt;</comment>
                            <comment id="13486668" author="alo.alt" created="Tue, 30 Oct 2012 05:40:41 +0000"  >&lt;p&gt;+1 - will do&lt;/p&gt;</comment>
                            <comment id="13497847" author="cwsteinbach" created="Thu, 15 Nov 2012 08:45:56 +0000"  >&lt;p&gt;@Alex: I left some comments on reviewboard. Thanks.&lt;/p&gt;</comment>
                            <comment id="13500878" author="alo.alt" created="Tue, 20 Nov 2012 07:09:18 +0000"  >&lt;p&gt;Replaced available patch here with the newer one.&lt;/p&gt;</comment>
                            <comment id="13501252" author="appodictic" created="Tue, 20 Nov 2012 16:03:02 +0000"  >&lt;p&gt;Is this a standard? We have to be careful when we change behavior of already existing code.It seems like the right thing to do but their could be unexpected surprises. What is the standard? Is there one? What do other databases to besides postgres?&lt;/p&gt;</comment>
                            <comment id="13538847" author="namit" created="Sat, 22 Dec 2012 16:16:18 +0000"  >&lt;p&gt;Can you answer Edward&apos;s question ? and also refresh.&lt;/p&gt;</comment>
                            <comment id="13552512" author="alo.alt" created="Mon, 14 Jan 2013 08:41:23 +0000"  >&lt;p&gt;Sorry, missed this. I fixed the indentation only and replaced the attached one with the fixed one. No other code changes where done.&lt;/p&gt;
</comment>
                            <comment id="13888822" author="xuefuz" created="Sun, 2 Feb 2014 04:56:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alo.alt&quot; class=&quot;user-hover&quot; rel=&quot;alo.alt&quot;&gt;Alexander Alten-Lorenz&lt;/a&gt; I understand that this have been idle for a while, but are you interested in moving this forward?&lt;/p&gt;</comment>
                            <comment id="13907876" author="thejas" created="Fri, 21 Feb 2014 02:18:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; Does the standard say anything about this behavior ? What do other databases do ?&lt;/p&gt;</comment>
                            <comment id="13907972" author="xuefuz" created="Fri, 21 Feb 2014 05:19:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; I found no standard regarding this. SQL standards define three literal values for boolean: TRUE, FALSE, and UNKNOWN &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. The standard is also controversial, and as a result, different DB has different implementations &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;. &lt;/p&gt;

&lt;p&gt;It seems that only Postgre SQL allows this. Other legacy data, such as that in MS Access, may also have this. That&apos;s why I think it makes sense to have a configuration or serde property to turn this on only if it&apos;s desired.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://en.wikipedia.org/wiki/Boolean_data_type&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Boolean_data_type&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://community.actian.com/wiki/SQL_BOOLEAN_type&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://community.actian.com/wiki/SQL_BOOLEAN_type&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13908927" author="xuefuz" created="Fri, 21 Feb 2014 22:34:18 +0000"  >&lt;p&gt;Patch #1 is based on #0, but provides configuration parameter and test.&lt;/p&gt;</comment>
                            <comment id="13908960" author="xuefuz" created="Fri, 21 Feb 2014 23:01:58 +0000"  >&lt;p&gt;RB: &lt;a href=&quot;https://reviews.apache.org/r/18382/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18382/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13908968" author="xuefuz" created="Fri, 21 Feb 2014 23:10:26 +0000"  >&lt;p&gt;Patch #2 removed trailing spaces and added missing data file.&lt;/p&gt;</comment>
                            <comment id="13910109" author="hiveqa" created="Mon, 24 Feb 2014 08:59:39 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12630409/HIVE-3635.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12630409/HIVE-3635.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5177 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1465/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1465/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1465/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1465/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12630409&lt;/p&gt;</comment>
                            <comment id="13910453" author="xuefuz" created="Mon, 24 Feb 2014 16:32:23 +0000"  >&lt;p&gt;The test failures are unrelated to the patch, and they are seen in other test runs. Patch is ready for review.&lt;/p&gt;</comment>
                            <comment id="13922710" author="brocknoland" created="Thu, 6 Mar 2014 16:28:14 +0000"  >&lt;p&gt;+1 LGTM&lt;/p&gt;</comment>
                            <comment id="13924062" author="xuefuz" created="Fri, 7 Mar 2014 17:09:11 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks Brock for the review.&lt;/p&gt;</comment>
                            <comment id="14047292" author="lefty@hortonworks.com" created="Mon, 30 Jun 2014 00:28:54 +0000"  >&lt;p&gt;Added comment to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6586&quot; title=&quot;Update parameters in HiveConf.java after commit HIVE-6037&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6586&quot;&gt;&lt;del&gt;HIVE-6586&lt;/del&gt;&lt;/a&gt; so &lt;b&gt;hive.lazysimple.extended_boolean_literal&lt;/b&gt; won&apos;t get lost in the shuffle when &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; changes HiveConf.java.&lt;/p&gt;</comment>
                            <comment id="14210685" author="thejas" created="Thu, 13 Nov 2014 19:42:03 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                            <comment id="14491890" author="lefty@hortonworks.com" created="Mon, 13 Apr 2015 04:02:32 +0000"  >&lt;p&gt;Doc note:  &lt;b&gt;hive.lazysimple.extended_boolean_literal&lt;/b&gt; is documented in the wiki in two places.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-HiveSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Developer Guide &amp;#8211; Hive SerDe &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.lazysimple.extended_boolean_literal&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.lazysimple.extended_boolean_literal &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If the doc looks okay, we can remove the TODOC14 label from this jira.&lt;/p&gt;

&lt;p&gt;By the way, one typo in the parameter description was already fixed (&quot;Siimple&quot;) but two others remain (&quot;extened&quot; and camel caps for SerDe in &quot;LazySimpleSerde&quot;).  They&apos;re fixed in the doc.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12613046">HIVE-3604</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12630404" name="HIVE-3635.1.patch" size="17578" author="xuefuz" created="Fri, 21 Feb 2014 22:34:18 +0000"/>
                            <attachment id="12630409" name="HIVE-3635.2.patch" size="17761" author="xuefuz" created="Fri, 21 Feb 2014 23:10:26 +0000"/>
                            <attachment id="12554298" name="HIVE-3635.patch" size="915" author="alo.alt" created="Tue, 20 Nov 2012 07:08:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Oct 2012 07:30:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252670</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d1zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>New configuration, hive.lazysimple.extended_boolean_literal, needs to be documented.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3636] Catch the NPe when using ^D to exit from CLI</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3636</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The exit patch is just a quick hack to catch the NPE in order to allow ^D to exit hive without a stacktrace.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613857">HIVE-3636</key>
            <summary>Catch the NPe when using ^D to exit from CLI</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alo.alt">Alexander Alten-Lorenz</assignee>
                                    <reporter username="alo.alt">Alexander Alten-Lorenz</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Oct 2012 07:18:54 +0000</created>
                <updated>Thu, 10 Jan 2013 19:52:59 +0000</updated>
                            <resolved>Tue, 30 Oct 2012 05:39:42 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13485877" author="alo.alt" created="Mon, 29 Oct 2012 07:22:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/7760/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7760/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13485894" author="qwertymaniac" created="Mon, 29 Oct 2012 08:29:26 +0000"  >&lt;p&gt;This is no longer a problem on Hive trunk/recent releases. Was resolved (in a different manner) quite a while ago after a CLI refactor I think.&lt;/p&gt;</comment>
                            <comment id="13486564" author="shreepadma" created="Tue, 30 Oct 2012 00:55:26 +0000"  >&lt;p&gt;Yup, this is not a problem on the latest trunk. &lt;/p&gt;</comment>
                            <comment id="13486669" author="alo.alt" created="Tue, 30 Oct 2012 05:42:27 +0000"  >&lt;p&gt;Thanks, set to Fixed&lt;/p&gt;</comment>
                            <comment id="13549996" author="ashutoshc" created="Thu, 10 Jan 2013 19:52:59 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551166" name="HIVE-3636.patch" size="512" author="alo.alt" created="Mon, 29 Oct 2012 07:19:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 29 Oct 2012 08:29:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252671</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d20n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74103</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3637] groupby_neg_float.q fails with Hadoop23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3637</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive creates an empty file as a hack to get Hadoop to run a mapper.&lt;/p&gt;

&lt;p&gt;This no longer works with Hadoop23, causing this test to fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613947">HIVE-3637</key>
            <summary>groupby_neg_float.q fails with Hadoop23</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cdrome">Chris Drome</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Oct 2012 20:49:47 +0000</created>
                <updated>Tue, 30 Oct 2012 00:00:20 +0000</updated>
                                            <version>0.9.1</version>
                    <version>0.10.0</version>
                                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13486531" author="shreepadma" created="Tue, 30 Oct 2012 00:00:20 +0000"  >&lt;p&gt;@Chris: Can you update the JIRA with the failure you see on Hadoop23? Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Oct 2012 00:00:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252872</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d9yf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3638] metadataonly1.q test fails with Hadoop23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3638</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive creates an empty file as a hack to get Hadoop to run a mapper.&lt;/p&gt;

&lt;p&gt;This no longer works with Hadoop23, causing this test to fail. Note that this tests empty partitions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613948">HIVE-3638</key>
            <summary>metadataonly1.q test fails with Hadoop23</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cdrome">Chris Drome</reporter>
                        <labels>
                    </labels>
                <created>Mon, 29 Oct 2012 20:51:32 +0000</created>
                <updated>Fri, 18 Jan 2013 19:21:56 +0000</updated>
                                            <version>0.9.1</version>
                    <version>0.10.0</version>
                                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13486555" author="shreepadma" created="Tue, 30 Oct 2012 00:39:20 +0000"  >&lt;p&gt;@Chris: Can you update the JIRA with the change in behavior? In the case of this particular test, Hive deviates from the SQL standard and outputs an empty result set instead of a NULL result set when an aggregate function is run on an empty table/partition. I believe MR2 generates splits even though the input directory in empty and Hive in turn outputs an empty result set. The behavior on MR1 used to be the same as MR2, until a recent change that went into HDFS. It would really help to see the failure you are seeing on hadoop23.&lt;/p&gt;</comment>
                            <comment id="13486597" author="cdrome" created="Tue, 30 Oct 2012 01:43:04 +0000"  >&lt;p&gt;@Shreepadma: I had traced the code a while back and found that Hive was creating an empty file for these types of queries. Hadoop20 didn&apos;t care that the file was empty and would create a split, which would get a mapper. With Hadoop23 I noticed that there is a condition which checks to see whether the file is empty or not. If it is empty it doesn&apos;t create a split and hence doesn&apos;t get a mapper. In this way Hive could trick Hadoop20 into running an MR job, but this tactic doesn&apos;t work on Hadoop23. I don&apos;t remember the classes off-hand.&lt;/p&gt;

&lt;p&gt;Here is the diff of the generated vs expected output. If I remember correctly, when no splits are generated it returns NULL.&lt;/p&gt;

&lt;p&gt;Line 84: select max(ds) from TEST1; (no partitions exist)&lt;br/&gt;
Line 211: alter table TEST1 add partition (ds=&apos;1&apos;); select max(ds) from TEST1;&lt;br/&gt;
Line 337: select count(distinct ds) from TEST1;&lt;br/&gt;
Line 1080: alter table TEST2 add partition (ds=&apos;1&apos;, hr=&apos;1&apos;); alter table TEST2 add partition (ds=&apos;1&apos;, hr=&apos;2&apos;); alter table TEST2 add partition (ds=&apos;1&apos;, hr=&apos;3&apos;); select ds, count(distinct hr) from TEST2 group by ds;&lt;br/&gt;
Line 1453: alter table TEST1 add partition (ds=&apos;2&apos;); select max(ds) from TEST1;&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; diff -a /export/crawlspace/cdrome/workspace/hive/build/ql/test/logs/clientpositive/metadataonly1.q.out /export/crawlspace/cdrome/workspace/hive/ql/src/test/results/clientpositive/metadataonly1.q.out&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 84c84&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; NULL&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 211c211&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; NULL&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; 1&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 337c337&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; 0&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; 1&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 1080a1081&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; 1 3&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 1453c1454&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; NULL&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; 2&lt;/p&gt;</comment>
                            <comment id="13486602" author="shreepadma" created="Tue, 30 Oct 2012 01:57:23 +0000"  >&lt;p&gt;Yes, thats correct. When no splits are generated Hive takes a different code path and a NULL is emitted from the closeOp() of the groupByOperator. I originally noticed this problem with hadoop20 after &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-3672&quot; title=&quot;Expose disk-location information for blocks to enable better scheduling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-3672&quot;&gt;&lt;del&gt;HDFS-3672&lt;/del&gt;&lt;/a&gt; was committed. I believe &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-4470&quot; title=&quot;Fix TestCombineFileInputFormat.testForEmptyFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-4470&quot;&gt;&lt;del&gt;MAPREDUCE-4470&lt;/del&gt;&lt;/a&gt; fixes the behavior on hadoop23 i.e., hadoop23 generates 1 split even when the directory is empty. I checked the behavior on hadoop20 and hadoop23 a month or so back and behavior seemed consistent with the empty result set. However, NULL is the correct behavior as per the SQL standard. Do you see this difference in behavior on the latest trunk? Thanks.&lt;/p&gt;</comment>
                            <comment id="13486609" author="navis" created="Tue, 30 Oct 2012 02:32:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2955&quot; title=&quot;Queries consists of metadata-only-query returns always empty value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2955&quot;&gt;&lt;del&gt;HIVE-2955&lt;/del&gt;&lt;/a&gt; started writing dummy value for empty file preventing being removed at CombineHiveInputFormatter. Could you try run test with the patch?&lt;/p&gt;

&lt;p&gt;And.. First one (at line 84) should be null, IMHO. It could be a different issue.&lt;/p&gt;</comment>
                            <comment id="13555534" author="thiruvel" created="Wed, 16 Jan 2013 22:20:42 +0000"  >&lt;p&gt;Following is the failure with branch 10 and Hadoop 0.23.5.&lt;/p&gt;

&lt;p&gt;..&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 84c84&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; NULL&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; &lt;br/&gt;
..&lt;/p&gt;

&lt;p&gt;The same does not happen when this test case is run with Hadoop 2.0.0-alpha or 2.0.2-alpha. Looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3952&quot; title=&quot;In MR2, when Total input paths to process == 1, CombinefileInputFormat.getSplits() returns 0 split.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-3952&quot;&gt;&lt;del&gt;MAPREDUCE-3952&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-4470&quot; title=&quot;Fix TestCombineFileInputFormat.testForEmptyFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-4470&quot;&gt;&lt;del&gt;MAPREDUCE-4470&lt;/del&gt;&lt;/a&gt; are responsible. After building Hadoop 0.23.5 with &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3952&quot; title=&quot;In MR2, when Total input paths to process == 1, CombinefileInputFormat.getSplits() returns 0 split.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-3952&quot;&gt;&lt;del&gt;MAPREDUCE-3952&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-4470&quot; title=&quot;Fix TestCombineFileInputFormat.testForEmptyFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-4470&quot;&gt;&lt;del&gt;MAPREDUCE-4470&lt;/del&gt;&lt;/a&gt; and using it, this patch succeeds. (&lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-3952&quot; title=&quot;In MR2, when Total input paths to process == 1, CombinefileInputFormat.getSplits() returns 0 split.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-3952&quot;&gt;&lt;del&gt;MAPREDUCE-3952&lt;/del&gt;&lt;/a&gt; was raised due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2783&quot; title=&quot;Predicate Pushdown failure a view with union when using MapReduce2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2783&quot;&gt;&lt;del&gt;HIVE-2783&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13557299" author="ashutoshc" created="Fri, 18 Jan 2013 15:52:20 +0000"  >&lt;p&gt;Shall this be closed as Cannot Reproduce? Since we run with 2.0.0-alpha and latest builds also doesn&apos;t report this failure. &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/lastCompletedBuild/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/lastCompletedBuild/testReport/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13557500" author="cdrome" created="Fri, 18 Jan 2013 19:21:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;: Can we keep this open until I can get approval from my manager that it is a non-issue when we move to 2.0. Currently we are still building on 0.23, so it is an issue for us.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Oct 2012 00:39:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252873</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d9yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75543</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3639] join order across mutiple joins</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3639</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This came up during a discussion with Sambavi - please add any details I may&lt;br/&gt;
have missed.&lt;/p&gt;

&lt;p&gt;For a query of the form:&lt;/p&gt;

&lt;p&gt;select ..&lt;br/&gt;
from&lt;br/&gt;
A join B on A.c1 = B.c1&lt;br/&gt;
join C on B.c2=C.c2;&lt;/p&gt;


&lt;p&gt;A,B are joined first and the result is then joined with C.&lt;br/&gt;
This is clearly sub-optimal if A is the largest table, in which case&lt;br/&gt;
B and C should be joined first, and then the result should be joined with A.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12613998">HIVE-3639</key>
            <summary>join order across mutiple joins</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Oct 2012 07:11:09 +0000</created>
                <updated>Wed, 5 Dec 2012 09:06:35 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13486741" author="navis" created="Tue, 30 Oct 2012 08:46:06 +0000"  >&lt;p&gt;If join type is same, reordering could be a good optimization point. Doing &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt;, I&apos;ve had similar thoughts.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Oct 2012 08:46:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253112</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dbl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3640] Reducer allocation is incorrect if enforce bucketing and mapred.reduce.tasks are both set</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3640</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When I enforce bucketing and fix the number of reducers via mapred.reduce.tasks Hive ignores my input and instead takes the largest value &amp;lt;= hive.exec.reducers.max that is also an even divisor of num_buckets. In other words, if I set 1024 buckets and set mapred.reduce.tasks=1024 I&apos;ll get. . . 256 reducers. If I set 1997 buckets and set mapred.reduce.tasks=1997 I&apos;ll get. . . 1 reducer. &lt;/p&gt;

&lt;p&gt;This is totally crazy, and it&apos;s far, far crazier when the data inputs get large. In the latter case the bucketing job will almost certainly fail because we&apos;ll most likely try to stuff several TB of input through a single reducer. We&apos;ll also drastically reduce the effectiveness of bucketing, since the buckets themselves will be larger.&lt;/p&gt;

&lt;p&gt;If the user sets mapred.reduce.tasks in a query that inserts into a bucketed table we should either accept that value or raise an exception if it&apos;s invalid relative to the number of buckets. We should absolutely NOT override the user&apos;s direction and fall back on automatically allocating reducers based on some obscure logic dictated by completely different setting. &lt;/p&gt;

&lt;p&gt;I have yet to encounter a single person who expected this the first time, so it&apos;s clearly a bug.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614001">HIVE-3640</key>
            <summary>Reducer allocation is incorrect if enforce bucketing and mapred.reduce.tasks are both set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vighnesh.avadhani">Vighnesh Avadhani</assignee>
                                    <reporter username="vighnesh.avadhani">Vighnesh Avadhani</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Oct 2012 08:03:57 +0000</created>
                <updated>Thu, 10 Jan 2013 19:52:58 +0000</updated>
                            <resolved>Sat, 3 Nov 2012 00:27:36 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                    <timeoriginalestimate seconds="172800">48h</timeoriginalestimate>
                            <timeestimate seconds="172800">48h</timeestimate>
                                        <comments>
                            <comment id="13486729" author="vighnesh.avadhani" created="Tue, 30 Oct 2012 08:24:17 +0000"  >&lt;p&gt;Fixd bug and added corresponding unit test&lt;/p&gt;</comment>
                            <comment id="13486736" author="namit" created="Tue, 30 Oct 2012 08:32:15 +0000"  >&lt;p&gt;Can you create a review request using&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/Hive/phabricatorcodereview.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/Hive/phabricatorcodereview.html&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="13487061" author="vighnesh.avadhani" created="Tue, 30 Oct 2012 17:50:10 +0000"  >&lt;p&gt;Done: &lt;a href=&quot;https://reviews.facebook.net/D6327&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6327&lt;/a&gt;&lt;br/&gt;
I could not use arc diff --jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3640&quot; title=&quot;Reducer allocation is incorrect if enforce bucketing and mapred.reduce.tasks are both set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3640&quot;&gt;&lt;del&gt;HIVE-3640&lt;/del&gt;&lt;/a&gt; as it was throwing:&lt;br/&gt;
PHP Fatal error:  Call to undefined method ArcanistGitAPI::amendGitHeadCommit() in /Users/vighnesh/hive/.arc_jira_lib/arcanist/ArcJIRAConfiguration.php on line 173&lt;/p&gt;</comment>
                            <comment id="13488862" author="kevinwilfong" created="Thu, 1 Nov 2012 17:32:24 +0000"  >&lt;p&gt;Couple minor comments on the diff.&lt;/p&gt;

&lt;p&gt;Could you also hit the &quot;Submit Patch&quot; button to mark the JIRA &quot;Patch Available&quot; so reviewers know to review the diff.&lt;/p&gt;</comment>
                            <comment id="13488962" author="kevinwilfong" created="Thu, 1 Nov 2012 19:31:30 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13489871" author="kevinwilfong" created="Sat, 3 Nov 2012 00:27:36 +0000"  >&lt;p&gt;Committed, thanks Vighnesh.&lt;/p&gt;</comment>
                            <comment id="13489883" author="vighnesh.avadhani" created="Sat, 3 Nov 2012 00:47:32 +0000"  >&lt;p&gt;Thanks for committing Kevin.&lt;/p&gt;</comment>
                            <comment id="13489996" author="hudson" created="Sat, 3 Nov 2012 11:36:38 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1771 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1771/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1771/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3640&quot; title=&quot;Reducer allocation is incorrect if enforce bucketing and mapred.reduce.tasks are both set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3640&quot;&gt;&lt;del&gt;HIVE-3640&lt;/del&gt;&lt;/a&gt;. Reducer allocation is incorrect if enforce bucketing and mapred.reduce.tasks are both set. (Vighnesh Avadhani via kevinwilfong) (Revision 1405240)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1405240&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1405240&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/hooks/VerifyNumReducersForBucketsHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucket_num_reducers.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_num_reducers.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548343" author="hudson" created="Wed, 9 Jan 2013 10:25:22 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3640&quot; title=&quot;Reducer allocation is incorrect if enforce bucketing and mapred.reduce.tasks are both set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3640&quot;&gt;&lt;del&gt;HIVE-3640&lt;/del&gt;&lt;/a&gt;. Reducer allocation is incorrect if enforce bucketing and mapred.reduce.tasks are both set. (Vighnesh Avadhani via kevinwilfong) (Revision 1405240)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1405240&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1405240&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/hooks/VerifyNumReducersForBucketsHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucket_num_reducers.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_num_reducers.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13549991" author="ashutoshc" created="Thu, 10 Jan 2013 19:52:58 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551321" name="HIVE-3640.1.patch.txt" size="5512" author="vighnesh.avadhani" created="Tue, 30 Oct 2012 08:24:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Oct 2012 08:32:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253115</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dblr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75809</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3641] Hive List Bucketing - Query logic supports &lt;&gt;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3641</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive List Bucketing - Query logic supports &amp;lt;&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614071">HIVE-3641</key>
            <summary>Hive List Bucketing - Query logic supports &lt;&gt;</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Oct 2012 18:59:02 +0000</created>
                <updated>Thu, 29 Nov 2012 19:36:01 +0000</updated>
                                            <version>0.10.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13488452" author="namit" created="Thu, 1 Nov 2012 04:35:52 +0000"  >&lt;p&gt;non-String types should also be handled for &amp;lt;&amp;gt; etc.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12555256">HIVE-3026</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12610884">HIVE-3554</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 1 Nov 2012 04:35:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253196</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dcd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75932</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3642] Hive List Bucketing - optimize transform()</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3642</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In list bucketing transform(), we create pruning tree for each partition. &lt;/p&gt;

&lt;p&gt;Although it is possible that different partitions have different skewed keys, chances are that there will be a lot of overlap.&lt;/p&gt;

&lt;p&gt;It would be a good idea to optimize that case.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12614074">HIVE-3642</key>
            <summary>Hive List Bucketing - optimize transform()</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Oct 2012 19:23:21 +0000</created>
                <updated>Thu, 29 Nov 2012 19:36:12 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12555256">HIVE-3026</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12610884">HIVE-3554</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dcdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3643] Hive List Bucketing - set hive.mapred.supports.subdirectories</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3643</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3276&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3276&lt;/a&gt; is in, the parameter&lt;br/&gt;
hive.mapred.supports.subdirectories should be set for all positive tests (query etc.)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614075">HIVE-3643</key>
            <summary>Hive List Bucketing - set hive.mapred.supports.subdirectories</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Oct 2012 20:03:11 +0000</created>
                <updated>Thu, 24 Apr 2014 06:02:08 +0000</updated>
                            <resolved>Wed, 31 Oct 2012 17:46:23 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13488006" author="gangtimliu" created="Wed, 31 Oct 2012 17:46:23 +0000"  >&lt;p&gt;It&apos;s handled in hive-3554&lt;/p&gt;</comment>
                            <comment id="13550077" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:17 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12599401">HIVE-3276</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12610884">HIVE-3554</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Jan 2013 19:53:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253200</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dcdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3644] Connection String for ZK need to be constructed for more than one server.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3644</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Curretnly, connection string constructed for zookeeper is forced to configure one zk server for the property hive.zookeeper.quorum.&lt;/p&gt;

&lt;p&gt;It should able to create zookeeper connection string for more than one zk servers.&lt;br/&gt;
ex : hive.zookeeper.quorum=host1,host2,host3&lt;br/&gt;
connectionString should be : &quot;host1:port,host2:port,host3:port&quot;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop-2.0 + Hive-Trunk&lt;/p&gt;</environment>
        <key id="12614124">HIVE-3644</key>
            <summary>Connection String for ZK need to be constructed for more than one server.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rohithsharma">Rohith Sharma K S</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Oct 2012 04:56:27 +0000</created>
                <updated>Wed, 31 Oct 2012 05:38:54 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>Locking</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13487533" author="rohithsharma" created="Wed, 31 Oct 2012 05:07:36 +0000"  >&lt;p&gt;I will give patch for this defect.&lt;/p&gt;</comment>
                            <comment id="13487557" author="rohithsharma" created="Wed, 31 Oct 2012 05:38:54 +0000"  >&lt;p&gt;I have attached patch. Please review the patch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551490" name="HIVE-3644.1.patch" size="2143" author="rohithsharma" created="Wed, 31 Oct 2012 05:38:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253253</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dcs7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76000</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3645] RCFileWriter does not implement the right function to support Federation</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3645</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Create a table using Hive DDL&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE tmp_hcat_federated_numbers_part_1 (
  id       &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,  
  intnum   &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
  floatnum &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;
)partitioned by (
  part1    string,
  part2    string
)
STORED AS rcfile
LOCATION &lt;span class=&quot;code-quote&quot;&gt;&apos;viewfs:&lt;span class=&quot;code-comment&quot;&gt;///database/tmp_hcat_federated_numbers_part_1&apos;&lt;/span&gt;;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Populate it using Pig:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;A = load &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.numbers_pig&apos;&lt;/span&gt; using org.apache.hcatalog.pig.HCatLoader();
B = filter A by id &amp;lt;=  500;
C = foreach B generate (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)id, (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)intnum, (&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;)floatnum;
store C into
        &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.tmp_hcat_federated_numbers_part_1&apos;&lt;/span&gt;
        using org.apache.hcatalog.pig.HCatStorer
       (&lt;span class=&quot;code-quote&quot;&gt;&apos;part1=pig, part2=hcat_pig_insert&apos;&lt;/span&gt;,
        &lt;span class=&quot;code-quote&quot;&gt;&apos;id: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,intnum: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,floatnum: &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;&apos;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Generates the following error when running on a Federated Cluster:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;2012-10-29 20:40:25,011 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; ERROR&lt;br/&gt;
org.apache.pig.tools.pigstats.SimplePigStats - ERROR 2997: Unable to recreate&lt;br/&gt;
exception from backed error: AttemptID:attempt_1348522594824_0846_m_000000_3&lt;br/&gt;
Info:Error: org.apache.hadoop.fs.viewfs.NotInMountpointException:&lt;br/&gt;
getDefaultReplication on empty path is invalid&lt;br/&gt;
        at&lt;br/&gt;
org.apache.hadoop.fs.viewfs.ViewFileSystem.getDefaultReplication(ViewFileSystem.java:479)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.RCFile$Writer.&amp;lt;init&amp;gt;(RCFile.java:723)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.RCFile$Writer.&amp;lt;init&amp;gt;(RCFile.java:705)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.hadoop.hive.ql.io.RCFileOutputFormat.getRecordWriter(RCFileOutputFormat.java:86)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.hcatalog.mapreduce.FileOutputFormatContainer.getRecordWriter(FileOutputFormatContainer.java:100)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.hcatalog.mapreduce.HCatOutputFormat.getRecordWriter(HCatOutputFormat.java:228)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.pig.backend.hadoop.executionengine.mapReduceLayer.PigOutputFormat.getRecordWriter(PigOutputFormat.java:84)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.hadoop.mapred.MapTask$NewDirectOutputCollector.&amp;lt;init&amp;gt;(MapTask.java:587)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:706)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:332)&lt;br/&gt;
        at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:157)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
        at&lt;br/&gt;
org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1212)&lt;br/&gt;
        at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:152)&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment>&lt;p&gt;Hadoop 0.23.3 federation, Hive 0.9 and Pig 0.10&lt;/p&gt;</environment>
        <key id="12614252">HIVE-3645</key>
            <summary>RCFileWriter does not implement the right function to support Federation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amalakar">Arup Malakar</assignee>
                                    <reporter username="viraj">Viraj Bhat</reporter>
                        <labels>
                            <label>namenode_federation</label>
                    </labels>
                <created>Wed, 31 Oct 2012 18:07:39 +0000</created>
                <updated>Thu, 16 May 2013 21:10:21 +0000</updated>
                            <resolved>Tue, 27 Nov 2012 17:51:54 +0000</resolved>
                                    <version>0.9.0</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13498262" author="amalakar" created="Thu, 15 Nov 2012 19:26:38 +0000"  >
&lt;p&gt;Looking at &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-2791&quot; title=&quot;Pig does not work with ViewFileSystem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-2791&quot;&gt;&lt;del&gt;PIG-2791&lt;/del&gt;&lt;/a&gt; looks like the following needs to be done:&lt;/p&gt;

&lt;p&gt;1. Use getDefaultBlockSize(Path) and getDefaultReplication(Path) instead of getDefaultBlockSize() and getDefaultReplication(). As the ones without Path argument wont work in case of federated namenode. These methods need to &lt;br/&gt;
be shimmed.&lt;/p&gt;

&lt;p&gt;2. Bump hadoop dependency to 2.0.0-alpha as  getDefaultBlockSize(Path)/getDefaultReplication(Path) are  not available in 0.23.1&lt;/p&gt;</comment>
                            <comment id="13499032" author="amalakar" created="Fri, 16 Nov 2012 19:22:15 +0000"  >&lt;p&gt;Review for trunk: &lt;a href=&quot;https://reviews.facebook.net/D6765&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6765&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13500646" author="amalakar" created="Mon, 19 Nov 2012 20:52:44 +0000"  >&lt;p&gt;Review for branch: &lt;a href=&quot;https://reviews.facebook.net/D6813&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6813&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13500747" author="esoren" created="Tue, 20 Nov 2012 00:16:24 +0000"  >&lt;p&gt;Thanks, Arup. I have run the test from the original description using the jars you gave me with attached patch applied, and the test passed. &lt;/p&gt;</comment>
                            <comment id="13504419" author="ashutoshc" created="Tue, 27 Nov 2012 07:29:38 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13504797" author="ashutoshc" created="Tue, 27 Nov 2012 17:51:54 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Arup!&lt;/p&gt;</comment>
                            <comment id="13504846" author="amalakar" created="Tue, 27 Nov 2012 19:01:09 +0000"  >&lt;p&gt;Thanks Ashutosh for looking into the patch. If the branch patch looks fine can you please commit this to 0.9 branch as well?&lt;/p&gt;</comment>
                            <comment id="13505343" author="hudson" created="Wed, 28 Nov 2012 10:07:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1821 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1821/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1821/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3645&quot; title=&quot;RCFileWriter does not implement the right function to support Federation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3645&quot;&gt;&lt;del&gt;HIVE-3645&lt;/del&gt;&lt;/a&gt; : RCFileWriter does not implement the right function to support Federation (Arup Malakar via Ashutosh Chauhan) (Revision 1414286)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414286&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414286&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13510061" author="ashutoshc" created="Tue, 4 Dec 2012 22:12:52 +0000"  >&lt;p&gt;Committed to 0.9 branch.&lt;/p&gt;</comment>
                            <comment id="13510143" author="amalakar" created="Tue, 4 Dec 2012 23:59:48 +0000"  >&lt;p&gt;Thank you Ashutosh.&lt;/p&gt;</comment>
                            <comment id="13511006" author="hudson" created="Thu, 6 Dec 2012 01:19:08 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false #219 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/219/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/219/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3645&quot; title=&quot;RCFileWriter does not implement the right function to support Federation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3645&quot;&gt;&lt;del&gt;HIVE-3645&lt;/del&gt;&lt;/a&gt; : RCFileWriter does not implement the right function to support Federation (Arup Malakar via Ashutosh Chauhan) (Revision 1417220)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417220&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417220&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13511199" author="hudson" created="Thu, 6 Dec 2012 07:39:22 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21 #219 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/219/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/219/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3645&quot; title=&quot;RCFileWriter does not implement the right function to support Federation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3645&quot;&gt;&lt;del&gt;HIVE-3645&lt;/del&gt;&lt;/a&gt; : RCFileWriter does not implement the right function to support Federation (Arup Malakar via Ashutosh Chauhan) (Revision 1417220)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417220&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417220&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13534210" author="mikhail" created="Mon, 17 Dec 2012 19:34:04 +0000"  >&lt;p&gt;I am getting the following compilation errors with this patch on branch-0.9:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ivy-retrieve-hadoop-shim:
     [echo] Project: shims
    [javac] Compiling 1 source file to /wd/hive/build/shims/classes
    [javac] /wd/hive/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java:118: error: method getDefaultBlockSize in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;FileSystem cannot be applied to given types;
    [javac]     &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; fs.getDefaultBlockSize(path);
    [javac]              ^
    [javac]   required: no arguments
    [javac]   found: Path
    [javac]   reason: actual and formal argument lists differ in length
    [javac] /wd/hive/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java:123: error: method getDefaultReplication in &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;FileSystem cannot be applied to given types;
    [javac]     &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; fs.getDefaultReplication(path);
    [javac]              ^
    [javac]   required: no arguments
    [javac]   found: Path
    [javac]   reason: actual and formal argument lists differ in length
    [javac] 2 errors

BUILD FAILED
/wd/hive/build.xml:319: The following error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line:
/wd/hive/build.xml:169: The following error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line:
/wd/hive/shims/build.xml:90: The following error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line:
/wd/hive/shims/build.xml:93: The following error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; executing &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; line:
/wd/hive/shims/build.xml:82: Compile failed; see the compiler error output &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; details.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I am building with the default Hadoop version.&lt;/p&gt;</comment>
                            <comment id="13534224" author="amalakar" created="Mon, 17 Dec 2012 19:47:04 +0000"  >&lt;p&gt;From: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3754?focusedCommentId=13506596&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13506596&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3754?focusedCommentId=13506596&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13506596&lt;/a&gt;&lt;br/&gt;
You can use either of&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ant clean &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; -Dhadoop.version=0.23.3 -Dhadoop-0.23.version=0.23.3 -Dhadoop.mr.rev=23
ant clean &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; -Dhadoop.version=2.0.0-alpha -Dhadoop-0.23.version=2.0.0-alpha -Dhadoop.mr.rev=23
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3754&quot; title=&quot;Trunk hadoop 23 build fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3754&quot;&gt;&lt;del&gt;HIVE-3754&lt;/del&gt;&lt;/a&gt; for more details.&lt;/p&gt;

&lt;p&gt;I also see that default hadoop 23 version is 0.23.3 for branch-0.9 as well, so this should have worked without the arguments:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hadoop-0.23.version=0.23.3
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13548309" author="hudson" created="Wed, 9 Jan 2013 10:25:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3645&quot; title=&quot;RCFileWriter does not implement the right function to support Federation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3645&quot;&gt;&lt;del&gt;HIVE-3645&lt;/del&gt;&lt;/a&gt; : RCFileWriter does not implement the right function to support Federation (Arup Malakar via Ashutosh Chauhan) (Revision 1414286)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414286&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414286&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12597844">PIG-2791</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12618089">HIVE-3754</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12554235" name="HIVE_3645_branch_0.patch" size="6086" author="amalakar" created="Mon, 19 Nov 2012 20:52:44 +0000"/>
                            <attachment id="12553817" name="HIVE_3645_trunk_0.patch" size="6094" author="amalakar" created="Fri, 16 Nov 2012 19:22:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 15 Nov 2012 19:26:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253485</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dntb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>77787</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3645&quot; title=&quot;RCFileWriter does not implement the right function to support Federation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3645&quot;&gt;&lt;strike&gt;HIVE-3645&lt;/strike&gt;&lt;/a&gt; shimmed getDefaultBlockSize/getDefaultReplication to make RCFiles work with federated namenode</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3646] Add &apos;IGNORE PROTECTION&apos; predicate for dropping partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3646</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There are cases where it is desirable to move partitions between clusters. Having to undo protection and then re-protect tables in order to delete partitions from a source are multi-step and can leave us in a failed open state where partition and table metadata is dirty. By implementing an &apos;rm -rf&apos;-like functionality, we can perform these operations atomically.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614308">HIVE-3646</key>
            <summary>Add &apos;IGNORE PROTECTION&apos; predicate for dropping partitions</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chalfant">Andrew Chalfant</assignee>
                                    <reporter username="chalfant">Andrew Chalfant</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Nov 2012 03:02:55 +0000</created>
                <updated>Thu, 16 May 2013 21:10:17 +0000</updated>
                            <resolved>Mon, 17 Dec 2012 10:49:49 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>CLI</component>
                        <due>Fri, 30 Nov 2012 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <timeoriginalestimate seconds="60">1m</timeoriginalestimate>
                            <timeestimate seconds="60">1m</timeestimate>
                                        <comments>
                            <comment id="13489193" author="chalfant" created="Fri, 2 Nov 2012 01:35:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6405&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6405&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13489194" author="chalfant" created="Fri, 2 Nov 2012 01:39:20 +0000"  >&lt;p&gt;Patch file&lt;/p&gt;</comment>
                            <comment id="13490289" author="mgrover" created="Sun, 4 Nov 2012 20:33:57 +0000"  >&lt;p&gt;What would be the impact of this change on non-HDFS tables? Would the &apos;ignore protection&apos; grammar lead to an error in such case?&lt;/p&gt;</comment>
                            <comment id="13502580" author="namit" created="Thu, 22 Nov 2012 04:44:32 +0000"  >&lt;p&gt;From the code, it looks like, it doesn&apos;t matter if the tables/partitions are hdfs or non-hdfs.&lt;br/&gt;
They will be dropped either way.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/Hive/languagemanual-ddl.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/Hive/languagemanual-ddl.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Can you document the behavior above ?&lt;/p&gt;</comment>
                            <comment id="13502581" author="namit" created="Thu, 22 Nov 2012 04:44:58 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13505697" author="chalfant" created="Wed, 28 Nov 2012 17:44:35 +0000"  >&lt;p&gt;Namit should I document before or after the change has been pushed?&lt;/p&gt;</comment>
                            <comment id="13505713" author="chalfant" created="Wed, 28 Nov 2012 17:57:46 +0000"  >&lt;p&gt;I spoke with Kevin Wilfong and he said for me to just go ahead and make the changes to the docs, but I need a confluence account and he doesn&apos;t have permissions to make the account for me. Can you please make a confluence account with edit permissions for me please?&lt;/p&gt;</comment>
                            <comment id="13505748" author="chalfant" created="Wed, 28 Nov 2012 18:27:02 +0000"  >&lt;p&gt;New version which includes requested comments&lt;/p&gt;</comment>
                            <comment id="13527714" author="namit" created="Mon, 10 Dec 2012 05:05:10 +0000"  >&lt;p&gt;The code changes look good - can you refresh ?&lt;br/&gt;
The patch is not applying cleanly&lt;/p&gt;</comment>
                            <comment id="13528062" author="chalfant" created="Mon, 10 Dec 2012 17:01:36 +0000"  >&lt;p&gt;Merge conflict fixed&lt;/p&gt;</comment>
                            <comment id="13528117" author="namit" created="Mon, 10 Dec 2012 18:13:56 +0000"  >&lt;p&gt;+1 running tests&lt;/p&gt;</comment>
                            <comment id="13533832" author="namit" created="Mon, 17 Dec 2012 10:49:49 +0000"  >&lt;p&gt;Committed. Thanks Andrew&lt;/p&gt;</comment>
                            <comment id="13534496" author="hudson" created="Tue, 18 Dec 2012 01:13:58 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1861 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1861/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1861/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3646&quot; title=&quot;Add &amp;#39;IGNORE PROTECTION&amp;#39; predicate for dropping partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3646&quot;&gt;&lt;del&gt;HIVE-3646&lt;/del&gt;&lt;/a&gt; Add &apos;IGNORE PROTECTION&apos; predicate for dropping partitions&lt;br/&gt;
(Andrew Chalfant via namit) (Revision 1422844)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1422844&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1422844&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DropTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/drop_partitions_ignore_protection.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/drop_partitions_ignore_protection.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13534660" author="namit" created="Tue, 18 Dec 2012 05:30:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chalfant&quot; class=&quot;user-hover&quot; rel=&quot;chalfant&quot;&gt;Andrew Chalfant&lt;/a&gt;, please add documentation for this change.&lt;/p&gt;</comment>
                            <comment id="13535017" author="chalfant" created="Tue, 18 Dec 2012 16:22:59 +0000"  >&lt;p&gt;Namit Jain, done&lt;/p&gt;</comment>
                            <comment id="13535621" author="namit" created="Wed, 19 Dec 2012 03:49:24 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chalfant&quot; class=&quot;user-hover&quot; rel=&quot;chalfant&quot;&gt;Andrew Chalfant&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13548310" author="hudson" created="Wed, 9 Jan 2013 10:25:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3646&quot; title=&quot;Add &amp;#39;IGNORE PROTECTION&amp;#39; predicate for dropping partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3646&quot;&gt;&lt;del&gt;HIVE-3646&lt;/del&gt;&lt;/a&gt; Add &apos;IGNORE PROTECTION&apos; predicate for dropping partitions&lt;br/&gt;
(Andrew Chalfant via namit) (Revision 1422844)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1422844&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1422844&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DropTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/drop_partitions_ignore_protection.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/drop_partitions_ignore_protection.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551807" name="HIVE-3646.1.patch.txt" size="9637" author="chalfant" created="Fri, 2 Nov 2012 01:39:20 +0000"/>
                            <attachment id="12555209" name="HIVE-3646.2.patch.txt" size="9777" author="chalfant" created="Wed, 28 Nov 2012 18:27:02 +0000"/>
                            <attachment id="12560208" name="HIVE-3646.3.patch.txt" size="10510" author="chalfant" created="Mon, 10 Dec 2012 17:01:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 4 Nov 2012 20:33:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253551</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dv87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>78988</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This is a feature which enables us to ignore protection for partitions when dropping them, if specified. The use case is moving partitions between clusters. Unprotecting and reprotecting tables is non-atomic and thus prone to leaving table metadata in a dirty state.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3647] map-side groupby wrongly due to HIVE-3432</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3647</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There seems to be a bug due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3432&quot; title=&quot;perform a map-only group by if grouping key matches the sorting properties of the table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3432&quot;&gt;&lt;del&gt;HIVE-3432&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We are converting the group by to a map side group by after only looking at&lt;br/&gt;
sorting columns. This can give wrong results if the data is sorted and&lt;br/&gt;
bucketed by different columns.&lt;/p&gt;

&lt;p&gt;Add some tests for that scenario, verify and fix any issues.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614314">HIVE-3647</key>
            <summary>map-side groupby wrongly due to HIVE-3432</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Nov 2012 05:03:23 +0000</created>
                <updated>Fri, 11 Jan 2013 06:34:45 +0000</updated>
                            <resolved>Mon, 19 Nov 2012 18:48:04 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13488510" author="namit" created="Thu, 1 Nov 2012 06:51:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6369&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6369&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13489545" author="kevinwilfong" created="Fri, 2 Nov 2012 17:08:43 +0000"  >&lt;p&gt;comment on the diff&lt;/p&gt;</comment>
                            <comment id="13489935" author="namit" created="Sat, 3 Nov 2012 05:35:31 +0000"  >&lt;p&gt;Agree with you completely, Kevin.&lt;/p&gt;

&lt;p&gt;Had not done a submit patch, since I wanted to run all the tests first.&lt;/p&gt;</comment>
                            <comment id="13490245" author="mgrover" created="Sun, 4 Nov 2012 18:30:09 +0000"  >&lt;p&gt;Are we being overly conservative by asserting the bucketing columns to be the exactly the same as sorting columns?&lt;/p&gt;

&lt;p&gt;For example, for&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE T2(key STRING, val STRING)
CLUSTERED BY key SORTED BY (key, val) INTO 2 BUCKETS STORED AS TEXTFILE;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;we should still be able to optimize (as &quot;complete match&quot;) the Group by on &lt;tt&gt;key&lt;/tt&gt; alone.&lt;/p&gt;

&lt;p&gt;P.S: I don&apos;t have a phabricator account and it wouldn&apos;t let me login via my GitHub account. Not sure who to talk to.&lt;/p&gt;</comment>
                            <comment id="13492164" author="kevinwilfong" created="Wed, 7 Nov 2012 06:51:03 +0000"  >&lt;p&gt;Agreed with Mark, Namit, can you make that change as well?&lt;/p&gt;</comment>
                            <comment id="13492979" author="namit" created="Thu, 8 Nov 2012 05:58:28 +0000"  >&lt;p&gt;Thanks Mark, I will make the change&lt;/p&gt;</comment>
                            <comment id="13493411" author="kevinwilfong" created="Thu, 8 Nov 2012 19:18:03 +0000"  >&lt;p&gt;Comments on Phabricator.&lt;/p&gt;</comment>
                            <comment id="13493769" author="namit" created="Fri, 9 Nov 2012 06:42:39 +0000"  >&lt;p&gt;addressed comments + added new tests&lt;/p&gt;</comment>
                            <comment id="13493787" author="mgrover" created="Fri, 9 Nov 2012 07:06:28 +0000"  >&lt;p&gt;Made a comment on Phabricator. I didn&apos;t go through the whole review but I will do that once I hear your thoughts on the comment.&lt;/p&gt;</comment>
                            <comment id="13493818" author="namit" created="Fri, 9 Nov 2012 08:20:18 +0000"  >&lt;p&gt;Agreed, it can be incorporated, although it should not be a common case.&lt;/p&gt;

&lt;p&gt;I can add the following rule:&lt;br/&gt;
if (grouping cols == sorting Cols)&lt;br/&gt;
 if all bucketing columns are part of sorting cols (any order) &lt;br/&gt;
   complete match&lt;/p&gt;</comment>
                            <comment id="13493842" author="namit" created="Fri, 9 Nov 2012 09:19:04 +0000"  >&lt;p&gt;addressed comments from Mark.&lt;/p&gt;</comment>
                            <comment id="13494100" author="mgrover" created="Fri, 9 Nov 2012 16:35:01 +0000"  >&lt;p&gt;More comments!&lt;/p&gt;</comment>
                            <comment id="13497774" author="namit" created="Thu, 15 Nov 2012 05:32:06 +0000"  >&lt;p&gt;addressed comments&lt;/p&gt;</comment>
                            <comment id="13499038" author="kevinwilfong" created="Fri, 16 Nov 2012 19:28:13 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13500497" author="kevinwilfong" created="Mon, 19 Nov 2012 18:48:04 +0000"  >&lt;p&gt;Committed, thanks Namit.&lt;/p&gt;</comment>
                            <comment id="13500798" author="hudson" created="Tue, 20 Nov 2012 02:09:17 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1806 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1806/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1806/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3647&quot; title=&quot;map-side groupby wrongly due to HIVE-3432&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3647&quot;&gt;&lt;del&gt;HIVE-3647&lt;/del&gt;&lt;/a&gt;. map-side groupby wrongly due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3432&quot; title=&quot;perform a map-only group by if grouping key matches the sorting properties of the table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3432&quot;&gt;&lt;del&gt;HIVE-3432&lt;/del&gt;&lt;/a&gt;. (njain via kevinwilfong) (Revision 1411349)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1411349&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1411349&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_skew_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_skew_1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548313" author="hudson" created="Wed, 9 Jan 2013 10:25:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3647&quot; title=&quot;map-side groupby wrongly due to HIVE-3432&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3647&quot;&gt;&lt;del&gt;HIVE-3647&lt;/del&gt;&lt;/a&gt;. map-side groupby wrongly due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3432&quot; title=&quot;perform a map-only group by if grouping key matches the sorting properties of the table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3432&quot;&gt;&lt;del&gt;HIVE-3432&lt;/del&gt;&lt;/a&gt;. (njain via kevinwilfong) (Revision 1411349)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1411349&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1411349&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GroupByOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_sort_skew_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_skew_1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550026" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:06 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12627133">HIVE-3888</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12606234">HIVE-3432</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12551678" name="hive.3647.1.patch" size="24252" author="namit" created="Thu, 1 Nov 2012 06:51:56 +0000"/>
                            <attachment id="12551899" name="hive.3647.2.patch" size="24846" author="namit" created="Fri, 2 Nov 2012 18:18:41 +0000"/>
                            <attachment id="12551971" name="hive.3647.3.patch" size="28353" author="namit" created="Sat, 3 Nov 2012 05:34:44 +0000"/>
                            <attachment id="12552641" name="hive.3647.4.patch" size="51393" author="namit" created="Thu, 8 Nov 2012 10:04:44 +0000"/>
                            <attachment id="12552779" name="hive.3647.5.patch" size="67658" author="namit" created="Fri, 9 Nov 2012 06:41:45 +0000"/>
                            <attachment id="12552797" name="hive.3647.6.patch" size="103861" author="namit" created="Fri, 9 Nov 2012 09:09:56 +0000"/>
                            <attachment id="12552802" name="hive.3647.7.patch" size="103861" author="namit" created="Fri, 9 Nov 2012 09:18:42 +0000"/>
                            <attachment id="12553623" name="hive.3647.8.patch" size="103693" author="namit" created="Thu, 15 Nov 2012 05:31:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Nov 2012 17:08:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253557</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dv9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>78994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3648] HiveMetaStoreFsImpl is not compatible with hadoop viewfs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3648</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveMetaStoreFsImpl#deleteDir() method calls Trash#moveToTrash(). This may not work when viewfs is used. It needs to call Trash#moveToAppropriateTrash() instead.  Please note that this method is not available in hadoop versions earlier than 0.23.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614379">HIVE-3648</key>
            <summary>HiveMetaStoreFsImpl is not compatible with hadoop viewfs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amalakar">Arup Malakar</assignee>
                                    <reporter username="kihwal">Kihwal Lee</reporter>
                        <labels>
                            <label>namenode_federation</label>
                    </labels>
                <created>Thu, 1 Nov 2012 14:49:41 +0000</created>
                <updated>Thu, 16 May 2013 21:10:18 +0000</updated>
                            <resolved>Tue, 27 Nov 2012 19:46:23 +0000</resolved>
                                    <version>0.9.0</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13497477" author="amalakar" created="Wed, 14 Nov 2012 21:34:18 +0000"  >&lt;p&gt;Submitting the patch for trunk, if the change is acceptable will submit patch for branch-0.9 as well.&lt;/p&gt;</comment>
                            <comment id="13498328" author="amalakar" created="Thu, 15 Nov 2012 21:00:11 +0000"  >&lt;p&gt;Review for trunk: &lt;a href=&quot;https://reviews.facebook.net/D6759&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6759&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;arc diff  origin/trunk  --jira HIVE-3648 throws error.&amp;#93;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="13500581" author="amalakar" created="Mon, 19 Nov 2012 19:52:56 +0000"  >&lt;p&gt;Patch available for branch. Added one missing abstract method in HadoopShimsSecure class.&lt;/p&gt;

&lt;p&gt;Updated trunk review: &lt;a href=&quot;https://reviews.facebook.net/D6759&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6759&lt;/a&gt;&lt;br/&gt;
Branch review: &lt;a href=&quot;https://reviews.facebook.net/D6801&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6801&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Arup&lt;/p&gt;</comment>
                            <comment id="13500742" author="esoren" created="Tue, 20 Nov 2012 00:07:47 +0000"  >&lt;p&gt;Thanks, Arup. I have tested `hive -e &apos;drop table ...&apos;` with the jars you gave me with attached patch applied, and the test passed. &lt;/p&gt;</comment>
                            <comment id="13501298" author="kihwal" created="Tue, 20 Nov 2012 16:59:27 +0000"  >&lt;p&gt;The change looks good to me.&lt;/p&gt;</comment>
                            <comment id="13504423" author="ashutoshc" created="Tue, 27 Nov 2012 07:41:02 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13504798" author="ashutoshc" created="Tue, 27 Nov 2012 17:58:50 +0000"  >&lt;p&gt;Arup, All the tests passed. But, patch now conflicts because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3645&quot; title=&quot;RCFileWriter does not implement the right function to support Federation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3645&quot;&gt;&lt;del&gt;HIVE-3645&lt;/del&gt;&lt;/a&gt; commit. Can you refresh the patch on trunk?&lt;/p&gt;</comment>
                            <comment id="13504842" author="amalakar" created="Tue, 27 Nov 2012 18:59:58 +0000"  >&lt;p&gt;Thanks Ashutosh for looking into the patch. I have updated the patch to reflect the last commit.&lt;/p&gt;</comment>
                            <comment id="13504878" author="ashutoshc" created="Tue, 27 Nov 2012 19:46:23 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Arup!&lt;/p&gt;</comment>
                            <comment id="13505061" author="amalakar" created="Tue, 27 Nov 2012 23:40:03 +0000"  >&lt;p&gt;Ashutosh, thanks for committing in trunk. Can you commit it to branch-0.9 as well? I will provide the rebased patch once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3645&quot; title=&quot;RCFileWriter does not implement the right function to support Federation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3645&quot;&gt;&lt;del&gt;HIVE-3645&lt;/del&gt;&lt;/a&gt; is committed for branch.&lt;/p&gt;</comment>
                            <comment id="13505341" author="hudson" created="Wed, 28 Nov 2012 10:07:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1821 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1821/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1821/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3648&quot; title=&quot;HiveMetaStoreFsImpl is not compatible with hadoop viewfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3648&quot;&gt;&lt;del&gt;HIVE-3648&lt;/del&gt;&lt;/a&gt; : HiveMetaStoreFsImpl is not compatible with hadoop viewfs (Arup Malakar via Ashutosh Chauhan) (Revision 1414353)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414353&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414353&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreFsImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13510141" author="amalakar" created="Tue, 4 Dec 2012 23:59:07 +0000"  >&lt;p&gt;Rebased branch patch.&lt;/p&gt;</comment>
                            <comment id="13510214" author="ashutoshc" created="Wed, 5 Dec 2012 01:59:46 +0000"  >&lt;p&gt;Committed to 0.9 branch.&lt;/p&gt;</comment>
                            <comment id="13510799" author="amalakar" created="Wed, 5 Dec 2012 21:33:40 +0000"  >&lt;p&gt;Thanks Ashutosh.&lt;/p&gt;</comment>
                            <comment id="13511005" author="hudson" created="Thu, 6 Dec 2012 01:19:08 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false #219 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/219/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21-keepgoing=false/219/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3648&quot; title=&quot;HiveMetaStoreFsImpl is not compatible with hadoop viewfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3648&quot;&gt;&lt;del&gt;HIVE-3648&lt;/del&gt;&lt;/a&gt; : HiveMetaStoreFsImpl is not compatible with hadoop viewfs (Arup Malakar via Ashutosh Chauhan) (Revision 1417267)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417267&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417267&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreFsImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13511198" author="hudson" created="Thu, 6 Dec 2012 07:39:22 +0000"  >&lt;p&gt;Integrated in Hive-0.9.1-SNAPSHOT-h0.21 #219 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/219/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-0.9.1-SNAPSHOT-h0.21/219/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3648&quot; title=&quot;HiveMetaStoreFsImpl is not compatible with hadoop viewfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3648&quot;&gt;&lt;del&gt;HIVE-3648&lt;/del&gt;&lt;/a&gt; : HiveMetaStoreFsImpl is not compatible with hadoop viewfs (Arup Malakar via Ashutosh Chauhan) (Revision 1417267)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417267&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417267&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/branches/branch-0.9/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreFsImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/branches/branch-0.9/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13528636" author="cdrome" created="Tue, 11 Dec 2012 03:09:59 +0000"  >&lt;p&gt;The branch 0.9 patch is causing the unit tests to fail. Opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3789&quot; title=&quot;Patch HIVE-3648 causing the majority of unit tests to fail on branch 0.9&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3789&quot;&gt;&lt;del&gt;HIVE-3789&lt;/del&gt;&lt;/a&gt; to track this issue.&lt;/p&gt;</comment>
                            <comment id="13548304" author="hudson" created="Wed, 9 Jan 2013 10:25:13 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3648&quot; title=&quot;HiveMetaStoreFsImpl is not compatible with hadoop viewfs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3648&quot;&gt;&lt;del&gt;HIVE-3648&lt;/del&gt;&lt;/a&gt; : HiveMetaStoreFsImpl is not compatible with hadoop viewfs (Arup Malakar via Ashutosh Chauhan) (Revision 1414353)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414353&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414353&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreFsImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20S/java/org/apache/hadoop/hive/shims/Hadoop20SShims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.23/java/org/apache/hadoop/hive/shims/Hadoop23Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12623322">HIVE-3789</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12553563" name="HIVE-3648-trunk-0.patch" size="6811" author="amalakar" created="Wed, 14 Nov 2012 21:34:30 +0000"/>
                            <attachment id="12555047" name="HIVE-3648-trunk-1.patch" size="7595" author="amalakar" created="Tue, 27 Nov 2012 18:59:58 +0000"/>
                            <attachment id="12554225" name="HIVE_3648_branch_0.patch" size="7440" author="amalakar" created="Mon, 19 Nov 2012 19:52:56 +0000"/>
                            <attachment id="12556015" name="HIVE_3648_branch_1.patch" size="8064" author="amalakar" created="Tue, 4 Dec 2012 23:59:07 +0000"/>
                            <attachment id="12554224" name="HIVE_3648_trunk_1.patch" size="7553" author="amalakar" created="Mon, 19 Nov 2012 19:52:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 14 Nov 2012 21:34:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253627</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dx1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>79282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Make deleteDir work with federated namenode</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3649] Hive List Bucketing - enhance DDL to specify list bucketing table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3649</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We need to differ normal skewed table from list bucketing table. we use an optional parameter &quot;store as DIRECTORIES&quot;&lt;/p&gt;

&lt;p&gt;4 main cases:&lt;br/&gt;
1. create table &amp;lt;name&amp;gt; skewed by .. on .. stored as directories;&lt;br/&gt;
2. alter table &amp;lt;name&amp;gt; skewed by .. on .. stored as directories;&lt;br/&gt;
3. alter table &amp;lt;name&amp;gt; not skewed;&lt;br/&gt;
4. alter table &amp;lt;name&amp;gt; not stored as directories;&lt;/p&gt;


&lt;p&gt;details in &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/ListBucketing&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/ListBucketing&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614439">HIVE-3649</key>
            <summary>Hive List Bucketing - enhance DDL to specify list bucketing table</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Nov 2012 22:28:15 +0000</created>
                <updated>Mon, 23 Feb 2015 09:07:57 +0000</updated>
                            <resolved>Fri, 9 Nov 2012 04:17:42 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13492177" author="gangtimliu" created="Wed, 7 Nov 2012 07:32:26 +0000"  >&lt;p&gt;patch is available.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6543&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6543&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13492193" author="namit" created="Wed, 7 Nov 2012 08:32:46 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13492598" author="gangtimliu" created="Wed, 7 Nov 2012 19:08:24 +0000"  >&lt;p&gt;Patch is available.&lt;/p&gt;</comment>
                            <comment id="13492944" author="namit" created="Thu, 8 Nov 2012 04:35:47 +0000"  >&lt;p&gt;minor comments&lt;/p&gt;</comment>
                            <comment id="13493017" author="gangtimliu" created="Thu, 8 Nov 2012 07:18:43 +0000"  >&lt;p&gt;Yes, address comments. patch available. thanks&lt;/p&gt;</comment>
                            <comment id="13493061" author="namit" created="Thu, 8 Nov 2012 09:29:17 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13493121" author="namit" created="Thu, 8 Nov 2012 11:21:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gangtimliu&quot; class=&quot;user-hover&quot; rel=&quot;gangtimliu&quot;&gt;Gang Tim Liu&lt;/a&gt;, can you refresh ? This may conflict due to the thrift upgrade.&lt;/p&gt;</comment>
                            <comment id="13493259" author="gangtimliu" created="Thu, 8 Nov 2012 15:30:59 +0000"  >&lt;p&gt;Yes, doing it. thanks&lt;/p&gt;</comment>
                            <comment id="13493277" author="gangtimliu" created="Thu, 8 Nov 2012 16:10:03 +0000"  >&lt;p&gt;patch available.&lt;/p&gt;</comment>
                            <comment id="13493303" author="namit" created="Thu, 8 Nov 2012 17:00:14 +0000"  >&lt;p&gt;Running tests again.&lt;/p&gt;</comment>
                            <comment id="13493727" author="namit" created="Fri, 9 Nov 2012 04:17:42 +0000"  >&lt;p&gt;Committed. Thanks Tim&lt;/p&gt;</comment>
                            <comment id="13493730" author="gangtimliu" created="Fri, 9 Nov 2012 04:24:11 +0000"  >&lt;p&gt;Namit thanks a lot&lt;/p&gt;

&lt;p&gt;Sent from my iPhone&lt;/p&gt;

</comment>
                            <comment id="13494040" author="hudson" created="Fri, 9 Nov 2012 15:10:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1785 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1785/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1785/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt; Hive List Bucketing - enhance DDL to specify list bucketing table&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1407353)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407353&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407353&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/if/hive_metastore.thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt;.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/hive-schema-0.10.0.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/upgrade-0.9.0-to-0.10.0.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/hive-schema-0.10.0.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/upgrade-0.9.0-to-0.10.0.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/oracle/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt;.oracle.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/oracle/hive-schema-0.10.0.oracle.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/hive-schema-0.10.0.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/upgrade-0.9.0-to-0.10.0.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Database.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/EnvironmentContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Index.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Partition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrincipalPrivilegeSet.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Schema.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SerDeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/StorageDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/hive_metastore/hive_metastore_types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/metastore/Types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/model/org/apache/hadoop/hive/metastore/model/MStorageDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/model/package.jdo&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Operator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Query.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Stage.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Task.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataFormatUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/LoadSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/load_stored_as_dirs.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/create_alter_list_bucketing_table1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/load_stored_as_dirs.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_alter_list_bucketing_table1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/Complex.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MegaStruct.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548305" author="hudson" created="Wed, 9 Jan 2013 10:25:13 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt; Hive List Bucketing - enhance DDL to specify list bucketing table&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1407353)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407353&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407353&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/if/hive_metastore.thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt;.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/hive-schema-0.10.0.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/derby/upgrade-0.9.0-to-0.10.0.derby.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt;.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/hive-schema-0.10.0.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/mysql/upgrade-0.9.0-to-0.10.0.mysql.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/oracle/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt;.oracle.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/oracle/hive-schema-0.10.0.oracle.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/010-&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3649&quot; title=&quot;Hive List Bucketing - enhance DDL to specify list bucketing table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3649&quot;&gt;&lt;del&gt;HIVE-3649&lt;/del&gt;&lt;/a&gt;.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/hive-schema-0.10.0.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/scripts/upgrade/postgres/upgrade-0.9.0-to-0.10.0.postgres.sql&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Database.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/EnvironmentContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Index.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Partition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrincipalPrivilegeSet.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Schema.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SerDeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/StorageDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/hive_metastore/hive_metastore_types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/metastore/Types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/model/org/apache/hadoop/hive/metastore/model/MStorageDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/model/package.jdo&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Operator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Query.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Stage.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Task.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataFormatUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/LoadSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/load_stored_as_dirs.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/create_alter_list_bucketing_table1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/load_stored_as_dirs.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_alter_list_bucketing_table1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/Complex.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MegaStruct.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550002" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:00 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                            <comment id="14333128" author="lefty@hortonworks.com" created="Mon, 23 Feb 2015 09:07:57 +0000"  >&lt;p&gt;Doc note and question:  I added the ALTER TABLE syntax to the DDL wikidoc (please review) but don&apos;t know what to document about CONCATENATE, which is mentioned in the design doc.  The CREATE TABLE syntax was already documented.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterTableSkewedorStoredasDirectories&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; Alter Table Skewed or Stored as Directories &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/ListBucketing#ListBucketing-Design&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;List Bucketing &amp;#8211; Design &lt;/a&gt;:  &quot;When such a table is being loaded, it would be good to create a sub-directory per skewed key. The infrastructure similar to dynamic partitions can be used.&quot;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterTable/PartitionConcatenate&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; AlterTable/Partition Concatenate &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-CreateTable&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; Create Table (syntax) &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-SkewedTables&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; Create Table &amp;#8211; Skewed Tables &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So does ALTER TABLE ... CONCATENATE need any doc?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12555256">HIVE-3026</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12558843">HIVE-3073</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12615295">HIVE-3690</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12558842">HIVE-3072</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12552428" name="HIVE-3649.patch.4" size="80835" author="gangtimliu" created="Wed, 7 Nov 2012 07:31:58 +0000"/>
                            <attachment id="12552517" name="HIVE-3649.patch.6" size="78467" author="gangtimliu" created="Wed, 7 Nov 2012 19:08:10 +0000"/>
                            <attachment id="12552553" name="HIVE-3649.patch.7" size="76911" author="gangtimliu" created="Wed, 7 Nov 2012 22:32:16 +0000"/>
                            <attachment id="12552625" name="HIVE-3649.patch.8" size="79895" author="gangtimliu" created="Thu, 8 Nov 2012 07:18:25 +0000"/>
                            <attachment id="12552669" name="HIVE-3649.patch.9" size="114490" author="gangtimliu" created="Thu, 8 Nov 2012 16:09:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Nov 2012 08:32:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 48 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ea33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>81396</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3650] Hive List Bucketing - validation</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3650</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Many validations are done in each patch. This issue tracks left-over from complete list&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/ListBucketing&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/ListBucketing&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614440">HIVE-3650</key>
            <summary>Hive List Bucketing - validation</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Nov 2012 22:33:59 +0000</created>
                <updated>Mon, 14 Jan 2013 04:06:18 +0000</updated>
                                            <version>0.10.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13503006" author="namit" created="Fri, 23 Nov 2012 04:03:49 +0000"  >&lt;p&gt;When you have time, can you document which validations are remaining from the list above ?&lt;/p&gt;</comment>
                            <comment id="13503031" author="gangtimliu" created="Fri, 23 Nov 2012 06:20:57 +0000"  >&lt;p&gt;Yes, I will update wiki.&lt;/p&gt;

&lt;p&gt;Sent from my iPhone&lt;/p&gt;

</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12555256">HIVE-3026</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12558843">HIVE-3073</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 Nov 2012 04:03:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253865</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ea3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>81397</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3651] bucketmapjoin?.q  tests fail with hadoop 0.23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3651</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The hive.log show error in MR job -&lt;br/&gt;
Task failed!&lt;br/&gt;
Task ID:&lt;br/&gt;
  Stage-1&lt;/p&gt;

&lt;p&gt;The job log has following error -&lt;br/&gt;
2012-11-01 15:51:20,253 WARN  mapred.LocalJobRunner (LocalJobRunner.java:run(479)) - job_local_0001&lt;br/&gt;
java.lang.Exception: java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: /home/prasadm/repos/apache/hive-patches/build/ql/scratchdir/local/hive_2012-11-01_15-51-06_176_6704298995984162430/-local-10003/HashTable-Stage-1/MapJoin-b-11-srcbucket21.txt.hashtable (No such file or directory)&lt;br/&gt;
        at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:400)&lt;br/&gt;
Caused by: java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: /home/prasadm/repos/apache/hive-patches/build/ql/scratchdir/local/hive_2012-11-01_15-51-06_176_6704298995984162430/-local-10003/HashTable-Stage-1/MapJoin-b-11-srcbucket21.txt.hashtable (No such file or directory)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:161)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:54)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:399)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:334)&lt;br/&gt;
        at org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:232)&lt;br/&gt;
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)&lt;br/&gt;
        at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:166)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:679)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12614451">HIVE-3651</key>
            <summary>bucketmapjoin?.q  tests fail with hadoop 0.23</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadm">Prasad Mujumdar</assignee>
                                    <reporter username="prasadm">Prasad Mujumdar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Nov 2012 23:31:20 +0000</created>
                <updated>Thu, 2 May 2013 02:30:55 +0000</updated>
                            <resolved>Thu, 8 Nov 2012 23:12:42 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13489146" author="prasadm" created="Thu, 1 Nov 2012 23:34:16 +0000"  >&lt;p&gt;The problem is similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3257&quot; title=&quot;Fix avro_joins.q testcase failure when building hive on hadoop0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3257&quot;&gt;&lt;del&gt;HIVE-3257&lt;/del&gt;&lt;/a&gt;. The hashtable file prefix is causing the file name comparison to fail&lt;/p&gt;</comment>
                            <comment id="13489154" author="prasadm" created="Thu, 1 Nov 2012 23:53:39 +0000"  >&lt;p&gt;Review request on &lt;a href=&quot;https://reviews.apache.org/r/7829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7829/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13492860" author="cwsteinbach" created="Thu, 8 Nov 2012 00:52:38 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13493596" author="cwsteinbach" created="Thu, 8 Nov 2012 23:12:42 +0000"  >&lt;p&gt;Committed to trunk. Thanks Prasad!&lt;/p&gt;</comment>
                            <comment id="13493826" author="hudson" created="Fri, 9 Nov 2012 08:44:27 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1784 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1784/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1784/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3651&quot; title=&quot;bucketmapjoin?.q  tests fail with hadoop 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3651&quot;&gt;&lt;del&gt;HIVE-3651&lt;/del&gt;&lt;/a&gt;. bucketmapjoin?.q tests fail with hadoop 0.23 (Prasad Mujumdar via cws) (Revision 1407312)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407312&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407312&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/BucketMapJoinContext.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548318" author="hudson" created="Wed, 9 Jan 2013 10:25:16 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3651&quot; title=&quot;bucketmapjoin?.q  tests fail with hadoop 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3651&quot;&gt;&lt;del&gt;HIVE-3651&lt;/del&gt;&lt;/a&gt;. bucketmapjoin?.q tests fail with hadoop 0.23 (Prasad Mujumdar via cws) (Revision 1407312)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407312&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407312&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/BucketMapJoinContext.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550218" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:50 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12598782">HIVE-3257</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12596234">HIVE-3210</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12551795" name="HIVE-3651-1.patch" size="1475" author="prasadm" created="Thu, 1 Nov 2012 23:52:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Nov 2012 00:52:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253911</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eb9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>81588</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3652] Join optimization for star schema</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3652</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, if we join one fact table with multiple dimension tables, it results in multiple mapreduce jobs for each join with dimension table, because join would be on different keys for each dimension. &lt;br/&gt;
Usually all the dimension tables will be small and can fit into memory and so map-side join can used to join with fact table.&lt;/p&gt;

&lt;p&gt;In this issue I want to look at optimizing such query to generate single mapreduce job sothat mapper loads dimension tables into memory and joins with fact table on different keys as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614474">HIVE-3652</key>
            <summary>Join optimization for star schema</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="amareshwari">Amareshwari Sriramadasu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Nov 2012 06:53:14 +0000</created>
                <updated>Mon, 6 May 2013 18:17:18 +0000</updated>
                            <resolved>Wed, 13 Feb 2013 10:48:15 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>14</watches>
                                                                <comments>
                            <comment id="13489370" author="amareshwari" created="Fri, 2 Nov 2012 11:41:25 +0000"  >&lt;p&gt;I&apos;m thinking about some options for implementing this&lt;/p&gt;

&lt;p&gt;1. Use ChainMapper and ChainReducer for queries having series of Mapper. Raised &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3655&quot; title=&quot;Use ChainMapper and ChainReducer for queries having [Map+][RMap*] pattern&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3655&quot;&gt;&lt;del&gt;HIVE-3655&lt;/del&gt;&lt;/a&gt; for exploring this option independently.&lt;br/&gt;
2. Define a new StarJoinOperator which can work on such a join, because it very common join that people would do.&lt;br/&gt;
3. Extend MapJoinOperator to work on multiple join keys&lt;/p&gt;

&lt;p&gt;Let me know your thoughts and suggestions&lt;/p&gt;</comment>
                            <comment id="13490286" author="mgrover" created="Sun, 4 Nov 2012 20:02:08 +0000"  >&lt;p&gt;Amareshwari, what are your thoughts on how the user can specify which is a fact table and which is a dimension table? Or, are you using storage based statistics to infer that information?&lt;/p&gt;</comment>
                            <comment id="13490446" author="namit" created="Mon, 5 Nov 2012 04:18:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amareshwari&quot; class=&quot;user-hover&quot; rel=&quot;amareshwari&quot;&gt;Amareshwari Sriramadasu&lt;/a&gt;, do you think it would be possible to get a cheap implementation with a single mapper performing&lt;br/&gt;
multiple dimension joins one after the other ? I think, we should start with a few assumptions:&lt;/p&gt;

&lt;p&gt;1. The user will not give any map-join hints. Let us derive thin info. from the statistics, as Mark suggested.&lt;br/&gt;
2. This should be a single map-only job (no reducer).&lt;br/&gt;
3. As a first cut, it might be useful to optimize the query:&lt;/p&gt;

&lt;p&gt;   select /*+ MAPJOIN(b,c) */ from FACT a join DIM1 b on a.k1=b.k1 JOIN DIM2 c on a.k2=c.k2&lt;/p&gt;

&lt;p&gt;The above query should not have a back-up task in case the map-join fails, and it should be run&lt;br/&gt;
as a single map-only job. Once that is done, using cost to convert join into map-join can be explored independently.&lt;/p&gt;</comment>
                            <comment id="13490466" author="mgrover" created="Mon, 5 Nov 2012 05:35:22 +0000"  >&lt;p&gt;Namit, can you please elaborate on why there shouldn&apos;t be a back-up task? In case where a dimension table (for some reason) is bigger than what can fit in in mapper&apos;s memory, do we want to fail or fallback to a regular join?&lt;/p&gt;</comment>
                            <comment id="13490470" author="namit" created="Mon, 5 Nov 2012 06:00:56 +0000"  >&lt;p&gt;I was thinking more from the point of the current implementation.&lt;br/&gt;
A backup task is per join operation currently.&lt;br/&gt;
Thinking more about it, we can have a backup task (which can be a tree of tasks).&lt;/p&gt;

&lt;p&gt;It would be very difficult to fit the following in the current architecture. &lt;br/&gt;
There are 10 dimension tables, 9 of them fit into memory and one of them dont.&lt;br/&gt;
Perform a map-only join for the first 9, and then a regular backup join for the last one.&lt;br/&gt;
I am not sure, if we want to optimize that.&lt;/p&gt;</comment>
                            <comment id="13490471" author="amareshwari" created="Mon, 5 Nov 2012 06:15:07 +0000"  >&lt;blockquote&gt;&lt;p&gt;Amareshwari, what are your thoughts on how the user can specify which is a fact table and which is a dimension table? Or, are you using storage based statistics to infer that information?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;If the query involves join of one big table with multiple small tables and join is on different keys, we can always generate single map-only job. I&apos;m thinking we need not have any other ways to specify which is fact and which is dimension table.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;do you think it would be possible to get a cheap implementation with a single mapper performing&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;multiple dimension joins one after the other?&lt;/p&gt;

&lt;p&gt;Yes. I will do for this first.&lt;/p&gt;</comment>
                            <comment id="13490475" author="mgrover" created="Mon, 5 Nov 2012 06:37:10 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~namitjain&amp;#93;&lt;/span&gt; Agreed. I would be fine with no backup join, at least in the first pass.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amareshwari&quot; class=&quot;user-hover&quot; rel=&quot;amareshwari&quot;&gt;Amareshwari Sriramadasu&lt;/a&gt; Thanks for the response.&lt;/p&gt;

&lt;p&gt;If we are going figure out fact and dimension tables by just looking at the join keys and relative sizes of tables, there could be existing Hive queries out there that might start failing (albeit by flipping of a property or inclusion of a query hint) when they upgrade Hive. That&apos;s where I think having a backup task would be nice because the queries will still continue to pass if we have a backup task.&lt;/p&gt;</comment>
                            <comment id="13490506" author="amareshwari" created="Mon, 5 Nov 2012 08:35:01 +0000"  >&lt;p&gt;&quot;If we have series of MapJoinOperators, and the Operator tree has MapJoin followed by MapJoin&quot;, then we can run all the map joins in single query. Some of this already solved by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1246&quot; title=&quot;mapjoin followed by another mapjoin should be performed in a single query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1246&quot;&gt;&lt;del&gt;HIVE-1246&lt;/del&gt;&lt;/a&gt;. I think we need to do some more changes to accept queries of the following form also :&lt;/p&gt;


&lt;p&gt;select /*+ MAPJOIN(b,c) */ from FACT a join DIM1 b on a.k1=b.k1 JOIN DIM2 c on a.k2=c.k2&lt;/p&gt;

&lt;p&gt;or &lt;/p&gt;

&lt;p&gt;select /*+ MAPJOIN(b,c) */ from FACT a join DIM1 b on a.k1=b.k1 JOIN DIM2 c on b.k2=c.k2&lt;/p&gt;</comment>
                            <comment id="13490513" author="amareshwari" created="Mon, 5 Nov 2012 08:47:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;&quot;If we have series of MapJoinOperators, and the Operator tree has MapJoin followed by MapJoin&quot;, then we can run all the map joins in single query. Some of this already solved by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1246&quot; title=&quot;mapjoin followed by another mapjoin should be performed in a single query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1246&quot;&gt;&lt;del&gt;HIVE-1246&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sorry, was too quick here. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1246&quot; title=&quot;mapjoin followed by another mapjoin should be performed in a single query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1246&quot;&gt;&lt;del&gt;HIVE-1246&lt;/del&gt;&lt;/a&gt; solves case of all join keys being same. &lt;/p&gt;

&lt;p&gt;If we have MapJoin followed by MapJoin, can we make the second operator child of first instead of a sink in between? I&apos;m thinking that should just working for the cases of joining on different keys. Let me know if I&apos;m wrong.&lt;/p&gt;</comment>
                            <comment id="13490521" author="amareshwari" created="Mon, 5 Nov 2012 09:03:07 +0000"  >&lt;blockquote&gt;&lt;p&gt;select /*+ MAPJOIN(b,c) */ from FACT a join DIM1 b on a.k1=b.k1 JOIN DIM2 c on a.k2=c.k2&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I modified the above query to be the following  (with a subquery) :&lt;/p&gt;

&lt;p&gt;SELECT /&lt;b&gt;+ MAPJOIN(dim2) */ subq.m1, subq.m2 FROM (SELECT /&lt;/b&gt;+ MAPJOIN(dim1) */ m1, m2, k2  FROM fact JOIN dim1 ON (fact.k1 = dim1.k1)) subq JOIN dim2 ON (subq.k2 = dim2.k2);&lt;/p&gt;

&lt;p&gt;And it is already launching a single map reduce job for both the joins.&lt;/p&gt;</comment>
                            <comment id="13490583" author="namit" created="Mon, 5 Nov 2012 11:49:54 +0000"  >&lt;p&gt;I think this will launch 2 map-only jobs in the presence of auto join conversion.&lt;br/&gt;
We do want to support auto join conversion.&lt;/p&gt;</comment>
                            <comment id="13490587" author="amareshwari" created="Mon, 5 Nov 2012 12:00:16 +0000"  >&lt;p&gt;Namit, Are you saying if we enhance MapJoinProcessor to do single map for MapJoin followed by MapJoin (as in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1246&quot; title=&quot;mapjoin followed by another mapjoin should be performed in a single query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1246&quot;&gt;&lt;del&gt;HIVE-1246&lt;/del&gt;&lt;/a&gt;)  may not work in auto join conversion?&lt;/p&gt;

&lt;p&gt;I thought whether it is by providing hint or auto join conversion, it does not matter to MapJoinProcessor optimizer. Correct me if I&apos;m wrong. &lt;/p&gt;</comment>
                            <comment id="13490750" author="namit" created="Mon, 5 Nov 2012 17:20:39 +0000"  >&lt;p&gt;Yes, it will not work automatically.&lt;/p&gt;

&lt;p&gt;You need to change the auto join conversion logic, where you will create a task tree as a backup task for multiple mapjoins.&lt;br/&gt;
It is do-able, and maybe the cleanest way of fitting it into the current architecture.&lt;/p&gt;</comment>
                            <comment id="13542361" author="vikram.dixit" created="Wed, 2 Jan 2013 19:58:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amareshwari&quot; class=&quot;user-hover&quot; rel=&quot;amareshwari&quot;&gt;Amareshwari Sriramadasu&lt;/a&gt; I am quite interested in this jira and was wondering what phase you are in with respect to design/implementation. I would like to collaborate with you on this if possible. Please let me know.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13542723" author="amareshwari" created="Thu, 3 Jan 2013 05:25:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;Vikram Dixit K&lt;/a&gt;I&apos;m not working on it right now. May not get time in next one month also. Please feel free work on it, if interested.&lt;/p&gt;</comment>
                            <comment id="13577215" author="vikram.dixit" created="Wed, 13 Feb 2013 00:27:28 +0000"  >&lt;p&gt;The work required for this jira is fixed as part of de-emphasizing of map-join work done in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3784&quot; title=&quot;de-emphasize mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3784&quot;&gt;&lt;del&gt;HIVE-3784&lt;/del&gt;&lt;/a&gt;. The query &lt;/p&gt;

{format}select /*+ MAPJOIN(b,c) */ from FACT a join DIM1 b on a.k1=b.k1 JOIN DIM2 c on b.k2=c.k2{format}

&lt;p&gt;runs in 1 MR job (based on the noConditionalTask.size).&lt;/p&gt;</comment>
                            <comment id="13577341" author="amareshwari" created="Wed, 13 Feb 2013 05:17:40 +0000"  >&lt;p&gt;When I ran the same query on the latest trunk with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3784&quot; title=&quot;de-emphasize mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3784&quot;&gt;&lt;del&gt;HIVE-3784&lt;/del&gt;&lt;/a&gt; fixed, I see the following :&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;explain select /*+ MAPJOIN(b,c) */ * from fact a join dim1 b on a.k1=b.k1 JOIN  dim2 c on a.k2=c.k2;
FAILED: SemanticException [Error 10227]: Not all clauses are supported with mapjoin hint. Please remove mapjoin hint. 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;When I set hive.auto.convert.join=true; and run the following :&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;explain select * from fact a join dim1 b on a.k1=b.k1 JOIN  dim2 c on a.k2=c.k2;

STAGE DEPENDENCIES:
  Stage-10 is a root stage , consists of Stage-13, Stage-14, Stage-1
  Stage-13 has a backup stage: Stage-1
  Stage-8 depends on stages: Stage-13
  Stage-7 depends on stages: Stage-1, Stage-8, Stage-9 , consists of Stage-11, Stage-12, Stage-2
  Stage-11 has a backup stage: Stage-2
  Stage-5 depends on stages: Stage-11
  Stage-12 has a backup stage: Stage-2
  Stage-6 depends on stages: Stage-12
  Stage-2
  Stage-14 has a backup stage: Stage-1
  Stage-9 depends on stages: Stage-14
  Stage-1
  Stage-0 is a root stage

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And the above query launches two MR jobs. Correct me if i am doing anything wrong. &lt;/p&gt;

&lt;p&gt;Namit, Can you confirm if this is fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3784&quot; title=&quot;de-emphasize mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3784&quot;&gt;&lt;del&gt;HIVE-3784&lt;/del&gt;&lt;/a&gt; and is there any other way to run this?&lt;/p&gt;

&lt;p&gt;Vikram, If you are seeing this fixed, can you please add tests if no code changes are required?&lt;/p&gt;</comment>
                            <comment id="13577353" author="amareshwari" created="Wed, 13 Feb 2013 06:02:13 +0000"  >&lt;p&gt;Even with hive.auto.convert.join.noconditionaltask set to true, I&apos;m seeing two MR jobs getting launched.&lt;/p&gt;</comment>
                            <comment id="13577365" author="namit" created="Wed, 13 Feb 2013 06:35:27 +0000"  >&lt;p&gt;Is your size threshold correct &amp;#8211; hive.auto.convert.join.noconditionaltask.size ?&lt;/p&gt;</comment>
                            <comment id="13577368" author="amareshwari" created="Wed, 13 Feb 2013 06:40:34 +0000"  >&lt;blockquote&gt;&lt;p&gt;Is your size threshold correct &#8211; hive.auto.convert.join.noconditionaltask.size ?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes. The tables are very small. I tested with empty tables as well. I&apos;m seeing the same behavior.&lt;/p&gt;</comment>
                            <comment id="13577391" author="vikram.dixit" created="Wed, 13 Feb 2013 07:26:46 +0000"  >&lt;p&gt;Hi Amareshwari,&lt;/p&gt;

&lt;p&gt;If you look at test case join32.q, it is almost the same as the one you had posted. It launches only one MR task (&lt;a href=&quot;http://svn.apache.org/viewvc/hive/trunk/ql/src/test/results/clientpositive/join32.q.out?view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/hive/trunk/ql/src/test/results/clientpositive/join32.q.out?view=markup&lt;/a&gt;) I tried this with a fully installed cluster as well and I can see only one task. Another issue to consider would be &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3996&quot; title=&quot;Correctly enforce the memory limit on the multi-table map-join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3996&quot;&gt;&lt;del&gt;HIVE-3996&lt;/del&gt;&lt;/a&gt; and see if that makes a difference. Kindly correct me if I am wrong.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13577402" author="amareshwari" created="Wed, 13 Feb 2013 08:11:55 +0000"  >&lt;p&gt;Attaching test with .q and .out files, which is launching two MR jobs for star join queries.&lt;/p&gt;</comment>
                            <comment id="13577403" author="amareshwari" created="Wed, 13 Feb 2013 08:20:45 +0000"  >&lt;p&gt;Seems I figured it out. The hive.auto.convert.join.noconditionaltask.size is not the number of rows. When i changed hive.auto.convert.join.noconditionaltask.size value in the attached tests, it is launching one MR job. Will upload the patch again to add tests.&lt;/p&gt;</comment>
                            <comment id="13577413" author="amareshwari" created="Wed, 13 Feb 2013 08:44:17 +0000"  >&lt;p&gt;Attaching the tests again. With hive.auto.convert.join.noconditionaltask.size increased, it launches single MR job for the queries.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12623099">HIVE-3784</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12623099">HIVE-3784</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12569162" name="HIVE-3652-tests.patch" size="17121" author="amareshwari" created="Wed, 13 Feb 2013 08:44:17 +0000"/>
                            <attachment id="12569159" name="HIVE-3652-tests.patch" size="23157" author="amareshwari" created="Wed, 13 Feb 2013 08:11:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 4 Nov 2012 20:02:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253944</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ec9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>81749</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3653] Failure in a counter poller run should not be considered as a job failure</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3653</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A client had a simple transient failure in polling the JT for job status (which it does for HIVECOUNTERSPULLINTERVAL for each currently running job).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.io.IOException: Call to HOST/IP:PORT failed on local exception: java.io.IOException: Connection reset by peer 
at org.apache.hadoop.ipc.Client.wrapException(Client.java:1142) 
at org.apache.hadoop.ipc.Client.call(Client.java:1110) 
at org.apache.hadoop.ipc.RPC$Invoker.invoke(RPC.java:226) 
at org.apache.hadoop.mapred.$Proxy10.getJobStatus(Unknown Source) 
at org.apache.hadoop.mapred.JobClient.getJob(JobClient.java:1053) 
at org.apache.hadoop.mapred.JobClient.getJob(JobClient.java:1065) 
at org.apache.hadoop.hive.ql.exec.ExecDriver.progress(ExecDriver.java:351) 
at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:686) 
at org.apache.hadoop.hive.ql.exec.MapRedTask.execute(MapRedTask.java:123) 
at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:131) 
at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:57) 
at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1063) 
at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:900) 
at org.apache.hadoop.hive.ql.Driver.run(Driver.java:748) 
at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:209) 
at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:286) 
at org.apache.hadoop.hive.cli.CliDriver.processReader(CliDriver.java:310) 
at org.apache.hadoop.hive.cli.CliDriver.processFile(CliDriver.java:317) 
at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:490) 
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) 
at java.lang.reflect.Method.invoke(Method.java:597) 
at org.apache.hadoop.util.RunJar.main(RunJar.java:197) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This lead to Hive thinking the running job itself has failed, and it failed the query run, although the running job progressed to completion in the background.&lt;/p&gt;

&lt;p&gt;We should not let transient IOExceptions in counter polling cause query termination, and should instead just retry.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614491">HIVE-3653</key>
            <summary>Failure in a counter poller run should not be considered as a job failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="qwertymaniac">Harsh J</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Nov 2012 10:05:29 +0000</created>
                <updated>Wed, 3 Sep 2014 23:43:07 +0000</updated>
                                            <version>0.7.1</version>
                                                    <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14120694" author="dareonion" created="Wed, 3 Sep 2014 23:43:07 +0000"  >&lt;p&gt;The jobtracker RPC server is dropping your connection &amp;#8211; you could consider tracking rpc latency stats, and/or upping the number of threads in the RPC server, or possibly upping the max idle time for handler threads before they get killed/reclaimed by the rpc server. There may also be other options.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 Sep 2014 23:43:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 20 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0edq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>81986</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3654] block relative path access in hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3654</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;metadata only optimizer uses relative paths&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614492">HIVE-3654</key>
            <summary>block relative path access in hive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Nov 2012 10:29:20 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:33 +0000</updated>
                            <resolved>Thu, 8 Nov 2012 17:58:34 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13489362" author="namit" created="Fri, 2 Nov 2012 11:14:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6417&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6417&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13492165" author="kevinwilfong" created="Wed, 7 Nov 2012 06:52:35 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13493343" author="kevinwilfong" created="Thu, 8 Nov 2012 17:58:34 +0000"  >&lt;p&gt;Committed, thanks Namit.&lt;/p&gt;</comment>
                            <comment id="13493661" author="hudson" created="Fri, 9 Nov 2012 01:27:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1783 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1783/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3654&quot; title=&quot;block relative path access in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3654&quot;&gt;&lt;del&gt;HIVE-3654&lt;/del&gt;&lt;/a&gt;. block relative path access in hive. (njain via kevinwilfong) (Revision 1407186)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407186&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407186&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/MetadataOnlyOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548319" author="hudson" created="Wed, 9 Jan 2013 10:25:16 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3654&quot; title=&quot;block relative path access in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3654&quot;&gt;&lt;del&gt;HIVE-3654&lt;/del&gt;&lt;/a&gt;. block relative path access in hive. (njain via kevinwilfong) (Revision 1407186)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407186&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407186&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/MetadataOnlyOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550146" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:33 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551848" name="hive.3654.1.patch" size="7786" author="namit" created="Fri, 2 Nov 2012 11:15:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Nov 2012 06:52:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0edqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>81987</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3655] Use ChainMapper and ChainReducer for queries having [Map+][RMap*] pattern</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3655</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;While breaking the query plan into multiple map reduce tasks, Hive should consider the pattern &lt;span class=&quot;error&quot;&gt;&amp;#91;Map+&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ReduceMap*&amp;#93;&lt;/span&gt; and generate single map reduce job for such patterns using ChainMapper and ChainReducer&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614497">HIVE-3655</key>
            <summary>Use ChainMapper and ChainReducer for queries having [Map+][RMap*] pattern</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="amareshwari">Amareshwari Sriramadasu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Nov 2012 11:37:23 +0000</created>
                <updated>Mon, 4 Mar 2013 04:16:02 +0000</updated>
                            <resolved>Mon, 4 Mar 2013 04:16:02 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0edrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>81992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3656] Fix ERROR logging related to hive.metastore.uris and javax.jdo.option.ConnectionURL being set</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3656</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In order to ensure the defaults are set, HiveConf sets javax.jdo.option.ConnectionURL to the default, embedded Derby DB. &lt;/p&gt;

&lt;p&gt;When utilizing the hive.metastore.uris (for example, using a thrift://host:port) to connect to an external metastore, the code block below is executed:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.get(ConfVars.METASTOREURIS.varname, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) &amp;amp;&amp;amp;
  &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.get(ConfVars.METASTORECONNECTURLKEY.varname, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)) {
    l4j.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Found both &quot;&lt;/span&gt; + ConfVars.METASTOREURIS.varname + &lt;span class=&quot;code-quote&quot;&gt;&quot; and &quot;&lt;/span&gt; +
      ConfVars.METASTORECONNECTURLKEY + &lt;span class=&quot;code-quote&quot;&gt;&quot; Recommended to have exactly one of those config key&quot;&lt;/span&gt; +
      &lt;span class=&quot;code-quote&quot;&gt;&quot;in configuration&quot;&lt;/span&gt;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Quick way to test is with HiveServer2:&lt;/p&gt;

&lt;p&gt;hive --config /path/to/hive-site.xml --service hiveserver2 &lt;/p&gt;

&lt;p&gt;with hive-site.xml utilizing the hive.metastore.uris&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614510">HIVE-3656</key>
            <summary>Fix ERROR logging related to hive.metastore.uris and javax.jdo.option.ConnectionURL being set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ctm">Chris McConnell</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Nov 2012 13:15:27 +0000</created>
                <updated>Fri, 2 Nov 2012 13:15:27 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ehtr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>82650</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3657] errors in testParse due to HIVE-3570</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3657</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For some reason, I missed the test failures before committing.&lt;br/&gt;
My bad, updating the new test files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614532">HIVE-3657</key>
            <summary>errors in testParse due to HIVE-3570</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Nov 2012 16:59:56 +0000</created>
                <updated>Tue, 6 Nov 2012 21:05:09 +0000</updated>
                            <resolved>Tue, 6 Nov 2012 21:05:09 +0000</resolved>
                                                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13489553" author="namit" created="Fri, 2 Nov 2012 17:18:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6423&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6423&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12614875">HIVE-3674</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12551885" name="hive.3657.1.patch" size="5772" author="namit" created="Fri, 2 Nov 2012 17:19:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254018</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ei1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>82687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3658] Unable to generate the Hbase related unit tests using velocity templates on Windows</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3658</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Requires to escape the &#8220;\&#8221; on windows to make it compile. So make sure to use the escaped path in the VM templates instead of actual path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614533">HIVE-3658</key>
            <summary>Unable to generate the Hbase related unit tests using velocity templates on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                            <label>Windows</label>
                    </labels>
                <created>Fri, 2 Nov 2012 17:02:27 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:18 +0000</updated>
                            <resolved>Thu, 8 Nov 2012 16:36:11 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13489547" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 17:11:21 +0000"  >&lt;p&gt;Please find the code review request at &lt;a href=&quot;https://reviews.apache.org/r/7833/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7833/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13492996" author="ashutoshc" created="Thu, 8 Nov 2012 06:28:10 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13493289" author="ashutoshc" created="Thu, 8 Nov 2012 16:36:11 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13493660" author="hudson" created="Fri, 9 Nov 2012 01:27:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1783 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1783/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3658&quot; title=&quot;Unable to generate the Hbase related unit tests using velocity templates on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3658&quot;&gt;&lt;del&gt;HIVE-3658&lt;/del&gt;&lt;/a&gt; : Unable to generate the Hbase related unit tests using velocity templates on Windows (Kanna Karanam via Ashutosh Chauhan) (Revision 1407160)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407160&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407160&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/templates/TestHBaseCliDriver.vm&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/templates/TestHBaseNegativeCliDriver.vm&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548109" author="hudson" created="Wed, 9 Jan 2013 10:24:25 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3658&quot; title=&quot;Unable to generate the Hbase related unit tests using velocity templates on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3658&quot;&gt;&lt;del&gt;HIVE-3658&lt;/del&gt;&lt;/a&gt; : Unable to generate the Hbase related unit tests using velocity templates on Windows (Kanna Karanam via Ashutosh Chauhan) (Revision 1407160)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407160&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407160&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/templates/TestHBaseCliDriver.vm&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/templates/TestHBaseNegativeCliDriver.vm&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550080" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:18 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551883" name="HIVE-3658.1.patch.txt" size="1136" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 17:11:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Nov 2012 06:28:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254019</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ei27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>82688</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3659] TestHiveHistory::testQueryloglocParentDirNotExist Test fails on Windows because of some resource leaks in ZK</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3659</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive uses ZK for locking. In some test cases, ZK is not behaving well. In thread dumps, I saw it is waiting for locks to be released but they were not getting released. Hive tries to release locks but keeps failing, it eventually times out for its release attempts, which in default settings takes 10 mins. This is also the cause of why some queries take extra-ordinarily long to run. I suggest to disable ZK locking till ZK is certified for windows.&lt;/p&gt;

&lt;p&gt;In this test case, I don&#8217;t see a requirement to use ZK so I am disabling the HiveConf.ConfVars.HIVE_SUPPORT_CONCURRENCY to work around the issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614541">HIVE-3659</key>
            <summary>TestHiveHistory::testQueryloglocParentDirNotExist Test fails on Windows because of some resource leaks in ZK</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                            <label>Windows</label>
                    </labels>
                <created>Fri, 2 Nov 2012 17:48:00 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:14 +0000</updated>
                            <resolved>Sat, 10 Nov 2012 02:39:13 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13489606" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 18:04:17 +0000"  >&lt;p&gt;Please find the code review request at &lt;a href=&quot;https://reviews.apache.org/r/7835/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7835/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13493300" author="ashutoshc" created="Thu, 8 Nov 2012 16:53:05 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13494533" author="ashutoshc" created="Sat, 10 Nov 2012 02:39:13 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13494687" author="hudson" created="Sat, 10 Nov 2012 13:51:17 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1789 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1789/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1789/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3659&quot; title=&quot;TestHiveHistory::testQueryloglocParentDirNotExist Test fails on Windows because of some resource leaks in ZK&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3659&quot;&gt;&lt;del&gt;HIVE-3659&lt;/del&gt;&lt;/a&gt; : TestHiveHistory::testQueryloglocParentDirNotExist Test fails on Windows because of some resource leaks in ZK (Kanna Karanam via Ashutosh Chauhan) (Revision 1407719)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407719&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407719&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/history/TestHiveHistory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548114" author="hudson" created="Wed, 9 Jan 2013 10:24:27 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3659&quot; title=&quot;TestHiveHistory::testQueryloglocParentDirNotExist Test fails on Windows because of some resource leaks in ZK&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3659&quot;&gt;&lt;del&gt;HIVE-3659&lt;/del&gt;&lt;/a&gt; : TestHiveHistory::testQueryloglocParentDirNotExist Test fails on Windows because of some resource leaks in ZK (Kanna Karanam via Ashutosh Chauhan) (Revision 1407719)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407719&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407719&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/history/TestHiveHistory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550062" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:14 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551896" name="HIVE-3659.1.patch.txt" size="1427" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 18:04:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Nov 2012 16:53:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254027</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ei4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>82698</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3660] Improve OutputFormat for Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3660</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive&apos;s output formats are currently given a list of binary blobs to store, which severely limits the options for file formats. I&apos;d like to create a new OutputFormat interface that provides:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;table properties&lt;/li&gt;
	&lt;li&gt;object inspector for the row&lt;/li&gt;
	&lt;li&gt;type info for the row&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The RecordWriter would be passed the internal row object.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614547">HIVE-3660</key>
            <summary>Improve OutputFormat for Hive</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="owen.omalley">Owen O&apos;Malley</assignee>
                                    <reporter username="owen.omalley">Owen O&apos;Malley</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Nov 2012 18:14:45 +0000</created>
                <updated>Fri, 2 Nov 2012 18:15:39 +0000</updated>
                                                                            <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12455384">HIVE-1133</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254033</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ei5z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>82705</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3661] Remove the Windows specific &#8220;=&#8221; related swizzle path changes from Proxy FileSystems</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3661</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Because of this special conversion, Some other unit tests are failing on Windows. After some other investigation, We noticed that &#8220;=&#8221; is a valid character that can be included in the Windows paths. So I am reverting back &#8220;=&#8221; related changes from the swizzle path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614548">HIVE-3661</key>
            <summary>Remove the Windows specific &#8220;=&#8221; related swizzle path changes from Proxy FileSystems</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                            <label>Windows</label>
                    </labels>
                <created>Fri, 2 Nov 2012 18:25:48 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:08 +0000</updated>
                            <resolved>Thu, 8 Nov 2012 16:34:16 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13489637" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 18:32:36 +0000"  >&lt;p&gt;Please find the code review request at &lt;a href=&quot;https://reviews.apache.org/r/7836/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7836/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13492997" author="ashutoshc" created="Thu, 8 Nov 2012 06:31:49 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13493288" author="ashutoshc" created="Thu, 8 Nov 2012 16:34:16 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13493662" author="hudson" created="Fri, 9 Nov 2012 01:27:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1783 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1783/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3661&quot; title=&quot;Remove the Windows specific &#8220;=&#8221; related swizzle path changes from Proxy FileSystems&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3661&quot;&gt;&lt;del&gt;HIVE-3661&lt;/del&gt;&lt;/a&gt; : Remove the Windows specific = related swizzle path changes from Proxy FileSystems (Kanna Karanam via Ashutosh Chauhan) (Revision 1407159)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407159&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407159&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/fs/ProxyFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/fs/ProxyLocalFileSystem.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548135" author="hudson" created="Wed, 9 Jan 2013 10:24:32 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3661&quot; title=&quot;Remove the Windows specific &#8220;=&#8221; related swizzle path changes from Proxy FileSystems&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3661&quot;&gt;&lt;del&gt;HIVE-3661&lt;/del&gt;&lt;/a&gt; : Remove the Windows specific = related swizzle path changes from Proxy FileSystems (Kanna Karanam via Ashutosh Chauhan) (Revision 1407159)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407159&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407159&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/fs/ProxyFileSystem.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/fs/ProxyLocalFileSystem.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550035" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:08 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551902" name="HIVE-3661.1.patch.txt" size="2110" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 18:32:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Nov 2012 06:31:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254034</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ei6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>82707</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3662] TestHiveServer: testScratchDirShouldClearWhileStartup is failing on Windows</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3662</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Test case is attempting to delete the ScratchDir but it is failing on Windows because one of the subfolders (local scratchdir) in use. So change the location of the local scratch directory.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614556">HIVE-3662</key>
            <summary>TestHiveServer: testScratchDirShouldClearWhileStartup is failing on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                            <label>Windows</label>
                    </labels>
                <created>Fri, 2 Nov 2012 18:53:26 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:56 +0000</updated>
                            <resolved>Sat, 10 Nov 2012 02:25:01 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13489654" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 18:57:01 +0000"  >&lt;p&gt;Please find the code review request at &lt;a href=&quot;https://reviews.apache.org/r/7837/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7837/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13493294" author="ashutoshc" created="Thu, 8 Nov 2012 16:46:33 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13494524" author="ashutoshc" created="Sat, 10 Nov 2012 02:25:01 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13494688" author="hudson" created="Sat, 10 Nov 2012 13:51:18 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1789 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1789/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1789/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3662&quot; title=&quot;TestHiveServer: testScratchDirShouldClearWhileStartup is failing on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3662&quot;&gt;&lt;del&gt;HIVE-3662&lt;/del&gt;&lt;/a&gt; : TestHiveServer: testScratchDirShouldClearWhileStartup is failing on Windows (Kanna Karanam via Ashutosh Chauhan) (Revision 1407720)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407720&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407720&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/conf/hive-site.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548146" author="hudson" created="Wed, 9 Jan 2013 10:24:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3662&quot; title=&quot;TestHiveServer: testScratchDirShouldClearWhileStartup is failing on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3662&quot;&gt;&lt;del&gt;HIVE-3662&lt;/del&gt;&lt;/a&gt; : TestHiveServer: testScratchDirShouldClearWhileStartup is failing on Windows (Kanna Karanam via Ashutosh Chauhan) (Revision 1407720)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407720&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407720&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/conf/hive-site.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550244" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:56 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551906" name="HIVE-3662.1.patch.txt" size="440" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 18:57:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Nov 2012 16:46:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254044</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ei8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>82717</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3663] Unable to display the MR Job file path on Windows in case of MR job failures.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3663</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Because of this bunch of CLI negative tests are failing on windows.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614560">HIVE-3663</key>
            <summary>Unable to display the MR Job file path on Windows in case of MR job failures.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                            <label>Windows</label>
                    </labels>
                <created>Fri, 2 Nov 2012 19:17:27 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:09 +0000</updated>
                            <resolved>Sat, 10 Nov 2012 02:39:54 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13489680" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 19:22:44 +0000"  >&lt;p&gt;Please find the code review request at &lt;a href=&quot;https://reviews.apache.org/r/7839/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7839/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13493292" author="ashutoshc" created="Thu, 8 Nov 2012 16:43:50 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13494534" author="ashutoshc" created="Sat, 10 Nov 2012 02:39:54 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13494689" author="hudson" created="Sat, 10 Nov 2012 13:51:18 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1789 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1789/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1789/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3663&quot; title=&quot;Unable to display the MR Job file path on Windows in case of MR job failures.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3663&quot;&gt;&lt;del&gt;HIVE-3663&lt;/del&gt;&lt;/a&gt; Unable to display the MR Job file path on Windows in case of MR job failures.  (Kanna Karanam via Ashutosh Chauhan) (Revision 1407716)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407716&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407716&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/HadoopJobExecHelper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548147" author="hudson" created="Wed, 9 Jan 2013 10:24:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3663&quot; title=&quot;Unable to display the MR Job file path on Windows in case of MR job failures.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3663&quot;&gt;&lt;del&gt;HIVE-3663&lt;/del&gt;&lt;/a&gt; Unable to display the MR Job file path on Windows in case of MR job failures.  (Kanna Karanam via Ashutosh Chauhan) (Revision 1407716)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407716&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407716&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/HadoopJobExecHelper.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550042" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:09 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551915" name="HIVE-3663.1.patch.txt" size="956" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 19:22:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Nov 2012 16:43:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254048</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ei9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>82721</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3664] Avoid to create a symlink for hive-contrib.jar file in dist\lib folder.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3664</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It forces us to enumerate all the jars except this jar on Windows instead of directly referencing the &#8220;dist\lib&amp;#42;.jar&#8221; folder in the class path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614563">HIVE-3664</key>
            <summary>Avoid to create a symlink for hive-contrib.jar file in dist\lib folder.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                            <label>Windows</label>
                    </labels>
                <created>Fri, 2 Nov 2012 19:30:14 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:43 +0000</updated>
                            <resolved>Wed, 14 Nov 2012 23:28:02 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13489690" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 19:33:40 +0000"  >&lt;p&gt;Please find the code review request at &lt;a href=&quot;https://reviews.apache.org/r/7840/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7840/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13493313" author="ashutoshc" created="Thu, 8 Nov 2012 17:19:55 +0000"  >&lt;p&gt;@Kanna, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2061&quot; title=&quot;Create a hive_contrib.jar symlink to hive-contrib-{version}.jar for backward compatibility&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2061&quot;&gt;&lt;del&gt;HIVE-2061&lt;/del&gt;&lt;/a&gt; introduced this for backward compatibility reason. Currently, user needs to &lt;b&gt;add&lt;/b&gt; this jar in their script. So, if we don&apos;t create a symlink user needs to update their script every time we upgrade a hive version, which is not ideal. I am not sure what problem you are facing with symlinks on Windows, but if that is not easily solvable one potential workaround would be to check in build.xml that OS is windows and then not create symlink, but instead copy hive-contrib-0.9.0 with name hive-contrib.jar. This will avoid backward incompatibility as well as need to create symlink on Windows. But, before we go down that path perhaps we should investigate more whats the problem with symlinks on Windows.   &lt;/p&gt;</comment>
                            <comment id="13493485" author="kannakar@microsoft.com" created="Thu, 8 Nov 2012 21:00:33 +0000"  >&lt;p&gt;Thanks Ashutosh - In Windows, When we specify the class path as &#8220;HIVE_DIR\Dist\Lib&amp;#42;&#8221; instead of enumerating individual jars (because of 8k limitation on environment variable), JAVA is trying to load the &#8220;hive-contrib.jar&#8221; as regular jar and failing. Based on the comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3092&quot; title=&quot;Hive tests should load Hive classes from build directory, not Ivy cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3092&quot;&gt;&lt;del&gt;HIVE-3092&lt;/del&gt;&lt;/a&gt;, I think it is safe to remove them. If not, I can conditionally skip this on Windows.&lt;/p&gt;

&lt;p&gt;udf-compile:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; *** Compiling UDFs ***&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Compiling 25 source files to c:\Jenkins\workspace\windows.hive.20.unsecure\datateamtest\hcatalog\udfs\java\build&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; error: error reading C:\Hadoop\hive-0.9.0\lib\hive_contrib.jar; error in opening zip file&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; 1 error&lt;br/&gt;
On clicking C:\Hadoop\hive-0.9.0\lib\hive_contrib.jar, I get an error message &quot;Invalid or corrupt jarfile C:\Hadoop\hive-0.9.0\lib\hive_contrib.jar&quot;&lt;br/&gt;
C:\Hadoop\hive-0.9.0\lib&amp;gt;ls -l hive_contrib.jar&lt;br/&gt;
&lt;del&gt;rw-r&lt;/del&gt;&lt;del&gt;r&lt;/del&gt;-    1 Administ Administ       58 Aug 30 00:41 hive_contrib.jar&lt;/p&gt;

&lt;p&gt;C:\Hadoop\hive-0.9.0\lib&amp;gt;jar -tvf hive_contrib.jar&lt;br/&gt;
java.util.zip.ZipException: error in opening zip file&lt;br/&gt;
        at java.util.zip.ZipFile.open(Native Method)&lt;br/&gt;
        at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:127)&lt;br/&gt;
        at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:88)&lt;br/&gt;
        at sun.tools.jar.Main.list(Main.java:979)&lt;br/&gt;
        at sun.tools.jar.Main.run(Main.java:224)&lt;br/&gt;
        at sun.tools.jar.Main.main(Main.java:1149)&lt;/p&gt;
</comment>
                            <comment id="13493490" author="ashutoshc" created="Thu, 8 Nov 2012 21:06:22 +0000"  >&lt;p&gt;Based on discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3092&quot; title=&quot;Hive tests should load Hive classes from build directory, not Ivy cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3092&quot;&gt;&lt;del&gt;HIVE-3092&lt;/del&gt;&lt;/a&gt; it seems like no one is depending on it. So, I think we are fine removing the symlink. &lt;br/&gt;
+1 will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="13496780" author="kannakar@microsoft.com" created="Wed, 14 Nov 2012 02:36:32 +0000"  >&lt;p&gt;@Ashutosh - Can you please commit these changes if there are no UT failures? Thanks&lt;/p&gt;</comment>
                            <comment id="13497581" author="ashutoshc" created="Wed, 14 Nov 2012 23:28:02 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13497904" author="hudson" created="Thu, 15 Nov 2012 10:22:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1797 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1797/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1797/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3664&quot; title=&quot;Avoid to create a symlink for hive-contrib.jar file in dist\lib folder.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3664&quot;&gt;&lt;del&gt;HIVE-3664&lt;/del&gt;&lt;/a&gt; : Avoid to create a symlink for hive-contrib.jar file in dist\lib folder. (Kanna Karanam via Ashutosh Chauhan) (Revision 1409548)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409548&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409548&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548142" author="hudson" created="Wed, 9 Jan 2013 10:24:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3664&quot; title=&quot;Avoid to create a symlink for hive-contrib.jar file in dist\lib folder.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3664&quot;&gt;&lt;del&gt;HIVE-3664&lt;/del&gt;&lt;/a&gt; : Avoid to create a symlink for hive-contrib.jar file in dist\lib folder. (Kanna Karanam via Ashutosh Chauhan) (Revision 1409548)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409548&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409548&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550186" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:43 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12551916" name="HIVE-3664.1.patch.txt" size="520" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 19:33:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Nov 2012 17:19:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254051</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eia7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>82724</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3665] Allow URIs without port to be specified in metatool</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3665</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Metatool should accept input URIs where one URI contains a port and the other doesn&apos;t. While metatool today accepts input URIs without the port when both the input URIs (oldLoc and newLoc) don&apos;t contain the port, we should make the tool a little more flexible to allow for the case where one URI contains a valid port and the other input URI doesn&apos;t. This makes more sense when transitioning to HA and a user chooses to specify the port as part of the oldLoc, but the port doesn&apos;t mean much for the newLoc.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614618">HIVE-3665</key>
            <summary>Allow URIs without port to be specified in metatool</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="shreepadma">Shreepadma Venugopalan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Nov 2012 23:48:51 +0000</created>
                <updated>Thu, 16 May 2013 21:10:16 +0000</updated>
                            <resolved>Wed, 28 Nov 2012 02:45:25 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13504890" author="ashutoshc" created="Tue, 27 Nov 2012 19:55:14 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13505182" author="ashutoshc" created="Wed, 28 Nov 2012 02:45:25 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Shreepadma!&lt;/p&gt;</comment>
                            <comment id="13505433" author="hudson" created="Wed, 28 Nov 2012 13:02:43 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1822 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1822/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1822/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3665&quot; title=&quot;Allow URIs without port to be specified in metatool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3665&quot;&gt;&lt;del&gt;HIVE-3665&lt;/del&gt;&lt;/a&gt;: Allow URIs without port to be specified in metatool (Shreepadma via Ashutosh Chauhan) (Revision 1414512)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414512&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414512&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/tools/HiveMetaTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548144" author="hudson" created="Wed, 9 Jan 2013 10:24:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3665&quot; title=&quot;Allow URIs without port to be specified in metatool&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3665&quot;&gt;&lt;del&gt;HIVE-3665&lt;/del&gt;&lt;/a&gt;: Allow URIs without port to be specified in metatool (Shreepadma via Ashutosh Chauhan) (Revision 1414512)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414512&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1414512&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/tools/HiveMetaTool.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12554950" name="HIVE-3665.1.patch.txt" size="1429" author="shreepadma" created="Tue, 27 Nov 2012 01:56:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 27 Nov 2012 19:55:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255034</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eom7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83750</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3666] implement a udf to keep hive session alive for certain amount of time</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3666</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;To make testing issues like &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3590&quot; title=&quot;TCP KeepAlive and connection timeout for the HiveServer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3590&quot;&gt;&lt;del&gt;HIVE-3590&lt;/del&gt;&lt;/a&gt; convenient, we can implement a UDF to keep hive session alive for a given time. The patch introduce a new UDF sleep() which does this without introducing any data/load to cluster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614623">HIVE-3666</key>
            <summary>implement a udf to keep hive session alive for certain amount of time</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="dreambird">Johnny Zhang</assignee>
                                    <reporter username="dreambird">Johnny Zhang</reporter>
                        <labels>
                    </labels>
                <created>Sat, 3 Nov 2012 00:30:18 +0000</created>
                <updated>Sun, 7 Jul 2013 15:54:03 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13489877" author="shreepadma" created="Sat, 3 Nov 2012 00:36:09 +0000"  >&lt;p&gt;@Johnny: Can you please provide a review board or phabricator review request for the patch? Thanks.&lt;/p&gt;</comment>
                            <comment id="13489909" author="dreambird" created="Sat, 3 Nov 2012 02:58:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=shreepadma&quot; class=&quot;user-hover&quot; rel=&quot;shreepadma&quot;&gt;Shreepadma Venugopalan&lt;/a&gt;, thanks for remind, here is the review board link &lt;a href=&quot;https://reviews.apache.org/r/7848/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7848/&lt;/a&gt;&lt;br/&gt;
also upload the SVN diff &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3666&quot; title=&quot;implement a udf to keep hive session alive for certain amount of time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3666&quot;&gt;HIVE-3666&lt;/a&gt;.patch&apos;&lt;/p&gt;</comment>
                            <comment id="13494559" author="mgrover" created="Sat, 10 Nov 2012 04:18:50 +0000"  >&lt;p&gt;Overall +1, minor comment in the description section&lt;/p&gt;</comment>
                            <comment id="13701596" author="appodictic" created="Sun, 7 Jul 2013 15:53:56 +0000"  >&lt;p&gt;We should really have a .q file here. IT is easy to miss things in generic udfs without an end to end test.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12552916" name="HIVE-3666.patch" size="5554" author="dreambird" created="Fri, 9 Nov 2012 23:10:49 +0000"/>
                            <attachment id="12551965" name="HIVE-3666.patch" size="4935" author="dreambird" created="Sat, 3 Nov 2012 02:54:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 3 Nov 2012 00:36:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255039</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eonr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83757</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3667] Umbrella jira for Correlation Optimizer</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3667</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is an umbrella jira to track work related to Correlation Optimizer (originally proposed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2206&quot; title=&quot;add a new optimizer for query correlation discovery and optimization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2206&quot;&gt;&lt;del&gt;HIVE-2206&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614802">HIVE-3667</key>
            <summary>Umbrella jira for Correlation Optimizer</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Nov 2012 14:31:37 +0000</created>
                <updated>Mon, 14 Jul 2014 03:22:29 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12479272">HIVE-1772</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12606226">HIVE-3430</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12725885">HIVE-7362</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12509546">HIVE-2206</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12614805">HIVE-3668</subtask>
                            <subtask id="12614807">HIVE-3669</subtask>
                            <subtask id="12614808">HIVE-3670</subtask>
                            <subtask id="12614810">HIVE-3671</subtask>
                            <subtask id="12653548">HIVE-4751</subtask>
                            <subtask id="12664756">HIVE-5130</subtask>
                            <subtask id="12676677">HIVE-5697</subtask>
                            <subtask id="12684042">HIVE-6007</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255256</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eqe7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84038</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3668] Merge MapReduce jobs which share input tables and the same partitioning keys into a single MapReduce job</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3668</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In the plan of a query, if there exists MapReduce jobs created for aggregation operators or join operators which share one or more input tables and use the same partitioning keys to shuffle the data, these jobs can be merged into a single MapReduce job. Shared tables will be only scanned once.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614805">HIVE-3668</key>
            <summary>Merge MapReduce jobs which share input tables and the same partitioning keys into a single MapReduce job</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12614802">HIVE-3667</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Nov 2012 14:49:27 +0000</created>
                <updated>Mon, 5 Nov 2012 14:49:45 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12509546">HIVE-2206</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255259</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eqev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84041</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3669] Support queries in which input tables of correlated MR jobs involves intermediate tables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3669</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Correlation optimizer implemented in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2206&quot; title=&quot;add a new optimizer for query correlation discovery and optimization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2206&quot;&gt;&lt;del&gt;HIVE-2206&lt;/del&gt;&lt;/a&gt; does not optimize correlated MapReduce jobs which have intermediate tables as input.&lt;/p&gt;

&lt;p&gt;Here is an example originally posted in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3430&quot; title=&quot;group by followed by join with the same key should be optimized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3430&quot;&gt;&lt;del&gt;HIVE-3430&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt;
(
  &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;c&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(1) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; cnt &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt;
  (
    &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; b.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, b.&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt;
    (
      &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;) &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; T1 &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; ds = &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt;
    ) &lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;join&lt;/span&gt;
    T2 b &lt;span class=&quot;code-keyword&quot;&gt;on&lt;/span&gt; b.ds = &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt; = b.&lt;span class=&quot;code-keyword&quot;&gt;key&lt;/span&gt;
  ) &lt;span class=&quot;code-keyword&quot;&gt;c&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;c&lt;/span&gt;.&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;
) d
&lt;span class=&quot;code-keyword&quot;&gt;join&lt;/span&gt;
(
  &lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;count&lt;/span&gt;(1) &lt;span class=&quot;code-keyword&quot;&gt;as&lt;/span&gt; cnt &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; T2 &lt;span class=&quot;code-keyword&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;c&lt;/span&gt;.ds = &lt;span class=&quot;code-quote&quot;&gt;&apos;1&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;
) e
&lt;span class=&quot;code-keyword&quot;&gt;on&lt;/span&gt; d.&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt; = e.&lt;span class=&quot;code-keyword&quot;&gt;value&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Since correlated MapReduce jobs (those use &quot;value&quot; as the portioning key) involves an intermediate table &quot;c&quot;, implementation of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2206&quot; title=&quot;add a new optimizer for query correlation discovery and optimization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2206&quot;&gt;&lt;del&gt;HIVE-2206&lt;/del&gt;&lt;/a&gt; do not optimize this query.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614807">HIVE-3669</key>
            <summary>Support queries in which input tables of correlated MR jobs involves intermediate tables</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12614802">HIVE-3667</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Nov 2012 15:01:40 +0000</created>
                <updated>Mon, 5 Nov 2012 15:03:16 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12509546">HIVE-2206</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255261</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 12 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eqfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3670] Optimize queries involving self join</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3670</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12614808">HIVE-3670</key>
            <summary>Optimize queries involving self join</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12614802">HIVE-3667</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Nov 2012 15:02:15 +0000</created>
                <updated>Thu, 18 Jul 2013 00:32:46 +0000</updated>
                            <resolved>Thu, 18 Jul 2013 00:32:46 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13711854" author="yhuai" created="Thu, 18 Jul 2013 00:32:46 +0000"  >&lt;p&gt;Based on the code of setChildren in MapOperator, if multiple TableScanOperators are associated to the same path, those TableScanOperators will all be added into the children list of MapOperator. We can take advantage of it by adding optimizations (in separate jiras) which can make sure those operation paths using the same inputs can be executed in the same MR job. I will close this jira as &quot;Not A Problem&quot;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12509546">HIVE-2206</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eqfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84044</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3671] If a query has been optimized by correlation optimizer, join auto convert cannot optimize it</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3671</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, if a query has been optimized by correlation optimizer, the first operator at the reduce side will be CorrelationReducerDispatchOperator. Since CommonJoinResolver will only work if the first operator at the reduce side is a join operator, join auto convert cannot optimize this query. This jira is used to discuss how to make correlation optimizer compatible with join auto convert.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614810">HIVE-3671</key>
            <summary>If a query has been optimized by correlation optimizer, join auto convert cannot optimize it</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12614802">HIVE-3667</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="yhuai">Yin Huai</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Nov 2012 15:11:35 +0000</created>
                <updated>Thu, 18 Jul 2013 16:25:58 +0000</updated>
                            <resolved>Thu, 18 Jul 2013 16:25:57 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13712447" author="yhuai" created="Thu, 18 Jul 2013 16:25:58 +0000"  >&lt;p&gt;Right now, Correlation Optimizer will try to figure out if a JoinOperator will be converted to MapJoin later in the physical optimization phase (by CommonJoinResolver). Generally, we should consider this jira as &quot;Not A Problem&quot;. If we want to do any improvement or bug fix on this part, we can open a new jira and describe the specific improvement/issue in there.&lt;/p&gt;

&lt;p&gt;I am closing it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12509546">HIVE-2206</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255264</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eqfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84046</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3672] Support altering partition column type in Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3672</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, Hive does not allow altering partition column types.  As we&apos;ve discouraged users from using non-string partition column types, this presents a problem for users who want to change there partition columns to be strings, they have to rename their table, create a new table, and copy all the data over.&lt;/p&gt;

&lt;p&gt;To support this via the CLI, adding a command like ALTER TABLE &amp;lt;table_name&amp;gt; PARTITION COLUMN (&amp;lt;column_name&amp;gt; &amp;lt;new type&amp;gt;);&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614866">HIVE-3672</key>
            <summary>Support altering partition column type in Hive</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jingweilu">Jingwei Lu</assignee>
                                    <reporter username="jingweilu">Jingwei Lu</reporter>
                        <labels>
                            <label>features</label>
                    </labels>
                <created>Mon, 5 Nov 2012 22:49:31 +0000</created>
                <updated>Thu, 16 May 2013 21:10:50 +0000</updated>
                            <resolved>Fri, 22 Feb 2013 16:34:18 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>CLI</component>
                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                    <timeoriginalestimate seconds="259200">72h</timeoriginalestimate>
                            <timeestimate seconds="259200">72h</timeestimate>
                                        <comments>
                            <comment id="13491904" author="jingweilu" created="Tue, 6 Nov 2012 22:37:38 +0000"  >&lt;p&gt;Review is at:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D6537&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6537&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13511453" author="namit" created="Thu, 6 Dec 2012 15:21:25 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13529662" author="jingweilu" created="Wed, 12 Dec 2012 06:22:42 +0000"  >&lt;p&gt;New patch fixed according to comments.&lt;/p&gt;</comment>
                            <comment id="13561538" author="namit" created="Thu, 24 Jan 2013 10:14:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jingweilu&quot; class=&quot;user-hover&quot; rel=&quot;jingweilu&quot;&gt;Jingwei Lu&lt;/a&gt;, is it ready for review ?&lt;br/&gt;
Please refresh, and mark &apos;Submit Patch&apos; if it is ready for review ?&lt;/p&gt;</comment>
                            <comment id="13562549" author="jingweilu" created="Fri, 25 Jan 2013 09:01:23 +0000"  >&lt;p&gt;refreshed and merged with current code base&lt;/p&gt;</comment>
                            <comment id="13563532" author="namit" created="Sat, 26 Jan 2013 15:59:35 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13563635" author="jingweilu" created="Sat, 26 Jan 2013 21:11:33 +0000"  >&lt;p&gt;fix based on comments&lt;/p&gt;</comment>
                            <comment id="13563636" author="jingweilu" created="Sat, 26 Jan 2013 21:11:59 +0000"  >&lt;p&gt;fix based on comments.&lt;/p&gt;</comment>
                            <comment id="13565628" author="namit" created="Tue, 29 Jan 2013 18:29:35 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13568539" author="jingweilu" created="Fri, 1 Feb 2013 07:30:59 +0000"  >&lt;p&gt;update with one more test case to query partitions with different type.&lt;/p&gt;</comment>
                            <comment id="13569843" author="namit" created="Sun, 3 Feb 2013 18:30:33 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13572626" author="namit" created="Wed, 6 Feb 2013 18:04:51 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13573153" author="namit" created="Thu, 7 Feb 2013 03:51:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jingweilu&quot; class=&quot;user-hover&quot; rel=&quot;jingweilu&quot;&gt;Jingwei Lu&lt;/a&gt;, can you refresh ? The patch is not applying cleanly.&lt;/p&gt;</comment>
                            <comment id="13578612" author="jingweilu" created="Thu, 14 Feb 2013 19:55:03 +0000"  >&lt;p&gt;Refreshed on 2/14. &lt;/p&gt;</comment>
                            <comment id="13578613" author="jingweilu" created="Thu, 14 Feb 2013 19:55:22 +0000"  >&lt;p&gt;Refresh and merged on 2/14&lt;/p&gt;</comment>
                            <comment id="13581009" author="namit" created="Tue, 19 Feb 2013 04:06:01 +0000"  >&lt;p&gt;Will run tests&lt;/p&gt;</comment>
                            <comment id="13581221" author="namit" created="Tue, 19 Feb 2013 11:22:16 +0000"  >&lt;p&gt;Can you refresh again ? The test is failing while applying the patch&lt;/p&gt;</comment>
                            <comment id="13581556" author="jingweilu" created="Tue, 19 Feb 2013 19:38:34 +0000"  >&lt;p&gt;Refresh and updated the test result.&lt;/p&gt;</comment>
                            <comment id="13582078" author="namit" created="Wed, 20 Feb 2013 10:34:15 +0000"  >&lt;p&gt;The patch is still not applying cleanly for me.&lt;/p&gt;</comment>
                            <comment id="13582349" author="jingweilu" created="Wed, 20 Feb 2013 17:23:19 +0000"  >&lt;p&gt;Is there a merge conflict or unit test failure? Could you give me name of which test fails if it is the case? I run all my newly added test yesterday and they are clean. &lt;/p&gt;</comment>
                            <comment id="13583012" author="jingweilu" created="Thu, 21 Feb 2013 08:44:34 +0000"  >&lt;p&gt;Just refreshed and test passed. &lt;/p&gt;</comment>
                            <comment id="13583312" author="namit" created="Thu, 21 Feb 2013 16:12:50 +0000"  >&lt;p&gt;Which branch are you using to refresh ?&lt;br/&gt;
Are you using internal FB branch.&lt;br/&gt;
Everytime, I get a merge conflict while applying the patch&lt;/p&gt;</comment>
                            <comment id="13583386" author="jingweilu" created="Thu, 21 Feb 2013 18:02:49 +0000"  >&lt;p&gt;The patch is based on svn+ssh://tubbs/svnhive/hadoop/trunk&lt;/p&gt;</comment>
                            <comment id="13583866" author="namit" created="Fri, 22 Feb 2013 03:13:25 +0000"  >&lt;p&gt;It should be based on &lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk&lt;/a&gt;&lt;br/&gt;
Repository Root: &lt;a href=&quot;http://svn.apache.org/repos/asf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13584076" author="jingweilu" created="Fri, 22 Feb 2013 07:57:44 +0000"  >&lt;p&gt;merged with open source hive branch. All newly added tests passed. &lt;/p&gt;</comment>
                            <comment id="13584405" author="namit" created="Fri, 22 Feb 2013 16:32:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13584411" author="namit" created="Fri, 22 Feb 2013 16:34:18 +0000"  >&lt;p&gt;Committed. Thanks Jingwei&lt;/p&gt;</comment>
                            <comment id="13584635" author="hudson" created="Fri, 22 Feb 2013 20:22:22 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #98 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/98/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/98/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3672&quot; title=&quot;Support altering partition column type in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3672&quot;&gt;&lt;del&gt;HIVE-3672&lt;/del&gt;&lt;/a&gt; Support altering partition column type in Hive&lt;br/&gt;
(Jingwei Lu via namit) (Revision 1449109)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1449109&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1449109&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzerFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterTableAlterPartDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DDLWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_partition_coltype_2columns.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_partition_coltype_invalidcolname.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_partition_coltype_invalidtype.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/alter_partition_coltype.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_coltype_2columns.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_coltype_invalidcolname.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_coltype_invalidtype.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_partition_coltype.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13584997" author="hudson" created="Sat, 23 Feb 2013 04:04:09 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1983 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1983/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1983/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3672&quot; title=&quot;Support altering partition column type in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3672&quot;&gt;&lt;del&gt;HIVE-3672&lt;/del&gt;&lt;/a&gt; Support altering partition column type in Hive&lt;br/&gt;
(Jingwei Lu via namit) (Revision 1449109)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1449109&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1449109&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzerFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterTableAlterPartDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DDLWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_partition_coltype_2columns.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_partition_coltype_invalidcolname.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_partition_coltype_invalidtype.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/alter_partition_coltype.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_coltype_2columns.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_coltype_invalidcolname.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_coltype_invalidtype.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_partition_coltype.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13585109" author="hudson" created="Sat, 23 Feb 2013 12:58:32 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #135 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/135/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/135/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3672&quot; title=&quot;Support altering partition column type in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3672&quot;&gt;&lt;del&gt;HIVE-3672&lt;/del&gt;&lt;/a&gt; Support altering partition column type in Hive&lt;br/&gt;
(Jingwei Lu via namit) (Revision 1449109)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1449109&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1449109&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzerFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterTableAlterPartDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/AlterTableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/DDLWork.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_partition_coltype_2columns.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_partition_coltype_invalidcolname.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_partition_coltype_invalidtype.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/alter_partition_coltype.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_coltype_2columns.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_coltype_invalidcolname.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_coltype_invalidtype.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_partition_coltype.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12552354" name="HIVE-3672.1.patch.txt" size="35880" author="jingweilu" created="Tue, 6 Nov 2012 22:41:09 +0000"/>
                            <attachment id="12560513" name="HIVE-3672.2.patch.txt" size="44978" author="jingweilu" created="Wed, 12 Dec 2012 06:22:42 +0000"/>
                            <attachment id="12566488" name="HIVE-3672.3.patch.txt" size="48881" author="jingweilu" created="Fri, 25 Jan 2013 09:01:23 +0000"/>
                            <attachment id="12566642" name="HIVE-3672.4.patch.txt" size="66508" author="jingweilu" created="Sat, 26 Jan 2013 21:11:33 +0000"/>
                            <attachment id="12567539" name="HIVE-3672.5.patch.txt" size="79113" author="jingweilu" created="Fri, 1 Feb 2013 07:30:07 +0000"/>
                            <attachment id="12569375" name="HIVE-3672.6.patch.txt" size="90476" author="jingweilu" created="Thu, 14 Feb 2013 19:55:03 +0000"/>
                            <attachment id="12568114" name="HIVE-3672.6.patch.txt" size="90476" author="jingweilu" created="Tue, 5 Feb 2013 22:55:44 +0000"/>
                            <attachment id="12569981" name="HIVE-3672.7.patch.txt" size="91108" author="jingweilu" created="Tue, 19 Feb 2013 19:38:34 +0000"/>
                            <attachment id="12570280" name="HIVE-3672.8.patch.txt" size="91108" author="jingweilu" created="Thu, 21 Feb 2013 08:44:34 +0000"/>
                            <attachment id="12570445" name="HIVE-3672.9.patch.txt" size="90626" author="jingweilu" created="Fri, 22 Feb 2013 07:57:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 6 Dec 2012 15:21:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0erbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84188</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Allow hive to change partition column type. Partition column is always converted into string. So the type checking is rely on the conversion. </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>alter partition column type</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3673] Sort merge join not used when join columns have different names</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3673</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If two tables are joined on columns with different names, the sort merge join optimization is not applied.  E.g.&lt;/p&gt;

&lt;p&gt;SELECT /*+ MAPJOIN(b) */ * FROM t1 a JOIN t2 b ON a.key = b.value;&lt;/p&gt;

&lt;p&gt;This will not use sort merge join even if t1 and t2 are bucketed and sorted by key, value respectively.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614868">HIVE-3673</key>
            <summary>Sort merge join not used when join columns have different names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Nov 2012 22:59:12 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:30 +0000</updated>
                            <resolved>Tue, 6 Nov 2012 10:50:07 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13491030" author="kevinwilfong" created="Mon, 5 Nov 2012 23:17:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6483&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6483&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13491199" author="namit" created="Tue, 6 Nov 2012 04:14:09 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13491215" author="kevinwilfong" created="Tue, 6 Nov 2012 05:16:38 +0000"  >&lt;p&gt;Addressed comments.&lt;/p&gt;</comment>
                            <comment id="13491242" author="namit" created="Tue, 6 Nov 2012 06:33:29 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13491376" author="namit" created="Tue, 6 Nov 2012 10:50:07 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13491703" author="hudson" created="Tue, 6 Nov 2012 18:48:12 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1775 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1775/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1775/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3673&quot; title=&quot;Sort merge join not used when join columns have different names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3673&quot;&gt;&lt;del&gt;HIVE-3673&lt;/del&gt;&lt;/a&gt; Sort merge join not used when join columns have different names&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1406090)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406090&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406090&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapJoinOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_13.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_13.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548101" author="hudson" created="Wed, 9 Jan 2013 10:24:24 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3673&quot; title=&quot;Sort merge join not used when join columns have different names&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3673&quot;&gt;&lt;del&gt;HIVE-3673&lt;/del&gt;&lt;/a&gt; Sort merge join not used when join columns have different names&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1406090)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406090&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406090&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapJoinOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_13.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_13.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550133" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:30 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12552181" name="HIVE-3673.1.patch.txt" size="11757" author="kevinwilfong" created="Mon, 5 Nov 2012 23:18:02 +0000"/>
                            <attachment id="12552213" name="HIVE-3673.2.patch.txt" size="23734" author="kevinwilfong" created="Tue, 6 Nov 2012 05:17:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Nov 2012 04:14:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255366</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0erbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84190</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3674] test case TestParse broken after recent checkin</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3674</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The below test cases fail after running svn up on my clean checkout.&lt;br/&gt;
    org.apache.hadoop.hive.ql.parse.TestParse.testParse_groupby1&lt;br/&gt;
    org.apache.hadoop.hive.ql.parse.TestParse.testParse_groupby2&lt;br/&gt;
    org.apache.hadoop.hive.ql.parse.TestParse.testParse_groupby3&lt;br/&gt;
    org.apache.hadoop.hive.ql.parse.TestParse.testParse_groupby4&lt;br/&gt;
    org.apache.hadoop.hive.ql.parse.TestParse.testParse_groupby5&lt;br/&gt;
    org.apache.hadoop.hive.ql.parse.TestParse.testParse_groupby6&lt;br/&gt;
The build on Nov 2 shows this issue as well.&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1770/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1770/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12614875">HIVE-3674</key>
            <summary>test case TestParse broken after recent checkin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sambavi">Sambavi Muthukrishnan</assignee>
                                    <reporter username="sambavi">Sambavi Muthukrishnan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Nov 2012 23:46:20 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:16 +0000</updated>
                            <resolved>Tue, 6 Nov 2012 21:03:45 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Tests</component>
                        <due>Mon, 5 Nov 2012 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13491063" author="sambavi" created="Tue, 6 Nov 2012 00:03:28 +0000"  >&lt;p&gt;Link to diff: &lt;a href=&quot;https://reviews.facebook.net/D6489&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6489&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13491069" author="shreepadma" created="Tue, 6 Nov 2012 00:10:47 +0000"  >&lt;p&gt;Thanks Sambavi for the patch. I encountered this error as well on the latest version of trunk.&lt;/p&gt;</comment>
                            <comment id="13491077" author="kevinwilfong" created="Tue, 6 Nov 2012 00:16:59 +0000"  >&lt;p&gt;+1 Thanks Sambavi&lt;/p&gt;</comment>
                            <comment id="13491193" author="namit" created="Tue, 6 Nov 2012 03:56:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3657&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3657&lt;/a&gt; filed for the same issue.&lt;/p&gt;</comment>
                            <comment id="13491822" author="cwsteinbach" created="Tue, 6 Nov 2012 21:03:45 +0000"  >&lt;p&gt;Committed to trunk. Thanks Sambavi!&lt;/p&gt;</comment>
                            <comment id="13492224" author="hudson" created="Wed, 7 Nov 2012 09:37:18 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1777 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1777/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1777/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3674&quot; title=&quot;test case TestParse broken after recent checkin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3674&quot;&gt;&lt;del&gt;HIVE-3674&lt;/del&gt;&lt;/a&gt;. Test case TestParse broken after recent checkin (Sambavi Muthukrishnan via cws) (Revision 1406325)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406325&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406325&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby6.q.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548103" author="hudson" created="Wed, 9 Jan 2013 10:24:24 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3674&quot; title=&quot;test case TestParse broken after recent checkin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3674&quot;&gt;&lt;del&gt;HIVE-3674&lt;/del&gt;&lt;/a&gt;. Test case TestParse broken after recent checkin (Sambavi Muthukrishnan via cws) (Revision 1406325)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406325&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406325&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby6.q.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550327" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:16 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12614532">HIVE-3657</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12611419">HIVE-3570</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12552186" name="TestParseFix.1.patch" size="5772" author="sambavi" created="Tue, 6 Nov 2012 00:05:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Nov 2012 00:10:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255374</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0erdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>84199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
