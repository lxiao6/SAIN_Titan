<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 03:22:37 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2013-3-13+AND+created+%3C%3D+2013-3-20+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="46" total="46"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-4158] Add a flag in the task to denote whether it was actually run or not</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4158</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In case of conditional tasks, only one dependent task may be run.&lt;br/&gt;
It will be useful to have a runtime flag in Task to denote whether it&lt;br/&gt;
was executed or skipped.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636703">HIVE-4158</key>
            <summary>Add a flag in the task to denote whether it was actually run or not</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Mar 2013 01:32:32 +0000</created>
                <updated>Wed, 13 Mar 2013 01:32:32 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317195</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 45 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iqdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317536</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4159] RetryingHMSHandler doesn&apos;t retry in enough cases</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4159</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3524&quot; title=&quot;Storing certain Exception objects thrown in HiveMetaStore.java in MetaStoreEndFunctionContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3524&quot;&gt;&lt;del&gt;HIVE-3524&lt;/del&gt;&lt;/a&gt; introduced a change which caused JDOExceptions to be wrapped in MetaExceptions.  This caused the RetryingHMSHandler to not retry on these exceptions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636712">HIVE-4159</key>
            <summary>RetryingHMSHandler doesn&apos;t retry in enough cases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Mar 2013 02:21:57 +0000</created>
                <updated>Thu, 16 May 2013 21:10:04 +0000</updated>
                            <resolved>Thu, 28 Mar 2013 23:30:49 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13600734" author="kevinwilfong" created="Wed, 13 Mar 2013 02:23:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D9357&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9357&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13611196" author="ashutoshc" created="Fri, 22 Mar 2013 20:33:22 +0000"  >&lt;p&gt;Patch looks good to me. Namit / Kevin would you like to commit this one?&lt;/p&gt;</comment>
                            <comment id="13611242" author="kevinwilfong" created="Fri, 22 Mar 2013 21:02:27 +0000"  >&lt;p&gt;Thanks Ashutosh, I can take care of it.&lt;/p&gt;</comment>
                            <comment id="13616502" author="gangtimliu" created="Thu, 28 Mar 2013 18:20:01 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13616821" author="gangtimliu" created="Thu, 28 Mar 2013 23:30:15 +0000"  >&lt;p&gt;Committed. thanks Kevin.&lt;/p&gt;</comment>
                            <comment id="13616902" author="gangtimliu" created="Fri, 29 Mar 2013 00:28:22 +0000"  >&lt;p&gt;Forgot to mention: tests passed. sorry&lt;/p&gt;</comment>
                            <comment id="13617652" author="hudson" created="Fri, 29 Mar 2013 19:46:47 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2035 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2035/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2035/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4159&quot; title=&quot;RetryingHMSHandler doesn&amp;#39;t retry in enough cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4159&quot;&gt;&lt;del&gt;HIVE-4159&lt;/del&gt;&lt;/a&gt;:RetryingHMSHandler doesn&apos;t retry in enough cases (Kevin Wilfong vi Gang Tim Liu) (Revision 1462350)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
gangtimliu : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462350&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462350&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RetryingHMSHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/AlternateFailurePreListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRetryingHMSHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623053" author="hudson" created="Thu, 4 Apr 2013 23:39:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4159&quot; title=&quot;RetryingHMSHandler doesn&amp;#39;t retry in enough cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4159&quot;&gt;&lt;del&gt;HIVE-4159&lt;/del&gt;&lt;/a&gt;:RetryingHMSHandler doesn&apos;t retry in enough cases (Kevin Wilfong vi Gang Tim Liu) (Revision 1462350)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
gangtimliu : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462350&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462350&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RetryingHMSHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/AlternateFailurePreListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRetryingHMSHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573460" name="HIVE-4159.1.patch.txt" size="9960" author="kevinwilfong" created="Wed, 13 Mar 2013 02:23:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Mar 2013 20:33:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317204</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iqfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4160] Vectorized Query Execution in Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4160</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The Hive query execution engine currently processes one row at a time. A single row of data goes through all the operators before the next row can be processed. This mode of processing is very inefficient in terms of CPU usage. Research has demonstrated that this yields very low instructions per cycle &lt;span class=&quot;error&quot;&gt;&amp;#91;MonetDB X100&amp;#93;&lt;/span&gt;. Also currently Hive heavily relies on lazy deserialization and data columns go through a layer of object inspectors that identify column type, deserialize data and determine appropriate expression routines in the inner loop. These layers of virtual method calls further slow down the processing. &lt;/p&gt;

&lt;p&gt;This work will add support for vectorized query execution to Hive, where, instead of individual rows, batches of about a thousand rows at a time are processed. Each column in the batch is represented as a vector of a primitive data type. The inner loop of execution scans these vectors very fast, avoiding method calls, deserialization, unnecessary if-then-else, etc. This substantially reduces CPU time used, and gives excellent instructions per cycle (i.e. improved processor pipeline utilization). See the attached design specification for more details.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12636846">HIVE-4160</key>
            <summary>Vectorized Query Execution in Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jnp">Jitendra Nath Pandey</assignee>
                                    <reporter username="jnp">Jitendra Nath Pandey</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Mar 2013 19:56:33 +0000</created>
                <updated>Sun, 25 Feb 2018 22:44:40 +0000</updated>
                            <resolved>Wed, 4 Jan 2017 00:44:35 +0000</resolved>
                                                                        <due></due>
                            <votes>2</votes>
                                    <watches>58</watches>
                                                                            <aggregatetimeoriginalestimate seconds="604800">168h</aggregatetimeoriginalestimate>
                                        <aggregatetimeremainingestimate seconds="604800">168h</aggregatetimeremainingestimate>
                                                <comments>
                            <comment id="13601558" author="jnp" created="Wed, 13 Mar 2013 19:57:26 +0000"  >&lt;p&gt;    This will be an incremental work in multiple phases with no regression on current system. We will publish a design/scope document very soon.&lt;br/&gt;
    The main idea behind the proposal is to transform the execution engine to process a row batch at a time instead of a single row. The row batch will consist of column vectors and each operator will process the whole column vector at a time. The column vector will consist of array(s) of primitive types as far as possible.&lt;br/&gt;
    The expressions will be implemented for various data types using pre-compiled templates. The appropriate expressions will be added to the operators based on data types.&lt;br/&gt;
    A vectorized iterator interface will be implemented by the file formats to provide vectorized input to the operator tree. &lt;/p&gt;</comment>
                            <comment id="13601560" author="jnp" created="Wed, 13 Mar 2013 19:58:32 +0000"  >&lt;p&gt;Reference on MonetDB: &lt;a href=&quot;http://www-db.cs.wisc.edu/cidr/cidr2005/papers/P19.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www-db.cs.wisc.edu/cidr/cidr2005/papers/P19.pdf&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13601900" author="ehans" created="Thu, 14 Mar 2013 00:41:45 +0000"  >&lt;p&gt;This is part of the Stinger initiative. &lt;a href=&quot;http://hortonworks.com/blog/100x-faster-hive/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hortonworks.com/blog/100x-faster-hive/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13605800" author="jnp" created="Mon, 18 Mar 2013 23:40:14 +0000"  >&lt;p&gt;The attached document covers the outline of the design. Any comments/feedback are welcome. We will keep updating the document with more details as we include more data types, operators and expressions. We will also include the vectorized iterator design into the document.&lt;/p&gt;</comment>
                            <comment id="13624251" author="ehans" created="Sat, 6 Apr 2013 01:00:59 +0000"  >&lt;p&gt;Added section on requirements for implementation of vectorized iterator, with respect to how to load VectorizedRowBatch object on each call to next().&lt;/p&gt;</comment>
                            <comment id="13627722" author="stevel@apache.org" created="Wed, 10 Apr 2013 12:23:46 +0000"  >&lt;p&gt;We couldn&apos;t have a copy of the doc in PDF stuck up at the same time as the editable one could we?&lt;/p&gt;</comment>
                            <comment id="13628065" author="ehans" created="Wed, 10 Apr 2013 18:22:19 +0000"  >&lt;p&gt;Fixed a bug in example, plus made minor wording changes in introduction.&lt;/p&gt;</comment>
                            <comment id="13628078" author="ehans" created="Wed, 10 Apr 2013 18:29:12 +0000"  >&lt;p&gt;Adding pdf of design doc per request. &lt;/p&gt;</comment>
                            <comment id="13628080" author="ehans" created="Wed, 10 Apr 2013 18:29:54 +0000"  >&lt;p&gt;updated version # and date&lt;/p&gt;</comment>
                            <comment id="13653325" author="ehans" created="Thu, 9 May 2013 22:31:43 +0000"  >&lt;p&gt;Updated design document with discussion of precise handling and interpretation of all-non-null (noNulls) and all identical (isRepeating) column vectors. &lt;/p&gt;

&lt;p&gt;Also included discussion of TIMESTAMP internal vector representation as long integer number of nonseconds since the epoch.&lt;/p&gt;</comment>
                            <comment id="13653430" author="ehans" created="Fri, 10 May 2013 00:28:52 +0000"  >&lt;p&gt;The code for this work is currently in the &quot;vectorization&quot; branch of the public Hive repo.&lt;/p&gt;</comment>
                            <comment id="13656259" author="ehans" created="Mon, 13 May 2013 18:59:02 +0000"  >&lt;p&gt;Added discussion of timestamp values before the epoch (in 1970) related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4525&quot; title=&quot;Support timestamps earlier than 1970 and later than 2038&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4525&quot;&gt;&lt;del&gt;HIVE-4525&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13668778" author="ehans" created="Tue, 28 May 2013 22:52:32 +0000"  >&lt;p&gt;Updated design spec with new section by Remus Rusanu about vectorized group-by/aggregate. I edited it a little bit and added the final paragraph on future considerations.&lt;/p&gt;</comment>
                            <comment id="13699579" author="dvryaboy" created="Wed, 3 Jul 2013 23:15:14 +0000"  >&lt;p&gt;Hi folks,&lt;br/&gt;
What an incredible amount of work! Looks fantastic, looking forward to this.&lt;/p&gt;

&lt;p&gt;It seems like the general idea of a vectorized operator is not Hive-specific. Is there any possibility of abstracting the core logic of an operator that can efficiently process a stream of data, such as what you get from ORCFile, and return the computed results?&lt;/p&gt;

&lt;p&gt;Having such a library be available independently of Hive would allow reuse in other Hadoop ecosystem projects (Pig, Cascading, Drill, etc) without the need to reinvent the wheel, and would also bring the whole community behind optimizing one set of operators instead of continuing the existing fragmented state of the world. &lt;/p&gt;

&lt;p&gt;The process of separating out such a library might also yield benefits in terms of winding up with a cleaner design and better abstractions (that&apos;s been my experience when going through similar exercises on other projects &amp;#8211; I don&apos;t have any reason to think your current design is not clean or doesn&apos;t have good abstractions).&lt;/p&gt;

&lt;p&gt;Do you have any thoughts on how this could be achieved? Does this sound like something you would be interested in? Is there something that people currently working on other projects can do to help this become a reality?&lt;/p&gt;
</comment>
                            <comment id="13699820" author="vinodkv" created="Thu, 4 Jul 2013 07:28:35 +0000"  >&lt;p&gt;A huge +1 to that. Having a common set of operators will be a huge win. That said, I already see that the current branch follows Hive&apos;s operator base classes, uses HiveConf etc. I believe with little effort, this can be cleaned and pulled apart into one separate maven module that everyone can use.&lt;/p&gt;

&lt;p&gt;Some points to think about:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The target location of the module. The dependency graph can become un-wieldly.&lt;/li&gt;
	&lt;li&gt;Given the use of base Operator, OperatorDesc etc from Hive, if at all there is interest and commitment, we should do this ASAP when we only have a handful of operators.&lt;/li&gt;
	&lt;li&gt;Make one other project demonstrate how it can be reused across ecosystem projects, PIG will be great - just a few operators will be a great start&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="13702481" author="ehans" created="Mon, 8 Jul 2013 21:43:55 +0000"  >&lt;p&gt;Dmitry and Vinod,&lt;/p&gt;

&lt;p&gt;What specifically do you want to do with the code once it is factored out? &lt;/p&gt;

&lt;p&gt;Eric&lt;/p&gt;</comment>
                            <comment id="13702513" author="dvryaboy" created="Mon, 8 Jul 2013 22:05:12 +0000"  >&lt;p&gt;I would like to provide the same vectorization benefits to Pig and similar frameworks (possibly Cascading, and maybe the Spark or Crunch guys will want to use this as well, etc).&lt;/p&gt;</comment>
                            <comment id="13706089" author="jnp" created="Thu, 11 Jul 2013 18:33:42 +0000"  >&lt;p&gt;Dmitry, Vinod&lt;br/&gt;
  There is significant amount of vectorization work in expression evaluation for example, arithmetic expressions or logical expressions or aggregations etc. Many of these expressions are pretty generic and different systems are likely to have similar semantics for these. It should be possible to re-use this code with little change in pig or other systems. It will be required to use same vectorized representation of data in the processing engine to re-use these expressions, but that part of code is also generic and re-usable. I think that could be a good starting point.&lt;br/&gt;
  However, a bunch of the vectorization work is in operator code where we have vectorized version of the hive operators. These operators are closely tied with hive semantics and implementation. Therefore, it will need some restructuring in hive code base as well to generalize these operators for re-use in other projects. Also, at this point we should be thinking more generally about a common physical layer shared between pig and hive. These languages can continue to have different logical plans but it would be desirable that they share common physical plan structure because they both use same map-reduce runtime.&lt;/p&gt;</comment>
                            <comment id="13706190" author="dvryaboy" created="Thu, 11 Jul 2013 20:30:52 +0000"  >&lt;p&gt;Jitendra,&lt;br/&gt;
I believe physical plan primitives for both Hive and Pig (and potentially others) are going to come in via Tez, as both Pig and Hive want to get off strict MR in the long-term.&lt;/p&gt;

&lt;p&gt;I&apos;ll take a crack at extracting what&apos;s extractable. Right now Hive&apos;s UDAF reaches fairly deeply into this code, as you noted, but I think with a little restructuring this can be factored out.&lt;/p&gt;</comment>
                            <comment id="13770149" author="ehans" created="Tue, 17 Sep 2013 23:16:58 +0000"  >&lt;p&gt;Updated design specification with new section describing the vectorized UDF adaptor (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4961&quot; title=&quot;Create bridge for custom UDFs to operate in vectorized mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4961&quot;&gt;&lt;del&gt;HIVE-4961&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13783171" author="jnp" created="Tue, 1 Oct 2013 18:01:41 +0000"  >&lt;p&gt;Vectorization work has been committed to trunk. Going forward, all the vectorization work will happen on trunk and vectorization branch will be obsolete.&lt;/p&gt;</comment>
                            <comment id="13786080" author="lars_francke" created="Fri, 4 Oct 2013 11:26:47 +0000"  >&lt;p&gt;This is a huge patch and it&apos;s hard to see if it changes anything for the end user. As we&apos;d like to keep the Wiki up-to-date it&apos;d be great if someone could comment whether there are any configuration options besides &lt;tt&gt;hive.vectorized.execution.enabled&lt;/tt&gt; or any other things that should be documented.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13786285" author="ehans" created="Fri, 4 Oct 2013 16:19:32 +0000"  >&lt;p&gt;I&apos;ve been planning to write some user documentation for this feature. Where do you think would be a good spot in the wiki to include it?&lt;/p&gt;</comment>
                            <comment id="13787165" author="lefty@hortonworks.com" created="Sat, 5 Oct 2013 10:47:06 +0000"  >&lt;p&gt;Put it in Design Docs (&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/DesignDocs&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/DesignDocs&lt;/a&gt;) until it&apos;s released.  Later you can move it into the User Docs with a note about which release introduces it.  You can either change the file&apos;s location in the hierarchy or leave it in place and just link to it from the User Docs section.&lt;/p&gt;

&lt;p&gt;When it goes into User Docs, you have some choices.  Does it belong on the Home page or in the Language Manual?  If in the Language Manual, do you want it under DML or should it be a stand-alone doc?  That depends on what you write and how you want readers to find the doc.  You can always add links from other docs to make sure people find it.&lt;/p&gt;

&lt;p&gt;Here&apos;s the Language Manual:  &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Of course configuration goes here, perhaps in a subsection under Query Execution:  &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties&lt;/a&gt;.  I suggest you make a section in your design doc that&apos;s formatted to match the configuration doc, so when the time comes you can just cut &amp;amp; paste.&lt;/p&gt;</comment>
                            <comment id="13811498" author="ehans" created="Fri, 1 Nov 2013 17:45:33 +0000"  >&lt;p&gt;I put initial documentation at:&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Vectorized+Query+Execution&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Vectorized+Query+Execution&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15796136" author="sershe" created="Tue, 3 Jan 2017 20:46:02 +0000"  >&lt;p&gt;Wasn&apos;t this resolved ages ago?&lt;/p&gt;</comment>
                            <comment id="15796726" author="mmccline" created="Wed, 4 Jan 2017 00:44:35 +0000"  >&lt;p&gt;Vectorization project was completed a while ago.  New issues should be created as independent JIRAs.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12674410">HIVE-5584</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12787287">HIVE-10179</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13029292">HIVE-15468</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12594232" name="Hive-Vectorized-Query-Execution-Design-rev10.docx" size="41934" author="ehans" created="Thu, 25 Jul 2013 18:56:36 +0000"/>
                            <attachment id="12594230" name="Hive-Vectorized-Query-Execution-Design-rev10.docx" size="41737" author="ehans" created="Thu, 25 Jul 2013 18:53:46 +0000"/>
                            <attachment id="12594231" name="Hive-Vectorized-Query-Execution-Design-rev10.pdf" size="681132" author="ehans" created="Thu, 25 Jul 2013 18:55:21 +0000"/>
                            <attachment id="12603709" name="Hive-Vectorized-Query-Execution-Design-rev11.docx" size="43245" author="ehans" created="Tue, 17 Sep 2013 23:14:22 +0000"/>
                            <attachment id="12603710" name="Hive-Vectorized-Query-Execution-Design-rev11.pdf" size="686673" author="ehans" created="Tue, 17 Sep 2013 23:14:44 +0000"/>
                            <attachment id="12577339" name="Hive-Vectorized-Query-Execution-Design-rev2.docx" size="31686" author="ehans" created="Sat, 6 Apr 2013 01:00:59 +0000"/>
                            <attachment id="12578055" name="Hive-Vectorized-Query-Execution-Design-rev3.docx" size="32969" author="ehans" created="Wed, 10 Apr 2013 18:29:54 +0000"/>
                            <attachment id="12578050" name="Hive-Vectorized-Query-Execution-Design-rev3.docx" size="32875" author="ehans" created="Wed, 10 Apr 2013 18:22:19 +0000"/>
                            <attachment id="12578054" name="Hive-Vectorized-Query-Execution-Design-rev3.pdf" size="610297" author="ehans" created="Wed, 10 Apr 2013 18:29:12 +0000"/>
                            <attachment id="12580734" name="Hive-Vectorized-Query-Execution-Design-rev4.docx" size="33146" author="ehans" created="Fri, 26 Apr 2013 18:56:58 +0000"/>
                            <attachment id="12580735" name="Hive-Vectorized-Query-Execution-Design-rev4.pdf" size="610669" author="ehans" created="Fri, 26 Apr 2013 18:57:11 +0000"/>
                            <attachment id="12582531" name="Hive-Vectorized-Query-Execution-Design-rev5.docx" size="35206" author="ehans" created="Thu, 9 May 2013 22:29:09 +0000"/>
                            <attachment id="12582532" name="Hive-Vectorized-Query-Execution-Design-rev5.pdf" size="623441" author="ehans" created="Thu, 9 May 2013 22:29:25 +0000"/>
                            <attachment id="12582536" name="Hive-Vectorized-Query-Execution-Design-rev6.docx" size="34453" author="ehans" created="Thu, 9 May 2013 22:47:43 +0000"/>
                            <attachment id="12582537" name="Hive-Vectorized-Query-Execution-Design-rev6.pdf" size="623266" author="ehans" created="Thu, 9 May 2013 22:47:58 +0000"/>
                            <attachment id="12582966" name="Hive-Vectorized-Query-Execution-Design-rev7.docx" size="35926" author="ehans" created="Mon, 13 May 2013 18:59:01 +0000"/>
                            <attachment id="12585103" name="Hive-Vectorized-Query-Execution-Design-rev8.docx" size="37039" author="ehans" created="Tue, 28 May 2013 22:49:49 +0000"/>
                            <attachment id="12585104" name="Hive-Vectorized-Query-Execution-Design-rev8.pdf" size="666623" author="ehans" created="Tue, 28 May 2013 22:50:04 +0000"/>
                            <attachment id="12589665" name="Hive-Vectorized-Query-Execution-Design-rev9.docx" size="39621" author="sarvesh.sn" created="Tue, 25 Jun 2013 21:22:45 +0000"/>
                            <attachment id="12589666" name="Hive-Vectorized-Query-Execution-Design-rev9.pdf" size="672728" author="sarvesh.sn" created="Tue, 25 Jun 2013 21:22:59 +0000"/>
                            <attachment id="12574262" name="Hive-Vectorized-Query-Execution-Design.docx" size="33805" author="jnp" created="Mon, 18 Mar 2013 23:40:14 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12640371">HIVE-4282</subtask>
                            <subtask id="12640372">HIVE-4283</subtask>
                            <subtask id="12640373">HIVE-4284</subtask>
                            <subtask id="12640375">HIVE-4285</subtask>
                            <subtask id="12642836">HIVE-4370</subtask>
                            <subtask id="12643395">HIVE-4379</subtask>
                            <subtask id="12643396">HIVE-4380</subtask>
                            <subtask id="12643398">HIVE-4381</subtask>
                            <subtask id="12643645">HIVE-4383</subtask>
                            <subtask id="12643646">HIVE-4384</subtask>
                            <subtask id="12643648">HIVE-4385</subtask>
                            <subtask id="12644194">HIVE-4404</subtask>
                            <subtask id="12644195">HIVE-4405</subtask>
                            <subtask id="12644403">HIVE-4416</subtask>
                            <subtask id="12644985">HIVE-4431</subtask>
                            <subtask id="12645434">HIVE-4450</subtask>
                            <subtask id="12645435">HIVE-4451</subtask>
                            <subtask id="12645436">HIVE-4452</subtask>
                            <subtask id="12645469">HIVE-4453</subtask>
                            <subtask id="12645473">HIVE-4454</subtask>
                            <subtask id="12645521">HIVE-4457</subtask>
                            <subtask id="12645530">HIVE-4458</subtask>
                            <subtask id="12645558">HIVE-4462</subtask>
                            <subtask id="12645569">HIVE-4463</subtask>
                            <subtask id="12645643">HIVE-4468</subtask>
                            <subtask id="12645720">HIVE-4472</subtask>
                            <subtask id="12645721">HIVE-4473</subtask>
                            <subtask id="12645859">HIVE-4477</subtask>
                            <subtask id="12645876">HIVE-4478</subtask>
                            <subtask id="12645887">HIVE-4479</subtask>
                            <subtask id="12645895">HIVE-4480</subtask>
                            <subtask id="12645898">HIVE-4481</subtask>
                            <subtask id="12645900">HIVE-4482</subtask>
                            <subtask id="12645909">HIVE-4483</subtask>
                            <subtask id="12646027">HIVE-4493</subtask>
                            <subtask id="12646050">HIVE-4495</subtask>
                            <subtask id="12646285">HIVE-4509</subtask>
                            <subtask id="12646312">HIVE-4511</subtask>
                            <subtask id="12646326">HIVE-4512</subtask>
                            <subtask id="12646331">HIVE-4514</subtask>
                            <subtask id="12646848">HIVE-4529</subtask>
                            <subtask id="12646919">HIVE-4533</subtask>
                            <subtask id="12646926">HIVE-4534</subtask>
                            <subtask id="12647060">HIVE-4537</subtask>
                            <subtask id="12647063">HIVE-4538</subtask>
                            <subtask id="12647066">HIVE-4539</subtask>
                            <subtask id="12647118">HIVE-4541</subtask>
                            <subtask id="12647210">HIVE-4544</subtask>
                            <subtask id="12647340">HIVE-4548</subtask>
                            <subtask id="12647415">HIVE-4552</subtask>
                            <subtask id="12647420">HIVE-4553</subtask>
                            <subtask id="12648225">HIVE-4575</subtask>
                            <subtask id="12649004">HIVE-4592</subtask>
                            <subtask id="12649045">HIVE-4595</subtask>
                            <subtask id="12649046">HIVE-4596</subtask>
                            <subtask id="12649049">HIVE-4597</subtask>
                            <subtask id="12649121">HIVE-4599</subtask>
                            <subtask id="12649179">HIVE-4600</subtask>
                            <subtask id="12649228">HIVE-4602</subtask>
                            <subtask id="12649253">HIVE-4603</subtask>
                            <subtask id="12649272">HIVE-4604</subtask>
                            <subtask id="12649281">HIVE-4606</subtask>
                            <subtask id="12649314">HIVE-4607</subtask>
                            <subtask id="12649365">HIVE-4608</subtask>
                            <subtask id="12649443">HIVE-4612</subtask>
                            <subtask id="12649445">HIVE-4613</subtask>
                            <subtask id="12649825">HIVE-4624</subtask>
                            <subtask id="12650280">HIVE-4637</subtask>
                            <subtask id="12650358">HIVE-4640</subtask>
                            <subtask id="12650409">HIVE-4642</subtask>
                            <subtask id="12650739">HIVE-4649</subtask>
                            <subtask id="12650832">HIVE-4651</subtask>
                            <subtask id="12650836">HIVE-4652</subtask>
                            <subtask id="12650851">HIVE-4653</subtask>
                            <subtask id="12650852">HIVE-4654</subtask>
                            <subtask id="12650942">HIVE-4655</subtask>
                            <subtask id="12650995">HIVE-4656</subtask>
                            <subtask id="12651115">HIVE-4664</subtask>
                            <subtask id="12651159">HIVE-4665</subtask>
                            <subtask id="12651199">HIVE-4666</subtask>
                            <subtask id="12651205">HIVE-4667</subtask>
                            <subtask id="12651226">HIVE-4668</subtask>
                            <subtask id="12651293">HIVE-4673</subtask>
                            <subtask id="12651375">HIVE-4676</subtask>
                            <subtask id="12651432">HIVE-4678</subtask>
                            <subtask id="12651564">HIVE-4680</subtask>
                            <subtask id="12651602">HIVE-4681</subtask>
                            <subtask id="12651744">HIVE-4684</subtask>
                            <subtask id="12651747">HIVE-4685</subtask>
                            <subtask id="12651784">HIVE-4686</subtask>
                            <subtask id="12651791">HIVE-4687</subtask>
                            <subtask id="12651845">HIVE-4688</subtask>
                            <subtask id="12652058">HIVE-4694</subtask>
                            <subtask id="12652068">HIVE-4695</subtask>
                            <subtask id="12652093">HIVE-4699</subtask>
                            <subtask id="12652118">HIVE-4701</subtask>
                            <subtask id="12652121">HIVE-4702</subtask>
                            <subtask id="12652127">HIVE-4704</subtask>
                            <subtask id="12652137">HIVE-4706</subtask>
                            <subtask id="12652244">HIVE-4714</subtask>
                            <subtask id="12652271">HIVE-4716</subtask>
                            <subtask id="12652280">HIVE-4718</subtask>
                            <subtask id="12652341">HIVE-4722</subtask>
                            <subtask id="12652540">HIVE-4727</subtask>
                            <subtask id="12652818">HIVE-4736</subtask>
                            <subtask id="12653217">HIVE-4744</subtask>
                            <subtask id="12653219">HIVE-4745</subtask>
                            <subtask id="12653586">HIVE-4754</subtask>
                            <subtask id="12653745">HIVE-4758</subtask>
                            <subtask id="12654000">HIVE-4769</subtask>
                            <subtask id="12654021">HIVE-4770</subtask>
                            <subtask id="12654037">HIVE-4774</subtask>
                            <subtask id="12654624">HIVE-4786</subtask>
                            <subtask id="12654633">HIVE-4787</subtask>
                            <subtask id="12655198">HIVE-4794</subtask>
                            <subtask id="12656693">HIVE-4821</subtask>
                            <subtask id="12656704">HIVE-4822</subtask>
                            <subtask id="12656727">HIVE-4823</subtask>
                            <subtask id="12656781">HIVE-4828</subtask>
                            <subtask id="12657536">HIVE-4846</subtask>
                            <subtask id="12657587">HIVE-4848</subtask>
                            <subtask id="12657601">HIVE-4850</subtask>
                            <subtask id="12657848">HIVE-4859</subtask>
                            <subtask id="12658626">HIVE-4884</subtask>
                            <subtask id="12658816">HIVE-4898</subtask>
                            <subtask id="12659147">HIVE-4909</subtask>
                            <subtask id="12659435">HIVE-4922</subtask>
                            <subtask id="12659719">HIVE-4931</subtask>
                            <subtask id="12660154">HIVE-4945</subtask>
                            <subtask id="12660168">HIVE-4946</subtask>
                            <subtask id="12660754">HIVE-4959</subtask>
                            <subtask id="12660790">HIVE-4961</subtask>
                            <subtask id="12661034">HIVE-4971</subtask>
                            <subtask id="12661485">HIVE-4989</subtask>
                            <subtask id="12664682">HIVE-5126</subtask>
                            <subtask id="12665356">HIVE-5146</subtask>
                            <subtask id="12665593">HIVE-5152</subtask>
                            <subtask id="12666358">HIVE-5187</subtask>
                            <subtask id="12667148">HIVE-5226</subtask>
                            <subtask id="12669188">HIVE-5308</subtask>
                            <subtask id="12669191">HIVE-5309</subtask>
                            <subtask id="12669328">HIVE-5314</subtask>
                            <subtask id="12670604">HIVE-5365</subtask>
                            <subtask id="12671426">HIVE-5397</subtask>
                            <subtask id="12671429">HIVE-5398</subtask>
                            <subtask id="12671430">HIVE-5399</subtask>
                            <subtask id="12672073">HIVE-5430</subtask>
                            <subtask id="12672913">HIVE-5494</subtask>
                            <subtask id="12673083">HIVE-5503</subtask>
                            <subtask id="12673334">HIVE-5517</subtask>
                            <subtask id="12673535">HIVE-5525</subtask>
                            <subtask id="12674207">HIVE-5570</subtask>
                            <subtask id="12674406">HIVE-5581</subtask>
                            <subtask id="12674407">HIVE-5582</subtask>
                            <subtask id="12674409">HIVE-5583</subtask>
                            <subtask id="12674410">HIVE-5584</subtask>
                            <subtask id="12674615">HIVE-5594</subtask>
                            <subtask id="12674656">HIVE-5595</subtask>
                            <subtask id="12674945">HIVE-5604</subtask>
                            <subtask id="12675529">HIVE-5642</subtask>
                            <subtask id="12675861">HIVE-5653</subtask>
                            <subtask id="12676228">HIVE-5678</subtask>
                            <subtask id="12676296">HIVE-5681</subtask>
                            <subtask id="12676532">HIVE-5691</subtask>
                            <subtask id="12676693">HIVE-5699</subtask>
                            <subtask id="12677477">HIVE-5744</subtask>
                            <subtask id="12677816">HIVE-5756</subtask>
                            <subtask id="12677818">HIVE-5757</subtask>
                            <subtask id="12677821">HIVE-5758</subtask>
                            <subtask id="12677823">HIVE-5759</subtask>
                            <subtask id="12677827">HIVE-5761</subtask>
                            <subtask id="12677832">HIVE-5762</subtask>
                            <subtask id="12678918">HIVE-5806</subtask>
                            <subtask id="12678919">HIVE-5807</subtask>
                            <subtask id="12680050">HIVE-5854</subtask>
                            <subtask id="12680844">HIVE-5877</subtask>
                            <subtask id="12682285">HIVE-5920</subtask>
                            <subtask id="12683216">HIVE-5978</subtask>
                            <subtask id="12683220">HIVE-5979</subtask>
                            <subtask id="12683818">HIVE-5998</subtask>
                            <subtask id="12684145">HIVE-6017</subtask>
                            <subtask id="12685274">HIVE-6051</subtask>
                            <subtask id="12685698">HIVE-6067</subtask>
                            <subtask id="12686883">HIVE-6124</subtask>
                            <subtask id="12687280">HIVE-6139</subtask>
                            <subtask id="12687714">HIVE-6156</subtask>
                            <subtask id="12688133">HIVE-6178</subtask>
                            <subtask id="12688176">HIVE-6183</subtask>
                            <subtask id="12688337">HIVE-6186</subtask>
                            <subtask id="12689530">HIVE-6222</subtask>
                            <subtask id="12689887">HIVE-6234</subtask>
                            <subtask id="12689927">HIVE-6243</subtask>
                            <subtask id="12690167">HIVE-6257</subtask>
                            <subtask id="12690976">HIVE-6303</subtask>
                            <subtask id="12692145">HIVE-6333</subtask>
                            <subtask id="12692574">HIVE-6344</subtask>
                            <subtask id="12692575">HIVE-6345</subtask>
                            <subtask id="12692634">HIVE-6349</subtask>
                            <subtask id="12692799">HIVE-6357</subtask>
                            <subtask id="12694076">HIVE-6396</subtask>
                            <subtask id="12694339">HIVE-6399</subtask>
                            <subtask id="12694819">HIVE-6416</subtask>
                            <subtask id="12695587">HIVE-6452</subtask>
                            <subtask id="12697027">HIVE-6496</subtask>
                            <subtask id="12906415">HIVE-12219</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Mar 2013 00:41:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317338</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ir9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317679</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4161] create clean and small default set of tests for TestBeeLineDriver</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4161</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveServer2 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2935&quot; title=&quot;Implement HiveServer2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2935&quot;&gt;&lt;del&gt;HIVE-2935&lt;/del&gt;&lt;/a&gt;) has added TestBeeLineDriver on the lines of TestCliDriver, which runs all the tests in TestCliDriver through the beeline commandline, which uses jdbc+hive server2.&lt;/p&gt;

&lt;p&gt;There are failures in many of the test cases after the rebase of the patch against latest hive code.&lt;br/&gt;
The tests also almost double the time taken to run hive unit tests because TestCliDriver takes bulk of the hive unit test runtime.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12636851">HIVE-4161</key>
            <summary>create clean and small default set of tests for TestBeeLineDriver</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                            <label>HiveServer2</label>
                    </labels>
                <created>Wed, 13 Mar 2013 20:11:22 +0000</created>
                <updated>Tue, 11 Jun 2013 04:47:02 +0000</updated>
                                                                            <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                            <comments>
                            <comment id="13630298" author="robw" created="Fri, 12 Apr 2013 16:45:59 +0000"  >&lt;p&gt;See the new tests in the patch to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4268&quot; title=&quot;Beeline should support the -f option&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4268&quot;&gt;&lt;del&gt;HIVE-4268&lt;/del&gt;&lt;/a&gt;. That is probably a better place to put BeeLine tests than in ql.&lt;/p&gt;</comment>
                            <comment id="13680157" author="thejas" created="Tue, 11 Jun 2013 02:30:24 +0000"  >&lt;p&gt;I won&apos;t be able to work on get working on this soon, so making this unassigned so that this can get picked up by someone in meantime.&lt;/p&gt;
</comment>
                            <comment id="13680204" author="cwsteinbach" created="Tue, 11 Jun 2013 04:47:02 +0000"  >&lt;p&gt;TestBeeLineDriver has better support for diff masking and also allows you to run multiple qfile tests in parallel. I think we should start running the qfile tests with TestBeeLineDriver by default, and use TestCliDriver only for the subset of tests that depend on validating the output of pre/post execute hooks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12636853">HIVE-4162</subtask>
                            <subtask id="12637048">HIVE-4176</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 12 Apr 2013 16:45:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317343</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1irav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317684</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4162] disable TestBeeLineDriver</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4162</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4161&quot; title=&quot;create clean and small default set of tests for TestBeeLineDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4161&quot;&gt;HIVE-4161&lt;/a&gt;. We should disable the TestBeeLineDriver test cases. In its current state, it was not supposed to be enabled by default.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636853">HIVE-4162</key>
            <summary>disable TestBeeLineDriver</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636851">HIVE-4161</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Mar 2013 20:13:17 +0000</created>
                <updated>Thu, 16 May 2013 21:10:22 +0000</updated>
                            <resolved>Fri, 15 Mar 2013 21:10:31 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13601767" author="prasadm" created="Wed, 13 Mar 2013 22:54:37 +0000"  >&lt;p&gt;Looks like the test.junit.exclude property is not in the correct format which is why the TestBeeLineDriver is not skipped.&lt;/p&gt;</comment>
                            <comment id="13601823" author="thejas" created="Wed, 13 Mar 2013 23:47:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;Looks like the test.junit.exclude property is not in the correct format which is why the TestBeeLineDriver is not skipped.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If we use test.junit.exclude property for this, that means that someone who tries to disable another test on commandline would accidentally enable the beeline tests. I am making the changes in this patch instead . I am verifying that this fix works.&lt;/p&gt;</comment>
                            <comment id="13601836" author="prasadm" created="Wed, 13 Mar 2013 23:54:12 +0000"  >&lt;p&gt;+1 (non-binding)&lt;br/&gt;
I was testing the same fix (to disable it directly via build-common) just now and it seemed to work fine. &lt;/p&gt;

&lt;p&gt;Thanks Thejas !&lt;/p&gt;</comment>
                            <comment id="13601842" author="kevinwilfong" created="Wed, 13 Mar 2013 23:59:43 +0000"  >&lt;p&gt;Could you mark it as Patch Available if the patch is complete.&lt;/p&gt;

&lt;p&gt;+1 if so&lt;/p&gt;</comment>
                            <comment id="13601869" author="cwsteinbach" created="Thu, 14 Mar 2013 00:15:05 +0000"  >&lt;p&gt;Excluding it completely sounds like a bad idea to me. Why don&apos;t we enable it for a subset of the of the qfiles?&lt;/p&gt;</comment>
                            <comment id="13601871" author="cwsteinbach" created="Thu, 14 Mar 2013 00:15:55 +0000"  >&lt;p&gt;Ok, I missed the fact that there&apos;s already a parent ticket for that. Please ignore my last comment.&lt;/p&gt;</comment>
                            <comment id="13601914" author="thejas" created="Thu, 14 Mar 2013 00:51:39 +0000"  >&lt;p&gt;Verified that the patch disables TestBeeLineDriver and TestBeeLineDriver tests.&lt;/p&gt;
</comment>
                            <comment id="13603029" author="thejas" created="Fri, 15 Mar 2013 02:23:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kevinwilfong&quot; class=&quot;user-hover&quot; rel=&quot;kevinwilfong&quot;&gt;Kevin Wilfong&lt;/a&gt; Can you please commit this patch when you get a chance ?&lt;/p&gt;</comment>
                            <comment id="13603039" author="kevinwilfong" created="Fri, 15 Mar 2013 02:43:44 +0000"  >&lt;p&gt;Yep, I&apos;m running the tests.&lt;/p&gt;</comment>
                            <comment id="13603856" author="kevinwilfong" created="Fri, 15 Mar 2013 21:10:32 +0000"  >&lt;p&gt;Committed, thanks Thejas.&lt;/p&gt;</comment>
                            <comment id="13604510" author="hudson" created="Sun, 17 Mar 2013 05:20:58 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2017 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2017/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2017/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4162&quot; title=&quot;disable TestBeeLineDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4162&quot;&gt;&lt;del&gt;HIVE-4162&lt;/del&gt;&lt;/a&gt;. disable TestBeeLineDriver. (Thejas M Nair via kevinwilfong) (Revision 1457117)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1457117&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1457117&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623073" author="hudson" created="Thu, 4 Apr 2013 23:40:00 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4162&quot; title=&quot;disable TestBeeLineDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4162&quot;&gt;&lt;del&gt;HIVE-4162&lt;/del&gt;&lt;/a&gt;. disable TestBeeLineDriver. (Thejas M Nair via kevinwilfong) (Revision 1457117)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1457117&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1457117&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573623" name="HIVE-4162.1.patch" size="1309" author="thejas" created="Wed, 13 Mar 2013 23:47:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Mar 2013 22:54:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1irbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317686</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4163] Add a flag in the task to denote whether the task was run or skipped</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4163</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This would be really useful for auditing&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636864">HIVE-4163</key>
            <summary>Add a flag in the task to denote whether the task was run or skipped</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Mar 2013 21:09:32 +0000</created>
                <updated>Wed, 13 Mar 2013 21:44:41 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12636865">HIVE-4164</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317356</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1irdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317697</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4164] Add flags in MapRedWork to denote the type of query</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4164</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4163&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-4163&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For eg: it would be useful to track:&lt;/p&gt;

&lt;p&gt;1. The user did not specify a join, and a sort-merge join was performed.&lt;br/&gt;
2. A join followed by join, or a join followed by group by was converted to&lt;br/&gt;
   a single MR job.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636865">HIVE-4164</key>
            <summary>Add flags in MapRedWork to denote the type of query</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Mar 2013 21:12:59 +0000</created>
                <updated>Wed, 13 Mar 2013 21:44:41 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12636864">HIVE-4163</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1irdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317698</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4165] Union failures with mapjoin hints</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4165</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;While running the unit tests - union_remove_12.q which has mapjoin hints fails. Although this is a hadoop 23 only test, the same is reproducible on any union test with mapjoin hints. For e.g. union_22.q regardless of if we have the auto.convert.join=true/false, I see that we fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636901">HIVE-4165</key>
            <summary>Union failures with mapjoin hints</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Mar 2013 23:47:35 +0000</created>
                <updated>Mon, 28 Jul 2014 07:55:25 +0000</updated>
                                            <version>0.11.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13601824" author="vikram.dixit" created="Wed, 13 Mar 2013 23:48:23 +0000"  >&lt;p&gt;In UnionOperator class:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/**
   * Union operators are not allowed either before or after a explicit mapjoin hint.
   * Note that, the same query would just work without the mapjoin hint (by setting
   * hive.auto.convert.join to true).
   **/
  @Override
  public boolean opAllowedBeforeMapJoin() {
    return false;
  }

  @Override
  public boolean opAllowedAfterMapJoin() {
    return false;
  }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13601827" author="vikram.dixit" created="Wed, 13 Mar 2013 23:49:01 +0000"  >&lt;p&gt;Why are union operators not allowed before or after an explicit mapjoin hint?&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13649886" author="vikram.dixit" created="Mon, 6 May 2013 17:24:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt; Could you please explain why union operator was explicitly not allowed before or after map join? This above change was introduced as part of the change converting joins to mapjoins automatically without need for hints.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12639831">HIVE-4260</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317393</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1irlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317734</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4166] closeAllForUGI causes failure in hiveserver2 when fetching large amount of data</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4166</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveServer2 configured to use Kerberos authentication with doAs enabled throws an exception when fetching a large amount of data from a query.&lt;/p&gt;

&lt;p&gt;The exception is caused because FileSystem.closeAllForUGI is always called at the end of TUGIAssumingProcessor.process. This affects requests on the ResultSet for data from a SELECT query when the amount of data exceeds a certain size. At that point any subsequent calls to fetch more data throw an exception because the underlying DFSClient has been closed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636904">HIVE-4166</key>
            <summary>closeAllForUGI causes failure in hiveserver2 when fetching large amount of data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="cdrome">Chris Drome</assignee>
                                    <reporter username="cdrome">Chris Drome</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Mar 2013 00:04:39 +0000</created>
                <updated>Fri, 2 Dec 2016 19:25:36 +0000</updated>
                                            <version>0.10.0</version>
                    <version>0.11.0</version>
                                                    <component>HiveServer2</component>
                    <component>Security</component>
                    <component>Shims</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13601888" author="prasadm" created="Thu, 14 Mar 2013 00:29:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cdrome&quot; class=&quot;user-hover&quot; rel=&quot;cdrome&quot;&gt;Chris Drome&lt;/a&gt; If are using the trunk, you might want to try enabling the impersonation via hive.server2.enable.impersonation instead of hive.server2.enable.doAs. The impersonation in that case is handled at the HiveSession level instead of thrift processor level.&lt;/p&gt;</comment>
                            <comment id="13601898" author="cdrome" created="Thu, 14 Mar 2013 00:39:32 +0000"  >&lt;p&gt;Initial patch that fixes this failure. Will continue to test.&lt;/p&gt;</comment>
                            <comment id="13601912" author="cdrome" created="Thu, 14 Mar 2013 00:50:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasadm&quot; class=&quot;user-hover&quot; rel=&quot;prasadm&quot;&gt;Prasad Mujumdar&lt;/a&gt; thanks for the comment. We are working with a patched version of 0.10, but I will keep this in mind.&lt;/p&gt;

&lt;p&gt;The original code assumed it was okay to close all FileSystem resources at the end of each call to process, with HiveServer2 this assumption no longer holds. So it should be fixed to ensure that doAs works properly or doAs should be deprecated in favor of impersonation.&lt;/p&gt;</comment>
                            <comment id="13602988" author="cdrome" created="Fri, 15 Mar 2013 01:13:42 +0000"  >&lt;p&gt;Fixed patch.&lt;/p&gt;</comment>
                            <comment id="13617127" author="cdrome" created="Fri, 29 Mar 2013 06:16:53 +0000"  >&lt;p&gt;Updated trunk patch.&lt;/p&gt;</comment>
                            <comment id="13617139" author="cdrome" created="Fri, 29 Mar 2013 06:34:31 +0000"  >&lt;p&gt;Updated patch.&lt;/p&gt;</comment>
                            <comment id="13617143" author="cdrome" created="Fri, 29 Mar 2013 06:38:02 +0000"  >&lt;p&gt;Fixes the problem in HiveServer2 which causes certain operations to fail by closing the FileSystem when the connection is closed.&lt;/p&gt;</comment>
                            <comment id="13623257" author="mithun" created="Fri, 5 Apr 2013 02:06:12 +0000"  >&lt;p&gt;For the record, I was able to stress-test a version of this code and verify that we&apos;re not leaking FileSystem instances. So we know that the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3098&quot; title=&quot;Memory leak from large number of FileSystem instances in FileSystem.CACHE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3098&quot;&gt;&lt;del&gt;HIVE-3098&lt;/del&gt;&lt;/a&gt; isn&apos;t undone here. This fix now works for HS2 and HCatalog.&lt;/p&gt;</comment>
                            <comment id="15716009" author="mithun" created="Fri, 2 Dec 2016 19:25:36 +0000"  >&lt;p&gt;Argh. This patch has gone stale. I&apos;ll get a rebased version of this shortly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12576031" name="HIVE-4166-0.10.patch" size="7402" author="cdrome" created="Fri, 29 Mar 2013 06:34:31 +0000"/>
                            <attachment id="12576028" name="HIVE-4166-trunk.patch" size="7925" author="cdrome" created="Fri, 29 Mar 2013 06:16:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Mar 2013 00:29:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317396</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1irmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>HiveServer2 doAs Shims</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4167] Hive converts bucket map join to SMB join even when tables are not sorted</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4167</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If tables are just bucketed but not sorted, we are generating smb join operator. This results in loss of rows in queries.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636925">HIVE-4167</key>
            <summary>Hive converts bucket map join to SMB join even when tables are not sorted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Mar 2013 00:36:53 +0000</created>
                <updated>Thu, 16 May 2013 21:10:56 +0000</updated>
                            <resolved>Tue, 16 Apr 2013 10:18:53 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13621058" author="ashutoshc" created="Wed, 3 Apr 2013 17:01:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;Vikram Dixit K&lt;/a&gt; Does this happen only in presence of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3891&quot; title=&quot;physical optimizer changes for auto sort-merge join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3891&quot;&gt;&lt;del&gt;HIVE-3891&lt;/del&gt;&lt;/a&gt; or even without it ?&lt;/p&gt;</comment>
                            <comment id="13629744" author="namit" created="Fri, 12 Apr 2013 03:45:23 +0000"  >&lt;p&gt;This is a very serious bug&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;Vikram Dixit K&lt;/a&gt;, can you answer Ashutosh&apos;s question, and in your patch add a test along with a phabricator/reviewboard entry ?&lt;/p&gt;</comment>
                            <comment id="13629948" author="namit" created="Fri, 12 Apr 2013 09:34:37 +0000"  >&lt;p&gt;I was able to reproduce it:&lt;/p&gt;

&lt;p&gt;CREATE TABLE bucket_small (key string, value string) partitioned by (ds string) CLUSTERED BY (key) INTO 2 BUCKETS STORED AS TEXTFILE;&lt;br/&gt;
load data local inpath &apos;../data/files/smallsrcsortbucket1outof4.txt&apos; INTO TABLE bucket_small partition(ds=&apos;2008-04-08&apos;);&lt;br/&gt;
load data local inpath &apos;../data/files/smallsrcsortbucket2outof4.txt&apos; INTO TABLE bucket_small partition(ds=&apos;2008-04-08&apos;);&lt;/p&gt;

&lt;p&gt;CREATE TABLE bucket_big (key string, value string) partitioned by (ds string) CLUSTERED BY (key) INTO 4 BUCKETS STORED AS TEXTFILE;&lt;br/&gt;
load data local inpath &apos;../data/files/srcsortbucket1outof4.txt&apos; INTO TABLE bucket_big partition(ds=&apos;2008-04-08&apos;);&lt;br/&gt;
load data local inpath &apos;../data/files/srcsortbucket2outof4.txt&apos; INTO TABLE bucket_big partition(ds=&apos;2008-04-08&apos;);&lt;br/&gt;
load data local inpath &apos;../data/files/srcsortbucket3outof4.txt&apos; INTO TABLE bucket_big partition(ds=&apos;2008-04-08&apos;);&lt;br/&gt;
load data local inpath &apos;../data/files/srcsortbucket4outof4.txt&apos; INTO TABLE bucket_big partition(ds=&apos;2008-04-08&apos;);&lt;/p&gt;

&lt;p&gt;load data local inpath &apos;../data/files/srcsortbucket1outof4.txt&apos; INTO TABLE bucket_big partition(ds=&apos;2008-04-09&apos;);&lt;br/&gt;
load data local inpath &apos;../data/files/srcsortbucket2outof4.txt&apos; INTO TABLE bucket_big partition(ds=&apos;2008-04-09&apos;);&lt;br/&gt;
load data local inpath &apos;../data/files/srcsortbucket3outof4.txt&apos; INTO TABLE bucket_big partition(ds=&apos;2008-04-09&apos;);&lt;br/&gt;
load data local inpath &apos;../data/files/srcsortbucket4outof4.txt&apos; INTO TABLE bucket_big partition(ds=&apos;2008-04-09&apos;);&lt;/p&gt;

&lt;p&gt;set hive.auto.convert.join=true;&lt;br/&gt;
set hive.auto.convert.sortmerge.join=true;&lt;br/&gt;
set hive.optimize.bucketmapjoin = true;&lt;br/&gt;
set hive.optimize.bucketmapjoin.sortedmerge = true;&lt;/p&gt;

&lt;p&gt;&amp;#8211; Since size is being used to find the big table, the order of the tables in the join does not matter&lt;br/&gt;
explain extended select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM bucket_small a JOIN bucket_big b ON a.key = b.key;&lt;br/&gt;
select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM bucket_small a JOIN bucket_big b ON a.key = b.key;&lt;/p&gt;

&lt;p&gt;explain extended select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM bucket_big a JOIN bucket_small b ON a.key = b.key;&lt;br/&gt;
select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM bucket_big a JOIN bucket_small b ON a.key = b.key;&lt;/p&gt;</comment>
                            <comment id="13629956" author="vikram.dixit" created="Fri, 12 Apr 2013 10:01:39 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have a rebased patch on trunk. I was trying to produce a test using the tables available in the unit tests. Can I use the test you have provided in this jira?&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13629965" author="vikram.dixit" created="Fri, 12 Apr 2013 10:12:14 +0000"  >&lt;p&gt;Hi Namit,&lt;/p&gt;

&lt;p&gt;I was able to reproduce this issue so far on my setup. However, I wasn&apos;t&lt;br/&gt;
sure on how to reproduce this issue on using tables in unit-tests. I can&lt;br/&gt;
provide an updated patch with your test right away. I am still actively&lt;br/&gt;
working on this issue.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;






&lt;p&gt;&amp;#8211; &lt;br/&gt;
Nothing better than when appreciated for hard work.&lt;br/&gt;
-Mark&lt;/p&gt;</comment>
                            <comment id="13629966" author="namit" created="Fri, 12 Apr 2013 10:15:00 +0000"  >&lt;p&gt;I have a fix, and a testcase for this.&lt;br/&gt;
Can you take a look ?&lt;/p&gt;
</comment>
                            <comment id="13629967" author="namit" created="Fri, 12 Apr 2013 10:15:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D10209&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10209&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13631785" author="ashutoshc" created="Mon, 15 Apr 2013 15:12:38 +0000"  >&lt;p&gt;+1 &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt; Can you take care of committing this?&lt;/p&gt;</comment>
                            <comment id="13632577" author="namit" created="Tue, 16 Apr 2013 05:15:29 +0000"  >&lt;p&gt;Some tests are failing &amp;#8211; am debugging&lt;/p&gt;</comment>
                            <comment id="13632727" author="namit" created="Tue, 16 Apr 2013 10:18:38 +0000"  >&lt;p&gt;added comments&lt;/p&gt;</comment>
                            <comment id="13632728" author="namit" created="Tue, 16 Apr 2013 10:18:53 +0000"  >&lt;p&gt;Committed. Thanks Ashutosh&lt;/p&gt;</comment>
                            <comment id="13633062" author="hudson" created="Tue, 16 Apr 2013 17:41:17 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #162 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/162/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/162/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4167&quot; title=&quot;Hive converts bucket map join to SMB join even when tables are not sorted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4167&quot;&gt;&lt;del&gt;HIVE-4167&lt;/del&gt;&lt;/a&gt; Hive converts bucket map join to SMB join even when tables are not sorted&lt;br/&gt;
(Namit Jain via Ashutosh) (Revision 1468349)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1468349&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1468349&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractSMBJoinProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_11.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_11.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13633661" author="hudson" created="Wed, 17 Apr 2013 01:28:44 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2067 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2067/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2067/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4167&quot; title=&quot;Hive converts bucket map join to SMB join even when tables are not sorted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4167&quot;&gt;&lt;del&gt;HIVE-4167&lt;/del&gt;&lt;/a&gt; Hive converts bucket map join to SMB join even when tables are not sorted&lt;br/&gt;
(Namit Jain via Ashutosh) (Revision 1468349)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1468349&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1468349&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/AbstractSMBJoinProc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/auto_sortmerge_join_11.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_11.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12627393">HIVE-3891</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12574037" name="HIVE-4167.patch" size="3537" author="vikram.dixit" created="Sun, 17 Mar 2013 06:37:01 +0000"/>
                            <attachment id="12578404" name="hive.4167.1.patch" size="51710" author="namit" created="Fri, 12 Apr 2013 10:14:11 +0000"/>
                            <attachment id="12578420" name="hive.4167.2.patch" size="43864" author="namit" created="Fri, 12 Apr 2013 14:44:04 +0000"/>
                            <attachment id="12578869" name="hive.4167.3.patch" size="52300" author="namit" created="Tue, 16 Apr 2013 04:54:29 +0000"/>
                            <attachment id="12578905" name="hive.4167.4.patch" size="45421" author="namit" created="Tue, 16 Apr 2013 08:58:41 +0000"/>
                            <attachment id="12578904" name="hive.4167.4.patch-nohcat" size="52428" author="namit" created="Tue, 16 Apr 2013 08:56:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 Apr 2013 17:01:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317417</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1irrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317758</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4168] remove package-info.java from svn</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4168</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;common/src/gen/org/apache/hive/common/package-info.java is autogenerated during compile (by saveVersion.sh). &lt;br/&gt;
Looks like this was unintentionally checked-in. As the file includes timestamps and checksums, after a compile it shows up as a source code change.&lt;br/&gt;
We should delete this file from svn repo.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636930">HIVE-4168</key>
            <summary>remove package-info.java from svn</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Mar 2013 01:02:32 +0000</created>
                <updated>Mon, 6 May 2013 18:17:16 +0000</updated>
                            <resolved>Tue, 19 Mar 2013 16:15:07 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13601941" author="thejas" created="Thu, 14 Mar 2013 01:37:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4168&quot; title=&quot;remove package-info.java from svn&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4168&quot;&gt;&lt;del&gt;HIVE-4168&lt;/del&gt;&lt;/a&gt;.1.patch - not a real patch but documents the change needed.  What needs to be done is just &apos;svn rm common/src/gen/org/apache/hive/common/package-info.java&apos;&lt;/p&gt;
</comment>
                            <comment id="13606291" author="ashutoshc" created="Tue, 19 Mar 2013 12:48:43 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13606293" author="ashutoshc" created="Tue, 19 Mar 2013 12:52:12 +0000"  >&lt;p&gt;Actually there is no such file checked in the repo.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ svn up
At revision 1458256.
$ svn st
$ ls common/src/
java  scripts  test
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Probably that file got added in your git or svn index by accident. Shall we close this as &quot;Not a problem&quot; ?&lt;/p&gt;</comment>
                            <comment id="13606448" author="thejas" created="Tue, 19 Mar 2013 16:15:07 +0000"  >&lt;p&gt;Yes, you are right. It was a problem with my local git clone repo. Sorry about the false alarm. Resolving as &apos;Not A Problem&apos;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573648" name="HIVE-4168.1.patch" size="627" author="thejas" created="Thu, 14 Mar 2013 01:37:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Mar 2013 12:48:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317422</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1irsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317763</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4169] union_remove_*.q fail on hadoop 2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4169</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;union_remove_1.q&lt;br/&gt;
union_remove_11.q&lt;br/&gt;
union_remove_14.q&lt;br/&gt;
union_remove_15.q&lt;br/&gt;
union_remove_16.q&lt;br/&gt;
union_remove_17.q&lt;br/&gt;
union_remove_18.q&lt;br/&gt;
union_remove_19.q&lt;br/&gt;
union_remove_2.q&lt;br/&gt;
union_remove_20.q&lt;br/&gt;
union_remove_21.q&lt;/p&gt;

&lt;p&gt;all fail on hadoop 2 (and only run on hadoop 2) because of outdated golden files. The query plan has slightly changed (removing an unnecessary select op). The query results are the same.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636945">HIVE-4169</key>
            <summary>union_remove_*.q fail on hadoop 2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Mar 2013 02:38:40 +0000</created>
                <updated>Thu, 16 May 2013 21:10:25 +0000</updated>
                            <resolved>Fri, 15 Mar 2013 00:51:18 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13602958" author="ashutoshc" created="Fri, 15 Mar 2013 00:48:18 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13602965" author="ashutoshc" created="Fri, 15 Mar 2013 00:51:18 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Gunther!&lt;/p&gt;</comment>
                            <comment id="13604157" author="hudson" created="Sat, 16 Mar 2013 07:58:18 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2016 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2016/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2016/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4169&quot; title=&quot;union_remove_*.q fail on hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4169&quot;&gt;&lt;del&gt;HIVE-4169&lt;/del&gt;&lt;/a&gt; : union_remove_*.q fail on hadoop 2 (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1456737)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1456737&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1456737&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_15.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_16.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_17.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_18.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_19.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_21.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623076" author="hudson" created="Thu, 4 Apr 2013 23:40:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4169&quot; title=&quot;union_remove_*.q fail on hadoop 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4169&quot;&gt;&lt;del&gt;HIVE-4169&lt;/del&gt;&lt;/a&gt; : union_remove_*.q fail on hadoop 2 (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1456737)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1456737&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1456737&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_15.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_16.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_17.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_18.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_19.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_21.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573659" name="HIVE-4169.1.patch" size="56184" author="hagleitn" created="Thu, 14 Mar 2013 02:40:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Mar 2013 00:48:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317437</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1irvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317778</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4170] [REGRESSION] FsShell.close closes filesystem, removing temporary directories</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4170</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;truncate (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-446&quot; title=&quot;Implement TRUNCATE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-446&quot;&gt;&lt;del&gt;HIVE-446&lt;/del&gt;&lt;/a&gt;) closes FileSystem, causing various problems (delete temporary directory for running hive query, etc.).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636959">HIVE-4170</key>
            <summary>[REGRESSION] FsShell.close closes filesystem, removing temporary directories</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Mar 2013 05:35:07 +0000</created>
                <updated>Thu, 16 May 2013 21:10:52 +0000</updated>
                            <resolved>Sun, 31 Mar 2013 03:32:06 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13602051" author="phabricator@reviews.facebook.net" created="Thu, 14 Mar 2013 05:38:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4170&quot; title=&quot;[REGRESSION] FsShell.close closes filesystem, removing temporary directories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4170&quot;&gt;&lt;del&gt;HIVE-4170&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;REGRESSION&amp;#93;&lt;/span&gt; FsShell.close closes filesystem, removing temporary directories&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4170&quot; title=&quot;[REGRESSION] FsShell.close closes filesystem, removing temporary directories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4170&quot;&gt;&lt;del&gt;HIVE-4170&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;REGRESSION&amp;#93;&lt;/span&gt; FsShell.close closes filesystem, removing temporary directories&lt;/p&gt;

&lt;p&gt;truncate (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-446&quot; title=&quot;Implement TRUNCATE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-446&quot;&gt;&lt;del&gt;HIVE-446&lt;/del&gt;&lt;/a&gt;) closes FileSystem, causing various problems (delete temporary directory for running hive query, etc.).&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9393&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9393&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/22569/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/22569/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13618117" author="phabricator@reviews.facebook.net" created="Sat, 30 Mar 2013 16:51:14 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4170&quot; title=&quot;[REGRESSION] FsShell.close closes filesystem, removing temporary directories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4170&quot;&gt;&lt;del&gt;HIVE-4170&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;REGRESSION&amp;#93;&lt;/span&gt; FsShell.close closes filesystem, removing temporary directories&quot;.&lt;/p&gt;

&lt;p&gt;  +1 will commit if tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9393&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9393&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4170&quot; title=&quot;[REGRESSION] FsShell.close closes filesystem, removing temporary directories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4170&quot;&gt;&lt;del&gt;HIVE-4170&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;/p&gt;</comment>
                            <comment id="13618217" author="ashutoshc" created="Sun, 31 Mar 2013 03:32:06 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="13618460" author="hudson" created="Sun, 31 Mar 2013 20:18:30 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2038 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2038/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2038/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4170&quot; title=&quot;[REGRESSION] FsShell.close closes filesystem, removing temporary directories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4170&quot;&gt;&lt;del&gt;HIVE-4170&lt;/del&gt;&lt;/a&gt; : &lt;span class=&quot;error&quot;&gt;&amp;#91;REGRESSION&amp;#93;&lt;/span&gt; FsShell.close closes filesystem, removing temporary directories (Navis via Ashutosh Chauhan) (Revision 1462872)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462872&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462872&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623008" author="hudson" created="Thu, 4 Apr 2013 23:39:48 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4170&quot; title=&quot;[REGRESSION] FsShell.close closes filesystem, removing temporary directories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4170&quot;&gt;&lt;del&gt;HIVE-4170&lt;/del&gt;&lt;/a&gt; : &lt;span class=&quot;error&quot;&gt;&amp;#91;REGRESSION&amp;#93;&lt;/span&gt; FsShell.close closes filesystem, removing temporary directories (Navis via Ashutosh Chauhan) (Revision 1462872)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462872&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1462872&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573674" name="HIVE-4170.D9393.1.patch" size="938" author="phabricator@reviews.facebook.net" created="Thu, 14 Mar 2013 05:38:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Mar 2013 05:38:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317451</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iryv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317792</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4171] Current database in metastore.Hive is not consistent with SessionState</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4171</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;metastore.Hive is thread local instance, which can have different status with SessionState. Currently the only status in metastore.Hive is database name in use.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636964">HIVE-4171</key>
            <summary>Current database in metastore.Hive is not consistent with SessionState</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                            <label>HiveServer2</label>
                    </labels>
                <created>Thu, 14 Mar 2013 05:42:46 +0000</created>
                <updated>Tue, 15 Oct 2013 23:30:40 +0000</updated>
                            <resolved>Fri, 13 Sep 2013 20:57:35 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13602054" author="phabricator@reviews.facebook.net" created="Thu, 14 Mar 2013 05:44:12 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4171&quot; title=&quot;Current database in metastore.Hive is not consistent with SessionState&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4171&quot;&gt;&lt;del&gt;HIVE-4171&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Current database in metastore.Hive is not consistent with SessionState&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4171&quot; title=&quot;Current database in metastore.Hive is not consistent with SessionState&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4171&quot;&gt;&lt;del&gt;HIVE-4171&lt;/del&gt;&lt;/a&gt; Current database in metastore.Hive is not consistent with SessionState&lt;/p&gt;

&lt;p&gt;metastore.Hive is thread local instance, which can have different status with SessionState. Currently the only status in metastore.Hive is database name in use.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9399&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9399&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/22575/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/22575/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13602165" author="phabricator@reviews.facebook.net" created="Thu, 14 Mar 2013 09:48:11 +0000"  >&lt;p&gt;prasadm has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4171&quot; title=&quot;Current database in metastore.Hive is not consistent with SessionState&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4171&quot;&gt;&lt;del&gt;HIVE-4171&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Current database in metastore.Hive is not consistent with SessionState&quot;.&lt;/p&gt;

&lt;p&gt;  +1 (non-binding)&lt;br/&gt;
  Looks good to me.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9399&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9399&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: prasadm&lt;/p&gt;</comment>
                            <comment id="13614926" author="phabricator@reviews.facebook.net" created="Wed, 27 Mar 2013 04:49:15 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4171&quot; title=&quot;Current database in metastore.Hive is not consistent with SessionState&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4171&quot;&gt;&lt;del&gt;HIVE-4171&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Current database in metastore.Hive is not consistent with SessionState&quot;.&lt;/p&gt;

&lt;p&gt;  Should change context loader, too&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9399&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9399&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9399?vs=29805&amp;amp;id=30543#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9399?vs=29805&amp;amp;id=30543#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: prasadm&lt;/p&gt;</comment>
                            <comment id="13616940" author="thejas" created="Fri, 29 Mar 2013 01:18:15 +0000"  >&lt;p&gt;I think it would be better to store this information in HiveConf and remove the member from Hive class. This would mean that there will be only one source for truth for his information (instead of having it in Hive and SessionState classes).&lt;br/&gt;
I can submit another patch with fix for the TODO in patch and unit tests if you agree . &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4171&quot; title=&quot;Current database in metastore.Hive is not consistent with SessionState&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4171&quot;&gt;&lt;del&gt;HIVE-4171&lt;/del&gt;&lt;/a&gt;.3.patch (also in &lt;a href=&quot;https://reviews.apache.org/r/10180/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/10180/&lt;/a&gt; )&lt;/p&gt;</comment>
                            <comment id="13618185" author="thejas" created="Sat, 30 Mar 2013 23:31:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; can you please let me know if this approach looks good ? I can submit the complete patch with test cases and also include changes to move the current db &apos;static final string&apos;s from MetaStoreUtils to HiveConf. &lt;/p&gt;</comment>
                            <comment id="13618552" author="navis" created="Mon, 1 Apr 2013 01:52:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; It seemed a good idea to make use of single state in HiveConf (and needs a little update in DDLTask). I&apos;ll reflect that.&lt;/p&gt;

&lt;p&gt;And.. how to link session state and other entities (like Hive) is a real problem which should be fixed. Just consider this as a quick fix (walkaroud) for a time. &lt;/p&gt;</comment>
                            <comment id="13618632" author="thejas" created="Mon, 1 Apr 2013 05:49:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Just to confirm - Are you saying that the approach of storing current-database in HiveConf is a good workaround for time being, and that I can go ahead and upload the complete patch based on this approach (add unit tests etc)?&lt;/p&gt;
</comment>
                            <comment id="13618658" author="navis" created="Mon, 1 Apr 2013 06:43:46 +0000"  >&lt;p&gt;Ok, you can go on.&lt;/p&gt;</comment>
                            <comment id="13621375" author="thejas" created="Wed, 3 Apr 2013 21:50:50 +0000"  >&lt;p&gt;When I make changes to move the &apos;final strings&apos; from MetaStoreUtils to HiveConf, it breaks hcatalog because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4277&quot; title=&quot;hcatalog is not building against local hive jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4277&quot;&gt;&lt;del&gt;HIVE-4277&lt;/del&gt;&lt;/a&gt; . I will see if I can get help fixing that, if not will submit a patch without moving them.&lt;/p&gt;</comment>
                            <comment id="13629137" author="prasadm" created="Thu, 11 Apr 2013 17:26:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; my apologies for missing the ticke updates ..&lt;/p&gt;

&lt;p&gt;Its certainly a good idea to store the current db at a common place. Though I am bit skeptical of using HiveConf object for storing runtime states. &lt;br/&gt;
This could for example, create a backdoor to &lt;tt&gt;use &amp;lt;db&amp;gt;&lt;/tt&gt; by executing &lt;tt&gt;set hive.current.db = &amp;lt;db&amp;gt;&lt;/tt&gt; which will bypass any authorization, audit hooks etc for &lt;tt&gt;use &amp;lt;db&amp;gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Comments/Suggestions ?&lt;/p&gt;</comment>
                            <comment id="13629189" author="thejas" created="Thu, 11 Apr 2013 18:12:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasadm&quot; class=&quot;user-hover&quot; rel=&quot;prasadm&quot;&gt;Prasad Mujumdar&lt;/a&gt; I agree that we should be careful about storing runtime state in HiveConf because of the above reason. But in case of default database setting, does authorization make sense ? Setting default database does not perform any action. It is just saying that for your other commands use this database as default. It is during the execution of other commands (eg &apos;show tables;&apos; or &apos;select * from tabl;&apos;) when authorization checks would need to kick in.&lt;/p&gt;</comment>
                            <comment id="13629235" author="prasadm" created="Thu, 11 Apr 2013 19:06:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Its not specific to &apos;default&apos; database right ? You can switching to any database by setting a config instead of executing &lt;tt&gt;use &amp;lt;db&amp;gt;&lt;/tt&gt;. As mentioned earlier, there are semantic and exec hooks besides authorization. These could be used for auditing etc. which will also get bypassed&lt;/p&gt;

&lt;p&gt;One of the options could be to restrict the &lt;tt&gt;set hive.current.db ..&lt;/tt&gt; by adding this new config to the &lt;tt&gt;HiveConf.restrictList&lt;/tt&gt; during initialization. It will prohibit users from changing the current db using the &lt;tt&gt;set&lt;/tt&gt; command.&lt;br/&gt;
Does that sound viable option to include in your patch ?&lt;/p&gt;</comment>
                            <comment id="13640020" author="thejas" created="Wed, 24 Apr 2013 02:47:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4171&quot; title=&quot;Current database in metastore.Hive is not consistent with SessionState&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4171&quot;&gt;&lt;del&gt;HIVE-4171&lt;/del&gt;&lt;/a&gt;.4.patch - includes test cases, hcatalog changes.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasadm&quot; class=&quot;user-hover&quot; rel=&quot;prasadm&quot;&gt;Prasad Mujumdar&lt;/a&gt; I have added the current default database to restricted list, as you recommended.&lt;/p&gt;

&lt;p&gt;Patch is ready for review.&lt;/p&gt;</comment>
                            <comment id="13646019" author="ashutoshc" created="Tue, 30 Apr 2013 21:42:13 +0000"  >&lt;p&gt;I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasadm&quot; class=&quot;user-hover&quot; rel=&quot;prasadm&quot;&gt;Prasad Mujumdar&lt;/a&gt; that HiveConf is not ideal to store this info. SessionState is the right place to store it. Further, adding restrictList in HiveConf for plugging security backdoor resulting from it is less than ideal. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; It seems you agreed too, but found storing in HiveConf is easier implementation-wise. Is that correct? It will be good to figure out what are challenges in storing in SessionState.&lt;/p&gt;</comment>
                            <comment id="13673567" author="ashutoshc" created="Mon, 3 Jun 2013 21:06:40 +0000"  >&lt;p&gt;Canceling patch for now.&lt;/p&gt;</comment>
                            <comment id="13744295" author="thejas" created="Mon, 19 Aug 2013 21:47:47 +0000"  >&lt;p&gt;SessionState seems to be the correct place to have currentDatabase state. I will create a patch to move it from Hive class to SessionState. That will solve this problem and also keep this state information in just one place.&lt;/p&gt;</comment>
                            <comment id="13763682" author="hiveqa" created="Tue, 10 Sep 2013 23:17:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12602397/HIVE-4171.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12602397/HIVE-4171.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 3092 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.metadata.TestHive.testThriftTable
org.apache.hive.hcatalog.fileformats.TestOrcDynamicPartitioned.testHCatDynamicPartitionedTable
org.apache.hadoop.hive.ql.metadata.TestHive.testTable
org.apache.hadoop.hive.ql.metadata.TestHive.testHiveRefreshOnConfChange
org.apache.hive.hcatalog.mapreduce.TestHCatExternalDynamicPartitioned.testHCatDynamicPartitionedTableMultipleTask
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testTable
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testThriftTable
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testHiveRefreshOnConfChange
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/689/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/689/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/689/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/689/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13765124" author="thejas" created="Thu, 12 Sep 2013 03:06:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4171&quot; title=&quot;Current database in metastore.Hive is not consistent with SessionState&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4171&quot;&gt;&lt;del&gt;HIVE-4171&lt;/del&gt;&lt;/a&gt;.6.patch - fixes unit test failure&lt;/p&gt;</comment>
                            <comment id="13765568" author="hiveqa" created="Thu, 12 Sep 2013 16:11:11 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12602728/HIVE-4171.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12602728/HIVE-4171.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 4 failed/errored test(s), 3097 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite.testSequenceTableWriteRead
org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite.testTextTableWriteRead
org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite.testSequenceTableWriteReadMR
org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite.testTextTableWriteReadMR
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/710/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/710/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/710/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/710/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 4 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13765802" author="thejas" created="Thu, 12 Sep 2013 19:39:31 +0000"  >&lt;p&gt;The hcat unit tests failures are unrelated to this patch. I think it will be useful to have this bug fix in 0.12 release as well.&lt;/p&gt;</comment>
                            <comment id="13765810" author="thejas" created="Thu, 12 Sep 2013 19:40:37 +0000"  >&lt;p&gt;making the reviewboard link prominent &lt;a href=&quot;https://reviews.apache.org/r/10180/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/10180/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13765894" author="ashutoshc" created="Thu, 12 Sep 2013 21:07:00 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13766945" author="ashutoshc" created="Fri, 13 Sep 2013 20:57:35 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Thejas!&lt;/p&gt;</comment>
                            <comment id="13766951" author="thejas" created="Fri, 13 Sep 2013 21:03:09 +0000"  >&lt;p&gt;Patch committed to 0.12 branch as well. Thanks Ashutosh and Prasad for the review!&lt;/p&gt;</comment>
                            <comment id="13767414" author="hudson" created="Sat, 14 Sep 2013 08:48:15 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-h0.21 #2330 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2330/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2330/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4171&quot; title=&quot;Current database in metastore.Hive is not consistent with SessionState&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4171&quot;&gt;&lt;del&gt;HIVE-4171&lt;/del&gt;&lt;/a&gt; : Current database in metastore.Hive is not consistent with SessionState (Thejas Nair via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1523100&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1523100&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/CliSessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/test/org/apache/hadoop/hive/cli/TestCliSessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzerBase.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hive/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hive/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzerBase.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ColumnStatsTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/history/TestHiveHistory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/parse/TestMacroSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/session&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/session/TestSessionState.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13767472" author="hudson" created="Sat, 14 Sep 2013 12:13:28 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop2 #427 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/427/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/427/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4171&quot; title=&quot;Current database in metastore.Hive is not consistent with SessionState&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4171&quot;&gt;&lt;del&gt;HIVE-4171&lt;/del&gt;&lt;/a&gt; : Current database in metastore.Hive is not consistent with SessionState (Thejas Nair via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1523100&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1523100&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/CliSessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/test/org/apache/hadoop/hive/cli/TestCliSessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzerBase.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hive/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hive/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzerBase.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ColumnStatsTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/history/TestHiveHistory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/parse/TestMacroSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/session&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/session/TestSessionState.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13767740" author="hudson" created="Sun, 15 Sep 2013 09:33:09 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #97 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/97/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/97/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4171&quot; title=&quot;Current database in metastore.Hive is not consistent with SessionState&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4171&quot;&gt;&lt;del&gt;HIVE-4171&lt;/del&gt;&lt;/a&gt; : Current database in metastore.Hive is not consistent with SessionState (Thejas Nair via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1523100&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1523100&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/CliSessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/test/org/apache/hadoop/hive/cli/TestCliSessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzerBase.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hive/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hive/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzerBase.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ColumnStatsTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/history/TestHiveHistory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/parse/TestMacroSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/session&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/session/TestSessionState.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13767749" author="hudson" created="Sun, 15 Sep 2013 09:34:53 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop1-ptest #164 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/164/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/164/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4171&quot; title=&quot;Current database in metastore.Hive is not consistent with SessionState&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4171&quot;&gt;&lt;del&gt;HIVE-4171&lt;/del&gt;&lt;/a&gt; : Current database in metastore.Hive is not consistent with SessionState (Thejas Nair via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1523100&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1523100&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/CliSessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/test/org/apache/hadoop/hive/cli/TestCliSessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzerBase.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hive/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hcatalog/core/src/main/java/org/apache/hive/hcatalog/cli/SemanticAnalysis/HCatSemanticAnalyzerBase.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ColumnStatsTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/history/TestHiveHistory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/parse/TestMacroSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/session&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/session/TestSessionState.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13796055" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:40 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12639694">HIVE-4249</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12575997" name="HIVE-4171.3.patch" size="3446" author="thejas" created="Fri, 29 Mar 2013 01:18:15 +0000"/>
                            <attachment id="12580221" name="HIVE-4171.4.patch" size="66957" author="thejas" created="Wed, 24 Apr 2013 02:47:01 +0000"/>
                            <attachment id="12602397" name="HIVE-4171.5.patch" size="46910" author="thejas" created="Tue, 10 Sep 2013 19:56:28 +0000"/>
                            <attachment id="12602728" name="HIVE-4171.6.patch" size="48818" author="thejas" created="Thu, 12 Sep 2013 03:06:28 +0000"/>
                            <attachment id="12573678" name="HIVE-4171.D9399.1.patch" size="2607" author="phabricator@reviews.facebook.net" created="Thu, 14 Mar 2013 05:44:12 +0000"/>
                            <attachment id="12575655" name="HIVE-4171.D9399.2.patch" size="2896" author="phabricator@reviews.facebook.net" created="Wed, 27 Mar 2013 04:49:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Mar 2013 05:44:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1irzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317797</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4172] JDBC2 does not support VOID type</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4172</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In beeline, &quot;select key, null from src&quot; fails with exception,&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.service.cli.HiveSQLException: Error running query: java.lang.NullPointerException
	at org.apache.hive.service.cli.operation.SQLOperation.run(SQLOperation.java:112)
	at org.apache.hive.service.cli.session.HiveSessionImpl.executeStatement(HiveSessionImpl.java:166)
	at org.apache.hive.service.cli.CLIService.executeStatement(CLIService.java:148)
	at org.apache.hive.service.cli.thrift.ThriftCLIService.ExecuteStatement(ThriftCLIService.java:183)
	at org.apache.hive.service.cli.thrift.TCLIService$Processor$ExecuteStatement.getResult(TCLIService.java:1133)
	at org.apache.hive.service.cli.thrift.TCLIService$Processor$ExecuteStatement.getResult(TCLIService.java:1118)
	at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)
	at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)
	at org.apache.hive.service.auth.TSetIpAddressProcessor.process(TSetIpAddressProcessor.java:39)
	at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:206)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12636967">HIVE-4172</key>
            <summary>JDBC2 does not support VOID type</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                            <label>HiveServer2</label>
                    </labels>
                <created>Thu, 14 Mar 2013 06:03:39 +0000</created>
                <updated>Sat, 1 Nov 2014 10:13:07 +0000</updated>
                            <resolved>Fri, 21 Jun 2013 02:27:41 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>HiveServer2</component>
                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13602330" author="prasadm" created="Thu, 14 Mar 2013 15:09:25 +0000"  >&lt;p&gt;I guess the NullPointerException is due to null type name in the Type enum, but then HiveServer2 needs to handle VOID type.&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Please feel free to assign it to me if you are not planning work on this.&lt;/p&gt;</comment>
                            <comment id="13604837" author="navis" created="Mon, 18 Mar 2013 02:11:00 +0000"  >&lt;p&gt;I&apos;ve been using patched version and it&apos;s working well. Code review is pended cause there is some thrift version issue related to &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1757&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/THRIFT-1757&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13607359" author="phabricator@reviews.facebook.net" created="Wed, 20 Mar 2013 07:21:14 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; JDBC2 does not support VOID type&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; JDBC2 does not support VOID type&lt;/p&gt;

&lt;p&gt;In beeline, &quot;select key, null from src&quot; fails with exception,&lt;/p&gt;

&lt;p&gt;org.apache.hive.service.cli.HiveSQLException: Error running query: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.hive.service.cli.operation.SQLOperation.run(SQLOperation.java:112)&lt;br/&gt;
	at org.apache.hive.service.cli.session.HiveSessionImpl.executeStatement(HiveSessionImpl.java:166)&lt;br/&gt;
	at org.apache.hive.service.cli.CLIService.executeStatement(CLIService.java:148)&lt;br/&gt;
	at org.apache.hive.service.cli.thrift.ThriftCLIService.ExecuteStatement(ThriftCLIService.java:183)&lt;br/&gt;
	at org.apache.hive.service.cli.thrift.TCLIService$Processor$ExecuteStatement.getResult(TCLIService.java:1133)&lt;br/&gt;
	at org.apache.hive.service.cli.thrift.TCLIService$Processor$ExecuteStatement.getResult(TCLIService.java:1118)&lt;br/&gt;
	at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:39)&lt;br/&gt;
	at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:39)&lt;br/&gt;
	at org.apache.hive.service.auth.TSetIpAddressProcessor.process(TSetIpAddressProcessor.java:39)&lt;br/&gt;
	at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:206)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveResultSetMetaData.java&lt;br/&gt;
  jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;br/&gt;
  jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;br/&gt;
  ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Operator.java&lt;br/&gt;
  ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Query.java&lt;br/&gt;
  ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Stage.java&lt;br/&gt;
  ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Task.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/test/InnerStruct.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/test/ThriftTestObj.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/Complex.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/IntString.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MegaStruct.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MiniStruct.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyVoid.java&lt;br/&gt;
  service/if/TCLIService.thrift&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_constants.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.h&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TCLIServiceConstants.java&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TTypeId.java&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/TCLIService-remote&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/constants.py&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/ttypes.py&lt;br/&gt;
  service/src/gen/thrift/gen-py/hive_service/ThriftHive-remote&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service_constants.rb&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/ColumnValue.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Row.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Type.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/22851/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/22851/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13611275" author="phabricator@reviews.facebook.net" created="Fri, 22 Mar 2013 21:25:14 +0000"  >&lt;p&gt;prasadm has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; JDBC2 does not support VOID type&quot;.&lt;/p&gt;

&lt;p&gt;  +1 (non-binding)&lt;br/&gt;
  Overall the patch look fine. The change in TestJdbcDriver2:testDescribeTable() is already fixed on trunk.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java:815 This is already fixed as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4188&quot; title=&quot;TestJdbcDriver2.testDescribeTable failing consistently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4188&quot;&gt;&lt;del&gt;HIVE-4188&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Type.java:129 Now that the patch adds a VOID type  and name for user defined type fixed, do we still need this check ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: prasadm&lt;/p&gt;</comment>
                            <comment id="13611276" author="prasadm" created="Fri, 22 Mar 2013 21:25:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I added a couple of minor comments on review request.&lt;br/&gt;
Overall looks good to me.&lt;/p&gt;</comment>
                            <comment id="13611654" author="phabricator@reviews.facebook.net" created="Sat, 23 Mar 2013 07:57:13 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; JDBC2 does not support VOID type&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java:815 Yes. it would have been better if fixed like this(same code with test in TestJDBCDriver)&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Type.java:129 Just for sure. Exception would be better (IllegalArguementException?)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: prasadm&lt;/p&gt;</comment>
                            <comment id="13611655" author="phabricator@reviews.facebook.net" created="Sat, 23 Mar 2013 07:59:14 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; JDBC2 does not support VOID type&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed comment &amp;amp; rebased to trunk&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555?vs=30141&amp;amp;id=30417#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555?vs=30141&amp;amp;id=30417#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveResultSetMetaData.java&lt;br/&gt;
  jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;br/&gt;
  jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;br/&gt;
  ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Operator.java&lt;br/&gt;
  ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Query.java&lt;br/&gt;
  ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Stage.java&lt;br/&gt;
  ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Task.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/test/InnerStruct.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/test/ThriftTestObj.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/Complex.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/IntString.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MegaStruct.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MiniStruct.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyVoid.java&lt;br/&gt;
  service/if/TCLIService.thrift&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_constants.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.h&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TCLIServiceConstants.java&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TTypeId.java&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/TCLIService-remote&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/constants.py&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/ttypes.py&lt;br/&gt;
  service/src/gen/thrift/gen-py/hive_service/ThriftHive-remote&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service_constants.rb&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/ColumnValue.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Row.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Type.java&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: prasadm&lt;/p&gt;</comment>
                            <comment id="13611776" author="prasadm" created="Sat, 23 Mar 2013 17:44:24 +0000"  >&lt;p&gt;Thanks for addressing the comments!&lt;/p&gt;

&lt;p&gt;+1 (non-binding)&lt;/p&gt;</comment>
                            <comment id="13624496" author="phabricator@reviews.facebook.net" created="Sat, 6 Apr 2013 21:05:14 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; JDBC2 does not support VOID type&quot;.&lt;/p&gt;

&lt;p&gt;  +1 will commit if tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: prasadm&lt;/p&gt;</comment>
                            <comment id="13624498" author="ashutoshc" created="Sat, 6 Apr 2013 21:08:02 +0000"  >&lt;p&gt;Sorry..patch has gone stale. Can you rebase it.&lt;/p&gt;</comment>
                            <comment id="13624778" author="phabricator@reviews.facebook.net" created="Sun, 7 Apr 2013 07:51:15 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; JDBC2 does not support VOID type&quot;.&lt;/p&gt;

&lt;p&gt;  Rebased to trunk&lt;/p&gt;

&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555?vs=30417&amp;amp;id=31389#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555?vs=30417&amp;amp;id=31389#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveResultSetMetaData.java&lt;br/&gt;
  jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;br/&gt;
  jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/test/InnerStruct.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/test/ThriftTestObj.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/Complex.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/IntString.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MegaStruct.java&lt;br/&gt;
  serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MiniStruct.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyVoid.java&lt;br/&gt;
  service/if/TCLIService.thrift&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_constants.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.h&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TCLIServiceConstants.java&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TTypeId.java&lt;br/&gt;
  service/src/gen/thrift/gen-php/hive_service/ThriftHive.php&lt;br/&gt;
  service/src/gen/thrift/gen-php/hive_service/hive_service_types.php&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/TCLIService-remote&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/constants.py&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/ttypes.py&lt;br/&gt;
  service/src/gen/thrift/gen-py/hive_service/ThriftHive-remote&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service_constants.rb&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/ColumnValue.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Row.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Type.java&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: prasadm&lt;/p&gt;</comment>
                            <comment id="13624945" author="ashutoshc" created="Sun, 7 Apr 2013 15:57:08 +0000"  >&lt;p&gt;There are unrelated diffs in generated thrift code. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; you are likely hitting into &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4300&quot; title=&quot;ant thriftif  generated code that is checkedin is not up-to-date&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4300&quot;&gt;&lt;del&gt;HIVE-4300&lt;/del&gt;&lt;/a&gt; Would you like to take a look at that one first?&lt;/p&gt;</comment>
                            <comment id="13625080" author="navis" created="Mon, 8 Apr 2013 01:56:13 +0000"  >&lt;p&gt;Yes, I&apos;ve seen &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4300&quot; title=&quot;ant thriftif  generated code that is checkedin is not up-to-date&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4300&quot;&gt;&lt;del&gt;HIVE-4300&lt;/del&gt;&lt;/a&gt; and thought something is wrong in my system cause I don&apos;t know anything on thrift or other languages(Was hiveserver2 built on other version of thrift?).&lt;/p&gt;</comment>
                            <comment id="13625174" author="prasadm" created="Mon, 8 Apr 2013 05:54:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; HiveServer thrift code was generated using 0.9.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; are you referring to the hive_service/* files ? I guess those should be excluded from the patch since they are not generated by TCLIService.thrift&lt;/p&gt;</comment>
                            <comment id="13645371" author="phabricator@reviews.facebook.net" created="Tue, 30 Apr 2013 08:00:14 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; JDBC2 does not support VOID type&quot;.&lt;/p&gt;

&lt;p&gt;  Rebased to trunk&lt;/p&gt;

&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555?vs=31389&amp;amp;id=33189#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555?vs=31389&amp;amp;id=33189#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveResultSetMetaData.java&lt;br/&gt;
  jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;br/&gt;
  jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyVoid.java&lt;br/&gt;
  service/if/TCLIService.thrift&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_constants.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.h&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TCLIServiceConstants.java&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TTypeId.java&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/TCLIService-remote&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/constants.py&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/ttypes.py&lt;br/&gt;
  service/src/gen/thrift/gen-py/hive_service/ThriftHive-remote&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service_constants.rb&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/ColumnValue.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Row.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Type.java&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: prasadm&lt;/p&gt;</comment>
                            <comment id="13674439" author="ashutoshc" created="Tue, 4 Jun 2013 14:28:19 +0000"  >&lt;p&gt;Patch looks good, but in jdbc parlance&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; there is a type called &lt;tt&gt;null&lt;/tt&gt; and there is no type called &lt;tt&gt;void&lt;/tt&gt; Shall we also name this type as null instead of void, especially given the fact we are mapping it to java.sql.types.Null anyways in our implementation?&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://docs.oracle.com/javase/6/docs/api/java/sql/Types.html#NULL&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://docs.oracle.com/javase/6/docs/api/java/sql/Types.html#NULL&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13679354" author="phabricator@reviews.facebook.net" created="Mon, 10 Jun 2013 07:06:20 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; JDBC2 does not support VOID type&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed comments&lt;/p&gt;

&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555?vs=33189&amp;amp;id=34491#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555?vs=33189&amp;amp;id=34491#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveResultSetMetaData.java&lt;br/&gt;
  jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;br/&gt;
  jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedInfo.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedValueList.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&lt;br/&gt;
  metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyVoid.java&lt;br/&gt;
  service/if/TCLIService.thrift&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_constants.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.cpp&lt;br/&gt;
  service/src/gen/thrift/gen-cpp/TCLIService_types.h&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TCLIServiceConstants.java&lt;br/&gt;
  service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TTypeId.java&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/TCLIService-remote&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/constants.py&lt;br/&gt;
  service/src/gen/thrift/gen-py/TCLIService/ttypes.py&lt;br/&gt;
  service/src/gen/thrift/gen-py/hive_service/ThriftHive-remote&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service_constants.rb&lt;br/&gt;
  service/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/ColumnValue.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Row.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Type.java&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: prasadm&lt;/p&gt;</comment>
                            <comment id="13688295" author="phabricator@reviews.facebook.net" created="Wed, 19 Jun 2013 18:38:20 +0000"  >&lt;p&gt;ashutoshc has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; JDBC2 does not support VOID type&quot;.&lt;/p&gt;

&lt;p&gt;  Few more places for changing void to null.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveResultSetMetaData.java:119 Shouldn&apos;t this be &quot;null&quot; ?&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyVoid.java:23 Shall we call this class LazyNull ?&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Type.java:30 Shall we call this &quot;NULL&quot; ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: prasadm&lt;/p&gt;</comment>
                            <comment id="13689075" author="phabricator@reviews.facebook.net" created="Thu, 20 Jun 2013 09:56:21 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; JDBC2 does not support VOID type&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  jdbc/src/java/org/apache/hive/jdbc/HiveResultSetMetaData.java:119 It&apos;s constant value in serdeConstants, which cannot be changed.&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyVoid.java:23 There is LazyBinaryVoid, already. Shouldn&apos;t it be conform?&lt;br/&gt;
  service/src/java/org/apache/hive/service/cli/Type.java:30 Again, it&apos;s constant in serdeConstant.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: prasadm&lt;/p&gt;</comment>
                            <comment id="13689357" author="phabricator@reviews.facebook.net" created="Thu, 20 Jun 2013 16:00:21 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; JDBC2 does not support VOID type&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9555&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9555&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, navis&lt;br/&gt;
Cc: prasadm&lt;/p&gt;</comment>
                            <comment id="13689978" author="ashutoshc" created="Fri, 21 Jun 2013 02:27:41 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="13690338" author="hudson" created="Fri, 21 Jun 2013 14:46:23 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2160 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2160/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2160/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; : JDBC2 does not support VOID type (Navis via Ashutosh Chauhan) (Revision 1495273)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1495273&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1495273&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive/jdbc/HiveResultSetMetaData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedValueList.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyVoid.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/if/TCLIService.thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/TCLIService_constants.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/TCLIService_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/TCLIService_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TCLIServiceConstants.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TTypeId.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/TCLIService/constants.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/TCLIService/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-rb/t_c_l_i_service_constants.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/java/org/apache/hive/service/cli/ColumnValue.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/java/org/apache/hive/service/cli/Row.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/java/org/apache/hive/service/cli/Type.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13690748" author="hudson" created="Fri, 21 Jun 2013 21:33:41 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #251 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/251/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/251/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4172&quot; title=&quot;JDBC2 does not support VOID type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4172&quot;&gt;&lt;del&gt;HIVE-4172&lt;/del&gt;&lt;/a&gt; : JDBC2 does not support VOID type (Navis via Ashutosh Chauhan) (Revision 1495273)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1495273&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1495273&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive/jdbc/HiveBaseResultSet.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hive/jdbc/HiveResultSetMetaData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedValueList.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyVoid.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/if/TCLIService.thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/TCLIService_constants.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/TCLIService_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/TCLIService_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TCLIServiceConstants.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-javabean/org/apache/hive/service/cli/thrift/TTypeId.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/TCLIService/constants.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/TCLIService/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-rb/t_c_l_i_service_constants.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-rb/t_c_l_i_service_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/java/org/apache/hive/service/cli/ColumnValue.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/java/org/apache/hive/service/cli/Row.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/java/org/apache/hive/service/cli/Type.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795866" author="ashutoshc" created="Tue, 15 Oct 2013 23:29:17 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                            <comment id="14193053" author="qiaohaijun" created="Sat, 1 Nov 2014 10:13:07 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12641098">HIVE-4300</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12533227">HIVE-2615</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12646022">HIVE-4490</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12574501" name="HIVE-4172.D9555.1.patch" size="42211" author="phabricator@reviews.facebook.net" created="Wed, 20 Mar 2013 07:21:14 +0000"/>
                            <attachment id="12575177" name="HIVE-4172.D9555.2.patch" size="40908" author="phabricator@reviews.facebook.net" created="Sat, 23 Mar 2013 07:59:14 +0000"/>
                            <attachment id="12577440" name="HIVE-4172.D9555.3.patch" size="100665" author="phabricator@reviews.facebook.net" created="Sun, 7 Apr 2013 07:51:15 +0000"/>
                            <attachment id="12581131" name="HIVE-4172.D9555.4.patch" size="16698" author="phabricator@reviews.facebook.net" created="Tue, 30 Apr 2013 08:00:14 +0000"/>
                            <attachment id="12587035" name="HIVE-4172.D9555.5.patch" size="33629" author="phabricator@reviews.facebook.net" created="Mon, 10 Jun 2013 07:06:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Mar 2013 15:09:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317459</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 12 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1is0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317800</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4173] Hive Ignoring where clause for multitable insert</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4173</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive is ignoring Filter conditions given at Multi Insert select statement when  Filtering given on Source Query..&lt;/p&gt;

&lt;p&gt;To highlight this issue, please see below example with where clause (status!=&apos;C&apos;) from employee12 table causing issue and due to which insert filters (batch_id=&apos;12 and batch_id!=&apos;12&apos; )not working and dumping all the data coming from source to both the tables.&lt;/p&gt;

&lt;p&gt;I have checked the hive execution plan, and didn&apos;t find Filter predicates under for filtering record per insert statements&lt;/p&gt;


&lt;p&gt;from &lt;br/&gt;
(from employee12&lt;br/&gt;
select * &lt;br/&gt;
where status!=&apos;C&apos;) t&lt;br/&gt;
insert into table employee1&lt;br/&gt;
select &lt;br/&gt;
status,&lt;br/&gt;
field1,&lt;br/&gt;
&apos;T&apos; as field2,&lt;br/&gt;
&apos;P&apos; as field3,&lt;br/&gt;
&apos;C&apos; as field4&lt;br/&gt;
where batch_id=&apos;12&apos;&lt;br/&gt;
insert into table employee2&lt;br/&gt;
select&lt;br/&gt;
status,&lt;br/&gt;
field1,&lt;br/&gt;
&apos;D&apos; as field2, &lt;br/&gt;
&apos;P&apos; as field3,&lt;br/&gt;
&apos;C&apos; as field4&lt;br/&gt;
where batch_id!=&apos;12&apos;;&lt;/p&gt;

&lt;p&gt;It is working fine with single insert. Hive generating plan properly.. &lt;br/&gt;
I am able to reproduce this issue with 8.1 and 9.0 version of Hive.&lt;/p&gt;

</description>
                <environment>&lt;p&gt;Red Hat Enterprise Linux Server release 6.3 (Santiago),&lt;/p&gt;</environment>
        <key id="12636983">HIVE-4173</key>
            <summary>Hive Ignoring where clause for multitable insert</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hjamali52">hussain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Mar 2013 08:16:45 +0000</created>
                <updated>Tue, 17 Sep 2013 17:13:43 +0000</updated>
                            <resolved>Tue, 17 Sep 2013 07:37:37 +0000</resolved>
                                    <version>0.8.1</version>
                    <version>0.9.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13606195" author="hjamali52" created="Tue, 19 Mar 2013 09:40:38 +0000"  >&lt;p&gt;Hive-3699 , is for grouping rows row in select for insert statements. &lt;br/&gt;
Issue above reported is due to filter condition in source query. is it having same root cause ?&lt;/p&gt;</comment>
                            <comment id="13607321" author="navis" created="Wed, 20 Mar 2013 06:03:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3699&quot; title=&quot;Multiple insert overwrite into multiple tables query stores same results in all tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3699&quot;&gt;&lt;del&gt;HIVE-3699&lt;/del&gt;&lt;/a&gt; was about PPD for multi-insert case, seemingly fix the problem in description. &lt;br/&gt;
Could you try it with version in trunk?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12615591">HIVE-3699</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Mar 2013 06:03:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317475</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1is47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317816</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Hive, HQL, Multitable insert</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4174] Round UDF converts BigInts to double</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4174</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Chen Chun pointed out on the hive-user mailing list that round() in Hive 0.10 returns&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select round(&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(1234560 as BIGINT)), round(&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(12345670 as BIGINT)) from test limit 1;

&lt;span class=&quot;code-comment&quot;&gt;//hive 0.10
&lt;/span&gt;1234560.0  1.234567E7
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This is not consistent with MySQL(&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/mathematical-functions.html#function_round&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/mathematical-functions.html#function_round&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;which quotes&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;The &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; type is the same type as that of the first argument (assuming that it is integer, &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;, or decimal). This means that &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; an integer argument, the result is an integer (no decimal places)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12637026">HIVE-4174</key>
            <summary>Round UDF converts BigInts to double</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chenchun">Chun Chen</assignee>
                                    <reporter username="mgrover">Mark Grover</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Mar 2013 14:17:00 +0000</created>
                <updated>Thu, 16 May 2013 21:10:52 +0000</updated>
                            <resolved>Wed, 3 Apr 2013 08:45:32 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13612762" author="phabricator@reviews.facebook.net" created="Mon, 25 Mar 2013 16:01:14 +0000"  >&lt;p&gt;chenchun requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4174&quot; title=&quot;Round UDF converts BigInts to double&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4174&quot;&gt;&lt;del&gt;HIVE-4174&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Round UDF converts BigInts to double&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;Round UDF return type be the same type as that of the first argument&lt;/p&gt;

&lt;p&gt;Chen Chun pointed out on the hive-user mailing list that round() in Hive 0.10 returns&lt;/p&gt;

&lt;p&gt;select round(cast(1234560 as BIGINT)), round(cast(12345670 as BIGINT)) from test limit 1;&lt;/p&gt;

&lt;p&gt;//hive 0.10&lt;br/&gt;
1234560.0  1.234567E7&lt;/p&gt;

&lt;p&gt;This is not consistent with MySQL(&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/mathematical-functions.html#function_round&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/mathematical-functions.html#function_round&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;which quotes&lt;/p&gt;

&lt;p&gt;The return type is the same type as that of the first argument (assuming that it is integer, double, or decimal). This means that for an integer argument, the result is an integer (no decimal places)&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9687&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9687&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFRound.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_round_3.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_round.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_round_3.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/23127/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/23127/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, chenchun&lt;/p&gt;</comment>
                            <comment id="13620676" author="namit" created="Wed, 3 Apr 2013 06:50:18 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13620678" author="phabricator@reviews.facebook.net" created="Wed, 3 Apr 2013 06:51:14 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4174&quot; title=&quot;Round UDF converts BigInts to double&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4174&quot;&gt;&lt;del&gt;HIVE-4174&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Round UDF converts BigInts to double&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9687&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9687&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4174&quot; title=&quot;Round UDF converts BigInts to double&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4174&quot;&gt;&lt;del&gt;HIVE-4174&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, chenchun&lt;/p&gt;</comment>
                            <comment id="13620742" author="namit" created="Wed, 3 Apr 2013 08:45:32 +0000"  >&lt;p&gt;Committed. Thanks Chen Chun&lt;/p&gt;</comment>
                            <comment id="13621069" author="mgrover" created="Wed, 3 Apr 2013 17:17:18 +0000"  >&lt;p&gt;Indeed, thanks Chen Chun. And, congratulations on your first Hive commit!&lt;/p&gt;</comment>
                            <comment id="13621120" author="brocknoland" created="Wed, 3 Apr 2013 18:00:52 +0000"  >&lt;p&gt;Hey, should this be assigned to Chen Chun?&lt;/p&gt;</comment>
                            <comment id="13621137" author="mgrover" created="Wed, 3 Apr 2013 18:16:03 +0000"  >&lt;p&gt;It should be. &lt;span class=&quot;error&quot;&gt;&amp;#91;~namitjain&amp;#93;&lt;/span&gt; can you please add Chen Chun (chenchun dot feed at gmail dot com) to the project contributors list and assign this JIRA to him? Thanks!&lt;/p&gt;</comment>
                            <comment id="13621670" author="hudson" created="Thu, 4 Apr 2013 02:28:43 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2043 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2043/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2043/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4174&quot; title=&quot;Round UDF converts BigInts to double&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4174&quot;&gt;&lt;del&gt;HIVE-4174&lt;/del&gt;&lt;/a&gt; Round UDF converts BigInts to double&lt;br/&gt;
(Chen Chun via namit) (Revision 1463880)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1463880&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1463880&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFRound.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_round_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_round.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_round_3.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623010" author="hudson" created="Thu, 4 Apr 2013 23:39:49 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4174&quot; title=&quot;Round UDF converts BigInts to double&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4174&quot;&gt;&lt;del&gt;HIVE-4174&lt;/del&gt;&lt;/a&gt; Round UDF converts BigInts to double&lt;br/&gt;
(Chen Chun via namit) (Revision 1463880)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1463880&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1463880&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFRound.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_round_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_round.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_round_3.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13624912" author="chenchun" created="Sun, 7 Apr 2013 13:15:17 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrover&quot; class=&quot;user-hover&quot; rel=&quot;mgrover&quot;&gt;Mark Grover&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt;. By the way, I think u noticed a wrong person, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt; is not &lt;span class=&quot;error&quot;&gt;&amp;#91;~namitjain&amp;#93;&lt;/span&gt;. And can I assign the issue &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2817&quot; title=&quot;Drop any table even without privilege&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2817&quot;&gt;&lt;del&gt;HIVE-2817&lt;/del&gt;&lt;/a&gt; to me. I recently encounter the problem and find the cause of it.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12614902">HIVE-3675</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12574073" name="HIVE-4174.1.patch.txt" size="7026" author="chenchun" created="Sun, 17 Mar 2013 17:11:04 +0000"/>
                            <attachment id="12575332" name="HIVE-4174.D9687.1.patch" size="6775" author="phabricator@reviews.facebook.net" created="Mon, 25 Mar 2013 16:01:14 +0000"/>
                            <attachment id="12576732" name="hive.4174.1.patch-nohcat" size="13981" author="namit" created="Wed, 3 Apr 2013 06:55:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 25 Mar 2013 16:01:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1isdr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>The change makes the return type of round function be the same type as that of the first argument (assuming that it is integer, double, or decimal). This means that for an integer argument, the result is an integer (no decimal places).</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4175] Injection of emptyFile into input splits for empty partitions causes Deserializer to fail</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4175</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;ul&gt;
	&lt;li&gt;My deserializer is expecting to receive one of 2 different subclasses of Writable, but in certain circumstances it receives an empty instance of org.apache.hadoop.io.Text. This only happens for task attempts where I observe the file called &quot;emptyFile&quot; in the list of input splits.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;m doing queries over an external year/month/day partitioned table that have eagerly created partitions for, so as of today for example, I may do a query where year = 2013 and month = 3 which includes empty partitions.&lt;/p&gt;

&lt;p&gt;In the course of investigation I downloaded the sequence files to confirm they were ok. Once I realized that processing of empty partitions was to blame, I am able to work around the issue by bounding my queries to populated partitions.&lt;/p&gt;

&lt;p&gt;Can the need for the emptyFile be eliminated in the case where there&apos;s already a bunch of splits being processed? Failing that, can the mapper detect the current input is from emptyFile and not call the deserializer.&lt;/p&gt;</description>
                <environment>&lt;p&gt;CDH4.2, using MR1&lt;/p&gt;</environment>
        <key id="12637034">HIVE-4175</key>
            <summary>Injection of emptyFile into input splits for empty partitions causes Deserializer to fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jkebinger">James Kebinger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Mar 2013 14:55:14 +0000</created>
                <updated>Mon, 26 Mar 2018 07:22:22 +0000</updated>
                                            <version>0.10.0</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13794522" author="amalhotra" created="Mon, 14 Oct 2013 21:42:44 +0000"  >&lt;p&gt;Ran into this while using Elephant Bird&apos;s protobuf deserializer. This only happens when I have partitions that dont have any files.&lt;/p&gt;

&lt;p&gt;My table:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE  TABLE test_proto_v002(
  timestamp bigint COMMENT &lt;span class=&quot;code-quote&quot;&gt;&apos;from deserializer&apos;&lt;/span&gt;, 
  auction_id bigint COMMENT &lt;span class=&quot;code-quote&quot;&gt;&apos;from deserializer&apos;&lt;/span&gt;, 
  object_type &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; COMMENT &lt;span class=&quot;code-quote&quot;&gt;&apos;from deserializer&apos;&lt;/span&gt;, 
  object_id &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; COMMENT &lt;span class=&quot;code-quote&quot;&gt;&apos;from deserializer&apos;&lt;/span&gt;, 
  method &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; COMMENT &lt;span class=&quot;code-quote&quot;&gt;&apos;from deserializer&apos;&lt;/span&gt;, 
  value &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; COMMENT &lt;span class=&quot;code-quote&quot;&gt;&apos;from deserializer&apos;&lt;/span&gt;, 
  event_type &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; COMMENT &lt;span class=&quot;code-quote&quot;&gt;&apos;from deserializer&apos;&lt;/span&gt;)
PARTITIONED BY ( 
  dy string, 
  dm string, 
  dd string, 
  dh string)
ROW FORMAT DELIMITED 
STORED AS INPUTFORMAT 
  &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.mapred.SequenceFileInputFormat&apos;&lt;/span&gt; 
OUTPUTFORMAT 
  &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.ql.io.HiveSequenceFileOutputFormat&apos;&lt;/span&gt;
LOCATION
  &lt;span class=&quot;code-quote&quot;&gt;&apos;hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost/logs/test_proto/v002&apos;&lt;/span&gt;
&lt;/span&gt;TBLPROPERTIES (
  &lt;span class=&quot;code-quote&quot;&gt;&apos;transient_lastDdlTime&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;1381346965&apos;&lt;/span&gt;)

Logs &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; hive job from JT:
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;....&lt;br/&gt;
2013-10-14 16:24:23,555 INFO org.apache.hadoop.mapred.MapTask: Processing split: Paths:/Users/amalhotra/hadoop/appdoop/tmp/hive/hive_2013-10-14_16-24-18_372_8603315140627624341/-mr-10002/1/emptyFile:0+87,/logs/test_proto/v002/2013/10/14/11/test_proto_1381765303443:0+541InputFormatClass: org.apache.hadoop.mapred.SequenceFileInputFormat&lt;br/&gt;
....&lt;br/&gt;
2013-10-14 16:24:24,079 INFO org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader: Processing file hdfs://localhost/logs/test_proto/v002/2013/10/14/11/test_proto_1381765303443&lt;br/&gt;
2013-10-14 16:24:24,079 INFO org.apache.hadoop.hive.ql.exec.MapOperator: Processing alias test_proto_v002 for file hdfs://localhost/logs/test_proto/v002/2013/10/14/11&lt;br/&gt;
2013-10-14 16:24:24,080 FATAL ExecMapper: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing writable &lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:539)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:143)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:418)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:333)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child$4.run(Child.java:268)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:415)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1407)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child.main(Child.java:262)&lt;br/&gt;
Caused by: java.lang.ClassCastException: org.apache.hadoop.io.Text cannot be cast to org.apache.hadoop.io.BytesWritable&lt;br/&gt;
	at com.twitter.elephantbird.hive.serde.ProtobufDeserializer.deserialize(ProtobufDeserializer.java:56)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:525)&lt;br/&gt;
	... 9 more&lt;/p&gt;

&lt;p&gt;2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.MapOperator: 7 finished. closing... &lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.MapOperator: 7 forwarded 0 rows&lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.MapOperator: DESERIALIZE_ERRORS:1&lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.TableScanOperator: 3 finished. closing... &lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.TableScanOperator: 3 forwarded 0 rows&lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: 2 finished. closing... &lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: 2 forwarded 0 rows&lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.GroupByOperator: 1 finished. closing... &lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.GroupByOperator: 1 forwarded 0 rows&lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.ReduceSinkOperator: 0 finished. closing... &lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.ReduceSinkOperator: 0 forwarded 0 rows&lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.GroupByOperator: 1 Close done&lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.SelectOperator: 2 Close done&lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.TableScanOperator: 3 Close done&lt;br/&gt;
2013-10-14 16:24:24,080 INFO org.apache.hadoop.hive.ql.exec.MapOperator: 7 Close done&lt;br/&gt;
2013-10-14 16:24:24,080 INFO ExecMapper: ExecMapper: processed 0 rows: used memory = 120821440&lt;br/&gt;
2013-10-14 16:24:24,084 INFO org.apache.hadoop.mapred.TaskLogsTruncater: Initializing logs&apos; truncater with mapRetainSize=-1 and reduceRetainSize=-1&lt;br/&gt;
2013-10-14 16:24:24,086 WARN org.apache.hadoop.mapred.Child: Error running child&lt;br/&gt;
java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing writable &lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:161)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:418)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:333)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child$4.run(Child.java:268)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:415)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1407)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child.main(Child.java:262)&lt;br/&gt;
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing writable &lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:539)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:143)&lt;br/&gt;
	... 8 more&lt;br/&gt;
Caused by: java.lang.ClassCastException: org.apache.hadoop.io.Text cannot be cast to org.apache.hadoop.io.BytesWritable&lt;br/&gt;
	at com.twitter.elephantbird.hive.serde.ProtobufDeserializer.deserialize(ProtobufDeserializer.java:56)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:525)&lt;br/&gt;
	... 9 more&lt;br/&gt;
2013-10-14 16:24:24,089 INFO org.apache.hadoop.mapred.Task: Runnning cleanup for the task&lt;br/&gt;
...&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13794553" author="ashutoshc" created="Mon, 14 Oct 2013 22:22:34 +0000"  >&lt;p&gt;Just curious, what was the query you were running when you encountered this error?&lt;/p&gt;</comment>
                            <comment id="13794727" author="amalhotra" created="Tue, 15 Oct 2013 00:47:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;&lt;br/&gt;
Assuming 11 has data and 12 does not:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select count(*), object_type from test_proto where dh IN (&lt;span class=&quot;code-quote&quot;&gt;&apos;2013-10-14 11&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;2013-10-14 12&apos;&lt;/span&gt;) group by object_type;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/kevinweil/elephant-bird/blob/master/hive/src/main/java/com/twitter/elephantbird/hive/serde/ProtobufDeserializer.java?source=c#L56&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;ProtobufDeserializer.java&lt;/a&gt; throws a ClassCastException as seen above. On further digging, the blob of type Text is empty and blob.getLength() returned 0.&lt;/p&gt;</comment>
                            <comment id="13797026" author="amalhotra" created="Wed, 16 Oct 2013 17:30:32 +0000"  >&lt;p&gt;Whats even more surprising is that some of the objects (blob) are empty when this happens. So the Deserializer cant really do much. For e.g. I had 10 records in the 11th hour partition and only 2 are passed in as non-empty blobs to the Deserializer above.&lt;/p&gt;</comment>
                            <comment id="13797033" author="appodictic" created="Wed, 16 Oct 2013 17:35:18 +0000"  >&lt;p&gt;I bet this is something hive/ hive combine input format is going. I have noticed random issues around empty partitions before that were recently fixed. Also note that protobuf was recently updated from 2.4 -&amp;gt; 2.5&lt;/p&gt;</comment>
                            <comment id="13797293" author="amalhotra" created="Wed, 16 Oct 2013 21:39:17 +0000"  >&lt;p&gt;I&apos;m on hive 0.10. Correct me if I&apos;m wrong but &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3833&quot; title=&quot;object inspectors should be initialized based on partition metadata&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3833&quot;&gt;&lt;del&gt;HIVE-3833&lt;/del&gt;&lt;/a&gt; might fix this? &lt;/p&gt;

&lt;p&gt;Unfortunately, we&apos;re on CDH-4.2.0 and hive 0.10 and cant see upgrading any time soon. I&apos;m open to any workarounds, the most extreme being, not having empty partitions at all.&lt;/p&gt;</comment>
                            <comment id="13800689" author="amalhotra" created="Mon, 21 Oct 2013 14:24:44 +0000"  >&lt;p&gt;For now, the only workaround that I have successfully tested is creating a default empty Sequence file for each partition.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Oct 2013 21:42:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317526</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1isfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317867</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4176] disable TestBeeLineDriver in ptest util</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4176</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The test is disabled for ant test, so it should be disabled for ptest as well.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637048">HIVE-4176</key>
            <summary>disable TestBeeLineDriver in ptest util</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636851">HIVE-4161</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Mar 2013 17:01:35 +0000</created>
                <updated>Thu, 16 May 2013 21:10:06 +0000</updated>
                            <resolved>Fri, 15 Mar 2013 01:37:50 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13602430" author="kevinwilfong" created="Thu, 14 Mar 2013 17:02:01 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4162&quot; title=&quot;disable TestBeeLineDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4162&quot;&gt;&lt;del&gt;HIVE-4162&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4161&quot; title=&quot;create clean and small default set of tests for TestBeeLineDriver&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4161&quot;&gt;HIVE-4161&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13602433" author="kevinwilfong" created="Thu, 14 Mar 2013 17:03:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D9405&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9405&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13602544" author="namit" created="Thu, 14 Mar 2013 18:25:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Kevin, can you commit it if parallel tests pass ?&lt;/p&gt;</comment>
                            <comment id="13602776" author="namit" created="Thu, 14 Mar 2013 21:22:32 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13603013" author="kevinwilfong" created="Fri, 15 Mar 2013 01:37:50 +0000"  >&lt;p&gt;Committed, thanks Namit and Ashutosh.&lt;/p&gt;</comment>
                            <comment id="13604156" author="hudson" created="Sat, 16 Mar 2013 07:58:18 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2016 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2016/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2016/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4176&quot; title=&quot;disable TestBeeLineDriver in ptest util&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4176&quot;&gt;&lt;del&gt;HIVE-4176&lt;/del&gt;&lt;/a&gt;. disable TestBeeLineDriver in ptest util. (kevinwilfong reviewed by njain, ashutoshc) (Revision 1456742)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1456742&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1456742&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623012" author="hudson" created="Thu, 4 Apr 2013 23:39:49 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4176&quot; title=&quot;disable TestBeeLineDriver in ptest util&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4176&quot;&gt;&lt;del&gt;HIVE-4176&lt;/del&gt;&lt;/a&gt;. disable TestBeeLineDriver in ptest util. (kevinwilfong reviewed by njain, ashutoshc) (Revision 1456742)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1456742&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1456742&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573732" name="HIVE-4176.1.patch.txt" size="603" author="kevinwilfong" created="Thu, 14 Mar 2013 17:04:33 +0000"/>
                            <attachment id="12573767" name="HIVE-4176.2.patch.txt" size="1005" author="kevinwilfong" created="Thu, 14 Mar 2013 21:04:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Mar 2013 18:25:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317540</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1isin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317881</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4177] support partial scan for analyze command - ORC</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4177</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is follow up on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3958&quot; title=&quot;support partial scan for analyze command - RCFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3958&quot;&gt;&lt;del&gt;HIVE-3958&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This jira will focus on ORC format  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3874&quot; title=&quot;Create a new Optimized Row Columnar file format for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3874&quot;&gt;&lt;del&gt;HIVE-3874&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637097">HIVE-4177</key>
            <summary>support partial scan for analyze command - ORC</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Mar 2013 22:19:36 +0000</created>
                <updated>Mon, 10 Mar 2014 19:06:34 +0000</updated>
                                                                            <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12699331">HIVE-6578</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12629755">HIVE-3958</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317589</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 45 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1istj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317930</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4178] ORC fails with files with different numbers of columns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4178</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When CombineHiveInputFormat is used, it&apos;s possible that two files with different numbers of files can be included in the same split, in which case Hive will fail at one of several points with an ArrayIndexOutOfBoundsException.&lt;/p&gt;

&lt;p&gt;This can happen when a partition contains empty files or two partitions are read with different numbers of columns.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637103">HIVE-4178</key>
            <summary>ORC fails with files with different numbers of columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Mar 2013 22:54:47 +0000</created>
                <updated>Thu, 16 May 2013 21:11:02 +0000</updated>
                            <resolved>Fri, 19 Apr 2013 15:53:11 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13602865" author="kevinwilfong" created="Thu, 14 Mar 2013 22:56:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D9423&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9423&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13620683" author="namit" created="Wed, 3 Apr 2013 06:58:52 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13625943" author="kevinwilfong" created="Mon, 8 Apr 2013 23:00:10 +0000"  >&lt;p&gt;Responded to comments on Phabricator.&lt;/p&gt;</comment>
                            <comment id="13636512" author="owen.omalley" created="Fri, 19 Apr 2013 15:53:11 +0000"  >&lt;p&gt;I just committed this to trunk and branch-11. Thanks, Kevin!&lt;/p&gt;</comment>
                            <comment id="13637116" author="hudson" created="Sat, 20 Apr 2013 04:21:00 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #166 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/166/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/166/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4178&quot; title=&quot;ORC fails with files with different numbers of columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4178&quot;&gt;&lt;del&gt;HIVE-4178&lt;/del&gt;&lt;/a&gt; : ORC fails with files with different numbers of columns (Revision 1469908)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
omalley : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1469908&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1469908&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/orc_diff_part_cols.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/orc_empty_files.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/orc_diff_part_cols.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/orc_empty_files.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13637191" author="hudson" created="Sat, 20 Apr 2013 10:17:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2071 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2071/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2071/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4178&quot; title=&quot;ORC fails with files with different numbers of columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4178&quot;&gt;&lt;del&gt;HIVE-4178&lt;/del&gt;&lt;/a&gt; : ORC fails with files with different numbers of columns (Revision 1469908)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
omalley : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1469908&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1469908&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/OrcStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/RecordReaderImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/orc_diff_part_cols.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/orc_empty_files.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/orc_diff_part_cols.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/orc_empty_files.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573789" name="HIVE-4178.1.patch.txt" size="11969" author="kevinwilfong" created="Thu, 14 Mar 2013 22:57:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 3 Apr 2013 06:58:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317595</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1isuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4179] NonBlockingOpDeDup does not merge SEL operators correctly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4179</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The input columns list for SEL operations isn&apos;t merged properly in the optimization. The best way to see this is running union_remove_22.q with -Dhadoop.mr.rev=23. The plan shows lost UDFs and a broken lineage for one column.&lt;/p&gt;

&lt;p&gt;Note: union_remove tests do not run on hadoop 1 or 0.20.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637109">HIVE-4179</key>
            <summary>NonBlockingOpDeDup does not merge SEL operators correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Mar 2013 23:17:39 +0000</created>
                <updated>Thu, 16 May 2013 21:11:01 +0000</updated>
                            <resolved>Wed, 3 Apr 2013 14:28:34 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13602879" author="hagleitn" created="Thu, 14 Mar 2013 23:19:12 +0000"  >&lt;p&gt;replaced standard backtracking with SEL merge function.&lt;/p&gt;</comment>
                            <comment id="13602881" author="hagleitn" created="Thu, 14 Mar 2013 23:19:47 +0000"  >&lt;p&gt;still running tests on patch.&lt;/p&gt;</comment>
                            <comment id="13603970" author="hagleitn" created="Fri, 15 Mar 2013 23:19:15 +0000"  >&lt;p&gt;Query:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;insert overwrite table outputTbl1
SELECT a.key, concat(a.values, a.values), concat(a.values, a.values)
FROM (
  SELECT key, count(1) as values from inputTbl1 group by key
  UNION ALL
  SELECT key, count(1) as values from inputTbl1 group by key
) a;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Before:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;          outputColumnNames: _col0, _col1
          Select Operator
            expressions:
                  expr: _col0
                  type: string
                  expr: UDFToLong(_col1)
                  type: bigint
                  expr: UDFToLong(_col2)
                  type: bigint
            outputColumnNames: _col0, _col1, _col2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;        
          outputColumnNames: _col0, _col1
          Select Operator
            expressions:
                  expr: _col0
                  type: string
                  expr: UDFToLong(concat(_col1, _col1))
                  type: bigint
                  expr: UDFToLong(concat(_col1, _col1))
                  type: bigint
            outputColumnNames: _col0, _col1, _col2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13604007" author="hagleitn" created="Fri, 15 Mar 2013 23:59:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D9471&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9471&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13606279" author="ashutoshc" created="Tue, 19 Mar 2013 12:37:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Would you like to review this?&lt;/p&gt;</comment>
                            <comment id="13614279" author="hagleitn" created="Tue, 26 Mar 2013 16:38:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I think you&apos;d be the best person to take a look. Can you spare a moment?&lt;/p&gt;</comment>
                            <comment id="13614786" author="navis" created="Wed, 27 Mar 2013 01:33:49 +0000"  >&lt;p&gt;I&apos;ve took a look at this. The root cause is from UnionProcessor which does not copy colExprMapping of parent SEL operator. After applying that, I&apos;ve confirmed the result is valid.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; The patch you&apos;ve provided is valid but the missing colExprMap info can make problems in anytime. So I prefer to revise it as suggested above. Could you do that?&lt;/p&gt;</comment>
                            <comment id="13615578" author="hagleitn" created="Wed, 27 Mar 2013 18:14:32 +0000"  >&lt;p&gt;Much better fix! Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;. Testing it right now, will be up shortly.&lt;/p&gt;</comment>
                            <comment id="13615731" author="hagleitn" created="Wed, 27 Mar 2013 20:37:58 +0000"  >&lt;p&gt;Adjusted fix per Navis&apos; instructions. I&apos;ve also checked other union_remove* testcases and updated their golden file after verifying.&lt;/p&gt;

&lt;p&gt;There are still failures in some of the union_remove testcases - but I think those are unrelated and I will open separate jiras for them (8,9,10,12,13,24)&lt;/p&gt;</comment>
                            <comment id="13616938" author="navis" created="Fri, 29 Mar 2013 01:12:38 +0000"  >&lt;p&gt;minor comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13617123" author="hagleitn" created="Fri, 29 Mar 2013 06:11:55 +0000"  >&lt;p&gt;Addressing comment from phabricator (cloning schema and columnExprMap)&lt;/p&gt;</comment>
                            <comment id="13617197" author="navis" created="Fri, 29 Mar 2013 09:34:45 +0000"  >&lt;p&gt;I&apos;ve ran union_remove_* tests and found mapping information is missing for type casting SEL operator, which is generated in SemanticAnalyzer.genInputSelectForUnion().&lt;/p&gt;

&lt;p&gt;Packing needed colExprMap seemed to fix some part of problems. Could you do that?&lt;/p&gt;</comment>
                            <comment id="13617198" author="navis" created="Fri, 29 Mar 2013 09:37:21 +0000"  >&lt;p&gt;And.. failing of 12, 13 is caused by mis-configuration in data/hive-site.xml (hive.ignore.mapjoin.hint should be true). I don&apos;t know why those are failing if it&apos;s set false.&lt;/p&gt;</comment>
                            <comment id="13617440" author="hagleitn" created="Fri, 29 Mar 2013 15:39:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I&apos;d be happy to work on those as well. As I said before, there&apos;s additional issues with the union_remove testcases. I think those can/should be handled in follow up jiras though. This one fixes one particular issue and can be committed. Do you agree?&lt;/p&gt;</comment>
                            <comment id="13618648" author="navis" created="Mon, 1 Apr 2013 06:22:05 +0000"  >&lt;p&gt;Am I missing something? I get result of union_remove_5,8,9,14,24 are changed.&lt;/p&gt;</comment>
                            <comment id="13619607" author="hagleitn" created="Tue, 2 Apr 2013 08:00:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;: Here&apos;s what you should see with this patch:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;failures before: 10, 12, 13, 14, 22, 23, 24, 3, 4, 5, 7, 8, 9
 failures after: 10, 12, 13, 14,         24,       5,    8, 9
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So, this patch fixes: 22, 23, 2, 3 and 7&lt;/p&gt;

&lt;p&gt;Is that what you&apos;re asking?&lt;/p&gt;</comment>
                            <comment id="13619609" author="hagleitn" created="Tue, 2 Apr 2013 08:01:55 +0000"  >&lt;p&gt;Oh - yes, I think you&apos;re result is right. The ones you list are still failing because of mismatch with the golden file (fixed in other patches). 10, 12 and 13 actually get an exception before they even get to the diff with golden file.&lt;/p&gt;</comment>
                            <comment id="13620476" author="ashutoshc" created="Wed, 3 Apr 2013 01:11:25 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13620483" author="navis" created="Wed, 3 Apr 2013 01:21:57 +0000"  >&lt;p&gt;I know results of 5,8,9,14,24 would be fixed by other issues. But IMHO, those changes should be included anyway. Isn&apos;t it? And, sorry for slow progress. I&apos;m barely not good reviewer but trying to be like a committer.&lt;/p&gt;</comment>
                            <comment id="13620526" author="ashutoshc" created="Wed, 3 Apr 2013 02:11:58 +0000"  >&lt;p&gt;No worries &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I dont feel strongly one way or the other. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; would you like to update the results in this patch or in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4259&quot; title=&quot;SEL operator created with missing columnExprMap for unions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4259&quot;&gt;&lt;del&gt;HIVE-4259&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="13620695" author="hagleitn" created="Wed, 3 Apr 2013 07:32:24 +0000"  >&lt;p&gt;I&apos;ve split the golden file updates to go along with the code changes in the patches. I prefer it this way, but will change if it makes things easier. This is a somewhat special case I think, because the hadoop 2 build is already broken (so even though this fixes some tests others will still fail).&lt;/p&gt;</comment>
                            <comment id="13620950" author="ashutoshc" created="Wed, 3 Apr 2013 14:28:34 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Gunther!&lt;/p&gt;</comment>
                            <comment id="13621673" author="hudson" created="Thu, 4 Apr 2013 02:28:44 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2043 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2043/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2043/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4179&quot; title=&quot;NonBlockingOpDeDup does not merge SEL operators correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4179&quot;&gt;&lt;del&gt;HIVE-4179&lt;/del&gt;&lt;/a&gt; : NonBlockingOpDeDup does not merge SEL operators correctly (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1464042)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464042&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464042&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/OperatorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/RowSchema.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_22.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_23.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_7.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623016" author="hudson" created="Thu, 4 Apr 2013 23:39:50 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4179&quot; title=&quot;NonBlockingOpDeDup does not merge SEL operators correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4179&quot;&gt;&lt;del&gt;HIVE-4179&lt;/del&gt;&lt;/a&gt; : NonBlockingOpDeDup does not merge SEL operators correctly (Gunther Hagleitner via Ashutosh Chauhan) (Revision 1464042)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464042&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464042&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/OperatorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/RowSchema.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/unionproc/UnionProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_22.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_23.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_remove_7.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12639830">HIVE-4259</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12639831">HIVE-4260</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12639833">HIVE-4261</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12573794" name="HIVE-4179.1.patch" size="11415" author="hagleitn" created="Thu, 14 Mar 2013 23:19:12 +0000"/>
                            <attachment id="12573971" name="HIVE-4179.2.patch" size="11845" author="hagleitn" created="Fri, 15 Mar 2013 23:20:07 +0000"/>
                            <attachment id="12575761" name="HIVE-4179.3.patch" size="25566" author="hagleitn" created="Wed, 27 Mar 2013 20:37:58 +0000"/>
                            <attachment id="12576027" name="HIVE-4179.4.patch" size="27362" author="hagleitn" created="Fri, 29 Mar 2013 06:11:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Mar 2013 12:37:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317601</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1isw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317942</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4180] Filter getting dropped with PTFOperator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4180</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Another case where filter push down was not handled correctly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637122">HIVE-4180</key>
            <summary>Filter getting dropped with PTFOperator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Mar 2013 00:29:57 +0000</created>
                <updated>Thu, 16 May 2013 21:10:53 +0000</updated>
                            <resolved>Fri, 22 Mar 2013 16:34:19 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>PTF-Windowing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13602938" author="ashutoshc" created="Fri, 15 Mar 2013 00:31:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4143&quot; title=&quot;Incorrect column mappings with over clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4143&quot;&gt;&lt;del&gt;HIVE-4143&lt;/del&gt;&lt;/a&gt; attempted to fix the problem. But problem still exists. &lt;/p&gt;</comment>
                            <comment id="13602942" author="ashutoshc" created="Fri, 15 Mar 2013 00:35:26 +0000"  >&lt;p&gt; &lt;a href=&quot;https://reviews.facebook.net/D9435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9435&lt;/a&gt; has a testcase which demonstrates the problem and has a fix.&lt;/p&gt;</comment>
                            <comment id="13609071" author="ashutoshc" created="Thu, 21 Mar 2013 16:11:17 +0000"  >&lt;p&gt;Committed to branch. Thanks, Harish for review!&lt;/p&gt;</comment>
                            <comment id="13609301" author="ashutoshc" created="Thu, 21 Mar 2013 18:53:20 +0000"  >&lt;p&gt;Previous patch was too restrictive, it was leaving the filter in its original location. Whereas what we want is to filter to come up to PTFOp and don&apos;t get pushed beyond PTFOp. This is exactly what ScriptPPD does, so we can reuse it. LimitPPD also uses ScriptPPD for similar reason. &lt;/p&gt;</comment>
                            <comment id="13609318" author="ashutoshc" created="Thu, 21 Mar 2013 19:06:34 +0000"  >&lt;p&gt;Easier to explain via an example. Consider following query:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select s_store_name,
       i_product_name,
       rnk
from (
    select ss_store_sk,
           ss_item_sk,
           rank() over (partition by ss_store_sk order by item_total desc) as rnk
      from (
        select ss_store_sk,
               ss_item_sk,
               sum(ss_sales_price) as item_total
          from store_sales
          join date_dim on (store_sales.ss_sold_date_sk = date_dim.d_date_sk)
          where date_dim.d_year = 2000
            and date_dim.d_moy = 12
            and date_dim.d_dom = 24
          group by ss_store_sk,
                   ss_item_sk
     ) item_sales
) item_rank
join item on (item.i_item_sk = item_rank.ss_item_sk)
join store on (item_rank.ss_store_sk = store.s_store_sk)
where rnk &amp;lt;= 3;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Running explain before and after latest patch will prove this point. With the previous patch, filter (rnk &amp;lt;= 3) will not be moved and will be applied last after the outermost joins, whereas what we really want is this filter to get pushed up till PTFOperator and applied right after it. Latest patch gets us that plan.&lt;/p&gt;</comment>
                            <comment id="13610775" author="ashutoshc" created="Fri, 22 Mar 2013 16:34:19 +0000"  >&lt;p&gt;Committed to branch. Thanks Harish for review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317614</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1isz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317955</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4181] Star argument without table alias for UDTF is not working</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4181</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;select explode&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; as x from src; thorws&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genUDTFPlan(SemanticAnalyzer.java:5344)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2526)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2284)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPostGroupByBodyPlan(SemanticAnalyzer.java:7079)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:7050)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:7792)
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:8462)
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:259)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:433)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:902)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:756)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:614)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:186)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12637142">HIVE-4181</key>
            <summary>Star argument without table alias for UDTF is not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Mar 2013 05:43:14 +0000</created>
                <updated>Tue, 15 Oct 2013 23:30:00 +0000</updated>
                            <resolved>Wed, 24 Apr 2013 17:36:16 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13603167" author="phabricator@reviews.facebook.net" created="Fri, 15 Mar 2013 05:58:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4181&quot; title=&quot;Star argument without table alias for UDTF is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4181&quot;&gt;&lt;del&gt;HIVE-4181&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Star argument without table alias for UDTF is not working&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4181&quot; title=&quot;Star argument without table alias for UDTF is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4181&quot;&gt;&lt;del&gt;HIVE-4181&lt;/del&gt;&lt;/a&gt; Star argument without table alias for UDTF is not working&lt;/p&gt;

&lt;p&gt;select explode as x from src; thorws&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genUDTFPlan(SemanticAnalyzer.java:5344)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2526)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2284)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPostGroupByBodyPlan(SemanticAnalyzer.java:7079)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:7050)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:7792)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:8462)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:259)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:433)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:902)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:756)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:614)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:186)&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9453&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9453&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/allcolref_in_udf.q&lt;br/&gt;
  ql/src/test/results/clientpositive/allcolref_in_udf.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/22641/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/22641/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13640198" author="phabricator@reviews.facebook.net" created="Wed, 24 Apr 2013 07:41:15 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4181&quot; title=&quot;Star argument without table alias for UDTF is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4181&quot;&gt;&lt;del&gt;HIVE-4181&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Star argument without table alias for UDTF is not working&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9453&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9453&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4181&quot; title=&quot;Star argument without table alias for UDTF is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4181&quot;&gt;&lt;del&gt;HIVE-4181&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;/p&gt;</comment>
                            <comment id="13640695" author="namit" created="Wed, 24 Apr 2013 17:36:16 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13641679" author="hudson" created="Thu, 25 Apr 2013 11:20:48 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #174 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/174/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/174/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4181&quot; title=&quot;Star argument without table alias for UDTF is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4181&quot;&gt;&lt;del&gt;HIVE-4181&lt;/del&gt;&lt;/a&gt; Star argument without table alias for UDTF is not working&lt;br/&gt;
(Navis via namit) (Revision 1471553)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1471553&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1471553&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/allcolref_in_udf.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/allcolref_in_udf.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13642544" author="hudson" created="Fri, 26 Apr 2013 03:24:41 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2078 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2078/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2078/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4181&quot; title=&quot;Star argument without table alias for UDTF is not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4181&quot;&gt;&lt;del&gt;HIVE-4181&lt;/del&gt;&lt;/a&gt; Star argument without table alias for UDTF is not working&lt;br/&gt;
(Navis via namit) (Revision 1471553)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1471553&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1471553&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/allcolref_in_udf.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/allcolref_in_udf.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795954" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:00 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573833" name="HIVE-4181.D9453.1.patch" size="4317" author="phabricator@reviews.facebook.net" created="Fri, 15 Mar 2013 05:58:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Mar 2013 05:58:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317634</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1it3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4182] doAS does not work with HiveServer2 in non-kerberos mode with local job</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4182</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When HiveServer2 is configured without kerberos security enabled, and the query gets launched as a local map-reduce job, the job runs as the user hive server is running as , instead of the user who submitted the query.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637221">HIVE-4182</key>
            <summary>doAS does not work with HiveServer2 in non-kerberos mode with local job</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                            <label>HiveServer2</label>
                    </labels>
                <created>Fri, 15 Mar 2013 16:15:04 +0000</created>
                <updated>Thu, 16 May 2013 21:10:11 +0000</updated>
                            <resolved>Thu, 2 May 2013 17:27:22 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13603479" author="thejas" created="Fri, 15 Mar 2013 16:19:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4168&quot; title=&quot;remove package-info.java from svn&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4168&quot;&gt;&lt;del&gt;HIVE-4168&lt;/del&gt;&lt;/a&gt;.1.patch - initial patch&lt;/p&gt;</comment>
                            <comment id="13603492" author="thejas" created="Fri, 15 Mar 2013 16:34:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4182&quot; title=&quot;doAS does not work with HiveServer2 in non-kerberos mode with local job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4182&quot;&gt;&lt;del&gt;HIVE-4182&lt;/del&gt;&lt;/a&gt;.1.patch - the correct (initial) patch&lt;/p&gt;</comment>
                            <comment id="13647722" author="ashutoshc" created="Thu, 2 May 2013 17:27:22 +0000"  >&lt;p&gt;Fixed via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4315&quot; title=&quot;enable doAs in unsecure mode for hive server2, when MR job runs locally&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4315&quot;&gt;&lt;del&gt;HIVE-4315&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573890" name="HIVE-4182.1.patch" size="1270" author="thejas" created="Fri, 15 Mar 2013 16:34:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 May 2013 17:27:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317713</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 38 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1itl3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318054</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4183] Implement Style changes to InspectorFactories</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4183</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4141&quot; title=&quot;InspectorFactories contains static HashMaps which can cause infinite loop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4141&quot;&gt;&lt;del&gt;HIVE-4141&lt;/del&gt;&lt;/a&gt; we updated the InspectorFactories to use concurrent data structures. In the review Owen had requested some style updates. That is the original code typed the variables as HashMap and I just modified it to be ConcurrentHashMap. I updated the review item but forgot to attach the patch to JIRA so the patch which was committed did not have these style updates.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637236">HIVE-4183</key>
            <summary>Implement Style changes to InspectorFactories</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Mar 2013 18:03:28 +0000</created>
                <updated>Fri, 15 Mar 2013 18:03:50 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12636062">HIVE-4141</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317728</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1itof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318069</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4184] Document HiveServer2 setup under the admin documentation on hive wiki </title>
                <link>https://issues.apache.org/jira/browse/HIVE-4184</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The setup/configuration instructions for HiveServer are available on  &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AdminManual+SettingUpHiveServer&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/AdminManual+SettingUpHiveServer&lt;/a&gt;&lt;br/&gt;
We should include similar details for HiveServer2 configuration&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637247">HIVE-4184</key>
            <summary>Document HiveServer2 setup under the admin documentation on hive wiki </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadm">Prasad Mujumdar</assignee>
                                    <reporter username="prasadm">Prasad Mujumdar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Mar 2013 19:10:57 +0000</created>
                <updated>Thu, 16 May 2013 21:10:00 +0000</updated>
                            <resolved>Wed, 20 Mar 2013 22:01:10 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Documentation</component>
                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13603732" author="prasadm" created="Fri, 15 Mar 2013 19:26:36 +0000"  >&lt;p&gt;  HiveServer2 (HS2) is a thrift base server that enables remote clients to execute queries against hive and retrieve the results. Its an improved version of HiveServer that supports multi-client concurrency and authentication. It uses a new thrift interface with concurrency support. It is  designed to provide better support for open API clients like JDBC and ODBC. The thrift IDL is available at &lt;a href=&quot;https://github.com/apache/hive/blob/trunk/service/if/TCLIService.thrift&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/trunk/service/if/TCLIService.thrift&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;How to configure -&lt;br/&gt;
  Configuration properties in hive-site.xml&lt;br/&gt;
    hive.server2.thrift.min.worker.threads - Number of minimum worker threads, default 5.&lt;br/&gt;
    hive.server2.thrift.max.worker.threads - Number of minimum worker threads, default 100&lt;br/&gt;
    hive.server2.thrift.port - Tcp port to listen on , default 10000&lt;br/&gt;
    hive.server2.thrift.bind.host - Tcp interface to bind to&lt;/p&gt;

&lt;p&gt;  Env &lt;br/&gt;
    HIVE_SERVER2_THRIFT_BIND_HOST - optional tcp host interface to bind to. Overrides the config file setting&lt;br/&gt;
    HIVE_SERVER2_THRIFT_PORT - optional tcp port# to listen on, default 10000. Overrides the config file setting&lt;/p&gt;

&lt;p&gt;How to start&lt;br/&gt;
  hiveserver2.sh&lt;br/&gt;
      OR&lt;br/&gt;
  hive --service hiveserver2&lt;/p&gt;

&lt;p&gt;Authentication -&lt;br/&gt;
  HiveServer2 support Anonymous (no auth), Kerberos, pass through LDAP and pluggable custom authentication.&lt;br/&gt;
  Configuration -&lt;br/&gt;
     hive.server2.authentication - Authentication mode, default NONE. Options are NONE, KERBEROS, LDAP and CUSTOM&lt;br/&gt;
     hive.server2.authentication.kerberos.principal - Kerberos principal for server&lt;br/&gt;
     hive.server2.authentication.kerberos.keytab - Keytab for server principal&lt;br/&gt;
     hive.server2.authentication.ldap.url - LDAP url&lt;br/&gt;
     hive.server2.authentication.ldap.baseDN - LDAP base DN&lt;br/&gt;
     hive.server2.custom.authentication.class - Custom authentication class that implements org.apache.hive.service.auth.PasswdAuthenticationProvider interface&lt;/p&gt;

&lt;p&gt;Impersonation -&lt;br/&gt;
   By default HiveServer2 performs the query processing as the user that started the server process. It can be enabled to impersonate the connected user. &lt;br/&gt;
   Configuration -&lt;br/&gt;
      hive.server2.enable.impersonation - Impersonate the connected user, default false&lt;br/&gt;
   OR&lt;br/&gt;
      hive.server2.enable.doAs - Impersonate the connected user, default false&lt;br/&gt;
      fs.hdfs.impl.disable.cache - Disable filesystem cache, default false&lt;/p&gt;</comment>
                            <comment id="13603739" author="prasadm" created="Fri, 15 Mar 2013 19:34:19 +0000"  >&lt;p&gt;JDBC -&lt;br/&gt;
   Hive includes a new JDBC client driver for HiveServer2. It supports both embedded and remote access to HiveServer2.&lt;br/&gt;
The JDBC connection URL format has prefix is jdbc:hive2:// and the Driver class is  org.apache.hive.jdbc.HiveDriver. Note that this is different from the old hiveserver. For remote server, the URL format is jdbc:hive2://&amp;lt;host&amp;gt;:&amp;lt;port&amp;gt;/&amp;lt;db&amp;gt;. For embedded server, the URL format is jdbc:hive2:// (no host or port)&lt;br/&gt;
When connecting to HiveServer2 with kerberos authentication, the URL format is jdbc:hive2://&amp;lt;host&amp;gt;:&amp;lt;port&amp;gt;/&amp;lt;db&amp;gt;;principal=&amp;lt;Server_Principal_of_HiveServer2&amp;gt;. The client needs to have a valid Kerberos ticket in the ticket cache before connecting. In case of LDAP or customer pass through authentication, the client needs to pass the valid user name and password to JDBC connection API.&lt;/p&gt;

&lt;p&gt;Beeline Shell -&lt;br/&gt;
  Hive includes a new command shell Beeline that works with HiveServer2. Its a JDBC client that is based on SQLLine CLI (&lt;a href=&quot;http://sqlline.sourceforge.net/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://sqlline.sourceforge.net/&lt;/a&gt;). There&#8217;s an detailed documentation of the SQLLine options available at &lt;a href=&quot;http://sqlline.sourceforge.net/#manual&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://sqlline.sourceforge.net/#manual&lt;/a&gt; which is applicable to Beeline.&lt;/p&gt;</comment>
                            <comment id="13603831" author="prasadm" created="Fri, 15 Mar 2013 20:49:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt; I can add these initial versions to wiki and update it based on the feedback.&lt;/p&gt;</comment>
                            <comment id="13604008" author="cwsteinbach" created="Sat, 16 Mar 2013 00:02:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasadm&quot; class=&quot;user-hover&quot; rel=&quot;prasadm&quot;&gt;Prasad Mujumdar&lt;/a&gt; please go ahead and add this to the wiki. What you have looks good to me. One thing I&apos;d like to add is that HiveServer2 was intentionally designed to be independent of the RPC layer. Currently we only support Thrift, but in the future we should also be able to support Avro or Protobufs without having to modify the upper layers of the system.&lt;/p&gt;</comment>
                            <comment id="13604020" author="cwsteinbach" created="Sat, 16 Mar 2013 00:05:45 +0000"  >&lt;p&gt;One more thing: the hiveserver2 launch script doesn&apos;t have a .sh suffix.&lt;/p&gt;</comment>
                            <comment id="13608298" author="prasadm" created="Wed, 20 Mar 2013 22:01:10 +0000"  >&lt;p&gt;Added the documentation under &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Setting+up+HiveServer2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Setting+up+HiveServer2&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 16 Mar 2013 00:02:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317739</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1itqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318080</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4185] Document HiveServer2 JDBC and Beeline CLI in the user documentation </title>
                <link>https://issues.apache.org/jira/browse/HIVE-4185</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The user documentation &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveClient&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HiveClient&lt;/a&gt; includes information about client connection to thrift server.&lt;br/&gt;
We need to include HiveServer2 client details (JDBC, Beeline)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637249">HIVE-4185</key>
            <summary>Document HiveServer2 JDBC and Beeline CLI in the user documentation </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadm">Prasad Mujumdar</assignee>
                                    <reporter username="prasadm">Prasad Mujumdar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Mar 2013 19:13:42 +0000</created>
                <updated>Thu, 16 May 2013 21:10:38 +0000</updated>
                            <resolved>Wed, 20 Mar 2013 22:01:39 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Documentation</component>
                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13603741" author="prasadm" created="Fri, 15 Mar 2013 19:35:33 +0000"  >&lt;p&gt;JDBC -&lt;br/&gt;
Hive includes a new JDBC client driver for HiveServer2. It supports both embedded and remote access to HiveServer2.&lt;br/&gt;
The JDBC connection URL format has prefix is jdbc:hive2:// and the Driver class is org.apache.hive.jdbc.HiveDriver. Note that this is different from the old hiveserver. For remote server, the URL format is jdbc:hive2://&amp;lt;host&amp;gt;:&amp;lt;port&amp;gt;/&amp;lt;db&amp;gt;. For embedded server, the URL format is jdbc:hive2:// (no host or port)&lt;br/&gt;
When connecting to HiveServer2 with kerberos authentication, the URL format is jdbc:hive2://&amp;lt;host&amp;gt;:&amp;lt;port&amp;gt;/&amp;lt;db&amp;gt;;principal=&amp;lt;Server_Principal_of_HiveServer2&amp;gt;. The client needs to have a valid Kerberos ticket in the ticket cache before connecting. In case of LDAP or customer pass through authentication, the client needs to pass the valid user name and password to JDBC connection API.&lt;br/&gt;
Beeline Shell -&lt;br/&gt;
Hive includes a new command shell Beeline that works with HiveServer2. Its a JDBC client that is based on SQLLine CLI (&lt;a href=&quot;http://sqlline.sourceforge.net/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://sqlline.sourceforge.net/&lt;/a&gt;). There&#8217;s an detailed documentation of the SQLLine options available at &lt;a href=&quot;http://sqlline.sourceforge.net/#manual&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://sqlline.sourceforge.net/#manual&lt;/a&gt; which is applicable to Beeline.&lt;/p&gt;</comment>
                            <comment id="13608299" author="prasadm" created="Wed, 20 Mar 2013 22:01:39 +0000"  >&lt;p&gt;Added the documentation under &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HiveServer2+Clients&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317741</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1itrb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318082</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4186] NPE in ReduceSinkDeDuplication</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4186</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When you have a sequence of RedueSinks on constants you get this error:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException
	at org.apache.hadoop.hive.ql.optimizer.ReduceSinkDeDuplication$ReduceSinkDeduplicateProcFactory$ReducerReducerProc.getPartitionAndKeyColumnMapping(ReduceSinkDeDuplication.java:416)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The e.g. to generate this si:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select p_name from (select p_name from part distribute by 1 sort by 1) p distribute by 1 sort by 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Sorry for the contrived e.g., but this actually happens when we stack windowing clauses (see PTF-Windowing branch)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637250">HIVE-4186</key>
            <summary>NPE in ReduceSinkDeDuplication</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhbutani">Harish Butani</assignee>
                                    <reporter username="rhbutani">Harish Butani</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Mar 2013 19:18:07 +0000</created>
                <updated>Thu, 16 May 2013 21:10:22 +0000</updated>
                            <resolved>Tue, 19 Mar 2013 21:21:12 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13603728" author="rhbutani" created="Fri, 15 Mar 2013 19:20:17 +0000"  >&lt;p&gt;patch is attached.&lt;/p&gt;</comment>
                            <comment id="13603816" author="ashutoshc" created="Fri, 15 Mar 2013 20:35:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; Can you add testcase in a .q file and add it in your patch ?&lt;/p&gt;</comment>
                            <comment id="13604763" author="rhbutani" created="Sun, 17 Mar 2013 21:54:43 +0000"  >&lt;p&gt;its attached.&lt;/p&gt;</comment>
                            <comment id="13605474" author="ashutoshc" created="Mon, 18 Mar 2013 18:57:37 +0000"  >&lt;p&gt;There is no file data/files/part_tiny.txt on trunk at the moment. However since this bug occur during query compile phase, you don&apos;t need load data statement in any case. Even selecting on empty table will demonstrate the problem. So, I will suggest to get rid of load data statement from the patch for now.&lt;/p&gt;</comment>
                            <comment id="13605991" author="rhbutani" created="Tue, 19 Mar 2013 03:27:26 +0000"  >&lt;p&gt;new patch is attached.&lt;/p&gt;</comment>
                            <comment id="13606005" author="ashutoshc" created="Tue, 19 Mar 2013 03:43:16 +0000"  >&lt;p&gt;+1 running tests.&lt;/p&gt;</comment>
                            <comment id="13606839" author="ashutoshc" created="Tue, 19 Mar 2013 21:21:12 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Harish!&lt;/p&gt;</comment>
                            <comment id="13607550" author="hudson" created="Wed, 20 Mar 2013 12:37:45 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2023 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2023/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2023/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4186&quot; title=&quot;NPE in ReduceSinkDeDuplication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4186&quot;&gt;&lt;del&gt;HIVE-4186&lt;/del&gt;&lt;/a&gt; : NPE in ReduceSinkDeDuplication (Harish Butani via Ashutosh Chauhan) (Revision 1458524)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1458524&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1458524&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/reducesink_dedup.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/reducesink_dedup.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623034" author="hudson" created="Thu, 4 Apr 2013 23:39:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4186&quot; title=&quot;NPE in ReduceSinkDeDuplication&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4186&quot;&gt;&lt;del&gt;HIVE-4186&lt;/del&gt;&lt;/a&gt; : NPE in ReduceSinkDeDuplication (Harish Butani via Ashutosh Chauhan) (Revision 1458524)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1458524&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1458524&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/reducesink_dedup.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/reducesink_dedup.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573929" name="HIVE-4186.1.patch.txt" size="1213" author="rhbutani" created="Fri, 15 Mar 2013 19:20:02 +0000"/>
                            <attachment id="12574086" name="HIVE-4186.2.patch.txt" size="4066" author="rhbutani" created="Sun, 17 Mar 2013 21:54:27 +0000"/>
                            <attachment id="12574307" name="HIVE-4186.3.patch.txt" size="3245" author="rhbutani" created="Tue, 19 Mar 2013 03:26:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Mar 2013 20:35:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317742</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1itrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318083</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4187] QL build-grammar target fails after HIVE-4148</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4187</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12637251">HIVE-4187</key>
            <summary>QL build-grammar target fails after HIVE-4148</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Mar 2013 19:24:13 +0000</created>
                <updated>Thu, 16 May 2013 21:10:00 +0000</updated>
                            <resolved>Wed, 20 Mar 2013 19:37:30 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13603735" author="cwsteinbach" created="Fri, 15 Mar 2013 19:29:22 +0000"  >&lt;p&gt;On my machine the build consistently fails during execution of the ql build-grammar target&lt;br/&gt;
with the following error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;build-grammar:
     [echo] Project: ql
     [echo] Building Grammar /Users/carl/Work/repos/hive-test/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g  ....
     [java] ANTLR Parser Generator  Version 3.0.1 (August 13, 2007)  1989-2007
     [java] /Users/carl/Work/repos/hive-test/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveLexer.g
     [java] /Users/carl/Work/repos/hive-test/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g
     [java] error(100): /Users/carl/Work/repos/hive-test/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g:27:8: syntax error: antlr: /Users/carl/Work/repos/hive-test/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g:27:8: unexpected token: SelectClauseParser
     [java] error(100): /Users/carl/Work/repos/hive-test/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g:27:44: syntax error: antlr: /Users/carl/Work/repos/hive-test/ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g:27:44: unexpected token: ,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This error was introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4148&quot; title=&quot;Cleanup aisle &amp;quot;ivy&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4148&quot;&gt;&lt;del&gt;HIVE-4148&lt;/del&gt;&lt;/a&gt;. It appears that the changes in&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4148&quot; title=&quot;Cleanup aisle &amp;quot;ivy&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4148&quot;&gt;&lt;del&gt;HIVE-4148&lt;/del&gt;&lt;/a&gt; cause Ant to put antlr-3.0.1.jar on the classpath instead of&lt;br/&gt;
antlr-3.4.jar&lt;/p&gt;

&lt;p&gt;I&apos;m using Ant 1.8.1&lt;/p&gt;</comment>
                            <comment id="13604070" author="hagleitn" created="Sat, 16 Mar 2013 01:21:31 +0000"  >&lt;p&gt;Looking at this right now. Not sure how to reproduce. Can you share how you build? Is it just &quot;ant clean package&quot;?&lt;/p&gt;</comment>
                            <comment id="13604085" author="hagleitn" created="Sat, 16 Mar 2013 01:44:33 +0000"  >&lt;p&gt;Downgraded my ant version to 1.8.1. Cleared all caches and built. Still don&apos;t see the problem.&lt;/p&gt;</comment>
                            <comment id="13604096" author="cwsteinbach" created="Sat, 16 Mar 2013 02:56:22 +0000"  >&lt;p&gt;Yes, I use &apos;ant clean package&apos;. &lt;/p&gt;</comment>
                            <comment id="13604098" author="cwsteinbach" created="Sat, 16 Mar 2013 03:04:35 +0000"  >&lt;p&gt;As far as I can tell the changes that were made in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4148&quot; title=&quot;Cleanup aisle &amp;quot;ivy&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4148&quot;&gt;&lt;del&gt;HIVE-4148&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
don&apos;t make the build any faster. I also think that relying on&lt;br/&gt;
Ivy&apos;s transitive dependency resolution mechanism to resolve&lt;br/&gt;
direct dependencies is a really bad idea, and actually makes&lt;br/&gt;
the build harder to maintain. Please let me know if you have&lt;br/&gt;
evidence to the contrary. Otherwise I would appreciate it if&lt;br/&gt;
you would resolve this problem by reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4148&quot; title=&quot;Cleanup aisle &amp;quot;ivy&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4148&quot;&gt;&lt;del&gt;HIVE-4148&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13604118" author="hagleitn" created="Sat, 16 Mar 2013 05:18:07 +0000"  >&lt;p&gt;I saw your comments on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4148&quot; title=&quot;Cleanup aisle &amp;quot;ivy&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4148&quot;&gt;&lt;del&gt;HIVE-4148&lt;/del&gt;&lt;/a&gt; as well. Yes, I see your point, but I do think that dependencies specified in fewer places leads to something that&apos;s easier to maintain. &lt;/p&gt;

&lt;p&gt;My thinking was:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I believe the modules aren&apos;t/can&apos;t be built in isolation anyways, so why duplicate all the deps&lt;/li&gt;
	&lt;li&gt;Nothing seems to enforce that each module has a complete set of deps, so it&apos;s best effort at best&lt;/li&gt;
	&lt;li&gt;I see duplicated &quot;hacks&quot; and &quot;broken pom file&quot; stuff in the ivy scripts that I&apos;d rather have in one place.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The build speed is secondary, but I also don&apos;t understand how your system is faster with more dependencies to resolve than with fewer.&lt;/p&gt;

&lt;p&gt;I am not married to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4148&quot; title=&quot;Cleanup aisle &amp;quot;ivy&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4148&quot;&gt;&lt;del&gt;HIVE-4148&lt;/del&gt;&lt;/a&gt; either, although if the decision is to enforce that each module specifies all it deps directly, I&apos;d like to go over the patch again and see what can and can&apos;t be removed rather than just reverting.&lt;/p&gt;

&lt;p&gt;Having said that, I was simply jumping on this one first, because a broken build seems more urgent and I want to fix that right away. However, in order to do that I would like to know how your build is broken. Ivy should pick up the right version, the build machine doesn&apos;t have the problem and I can&apos;t reproduce it. Do you have any pointers?&lt;/p&gt;</comment>
                            <comment id="13604400" author="ashutoshc" created="Sat, 16 Mar 2013 19:31:48 +0000"  >&lt;p&gt;@Carl&lt;br/&gt;
Brokenness in building grammar was introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-701&quot; title=&quot;lots of reserved keywords in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-701&quot;&gt;&lt;del&gt;HIVE-701&lt;/del&gt;&lt;/a&gt; and we are discussing to improve the situation on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4067&quot; title=&quot;Followup to HIVE-701: reduce ambiguity in grammar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4067&quot;&gt;&lt;del&gt;HIVE-4067&lt;/del&gt;&lt;/a&gt; Though it seems like you are getting different errors. I am not able to reproduce the error either with ant very-clean package.&lt;/p&gt;

&lt;p&gt;I agree with Gunther&apos;s reasoning.&lt;/p&gt;</comment>
                            <comment id="13604403" author="ashutoshc" created="Sat, 16 Mar 2013 19:40:11 +0000"  >&lt;p&gt;Also, apache build machines are not hitting this problem either. So, it seems like this is something specific to your environment.&lt;/p&gt;</comment>
                            <comment id="13604504" author="cwsteinbach" created="Sun, 17 Mar 2013 04:18:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;I do think that dependencies specified in fewer places leads to something that&apos;s easier to maintain.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Clearly we&apos;re incapable of maintaining the discipline necessary to keep these files up to date. What you&apos;re proposing sounds like the most pragmatic alternative. However, we should do this the right way instead of abusing transitive dependencies. Ivy has supported a parent descriptor inheritance mechanism since version 2.2 that would allow us to consolidate all of the submodule dependencies into a single parent file. More details are here: &lt;a href=&quot;http://ant.apache.org/ivy/history/latest-milestone/ivyfile/extends.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ant.apache.org/ivy/history/latest-milestone/ivyfile/extends.html&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Having said that, I was simply jumping on this one first, because a broken build seems more urgent and I want to fix that right away. However, in order to do that I would like to know how your build is broken. Ivy should pick up the right version, the build machine doesn&apos;t have the problem and I can&apos;t reproduce it. Do you have any pointers?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The root cause of this problem is that Ivy and/or Ant is failing to enforce a deterministic ordering for elements in the generated classpath. This wouldn&apos;t be an issue if we managed our dependencies correctly, but obviously we don&apos;t:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;% ant clean &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;
...
% find . -name &lt;span class=&quot;code-quote&quot;&gt;&quot;antlr*.jar&quot;&lt;/span&gt;
./build/ivy/lib/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/antlr-2.7.7.jar
./build/ivy/lib/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/antlr-3.0.1.jar
./build/ivy/lib/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/antlr-3.4.jar
./build/ivy/lib/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/antlr-runtime-3.0.1.jar
./build/ivy/lib/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/antlr-runtime-3.4.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Version 3.4 is the only thing we should be retrieving, but because of a transitive dependency we&apos;re also pulling down 3.0.1 and 2.7.7. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4148&quot; title=&quot;Cleanup aisle &amp;quot;ivy&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4148&quot;&gt;&lt;del&gt;HIVE-4148&lt;/del&gt;&lt;/a&gt; did not cause this problem &amp;#8211; it was already there &amp;#8211; but on my machine it seems to have caused Ant/Ivy to alter the way it orders elements in the classpath. I think it should be pretty easy to find the offending transitive dependency by looking at the reports in build/ivy/report.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;A pure-red diff! Nothing better than removing code.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Nice! Nothing like a patch that is entire deletes&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I agree that removing unnecessary code has a lot of benefits. The problem is that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4148&quot; title=&quot;Cleanup aisle &amp;quot;ivy&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4148&quot;&gt;&lt;del&gt;HIVE-4148&lt;/del&gt;&lt;/a&gt; removed metadata, not code. The metadata that was removed were statements of fact of the form &quot;module A directly depends on module B&quot;. If we decide that we&apos;re incapable of adequately maintaining these facts on a per-module basis then I&apos;m fine with using a global set of facts instead. I also have no objection to removing inaccurate facts. However, I strongly object to removing facts simply to make these files shorter.&lt;/p&gt;</comment>
                            <comment id="13605072" author="hagleitn" created="Mon, 18 Mar 2013 12:51:51 +0000"  >&lt;p&gt;I&apos;ve tracked down why antlr 2.7.7 is included. The antlr POM file is broken. It depends on ST4 and stringtemplate which depend on antlr 2.7.7. Cute. Patch .1 resolves that by manually pulling in antlrs transitive dependencies. With the patch applied:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;% find . -name &quot;*antlr*jar&quot;
./build/dist/lib/antlr-runtime-3.4.jar
./build/ivy/lib/default/antlr-3.4.jar
./build/ivy/lib/default/antlr-runtime-3.4.jar
./build/ivy/lib/test/antlr-3.4.jar
./build/ivy/lib/test/antlr-runtime-3.4.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;No idea where you are getting 3.0.1 from. But with 2.7.7 gone, that should at least fix the build issue.&lt;/p&gt;

&lt;p&gt;I like the single parent file/ivy inheritance approach. Is everyone onboard with that? Can I open a new jira and start consolidating?&lt;/p&gt;
</comment>
                            <comment id="13605690" author="cwsteinbach" created="Mon, 18 Mar 2013 21:35:08 +0000"  >&lt;p&gt;@Gunther: Thanks for providing a patch! I verified that it fixes the problem.&lt;/p&gt;

&lt;p&gt;If you add stringtemplate.version and ST4.version to ivy/libraries.properties I will +1 and commit this patch.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I like the single parent file/ivy inheritance approach. Is everyone onboard with that? Can I open a new jira and start consolidating?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13606214" author="hagleitn" created="Tue, 19 Mar 2013 10:46:40 +0000"  >&lt;p&gt;As requested: Now with variables for ST4 + stringtemplate version.&lt;/p&gt;</comment>
                            <comment id="13606591" author="cwsteinbach" created="Tue, 19 Mar 2013 17:53:28 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13608065" author="cwsteinbach" created="Wed, 20 Mar 2013 19:37:30 +0000"  >&lt;p&gt;Committed to trunk. Thanks Gunther!&lt;/p&gt;</comment>
                            <comment id="13608858" author="hudson" created="Thu, 21 Mar 2013 12:06:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2025 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2025/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2025/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4187&quot; title=&quot;QL build-grammar target fails after HIVE-4148&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4187&quot;&gt;&lt;del&gt;HIVE-4187&lt;/del&gt;&lt;/a&gt;. QL build-grammar target fails after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4148&quot; title=&quot;Cleanup aisle &amp;quot;ivy&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4148&quot;&gt;&lt;del&gt;HIVE-4148&lt;/del&gt;&lt;/a&gt; (Gunther Hagleitner via cws) (Revision 1459014)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1459014&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1459014&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/ivy.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623033" author="hudson" created="Thu, 4 Apr 2013 23:39:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4187&quot; title=&quot;QL build-grammar target fails after HIVE-4148&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4187&quot;&gt;&lt;del&gt;HIVE-4187&lt;/del&gt;&lt;/a&gt;. QL build-grammar target fails after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4148&quot; title=&quot;Cleanup aisle &amp;quot;ivy&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4148&quot;&gt;&lt;del&gt;HIVE-4148&lt;/del&gt;&lt;/a&gt; (Gunther Hagleitner via cws) (Revision 1459014)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1459014&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1459014&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/ivy.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12637742">HIVE-4200</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12638380">HIVE-4217</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12636446">HIVE-4148</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12574138" name="HIVE-4187.1.patch" size="1179" author="hagleitn" created="Mon, 18 Mar 2013 12:54:44 +0000"/>
                            <attachment id="12574338" name="HIVE-4187.2.patch" size="1590" author="hagleitn" created="Tue, 19 Mar 2013 10:46:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 16 Mar 2013 01:21:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317743</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1itrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318084</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4188] TestJdbcDriver2.testDescribeTable failing consistently</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4188</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Running in Linux on a clean checkout after running ant very-clean package, the test TestJdbcDriver2.testDescribeTable fails consistently with &lt;/p&gt;

&lt;p&gt;Column name &apos;under_col&apos; not found expected:&amp;lt;under_col&amp;gt; but was:&amp;lt;# col_name &amp;gt;&lt;/p&gt;

&lt;p&gt;junit.framework.ComparisonFailure: Column name &apos;under_col&apos; not found expected:&amp;lt;under_col&amp;gt; but was:&amp;lt;# col_name &amp;gt;&lt;br/&gt;
at junit.framework.Assert.assertEquals(Assert.java:81)&lt;br/&gt;
at org.apache.hive.jdbc.TestJdbcDriver2.testDescribeTable(TestJdbcDriver2.java:815)&lt;br/&gt;
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
at junit.framework.TestCase.runTest(TestCase.java:154)&lt;br/&gt;
at junit.framework.TestCase.runBare(TestCase.java:127)&lt;br/&gt;
at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
at junit.framework.TestCase.run(TestCase.java:118)&lt;br/&gt;
at junit.framework.TestSuite.runTest(TestSuite.java:208)&lt;br/&gt;
at junit.framework.TestSuite.run(TestSuite.java:203)&lt;br/&gt;
at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:83)&lt;br/&gt;
at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:39)&lt;br/&gt;
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:422)&lt;br/&gt;
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:931)&lt;br/&gt;
at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:785)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637256">HIVE-4188</key>
            <summary>TestJdbcDriver2.testDescribeTable failing consistently</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadm">Prasad Mujumdar</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Mar 2013 20:05:15 +0000</created>
                <updated>Thu, 16 May 2013 21:10:33 +0000</updated>
                            <resolved>Thu, 21 Mar 2013 17:06:35 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>HiveServer2</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13603788" author="prasadm" created="Fri, 15 Mar 2013 20:11:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kevinwilfong&quot; class=&quot;user-hover&quot; rel=&quot;kevinwilfong&quot;&gt;Kevin Wilfong&lt;/a&gt; I will take a look.&lt;/p&gt;</comment>
                            <comment id="13603797" author="kevinwilfong" created="Fri, 15 Mar 2013 20:17:56 +0000"  >&lt;p&gt;Thanks Prasad&lt;/p&gt;</comment>
                            <comment id="13604005" author="prasadm" created="Fri, 15 Mar 2013 23:56:07 +0000"  >&lt;p&gt;Review request at &lt;a href=&quot;https://reviews.facebook.net/D9477&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9477&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13604006" author="kevinwilfong" created="Fri, 15 Mar 2013 23:58:41 +0000"  >&lt;p&gt;Could you attach the patch to the JIRA and mark it Patch Available if it&apos;s ready for review.&lt;/p&gt;</comment>
                            <comment id="13604082" author="prasadm" created="Sat, 16 Mar 2013 01:39:48 +0000"  >&lt;p&gt;Patch attached&lt;/p&gt;</comment>
                            <comment id="13607854" author="kevinwilfong" created="Wed, 20 Mar 2013 17:02:27 +0000"  >&lt;p&gt;Thanks +1&lt;/p&gt;</comment>
                            <comment id="13608108" author="kevinwilfong" created="Wed, 20 Mar 2013 20:06:55 +0000"  >&lt;p&gt;Could you update the patch eclipse-templates/.classpath has been updated.&lt;/p&gt;</comment>
                            <comment id="13608244" author="prasadm" created="Wed, 20 Mar 2013 21:26:43 +0000"  >&lt;p&gt;Rebased patch&lt;/p&gt;</comment>
                            <comment id="13608276" author="kevinwilfong" created="Wed, 20 Mar 2013 21:50:19 +0000"  >&lt;p&gt;Running tests.&lt;/p&gt;</comment>
                            <comment id="13609128" author="kevinwilfong" created="Thu, 21 Mar 2013 17:06:35 +0000"  >&lt;p&gt;Committed, thanks Prasad.&lt;/p&gt;</comment>
                            <comment id="13611129" author="hudson" created="Fri, 22 Mar 2013 19:40:43 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2027 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2027/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2027/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4188&quot; title=&quot;TestJdbcDriver2.testDescribeTable failing consistently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4188&quot;&gt;&lt;del&gt;HIVE-4188&lt;/del&gt;&lt;/a&gt;. TestJdbcDriver2.testDescribeTable failing consistently. (Prasad Mujumdar via kevinwilfong) (Revision 1459401)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1459401&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1459401&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/eclipse-templates/.classpath&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623032" author="hudson" created="Thu, 4 Apr 2013 23:39:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4188&quot; title=&quot;TestJdbcDriver2.testDescribeTable failing consistently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4188&quot;&gt;&lt;del&gt;HIVE-4188&lt;/del&gt;&lt;/a&gt;. TestJdbcDriver2.testDescribeTable failing consistently. (Prasad Mujumdar via kevinwilfong) (Revision 1459401)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1459401&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1459401&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/eclipse-templates/.classpath&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12637293">HIVE-4191</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12550255">HIVE-2935</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12573990" name="HIVE-4188-1.patch" size="3794" author="prasadm" created="Sat, 16 Mar 2013 01:39:33 +0000"/>
                            <attachment id="12574641" name="HIVE-4188-2.patch" size="3779" author="prasadm" created="Wed, 20 Mar 2013 21:26:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Mar 2013 20:11:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1itsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318089</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4189] ORC fails with String column that ends in lots of nulls</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4189</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When ORC attempts to write out a string column that ends in enough nulls to span an index stride, StringTreeWriter&apos;s writeStripe method will get an exception from TreeWriter&apos;s writeStripe method&lt;/p&gt;

&lt;p&gt;Column has wrong number of index entries found: x expected: y&lt;/p&gt;

&lt;p&gt;This is caused by rowIndexValueCount having multiple entries equal to the number of non-null rows in the column, combined with the fact that StringTreeWriter has special logic for constructing its index.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637261">HIVE-4189</key>
            <summary>ORC fails with String column that ends in lots of nulls</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Mar 2013 20:34:27 +0000</created>
                <updated>Thu, 16 May 2013 21:11:00 +0000</updated>
                            <resolved>Fri, 19 Apr 2013 22:46:29 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13603819" author="kevinwilfong" created="Fri, 15 Mar 2013 20:39:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D9465&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9465&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13634583" author="owen.omalley" created="Wed, 17 Apr 2013 23:13:27 +0000"  >&lt;p&gt;+1 looks good.&lt;/p&gt;</comment>
                            <comment id="13636977" author="owen.omalley" created="Fri, 19 Apr 2013 22:46:29 +0000"  >&lt;p&gt;I just committed this to trunk and branch-0.11. Thanks, Kevin!&lt;/p&gt;</comment>
                            <comment id="13637325" author="hudson" created="Sat, 20 Apr 2013 19:09:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #167 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/167/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/167/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4189&quot; title=&quot;ORC fails with String column that ends in lots of nulls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4189&quot;&gt;&lt;del&gt;HIVE-4189&lt;/del&gt;&lt;/a&gt; : ORC fails with String column that ends in lots of nulls (Kevin&lt;br/&gt;
Wilfong) (Revision 1470080)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
omalley : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1470080&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1470080&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/nulls.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/orc_ends_with_nulls.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/orc_ends_with_nulls.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13637516" author="hudson" created="Sun, 21 Apr 2013 09:24:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2072 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2072/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2072/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4189&quot; title=&quot;ORC fails with String column that ends in lots of nulls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4189&quot;&gt;&lt;del&gt;HIVE-4189&lt;/del&gt;&lt;/a&gt; : ORC fails with String column that ends in lots of nulls (Kevin&lt;br/&gt;
Wilfong) (Revision 1470080)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
omalley : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1470080&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1470080&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/nulls.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/orc_ends_with_nulls.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/orc_ends_with_nulls.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573937" name="HIVE-4189.1.patch.txt" size="10492" author="kevinwilfong" created="Fri, 15 Mar 2013 20:39:45 +0000"/>
                            <attachment id="12577876" name="HIVE-4189.2.patch.txt" size="11092" author="kevinwilfong" created="Tue, 9 Apr 2013 20:10:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Apr 2013 23:13:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317753</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ittz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4190] OVER clauses with ORDER BY not getting windowing set properly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4190</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Given a query like:&lt;/p&gt;

&lt;p&gt;select s, avg(f) over (partition by si order by d) from over100k;&lt;/p&gt;

&lt;p&gt;Hive is not setting the window frame properly.  The order by creates an implicit window frame of &apos;unbounded preceding&apos; but Hive is treating the above query as if it has no window.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637288">HIVE-4190</key>
            <summary>OVER clauses with ORDER BY not getting windowing set properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Mar 2013 21:48:13 +0000</created>
                <updated>Thu, 16 May 2013 21:10:48 +0000</updated>
                            <resolved>Thu, 28 Mar 2013 21:55:58 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>PTF-Windowing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13604752" author="rhbutani" created="Sun, 17 Mar 2013 21:13:22 +0000"  >&lt;p&gt;Yes, this is one of the many differences in behavior in our implementation from the Standard.&lt;br/&gt;
Is documented in 4197. Should be covered by it.&lt;/p&gt;</comment>
                            <comment id="13612832" author="ashutoshc" created="Mon, 25 Mar 2013 16:51:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D9693&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9693&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13616701" author="ashutoshc" created="Thu, 28 Mar 2013 21:55:58 +0000"  >&lt;p&gt;This patch is subsumed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4197&quot; title=&quot;Bring windowing support inline with SQL Standard&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4197&quot;&gt;&lt;del&gt;HIVE-4197&lt;/del&gt;&lt;/a&gt; which is now fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 17 Mar 2013 21:13:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1itzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4191] describe table output always prints as if formatted keyword is specified</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4191</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;With the change in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3140&quot; title=&quot;Comment indenting is broken for &amp;quot;describe&amp;quot; in CLI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3140&quot;&gt;&lt;del&gt;HIVE-3140&lt;/del&gt;&lt;/a&gt;, describe table output prints like the format expected from &quot;describe &lt;b&gt;formatted&lt;/b&gt; table&quot;. ie, the headers are included and there is padding with space for the fields. &lt;br/&gt;
This is a non backward compatible change, we should discuss if this change in the formatting of output should remain. &lt;br/&gt;
This has impact on hiveserver2, it has been relying on the old format, and with this change it prints additional headers and fields with space padding.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637293">HIVE-4191</key>
            <summary>describe table output always prints as if formatted keyword is specified</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Mar 2013 22:29:22 +0000</created>
                <updated>Thu, 16 May 2013 21:10:14 +0000</updated>
                            <resolved>Tue, 16 Apr 2013 18:47:42 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>CLI</component>
                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13603934" author="thejas" created="Fri, 15 Mar 2013 22:31:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4191&quot; title=&quot;describe table output always prints as if formatted keyword is specified&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4191&quot;&gt;&lt;del&gt;HIVE-4191&lt;/del&gt;&lt;/a&gt;.1.patch - a patch that changes format of default describe table command as hive 0.9&lt;/p&gt;</comment>
                            <comment id="13625545" author="thejas" created="Mon, 8 Apr 2013 17:06:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4191&quot; title=&quot;describe table output always prints as if formatted keyword is specified&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4191&quot;&gt;&lt;del&gt;HIVE-4191&lt;/del&gt;&lt;/a&gt;.2.patch - Change to not print the headers in case of &apos;describe &amp;lt;tablename&amp;gt;&apos; command, when formatted keyword is not used. &lt;br/&gt;
This makes the command consistent with other commands such as &apos;describe database &amp;lt;dbname&amp;gt;&apos;.&lt;br/&gt;
This prevents the issue of duplicate headers for this particular command, when you run it from beeline (which looks at metadata and prints header for all commands). &lt;/p&gt;</comment>
                            <comment id="13625569" author="thejas" created="Mon, 8 Apr 2013 17:27:51 +0000"  >&lt;p&gt;review board link for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4191&quot; title=&quot;describe table output always prints as if formatted keyword is specified&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4191&quot;&gt;&lt;del&gt;HIVE-4191&lt;/del&gt;&lt;/a&gt;.2.patch - &lt;a href=&quot;https://reviews.apache.org/r/10340/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/10340/&lt;/a&gt;.&lt;br/&gt;
Note that this also changes the behavior of &apos;show columns&apos; command, back it its behavior before  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3140&quot; title=&quot;Comment indenting is broken for &amp;quot;describe&amp;quot; in CLI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3140&quot;&gt;&lt;del&gt;HIVE-3140&lt;/del&gt;&lt;/a&gt;. The pre  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3140&quot; title=&quot;Comment indenting is broken for &amp;quot;describe&amp;quot; in CLI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3140&quot;&gt;&lt;del&gt;HIVE-3140&lt;/del&gt;&lt;/a&gt; behavior seems to be the real desired behavior based on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2909&quot; title=&quot;SHOW COLUMNS table_name; to provide a comma-delimited list of columns.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2909&quot;&gt;&lt;del&gt;HIVE-2909&lt;/del&gt;&lt;/a&gt;  (see ql/src/test/results/clientpositive/show_columns.q.out for the change in behavior).&lt;/p&gt;</comment>
                            <comment id="13625769" author="thejas" created="Mon, 8 Apr 2013 20:28:27 +0000"  >&lt;p&gt;I just noticed that the required changes to TestJdbcDriver2 are missing in 2nd patch. Canceling the patch, while I run through the tests one more time to make sure that nothing else is missing.&lt;/p&gt;</comment>
                            <comment id="13628211" author="thejas" created="Wed, 10 Apr 2013 20:33:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4191&quot; title=&quot;describe table output always prints as if formatted keyword is specified&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4191&quot;&gt;&lt;del&gt;HIVE-4191&lt;/del&gt;&lt;/a&gt;.3.patch - updated the test cases.&lt;br/&gt;
phabricator link - &lt;a href=&quot;https://reviews.facebook.net/D10137&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10137&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13628253" author="ashutoshc" created="Wed, 10 Apr 2013 21:09:27 +0000"  >&lt;p&gt;I guess you also need to update test which just runs on Hadoop2 as well.&lt;/p&gt;</comment>
                            <comment id="13628263" author="thejas" created="Wed, 10 Apr 2013 21:18:56 +0000"  >&lt;p&gt;Yes, I forgot that some tests don&apos;t run with hadoop1. Will run tests with hadoop2 and update the patch.&lt;/p&gt;</comment>
                            <comment id="13632519" author="thejas" created="Tue, 16 Apr 2013 02:56:00 +0000"  >&lt;p&gt;No changes were needed for hadoop 2 test cases. Marking as patch available.&lt;/p&gt;</comment>
                            <comment id="13632551" author="ashutoshc" created="Tue, 16 Apr 2013 04:36:58 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13633173" author="ashutoshc" created="Tue, 16 Apr 2013 18:47:42 +0000"  >&lt;p&gt;Committed to trunk and 0.11. Thanks, Thejas!&lt;/p&gt;</comment>
                            <comment id="13634100" author="hudson" created="Wed, 17 Apr 2013 14:48:55 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2068 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2068/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2068/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4191&quot; title=&quot;describe table output always prints as if formatted keyword is specified&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4191&quot;&gt;&lt;del&gt;HIVE-4191&lt;/del&gt;&lt;/a&gt; : describe table output always prints as if formatted keyword is specified (Thejas Nair via Ashutosh Chauhan) (Revision 1468551)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1468551&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1468551&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/contrib/src/test/results/clientpositive/fileformat_base64.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/test/results/clientpositive/serde_s3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/results/positive/hbase_queries.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hwi/src/test/org/apache/hadoop/hive/hwi/TestHWISessionManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hive/jdbc/TestJdbcDriver2.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/MetaDataFormatUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/formatting/TextMetaDataFormatter.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_coltype_2columns.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_coltype_invalidcolname.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_partition_coltype_invalidtype.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/desc_failure2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/drop_partition_filter_failure2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/protectmode_part_no_drop.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/protectmode_tbl2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/protectmode_tbl3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/protectmode_tbl4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/protectmode_tbl5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/protectmode_tbl_no_drop.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/set_hiveconf_validation0.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/set_hiveconf_validation1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_index.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_merge_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_merge_stats.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_partition_coltype.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_partition_format_loc.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_table_serde.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_view_rename.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/authorization_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/autogen_colalias.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_change_schema.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_evolved_schemas.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_joins.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_sanity_test.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_schema_error_message.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_schema_literal.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ba_table1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ba_table2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ba_table_union.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/binary_table_bincolserde.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/binary_table_colserde.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_groupby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/combine3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/convert_enum_to_string.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_default_prop.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_escape.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_insert_outputformat.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_like_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_nested_type.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_view_partitioned.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/database.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ddltime.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/describe_comment_indent.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/describe_syntax.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/describe_table.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/describe_xpath.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/drop_partitions_filter.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/drop_partitions_filter2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/drop_partitions_filter3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/drop_partitions_ignore_protection.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_00_nonpart_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_01_nonpart.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_02_00_part_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_02_part.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_03_nonpart_over_compat.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_04_all_part.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_05_some_part.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_06_one_part.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_07_all_part_over_nonoverlap.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_08_nonpart_rename.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_09_part_spec_nonoverlap.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_10_external_managed.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_11_managed_external.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_12_external_location.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_13_managed_location.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_14_managed_location_over_existing.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_15_external_part.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_18_part_external.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_19_00_part_external_location.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_19_part_external_location.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_20_part_managed_location.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/fileformat_sequencefile.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/fileformat_text.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_creation.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/inoutdriver.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input15.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/inputddl2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/inputddl3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/inputddl4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/inputddl5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/inputddl6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/inputddl7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/inputddl8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_thrift.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_fs.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_sahooks.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partition_schema1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/protectmode.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/protectmode2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_bigdata.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_default_format.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rename_column.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/serde_reported_schema.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/show_columns.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats0.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/tablename_with_select.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/updateAccessTime.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12647220">HIVE-4545</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12560695">HIVE-3140</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12637256">HIVE-4188</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12573961" name="HIVE-4191.1.patch" size="450472" author="thejas" created="Fri, 15 Mar 2013 22:31:38 +0000"/>
                            <attachment id="12577563" name="HIVE-4191.2.patch" size="199974" author="thejas" created="Mon, 8 Apr 2013 17:06:03 +0000"/>
                            <attachment id="12578074" name="HIVE-4191.3.patch" size="202838" author="thejas" created="Wed, 10 Apr 2013 20:33:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 10 Apr 2013 21:09:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iu13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318126</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4192] Use of LEAD in an OVER clauses causes the query to fail</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4192</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Running a query like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select i, lead(s) over (partition by bin order by d desc 
                        rows between current row and 1 following) 
from over100k;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;gives an error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;FAILED: SemanticException Function lead((TOK_TABLE_OR_COL s)) org.apache.hadoop.hive.ql.parse.WindowingSpec$WindowSpec@13e15f7 as _wcol0 doesn&apos;t support windowing
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12637304">HIVE-4192</key>
            <summary>Use of LEAD in an OVER clauses causes the query to fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Mar 2013 00:12:55 +0000</created>
                <updated>Mon, 6 May 2013 18:17:10 +0000</updated>
                            <resolved>Wed, 20 Mar 2013 18:00:28 +0000</resolved>
                                    <version>0.11.0</version>
                                                    <component>PTF-Windowing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13604753" author="rhbutani" created="Sun, 17 Mar 2013 21:16:26 +0000"  >&lt;p&gt;Yes in our implementation we disallow Window Frames on rank, dense_rank, cume_dist, percent_rank, lead and lag. Didn&apos;t make sense to allow a Window Frame on these. This is documented in Jira 4197. Should be fixed/resolved by Jira 4197.&lt;/p&gt;</comment>
                            <comment id="13606093" author="ashutoshc" created="Tue, 19 Mar 2013 05:45:11 +0000"  >&lt;p&gt;I agree with Harish. Semantically, it does look weird to define window frame for lead. Similarly for rank. Alan, do you think we should still support this?&lt;/p&gt;</comment>
                            <comment id="13607893" author="alangates" created="Wed, 20 Mar 2013 17:30:04 +0000"  >&lt;p&gt;This seems to be in line with the way postgres handles it, as they ignore the window frame when working with these functions.  So it seems fine.&lt;/p&gt;</comment>
                            <comment id="13607914" author="ashutoshc" created="Wed, 20 Mar 2013 17:51:48 +0000"  >&lt;p&gt;I see. We can possibly do the same, ie silently drop the window frame if specified. But to me throwing exception is better. Consider user says&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select i, lead(s) over (partition by bin order by d desc rows between current row and 10 following) from over100k;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and than expect he will get difference between current row and 10th row following current one for lead (s) column. This is illegal, but since we are silently dropping window frame we won&apos;t notice this and return results to him, which will be different than his expectations. Throwing exception at compile time (ie current behavior) seems best alternative for such scenarios.&lt;/p&gt;</comment>
                            <comment id="13607918" author="alangates" created="Wed, 20 Mar 2013 17:54:07 +0000"  >&lt;p&gt;I agree throwing exception at compile time is better than silently dropping the window frame.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 17 Mar 2013 21:16:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317796</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iu3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318137</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4193] OVER clauses with BETWEEN in the window definition produce wrong results</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4193</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Window queries that define a windowing clause that has a termination row often (though not all) return incorrect results.  For example, from our test queries all of the following return incorrect results:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select s, sum(f) over (partition by t order by b 
       rows between current row and unbounded following) 
from over100k;

select s, avg(f) over (partition by b order by d 
       rows between 5 preceding and current row) 
from over100k;

select s, avg(f) over (partition by bin order by s 
       rows between current row and 5 following) 
from over100k;

select s, avg(d) over (partition by i order by f desc 
       rows between 5 preceding and 5 following) 
from over100k;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12637305">HIVE-4193</key>
            <summary>OVER clauses with BETWEEN in the window definition produce wrong results</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Mar 2013 00:23:10 +0000</created>
                <updated>Mon, 6 May 2013 18:17:11 +0000</updated>
                            <resolved>Thu, 21 Mar 2013 17:40:35 +0000</resolved>
                                    <version>0.11.0</version>
                                                    <component>PTF-Windowing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13607929" author="ashutoshc" created="Wed, 20 Mar 2013 18:03:57 +0000"  >&lt;p&gt;All of them have order by clause. Likely same root cause as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4190&quot; title=&quot;OVER clauses with ORDER BY not getting windowing set properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4190&quot;&gt;&lt;del&gt;HIVE-4190&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13608087" author="ashutoshc" created="Wed, 20 Mar 2013 19:55:02 +0000"  >&lt;p&gt;Actually all of them have window range spec, so then this is different than &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4190&quot; title=&quot;OVER clauses with ORDER BY not getting windowing set properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4190&quot;&gt;&lt;del&gt;HIVE-4190&lt;/del&gt;&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; Can you upload a result diff for one of these queries. This could be related to stable sort issue.&lt;/p&gt;</comment>
                            <comment id="13609136" author="alangates" created="Thu, 21 Mar 2013 17:13:30 +0000"  >&lt;p&gt;A diff from last night&apos;s run for the query:&lt;/p&gt;

&lt;p&gt;select i, f, avg(d) over (partition by i order by f desc rows between 5 preceding and 5 following) from over100k;&lt;/p&gt;

&lt;p&gt;Based on the output this doesn&apos;t look like a sort stability issue.&lt;/p&gt;</comment>
                            <comment id="13609148" author="alangates" created="Thu, 21 Mar 2013 17:21:32 +0000"  >&lt;p&gt;Note, other than the query listed in the above comments all of the other queries using ROWS BETWEEN now produce correct results.&lt;/p&gt;</comment>
                            <comment id="13609156" author="ashutoshc" created="Thu, 21 Mar 2013 17:31:30 +0000"  >&lt;p&gt;One way this query is different from others is it has desc. Alan, can you run this query without desc and see if it still produces wrong results. If not, likely we have a bug in order by desc.&lt;/p&gt;</comment>
                            <comment id="13609173" author="alangates" created="Thu, 21 Mar 2013 17:40:35 +0000"  >&lt;p&gt;The desc definitely causes an issue when you forget to put it into the verification query.  Once you do that all is good.  I&apos;m closing this as invalid because the rest of the queries work now (the result of other patches checked in I assume) and this last one was a test error.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12574831" name="Range_5_diff" size="365152" author="alangates" created="Thu, 21 Mar 2013 17:13:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Mar 2013 18:03:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317797</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iu3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318138</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4194] JDBC2: HiveDriver should not throw RuntimeException when passed an invalid URL</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4194</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As per JDBC 3.0 Spec (section 9.2)&lt;br/&gt;
    &quot;If the Driver implementation understands the URL, it will return a Connection object; otherwise it returns null&quot;&lt;/p&gt;

&lt;p&gt;Currently HiveConnection constructor will throw IllegalArgumentException if url string doesn&apos;t start with &quot;jdbc:hive2&quot;. This exception should be caught by HiveDriver.connect and return null.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637341">HIVE-4194</key>
            <summary>JDBC2: HiveDriver should not throw RuntimeException when passed an invalid URL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rding">Richard Ding</assignee>
                                    <reporter username="rding">Richard Ding</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Mar 2013 00:40:02 +0000</created>
                <updated>Tue, 4 Feb 2014 23:51:32 +0000</updated>
                            <resolved>Fri, 24 May 2013 12:50:55 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>HiveServer2</component>
                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13607791" author="rding" created="Wed, 20 Mar 2013 16:16:00 +0000"  >&lt;p&gt;Attaching patch.&lt;/p&gt;</comment>
                            <comment id="13611228" author="prasadm" created="Fri, 22 Mar 2013 20:55:39 +0000"  >&lt;p&gt;+1 (non-binding)&lt;br/&gt;
Looks good me&lt;/p&gt;</comment>
                            <comment id="13616988" author="thejas" created="Fri, 29 Mar 2013 02:08:14 +0000"  >&lt;p&gt;Another non-binding +1 .&lt;br/&gt;
(do non-binding +1&apos;s add up &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;</comment>
                            <comment id="13617072" author="cwsteinbach" created="Fri, 29 Mar 2013 04:43:54 +0000"  >&lt;p&gt;We shouldn&apos;t let people instantiate malformed HiveConnection objects. Please make the HiveConnection constructor private and add static builder methods to HiveConnection (e.g. HiveConnection.newConnection(String url, Properties info)) that validate the input URL and return null if it&apos;s invalid. Please also relocated acceptsURL() to HiveConnection and make it private. Thanks.&lt;/p&gt;</comment>
                            <comment id="13617141" author="thejas" created="Fri, 29 Mar 2013 06:37:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;Please also relocated acceptsURL() to HiveConnection and make it private&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;acceptsURL is part of the java.sql.Driver interface, so it is needed in HiveDriver&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;We shouldn&apos;t let people instantiate malformed HiveConnection objects. Please make the HiveConnection constructor private and add static builder methods to HiveConnection&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This change does not makes that possible . When users try to create it using Driver.connect(url,info), they will get a null value.&lt;br/&gt;
HiveConnection created using constructor directly will also throw an exception. To prevent users from creating/using HiveConnection directly, we should make that class package private. I think we should do that for all the Hive* subclasses of the java.sql.* classes. But that change is not directly related to this issue.&lt;/p&gt;
</comment>
                            <comment id="13648844" author="rding" created="Fri, 3 May 2013 22:28:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt; Thejas is right about acceptsURL as part of the java.sql.Driver interface. I also prefer the simple change to fix this simple issue, and leave the package visibility changes to another JIRA. What do you think?&lt;/p&gt;</comment>
                            <comment id="13648869" author="cwsteinbach" created="Fri, 3 May 2013 23:07:53 +0000"  >&lt;p&gt;Sounds good to me. +1.&lt;/p&gt;

&lt;p&gt;I don&apos;t have access to a build farm so I&apos;ll leave the testing and commit work to someone else.&lt;/p&gt;</comment>
                            <comment id="13652658" author="thejas" created="Thu, 9 May 2013 01:52:58 +0000"  >&lt;p&gt;marking as patch available, so that it gets to the attention of other committers.&lt;/p&gt;</comment>
                            <comment id="13664795" author="navis" created="Thu, 23 May 2013 02:23:25 +0000"  >&lt;p&gt;running test&lt;/p&gt;</comment>
                            <comment id="13666265" author="navis" created="Fri, 24 May 2013 12:48:24 +0000"  >&lt;p&gt;Passed all tests except TestSemanticAnalysis in hcatalog but it&apos;s not related with this patch.&lt;/p&gt;</comment>
                            <comment id="13666267" author="navis" created="Fri, 24 May 2013 12:50:55 +0000"  >&lt;p&gt;Committed to trunk. Thanks Richard Ding for authoring and Carl Steinbach for a review&lt;/p&gt;</comment>
                            <comment id="13796182" author="ashutoshc" created="Tue, 15 Oct 2013 23:31:38 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                            <comment id="13891456" author="bmurray7" created="Tue, 4 Feb 2014 23:51:32 +0000"  >&lt;p&gt;Broken by fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4802&quot; title=&quot;Fix url check for missing &amp;quot;/&amp;quot; or &amp;quot;/&amp;lt;db&amp;gt; after hostname in jdb uri&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4802&quot;&gt;&lt;del&gt;HIVE-4802&lt;/del&gt;&lt;/a&gt;.  Issue reopened as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6363&quot; title=&quot;IllegalArgumentException is thrown instead of SQLException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6363&quot;&gt;&lt;del&gt;HIVE-6363&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12574564" name="HIVE-4194.patch" size="1872" author="rding" created="Wed, 20 Mar 2013 16:16:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Mar 2013 20:55:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317833</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iubr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318174</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4195] Avro SerDe causes incorrect behavior in unrelated tables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4195</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When I run a file that first creates an Avro table using the Avro SerDe, then immediately creates an LZO text table and inserts data into the LZO table, the resulting LZO table contain Avro data files. When I remove the Avro CREATE TABLE statement, the LZO table contains .lzo files as expected.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;DROP TABLE IF EXISTS avro_table;
CREATE EXTERNAL TABLE avro_table
ROW FORMAT SERDE &apos;org.apache.hadoop.hive.serde2.avro.AvroSerDe&apos;
STORED AS
INPUTFORMAT &apos;org.apache.hadoop.hive.ql.io.avro.AvroContainerInputFormat&apos;
OUTPUTFORMAT &apos;org.apache.hadoop.hive.ql.io.avro.AvroContainerOutputFormat&apos;
TBLPROPERTIES (&apos;avro.schema.literal&apos; = &apos;{
&quot;namespace&quot;: &quot;testing.hive.avro.serde&quot;,
&quot;name&quot;: &quot;test_record&quot;,
&quot;type&quot;: &quot;record&quot;,
&quot;fields&quot;: [
{&quot;name&quot;:&quot;int1&quot;, &quot;type&quot;:&quot;long&quot;},
{&quot;name&quot;:&quot;string1&quot;, &quot;type&quot;:&quot;string&quot;}
]
}&apos;);

DROP TABLE IF EXISTS lzo_table;
CREATE EXTERNAL TABLE lzo_table (
id int,
bool_col boolean,
tinyint_col tinyint,
smallint_col smallint,
int_col int,
bigint_col bigint,
float_col float,
double_col double,
date_string_col string,
string_col string,
timestamp_col timestamp)
STORED AS 
INPUTFORMAT &apos;com.hadoop.mapred.DeprecatedLzoTextInputFormat&apos;
OUTPUTFORMAT &apos;org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat&apos;
;

SET hive.exec.compress.output=true;
SET mapred.output.compression.type=BLOCK;
SET mapred.output.compression.codec=com.hadoop.compression.lzo.LzopCodec;
SET hive.exec.dynamic.partition.mode=nonstrict;
SET hive.exec.dynamic.partition=true;
SET mapred.max.split.size=256000000;
SET hive.input.format=org.apache.hadoop.hive.ql.io.CombineHiveInputFormat;
insert overwrite table lzo_table SELECT id, bool_col, tinyint_col, smallint_col, int_col, bigint_col, float_col, double_col, date_string_col, string_col, timestamp_col FROM src_table;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12637342">HIVE-4195</key>
            <summary>Avro SerDe causes incorrect behavior in unrelated tables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="skye">Skye Wanderman-Milne</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Mar 2013 00:44:46 +0000</created>
                <updated>Mon, 6 May 2013 21:22:05 +0000</updated>
                            <resolved>Mon, 6 May 2013 21:22:05 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13604936" author="bennies" created="Mon, 18 Mar 2013 08:27:23 +0000"  >&lt;p&gt;I suspect this is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3308&quot; title=&quot;Mixing avro and snappy gives null values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3308&quot;&gt;&lt;del&gt;HIVE-3308&lt;/del&gt;&lt;/a&gt;. It&apos;s a really simple patch but hasn&apos;t been commited yet.&lt;/p&gt;</comment>
                            <comment id="13626068" author="ashutoshc" created="Tue, 9 Apr 2013 01:20:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3308&quot; title=&quot;Mixing avro and snappy gives null values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3308&quot;&gt;&lt;del&gt;HIVE-3308&lt;/del&gt;&lt;/a&gt; fixes this issues. Feel free to reopen if you can still reproduce this on trunk.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12600465">HIVE-3308</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 Mar 2013 08:27:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317834</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iubz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318175</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4196] Support for Streaming Partitions in Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4196</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Motivation: Allow Hive users to immediately query data streaming in through clients such as Flume.&lt;/p&gt;


&lt;p&gt;Currently Hive partitions must be created after all the data for the partition is available. Thereafter, data in the partitions is considered immutable. &lt;/p&gt;

&lt;p&gt;This proposal introduces the notion of a streaming partition into which new files an be committed periodically and made available for queries before the partition is closed and converted into a standard partition.&lt;/p&gt;

&lt;p&gt;The admin enables streaming partition on a table using DDL. He provides the following pieces of information:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Name of the partition in the table on which streaming is enabled&lt;/li&gt;
	&lt;li&gt;Frequency at which the streaming partition should be closed and converted into a standard partition.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Tables with streaming partition enabled will be partitioned by one and only one column.&#160;It is assumed that this column will contain a timestamp.&lt;/p&gt;

&lt;p&gt;Closing the current streaming partition converts it into a standard partition. Based on the specified frequency, the current streaming partition  is closed and a new one created for future writes. This is referred to as &apos;rolling the partition&apos;.&lt;/p&gt;


&lt;p&gt;A streaming partition&apos;s life cycle is as follows:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;A new streaming partition is instantiated for writes&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Streaming clients request (via webhcat) for a HDFS file name into which they can write a chunk of records for a specific table.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Streaming clients write a chunk (via webhdfs) to that file and commit it(via webhcat). Committing merely indicates that the chunk has been written completely and ready for serving queries.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;When the partition is rolled, all committed chunks are swept into single directory and a standard partition pointing to that directory is created. The streaming partition is closed and new streaming partition is created. Rolling the partition is atomic. Streaming clients are agnostic of partition rolling.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Hive queries will be able to query the partition that is currently open for streaming. only committed chunks will be visible. read consistency will be ensured so that repeated reads of the same partition will be idempotent for the lifespan of the query.&lt;/li&gt;
&lt;/ul&gt;




&lt;p&gt;Partition rolling requires an active agent/thread running to check when it is time to roll and trigger the roll. This could be either be achieved by using an external agent such as Oozie (preferably) or an internal agent.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637360">HIVE-4196</key>
            <summary>Support for Streaming Partitions in Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="roshan_naik">Roshan Naik</assignee>
                                    <reporter username="roshan_naik">Roshan Naik</reporter>
                        <labels>
                    </labels>
                <created>Sat, 16 Mar 2013 04:50:10 +0000</created>
                <updated>Mon, 17 Feb 2014 20:02:57 +0000</updated>
                            <resolved>Tue, 29 Oct 2013 22:16:03 +0000</resolved>
                                    <version>0.10.1</version>
                                                    <component>Database/Schema</component>
                    <component>HCatalog</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                                                                            <comments>
                            <comment id="13606960" author="brocknoland" created="Tue, 19 Mar 2013 22:38:33 +0000"  >&lt;p&gt;Hi Roshan,&lt;/p&gt;

&lt;p&gt;Looks like a good proposal and a great place for Flume to integrate with Hive!  In the proposal how come we have the clients using webhdfs to write a chunk of data? Couldn&apos;t the client user any HDFS api?&lt;/p&gt;

&lt;p&gt;Brock&lt;/p&gt;</comment>
                            <comment id="13607864" author="alangates" created="Wed, 20 Mar 2013 17:08:36 +0000"  >&lt;p&gt;The client could certainly use any HDFS API to talk with HDFS.  The webhcat API will return a URL that works with webhdfs, but nothing prevents a user from stripping the &lt;a href=&quot;http://.../webhdfs/v1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://.../webhdfs/v1&lt;/a&gt; stuff off and invoking HDFS directly.  We&apos;re optimizing assuming a REST user, but not excluding others.&lt;/p&gt;</comment>
                            <comment id="13608800" author="eric14" created="Thu, 21 Mar 2013 09:59:14 +0000"  >&lt;p&gt;Maybe we should just return both?&lt;/p&gt;


</comment>
                            <comment id="13621638" author="roshan_naik" created="Thu, 4 Apr 2013 01:40:50 +0000"  >&lt;p&gt;Adding phase 1 design document to solicit feedback.&lt;/p&gt;</comment>
                            <comment id="13621644" author="roshan_naik" created="Thu, 4 Apr 2013 01:47:40 +0000"  >&lt;p&gt;Updating design doc.&lt;/p&gt;</comment>
                            <comment id="13645158" author="roshan_naik" created="Tue, 30 Apr 2013 02:35:01 +0000"  >&lt;p&gt;draft patch for review. based on phase mentioned in design doc.   Deviates slighlty... &lt;br/&gt;
1) adds a couple of (temporary) rest calls to enable/disable streaming on a table. Later these will be replaced with support in DDL. &lt;/p&gt;

&lt;p&gt;2) Also also HTTP methods are GET for easy testing with web browser&lt;/p&gt;

&lt;p&gt;3) Authentication disabled on the new streaming HTTP methods&lt;/p&gt;


&lt;p&gt;Usage Examples on db named &apos;sdb&apos; &amp;amp; table named &apos;log&apos; :&lt;/p&gt;

&lt;p&gt;1) &lt;b&gt;Setup db &amp;amp; table with single partition column &apos;date&apos;:&lt;/b&gt;&lt;br/&gt;
 hcat -e &quot;create database sdb; use sdb; create table log(msg string, region string) partitioned by (date string)  ROW FORMAT DELIMITED FIELDS TERMINATED BY &apos;,&apos; LINES TERMINATED BY &apos;\n&apos; STORED AS TEXTFILE; &quot;&lt;/p&gt;


&lt;p&gt;2) &lt;b&gt;To check streaming status:&lt;/b&gt;&lt;br/&gt;
 &lt;a href=&quot;http://localhost:50111/templeton/v1/streaming/status?database=sdb&amp;amp;table=log&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50111/templeton/v1/streaming/status?database=sdb&amp;amp;table=log&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;3) &lt;b&gt;Enable Streaming:&lt;/b&gt;&lt;br/&gt;
 &lt;a href=&quot;http://localhost:50111/templeton/v1/streaming/enable?database=sdb&amp;amp;table=log&amp;amp;col=date&amp;amp;value=1000&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50111/templeton/v1/streaming/enable?database=sdb&amp;amp;table=log&amp;amp;col=date&amp;amp;value=1000&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;4) &lt;b&gt;Get Chunk File to write to:&lt;/b&gt;&lt;br/&gt;
&lt;a href=&quot;http://localhost:50111/templeton/v1/streaming/chunkget?database=sdb&amp;amp;table=log&amp;amp;schema=blah&amp;amp;format=blah&amp;amp;record_separator=blah&amp;amp;field_separator=blah&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50111/templeton/v1/streaming/chunkget?database=sdb&amp;amp;table=log&amp;amp;schema=blah&amp;amp;format=blah&amp;amp;record_separator=blah&amp;amp;field_separator=blah&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;5) &lt;b&gt;Commit Chunk File:&lt;/b&gt;&lt;br/&gt;
&lt;a href=&quot;http://localhost:50111/templeton/v1/streaming/chunkcommit?database=sdb&amp;amp;table=log&amp;amp;chunkfile=/user/hive/streaming/tmp/sdb/log/2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50111/templeton/v1/streaming/chunkcommit?database=sdb&amp;amp;table=log&amp;amp;chunkfile=/user/hive/streaming/tmp/sdb/log/2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;6) &lt;b&gt;Abort Chunk File:&lt;/b&gt;&lt;br/&gt;
&lt;a href=&quot;http://localhost:50111/templeton/v1/streaming/chunkabort?database=sdb&amp;amp;table=log&amp;amp;chunkfile=/user/hive/streaming/tmp/sdb/log/3&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50111/templeton/v1/streaming/chunkabort?database=sdb&amp;amp;table=log&amp;amp;chunkfile=/user/hive/streaming/tmp/sdb/log/3&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;7) &lt;b&gt;Roll Partition:&lt;/b&gt;&lt;br/&gt;
&lt;a href=&quot;http://localhost:50111/templeton/v1/streaming/partitionroll?database=sdb&amp;amp;table=log&amp;amp;partition_column=date&amp;amp;partition_value=3000&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50111/templeton/v1/streaming/partitionroll?database=sdb&amp;amp;table=log&amp;amp;partition_column=date&amp;amp;partition_value=3000&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13669853" author="alangates" created="Wed, 29 May 2013 23:01:18 +0000"  >&lt;p&gt;Roshan,&lt;/p&gt;

&lt;p&gt;Could you post a pdf version of the doc so users without MS Word can read it?  Also, could you post a version of the patch without the thrift generated code (anything under src/gen or src-gen) so it&apos;s easier for the reviewers to determine what to review?&lt;/p&gt;</comment>
                            <comment id="13669887" author="roshan_naik" created="Wed, 29 May 2013 23:37:51 +0000"  >&lt;p&gt;pdf version of design &amp;amp; spec doc&lt;/p&gt;</comment>
                            <comment id="13714235" author="alangates" created="Fri, 19 Jul 2013 23:45:40 +0000"  >&lt;p&gt;Some comments:&lt;/p&gt;

&lt;p&gt;According to the Hive coding conventions lines should be bounded at 100 characters.  Many lines in this patch exceed that.&lt;/p&gt;

&lt;p&gt;In ObjectStore.java:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;I&apos;m surprised to see that streamingStatus sets the chunk id for the table.  This seems to be a status call.  Why should it be setting chunk id?&lt;/li&gt;
	&lt;li&gt;The logic at the end of of these functions doesn&apos;t look right.  Take getNextChunkID for example.  If commitTransaction fails (line 2132) rollback will be called but the next chunk id will still be returned.  It seems you need a check on success after commit.  I realize many of the calls in the class follow this, but it doesn&apos;t seem right.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In HiveMetaStoreClient.java, is assert what you want?  Are you ok with the validity of the arguments not being checked most of the time?&lt;/p&gt;

&lt;p&gt;I&apos;m trying to figure out whether the chunk files are moved, deleted, or left alone during the partition rolling.  From examining the code and playing with Hive it looks like the files will be left alone.  But have you tested this?&lt;/p&gt;

&lt;p&gt;Which leads to, I don&apos;t see any tests in this patch.  This code needs a lot of tests.&lt;/p&gt;</comment>
                            <comment id="13752946" author="roshan_naik" created="Wed, 28 Aug 2013 22:18:44 +0000"  >
&lt;blockquote&gt;&lt;p&gt;  According to the Hive coding conventions lines should be bounded at 100 characters. Many lines in this patch exceed that. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Will fix the ones which are not in the thrift generated files.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt; I&apos;m surprised to see that streamingStatus sets the chunk id for the table. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Seems like a bug. Will fix.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;  The logic at the end of of these functions doesn&apos;t look right. Take getNextChunkID for example. If commitTransaction fails (line 2132) rollback will be called but the next chunk id will still be returned. It seems you need a check on success after commit. I realize many of the calls in the class follow this, but it doesn&apos;t seem right. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good catch. At the time I thought commitTxn() will only fail with an exception &amp;amp; does not return false. But on closer inspection there is indeed a corner case (if rollBack was called) that it returns false also. Its a bizzare thing for a function to fail with &amp;amp; without exceptions. But for now I will fix my code to live with it.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt; In HiveMetaStoreClient.java, is assert what you want? Are you ok with the validity of the arguments not being checked most of the time?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Not all checks are in place. There is some checks that will happen at lower layers. Some at higher. Will be adding more checks.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt; I&apos;m trying to figure out whether the chunk files are moved, deleted, or left alone during the partition rolling. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That would depend on whether the table is defined to be an external or internal table. It is essentially an add_partition of the new partition. It calls HiveMetastore.add_partition_core_notxn()  inside a transaction.&lt;/p&gt;
</comment>
                            <comment id="13770314" author="ashutoshc" created="Wed, 18 Sep 2013 02:10:02 +0000"  >&lt;p&gt;Few high level comments:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;We should try to eliminate the need of intermediate staging area while rolling on new partitions. Seems like there should not be any gotchas while moving data from streaming dir to partition dir directly.&lt;/li&gt;
	&lt;li&gt;We should make thrift apis in metastore forward compatible. One way to do that is to use struct (which contains all parameters) instead of passing in list of arguments.&lt;/li&gt;
	&lt;li&gt;We should try to leave TBLS table untouched in backend db. That will simplify upgrade story. One way to do that is to have all new columns in a new table and than add constraints for this new table.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13776952" author="roshan_naik" created="Tue, 24 Sep 2013 23:53:00 +0000"  >&lt;p&gt;Thanks Ashutosh. Since your recommendations apply to subtask &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5138&quot; title=&quot;Streaming - Web HCat  API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5138&quot;&gt;HIVE-5138&lt;/a&gt;, I have copied ur comments over to it. I will address them there.&lt;/p&gt;</comment>
                            <comment id="13808526" author="roshan_naik" created="Tue, 29 Oct 2013 22:16:03 +0000"  >&lt;p&gt;In view of the &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5317&quot; title=&quot;Implement insert, update, and delete in Hive with full ACID support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5317&quot;&gt;&lt;del&gt;HIVE-5317&lt;/del&gt;&lt;/a&gt; which brings in insert/update/delete support to Hive, the need for introducing streaming partitions is no longer necessary. Streaming support can be provided with a far less complexity by leveraging &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5317&quot; title=&quot;Implement insert, update, and delete in Hive with full ACID support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5317&quot;&gt;&lt;del&gt;HIVE-5317&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13808548" author="roshan_naik" created="Tue, 29 Oct 2013 22:35:16 +0000"  >&lt;p&gt;Moving the streaming work to a new jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5687&quot; title=&quot;Streaming support in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5687&quot;&gt;&lt;del&gt;HIVE-5687&lt;/del&gt;&lt;/a&gt; since it will be based on a different design.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12676510">HIVE-5687</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12669392">HIVE-5317</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12581111" name="HCatalogStreamingIngestFunctionalSpecificationandDesign- apr 29- patch1.docx" size="15890" author="roshan_naik" created="Tue, 30 Apr 2013 02:44:42 +0000"/>
                            <attachment id="12585334" name="HCatalogStreamingIngestFunctionalSpecificationandDesign- apr 29- patch1.pdf" size="141024" author="roshan_naik" created="Wed, 29 May 2013 23:37:51 +0000"/>
                            <attachment id="12581109" name="HIVE-4196.v1.patch" size="2583223" author="roshan_naik" created="Tue, 30 Apr 2013 02:35:01 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12665159">HIVE-5138</subtask>
                            <subtask id="12665161">HIVE-5139</subtask>
                            <subtask id="12665163">HIVE-5140</subtask>
                            <subtask id="12665165">HIVE-5142</subtask>
                            <subtask id="12665166">HIVE-5143</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Mar 2013 22:38:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317852</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iufz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&amp;nbsp;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Streaming HCatalog</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4197] Bring windowing support inline with SQL Standard</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4197</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The current behavior defers from the Standard in several significant places.&lt;br/&gt;
Please review attached doc; there are still a few open issues. Once we agree on the behavior, can proceed with fixing the implementation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637457">HIVE-4197</key>
            <summary>Bring windowing support inline with SQL Standard</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhbutani">Harish Butani</assignee>
                                    <reporter username="rhbutani">Harish Butani</reporter>
                        <labels>
                    </labels>
                <created>Sun, 17 Mar 2013 20:36:41 +0000</created>
                <updated>Mon, 2 Sep 2013 07:38:55 +0000</updated>
                            <resolved>Thu, 28 Mar 2013 21:55:23 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>PTF-Windowing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13605597" author="ashutoshc" created="Mon, 18 Mar 2013 20:37:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;Standard Compliance: we defer from the SQL standard here (Partition/Order spec), which only allows expressions to be Column References.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think we can keep allowing expressions. This is more powerful, subsumes column reference only and I don&apos;t see any confusion arising because of this.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;the Sql Standard allows boundary amount to be any expression of type Unsigned Int. We are only allowing this to be a constant.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We are more restrictive than standard. But thats fine for now, we can improve on this later.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;: we don&#8217;t plan to support this feature (window frame exclusion) in release 1.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah.. lets defer this to later release.&lt;/p&gt;

&lt;p&gt;In section 2, I didn&apos;t get the concept of source window spec and thereby subsequent points. Can you give an example in form of queries? That will help me formulate my opinion.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;How do we achieve this stable order? Any suggestions.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This implies we must enforce secondary sort in reduce sink, otherwise order of values for that key in reducer is unspecified. This effectively means that we are inserting an order spec. Since in this case, user has not specified an order spec, doing ordering on partitioning column is reasonable. I believe this is already the case in current implementation. Although this forces us to forgo some optimizations (predicate pushdown) but thats fine for first release. Later on, we can remember when we are introducing ordering ourselves vs when user has asked for it, to give those optimization rules a chance to fire. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;FOLLOWING unsigned int NULL ANY ??&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I am also not clear what to do this in corner case. I think throwing an error is reasonable.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Speci&#64257;cation of a Range based Window: is not based on the Sort expression&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think here we don&apos;t have a luxury to deviate from standard on this one. As you have noted this might be confusing. Better to remove it and be standard compliant. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&#8226; Notion of UDAFs that shouldn&#8217;t have a Window Frame: Rank, Dense_Rank, Percent_Rank, Cume_Dist, Lead, Lag are con&#64257;gured this way.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think its fine to keep existing behavior. Can&apos;t think of a use case where defining a window frame for these functions making sense.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Notion of Lead/Lag UDFs usable as arguments in UDAFs:&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think we can keep this since it serves useful use case. Though if it is burdensome to implement or results in umaintainable code, I would prefer to remove it. So, I will leave this decision upto you.&lt;/p&gt;</comment>
                            <comment id="13605646" author="alangates" created="Mon, 18 Mar 2013 21:10:42 +0000"  >&lt;p&gt;Harish,&lt;/p&gt;

&lt;p&gt;This is really helpful, thanks.  I have a few questions:&lt;/p&gt;

&lt;p&gt;Section 2.1, what is a Source Window Spec?&lt;/p&gt;

&lt;p&gt;Section 3, I can&apos;t see any way in an MR framework to guarantee order stability without adding an order clause.  I suppose we could add an implicit one that doesn&apos;t change the window frame, but that seems expensive.  I&apos;d say just note that we don&apos;t guarantee a stable order here and if users want a stable order they should put in an order by.&lt;/p&gt;

&lt;p&gt;Section 3.1.2 The addition of +1 to all of the following specifications seems wrong.  If window definition says BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW I believe the spec stipulates that it will end at the current row, not one past the current row.  &lt;/p&gt;

&lt;p&gt;Section 3.1.3 &lt;br/&gt;
Where are we at on RANGE support?  I&apos;m wondering if it would be better to focus on stabilizing ROWS support for now and adding RANGE support later.&lt;/p&gt;</comment>
                            <comment id="13605743" author="rhbutani" created="Mon, 18 Mar 2013 22:23:38 +0000"  >&lt;p&gt;Ashutosh, thanks for reviewing.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;agree with you on Partition/Order expressions, Boundary amount deviations from Standard.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Stable order issue:&lt;br/&gt;
It is not just restricted to when no order is specified. It also crops up when 2 rows have the same value on the Order expressions. This affects  the window frame and processing of functions that dependent on the order(rank,dense_rank...)&lt;br/&gt;
One thought is to add the FileName and FileOffset virtual columns to the Order Spec. &lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Source Window Spec:&lt;br/&gt;
as I understand this, it is the ability to reference another Window definition in the Query and inherit components from it. For e.g.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select a,b, rank() over (w1 unbounded preceding and current row),
from xyz
window w1 (partition by x order by y)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The effective window spec for rank() is:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;rank() over (partition by x order by y w1 unbounded preceding and current row)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The rule we have adopted is that each component Partition, Order, WindowFrame is independently inherited from a source Window Spec. Inheritance happens only if that component is not defined. As I said in the doc, it is not clear to me what the spec is mandating here.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Agree with your other points.&lt;br/&gt;
1. The way we have Range Windows is confusing. Should associate it with the Order expression&lt;br/&gt;
2. Don&apos;t see the point of allowing Windows on Lead, Lag, Rank etc.So then Jira 4192 can be resolved as &apos;.working as designed&apos;&lt;br/&gt;
3. Lead/Lag UDFs will keep it in for now; but may remove if it becomes hard to maintain&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13605750" author="rhbutani" created="Mon, 18 Mar 2013 22:30:32 +0000"  >&lt;p&gt;Alan, thanks for reviewing.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Have explained the concept of Source Windowspec in the previous response to Ashutosh.&lt;/li&gt;
	&lt;li&gt;The stable sort issue also crops up when there multiple rows with the same Order expressions. Again, see previous response.&lt;/li&gt;
	&lt;li&gt;The Window Frame Range I was documenting was [start,end), so the end side is open ended. This an artifact of our implementation...&lt;/li&gt;
	&lt;li&gt;Range support is there; I think the changes we need to make are manageable. But if we run into major blocks, then agree we can defer this.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13607942" author="ashutoshc" created="Wed, 20 Mar 2013 18:11:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; Stable sort issue seems to be an important one, especially since because of shuffle enhancements between hadoop1 and hadoop2 sort is not stable between two for same query. Harish&apos;s proposal is to always add filename and file offset virtual column which I think will enforce stable sort. In absence of any other solution, this looks like fine to me. Do you think we can do any better? &lt;/p&gt;</comment>
                            <comment id="13608243" author="alangates" created="Wed, 20 Mar 2013 21:25:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;Stable sort issue seems to be an important one ...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yeah, I hadn&apos;t thought about the point that even in ORDER BY our sort needs to be stable in order to give consistent results.  It sucks that we have to introduce a sort even in queries without an ORDER BY, but oh well.  I agree that FileName and FileOffset are a good proxy, as that will maintain stability in the sort.&lt;/p&gt;</comment>
                            <comment id="13609987" author="rhbutani" created="Fri, 22 Mar 2013 06:26:02 +0000"  >&lt;p&gt;Adding FileName, Offset Virtual Columns is not straightforward.&lt;br/&gt;
Consider the following query:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;select p_mfgr, p_name, p_size, 
min(p_retailprice),
rank() over(partition by p_mfgr order by p_name)as r
from part
group by p_mfgr, p_name, p_size
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Adding the VCs to the OrderSpec for rank requires that we add them to the Select List also; otherwise we get the error: Expression not in GROUP BY key &apos;INPUT_&lt;em&gt;FILE&lt;/em&gt;_NAME&apos;&lt;/p&gt;

&lt;p&gt;It gets more challenging if the Query has Joins or SubQueries. &lt;br/&gt;
It will not work if the Query has a PTF(a PTF is not required to output the VCs).&lt;br/&gt;
Any suggestions?&lt;/p&gt;</comment>
                            <comment id="13610242" author="ashutoshc" created="Fri, 22 Mar 2013 13:07:17 +0000"  >&lt;p&gt;Hmm.. One way I can think of is to sort rows ourselves. We need to add an extra column in mapper (combination of task.id and monotonic increasing row number) and than in PTFOperator have an implementation of ByteBasedList which uses Priority Queue to store data in memory instead of ByteBuffer. This Priority Queue will insert data in order of this new column we added and dropping it soon after.&lt;br/&gt;
However, this seems to me is pretty heavy-handed approach. I will prefer something simpler. Harish, this problem of stable sort is getting exposed only on hadoop2, so I will suggest for now lets focus on other issues as we think and come up with a better solution for it, since on hadoop1 we don&apos;t have such a problem.&lt;/p&gt;</comment>
                            <comment id="13613618" author="ashutoshc" created="Tue, 26 Mar 2013 08:36:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D9717&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9717&lt;/a&gt; Review request on behalf of &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13616062" author="rhbutani" created="Thu, 28 Mar 2013 05:19:53 +0000"  >&lt;p&gt;upload updated doc.&lt;/p&gt;</comment>
                            <comment id="13616700" author="ashutoshc" created="Thu, 28 Mar 2013 21:55:23 +0000"  >&lt;p&gt;Committed to branch. Thanks, Harish!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12438744">HIVE-896</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12575830" name="WindowingSpecification.pdf" size="178145" author="rhbutani" created="Thu, 28 Mar 2013 05:19:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 Mar 2013 20:37:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317948</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iv1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318289</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4198] Move HCatalog code into Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4198</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The HCatalog code needs to be moved into Hive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637595">HIVE-4198</key>
            <summary>Move HCatalog code into Hive</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alangates">Alan Gates</assignee>
                                    <reporter username="alangates">Alan Gates</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Mar 2013 18:07:11 +0000</created>
                <updated>Fri, 28 Aug 2015 18:43:05 +0000</updated>
                            <resolved>Tue, 25 Feb 2014 18:04:39 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                                                            <comments>
                            <comment id="13605435" author="alangates" created="Mon, 18 Mar 2013 18:22:59 +0000"  >&lt;p&gt;The HCatalog code needs to be moved into Hive from the incubator.  This will be done by an &apos;svn mv&apos; command in order to preserve history.  I propose to do this as follows:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;I will move all of the hcat code as is under the hcatalog stub directory created in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4145&quot; title=&quot;Create hcatalog stub directory and add it to the build&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4145&quot;&gt;&lt;del&gt;HIVE-4145&lt;/del&gt;&lt;/a&gt;.  I will put it into a sub-directory to avoid clashes with files names that have already been created (such as build.xml).  The command for this will look like: &apos;svn mv &lt;a href=&quot;https://svn.apache.org/repos/asf//incubator/hcatalog/trunk&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf//incubator/hcatalog/trunk&lt;/a&gt; &lt;a href=&quot;https://svn.apache.org/repos/asf//hive/trunk/hcatalog/hcat-code-dump&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://svn.apache.org/repos/asf//hive/trunk/hcatalog/hcat-code-dump&lt;/a&gt;&apos;  This is a call on the repo and cannot be uploaded as a patch to JIRA.&lt;/li&gt;
	&lt;li&gt;I can then deal with the files in that directory in separate commits.
	&lt;ol&gt;
		&lt;li&gt;DISCLAIMER.txt can be removed as HCat is no longer incubating&lt;/li&gt;
		&lt;li&gt;KEYS, LICENSE.txt, and NOTICE.TXT can be merged with the top level Hive files, as HCat no longer needs to track these entities separately.&lt;/li&gt;
		&lt;li&gt;I propose we put CHANGES.txt, README.txt, and RELEASE_NOTES.txt in an newly created &apos;pre-hive-archive&apos; directory.  Going forward HCat will no longer need separate versions of these files.  But for the sake of history it would be nice to keep them around.&lt;/li&gt;
		&lt;li&gt;build.xml will be merged with the build.xml that was created in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4145&quot; title=&quot;Create hcatalog stub directory and add it to the build&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4145&quot;&gt;&lt;del&gt;HIVE-4145&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;The other directories and files will be moved to the top level.&lt;/li&gt;
		&lt;li&gt;The Java code in these directories will be refactored into org.apache.hive.hcatalog and stub classes for org.apache.hcatalog classes will be created.  This will only be done for classes available through public APIs.&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;I further propose that for the duration of these operations only, the hcatalog directory will be CTR (commit then review) so that I do not have to post patches and wait for a review for each of these file move/merge operations.  I will have JIRAs for each of these operations so that they are trackable in the future.&lt;/p&gt;

&lt;p&gt;I am proposing this double hop (move to hcat-code-dump and then from there) for two reasons.  One, trying to do this in one patch is not doable based on how svn mv works.  Two, it will be much easier to track and understand what is happening (both now and for users in the future reading the svn history) if it is done in a set of discrete steps rather than in one mega-move that also removes, moves, and merges files and directories.&lt;/p&gt;</comment>
                            <comment id="13605444" author="ashutoshc" created="Mon, 18 Mar 2013 18:28:42 +0000"  >&lt;p&gt;+1 Plan looks reasonable to me.&lt;/p&gt;</comment>
                            <comment id="13605498" author="alangates" created="Mon, 18 Mar 2013 19:22:01 +0000"  >&lt;p&gt;Mithun pointed out that I&apos;m only proposing how to move trunk here, not the branches, tags, and site sections.  These will need to be moved as well.  I don&apos;t think it makes any sense to merge these into Hive,  Especially since we want to be able to release a 0.5.1 in the future if we need to, or if users wish to continue to build off of the existing branches without taking in the merge into Hive.&lt;/p&gt;

&lt;p&gt;So, I modify my proposal as follows:  I&apos;ll move all of the existing HCatalog code (trunk, branches, tags, site) into hive/hcatalog/hcatalog-historical.  I&apos;ll then move/re-arrange ONLY the trunk section of the code, as outlined above.  So when I&apos;m done we&apos;ll have the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive/
  hcatalog/
    build.xml
    core/
    hcatalog-pig-adapter/
    ...
    hcatalog-historical/
      branches/
      site/
      tags/
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13607898" author="alangates" created="Wed, 20 Mar 2013 17:35:43 +0000"  >&lt;p&gt;Taken from hive dev list:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;What changes will be needed to make HCatalog&apos;s documentation set buildable&lt;br/&gt;
in its Hive location?  Or will all HCatalog docs need to be converted to&lt;br/&gt;
wikidocs?&lt;/p&gt;

&lt;p&gt;(Tech note:  HCatalog has xdocs built with Forrest, unlike the dearly&lt;br/&gt;
departed Hive xdocs which were built with Anakia.)&lt;/p&gt;

&lt;p&gt;&#8211; Lefty&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This was covered in the original &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hive-dev/201302.mbox/%3CA5A4287A-B30D-4693-BF47-C37F44CF0338%40hortonworks.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;proposal&lt;/a&gt; for merging HCatalog into Hive:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;5) Website&lt;br/&gt;
We will need to integrate HCatalog&apos;s website with Hive&apos;s.  This should be&lt;br/&gt;
easy except for the documentation.  HCat uses forrest for docs, Hive uses&lt;br/&gt;
wiki.  We will need to put links under &apos;Documentation&apos; for older versions&lt;br/&gt;
of HCat docs so users can find them.  As far as how docs are handled for&lt;br/&gt;
the next version of HCatalog, I think that depends on the answer to&lt;br/&gt;
question 7 (next release of HCat), but I propose that HCat needs to conform&lt;br/&gt;
to the way Hive does docs on wiki.  Though I would strongly encourage the&lt;br/&gt;
HCat docs to be version specific (that is, have a set of wiki pages for&lt;br/&gt;
each version).  incubator.apache.org/hcatalog should be changed to&lt;br/&gt;
forward to hive.apache.org.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So in the initial checkin they will be built still with Forrest.  We need to move them into the wiki to conform to the way Hive does docs.&lt;/p&gt;</comment>
                            <comment id="13620355" author="sushanth" created="Tue, 2 Apr 2013 22:25:29 +0000"  >&lt;p&gt;(As a checkpoint, as of revision 651fd3acebd1e54a203824e9e8a0a8d6add21875, hcat trunk from inside hive compiles cleanly and all tests pass successfully)&lt;/p&gt;</comment>
                            <comment id="13623964" author="traviscrawford" created="Fri, 5 Apr 2013 19:13:15 +0000"  >&lt;p&gt;Hey all - great work with getting the code into the Hive repo so far! As we make progress here I&apos;d like to get everyone on the same page about what our final product is. That is, when someone builds a Hive package (&lt;tt&gt;ant clean package&lt;/tt&gt;) how does HCatalog fit in? Do we continue to release two artifacts (separate Hive &amp;amp; HCatalog releases) or just one Hive artifact that also contains HCatalog? Once we&apos;re all on the same page here (I strongly prefer one Hive artifact that also contains HCatalog) we can figure out what the merged release looks like.&lt;/p&gt;

&lt;p&gt;THoughts?&lt;/p&gt;</comment>
                            <comment id="13624360" author="cwsteinbach" created="Sat, 6 Apr 2013 06:16:44 +0000"  >&lt;p&gt;The plan of record is for HCatalog to be one of the artifacts contained in the Hive release.&lt;/p&gt;</comment>
                            <comment id="13625558" author="alangates" created="Mon, 8 Apr 2013 17:16:06 +0000"  >&lt;p&gt;We definitely want them to be one release with one artifact containing all of Hive (which now also includes the HCat jars and executables).  The only case I could see for a separate HCat release is if there&apos;s a need to do a 0.5.1 release to address bugs in 0.5.0.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12639436">HIVE-4238</subtask>
                            <subtask id="12639862">HIVE-4263</subtask>
                            <subtask id="12639863">HIVE-4264</subtask>
                            <subtask id="12639866">HIVE-4265</subtask>
                            <subtask id="12639868">HIVE-4266</subtask>
                            <subtask id="12640220">HIVE-4278</subtask>
                            <subtask id="12641763">HIVE-4325</subtask>
                            <subtask id="12641764">HIVE-4326</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 Mar 2013 18:28:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318075</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ivtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318416</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4199] ORC writer doesn&apos;t handle non-UTF8 encoded Text properly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4199</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;StringTreeWriter currently converts fields stored as Text objects into Strings. This can lose information (see &lt;a href=&quot;http://en.wikipedia.org/wiki/Replacement_character#Replacement_character&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Replacement_character#Replacement_character&lt;/a&gt;), and is also unnecessary since the dictionary stores Text objects.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637603">HIVE-4199</key>
            <summary>ORC writer doesn&apos;t handle non-UTF8 encoded Text properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sxyuan">Samuel Yuan</assignee>
                                    <reporter username="sxyuan">Samuel Yuan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 18 Mar 2013 18:34:43 +0000</created>
                <updated>Fri, 17 May 2013 16:41:17 +0000</updated>
                                                                            <component>File Formats</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13605672" author="phabricator@reviews.facebook.net" created="Mon, 18 Mar 2013 21:29:13 +0000"  >&lt;p&gt;sxyuan requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4199&quot; title=&quot;ORC writer doesn&amp;#39;t handle non-UTF8 encoded Text properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4199&quot;&gt;HIVE-4199&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ORC writer doesn&apos;t handle non-UTF8 encoded Text properly&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: kevinwilfong&lt;/p&gt;

&lt;p&gt;StringTreeWriter currently converts fields stored as Text objects into Strings. This can lose information (see &lt;a href=&quot;http://en.wikipedia.org/wiki/Replacement_character#Replacement_character&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Replacement_character#Replacement_character&lt;/a&gt;), and is also unnecessary since the dictionary stores Text objects.&lt;/p&gt;

&lt;p&gt;Instead, we can check whether Text or String is preferred and simply use the preferred class, converting only to String for the index stats.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  Run unit tests, including new query. The join in the test query originally produces no results because of the bug.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/files/nonutf8.txt&lt;br/&gt;
  ql/src/test/results/clientpositive/orc_nonutf8.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/orc_nonutf8.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringRedBlackTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/22719/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/22719/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: kevinwilfong, sxyuan&lt;br/&gt;
Cc: JIRA&lt;/p&gt;</comment>
                            <comment id="13605682" author="phabricator@reviews.facebook.net" created="Mon, 18 Mar 2013 21:33:14 +0000"  >&lt;p&gt;sxyuan updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4199&quot; title=&quot;ORC writer doesn&amp;#39;t handle non-UTF8 encoded Text properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4199&quot;&gt;HIVE-4199&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ORC writer doesn&apos;t handle non-UTF8 encoded Text properly&quot;.&lt;/p&gt;

&lt;p&gt;  Phabricator is converting the non-UTF8 data file to UTF8, defeating the purpose of the test. Trying a raw diff.&lt;/p&gt;

&lt;p&gt;Reviewers: kevinwilfong&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9501?vs=29967&amp;amp;id=29973#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9501?vs=29967&amp;amp;id=29973#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/orc_nonutf8.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/orc_nonutf8.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringRedBlackTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;br/&gt;
  data/files/nonutf8.txt&lt;/p&gt;

&lt;p&gt;To: kevinwilfong, sxyuan&lt;br/&gt;
Cc: JIRA&lt;/p&gt;</comment>
                            <comment id="13605702" author="phabricator@reviews.facebook.net" created="Mon, 18 Mar 2013 21:45:14 +0000"  >&lt;p&gt;sxyuan updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4199&quot; title=&quot;ORC writer doesn&amp;#39;t handle non-UTF8 encoded Text properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4199&quot;&gt;HIVE-4199&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ORC writer doesn&apos;t handle non-UTF8 encoded Text properly&quot;.&lt;/p&gt;

&lt;p&gt;  Making the new data file binary.&lt;/p&gt;

&lt;p&gt;Reviewers: kevinwilfong&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9501?vs=29973&amp;amp;id=30009#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9501?vs=29973&amp;amp;id=30009#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/files/nonutf8.txt&lt;br/&gt;
  ql/src/test/results/clientpositive/orc_nonutf8.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/orc_nonutf8.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringRedBlackTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;/p&gt;

&lt;p&gt;To: kevinwilfong, sxyuan&lt;br/&gt;
Cc: JIRA&lt;/p&gt;</comment>
                            <comment id="13616723" author="phabricator@reviews.facebook.net" created="Thu, 28 Mar 2013 22:13:14 +0000"  >&lt;p&gt;sxyuan updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4199&quot; title=&quot;ORC writer doesn&amp;#39;t handle non-UTF8 encoded Text properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4199&quot;&gt;HIVE-4199&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ORC writer doesn&apos;t handle non-UTF8 encoded Text properly&quot;.&lt;/p&gt;

&lt;p&gt;  Updated test case to clarify the expected behaviour.&lt;/p&gt;

&lt;p&gt;Reviewers: kevinwilfong&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9501?vs=30009&amp;amp;id=30675#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9501?vs=30009&amp;amp;id=30675#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/files/nonutf8.txt&lt;br/&gt;
  ql/src/test/results/clientpositive/orc_nonutf8.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/orc_nonutf8.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringRedBlackTree.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java&lt;/p&gt;

&lt;p&gt;To: kevinwilfong, sxyuan&lt;br/&gt;
Cc: JIRA&lt;/p&gt;</comment>
                            <comment id="13617454" author="phabricator@reviews.facebook.net" created="Fri, 29 Mar 2013 15:57:15 +0000"  >&lt;p&gt;omalley has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4199&quot; title=&quot;ORC writer doesn&amp;#39;t handle non-UTF8 encoded Text properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4199&quot;&gt;HIVE-4199&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ORC writer doesn&apos;t handle non-UTF8 encoded Text properly&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringRedBlackTree.java:44 Let&apos;s just remove the current add method and move exclusively to Text for the StringRedBlackTree. I should have known better than using String internally.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java:717 We&apos;re going to have the same problem here with the statistics. If we need to support non-utf8, we need to update the statistics to use Text also.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: kevinwilfong, sxyuan&lt;br/&gt;
Cc: JIRA, omalley&lt;/p&gt;</comment>
                            <comment id="13627200" author="phabricator@reviews.facebook.net" created="Tue, 9 Apr 2013 22:26:15 +0000"  >&lt;p&gt;sxyuan has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4199&quot; title=&quot;ORC writer doesn&amp;#39;t handle non-UTF8 encoded Text properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4199&quot;&gt;HIVE-4199&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ORC writer doesn&apos;t handle non-UTF8 encoded Text properly&quot;.&lt;/p&gt;

&lt;p&gt;  Inline comments.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/StringRedBlackTree.java:44 The reason why I kept the add(String) method is that it can avoid doing two copies when the original data is actually a String. If the dictionary only takes Text objects, the writer will have to convert the String to a new Text object, and then set(Text) will copy the bytes over to the dictionary&apos;s internal Text object.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/orc/WriterImpl.java:717 I&apos;ve looked into adding statistics for non-UTF8 strings, but I discovered that the stats are serialized to Protobuf objects which require strings to be UTF8 encoded. Do you have any suggestions?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9501&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: kevinwilfong, sxyuan&lt;br/&gt;
Cc: JIRA, omalley&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12574230" name="HIVE-4199.HIVE-4199.HIVE-4199.D9501.1.patch" size="5744" author="phabricator@reviews.facebook.net" created="Mon, 18 Mar 2013 21:29:13 +0000"/>
                            <attachment id="12574231" name="HIVE-4199.HIVE-4199.HIVE-4199.D9501.2.patch" size="5791" author="phabricator@reviews.facebook.net" created="Mon, 18 Mar 2013 21:33:14 +0000"/>
                            <attachment id="12574234" name="HIVE-4199.HIVE-4199.HIVE-4199.D9501.3.patch" size="5540" author="phabricator@reviews.facebook.net" created="Mon, 18 Mar 2013 21:45:14 +0000"/>
                            <attachment id="12575960" name="HIVE-4199.HIVE-4199.HIVE-4199.D9501.4.patch" size="5252" author="phabricator@reviews.facebook.net" created="Thu, 28 Mar 2013 22:13:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 18 Mar 2013 21:29:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318083</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ivvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-4200] Consolidate submodule dependencies using ivy inheritance</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4200</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As discussed in 4187:&lt;/p&gt;

&lt;p&gt;For easier maintenance of ivy dependencies across submodules: Create parent ivy file with consolidated dependencies and include into submodules via inheritance. This way we&apos;re not relying on transitive dependencies, but also have the dependencies in a single place.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637742">HIVE-4200</key>
            <summary>Consolidate submodule dependencies using ivy inheritance</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Mar 2013 10:53:56 +0000</created>
                <updated>Sat, 9 Nov 2013 15:36:37 +0000</updated>
                            <resolved>Sat, 9 Nov 2013 15:36:36 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13631986" author="hagleitn" created="Mon, 15 Apr 2013 18:30:22 +0000"  >&lt;p&gt;4305 might change things over to mvn.&lt;/p&gt;</comment>
                            <comment id="13634541" author="cwsteinbach" created="Wed, 17 Apr 2013 22:36:39 +0000"  >&lt;p&gt;Attaching a WIP patch that moves all third-party dependencies (i.e. non inter module deps) to the root ivy.xml file.&lt;/p&gt;

&lt;p&gt;@Gunther: If you&apos;d like to push this forward I&apos;m happy to review and commit it. Thanks.&lt;/p&gt;</comment>
                            <comment id="13635723" author="cwsteinbach" created="Thu, 18 Apr 2013 21:34:14 +0000"  >&lt;p&gt;Updated version of the patch that fixes offline mode. I verified that &apos;ant clean package -Doffline=true&apos; works with the network cable pulled out. The downside is that I had to disable the HCatalog build since they&apos;re still doing their own thing.&lt;/p&gt;</comment>
                            <comment id="13635833" author="hagleitn" created="Thu, 18 Apr 2013 23:32:30 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt;. Just saw this. I&apos;ll take a look tonight. Feel free to take over the jira, if it seems I am becoming the bottleneck on this.&lt;/p&gt;</comment>
                            <comment id="13636146" author="hagleitn" created="Fri, 19 Apr 2013 07:06:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt; I&apos;ve split the patch and moved the offline mode stuff to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4382&quot; title=&quot;Fix offline build mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4382&quot;&gt;HIVE-4382&lt;/a&gt;. Seems the two things are unrelated. The part about third-party dependencies looks good, still need to do more testing on it though.&lt;/p&gt;</comment>
                            <comment id="13708098" author="hagleitn" created="Sun, 14 Jul 2013 18:50:10 +0000"  >&lt;p&gt;.4 rebased against trunk. did some testing and that was fine.&lt;/p&gt;</comment>
                            <comment id="13818172" author="ashutoshc" created="Sat, 9 Nov 2013 15:36:37 +0000"  >&lt;p&gt;Not required after mavenization.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12637743">HIVE-4201</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12637251">HIVE-4187</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                            <outwardlinks description="requires">
                                        <issuelink>
            <issuekey id="12641159">HIVE-4305</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12579217" name="HIVE-4200.1.patch.txt" size="58757" author="cwsteinbach" created="Wed, 17 Apr 2013 22:36:39 +0000"/>
                            <attachment id="12579429" name="HIVE-4200.2.patch" size="67809" author="cwsteinbach" created="Thu, 18 Apr 2013 21:34:14 +0000"/>
                            <attachment id="12579500" name="HIVE-4200.3.patch" size="59611" author="hagleitn" created="Fri, 19 Apr 2013 07:04:47 +0000"/>
                            <attachment id="12592209" name="HIVE-4200.4.patch" size="56222" author="hagleitn" created="Sun, 14 Jul 2013 18:49:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Apr 2013 22:36:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318222</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iwq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318563</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4201] Consolidate submodule dependencies using ivy inheritance</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4201</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As discussed in 4187:&lt;/p&gt;

&lt;p&gt;For easier maintenance of ivy dependencies across submodules: Create parent ivy file with consolidated dependencies and include into submodules via inheritance. This way we&apos;re not relying on transitive dependencies, but also have the dependencies in a single place.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637743">HIVE-4201</key>
            <summary>Consolidate submodule dependencies using ivy inheritance</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Mar 2013 10:55:26 +0000</created>
                <updated>Mon, 15 Apr 2013 18:29:03 +0000</updated>
                            <resolved>Mon, 15 Apr 2013 18:29:03 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13606302" author="ashutoshc" created="Tue, 19 Mar 2013 13:04:01 +0000"  >&lt;p&gt;Is this in any way different from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4200&quot; title=&quot;Consolidate submodule dependencies using ivy inheritance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4200&quot;&gt;&lt;del&gt;HIVE-4200&lt;/del&gt;&lt;/a&gt;? Would you like to close this as dupe?&lt;/p&gt;</comment>
                            <comment id="13606310" author="hagleitn" created="Tue, 19 Mar 2013 13:09:52 +0000"  >&lt;p&gt;Yes. Can you close this please?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12637742">HIVE-4200</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Mar 2013 13:04:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318223</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iwqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318564</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4202] reuse Partition objects in PTFOperator processing</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4202</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;to improve memory utilization and reduce number of files and directories created.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12637788">HIVE-4202</key>
            <summary>reuse Partition objects in PTFOperator processing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rhbutani">Harish Butani</assignee>
                                    <reporter username="rhbutani">Harish Butani</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Mar 2013 17:42:59 +0000</created>
                <updated>Thu, 16 May 2013 21:10:59 +0000</updated>
                            <resolved>Wed, 20 Mar 2013 03:07:46 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>PTF-Windowing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13606589" author="phabricator@reviews.facebook.net" created="Tue, 19 Mar 2013 17:51:13 +0000"  >&lt;p&gt;hbutani requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4202&quot; title=&quot;reuse Partition objects in PTFOperator processing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4202&quot;&gt;&lt;del&gt;HIVE-4202&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; reuse Partition objects in PTFOperator processing&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;reuse PTFPartition, BytebasedList and underlying byte array during execution to reduce mem footprint and filesystem overhead.&lt;/p&gt;

&lt;p&gt;to improve memory utilization and reduce number of files and directories created.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9525&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9525&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  data/files/flights_tiny.txt&lt;br/&gt;
  data/files/part.rc&lt;br/&gt;
  data/files/part.seq&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/PTFOperator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/PTFPartition.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/PTFPersistence.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/ptf/TableFunctionEvaluator.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/ptf/WindowingTableFunction.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/22791/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/22791/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, hbutani&lt;/p&gt;</comment>
                            <comment id="13607190" author="phabricator@reviews.facebook.net" created="Wed, 20 Mar 2013 02:15:14 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4202&quot; title=&quot;reuse Partition objects in PTFOperator processing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4202&quot;&gt;&lt;del&gt;HIVE-4202&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; reuse Partition objects in PTFOperator processing&quot;.&lt;/p&gt;

&lt;p&gt;  Cool trick. Query select s, avg&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/information.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; over (partition by d, b) from over100k; has ~96K unique values for (b,d). It used to take ~35 minutes finishes in less than 3 minutes after this patch. Running tests now, will commit if tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D9525&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9525&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  partition-reuse&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, hbutani&lt;/p&gt;</comment>
                            <comment id="13607207" author="ashutoshc" created="Wed, 20 Mar 2013 03:07:46 +0000"  >&lt;p&gt;Committed to branch. Thanks, Harish!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12574371" name="HIVE-4202.D9525.1.patch" size="7028" author="phabricator@reviews.facebook.net" created="Tue, 19 Mar 2013 17:51:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Mar 2013 17:51:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318268</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ix0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318609</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-4203] column AND 1 expression causes internal error</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4203</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;create table t(a int);&lt;br/&gt;
select a AND 1 from t;&lt;/p&gt;

&lt;p&gt;expected result: query runs or produces an error message for type compatibility issues.&lt;/p&gt;

&lt;p&gt;actual result:&lt;/p&gt;


&lt;p&gt;FAILED: Hive Internal Error: java.lang.ClassCastException(org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableIntObjectI&lt;br/&gt;
nspector cannot be cast to org.apache.hadoop.hive.serde2.objectinspector.primitive.BooleanObjectInspector)&lt;br/&gt;
java.lang.ClassCastException: org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableIntObjectInspector cannot be cast to o&lt;br/&gt;
rg.apache.hadoop.hive.serde2.objectinspector.primitive.BooleanObjectInspector&lt;br/&gt;
        at org.apache.hadoop.hive.ql.udf.generic.GenericUDFOPAnd.initialize(GenericUDFOPAnd.java:44)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.udf.generic.GenericUDF.initializeAndFoldConstants(GenericUDF.java:98)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.plan.ExprNodeGenericFuncDesc.newInstance(ExprNodeGenericFuncDesc.java:214)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$DefaultExprProcessor.getXpathOrFuncExprNodeDesc(TypeCheckProcFactory&lt;br/&gt;
.java:767)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$DefaultExprProcessor.process(TypeCheckProcFactory.java:888)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:89)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:88)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.walk(DefaultGraphWalker.java:125)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:102)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:165)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:7755)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2310)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2112)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPostGroupByBodyPlan(SemanticAnalyzer.java:6165)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:6136)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:6762)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7531)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:244)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:433)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:338)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:913)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:412)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:699)&lt;br/&gt;
        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:563)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 8, hive-monarch development environment, HDInsight&lt;/p&gt;</environment>
        <key id="12637832">HIVE-4203</key>
            <summary>column AND 1 expression causes internal error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ehans">Eric Hanson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Mar 2013 21:49:37 +0000</created>
                <updated>Tue, 19 Mar 2013 21:51:24 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13606884" author="ehans" created="Tue, 19 Mar 2013 21:51:24 +0000"  >&lt;p&gt;&quot;select a OR 1 from t&quot; produces a similar error&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318312</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ixa7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318653</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>
