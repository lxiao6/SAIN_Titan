<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:21:44 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-9-12+AND+created+%3C%3D+2012-9-19+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="34" total="34"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-3451] map-reduce jobs does not work for a partition containing sub-directories</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3451</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Consider the following test:&lt;/p&gt;




&lt;p&gt;&amp;#8211; The test verifies that sub-directories are supported for versions of hadoop&lt;br/&gt;
&amp;#8211; where &lt;a href=&quot;https://issues.apache.org/jira/browse/MAPREDUCE-1501&quot; title=&quot;FileInputFormat to support multi-level/recursive directory listing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MAPREDUCE-1501&quot;&gt;&lt;del&gt;MAPREDUCE-1501&lt;/del&gt;&lt;/a&gt; is fixed. So, enable this test only for hadoop 23.&lt;br/&gt;
&amp;#8211; INCLUDE_HADOOP_MAJOR_VERSIONS(0.23)&lt;/p&gt;

&lt;p&gt;CREATE TABLE fact_daily(x int) PARTITIONED BY (ds STRING);&lt;br/&gt;
CREATE TABLE fact_tz(x int) PARTITIONED BY (ds STRING, hr STRING) &lt;br/&gt;
LOCATION &apos;pfile:${system:test.tmp.dir}/fact_tz&apos;;&lt;/p&gt;

&lt;p&gt;INSERT OVERWRITE TABLE fact_tz PARTITION (ds=&apos;1&apos;, hr=&apos;1&apos;)&lt;br/&gt;
SELECT key+11 FROM src WHERE key=484;&lt;/p&gt;

&lt;p&gt;ALTER TABLE fact_daily SET TBLPROPERTIES(&apos;EXTERNAL&apos;=&apos;TRUE&apos;);&lt;br/&gt;
ALTER TABLE fact_daily ADD PARTITION (ds=&apos;1&apos;)&lt;br/&gt;
LOCATION &apos;pfile:${system:test.tmp.dir}/fact_tz/ds=1&apos;;&lt;/p&gt;

&lt;p&gt;set mapred.input.dir.recursive=true;&lt;br/&gt;
SELECT * FROM fact_daily WHERE ds=&apos;1&apos;;&lt;/p&gt;

&lt;p&gt;SELECT count(1) FROM fact_daily WHERE ds=&apos;1&apos;;&lt;/p&gt;



&lt;p&gt;Say, the above file was named: recursive_dir.q&lt;/p&gt;

&lt;p&gt;and we ran the test for hadoop 23:&lt;/p&gt;

&lt;p&gt;by executing:&lt;/p&gt;

&lt;p&gt;ant test -Dhadoop.mr.rev=23 -Dtest.print.classpath=true -Dhadoop.version=2.0.0-alpha -Dhadoop.security.version=2.0.0-alpha -Dtestcase=TestCliDriver -Dqfile=recursive_dir.q&lt;/p&gt;

&lt;p&gt;The select * from the table works fine, but the last command does not work&lt;br/&gt;
since it requires a map-reduce job.&lt;/p&gt;

&lt;p&gt;This will prevent other features which are creating sub-directories to add&lt;br/&gt;
any tests which requires a map-reduce job. The work-around is to issue&lt;br/&gt;
queries which do not require map-reduce jobs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607176">HIVE-3451</key>
            <summary>map-reduce jobs does not work for a partition containing sub-directories</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Sep 2012 05:38:21 +0000</created>
                <updated>Sun, 31 Mar 2013 01:25:09 +0000</updated>
                            <resolved>Tue, 25 Sep 2012 04:17:39 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13462209" author="gangtimliu" created="Mon, 24 Sep 2012 22:36:31 +0000"  >&lt;p&gt;ready for review &lt;a href=&quot;https://reviews.facebook.net/D5637&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5637&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13462434" author="namit" created="Tue, 25 Sep 2012 04:17:24 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13462435" author="namit" created="Tue, 25 Sep 2012 04:17:39 +0000"  >&lt;p&gt;Committed. Thanks Tim&lt;/p&gt;</comment>
                            <comment id="13462591" author="hudson" created="Tue, 25 Sep 2012 09:17:19 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1695 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1695/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1695/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3451&quot; title=&quot;map-reduce jobs does not work for a partition containing sub-directories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3451&quot;&gt;&lt;del&gt;HIVE-3451&lt;/del&gt;&lt;/a&gt; map-reduce jobs does not work for a partition containing sub-directories&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1389704)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1389704&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1389704&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/recursive_dir.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/recursive_dir.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548071" author="hudson" created="Wed, 9 Jan 2013 10:24:16 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3451&quot; title=&quot;map-reduce jobs does not work for a partition containing sub-directories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3451&quot;&gt;&lt;del&gt;HIVE-3451&lt;/del&gt;&lt;/a&gt; map-reduce jobs does not work for a partition containing sub-directories&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1389704)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1389704&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1389704&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/recursive_dir.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/recursive_dir.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550220" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:51 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12608940">HIVE-3506</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12599401">HIVE-3276</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12558843">HIVE-3073</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12610884">HIVE-3554</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12546399" name="HIVE-3451.patch" size="4393" author="gangtimliu" created="Mon, 24 Sep 2012 22:38:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 24 Sep 2012 22:36:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247238</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i088wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3452] Missing column causes null pointer exception</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3452</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;select * from src where src = &apos;alkdfaj&apos;;&lt;br/&gt;
FAILED: SemanticException null&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607340">HIVE-3452</key>
            <summary>Missing column causes null pointer exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jeanxu">Jean Xu</assignee>
                                    <reporter username="jeanxu">Jean Xu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Sep 2012 21:16:46 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:53 +0000</updated>
                            <resolved>Sat, 15 Sep 2012 15:14:46 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13454441" author="jeanxu" created="Wed, 12 Sep 2012 22:24:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5361&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5361&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13454628" author="namit" created="Thu, 13 Sep 2012 04:26:30 +0000"  >&lt;p&gt;comments on phabricator.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jeanxu&quot; class=&quot;user-hover&quot; rel=&quot;jeanxu&quot;&gt;Jean Xu&lt;/a&gt;, please click on &apos;submit patch&apos; if you want others to review your patch&lt;/p&gt;</comment>
                            <comment id="13455044" author="jeanxu" created="Thu, 13 Sep 2012 17:28:45 +0000"  >&lt;p&gt;&lt;br/&gt;
The code change is in &lt;a href=&quot;https://reviews.facebook.net/D5361&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5361&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13455579" author="namit" created="Fri, 14 Sep 2012 05:09:33 +0000"  >&lt;p&gt;minor comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13456323" author="namit" created="Sat, 15 Sep 2012 05:12:24 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="13456424" author="namit" created="Sat, 15 Sep 2012 15:14:46 +0000"  >&lt;p&gt;Committed. Thanks Jean&lt;/p&gt;</comment>
                            <comment id="13456500" author="hudson" created="Sat, 15 Sep 2012 22:24:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1671 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1671/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1671/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3452&quot; title=&quot;Missing column causes null pointer exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3452&quot;&gt;&lt;del&gt;HIVE-3452&lt;/del&gt;&lt;/a&gt; Missing column causes null pointer exception&lt;br/&gt;
(Jean Xu via namit) (Revision 1385078)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1385078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1385078&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_select_column.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_select_column_with_subquery.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_select_column_with_tablename.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_select_column.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_select_column_with_subquery.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_select_column_with_tablename.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548070" author="hudson" created="Wed, 9 Jan 2013 10:24:16 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3452&quot; title=&quot;Missing column causes null pointer exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3452&quot;&gt;&lt;del&gt;HIVE-3452&lt;/del&gt;&lt;/a&gt; Missing column causes null pointer exception&lt;br/&gt;
(Jean Xu via namit) (Revision 1385078)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1385078&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1385078&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_select_column.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_select_column_with_subquery.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_select_column_with_tablename.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_select_column.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_select_column_with_subquery.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalid_select_column_with_tablename.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550228" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:53 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Sep 2012 04:26:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259251</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124502</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>when a table name is used as column in select, it will get null exception.&lt;br/&gt;
TypeCheckProcFactory.java has been changed to catch this case, and throw a&lt;br/&gt;
SemanticException with possible column names.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3453] Hive query persistence / auditing</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3453</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently our Hive warehouse is open to querying from any of our business analysts and we pool them by user in the fair scheduler to prevent someone from hogging cluster resources.  We are looking to start summarizing details of their queries so that we can view common questions they ask in order find ways to optimize our tables / submission process. One thought was to patch the Hive client / thrift server to write out the submitted queries to the DB that our metastore is on and from there we can perform some simple analytics to roll up a view of how they use the warehouse over time. This doesn&apos;t seem like it would be too difficult of an effort as the needed infrastructure is already in place but any suggestions or comments on this would be greatly appreciated.&lt;/p&gt;

&lt;p&gt;I am leaving the implementation notes pretty blank as I would like to see what others in the community who have more experience in this project would recommend. &lt;/p&gt;

&lt;p&gt;Additional information from a user@hive.apache.org response:&lt;br/&gt;
Hey Matt,&lt;/p&gt;

&lt;p&gt;We did something similar at Facebook to capture the information on who ran what on the clusters and dumped that out to an audit db. Specifically we were using Hive post execution hooks to achive that&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://hive.apache.org/docs/r0.7.0/api/org/apache/hadoop/hive/ql/hooks/PostExecute.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hive.apache.org/docs/r0.7.0/api/org/apache/hadoop/hive/ql/hooks/PostExecute.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;this gets called from the hive cli mostly.&lt;/p&gt;

&lt;p&gt;I am not sure if the particular hook that we had implemented was contributed back, but this could potentially be a cool contribution &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Ashish&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607354">HIVE-3453</key>
            <summary>Hive query persistence / auditing</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mgoeke">Matt Goeke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Sep 2012 22:33:56 +0000</created>
                <updated>Wed, 12 Sep 2012 22:34:23 +0000</updated>
                                                                            <component>CLI</component>
                    <component>Logging</component>
                    <component>Thrift API</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247695</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08oyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3454] Problem with CAST(BIGINT as TIMESTAMP)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3454</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Ran into an issue while working with timestamp conversion.&lt;br/&gt;
CAST(unix_timestamp() as TIMESTAMP) should create a timestamp for the current time from the BIGINT returned by unix_timestamp()&lt;/p&gt;

&lt;p&gt;Instead, however, a 1970-01-16 timestamp is returned.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607355">HIVE-3454</key>
            <summary>Problem with CAST(BIGINT as TIMESTAMP)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aihuaxu">Aihua Xu</assignee>
                                    <reporter username="rharris">Ryan Harris</reporter>
                        <labels>
                            <label>newbie</label>
                            <label>newdev</label>
                            <label>patch</label>
                    </labels>
                <created>Wed, 12 Sep 2012 22:40:05 +0000</created>
                <updated>Mon, 23 Nov 2015 19:26:30 +0000</updated>
                            <resolved>Tue, 24 Mar 2015 18:24:02 +0000</resolved>
                                    <version>0.8.0</version>
                    <version>0.8.1</version>
                    <version>0.9.0</version>
                    <version>0.10.0</version>
                    <version>0.11.0</version>
                    <version>0.12.0</version>
                    <version>0.13.0</version>
                    <version>0.13.1</version>
                                    <fixVersion>1.2.0</fixVersion>
                                    <component>Types</component>
                    <component>UDF</component>
                        <due></due>
                            <votes>6</votes>
                                    <watches>20</watches>
                                                                <comments>
                            <comment id="13457329" author="parepidemos" created="Mon, 17 Sep 2012 21:11:49 +0000"  >&lt;p&gt;Additional information/workaround:&lt;/p&gt;

&lt;p&gt;This looks like a nanosecond bug similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3090&quot; title=&quot;Timestamp type values not having nano-second part breaks row&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3090&quot;&gt;&lt;del&gt;HIVE-3090&lt;/del&gt;&lt;/a&gt;, so I tried this:&lt;/p&gt;

&lt;p&gt;cast((unix_timestamp() * 1.0) as TIMESTAMP)&lt;/p&gt;

&lt;p&gt;and got this:&lt;/p&gt;

&lt;p&gt;2012-09-17 14:49:39.0&lt;/p&gt;

&lt;p&gt;Which is what it should be, but I would have expected this to be handled without the &quot;conversion&quot;.&lt;/p&gt;

&lt;p&gt;cast(round(unix_timestamp(),3) as TIMESTAMP)&lt;/p&gt;

&lt;p&gt;Will also work.&lt;/p&gt;
</comment>
                            <comment id="13463534" author="navis" created="Wed, 26 Sep 2012 05:22:33 +0000"  >&lt;p&gt;unix_timestamp() returns seconds but Timestamp expects millisecond value if input type is integer or long. I think you should multiply the value with 1000 for proper converting.&lt;/p&gt;</comment>
                            <comment id="13463545" author="rharris" created="Wed, 26 Sep 2012 05:42:30 +0000"  >&lt;p&gt;These are both valid options to work around the bug.  However from the Hive wiki:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/Hive/languagemanual-types.html#LanguageManualTypes-Timestamps&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/Hive/languagemanual-types.html#LanguageManualTypes-Timestamps&lt;/a&gt;&lt;br/&gt;
&quot;Supports traditional UNIX timestamp with optional nanosecond precision.&lt;/p&gt;

&lt;p&gt;Supported conversions:&lt;/p&gt;

&lt;p&gt;Integer numeric types: Interpreted as UNIX timestamp in seconds&quot;&lt;/p&gt;


&lt;p&gt;The documentation is stating that TIMESTAMP is &lt;b&gt;supposed&lt;/b&gt; to accept integer numeric types.  Nanosecond is optional.&lt;/p&gt;

&lt;p&gt;I assume that the documentation in the wiki is the intended behavior.  It isn&apos;t working as described in the wiki, that is why I have marked this as a bug.&lt;/p&gt;</comment>
                            <comment id="13465385" author="navis" created="Fri, 28 Sep 2012 05:46:05 +0000"  >&lt;p&gt;You are right. It&apos;s not consistent with description in wiki. This should be fixed ASAP but backward compatibility also be considered. I don&apos;t know how to resolve.&lt;/p&gt;</comment>
                            <comment id="13544647" author="rharris" created="Sat, 5 Jan 2013 09:51:42 +0000"  >&lt;p&gt;After commenting on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3822&quot; title=&quot;Casting from double to timestamp type seems inconsistent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3822&quot;&gt;HIVE-3822&lt;/a&gt; I&apos;ve realized that even with this quasi-workaround, the cast(int/float/double as timestamp) is fundamentally broken.&lt;br/&gt;
When an epoch (assumed GMT) timestamp is passed through the cast() function it is converted to a different time based on the local timezone...this doesn&apos;t happen if the timestamp is cast from a formatted date string....this behavior is inconsistent.&lt;/p&gt;

&lt;p&gt;Furthermore, when attempting to use the to_utc_timestamp() function with a epoch date value the implicit cast() poisons the result of the timestamp that is stored by to_utc_timestamp()&lt;/p&gt;

&lt;p&gt;Something is definitely wrong.&lt;/p&gt;</comment>
                            <comment id="13599548" author="dinedal" created="Tue, 12 Mar 2013 01:14:08 +0000"  >&lt;p&gt;Using java.sql.Date instead of java.util.Date because java.sql.Date implements a timezone agnostic method of representing timestamps (always UTC, which is what a unix epoch timestamp is defined as)&lt;/p&gt;</comment>
                            <comment id="13686330" author="ariforu" created="Tue, 18 Jun 2013 03:05:57 +0000"  >&lt;p&gt;I think a good approach would be to fix it in a way that it can work with both double and long values. This is what I did and works for me. Let me know what you think.&lt;/p&gt;

&lt;p&gt;In org.apache.hadoop.hive.serde2.objectinspector.primitive PrimitiveObjectInspectorUtils.java edit getTimestamp method and convert the long object to double.&lt;/p&gt;

&lt;p&gt;getTimestamp(Object o, PrimitiveObjectInspector oi) &lt;/p&gt;

&lt;p&gt;case LONG:&lt;br/&gt;
      //Timestamp conversion from LONG is messy. Converting to double.&lt;br/&gt;
      long tsLongPrimitive=((LongObjectInspector) oi).get(o);&lt;br/&gt;
      result =TimestampWritable.doubleToTimestamp(tsLongPrimitive*1.0);&lt;br/&gt;
      break;&lt;/p&gt;</comment>
                            <comment id="13686834" author="ariforu" created="Tue, 18 Jun 2013 15:35:55 +0000"  >&lt;p&gt;Adding a patch for fixing the issue. Apply to trunk&apos;s serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java.&lt;/p&gt;</comment>
                            <comment id="13686845" author="ariforu" created="Tue, 18 Jun 2013 15:48:01 +0000"  >&lt;p&gt;Query : select cast(unix_timestamp()*1.0 as timestamp) , cast(unix_timestamp() as timestamp) from mycrime limit 1;&lt;/p&gt;

&lt;p&gt;Output(After patching with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3454&quot; title=&quot;Problem with CAST(BIGINT as TIMESTAMP)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3454&quot;&gt;&lt;del&gt;HIVE-3454&lt;/del&gt;&lt;/a&gt;.patch) - both returns same and correct timestamps.&lt;/p&gt;

&lt;p&gt;2013-06-18 11:45:04	2013-06-18 11:45:04&lt;/p&gt;</comment>
                            <comment id="13850867" author="kostiantyn" created="Tue, 17 Dec 2013 20:39:19 +0000"  >&lt;p&gt;Hi there, when is this patch going to be applied to trunk? it seems it&apos;s enough important issue to be included&lt;/p&gt;</comment>
                            <comment id="13850993" author="hiveqa" created="Tue, 17 Dec 2013 22:15:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12588389/HIVE-3454.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12588389/HIVE-3454.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4789 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/671/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/671/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/671/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/671/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12588389&lt;/p&gt;</comment>
                            <comment id="13988610" author="ariforu" created="Sat, 3 May 2014 07:26:16 +0000"  >&lt;p&gt;Could this patch be checked in?&lt;/p&gt;</comment>
                            <comment id="14107602" author="bigdatamoore" created="Fri, 22 Aug 2014 22:18:08 +0000"  >&lt;p&gt;I see that this is still an issue.  I found this today when trying to convert from integer to timestamp.  In order to get this to work I had to add milliseconds (3 digits after the unix epoch) and also use a bigint intstead of int.  &lt;/p&gt;

&lt;p&gt;I am using version 0.12.  Any idea when this will be put in the main trunk?&lt;/p&gt;</comment>
                            <comment id="14152792" author="gvramana" created="Tue, 30 Sep 2014 04:46:56 +0000"  >&lt;p&gt;I am using 0.12 release still this problems exists. Inconsistancy in casting.&lt;/p&gt;

&lt;p&gt;select cast(cast(cast(1000 as INT) as TIMESTAMP) as INT) from src limit 1;                       result:  1&lt;br/&gt;
select cast(cast(cast(1000 as BIGINT) as TIMESTAMP) as BIGINT) from src limit 1;           result:  1&lt;br/&gt;
select cast(cast(cast(1000.0 as DOUBLE) as TIMESTAMP) as DOUBLE) from src limit 1;   result:  1000.0&lt;/p&gt;

&lt;p&gt;converting int/bigint/tinyint to timestamp and back to int/bigint/tinyint changes the value.&lt;br/&gt;
 int/bigint/tinyint/boolean conversion to timestamp, should take input in seconds, just like double.&lt;/p&gt;

&lt;p&gt;Issue raised in sep/2012, still problem persists. This requires a fix.&lt;/p&gt;</comment>
                            <comment id="14310914" author="aihuaxu" created="Sat, 7 Feb 2015 20:25:28 +0000"  >&lt;p&gt;Update the primitive types including boolean, byte, short ,int, long to be consistently represent the time in seconds when we convert them into timestamp.&lt;/p&gt;</comment>
                            <comment id="14311104" author="hiveqa" created="Sun, 8 Feb 2015 04:14:16 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12697289/HIVE-3454.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12697289/HIVE-3454.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 7526 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCustomAuthentication - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_decimal_date
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_timestamp
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorization_decimal_date
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vectorized_casts
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_decimal_date
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2705/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2705/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2705/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2705/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2705/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2705/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12697289 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14312618" author="aihuaxu" created="Mon, 9 Feb 2015 18:51:05 +0000"  >&lt;p&gt;Unit tests baseline updated.&lt;/p&gt;</comment>
                            <comment id="14313632" author="hiveqa" created="Tue, 10 Feb 2015 05:48:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12697536/HIVE-3454.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12697536/HIVE-3454.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 7541 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2732/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2732/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2732/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2732/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2732/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2732/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12697536 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14314342" author="aihuaxu" created="Tue, 10 Feb 2015 15:33:30 +0000"  >&lt;p&gt;+&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; Can you take a look at the code? &lt;/p&gt;</comment>
                            <comment id="14314474" author="brocknoland" created="Tue, 10 Feb 2015 17:09:16 +0000"  >&lt;p&gt;Seems reasonable to me! &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;Sergio Pe&#241;a&lt;/a&gt; could you look as you have more experience here than I do.&lt;/p&gt;</comment>
                            <comment id="14314699" author="jdere" created="Tue, 10 Feb 2015 19:12:03 +0000"  >&lt;p&gt;We may need to mark this as an incompatible change - folks have been using this behavior (inconsistent as it is) for a while now.&lt;br/&gt;
Also, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9298&quot; title=&quot;Support reading alternate timestamp formats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9298&quot;&gt;&lt;del&gt;HIVE-9298&lt;/del&gt;&lt;/a&gt; added TimestampParser capable of interpreting numeric text input as milliseconds since Unix epoch. Should we change this to seconds to make it consistent with the changes done here?&lt;/p&gt;</comment>
                            <comment id="14314773" author="aihuaxu" created="Tue, 10 Feb 2015 19:49:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt; Thanks for pointing that out. I marked it as incompatible change (of course technically it&apos;s not incompatible). &lt;br/&gt;
Regarding the TimestampParser, since MillisDateFormatParser is just one of the parser to support, I think it should be good without any change. Probably we can support SecondsDateFormatParser in the future if it&apos;s necessary.&lt;/p&gt;</comment>
                            <comment id="14314780" author="brocknoland" created="Tue, 10 Feb 2015 19:53:01 +0000"  >&lt;p&gt;I hate new configuration...but if people are depending on this should we make the behavior change configurable?&lt;/p&gt;</comment>
                            <comment id="14314804" author="aihuaxu" created="Tue, 10 Feb 2015 20:04:46 +0000"  >&lt;p&gt;Me either and I feel a new configuration may make things more complicated. From the comments above, actually the users are more using workarounds (converting int/bigint to float/double first before interpreting it as timestamp). My opinion is not to add a new configuration and keep things simple. &lt;/p&gt;</comment>
                            <comment id="14314805" author="aihuaxu" created="Tue, 10 Feb 2015 20:04:49 +0000"  >&lt;p&gt;Me either and I feel a new configuration may make things more complicated. From the comments above, actually the users are more using workarounds (converting int/bigint to float/double first before interpreting it as timestamp). My opinion is not to add a new configuration and keep things simple. &lt;/p&gt;</comment>
                            <comment id="14316521" author="spena" created="Wed, 11 Feb 2015 16:56:48 +0000"  >&lt;p&gt;It looks very good.&lt;/p&gt;

&lt;p&gt;I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;Aihua Xu&lt;/a&gt;, if users were using workarounds, then they shouldn&apos;t have any problem with this change, as float/double would work fine.The only thing is what if users are using integer values to get the timestamp? If they know that they need to pass milliseconds, they they could have these values in their queries; and now this change would give them unexpected values. However, the wiki states that seconds is the allowed number, so these users are using it incorrectly.&lt;/p&gt;

&lt;p&gt;I agree with this change so that it fixes the bug, and complies with the wiki page.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14324973" author="aihuaxu" created="Tue, 17 Feb 2015 22:00:58 +0000"  >&lt;p&gt;Discussed with Brock offline, seems more reasonable to make it configurable so that we won&apos;t break existing customers. Set &quot;int.timestamp.conversion.in.seconds&quot; to true in hive-site.xml to make the behavior consistent. We will gradually switch to the seconds interpretation.&lt;/p&gt;</comment>
                            <comment id="14325250" author="jdere" created="Wed, 18 Feb 2015 01:13:24 +0000"  >&lt;p&gt;Can you make the naming of the HiveConf parameter more consistent with the rest of the HiveConf variable names (starts with &quot;hive.&quot;).&lt;/p&gt;</comment>
                            <comment id="14325252" author="hiveqa" created="Wed, 18 Feb 2015 01:13:54 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12699343/HIVE-3454.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12699343/HIVE-3454.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 7553 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2817/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2817/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2817/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2817/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2817/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2817/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12699343 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14325867" author="aihuaxu" created="Wed, 18 Feb 2015 13:57:12 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt; for reviewing. Just updated the parameter name.&lt;/p&gt;</comment>
                            <comment id="14325868" author="aihuaxu" created="Wed, 18 Feb 2015 13:57:14 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt; for reviewing. Just updated the parameter name.&lt;/p&gt;</comment>
                            <comment id="14326065" author="hiveqa" created="Wed, 18 Feb 2015 15:46:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12699474/HIVE-3454.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12699474/HIVE-3454.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 7557 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2820/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2820/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2820/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2820/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2820/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2820/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12699474 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14326137" author="aihuaxu" created="Wed, 18 Feb 2015 16:26:51 +0000"  >&lt;p&gt;The test failure is unrelated to the change.&lt;/p&gt;</comment>
                            <comment id="14326158" author="brocknoland" created="Wed, 18 Feb 2015 16:39:53 +0000"  >&lt;p&gt;Have we tested this as part of an MR job? I don&apos;t think that the hive-site.xml is shipped as part of MR jobs. If that is true, how about we do as follows:&lt;/p&gt;

&lt;p&gt;1) Add method &lt;tt&gt;public static void initialize(Configuration)&lt;/tt&gt; to &lt;tt&gt;TimestampWritable&lt;/tt&gt;&lt;br/&gt;
2) Call this method from &lt;tt&gt;AbstractSerDe.initialize&lt;/tt&gt; which should be called, with configuration, in all the right places.&lt;br/&gt;
3) In &lt;tt&gt;TimestampWritable.initialize&lt;/tt&gt; you can use the static &lt;tt&gt;HiveConf.getBoolVar&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;a bit kludgy but it should work. This all assuming the current impl doesn&apos;t work.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&quot;timestamp conversion.&quot;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think we need a space after this.&lt;/p&gt;</comment>
                            <comment id="14326352" author="aihuaxu" created="Wed, 18 Feb 2015 18:43:29 +0000"  >&lt;p&gt;Yeah. I have tested with an MR job and it picks up the hive-site.xml without the problem with hiveserver2 or CLI.&lt;/p&gt;</comment>
                            <comment id="14327096" author="jdere" created="Thu, 19 Feb 2015 08:06:00 +0000"  >&lt;p&gt;If this config setting is initialized once in a static block, then for hiveserver2 all subsequent sessions would be stuck with the initial setting regardless of the config settings of the session, right? During the MR jobs, would we then see the sec/msec behavior flip to use the session&apos;s config settings since the static variable is being initialized for the first time in MR task?&lt;/p&gt;</comment>
                            <comment id="14329011" author="aihuaxu" created="Fri, 20 Feb 2015 14:57:30 +0000"  >&lt;p&gt;Yeah. Thanks for pointing that out. I also notice that problem. We won&apos;t be able to override during the session with that approach and also we could have problem if we run in the real cluster as Brock pointed out. I&apos;m trying a different approach. &lt;/p&gt;</comment>
                            <comment id="14329503" author="aihuaxu" created="Fri, 20 Feb 2015 20:30:02 +0000"  >&lt;p&gt;Read the configuration from passed in Configuration object from the initialize() in AbstractSerDe class. Since AvroSerDe overrides the function and OrcSerDe doesn&apos;t inherit from AbstractSerDe right now, added in these two classes as well. It will support the session override.&lt;/p&gt;</comment>
                            <comment id="14329802" author="hiveqa" created="Sat, 21 Feb 2015 00:07:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12699952/HIVE-3454.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12699952/HIVE-3454.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 7568 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_percentile_approx_23
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2836/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2836/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2836/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2836/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2836/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2836/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12699952 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14329857" author="brocknoland" created="Sat, 21 Feb 2015 00:44:28 +0000"  >&lt;p&gt;+1 LGTM&lt;/p&gt;

&lt;p&gt;best we can do in this situation.&lt;/p&gt;</comment>
                            <comment id="14329876" author="jdere" created="Sat, 21 Feb 2015 01:00:47 +0000"  >&lt;p&gt;TimestampWritable.intToTimeStampInSeconds is still static, which means we could run into issues in HiveServer2 with concurrent queries. Maybe this should be thread-local.&lt;br/&gt;
Hmm, yeah I&apos;m not sure where the best place is to call TimestampWritable.initialize() .. I was going to recommend Driver.compile(), though we would also have to add it to MR task initialization somewhere if there is such a place.&lt;/p&gt;</comment>
                            <comment id="14333554" author="aihuaxu" created="Mon, 23 Feb 2015 17:34:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt; I spent some time looking into the parallel in Hive. Hive can handle queries in parallel or a complex query breaking into subtasks executed in parallel. In both cases, Hive hands over the multiple jobs to hadoop and those jobs won&apos;t affect each other. I have simulated the cases by debugging them from different sessions and it works as expected. &lt;/p&gt;</comment>
                            <comment id="14335874" author="aihuaxu" created="Wed, 25 Feb 2015 02:23:30 +0000"  >&lt;p&gt;The unit test failure is unrelated to the change. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt; More comments on my input above?&lt;/p&gt;</comment>
                            <comment id="14335946" author="jdere" created="Wed, 25 Feb 2015 03:49:06 +0000"  >&lt;p&gt;I guess the only possible issue here might be for expressions that get evaluated during compilation as opposed to during the tasks, something like cast(0 as timestamp) which would get evaluated by constant folding. Not sure if there is any other possible work/tasks that happen locally in-process.&lt;/p&gt;</comment>
                            <comment id="14336537" author="aihuaxu" created="Wed, 25 Feb 2015 14:22:55 +0000"  >&lt;p&gt;If the job runs locally in-process, like cast(0 as timestamp), SerDe is still used for intermediate output and thus the property still gets set and works fine.  &lt;/p&gt;</comment>
                            <comment id="14337027" author="jdere" created="Wed, 25 Feb 2015 19:27:26 +0000"  >&lt;p&gt;If concurrent compilation is possible, then there is still the possibility of multiple threads setting/accessing the same static variable and messing up the config setting for the other threads. You&apos;re adding this to TimestampWritable - there is even a member in that class that was changed to thread-local as a result of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4516&quot; title=&quot;Fix concurrency bug in serde/src/java/org/apache/hadoop/hive/serde2/io/TimestampWritable.java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4516&quot;&gt;&lt;del&gt;HIVE-4516&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14340221" author="aihuaxu" created="Fri, 27 Feb 2015 14:57:22 +0000"  >&lt;p&gt;I see your points that multiple threads run in single mapper or reducer access that class and that may cause concurrency issue. I will try to call the initialize() from Mapper and Reducer&apos;s initialization function to make sure it initializes once. And also Driver.compile() (I will check what would be the good place for the local mode). &lt;/p&gt;</comment>
                            <comment id="14343913" author="aihuaxu" created="Mon, 2 Mar 2015 22:34:47 +0000"  >&lt;p&gt;Updated to initialize for local mode in Driver.runInternal() and configure() of ExecMapper and ExecReducer.&lt;/p&gt;</comment>
                            <comment id="14344253" author="hiveqa" created="Tue, 3 Mar 2015 01:27:04 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12701998/HIVE-3454.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12701998/HIVE-3454.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 7580 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2921/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2921/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2921/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/2921/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2921/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-2921/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12701998 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14345766" author="aihuaxu" created="Tue, 3 Mar 2015 21:27:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt; Can you review the latest patch? Right now it should be set once for each Mapper and Reducer.&lt;/p&gt;</comment>
                            <comment id="14346047" author="jdere" created="Wed, 4 Mar 2015 00:04:45 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Can you make intToTimeStampInSeconds thread-local?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;According to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;Vikram Dixit K&lt;/a&gt;, Tez uses separate classes, the equivalent to ExecMapper/ExecReducer are MapRecordProcessor/ReduceRecordProcessor. It looks like Spark also has its own equivalents (SparkMapRecordHandler/SparkMapReduceHandler). If you want we can defer those changes and open a follow-up Jira to do that work.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14346115" author="aihuaxu" created="Wed, 4 Mar 2015 00:40:55 +0000"  >&lt;p&gt;#Actually we don&apos;t want it to be thread-local since we want all threads, e.g, within Mapper to have the same settings. If we set to be thread-local, the threads within the same mapper which don&apos;t set intToTimeStampInSeconds will have incorrect behaviors. Of course, the original problem was that we can&apos;t access hive properties from TimestampWritable class and we have to set from outside. &lt;/p&gt;

&lt;p&gt;#I will create a follow-up jira to do the rest (Tez and Spark). &lt;/p&gt;
</comment>
                            <comment id="14346156" author="sershe" created="Wed, 4 Mar 2015 01:14:14 +0000"  >&lt;p&gt;Please don&apos;t use the static intToTimeStampInSeconds, it is not thread-safe&lt;/p&gt;</comment>
                            <comment id="14346184" author="jdere" created="Wed, 4 Mar 2015 01:31:52 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Actually we don&apos;t want it to be thread-local since we want all threads, e.g, within Mapper to have the same settings. If we set to be thread-local, the threads within the same mapper which don&apos;t set intToTimeStampInSeconds will have incorrect behaviors. Of course, the original problem was that we can&apos;t access hive properties from TimestampWritable class and we have to set from outside.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Asking around a bit about &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7926&quot; title=&quot;long-lived daemons for query fragment execution, I/O and caching&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7926&quot;&gt;&lt;del&gt;HIVE-7926&lt;/del&gt;&lt;/a&gt;, it sounds like LLAP will potentially have multiple queries running at the same time in different threads, which would make a single static variable problematic. It also sounds like each thread should in theory have the equivalent of something like ExecMapper.configure() where thread-local context is initialized, so I think that any threads running map/reduce work should have an opportunity to set intToTimeStampInSeconds. I would think that things would be similar for Spark as well, though someone with more familiarity with Hive-Spark execution would be better suited to answer that question.&lt;/p&gt;</comment>
                            <comment id="14346302" author="brocknoland" created="Wed, 4 Mar 2015 03:07:56 +0000"  >&lt;p&gt;HOS won&apos;t have this issue as the executors are tied to a user session. I think we should commit the patch as is and create a follow-up to address the issue with LLAP.&lt;/p&gt;</comment>
                            <comment id="14346318" author="jdere" created="Wed, 4 Mar 2015 03:23:45 +0000"  >&lt;p&gt;I&apos;m willing to defer that work to a different Jira. +1&lt;/p&gt;

&lt;p&gt;But I&apos;m surprised this would not be an issue with HOS as well .. can HOS have multiple threads doing work for more than one query at the same time? If so then HOS would get hit by this too since this setting is relying on a static variable.&lt;/p&gt;</comment>
                            <comment id="14346454" author="brocknoland" created="Wed, 4 Mar 2015 06:06:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;an HOS have multiple threads doing work for more than one query at the same time? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;no it cannot. HOS does do concurrent tasks but not across queries.&lt;/p&gt;</comment>
                            <comment id="14347042" author="aihuaxu" created="Wed, 4 Mar 2015 15:47:24 +0000"  >&lt;p&gt;Was not aware of LLAP. Seems reasonable to defer the issue since I guess LLAP needs to handle many other similar thread-safe problems like this. Correct me if I&apos;m wrong with the hadoop execution: currently (without LLAP) each ExecMapper and ExecReducer runs in its own JVM and it could spin off new threads. Each ExecMapper and ExecReducer handles one job from a query and we want those threads to share that same static variable value. &lt;/p&gt;

&lt;p&gt;With LLAP, if ExecMapper runs in a thread and doesn&apos;t spin off new threads, then thread-local would work, but we still need to handle current existing scenario. If new threads are spun off, thread-local actually won&apos;t work.&lt;/p&gt;</comment>
                            <comment id="14347540" author="sershe" created="Wed, 4 Mar 2015 20:38:15 +0000"  >&lt;p&gt;It just seems like a bad design pattern irrespective of LLAP. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; did some work in operator pipeline to clean up statics and such, he can comment. What is the real scope of this variable? It should be scoped accordingly. Even a singleton map would be better...&lt;/p&gt;</comment>
                            <comment id="14347582" author="hagleitn" created="Wed, 4 Mar 2015 21:20:25 +0000"  >&lt;p&gt;I agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt;. These statics aren&apos;t just a pain w/ multi threading, they also hurt if you just re-use the same jvm for multiple things. This can happen in tez, spark and if we decide to run stuff on the client/in hs2 afaik.&lt;/p&gt;

&lt;p&gt;More specifically though: This config should take effect at compile time. There is no reason to evaluate the condition for each value in each row at run time. We should be able to just install the appropriate udf when we compile the query, no?&lt;/p&gt;</comment>
                            <comment id="14347905" author="aihuaxu" created="Thu, 5 Mar 2015 01:25:40 +0000"  >&lt;p&gt;I agree that for non thread-safe statics, it will cause problems for multi-threading, while for constants or immutable objects, I guess you would share across threads rather than creating each copy for each thread. This is the case of a java primitive that we initialize once and use/read later by threads.&lt;/p&gt;

&lt;p&gt;Regarding UDF approach, I looked into that and it seems promising, while the current approach actually only evaluates the value when the type is timestamp. I guess it would be the same as UDF approach. &lt;/p&gt;</comment>
                            <comment id="14348023" author="aihuaxu" created="Thu, 5 Mar 2015 02:38:39 +0000"  >&lt;p&gt;Of course, since we need to support LLAP, UDF approach seems to be the right approach.&lt;/p&gt;</comment>
                            <comment id="14355763" author="aihuaxu" created="Tue, 10 Mar 2015 21:30:36 +0000"  >&lt;p&gt;I&apos;m looking into the solution &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; suggested.  I will break the tasks into separate tasks, so that this jira will focus on the right/simple behavior and a followup to focus on making it configurable so that we can easily revert in the future and also focus on that only.&lt;/p&gt;</comment>
                            <comment id="14355789" author="aihuaxu" created="Tue, 10 Mar 2015 21:48:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt; I created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9917&quot; title=&quot;After HIVE-3454 is done, make int to timestamp conversion configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9917&quot;&gt;&lt;del&gt;HIVE-9917&lt;/del&gt;&lt;/a&gt; for the followup change. I will mark the current change as incompatible. How does that sound?&lt;/p&gt;</comment>
                            <comment id="14358988" author="csun" created="Thu, 12 Mar 2015 17:10:41 +0000"  >&lt;p&gt;+1. Breaking into separate tasks makes sense to me, but it&apos;s better to have others&apos; inputs (I&apos;m no expert on this matter), before we commit this.&lt;/p&gt;</comment>
                            <comment id="14359144" author="jdere" created="Thu, 12 Mar 2015 18:39:05 +0000"  >&lt;p&gt;That&apos;s fine to break into separate tasks, we&apos;ll just need to make sure the followup config task gets in before the next release.&lt;/p&gt;</comment>
                            <comment id="14359383" author="jdere" created="Thu, 12 Mar 2015 20:54:47 +0000"  >&lt;p&gt;This has been marked patch available - which one should we be looking at - &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3454&quot; title=&quot;Problem with CAST(BIGINT as TIMESTAMP)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3454&quot;&gt;&lt;del&gt;HIVE-3454&lt;/del&gt;&lt;/a&gt;.3.patch?&lt;/p&gt;</comment>
                            <comment id="14359406" author="aihuaxu" created="Thu, 12 Mar 2015 21:02:44 +0000"  >&lt;p&gt;Yes. That&apos;s right. That patch is to change in the correct way to interpreting all the datatypes as seconds. Thanks for looking.&lt;/p&gt;</comment>
                            <comment id="14359502" author="jdere" created="Thu, 12 Mar 2015 21:57:11 +0000"  >&lt;p&gt;I&apos;ve just started looking at vectorized code .. looks like the corresponding change to make for the vectorized path will be in MathExpr.doubleToTimestamp(). CC&apos;ing &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mmccline&quot; class=&quot;user-hover&quot; rel=&quot;mmccline&quot;&gt;Matt McCline&lt;/a&gt; in case there is any more details to add here.&lt;/p&gt;</comment>
                            <comment id="14363355" author="aihuaxu" created="Mon, 16 Mar 2015 15:34:57 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt;. We need to correct MathErpr.longToTimestamp() function since we have inconsistency with the int/long type, Correct?&lt;/p&gt;</comment>
                            <comment id="14363650" author="jdere" created="Mon, 16 Mar 2015 18:22:19 +0000"  >&lt;p&gt;Whoops, yes it is longToTimestamp() that should be fixed, since the point of this is to correct the int/long to timestamp behavior.&lt;/p&gt;</comment>
                            <comment id="14371436" author="aihuaxu" created="Fri, 20 Mar 2015 15:10:39 +0000"  >&lt;p&gt;Made additional changes to vectorized functions and unit tests.&lt;/p&gt;</comment>
                            <comment id="14371672" author="hiveqa" created="Fri, 20 Mar 2015 17:23:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12705949/HIVE-3454.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12705949/HIVE-3454.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 7820 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark.testSparkQuery
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3091/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3091/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3091/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3091/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3091/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3091/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12705949 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14372089" author="jdere" created="Fri, 20 Mar 2015 20:58:27 +0000"  >&lt;p&gt;So this patch did not require any changes to MathExpr? How does the behavior of the vectorized cast change?&lt;/p&gt;</comment>
                            <comment id="14372840" author="aihuaxu" created="Sat, 21 Mar 2015 15:18:22 +0000"  >&lt;p&gt;Attached should be the right patch now. Maybe I uploaded the right patch first but I worried test run was not started (but seems the test was run against the right patch), so I uploaded again but the wrong one. Thanks for catching it. &lt;/p&gt;</comment>
                            <comment id="14372897" author="hiveqa" created="Sat, 21 Mar 2015 17:03:39 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12706162/HIVE-3454.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12706162/HIVE-3454.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 7819 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_between_in
org.apache.hadoop.hive.ql.exec.vector.expressions.TestVectorTypeCasts.testCastLongToTimestamp
org.apache.hive.jdbc.TestMultiSessionsHS2WithLocalClusterSpark.testSparkQuery
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3105/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3105/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3105/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3105/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3105/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3105/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12706162 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14374774" author="hiveqa" created="Sun, 22 Mar 2015 03:54:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12706362/HIVE-3454.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12706362/HIVE-3454.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 7819 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udaf_percentile_approx_23
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3107/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3107/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3107/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3107/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3107/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3107/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12706362 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14375082" author="aihuaxu" created="Sun, 22 Mar 2015 17:42:12 +0000"  >&lt;p&gt;This error is unrelated to the change and seems random. &lt;/p&gt;</comment>
                            <comment id="14376863" author="jdere" created="Mon, 23 Mar 2015 23:04:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14378321" author="csun" created="Tue, 24 Mar 2015 18:24:02 +0000"  >&lt;p&gt;Committed to trunk. Thanks Aihua!&lt;/p&gt;</comment>
                            <comment id="14378367" author="aihuaxu" created="Tue, 24 Mar 2015 18:53:02 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=csun&quot; class=&quot;user-hover&quot; rel=&quot;csun&quot;&gt;Chao Sun&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;Jason Dere&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14548997" author="sushanth" created="Mon, 18 May 2015 19:54:55 +0000"  >&lt;p&gt;This issue has been fixed and released as part of the 1.2.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                            <comment id="15014538" author="yhuai" created="Thu, 19 Nov 2015 22:23:23 +0000"  >&lt;p&gt;Seems this issue has not been fixe completely. I still see&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; SELECT CAST(CAST(-1200.0 AS TIMESTAMP) AS DOUBLE);
OK
-1200.0
Time taken: 0.047 seconds, Fetched: 1 row(s)
hive&amp;gt; SELECT CAST(CAST(-1200 AS TIMESTAMP) AS INT);
OK
-2
Time taken: 0.044 seconds, Fetched: 1 row(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15022402" author="aihuaxu" created="Mon, 23 Nov 2015 16:29:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yhuai&quot; class=&quot;user-hover&quot; rel=&quot;yhuai&quot;&gt;Yin Huai&lt;/a&gt; Which version are you running on?  I tried on the latest and it seems to be fine. &lt;/p&gt;</comment>
                            <comment id="15022420" author="yhuai" created="Mon, 23 Nov 2015 16:37:43 +0000"  >&lt;p&gt;I was using 1.2.1. &lt;/p&gt;</comment>
                            <comment id="15022785" author="aihuaxu" created="Mon, 23 Nov 2015 19:17:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yhuai&quot; class=&quot;user-hover&quot; rel=&quot;yhuai&quot;&gt;Yin Huai&lt;/a&gt; In 1.2.1, you need to &lt;tt&gt;set hive.int.timestamp.conversion.in.seconds=true;&lt;/tt&gt; to get the correct behavior, see &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9917&quot; title=&quot;After HIVE-3454 is done, make int to timestamp conversion configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9917&quot;&gt;&lt;del&gt;HIVE-9917&lt;/del&gt;&lt;/a&gt;.  We kept the existing behavior for backward compatibility. In 2.0.0, we default   hive.int.timestamp.conversion.in.seconds to true. &lt;/p&gt;</comment>
                            <comment id="15022804" author="yhuai" created="Mon, 23 Nov 2015 19:26:30 +0000"  >&lt;p&gt;OK. Thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12624690">HIVE-3822</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12842350">HIVE-11168</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12780996">HIVE-9917</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12573223" name="HIVE-3454.1.patch.txt" size="547" author="dinedal" created="Tue, 12 Mar 2013 01:14:52 +0000"/>
                            <attachment id="12706362" name="HIVE-3454.3.patch" size="309027" author="aihuaxu" created="Sun, 22 Mar 2015 02:01:00 +0000"/>
                            <attachment id="12588389" name="HIVE-3454.patch" size="941" author="ariforu" created="Tue, 18 Jun 2013 15:35:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Sep 2012 21:11:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259252</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lns7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124503</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>The behaviors of converting from BOOLEAN/TINYINT/SMALLINT/INT/BIGINT and converting from FLOAT/DOUBLE to TIMESTAMP were inconsistent. The value of a BOOLEAN/TINYINT/SMALLINT/INT/BIGINT was treated as the time in milliseconds while  the value of a FLOAT/DOUBLE was treated as the time in seconds. After the change, all the types during the conversion are interpreted in seconds.&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>timestamp</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3455] ANSI CORR(X,Y) is incorrect</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3455</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A simple test with 2 collinear vectors returns a wrong result.&lt;br/&gt;
The problem is the merge of variances, file:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java?revision=1157222&amp;amp;view=markup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCorrelation.java?revision=1157222&amp;amp;view=markup&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;lines:&lt;br/&gt;
347: myagg.xvar += xvarB + (xavgA - xavgB) * (xavgA - xavgB) * myagg.count;&lt;br/&gt;
348: myagg.yvar += yvarB + (yavgA - yavgB) * (yavgA - yavgB) * myagg.count;&lt;/p&gt;

&lt;p&gt;the correct merge should be like this:&lt;br/&gt;
347: myagg.xvar += xvarB + (xavgA - xavgB) * (xavgA - xavgB) / myagg.count * nA * nB;&lt;br/&gt;
348: myagg.yvar += yvarB + (yavgA - yavgB) * (yavgA - yavgB) / myagg.count * nA * nB;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12607356">HIVE-3455</key>
            <summary>ANSI CORR(X,Y) is incorrect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="maximbo">Maxim Bolotin</assignee>
                                    <reporter username="maximbo">Maxim Bolotin</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 12 Sep 2012 22:49:22 +0000</created>
                <updated>Fri, 6 Dec 2013 00:55:59 +0000</updated>
                            <resolved>Fri, 6 Dec 2013 00:55:59 +0000</resolved>
                                    <version>0.7.1</version>
                    <version>0.8.0</version>
                    <version>0.8.1</version>
                    <version>0.9.0</version>
                    <version>0.9.1</version>
                    <version>0.10.0</version>
                    <version>0.11.0</version>
                    <version>0.12.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13454461" author="maximbo" created="Wed, 12 Sep 2012 23:00:36 +0000"  >&lt;p&gt;284,285c282,283&lt;br/&gt;
&amp;lt;         double xavgOld = myagg.xavg;&lt;br/&gt;
&amp;lt;         double yavgOld = myagg.yavg;&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;         double deltaX = vx - myagg.xavg;&lt;br/&gt;
&amp;gt;         double deltaY = vy - myagg.yavg;&lt;br/&gt;
287,288c285,286&lt;br/&gt;
&amp;lt;         myagg.xavg += (vx - xavgOld) / myagg.count;&lt;br/&gt;
&amp;lt;         myagg.yavg += (vy - yavgOld) / myagg.count;&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;         myagg.xavg += deltaX / ((double) myagg.count);&lt;br/&gt;
&amp;gt;         myagg.yavg += deltaY / ((double) myagg.count);&lt;br/&gt;
290,292c288,290&lt;br/&gt;
&amp;lt;             myagg.covar += (vx - xavgOld) * (vy - myagg.yavg);&lt;br/&gt;
&amp;lt;             myagg.xvar += (vx - xavgOld) * (vx - myagg.xavg);&lt;br/&gt;
&amp;lt;             myagg.yvar += (vy - yavgOld) * (vy - myagg.yavg);&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;             myagg.covar += deltaX * (vy - myagg.yavg);&lt;br/&gt;
&amp;gt;             myagg.xvar += deltaX * (vx - myagg.xavg);&lt;br/&gt;
&amp;gt;             myagg.yvar += deltaY * (vy - myagg.yavg);&lt;br/&gt;
345,350c343,351&lt;br/&gt;
&amp;lt;           myagg.xavg = (xavgA * nA + xavgB * nB) / myagg.count;&lt;br/&gt;
&amp;lt;           myagg.yavg = (yavgA * nA + yavgB * nB) / myagg.count;&lt;br/&gt;
&amp;lt;           myagg.xvar += xvarB + (xavgA - xavgB) * (xavgA - xavgB) * myagg.count;&lt;br/&gt;
&amp;lt;           myagg.yvar += yvarB + (yavgA - yavgB) * (yavgA - yavgB) * myagg.count;&lt;br/&gt;
&amp;lt;           myagg.covar +=&lt;br/&gt;
&amp;lt;               covarB + (xavgA - xavgB) * (yavgA - yavgB) * ((double) (nA * nB) / myagg.count);&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;           double n=myagg.count;&lt;br/&gt;
&amp;gt;           double nn=nA*nB/n;&lt;br/&gt;
&amp;gt;           double dX = xavgA-xavgB;&lt;br/&gt;
&amp;gt;           double dY = yavgA-yavgB;&lt;br/&gt;
&amp;gt;           myagg.xavg = xavgA * nA / n + xavgB * nB / n;&lt;br/&gt;
&amp;gt;           myagg.yavg = yavgA * nA / n + yavgB * nB / n;&lt;br/&gt;
&amp;gt;           myagg.xvar  += xvarB  + dX * dX * nn ;&lt;br/&gt;
&amp;gt;           myagg.yvar  += yvarB  + dY * dY * nn ;&lt;br/&gt;
&amp;gt;           myagg.covar += covarB + dX * dY * nn;&lt;/p&gt;</comment>
                            <comment id="13454465" author="maximbo" created="Wed, 12 Sep 2012 23:06:56 +0000"  >&lt;p&gt;the test, the correct answer is 1.&lt;br/&gt;
hive&amp;gt; select * from max_corr ;&lt;br/&gt;
OK&lt;br/&gt;
1	2&lt;br/&gt;
2	4&lt;br/&gt;
3	6&lt;br/&gt;
Time taken: 2.304 seconds&lt;br/&gt;
hive&amp;gt; select corr(a,b) from max_corr ;&lt;br/&gt;
Total MapReduce jobs = 1&lt;br/&gt;
Launching Job 1 out of 1&lt;br/&gt;
Number of reduce tasks determined at compile time: 1&lt;br/&gt;
In order to change the average load for a reducer (in bytes):&lt;br/&gt;
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to limit the maximum number of reducers:&lt;br/&gt;
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to set a constant number of reducers:&lt;br/&gt;
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;&lt;br/&gt;
Starting Job = job_201207232322_2781, Tracking URL = &lt;a href=&quot;http://*****/jobdetails.jsp?jobid=job_201207232322_2781&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://*****/jobdetails.jsp?jobid=job_201207232322_2781&lt;/a&gt;&lt;br/&gt;
Kill Command = /usr/lib/hadoop/bin/hadoop job  -Dmapred.job.tracker=hdfs://***** -kill job_201207232322_2781&lt;br/&gt;
2012-09-12 10:04:17,663 Stage-1 map = 0%,  reduce = 0%&lt;br/&gt;
2012-09-12 10:04:20,681 Stage-1 map = 100%,  reduce = 0%&lt;br/&gt;
2012-09-12 10:04:27,720 Stage-1 map = 100%,  reduce = 33%&lt;br/&gt;
2012-09-12 10:04:28,728 Stage-1 map = 100%,  reduce = 100%&lt;br/&gt;
Ended Job = job_201207232322_2781&lt;br/&gt;
OK&lt;br/&gt;
0.27586206896551724&lt;br/&gt;
Time taken: 15.088 seconds&lt;br/&gt;
hive&amp;gt; &lt;/p&gt;</comment>
                            <comment id="13458414" author="appodictic" created="Wed, 19 Sep 2012 05:14:17 +0000"  >&lt;p&gt;I think your data file must be in error.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;FROM (

select inline ( array( struct(1,2), struct(2,4), struct(3,6) ) ) as (x,y) from dummy limit 3

) b select corr(b.x,b.y) 

OK
0.9999999999999999
Time taken: 9.436 seconds

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and &lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; FROM (
    &amp;gt; 
    &amp;gt; select inline ( array( struct(1,3), struct(2,2), struct(3,1) ) ) as (x,y) from dummy limit 3
    &amp;gt; 
    &amp;gt; ) b select corr(b.x,b.y) ;

Mapred Local Task Succeeded . Convert the Join into MapJoin
OK
-0.9999999999999999
Time taken: 10.842 seconds

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looks good compared to. &lt;a href=&quot;http://my.safaribooksonline.com/book/databases/sql/9780596155322/ansi-sql-aggregate-functions/id3490390&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://my.safaribooksonline.com/book/databases/sql/9780596155322/ansi-sql-aggregate-functions/id3490390&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please re-open if I am wrong.&lt;/p&gt;</comment>
                            <comment id="13458416" author="maximbo" created="Wed, 19 Sep 2012 05:18:53 +0000"  >&lt;p&gt;the whole point of the bug is that the MERGE part is wrong, not the MAP, you can&apos;t test it with just inline array, you have to have at least to pieces to merge in a reducer. please check again the formula in the merge part.&lt;/p&gt;</comment>
                            <comment id="13458417" author="maximbo" created="Wed, 19 Sep 2012 05:19:18 +0000"  >&lt;p&gt;the whole point of the bug is that the MERGE part is wrong, not the MAP, you can&apos;t test it with just inline array, you have to have at least to pieces to merge in a reducer. please check again the formula in the merge part.&lt;/p&gt;</comment>
                            <comment id="13458422" author="appodictic" created="Wed, 19 Sep 2012 05:32:20 +0000"  >&lt;p&gt;I will look into this more. You example uses a select * which does not have a reduce phase. So I do not see how your example produces that result.&lt;/p&gt;</comment>
                            <comment id="13458427" author="maximbo" created="Wed, 19 Sep 2012 05:43:01 +0000"  >&lt;p&gt;I do have a cluster with 26 nodes, select * just an example of a simple table.&lt;br/&gt;
The table was created by &quot;create external table ... location ... ;&quot;&lt;br/&gt;
For this table &quot;select corr(a,b) from t;&quot; hive starts 2 mappers and 1 reducer.&lt;br/&gt;
The unit test for this function doesn&apos;t cover all cases.&lt;/p&gt;</comment>
                            <comment id="13458446" author="appodictic" created="Wed, 19 Sep 2012 06:23:11 +0000"  >&lt;p&gt;Good catch I set the input format to NLineInput &lt;/p&gt;

&lt;p&gt;create table data6 (name string, x int, y int) stored as inputformat &apos;org.apache.hadoop.mapred.lib.NLineInputFormat&apos; outputformat &apos;org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat&apos;;&lt;/p&gt;

&lt;p&gt;This did indeed mess produce the wrongresults. Nice catch. Will patch shortly.&lt;/p&gt;</comment>
                            <comment id="13458636" author="appodictic" created="Wed, 19 Sep 2012 12:32:40 +0000"  >&lt;p&gt;Can you please attach your diff as something that will apply with patch -p0. I do not know how to apply your patch.&lt;/p&gt;</comment>
                            <comment id="13458891" author="maximbo" created="Wed, 19 Sep 2012 17:49:37 +0000"  >&lt;p&gt;the patch for the&lt;br/&gt;
src/ql/src/java/org/apache/hadoop/hive/ql/udf/generic&lt;/p&gt;</comment>
                            <comment id="13527286" author="ashutoshc" created="Sat, 8 Dec 2012 23:12:11 +0000"  >&lt;p&gt;Patch needs a testcase. Maxim / Ed, if you guys are working on this, can you please add a testcase and update the patch?&lt;/p&gt;</comment>
                            <comment id="13724590" author="jhartlaub" created="Tue, 30 Jul 2013 23:19:01 +0000"  >&lt;p&gt;Attached are a data file, a &quot;.q&quot; file and a &quot;.q.out&quot; file that exercise the corr merge problem.  The patch in this ticket passes this test.  (test correlates a variable with itself using a CLUSTER BY column)&lt;/p&gt;</comment>
                            <comment id="13795726" author="thejas" created="Tue, 15 Oct 2013 22:13:20 +0000"  >&lt;p&gt;Clearing fix version. in hive the fix version is set after a patch is committed.&lt;/p&gt;</comment>
                            <comment id="13834648" author="kostiantyn" created="Thu, 28 Nov 2013 09:33:48 +0000"  >&lt;p&gt;Hi all,&lt;br/&gt;
I have dumped into the same issue. Maxim&apos;s patch is correct, I applied it and everything works correct&lt;br/&gt;
I&apos;m pretty sure it must be included into trunk ASAP, because of current Hive&apos;s implementation is incorrect&lt;/p&gt;</comment>
                            <comment id="13838833" author="kostiantyn" created="Wed, 4 Dec 2013 11:47:24 +0000"  >&lt;p&gt;Does Anybody work on including this path into release branches?&lt;/p&gt;</comment>
                            <comment id="13839803" author="navis" created="Thu, 5 Dec 2013 04:50:20 +0000"  >&lt;p&gt;This is apparently a bug. Rebased patch with a test case and +1 for me.&lt;/p&gt;</comment>
                            <comment id="13839866" author="hiveqa" created="Thu, 5 Dec 2013 06:32:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617110/HIVE-3455.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617110/HIVE-3455.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4458 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/525/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/525/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/525/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/525/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617110&lt;/p&gt;</comment>
                            <comment id="13840758" author="navis" created="Fri, 6 Dec 2013 00:55:59 +0000"  >&lt;p&gt;Committed to trunk. Thanks Maxim!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12471821">HIVE-1549</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617110" name="HIVE-3455.1.patch.txt" size="6494" author="navis" created="Thu, 5 Dec 2013 04:48:04 +0000"/>
                            <attachment id="12595069" name="HIVE3455.corrTest.tar.gz" size="3490" author="jhartlaub" created="Tue, 30 Jul 2013 23:19:01 +0000"/>
                            <attachment id="12545764" name="my.patch" size="2133" author="maximbo" created="Wed, 19 Sep 2012 17:49:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Sep 2012 05:14:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02iqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12636</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>the patch for the&lt;br/&gt;
src/ql/src/java/org/apache/hadoop/hive/ql/udf/generic</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>correlation UDAF</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3456] No apparent way to change table-level COMMENT data</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3456</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Not sure if this is a documentation issue, or a feature that is lacking from ALTER TABLE...&lt;/p&gt;

&lt;p&gt;Setting a COMMENT on a table during initial creation is straightforward.&lt;br/&gt;
Changing column names and column comments is also straightforward using ALTER TABLE CHANGE...&lt;br/&gt;
However, I have found no way, other than manually editing the metadata to set/change the table-level comment for a table after it has been created.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607360">HIVE-3456</key>
            <summary>No apparent way to change table-level COMMENT data</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rharris">Ryan Harris</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Sep 2012 23:06:24 +0000</created>
                <updated>Wed, 26 Sep 2012 23:37:42 +0000</updated>
                            <resolved>Wed, 26 Sep 2012 23:37:42 +0000</resolved>
                                    <version>0.7.0</version>
                    <version>0.7.1</version>
                    <version>0.8.0</version>
                    <version>0.8.1</version>
                    <version>0.9.0</version>
                                                    <component>Documentation</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13464285" author="parepidemos" created="Wed, 26 Sep 2012 23:29:45 +0000"  >&lt;p&gt;Looks like this works:&lt;/p&gt;

&lt;p&gt;ALTER TABLE test_table SET TBLPROPERTIES (&apos;comment&apos;=&apos;This is a test table.&apos;);&lt;/p&gt;

&lt;p&gt;Documentation: &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterTableProperties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterTableProperties&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Oddly though, Hive will lowercase the table comment at table creation time, but &quot;COMMENT&quot; and &quot;comment&quot; are handled as two different property names when using SET TBLPROPERTIES, so you could end up with this:&lt;/p&gt;

&lt;p&gt;parameters:&lt;/p&gt;
{last_modified_by=joe, last_modified_time=1348701745, COMMENT=This is apparently the *wrong* comment., transient_lastDdlTime=1348701745, comment=This is apparently the *right* comment.}</comment>
                            <comment id="13464291" author="rharris" created="Wed, 26 Sep 2012 23:37:22 +0000"  >&lt;p&gt;that is &lt;b&gt;perfect&lt;/b&gt; thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Sep 2012 23:29:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259253</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnsf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124504</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3457] 0.23 compatibility: queries which rely on metadata fail</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3457</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;groupby_neg_float.q and metadataonly1.q tests for TestCliDriver in ql fail when built against hadoop23.&lt;/p&gt;

&lt;p&gt;The above two tests use an empty file/directory/partition to get a mapper to run against meta data (a scan of the table is not performed).&lt;br/&gt;
In hadoop20 this work around worked, but as of hadoop22 splits are generated differently and not created for empty files.&lt;br/&gt;
This results in 0 mappers being created which causes the query to fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607376">HIVE-3457</key>
            <summary>0.23 compatibility: queries which rely on metadata fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="cdrome">Chris Drome</assignee>
                                    <reporter username="cdrome">Chris Drome</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Sep 2012 01:09:43 +0000</created>
                <updated>Thu, 13 Sep 2012 01:11:43 +0000</updated>
                                            <version>0.9.0</version>
                    <version>0.10.0</version>
                                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13454537" author="cdrome" created="Thu, 13 Sep 2012 01:11:43 +0000"  >&lt;p&gt;This issue was found when investigating unit test failures when building against hadoop23.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12606341">HIVE-3437</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259254</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124505</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3458] Parallel test script doesnt run all tests</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3458</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Parallel test script when run on a cluster of machines in multi-threaded mode doesnt report back on all tests in the suite. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12607377">HIVE-3458</key>
            <summary>Parallel test script doesnt run all tests</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ivangorbachev">Ivan Gorbachev</assignee>
                                    <reporter username="sambavi">Sambavi Muthukrishnan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Sep 2012 01:13:54 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:13 +0000</updated>
                            <resolved>Tue, 2 Oct 2012 20:50:33 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                    <timeoriginalestimate seconds="172800">48h</timeoriginalestimate>
                            <timeestimate seconds="172800">48h</timeestimate>
                                        <comments>
                            <comment id="13457428" author="ivangorbachev" created="Mon, 17 Sep 2012 22:37:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5493&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5493&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13462261" author="kevinwilfong" created="Mon, 24 Sep 2012 23:34:59 +0000"  >&lt;p&gt;+1 This looks good to me.&lt;/p&gt;</comment>
                            <comment id="13465005" author="kevinwilfong" created="Thu, 27 Sep 2012 19:24:56 +0000"  >&lt;p&gt;Saw some test failures starting with skew_join.q when running the parallel tests, could you take a look?&lt;/p&gt;</comment>
                            <comment id="13468050" author="kevinwilfong" created="Tue, 2 Oct 2012 20:42:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3515&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3515&lt;/a&gt; Seems to have fixed it.&lt;/p&gt;</comment>
                            <comment id="13468059" author="kevinwilfong" created="Tue, 2 Oct 2012 20:50:33 +0000"  >&lt;p&gt;Committed, thanks Ivan.&lt;/p&gt;</comment>
                            <comment id="13468312" author="hudson" created="Wed, 3 Oct 2012 03:41:33 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1717 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1717/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1717/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3458&quot; title=&quot;Parallel test script doesnt run all tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3458&quot;&gt;&lt;del&gt;HIVE-3458&lt;/del&gt;&lt;/a&gt;. Parallel test script doesnt run all tests. (Ivan Gorbachev via kevinwilfong) (Revision 1393169)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1393169&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1393169&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Ssh.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548081" author="hudson" created="Wed, 9 Jan 2013 10:24:19 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3458&quot; title=&quot;Parallel test script doesnt run all tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3458&quot;&gt;&lt;del&gt;HIVE-3458&lt;/del&gt;&lt;/a&gt;. Parallel test script doesnt run all tests. (Ivan Gorbachev via kevinwilfong) (Revision 1393169)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1393169&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1393169&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Ssh.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550059" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:13 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12546376" name="ptest.patch" size="5334" author="ivangorbachev" created="Mon, 24 Sep 2012 20:55:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Sep 2012 22:37:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02is7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12644</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3459] Dynamic partition queries producing no partitions fail with hive.stats.reliable=true</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3459</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Dynamic partition inserts which result in no partitions (either because the input is empty or all input rows are filtered out) will fail because stats cannot be collected if hive.stats.reliable=true.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607380">HIVE-3459</key>
            <summary>Dynamic partition queries producing no partitions fail with hive.stats.reliable=true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Sep 2012 01:51:29 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:42 +0000</updated>
                            <resolved>Thu, 13 Sep 2012 09:01:11 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13454567" author="kevinwilfong" created="Thu, 13 Sep 2012 01:53:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5367&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5367&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13454711" author="namit" created="Thu, 13 Sep 2012 07:29:23 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13454751" author="namit" created="Thu, 13 Sep 2012 09:01:11 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13455050" author="hudson" created="Thu, 13 Sep 2012 17:32:11 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1667 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1667/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1667/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3459&quot; title=&quot;Dynamic partition queries producing no partitions fail with hive.stats.reliable=true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3459&quot;&gt;&lt;del&gt;HIVE-3459&lt;/del&gt;&lt;/a&gt; Dynamic partition queries producing no partitions fail with hive.stats.reliable=true&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1384244)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1384244&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1384244&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/stats_empty_dyn_part.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats_empty_dyn_part.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548085" author="hudson" created="Wed, 9 Jan 2013 10:24:20 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3459&quot; title=&quot;Dynamic partition queries producing no partitions fail with hive.stats.reliable=true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3459&quot;&gt;&lt;del&gt;HIVE-3459&lt;/del&gt;&lt;/a&gt; Dynamic partition queries producing no partitions fail with hive.stats.reliable=true&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1384244)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1384244&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1384244&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/StatsTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/stats_empty_dyn_part.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats_empty_dyn_part.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550185" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:42 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12544921" name="HIVE-3459.1.patch.txt" size="7038" author="kevinwilfong" created="Thu, 13 Sep 2012 01:53:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Sep 2012 07:29:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240089</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00x2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3291</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3460] Simultaneous attempts to initialize the Hive Metastore can fail due to error &quot;Table &apos;metastore_DELETEME1347565995856&apos; doesn&apos;t exist&quot;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3460</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If multiple clients attempt to access/initialize the Hive Metastore at the same time they can fail due to error &quot;Table &apos;metastore_DELETEME1347565995856&apos; doesn&apos;t exist&quot;. A common scenario where this could happen is if there is a central mysql metastore and clients from multiple machines attempt to read from the metastore at the same time. This is outside of a standalone Hive Server install scenario. &lt;/p&gt;

&lt;p&gt;I believe this is not actually a Hive bug, but instead a Data Nucleus issue.&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; javax.jdo.JDODataStoreException: Exception thrown obtaining schema column information from datastore
        at org.datanucleus.jdo.NucleusJDOHelper.getJDOExceptionForNucleusException(NucleusJDOHelper.java:313)
        at org.datanucleus.ObjectManagerImpl.getExtent(ObjectManagerImpl.java:4154)
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileCandidates(JDOQLQueryCompiler.java:411)
        at org.datanucleus.store.rdbms.query.legacy.QueryCompiler.executionCompile(QueryCompiler.java:312)
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compile(JDOQLQueryCompiler.java:225)
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQuery.compileInternal(JDOQLQuery.java:175)
        at org.datanucleus.store.query.Query.executeQuery(Query.java:1628)
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQuery.executeQuery(JDOQLQuery.java:245)
        at org.datanucleus.store.query.Query.executeWithArray(Query.java:1499)
        at org.datanucleus.jdo.JDOQuery.execute(JDOQuery.java:243)
        at org.apache.hadoop.hive.metastore.ObjectStore.getMDatabase(ObjectStore.java:389)
        at org.apache.hadoop.hive.metastore.ObjectStore.getDatabase(ObjectStore.java:408)
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.createDefaultDB_core(HiveMetaStore.java:485)
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.access$300(HiveMetaStore.java:141)
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler$5.run(HiveMetaStore.java:507)
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler$5.run(HiveMetaStore.java:504)
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.executeWithRetry(HiveMetaStore.java:360)
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.createDefaultDB(HiveMetaStore.java:504)
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.init(HiveMetaStore.java:266)
        at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.&amp;lt;init&amp;gt;(HiveMetaStore.java:228)
        at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.&amp;lt;init&amp;gt;(HiveMetaStoreClient.java:114)
        at org.apache.hadoop.hive.metastore.HiveMetaStoreClient.&amp;lt;init&amp;gt;(HiveMetaStoreClient.java:98)


NestedThrowablesStackTrace:
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table &lt;span class=&quot;code-quote&quot;&gt;&apos;metastore_DELETEME1347565995856&apos;&lt;/span&gt; doesn&apos;t exist
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)
        at com.mysql.jdbc.Util.handleNewInstance(Util.java:406)
        at com.mysql.jdbc.Util.getInstance(Util.java:381)
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1030)
        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3558)
        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3490)
        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1959)
        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2109)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2637)
        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2566)
        at com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1464)
        at com.mysql.jdbc.DatabaseMetaData$2.forEach(DatabaseMetaData.java:2472)
        at com.mysql.jdbc.IterateBlock.doForAll(IterateBlock.java:50)
        at com.mysql.jdbc.DatabaseMetaData.getColumns(DatabaseMetaData.java:2346)
        at org.apache.commons.dbcp.DelegatingDatabaseMetaData.getColumns(DelegatingDatabaseMetaData.java:218)
        at org.datanucleus.store.rdbms.adapter.DatabaseAdapter.getColumns(DatabaseAdapter.java:1460)
        at org.datanucleus.store.rdbms.schema.RDBMSSchemaHandler.refreshTableData(RDBMSSchemaHandler.java:924)
        at org.datanucleus.store.rdbms.schema.RDBMSSchemaHandler.getRDBMSTableInfoForTable(RDBMSSchemaHandler.java:823)
        at org.datanucleus.store.rdbms.schema.RDBMSSchemaHandler.getRDBMSTableInfoForTable(RDBMSSchemaHandler.java:772)
        at org.datanucleus.store.rdbms.schema.RDBMSSchemaHandler.getSchemaData(RDBMSSchemaHandler.java:207)
        at org.datanucleus.store.rdbms.RDBMSStoreManager.getColumnInfoForTable(RDBMSStoreManager.java:1699)
        at org.datanucleus.store.rdbms.table.TableImpl.validateColumns(TableImpl.java:218)
        at org.datanucleus.store.rdbms.RDBMSStoreManager$ClassAdder.performTablesValidation(RDBMSStoreManager.java:2702)
        at org.datanucleus.store.rdbms.RDBMSStoreManager$ClassAdder.addClassTablesAndValidate(RDBMSStoreManager.java:2503)
        at org.datanucleus.store.rdbms.RDBMSStoreManager$ClassAdder.run(RDBMSStoreManager.java:2148)
        at org.datanucleus.store.rdbms.AbstractSchemaTransaction.execute(AbstractSchemaTransaction.java:113)
        at org.datanucleus.store.rdbms.RDBMSStoreManager.addClasses(RDBMSStoreManager.java:986)
        at org.datanucleus.store.rdbms.RDBMSStoreManager.addClasses(RDBMSStoreManager.java:952)
        at org.datanucleus.store.AbstractStoreManager.addClass(AbstractStoreManager.java:919)
        at org.datanucleus.store.mapped.MappedStoreManager.getDatastoreClass(MappedStoreManager.java:356)
        at org.datanucleus.store.rdbms.query.legacy.ExtentHelper.getExtent(ExtentHelper.java:48)
        at org.datanucleus.store.rdbms.RDBMSStoreManager.getExtent(RDBMSStoreManager.java:1332)
        at org.datanucleus.ObjectManagerImpl.getExtent(ObjectManagerImpl.java:4149)
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compileCandidates(JDOQLQueryCompiler.java:411)
        at org.datanucleus.store.rdbms.query.legacy.QueryCompiler.executionCompile(QueryCompiler.java:312)
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQueryCompiler.compile(JDOQLQueryCompiler.java:225)
        at org.datanucleus.store.rdbms.query.legacy.JDOQLQuery.compileInternal(JDOQLQuery.java:175)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12607536">HIVE-3460</key>
            <summary>Simultaneous attempts to initialize the Hive Metastore can fail due to error &quot;Table &apos;metastore_DELETEME1347565995856&apos; doesn&apos;t exist&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lskuff">Lenni Kuff</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Sep 2012 22:46:56 +0000</created>
                <updated>Thu, 13 Sep 2012 22:53:37 +0000</updated>
                                            <version>0.8.1</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13455398" author="cwsteinbach" created="Thu, 13 Sep 2012 22:53:37 +0000"  >&lt;p&gt;Ed reported encountering this problem in an email to hive-user list:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hive-user/201107.mbox/%3C4F6B25AFFFCAFE44B6259A412D5F9B1033183876@ExchMBX104.netflix.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hive-user/201107.mbox/%3C4F6B25AFFFCAFE44B6259A412D5F9B1033183876@ExchMBX104.netflix.com%3E&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;He noted that in some cases it&apos;s possible to prevent this error by setting datanucleus.fixedDataStore=true.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Sep 2012 22:53:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259255</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124507</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3461] hive unit tests fail to get lock using zookeeper on windows</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3461</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Following exception is seen from test cases when lock is attempted -&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2012-08-26 10:33:33,597 ERROR ZooKeeperHiveLockManager (ZooKeeperHiveLockManager.java:lock(317)) - Serious Zookeeper exception:
org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; /hive_zookeeper_namespace/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;
        at org.apache.zookeeper.KeeperException.create(KeeperException.java:111)
        at org.apache.zookeeper.KeeperException.create(KeeperException.java:51)
        at org.apache.zookeeper.ZooKeeper.create(ZooKeeper.java:778)
        at org.apache.hadoop.hive.ql.lockmgr.zookeeper.ZooKeeperHiveLockManager.createChild(ZooKeeperHiveLockManager.java:285)
        at org.apache.hadoop.hive.ql.lockmgr.zookeeper.ZooKeeperHiveLockManager.lockPrimitive(ZooKeeperHiveLockManager.java:353)
        at org.apache.hadoop.hive.ql.lockmgr.zookeeper.ZooKeeperHiveLockManager.lock(ZooKeeperHiveLockManager.java:303)
        at org.apache.hadoop.hive.ql.lockmgr.zookeeper.ZooKeeperHiveLockManager.lock(ZooKeeperHiveLockManager.java:220)
        at org.apache.hadoop.hive.ql.Driver.acquireReadWriteLocks(Driver.java:828)
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:944)
        at org.apache.hadoop.hive.ql.QTestUtil.runLoadCmd(QTestUtil.java:458)
        at org.apache.hadoop.hive.ql.QTestUtil.createSources(QTestUtil.java:505)
        at org.apache.hadoop.hive.cli.TestCliDriver.&amp;lt;clinit&amp;gt;(TestCliDriver.java:55)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName0(Native Method)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:169)
        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:374)
        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1060)
        at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:911)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12607551">HIVE-3461</key>
            <summary>hive unit tests fail to get lock using zookeeper on windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Sep 2012 00:39:02 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:05 +0000</updated>
                            <resolved>Wed, 19 Sep 2012 08:54:22 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13457503" author="thejas" created="Tue, 18 Sep 2012 00:30:56 +0000"  >&lt;p&gt;The root cause of the problem is that zookeeper has issues when ipv6 is used on windows. (fix available in JDK 1.7 &lt;a href=&quot;http://bugs.sun.com/view_bug.do?bug_id=6230761&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bugs.sun.com/view_bug.do?bug_id=6230761&lt;/a&gt;)&lt;br/&gt;
To work around this issue, set -Djava.net.preferIPv4Stack=true .&lt;/p&gt;</comment>
                            <comment id="13457505" author="thejas" created="Tue, 18 Sep 2012 00:36:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3461&quot; title=&quot;hive unit tests fail to get lock using zookeeper on windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3461&quot;&gt;&lt;del&gt;HIVE-3461&lt;/del&gt;&lt;/a&gt;.1.patch - Patch adds java.net.preferIPv4Stack property for tests.&lt;/p&gt;</comment>
                            <comment id="13458360" author="ashutoshc" created="Wed, 19 Sep 2012 02:41:22 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13458509" author="ashutoshc" created="Wed, 19 Sep 2012 08:54:22 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Thejas!&lt;/p&gt;</comment>
                            <comment id="13458741" author="hudson" created="Wed, 19 Sep 2012 15:11:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1682 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1682/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1682/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3461&quot; title=&quot;hive unit tests fail to get lock using zookeeper on windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3461&quot;&gt;&lt;del&gt;HIVE-3461&lt;/del&gt;&lt;/a&gt; : hive unit tests fail to get lock using zookeeper on windows (Thejas Nair via Ashutosh Chauhan) (Revision 1387494)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1387494&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1387494&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13460044" author="thejas" created="Thu, 20 Sep 2012 23:22:23 +0000"  >&lt;p&gt;Linking HBASE jira that discusses the zookeeper issue in more detail.&lt;/p&gt;</comment>
                            <comment id="13548092" author="hudson" created="Wed, 9 Jan 2013 10:24:21 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3461&quot; title=&quot;hive unit tests fail to get lock using zookeeper on windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3461&quot;&gt;&lt;del&gt;HIVE-3461&lt;/del&gt;&lt;/a&gt; : hive unit tests fail to get lock using zookeeper on windows (Thejas Nair via Ashutosh Chauhan) (Revision 1387494)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1387494&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1387494&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550279" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:05 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12608168">HBASE-6825</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12545503" name="HIVE-3461.1.patch" size="1297" author="thejas" created="Tue, 18 Sep 2012 00:36:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Sep 2012 02:41:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248736</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09y53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55972</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3462] bucketcontext_5.q.out missing from results</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3462</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This should have been checked in as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3171&quot; title=&quot;Bucketed sort merge join doesn&amp;#39;t work when multiple files exist for small alias&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3171&quot;&gt;&lt;del&gt;HIVE-3171&lt;/del&gt;&lt;/a&gt;, but somehow missed.&lt;br/&gt;
The tests are failing due to this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607560">HIVE-3462</key>
            <summary>bucketcontext_5.q.out missing from results</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Sep 2012 04:22:16 +0000</created>
                <updated>Fri, 14 Sep 2012 04:26:53 +0000</updated>
                            <resolved>Fri, 14 Sep 2012 04:26:53 +0000</resolved>
                                                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13455565" author="namit" created="Fri, 14 Sep 2012 04:26:53 +0000"  >&lt;p&gt;Something was wrong in my env. - the file shows up now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259256</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lntb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124508</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3463] Add CASCADING to MySQL&apos;s InnoDB schema</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3463</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Cascading could help to cleanup the tables when a FK is deleted.&lt;br/&gt;
&lt;a href=&quot;http://dev.mysql.com/doc/refman/5.5/en/innodb-foreign-key-constraints.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.5/en/innodb-foreign-key-constraints.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607568">HIVE-3463</key>
            <summary>Add CASCADING to MySQL&apos;s InnoDB schema</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alo.alt">Alexander Alten-Lorenz</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Sep 2012 05:30:28 +0000</created>
                <updated>Wed, 9 Jan 2013 08:26:02 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13455636" author="alo.alt" created="Fri, 14 Sep 2012 07:25:47 +0000"  >&lt;p&gt;As hive is using atomic transactions to perform individual operations, its causing issue during replication of the database. Hive does not have cascade on the foreign key constraints, when the atomic transactions been performed on the database, the bin log will be written based on the completion of the task rather than the time of issuance. This is causing reversal of the order in bin log, which causes the replication break. &lt;/p&gt;</comment>
                            <comment id="13459424" author="alo.alt" created="Thu, 20 Sep 2012 07:50:56 +0000"  >&lt;p&gt;More insight:&lt;/p&gt;

&lt;p&gt;1. The drop table command deletes entries in different tables as UNIT transactions, so if there is a communication break or any other uncertain condition, database could rollback that individual transaction leaving database in inconsistent state. &lt;/p&gt;

&lt;p&gt;2. The drop table is not serialized action, which is causing Replication break &lt;/p&gt;

&lt;p&gt;3. As cascade is not defined in the FK definition during table creation, the stale could present in certain conditions. &lt;/p&gt;

&lt;p&gt;4. The database with id 511 is showing the tables of default database who&#8217;s db_id is 1 &lt;/p&gt;

&lt;p&gt;5. The select on any portioned table with a limit operator scans through all the partitions using UNIT transactions, which just query single entry per transaction, means to say, if a table has got 100000 partitions, it does 100000 queries to database before showing the result. Instead, it should have done one bulk query fetching all the partition details at once. &lt;/p&gt;

&lt;p&gt;Example:&lt;br/&gt;
In our database we are having 3500 partitioned tables, with total of 950000 partitions. Every day we get hit on 90% of tables. And 60% of the users say, the queries takes its own sweet time to return, even though we kept the metastore level performance(MySQL) at 2miliSec to 20 miliSec, the query time at hive is always varies between few minutes to few hours. Even simple USE statement takes up to 5 min in some cases. (new thing I am bringing it up, as it took some time for me to confirm this) &lt;/p&gt;

&lt;p&gt;6. Dead locks happening on hive tables, during normal operations, and quite a number of rollbacks happening at database side. What I noticed is the transaction serialization issue, which is issue a delete before an update, see below for the detail on the dead lock. With upgrade to mysql 5.5, we are not seeing it not so frequently now.&lt;/p&gt;

&lt;p&gt;One nit, Cascading for InnoDB is a great feature, since Hive doesn&apos;t support MySQL&apos;s binlog replication (Transaction level &apos;READ-COMMITTED&apos; in InnoDB is not safe for binlog mode &apos;STATEMENT&apos;). I was digging a bit deeper, that could be avoided by setting &quot;SET GLOBAL binlog_format = &apos;ROW&apos;;: inside of MySQL. But this needs to be confirmed first.&lt;/p&gt;

&lt;p&gt;I raise the FR up.&lt;/p&gt;</comment>
                            <comment id="13459680" author="ashutoshc" created="Thu, 20 Sep 2012 15:38:41 +0000"  >&lt;p&gt;Alexander,&lt;br/&gt;
Good findings! Couple of comments:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;I wonder what about same issues for other backend dbs we support (postgres/derby/oracle). I assume you didn&apos;t look into those, but was wondering if you have any insight for that.&lt;/li&gt;
	&lt;li&gt;Wherever possible we should dictate the schema definitions from datanucleus ORM mapping (which lives in package.jdo) and try to avoid directly playing with schemas of individual db(in scripts/ dir). Obviously, if datanucleus doesn&apos;t expose feature of underlying db which we need, we won&apos;t have a choice.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13459921" author="cwsteinbach" created="Thu, 20 Sep 2012 20:28:30 +0000"  >&lt;p&gt;I strongly second Ashutosh&apos;s second point. It looks like DN does support this feature. Check out the &apos;delete-action&apos; attribute for the &apos;field&apos; element described here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.datanucleus.org/products/datanucleus/jdo/metadata_xml.html#field&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.datanucleus.org/products/datanucleus/jdo/metadata_xml.html#field&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13461612" author="alo.alt" created="Mon, 24 Sep 2012 06:00:32 +0000"  >&lt;p&gt;We&apos;ve to decide on which table we need cascading to create the appr. schema. &lt;br/&gt;
Example for SERDE (not really tested, only a design pattern)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE SERDES (
    SERDE_ID VARCHAR not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
    NAME VARCHAR not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
    SLIB VARCHAR,
    SERDE_PARAMS STRING,
    PARAM_KEY VARCHAR not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
    PARAM_VALUE VARCHAR not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
    PRIMARY KEY (PARAM_KEY,PARAM_VALUE),
    KEY pkey (PARAM_KEY),
    FOREIGN KEY (PARAM_VALUE) REFERENCES SERDE_ID (id)
       ON DELETE CASCADE
       ON UPDATE CASCADE,
    FOREIGN KEY (NAME) REFERENCES SERDE_ID (id)
       ON DELETE CASCADE
       ON UPDATE CASCADE,

); 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We need to know:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;which tables and rows have to be a relationship&lt;/li&gt;
	&lt;li&gt;what make sense to describe as a CASCADE&lt;/li&gt;
	&lt;li&gt;are the schema we deliver good enough to implement bulk query fetching?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks,&lt;br/&gt;
 Alex &lt;/p&gt;</comment>
                            <comment id="13461673" author="cwsteinbach" created="Mon, 24 Sep 2012 08:42:39 +0000"  >&lt;p&gt;@Alex: Are you suggesting that we fix this problem by modifying the schema DDL scripts?&lt;/p&gt;</comment>
                            <comment id="13461738" author="alo.alt" created="Mon, 24 Sep 2012 11:14:27 +0000"  >&lt;p&gt;I think so, since the schema is describing the design, and DN maps only. I do some tests atm.&lt;/p&gt;</comment>
                            <comment id="13462028" author="cwsteinbach" created="Mon, 24 Sep 2012 19:31:21 +0000"  >&lt;p&gt;@Alex: I think we need to investigate whether or not this can be fixed by modifying the package.jdo file first. Modifying the schema DDL scripts should be a last resort.&lt;/p&gt;</comment>
                            <comment id="13463554" author="alo.alt" created="Wed, 26 Sep 2012 06:02:31 +0000"  >&lt;p&gt;Yes, we have to patch the upgrade scripts as well the jdo package (since the db will created if not present). But we&apos;ve to know which relations we need to implement cascading. Any thoughts?&lt;/p&gt;</comment>
                            <comment id="13463651" author="cwsteinbach" created="Wed, 26 Sep 2012 09:27:39 +0000"  >&lt;p&gt;I&apos;m opposed to only modifying the schema scripts (without updating JDO) unless we can prove that DN doesn&apos;t support cascading deletes via JDO. The relations that we need to tag with cascading deletes can be inferred by mapping the schema back to the original JDO file.&lt;/p&gt;</comment>
                            <comment id="13466647" author="qwertymaniac" created="Mon, 1 Oct 2012 05:23:06 +0000"  >&lt;p&gt;DN does have cascading support: &lt;a href=&quot;http://www.datanucleus.org/products/datanucleus/jdo/orm/cascading.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.datanucleus.org/products/datanucleus/jdo/orm/cascading.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13547764" author="alo.alt" created="Wed, 9 Jan 2013 08:26:02 +0000"  >&lt;p&gt;Since the switch into a new DN version needs large work I going ahead and mark as Unassigned.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Sep 2012 15:38:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247668</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08nmf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48426</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3464] Merging join tree may reorder joins which could be invalid</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3464</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, hive merges join tree from right to left regardless of join types, which may introduce join reordering. For example,&lt;/p&gt;

&lt;p&gt;select * from a join a b on a.key=b.key join a c on b.key=c.key join a d on a.key=d.key; &lt;/p&gt;

&lt;p&gt;Hive tries to merge join tree in a-d=b-d, a-d=a-b, b-c=a-b order and a-d=a-b and b-c=a-b will be merged. Final join tree is &quot;a-(bdc)&quot;.&lt;/p&gt;

&lt;p&gt;With this, ab-d join will be executed prior to ab-c. But if join type of -c and -d is different, this is not valid.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607571">HIVE-3464</key>
            <summary>Merging join tree may reorder joins which could be invalid</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Sep 2012 05:42:56 +0000</created>
                <updated>Thu, 16 May 2013 21:10:49 +0000</updated>
                            <resolved>Wed, 3 Apr 2013 23:02:28 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13510210" author="phabricator@reviews.facebook.net" created="Wed, 5 Dec 2012 01:50:57 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Rebase on trunk&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;br/&gt;
  ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13510315" author="navis" created="Wed, 5 Dec 2012 06:46:43 +0000"  >&lt;p&gt;Running test&lt;/p&gt;</comment>
                            <comment id="13511135" author="phabricator@reviews.facebook.net" created="Thu, 6 Dec 2012 05:52:57 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Fixed test result of recently added tests&lt;br/&gt;
  Added comments, rebased on trunk&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13558174" author="ashutoshc" created="Sun, 20 Jan 2013 06:59:43 +0000"  >&lt;p&gt;+1 Running tests.&lt;/p&gt;</comment>
                            <comment id="13558360" author="ashutoshc" created="Sun, 20 Jan 2013 19:48:51 +0000"  >&lt;p&gt;All tests passed.&lt;/p&gt;</comment>
                            <comment id="13558576" author="namit" created="Mon, 21 Jan 2013 07:04:39 +0000"  >&lt;p&gt;Questions/Comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13558577" author="phabricator@reviews.facebook.net" created="Mon, 21 Jan 2013 07:06:11 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q:19 I am totally confused.&lt;/p&gt;

&lt;p&gt;  What is the diff. between the above query and the first query in&lt;br/&gt;
  (((a-b)-c)-d)&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:6273 Can you write a small wiki/note on that explaining the correct behavior ?&lt;br/&gt;
  This is very difficult to review otherwise.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13558666" author="phabricator@reviews.facebook.net" created="Mon, 21 Jan 2013 10:04:11 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q:19 1. (a-b-c-d)&lt;br/&gt;
  A(a.key=b.key) + B(b.key=c.key) + C(a.key=d.key)&lt;br/&gt;
  makes single join ABC(a.key=b.key=c.key=d.key)&lt;/p&gt;

&lt;p&gt;  2. ((a-b-d)-c) or (((a-b)-c)-d)&lt;br/&gt;
  A(a.key=b.key) + B(b.&quot;value&quot;=c.key) + C(a.key=d.key)&lt;br/&gt;
  before patch, hive tries merging C-&amp;gt;B, C-&amp;gt;A, B-&amp;gt;A order (outer to inner), and C-&amp;gt;A only will be merged, making two joins : AC(a.key=b.key=d.key) + B(b.value=c.key).&lt;br/&gt;
  This makes C join is executed prior to B and if join type of C is different from that of B, it&apos;s illegal.&lt;/p&gt;

&lt;p&gt;  Patch consist of two parts.&lt;br/&gt;
  1. reverted merging order (inner to outer). It makes it a little easier to check condition below.&lt;br/&gt;
  2. check if it&apos;s possible to switch join ordering (if it has same join type)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13591644" author="ashutoshc" created="Sun, 3 Mar 2013 05:26:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=namit&quot; class=&quot;user-hover&quot; rel=&quot;namit&quot;&gt;Namit Jain&lt;/a&gt; you want to take a relook at this one?&lt;/p&gt;</comment>
                            <comment id="13614933" author="phabricator@reviews.facebook.net" created="Wed, 27 Mar 2013 04:59:14 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;  Rebased to trunk&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409?vs=23079&amp;amp;id=30549#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409?vs=23079&amp;amp;id=30549#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13615729" author="phabricator@reviews.facebook.net" created="Wed, 27 Mar 2013 20:37:15 +0000"  >&lt;p&gt;vikram has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;  Question with regard to a new api introduced in the patch.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:6644 Could you explain the use of the left variable in the api? The only use always seems to set it to true and this variable is not used within the api itself.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain, vikram&lt;/p&gt;</comment>
                            <comment id="13615730" author="vikram.dixit" created="Wed, 27 Mar 2013 20:37:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I went through the tests and code and I see how this affects the plan. Could you please add tests that produce some output rows. You could add something like&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;insert overwrite table a select * from src;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in your test file(mergejoins_mixed.q). I see that when I remove the explain statements associated with this test, a complicated query - inner, right outer (different key), full outer is what produces a different output. Others seem fine perhaps lucky. &lt;/p&gt;

&lt;p&gt;Also had a comment on code review.&lt;/p&gt;</comment>
                            <comment id="13616037" author="phabricator@reviews.facebook.net" created="Thu, 28 Mar 2013 04:23:13 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:6644 Firstly I tried merging in two directions (L to R, R to L) and it&apos;s not needed anymore. Will be removed.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:6614 It&apos;s a bug. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4212&quot; title=&quot;sort merge join should work for outer joins for more than 8 inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4212&quot;&gt;&lt;del&gt;HIVE-4212&lt;/del&gt;&lt;/a&gt; extended tag value from byte to short, which means it&apos;s 16 aliases, not 32 aliases. I&apos;ll fix that, too.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:6593 %s/tp/to&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain, vikram&lt;/p&gt;</comment>
                            <comment id="13616068" author="phabricator@reviews.facebook.net" created="Thu, 28 Mar 2013 05:29:13 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;  1. Use largest one as big table if all tables are smaller than threshold&lt;br/&gt;
  2. Fix bug on max aliases for outer join&lt;br/&gt;
  3. Addressed comments &amp;amp; rebased to trunk&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409?vs=30549&amp;amp;id=30597#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409?vs=30549&amp;amp;id=30597#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/smb_mapjoin_17.q&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/smb_mapjoin_17.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain, vikram&lt;/p&gt;</comment>
                            <comment id="13616598" author="phabricator@reviews.facebook.net" created="Thu, 28 Mar 2013 20:01:14 +0000"  >&lt;p&gt;vikram has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;  Comments.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java:332 I am not sure these changes are relevant to this jira. There are already other jiras - &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3996&quot; title=&quot;Correctly enforce the memory limit on the multi-table map-join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3996&quot;&gt;&lt;del&gt;HIVE-3996&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4071&quot; title=&quot;Map-join outer join produces incorrect results.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4071&quot;&gt;&lt;del&gt;HIVE-4071&lt;/del&gt;&lt;/a&gt; raised for issues in this section of code and currently blocked on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3891&quot; title=&quot;physical optimizer changes for auto sort-merge join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3891&quot;&gt;&lt;del&gt;HIVE-3891&lt;/del&gt;&lt;/a&gt; which moves these changes into a different class.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java:357 Same comment as above.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java:369 Same as above.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java:381 Same as above.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain, vikram&lt;/p&gt;</comment>
                            <comment id="13616932" author="phabricator@reviews.facebook.net" created="Fri, 29 Mar 2013 01:09:14 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/physical/CommonJoinResolver.java:332 Ok, it&apos;s on other issue. Will be removed.&lt;/p&gt;

&lt;p&gt;  Any other comments on changes?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain, vikram&lt;/p&gt;</comment>
                            <comment id="13618535" author="phabricator@reviews.facebook.net" created="Mon, 1 Apr 2013 00:57:13 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merging join tree may reorder joins which could be invalid&quot;.&lt;/p&gt;

&lt;p&gt;  Addressed comments&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5409?vs=30597&amp;amp;id=30849#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5409?vs=30597&amp;amp;id=30849#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/smb_mapjoin_17.q&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/smb_mapjoin_17.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain, vikram&lt;/p&gt;</comment>
                            <comment id="13620248" author="vikram.dixit" created="Tue, 2 Apr 2013 20:32:02 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Took a while for me to digest this patch although it is not very big. It looks good to me. +1. Good work!&lt;/p&gt;

&lt;p&gt;Regards&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13620306" author="ashutoshc" created="Tue, 2 Apr 2013 21:44:06 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13621469" author="ashutoshc" created="Wed, 3 Apr 2013 23:02:28 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="13621868" author="hudson" created="Thu, 4 Apr 2013 06:57:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2044 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2044/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2044/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; : Merging join tree may reorder joins which could be invalid (Navis via Ashutosh Chauhan) (Revision 1464230)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464230&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464230&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_17.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_17.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623009" author="hudson" created="Thu, 4 Apr 2013 23:39:49 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3464&quot; title=&quot;Merging join tree may reorder joins which could be invalid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3464&quot;&gt;&lt;del&gt;HIVE-3464&lt;/del&gt;&lt;/a&gt; : Merging join tree may reorder joins which could be invalid (Navis via Ashutosh Chauhan) (Revision 1464230)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464230&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1464230&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/mergejoins_mixed.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/smb_mapjoin_17.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mergejoins_mixed.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_17.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12641518">HIVE-4316</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12556039" name="HIVE-3464.D5409.2.patch" size="78775" author="phabricator@reviews.facebook.net" created="Wed, 5 Dec 2012 01:50:57 +0000"/>
                            <attachment id="12556215" name="HIVE-3464.D5409.3.patch" size="81324" author="phabricator@reviews.facebook.net" created="Thu, 6 Dec 2012 05:52:57 +0000"/>
                            <attachment id="12575656" name="HIVE-3464.D5409.4.patch" size="81326" author="phabricator@reviews.facebook.net" created="Wed, 27 Mar 2013 04:59:15 +0000"/>
                            <attachment id="12575831" name="HIVE-3464.D5409.5.patch" size="96889" author="phabricator@reviews.facebook.net" created="Thu, 28 Mar 2013 05:29:14 +0000"/>
                            <attachment id="12576320" name="HIVE-3464.D5409.6.patch" size="95202" author="phabricator@reviews.facebook.net" created="Mon, 1 Apr 2013 00:57:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 5 Dec 2012 01:50:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259257</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lntj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124509</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3465] insert into statement overwrites if target table is prefixed with database name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3465</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;insert into statement works as expected when the target table is not prefixed with database name.  It does append correctly.&lt;/p&gt;

&lt;p&gt;However, if I specify a database name prefixing the target table, the statement just overwrites instead of appends:&lt;/p&gt;

&lt;p&gt;insert into table my_database.target select * from source;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607654">HIVE-3465</key>
            <summary>insert into statement overwrites if target table is prefixed with database name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="kaufman">Kaufman Ng</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Sep 2012 15:07:20 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:01 +0000</updated>
                            <resolved>Wed, 26 Sep 2012 09:19:32 +0000</resolved>
                                    <version>0.8.1</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13462543" author="navis" created="Tue, 25 Sep 2012 08:21:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5661&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5661&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13462546" author="phabricator@reviews.facebook.net" created="Tue, 25 Sep 2012 08:25:07 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3465&quot; title=&quot;insert into statement overwrites if target table is prefixed with database name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3465&quot;&gt;&lt;del&gt;HIVE-3465&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; insert into statement overwrites if target table is prefixed with database name&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1903 insert into statement overwrites if target table is prefixed with database name&lt;/p&gt;

&lt;p&gt;  insert into statement works as expected when the target table is not prefixed with database name.  It does append correctly.&lt;/p&gt;

&lt;p&gt;  However, if I specify a database name prefixing the target table, the statement just overwrites instead of appends:&lt;/p&gt;

&lt;p&gt;  insert into table my_database.target select * from source;&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5661&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5661&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/insert1.q&lt;br/&gt;
  ql/src/test/results/clientpositive/insert1.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/13293/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/13293/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13463214" author="cwsteinbach" created="Tue, 25 Sep 2012 20:59:30 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13463216" author="phabricator@reviews.facebook.net" created="Tue, 25 Sep 2012 21:00:07 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3465&quot; title=&quot;insert into statement overwrites if target table is prefixed with database name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3465&quot;&gt;&lt;del&gt;HIVE-3465&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; insert into statement overwrites if target table is prefixed with database name&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D5661&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5661&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1903&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, navis&lt;/p&gt;</comment>
                            <comment id="13463648" author="cwsteinbach" created="Wed, 26 Sep 2012 09:19:32 +0000"  >&lt;p&gt;Committed to trunk. Thanks Navis!&lt;/p&gt;</comment>
                            <comment id="13464106" author="hudson" created="Wed, 26 Sep 2012 19:50:36 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1699 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1699/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1699/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3465&quot; title=&quot;insert into statement overwrites if target table is prefixed with database name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3465&quot;&gt;&lt;del&gt;HIVE-3465&lt;/del&gt;&lt;/a&gt;. insert into statement overwrites if target table is prefixed with database name (Navis Ryu via cws) (Revision 1390343)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1390343&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1390343&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/insert1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548094" author="hudson" created="Wed, 9 Jan 2013 10:24:22 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3676&quot; title=&quot;INSERT INTO regression caused by HIVE-3465&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3676&quot;&gt;&lt;del&gt;HIVE-3676&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; INSERT INTO regression caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3465&quot; title=&quot;insert into statement overwrites if target table is prefixed with database name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3465&quot;&gt;&lt;del&gt;HIVE-3465&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Navis Ryu via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary: DPAL-1931 INSERT INTO regression caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3465&quot; title=&quot;insert into statement overwrites if target table is prefixed with database name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3465&quot;&gt;&lt;del&gt;HIVE-3465&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D6741&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6741&lt;/a&gt; (Revision 1410559)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3465&quot; title=&quot;insert into statement overwrites if target table is prefixed with database name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3465&quot;&gt;&lt;del&gt;HIVE-3465&lt;/del&gt;&lt;/a&gt;. insert into statement overwrites if target table is prefixed with database name (Navis Ryu via cws) (Revision 1390343)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1410559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1410559&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/insert1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert1.q.out&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1390343&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1390343&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/insert1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550006" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:01 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12558394">HIVE-3062</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12614908">HIVE-3676</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12546465" name="HIVE-3465.1.patch.txt" size="21147" author="navis" created="Tue, 25 Sep 2012 08:22:20 +0000"/>
                            <attachment id="12546466" name="HIVE-3465.D5661.1.patch" size="20580" author="phabricator@reviews.facebook.net" created="Tue, 25 Sep 2012 08:25:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Sep 2012 08:21:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242697</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02z9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15314</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3466] create a new type of tables: dependent tables</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3466</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12607674">HIVE-3466</key>
            <summary>create a new type of tables: dependent tables</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Sep 2012 16:51:17 +0000</created>
                <updated>Sat, 9 Mar 2013 18:56:31 +0000</updated>
                                                                            <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13455930" author="namit" created="Fri, 14 Sep 2012 16:51:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Dependent+Tables&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Dependent+Tables&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13455931" author="namit" created="Fri, 14 Sep 2012 16:51:50 +0000"  >&lt;p&gt;Hive supports both partitioned and unpartitioned external tables. In both cases, when a new table/partition is being added, the location is also specified for the new table/partition. Let us consider a specific example:&lt;/p&gt;

&lt;p&gt;create table T (key string, value string) partitioned by (ds string, hr string);&lt;br/&gt;
insert overwrite table T partition (ds=&apos;1&apos;, hr=&apos;1&apos;) ...;&lt;br/&gt;
..&lt;br/&gt;
insert overwrite table T partition (ds=&apos;1&apos;, hr=&apos;24&apos;) ...;&lt;/p&gt;

&lt;p&gt;T is a partitioned table by date and hour, and Tsignal is an external table which conceptually denotes the creation of the signal table.&lt;/p&gt;

&lt;p&gt;create external table Tsignal (key string, value string) partitioned by (ds string);&lt;/p&gt;

&lt;p&gt;When all the hourly partitions are created for a day (ds=&apos;1&apos;), the corresponding partition can be added to Tsignal&lt;/p&gt;

&lt;p&gt;alter table Tsignal add partition (ds=&apos;1&apos;) location &apos;Location of T&apos;/ds=1;&lt;/p&gt;

&lt;p&gt;There is a implicit dependency between Tsignal@ds=1 and T@ds=1/hr=1, T@ds=1/hr=2, .... T@ds=1/hr=24, but that dependency is not captured anywhere&lt;br/&gt;
in the metastore. It would be useful to have an ability to explicitly create that dependency. This dependency can be used for all kinds of auditing purposes. For eg. when the following query is performed:&lt;/p&gt;

&lt;p&gt;select .. from Tsignal where ds = &apos;1&apos;;&lt;/p&gt;

&lt;p&gt;the inputs only contains Tsignal@ds=1, but is should also contain T@ds=1/hr=1, T@ds=1/hr=2,....T@ds=1/hr=24&lt;/p&gt;

&lt;p&gt;The idea is to let the user specify and store the dependency explicitly.&lt;/p&gt;

&lt;p&gt;alter table Tsignal add partition (ds=&apos;1&apos;) location &apos;Location of T&apos;/ds=1 depends table T partition (ds=&apos;1&apos;);&lt;/p&gt;</comment>
                            <comment id="13455933" author="namit" created="Fri, 14 Sep 2012 16:53:20 +0000"  >&lt;p&gt;The dependency need not have any affect for drop partition etc.&lt;br/&gt;
If there is a need, we can have some uses for that dependency.&lt;/p&gt;</comment>
                            <comment id="13463547" author="namit" created="Wed, 26 Sep 2012 05:51:45 +0000"  >&lt;p&gt;The same behavior can be extended to partitioned views.&lt;/p&gt;</comment>
                            <comment id="13464361" author="cwsteinbach" created="Thu, 27 Sep 2012 02:04:53 +0000"  >&lt;p&gt;@Namit: Please add a link to your design doc on the design doc wiki page: &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/DesignDocs&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/DesignDocs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Also, can you please email the dev list to let everyone know that this proposal is ready for review? Thanks.&lt;/p&gt;</comment>
                            <comment id="13598009" author="namit" created="Sat, 9 Mar 2013 17:38:33 +0000"  >&lt;p&gt;Instead of changing the behavior of external tables, it would be easier to add a new type of tables for storing that dependency, dependent tables.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Sep 2012 02:04:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259258</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lntr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124510</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3467] BucketMapJoinOptimizer should optimize joins on partition columns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3467</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Consider the query:&lt;/p&gt;

&lt;p&gt;SELECT * FROM t1 JOIN t2 on t1.part = t2.part and t1.key = t2.key;&lt;/p&gt;

&lt;p&gt;Where t1 and t2 are partitioned by part and bucketed by key.&lt;br/&gt;
Suppose part take values 1 and 2 and t1 and t2 are bucketed into 2 buckets.&lt;/p&gt;

&lt;p&gt;The bucket map join optimizer will put the first bucket of part=1 and part=2 partitions of t2 into the same mapper as that of part=1 partition of t1.  It will do the same for the part=2 partition of t1.&lt;/p&gt;

&lt;p&gt;It could take advantage of the partition values and send the first bucket of only the part=1 partitions of t1 and t2 into one mapper and the first bucket of only the part=2 partitions into another.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607685">HIVE-3467</key>
            <summary>BucketMapJoinOptimizer should optimize joins on partition columns</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Sep 2012 17:27:52 +0000</created>
                <updated>Mon, 6 May 2013 18:17:18 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13466422" author="zhenxiao" created="Sun, 30 Sep 2012 05:43:44 +0000"  >&lt;p&gt;Currently, BucketMapJoinOptimizer does not keep Partition information in its aliasToPartitionBucketNumberMapping and aliasToPartitionBucketFileNamesMapping, without information of Partition Columns, could not do the partition aware optimization. How about adding Partition info into the map:&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;LinkedHashMap&amp;lt;String, List&amp;lt;Integer&amp;gt;&amp;gt; aliasToPartitionBucketNumberMapping =&lt;/li&gt;
	&lt;li&gt;new LinkedHashMap&amp;lt;String, List&amp;lt;Integer&amp;gt;&amp;gt;();&lt;/li&gt;
	&lt;li&gt;LinkedHashMap&amp;lt;String, List&amp;lt;List&amp;lt;String&amp;gt;&amp;gt;&amp;gt; aliasToPartitionBucketFileNamesMapping =&lt;/li&gt;
	&lt;li&gt;new LinkedHashMap&amp;lt;String, List&amp;lt;List&amp;lt;String&amp;gt;&amp;gt;&amp;gt;();&lt;br/&gt;
+&lt;br/&gt;
+      // (alias to &amp;lt;Partition, BucketNumber&amp;gt;)&lt;br/&gt;
+      // AND (alias to &amp;lt;Partition, BucketFileNames&amp;gt;)&lt;br/&gt;
+      // one pair for each partition&lt;br/&gt;
+      // partition key/values info is needed in optimization&lt;br/&gt;
+      LinkedHashMap&amp;lt;String, List&amp;lt;Map&amp;lt;Partition, Integer&amp;gt;&amp;gt;&amp;gt;&lt;br/&gt;
+        aliasToPartitionBucketNumberMapping =&lt;br/&gt;
+        new LinkedHashMap&amp;lt;String, List&amp;lt;Map&amp;lt;Partition, Integer&amp;gt;&amp;gt;&amp;gt;();&lt;br/&gt;
+      LinkedHashMap&amp;lt;String, List&amp;lt;Map&amp;lt;Partition, List&amp;lt;String&amp;gt;&amp;gt;&amp;gt;&amp;gt;&lt;br/&gt;
+        aliasToPartitionBucketFileNamesMapping =&lt;br/&gt;
+        new LinkedHashMap&amp;lt;String, List&amp;lt;Map&amp;lt;Partition, List&amp;lt;String&amp;gt;&amp;gt;&amp;gt;&amp;gt;();&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13466588" author="zhenxiao" created="Sun, 30 Sep 2012 22:51:19 +0000"  >&lt;p&gt;Patch submitted at:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D5769&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5769&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13466633" author="namit" created="Mon, 1 Oct 2012 04:29:29 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13468946" author="zhenxiao" created="Wed, 3 Oct 2012 22:51:35 +0000"  >&lt;p&gt;Comments addressed. Review request resubmitted at:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D5769&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5769&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13527717" author="namit" created="Mon, 10 Dec 2012 05:09:34 +0000"  >&lt;p&gt;can you refresh ?&lt;/p&gt;</comment>
                            <comment id="13527749" author="zhenxiao" created="Mon, 10 Dec 2012 07:31:37 +0000"  >&lt;p&gt;Review request updated at:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D5769&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5769&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13533642" author="namit" created="Mon, 17 Dec 2012 04:34:41 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13539820" author="zhenxiao" created="Thu, 27 Dec 2012 04:02:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3837&quot; title=&quot;Three Table BucketMapJoin is failing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3837&quot;&gt;HIVE-3837&lt;/a&gt; should be fixed first(since three table BucketMapJoin is failing). Then come back to this BucketMapJoin Optimization.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12625305">HIVE-3837</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12547182" name="HIVE-3467.1.patch.txt" size="92977" author="zhenxiao" created="Sun, 30 Sep 2012 22:51:36 +0000"/>
                            <attachment id="12547619" name="HIVE-3467.2.patch.txt" size="158331" author="zhenxiao" created="Wed, 3 Oct 2012 22:51:15 +0000"/>
                            <attachment id="12560154" name="HIVE-3467.3.patch.txt" size="160003" author="zhenxiao" created="Mon, 10 Dec 2012 07:31:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 30 Sep 2012 05:43:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240665</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i014en:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4483</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3468] 0.23 compatibility: hbase_bulk.m times out</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3468</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The hbase_bulk.m test (a MinimrCluster test) in the hbase_handler component gets wedged and does nothing until junit times out and kills the job.&lt;/p&gt;

&lt;p&gt;On a side note, I have seen transient connection errors on downstream tests which normally pass. It appears that the mini cluster is not shutdown cleanly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607696">HIVE-3468</key>
            <summary>0.23 compatibility: hbase_bulk.m times out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="cdrome">Chris Drome</assignee>
                                    <reporter username="cdrome">Chris Drome</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Sep 2012 18:42:00 +0000</created>
                <updated>Mon, 28 Jan 2013 05:40:57 +0000</updated>
                                            <version>0.9.0</version>
                    <version>0.10.0</version>
                                                    <component>HBase Handler</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12606341">HIVE-3437</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259259</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 19 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lntz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124511</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3469] When new hive cluster is started, hive jdbc client hangs.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3469</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The scenario is as follows  : &lt;br/&gt;
For the new hive cluster , when multiple hive client is getting the connection for hive server , there are 3 problems in metastore , hive client.&lt;br/&gt;
1. Since the derby is booted at first connection,  multiple client try to create database.One of the client succeed and another one throw exception because of &lt;b&gt;unique primary constraint&lt;/b&gt; in metatables.&lt;/p&gt;

&lt;p&gt;2. Once the Runtime exception is throw, the hive client which is made connection request will hang forever.&lt;/p&gt;

&lt;p&gt;3. Potentially &quot;ConcurrentModificationException&quot; is thrown by JDOQuery.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop-2.0.1 + Hive-0.9.0&lt;/p&gt;</environment>
        <key id="12607753">HIVE-3469</key>
            <summary>When new hive cluster is started, hive jdbc client hangs.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rohithsharma">Rohith Sharma K S</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Sep 2012 08:58:00 +0000</created>
                <updated>Mon, 24 Sep 2012 06:25:02 +0000</updated>
                            <resolved>Mon, 24 Sep 2012 06:24:41 +0000</resolved>
                                                                    <component>Clients</component>
                    <component>Metastore</component>
                    <component>Thrift API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13456356" author="rohithsharma" created="Sat, 15 Sep 2012 09:04:05 +0000"  >&lt;p&gt;1. For the first problem , exception from JDO is primary constraint.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Caused by: javax.jdo.JDODataStoreException: Insert of object &quot;org.apache.hadoop.hive.metastore.model.MDatabase@63280c85&quot; using statement &quot;INSERT INTO DBS (DB_ID,DB_LOCATION_URI,&quot;NAME&quot;,&quot;DESC&quot;) VALUES (?,?,?,?)&quot; failed : The statement was aborted because it would have caused a duplicate key value in a unique or primary key constraint or unique index identified by &apos;UNIQUE_DATABASE&apos; defined on &apos;DBS&apos;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;2. For the third proble, exception trace is  &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2012-09-14 20:26:22,507 ERROR server.TThreadPoolServer (TThreadPoolServer.java:run(182)) - Error occurred during processing of message.
java.lang.RuntimeException: java.util.ConcurrentModificationException
	at org.apache.hadoop.hive.service.HiveServer$ThriftHiveProcessorFactory.getProcessor(HiveServer.java:572)
	at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:169)
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
	at java.lang.Thread.run(Thread.java:662)
Caused by: java.util.ConcurrentModificationException
	at java.util.Hashtable$Enumerator.next(Hashtable.java:1031)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQuery.getParsedImports(JDOQLQuery.java:364)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQuery.compileInternal(JDOQLQuery.java:174)
	at org.datanucleus.store.query.Query.executeQuery(Query.java:1628)
	at org.datanucleus.store.rdbms.query.legacy.JDOQLQuery.executeQuery(JDOQLQuery.java:245)
	at org.datanucleus.store.query.Query.executeWithArray(Query.java:1499)
	at org.datanucleus.jdo.JDOQuery.execute(JDOQuery.java:243)
	at org.apache.hadoop.hive.metastore.ObjectStore.getMDatabase(ObjectStore.java:389)
	at org.apache.hadoop.hive.metastore.ObjectStore.getDatabase(ObjectStore.java:408)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
         ...
         ...
         at $Proxy0.getDatabase(Unknown Source)
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.createDefaultDB_core(HiveMetaStore.java:351)
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.createDefaultDB(HiveMetaStore.java:375)
	at org.apache.hadoop.hive.metastore.HiveMetaStore$HMSHandler.init(HiveMetaStore.java:278)  
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13456357" author="rohithsharma" created="Sat, 15 Sep 2012 09:09:48 +0000"  >&lt;p&gt;Any exception in above 1 or 3, Hive client hangs forever.&lt;/p&gt;

&lt;p&gt;If we synchronize Metastore.createDefaultDB_core(), all the 3 problem can be resolved. Please suggest your opinion..&lt;/p&gt;</comment>
                            <comment id="13457216" author="cwsteinbach" created="Mon, 17 Sep 2012 18:44:17 +0000"  >&lt;p&gt;It looks like createDefaultDB() (which calls createDefaultDB_core()) is already synchronized. Any idea why this doesn&apos;t solve the problem?&lt;/p&gt;</comment>
                            <comment id="13457605" author="rohithsharma" created="Tue, 18 Sep 2012 05:07:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;Any idea why this doesn&apos;t solve the problem?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I am using hive branch-0.9.0. The above problem is fixed in Hive-Trunk only.&lt;/p&gt;

&lt;p&gt;I gone through the hive-trunk code for the above problem. I have one doubt on the synchronization,&lt;br/&gt;
Exact synchronization problem exist on method createDefaultDB_core(). Why it is synchronized for calling method createDefaultDB().?&lt;/p&gt;

&lt;p&gt;Correct me If I am wrong, synchronizing calling method impact would be on getting client connection is delayed. There is &quot;if&quot; block in method &quot;createDefaultDB()&quot;  that check for flag &quot;createDefaultDB&quot;. Synchronizing to this method lead execute this if check only one client. This if check we can do parallel by bringing down synchronization one layer to the method createDefaultDB_core().&lt;/p&gt;</comment>
                            <comment id="13458001" author="cwsteinbach" created="Tue, 18 Sep 2012 17:57:34 +0000"  >&lt;p&gt;@Rohit: We could probably adjust the layering of these two methods slightly, but I doubt that it would accomplish much in terms of improving performance, mainly because this operation is done once per connection, and we expect clients to spend most of their time doing something else. If &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2937&quot; title=&quot;TestHiveServerSessions hangs when executed directly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2937&quot;&gt;&lt;del&gt;HIVE-2937&lt;/del&gt;&lt;/a&gt; fixes the concurrency issue then I think we should probably mark this ticket as a duplicate of 2937 and backport 2937 to 0.9.&lt;/p&gt;</comment>
                            <comment id="13461604" author="rohithsharma" created="Mon, 24 Sep 2012 05:16:51 +0000"  >&lt;p&gt;Applying patch of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2937&quot; title=&quot;TestHiveServerSessions hangs when executed directly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2937&quot;&gt;&lt;del&gt;HIVE-2937&lt;/del&gt;&lt;/a&gt; has fixed all 3 issue as per description. This we can mark as duplicate of 2937.&lt;/p&gt;</comment>
                            <comment id="13461618" author="cwsteinbach" created="Mon, 24 Sep 2012 06:24:41 +0000"  >&lt;p&gt;@Rohit: Thanks for verifying that this is duplicate.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12550278">HIVE-2937</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 17 Sep 2012 18:44:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259260</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 18 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124512</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3470] Add archived tables as input entity for select statement</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3470</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;select * from table_name where....&lt;/p&gt;

&lt;p&gt;The table is not passed as ReadEntity. So when prehooks check the ReadEntities, an arhived table is not detected. This is for task:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://our.intern.facebook.com/intern/tasks/?t=1736430&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://our.intern.facebook.com/intern/tasks/?t=1736430&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607783">HIVE-3470</key>
            <summary>Add archived tables as input entity for select statement</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="jeanxu">Jean Xu</assignee>
                                    <reporter username="jeanxu">Jean Xu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Sep 2012 22:44:48 +0000</created>
                <updated>Wed, 26 Sep 2012 05:31:34 +0000</updated>
                            <resolved>Wed, 26 Sep 2012 05:31:34 +0000</resolved>
                                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13456504" author="jeanxu" created="Sat, 15 Sep 2012 22:52:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5457&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5457&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13456611" author="namit" created="Sun, 16 Sep 2012 17:19:56 +0000"  >&lt;p&gt;Comments on phabrictor&lt;/p&gt;</comment>
                            <comment id="13456612" author="namit" created="Sun, 16 Sep 2012 17:26:33 +0000"  >&lt;p&gt;The correct/simpler fix would be to add the table as an input.&lt;br/&gt;
I dont think that should break anything.&lt;/p&gt;

&lt;p&gt;The might be an issue with concurrency, since we would acquire read locks on the table. Cant think of anything obvious that would go wrong.&lt;/p&gt;</comment>
                            <comment id="13456745" author="namit" created="Mon, 17 Sep 2012 03:51:56 +0000"  >&lt;p&gt;One of the problems with adding Table as an input is that all DDL operations on the table would block.&lt;br/&gt;
For eg:&lt;/p&gt;

&lt;p&gt;alter table set tblProperties etc.&lt;/p&gt;

&lt;p&gt;would block while someone is selecting from any partition.&lt;/p&gt;</comment>
                            <comment id="13458202" author="jeanxu" created="Tue, 18 Sep 2012 21:36:27 +0000"  >&lt;p&gt;This JIRA is no longer needed. We will implement a patch internally. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 16 Sep 2012 17:19:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259261</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 18 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124513</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://reviews.facebook.net/D5457&quot;&gt;https://reviews.facebook.net/D5457&lt;/a&gt;&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3471] Implement grouping sets in hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3471</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12607850">HIVE-3471</key>
            <summary>Implement grouping sets in hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ivangorbachev">Ivan Gorbachev</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Sep 2012 04:28:12 +0000</created>
                <updated>Thu, 2 May 2013 02:29:56 +0000</updated>
                            <resolved>Thu, 15 Nov 2012 06:49:33 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13456761" author="namit" created="Mon, 17 Sep 2012 04:52:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Enhanced+Aggregation,+Cube,+Grouping+and+Rollup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Enhanced+Aggregation,+Cube,+Grouping+and+Rollup&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13485066" author="ivangorbachev" created="Fri, 26 Oct 2012 17:41:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D6219&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D6219&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13485868" author="namit" created="Mon, 29 Oct 2012 06:53:50 +0000"  >&lt;p&gt;Comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13493772" author="namit" created="Fri, 9 Nov 2012 06:47:17 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13493816" author="namit" created="Fri, 9 Nov 2012 08:11:43 +0000"  >&lt;p&gt;Can you refresh, and recreate the patch ?&lt;/p&gt;</comment>
                            <comment id="13497805" author="namit" created="Thu, 15 Nov 2012 06:49:33 +0000"  >&lt;p&gt;Committed. Thanks Ivan&lt;/p&gt;</comment>
                            <comment id="13498208" author="hudson" created="Thu, 15 Nov 2012 18:31:20 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1798 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1798/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1798/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3471&quot; title=&quot;Implement grouping sets in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3471&quot;&gt;&lt;del&gt;HIVE-3471&lt;/del&gt;&lt;/a&gt; Implement grouping sets in hive&lt;br/&gt;
(Ivan Gorbachev via namit) (Revision 1409664)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409664&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409664&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/grouping_sets.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13502700" author="namit" created="Thu, 22 Nov 2012 10:34:55 +0000"  >&lt;p&gt;Updated the documentation at &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Enhanced+Aggregation,+Cube,+Grouping+and+Rollup&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Enhanced+Aggregation,+Cube,+Grouping+and+Rollup&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13548125" author="hudson" created="Wed, 9 Jan 2013 10:24:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3471&quot; title=&quot;Implement grouping sets in hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3471&quot;&gt;&lt;del&gt;HIVE-3471&lt;/del&gt;&lt;/a&gt; Implement grouping sets in hive&lt;br/&gt;
(Ivan Gorbachev via namit) (Revision 1409664)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409664&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1409664&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/grouping_sets.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/QBParseInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/groupby_grouping_sets5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby_grouping_sets1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/groupby_grouping_sets5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_grouping_sets1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550131" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:30 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12606252">HIVE-3433</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12550988" name="jira-3471.0.patch" size="11252" author="ivangorbachev" created="Fri, 26 Oct 2012 17:41:46 +0000"/>
                            <attachment id="12552683" name="jira-3471.1.patch" size="21294" author="ivangorbachev" created="Thu, 8 Nov 2012 18:27:20 +0000"/>
                            <attachment id="12552896" name="jira-3471.2.patch" size="17897" author="ivangorbachev" created="Fri, 9 Nov 2012 21:54:49 +0000"/>
                            <attachment id="12553206" name="jira-3471.3.pach" size="21010" author="ivangorbachev" created="Mon, 12 Nov 2012 22:14:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 26 Oct 2012 17:41:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248132</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09lpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>53952</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3472] Build An Analytical SQL Engine for MapReduce</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3472</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;While there are continuous efforts in extending Hive&#8217;s SQL support (e.g., see some recent examples such as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2005&quot; title=&quot;Implement BETWEEN operator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2005&quot;&gt;&lt;del&gt;HIVE-2005&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2810&quot; title=&quot;Implement NULL-safe equality operator &amp;lt;=&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2810&quot;&gt;&lt;del&gt;HIVE-2810&lt;/del&gt;&lt;/a&gt;), many widely used SQL constructs are still not supported in HiveQL, such as selecting from multiple tables, subquery in WHERE clauses, etc.  &lt;/p&gt;

&lt;p&gt;We propose to build a SQL-92 full compatible engine (for MapReduce based analytical query processing) as an extension to Hive. &lt;/p&gt;

&lt;p&gt;The SQL frontend will co-exist with the HiveQL frontend; consequently, one can  mix SQL and HiveQL statements in their queries (switching between HiveQL mode and SQL-92 mode using a &#8220;hive.ql.mode&#8221; parameter before each query statement). This way useful Hive extensions are still accessible to users. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12607881">HIVE-3472</key>
            <summary>Build An Analytical SQL Engine for MapReduce</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="shane.huang">Shane Huang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Sep 2012 09:46:13 +0000</created>
                <updated>Wed, 25 Dec 2013 12:15:29 +0000</updated>
                                            <version>0.10.0</version>
                                                        <due></due>
                            <votes>3</votes>
                                    <watches>31</watches>
                                                                                                            <comments>
                            <comment id="13459301" author="alangates" created="Thu, 20 Sep 2012 02:49:07 +0000"  >&lt;p&gt;I read over the design doc but have not looked through the code on github yet.  The first question that comes to mind is why do you propose a separate parser for this?  I think many people will share your goal of making Hive SQL-92 compliant.  But doing it with a totally separate parser underneath will cause significant maintenance and usability issues.  Bugs  in one branch will not match those in the other.  Forcing users to think about whether they are in HQL or SQL-92 will cause confusion and maintainability problems for them as well (e.g. a .sql file written by user1 for HQL will be run in SQL-92 mode by user2, producing either errors or wrong results).  &lt;/p&gt;

&lt;p&gt;Building one parser that can handle either would be a better approach for both users and developers.&lt;/p&gt;

&lt;p&gt;One other thought on open source process.  It&apos;s often better to start with a design doc or discussion on the dev lists before significant amounts of code are contributed.  This gives you a chance to get feedback early before you have committed significant resources to a given path.  Then code can be contributed in small units that interested parties can review.  The prospect of looking through the thousands of lines of code in Hive to understand what is different in panthera is daunting.&lt;/p&gt;</comment>
                            <comment id="13461651" author="jason.dai" created="Mon, 24 Sep 2012 08:03:30 +0000"  >&lt;blockquote&gt;&lt;p&gt;It&apos;s often better to start with a design doc or discussion on the dev lists before significant amounts of code are contributed.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, we agree with that, and this is what we plan to do with this JIRA - use it as a starting point to discuss the best approach to get SQL support for the Hadoop ecosystem (and Hive in particular). The code in panthera on github is not supposed to be a complete implementation to be reviewed; instead, it is supposed to be an early prototype used as a proof point. After the preferred approach and design are greed upon, we need to create several sub-tasks, each of which will be a small, manageable unit for review (just as what we did with HBase-6805).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The first question that comes to mind is why do you propose a separate parser for this?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;To provide full SQL support in the parser, there are basically three possible approaches:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Extend the existing Hive parser to support full SQL constructs&lt;/li&gt;
	&lt;li&gt;Reuse an existing SQL compliant parser and make it co-exist with the existing Hive parser&lt;/li&gt;
	&lt;li&gt;Reuse an existing SQL compliant parser and extend it to support Hive extensions&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The problem with the 1st approach is that, SQL is a very complex language, much more complex than HiveSQL (as a data point, the grammar file of the Hive parser is about 61KB with 2487 lines, while the grammar files of the open source SQL parser &lt;a href=&quot;https://github.com/porcelli/plsql-parser&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/porcelli/plsql-parser&lt;/a&gt; are about 524KB with 8583 lines); in addition, some of the existing SQL grammars in the Hive parser need to be significantly changed to support more complex SQL constructs. Therefore, it would take significant efforts to add full SQL features to the Hive parser.&lt;/p&gt;

&lt;p&gt;The 2nd and 3rd approaches both seem possible, and require significantly fewer efforts than the first approach.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Forcing users to think about whether they are in HQL or SQL-92 will cause confusion and maintainability problems for them as well (e.g. a .sql file written by user1 for HQL will be run in SQL-92 mode by user2, producing either errors or wrong results.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think there are several options to address this issue. In the current example, the user actually needs to specify the mode (hiveql or sql) under which the following queries will run in the .sql file, so that the mode each query will run under is actually predetermined by the .sql file. Another option is that, instead of allowing two parsers to co-exist with each other, we can build two several jars - effectively two warehouse products (one for HiveSQL only and one for SQL only).&lt;/p&gt;

&lt;p&gt;Of course another option is to follow the 3rd approach mentioned above: extend the SQL parser to support HiveQL extensions.&lt;/p&gt;</comment>
                            <comment id="13461695" author="cwsteinbach" created="Mon, 24 Sep 2012 09:08:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;... as a data point, the grammar file of the Hive parser is about 61KB with 2487 lines, while the grammar files of the open source SQL parser &lt;a href=&quot;https://github.com/porcelli/plsql-parser&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/porcelli/plsql-parser&lt;/a&gt; are about 524KB with 8583 lines ...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The parser you referenced on github is actually a parser for Oracle&apos;s PL/SQL language which is basically a combination of SQL and Ada. I think if you stripped out the procedural components you would find that the remainder is probably half the size of the original. Do you intend to implement PL/SQL on top of Hive or just SQL-92?&lt;/p&gt;
</comment>
                            <comment id="13461770" author="jason.dai" created="Mon, 24 Sep 2012 12:41:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;Do you intend to implement PL/SQL on top of Hive or just SQL-92?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;PL/SQL is something we can potentially take on once we have SQL-92 features supported.&lt;/p&gt;</comment>
                            <comment id="13462391" author="lianhuiwang" created="Tue, 25 Sep 2012 03:00:02 +0000"  >&lt;p&gt;nexr have done some works in oracle sql to hive sql.&lt;br/&gt;
the session&apos;s address(from page 18):&lt;br/&gt;
&lt;a href=&quot;http://www.slideshare.net/cloudera/hadoop-world-2011-replacing-rdbdw-with-hadoop-and-hive-for-telco-big-data-jason-han-nexr&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.slideshare.net/cloudera/hadoop-world-2011-replacing-rdbdw-with-hadoop-and-hive-for-telco-big-data-jason-han-nexr&lt;/a&gt;&lt;br/&gt;
i think we should transfer the oracle&apos;s syntax tree to hive&apos;s syntax tree.that maybe easy.&lt;br/&gt;
another thing is directly transfer the oracle&apos;s sql to hive query play.but i think that need more time and works.&lt;/p&gt;</comment>
                            <comment id="13472963" author="shane.huang" created="Wed, 10 Oct 2012 03:28:39 +0000"  >&lt;p&gt;Since we&apos;ve got a lot of discussion here about which approach to choose to implement the SQL compliant parser. I opened a new sub-task entry &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3561&quot; title=&quot;Build a full SQL-compliant parser for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3561&quot;&gt;HIVE-3561&lt;/a&gt; so that we can discuss it there. &lt;/p&gt;</comment>
                            <comment id="13474838" author="shane.huang" created="Fri, 12 Oct 2012 06:42:56 +0000"  >&lt;p&gt;@Lianhui Thanks for comment. I read the nexr&apos;s slides. And there&apos;s another interesting contribution about SQL window functions presented in Hadoop Summit 2012. &lt;a href=&quot;http://www.slideshare.net/Hadoop_Summit/analytical-queries-with-hive&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.slideshare.net/Hadoop_Summit/analytical-queries-with-hive&lt;/a&gt;. &lt;br/&gt;
It looks to me many people are aware that Hive needs improvement to better accomodate commmon OLAP requirements, and many of us actually share similar ideas about which areas to improve - for example, the SQL data type system, OLAP-oriented features (rank,rollup,window functions,etc.), nested &amp;amp; scalar subquery, and etc. &lt;/p&gt;

&lt;p&gt;It seemed nexr didn&apos;t open source their query planer (Hawk), which does the most SQL syntax transformation as I understand, on github (they did contributed a set of OLAP UDF implementations though). We would like to see Hive evolves faster to a better open source tool for OLAP analytics so that we opened this JIRA id to push this forward. And we&apos;re willing to contribute our efforts to open source. &lt;/p&gt;</comment>
                            <comment id="13475080" author="gemini5201314" created="Fri, 12 Oct 2012 15:36:34 +0000"  >&lt;p&gt;It&apos;s seems there&apos;re two unrelated issues we discussed here,one for analytic function,one for compatible for sql-92.&lt;br/&gt;
for analytic features,I think it&apos;s OK to built a new parser since there is no standard,special vendor has some special grammar, we can just treat it like a new framework with a parameter to control whether enable it or not,just like &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-896&quot; title=&quot;Add LEAD/LAG/FIRST/LAST analytical windowing functions to Hive.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-896&quot;&gt;&lt;del&gt;HIVE-896&lt;/del&gt;&lt;/a&gt; did, we open a new session with special shell command,new feature with lots of code integration into hive is always change many thing like metastore,execution engine,explain tree etc. I guess it&apos;s ok to have a parameter switch.  But why we are using pl/sql parser, what exactly analytical features we&apos;re talking about? for sql-92 compatible issue we should discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3561&quot; title=&quot;Build a full SQL-compliant parser for Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3561&quot;&gt;HIVE-3561&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12466060">HIVE-1386</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12545382" name="SQL-design.pdf" size="273101" author="shane.huang" created="Mon, 17 Sep 2012 09:47:31 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12611109">HIVE-3561</subtask>
                            <subtask id="12611787">HIVE-3577</subtask>
                            <subtask id="12611788">HIVE-3578</subtask>
                            <subtask id="12633560">HIVE-4055</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Sep 2012 02:49:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>246617</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07s2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43314</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3473] testNegativeCliDriver_stats_aggregator_error_1 fails</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3473</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;testNegativeCliDriver_stats_aggregator_error_1 fails with the below trace:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;junit.framework.AssertionFailedError: Forked Java VM exited abnormally. Please note the time in the report does not reflect the time until the VM exit.&lt;br/&gt;
	at net.sf.antcontrib.logic.ForTask.doSequentialIteration(ForTask.java:259)&lt;br/&gt;
	at net.sf.antcontrib.logic.ForTask.doToken(ForTask.java:268)&lt;br/&gt;
	at net.sf.antcontrib.logic.ForTask.doTheTasks(ForTask.java:324)&lt;br/&gt;
	at net.sf.antcontrib.logic.ForTask.execute(ForTask.java:244)&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12607923">HIVE-3473</key>
            <summary>testNegativeCliDriver_stats_aggregator_error_1 fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="mweaverh">Matthew Weaver</assignee>
                                    <reporter username="ivangorbachev">Ivan Gorbachev</reporter>
                        <labels>
                            <label>test-fail</label>
                    </labels>
                <created>Mon, 17 Sep 2012 16:30:02 +0000</created>
                <updated>Wed, 3 Apr 2013 23:09:54 +0000</updated>
                                                                            <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13540480" author="ashutoshc" created="Fri, 28 Dec 2012 15:07:41 +0000"  >&lt;p&gt;I have also seen this test failing inconsistently. It passes on same machine in one run, but may fail on another run. Also, apache junkins build server also reports this test failing inconsistently.&lt;/p&gt;</comment>
                            <comment id="13621478" author="mweaverh" created="Wed, 3 Apr 2013 23:09:54 +0000"  >&lt;p&gt;Unable to reproduce this failure in isolation.  Ashutosh reports no repros when running the full suite, nor has this failure been seen in the last ~dozen jenkins builds, since build #2028.&lt;br/&gt;
Will keep watching for another occurrence, but otherwise not actively investigating.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12630295">HIVE-3971</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 28 Dec 2012 15:07:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3474] get_partitions_ps is HORRIBLY broken</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3474</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;1.) This function assumes that partial spec is in order of the partition columns but it does no checking of this whatsoever.  In fact, it throws away everything before the =.&lt;br/&gt;
2.) The regular expression constructed is incorrect because it lacks a trailing &apos;/&apos;.  This means that asking for &apos;ds=2&apos; will return &apos;ds=2009-01-01/foo=bar&apos;.&lt;br/&gt;
3.) There are multiple implementations of makePartName().  At the very least a code cleanup pass should happen.  There is a potentially subtle problem with the one in Warehouse that takes a Map as input since it may not preserve the partition order (which is critical since it is just doing regexp checking).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607967">HIVE-3474</key>
            <summary>get_partitions_ps is HORRIBLY broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jonchang">Jonathan Chang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Sep 2012 22:05:37 +0000</created>
                <updated>Mon, 17 Sep 2012 22:33:17 +0000</updated>
                                                                            <component>Metastore</component>
                    <component>Thrift API</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259263</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124515</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3475] INLINE UDTF doesn&apos;t convert types properly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3475</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I suppose the issue is in line:&lt;br/&gt;
this.forwardObj [ i ] = res.convertIfNecessary(rowList.get( i ), f.getFieldObjectInspector());&lt;/p&gt;

&lt;p&gt;there is never reason for conversion, it should just be:&lt;br/&gt;
this.forwardObj [ i ] = rowList.get( i )&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.ClassCastException: org.apache.hadoop.io.LongWritable cannot be cast to java.lang.Long&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.objectinspector.primitive.JavaLongObjectInspector.get(JavaLongObjectInspector.java:39)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.lazy.LazyUtils.writePrimitiveUTF8(LazyUtils.java:203)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serialize(LazySimpleSerDe.java:427)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.columnar.ColumnarSerDe.serialize(ColumnarSerDe.java:169)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.FileSinkOperator.processOp(FileSinkOperator.java:569)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:762)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.SelectOperator.processOp(SelectOperator.java:84)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:762)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.LateralViewJoinOperator.processOp(LateralViewJoinOperator.java:133)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:762)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.UDTFOperator.forwardUDTFOutput(UDTFOperator.java:112)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.udf.generic.UDTFCollector.collect(UDTFCollector.java:44)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.udf.generic.GenericUDTF.forward(GenericUDTF.java:81)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.udf.generic.GenericUDTFInline.process(GenericUDTFInline.java:63)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.UDTFOperator.processOp(UDTFOperator.java:98)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12607998">HIVE-3475</key>
            <summary>INLINE UDTF doesn&apos;t convert types properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="ikabiljo">Igor Kabiljo</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Sep 2012 03:24:15 +0000</created>
                <updated>Tue, 15 Oct 2013 23:29:18 +0000</updated>
                            <resolved>Sun, 7 Jul 2013 20:21:26 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13458082" author="appodictic" created="Tue, 18 Sep 2012 19:43:12 +0000"  >&lt;p&gt;Could you provide a failing test case?/ hive script?&lt;/p&gt;</comment>
                            <comment id="13459489" author="ikabiljo" created="Thu, 20 Sep 2012 09:53:22 +0000"  >&lt;p&gt;Query that is failing is using custom UDFs, will try to generate failing query with common UDFs.&lt;/p&gt;

&lt;p&gt;The issue here (if this is up to date code):&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFInline.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFInline.java&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;is that initialize returns the exact OI of element of the list - which means process should forward object in the exact format as they are passed, i.e. this should be working code:&lt;/p&gt;

&lt;p&gt;      for (List rowList : innerList){&lt;br/&gt;
        for(int i=0; i&amp;lt;rowList.size();i++) &lt;/p&gt;
{
          this.forwardObj[i] = rowList.get(i);
        }
&lt;p&gt;        forward(this.forwardObj);&lt;br/&gt;
      }&lt;/p&gt;</comment>
                            <comment id="13459687" author="appodictic" created="Thu, 20 Sep 2012 15:51:12 +0000"  >&lt;p&gt;If we can change the code and the current tests still work we can forgo the part where we prove the failure but seeing what breaks and why would be nice.&lt;/p&gt;</comment>
                            <comment id="13462458" author="navis" created="Tue, 25 Sep 2012 05:40:47 +0000"  >&lt;p&gt;Just, &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void process(&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;[] os) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; HiveException {
  &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; row : li.getList(os[0])) {
    forward(row);
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;seemed to be working&lt;/p&gt;</comment>
                            <comment id="13534743" author="phabricator@reviews.facebook.net" created="Tue, 18 Dec 2012 08:08:11 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3475&quot; title=&quot;INLINE UDTF doesn&amp;#39;t convert types properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3475&quot;&gt;&lt;del&gt;HIVE-3475&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; INLINE UDTF doesn&apos;t convert types properly&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1904 INLINE UDTF does not convert type properly&lt;/p&gt;

&lt;p&gt;  I suppose the issue is in line:&lt;br/&gt;
  this.forwardObj [ i ] = res.convertIfNecessary(rowList.get( i ), f.getFieldObjectInspector());&lt;/p&gt;

&lt;p&gt;  there is never reason for conversion, it should just be:&lt;br/&gt;
  this.forwardObj [ i ] = rowList.get( i )&lt;/p&gt;

&lt;p&gt;  Caused by: java.lang.ClassCastException: org.apache.hadoop.io.LongWritable cannot be cast to java.lang.Long&lt;br/&gt;
  	at org.apache.hadoop.hive.serde2.objectinspector.primitive.JavaLongObjectInspector.get(JavaLongObjectInspector.java:39)&lt;br/&gt;
  	at org.apache.hadoop.hive.serde2.lazy.LazyUtils.writePrimitiveUTF8(LazyUtils.java:203)&lt;br/&gt;
  	at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serialize(LazySimpleSerDe.java:427)&lt;br/&gt;
  	at org.apache.hadoop.hive.serde2.columnar.ColumnarSerDe.serialize(ColumnarSerDe.java:169)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.FileSinkOperator.processOp(FileSinkOperator.java:569)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:762)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.SelectOperator.processOp(SelectOperator.java:84)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:762)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.LateralViewJoinOperator.processOp(LateralViewJoinOperator.java:133)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:762)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.UDTFOperator.forwardUDTFOutput(UDTFOperator.java:112)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.udf.generic.UDTFCollector.collect(UDTFCollector.java:44)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.udf.generic.GenericUDTF.forward(GenericUDTF.java:81)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.udf.generic.GenericUDTFInline.process(GenericUDTFInline.java:63)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.exec.UDTFOperator.processOp(UDTFOperator.java:98)&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D7461&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D7461&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFInline.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_inline.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_inline.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/17901/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/17901/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13701655" author="appodictic" created="Sun, 7 Jul 2013 20:12:38 +0000"  >&lt;p&gt;+1 will commit&lt;/p&gt;</comment>
                            <comment id="13701657" author="appodictic" created="Sun, 7 Jul 2013 20:21:26 +0000"  >&lt;p&gt;Committed. Thanks all!&lt;/p&gt;</comment>
                            <comment id="13701691" author="hudson" created="Sun, 7 Jul 2013 22:41:12 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop1-ptest #43 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/43/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/43/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3475&quot; title=&quot;INLINE UDTF doesn&amp;#39;t convert types properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3475&quot;&gt;&lt;del&gt;HIVE-3475&lt;/del&gt;&lt;/a&gt; INLINE UDTF does not convert types properly (Igor Kabiljo and Navis Ryu via egc)&lt;/p&gt;

&lt;p&gt;Submitted by:	Navis Ryu and Igor Kabiljo&lt;br/&gt;
Reviewed by:	Edward Capriolo (Revision 1500531)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500531&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500531&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFInline.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_inline.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_inline.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13702164" author="hudson" created="Mon, 8 Jul 2013 17:40:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2186 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2186/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2186/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3475&quot; title=&quot;INLINE UDTF doesn&amp;#39;t convert types properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3475&quot;&gt;&lt;del&gt;HIVE-3475&lt;/del&gt;&lt;/a&gt; INLINE UDTF does not convert types properly (Igor Kabiljo and Navis Ryu via egc)&lt;/p&gt;

&lt;p&gt;Submitted by:	Navis Ryu and Igor Kabiljo&lt;br/&gt;
Reviewed by:	Edward Capriolo (Revision 1500531)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500531&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500531&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFInline.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_inline.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_inline.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13702440" author="hudson" created="Mon, 8 Jul 2013 21:20:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #277 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/277/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/277/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3475&quot; title=&quot;INLINE UDTF doesn&amp;#39;t convert types properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3475&quot;&gt;&lt;del&gt;HIVE-3475&lt;/del&gt;&lt;/a&gt; INLINE UDTF does not convert types properly (Igor Kabiljo and Navis Ryu via egc)&lt;/p&gt;

&lt;p&gt;Submitted by:	Navis Ryu and Igor Kabiljo&lt;br/&gt;
Reviewed by:	Edward Capriolo (Revision 1500531)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500531&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500531&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFInline.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_inline.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_inline.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13708726" author="hudson" created="Mon, 15 Jul 2013 17:55:22 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #14 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/14/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/14/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3475&quot; title=&quot;INLINE UDTF doesn&amp;#39;t convert types properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3475&quot;&gt;&lt;del&gt;HIVE-3475&lt;/del&gt;&lt;/a&gt; INLINE UDTF does not convert types properly (Igor Kabiljo and Navis Ryu via egc)&lt;/p&gt;

&lt;p&gt;Submitted by:	Navis Ryu and Igor Kabiljo&lt;br/&gt;
Reviewed by:	Edward Capriolo (ecapriolo: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500531&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1500531&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFInline.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_inline.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_inline.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795870" author="ashutoshc" created="Tue, 15 Oct 2013 23:29:18 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12561446" name="HIVE-3475.D7461.1.patch" size="5318" author="phabricator@reviews.facebook.net" created="Tue, 18 Dec 2012 08:08:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Sep 2012 19:43:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259264</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124516</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3476] Change bucketGroup in GroupByDesc to noHash</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3476</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;That&apos;s what the variable is doing.&lt;br/&gt;
The problem with such a change is that it will change ~200 test output files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608000">HIVE-3476</key>
            <summary>Change bucketGroup in GroupByDesc to noHash</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Sep 2012 04:11:48 +0000</created>
                <updated>Tue, 18 Sep 2012 04:11:48 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247669</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08nmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48427</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3477] Duplicate data possible with speculative execution for dynamic partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3477</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Consider a query like:&lt;/p&gt;

&lt;p&gt;insert overwrite T partition (ds)&lt;br/&gt;
select * from&lt;br/&gt;
(mapreduce-subq1&lt;br/&gt;
  union all&lt;br/&gt;
mapreduce-subq2)x;&lt;/p&gt;

&lt;p&gt;Once, mapreduce-subq1 and mapreduce-subq2 are done, the task for the union&lt;br/&gt;
is invoked. At the end of the union task, jobClose is invoked.&lt;/p&gt;

&lt;p&gt;Note that there are 2 tablescan operators. The tree is something like:&lt;/p&gt;


&lt;p&gt;TABLESCAN1  &amp;#8211;&lt;br/&gt;
              \&lt;br/&gt;
               UNION &amp;#8211; SELECT &amp;#8211; FILESINK&lt;br/&gt;
              /&lt;br/&gt;
TABLESCAN2  &amp;#8211;&lt;/p&gt;


&lt;p&gt;In the current setup, jobClose will be invoked twice for FileSink.&lt;br/&gt;
In case of speculative execution, it is possible that data is still is&lt;br/&gt;
being written to tmp Dir. after jobClose is finished once. &lt;/p&gt;

&lt;p&gt;The correct fix would be to make sure that jobClose is only invoked once.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608046">HIVE-3477</key>
            <summary>Duplicate data possible with speculative execution for dynamic partitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Sep 2012 11:23:25 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:10 +0000</updated>
                            <resolved>Thu, 20 Sep 2012 01:03:52 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13457750" author="namit" created="Tue, 18 Sep 2012 11:24:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5505&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5505&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13457933" author="kevinwilfong" created="Tue, 18 Sep 2012 16:40:54 +0000"  >&lt;p&gt;+1 Nice catch Namit.&lt;/p&gt;</comment>
                            <comment id="13458017" author="ashutoshc" created="Tue, 18 Sep 2012 18:12:33 +0000"  >&lt;p&gt;In general I think we should start adopting &lt;tt&gt;OutputCommitter&lt;/tt&gt; functionality provided by MR framework instead of having our own &lt;tt&gt;JobClose&lt;/tt&gt; operator. Whatever logic we want to run at the end of the query (which is done via JobClose currently) can be run in &lt;tt&gt;commitJob&lt;/tt&gt; of last MR job for the query. This insulates us from having to keep a live hive client around for long running queries. Secondly, we are replicating functionality which is already provided by underlying framework. Possibly, this may also help us in avoiding bugs like this one.&lt;br/&gt;
This definitely is not in scope of this bug, but wanted to bring this up since while fixing this issue you might have more insights into why or why not this may be a good idea.&lt;/p&gt;</comment>
                            <comment id="13458844" author="namit" created="Wed, 19 Sep 2012 16:53:11 +0000"  >&lt;p&gt;All the tests passed.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, we can can definitely discuss it in a new jira.&lt;br/&gt;
We dont use OutputCommitter at all right now - since we write into tmp. directories and then move the temp. dirs into the &lt;br/&gt;
final dir.&lt;/p&gt;</comment>
                            <comment id="13458980" author="ashutoshc" created="Wed, 19 Sep 2012 19:03:29 +0000"  >&lt;p&gt;Cool. I created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3489&quot; title=&quot;Use OutputCommitter to get rid of requirement of client being alive for long running queries &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3489&quot;&gt;HIVE-3489&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13459267" author="kevinwilfong" created="Thu, 20 Sep 2012 01:03:52 +0000"  >&lt;p&gt;Committed, thanks Namit.&lt;/p&gt;</comment>
                            <comment id="13548126" author="hudson" created="Wed, 9 Jan 2013 10:24:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3477&quot; title=&quot;Duplicate data possible with speculative execution for dynamic partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3477&quot;&gt;&lt;del&gt;HIVE-3477&lt;/del&gt;&lt;/a&gt;. Duplicate data possible with speculative execution for dynamic partitions. (njain via kevinwilfong) (Revision 1387833)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1387833&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1387833&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/JoinOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Operator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550303" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:10 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12545551" name="hive.3477.1.patch" size="3113" author="namit" created="Tue, 18 Sep 2012 11:27:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Sep 2012 16:40:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259265</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnvb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124517</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3478] Remove the specialized logic to handle the file schemas in windows vs unix from build.xml</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3478</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;After more testing, I realized that this special check can be removed by changing the &#8220;&lt;br class=&quot;atl-forced-newline&quot; /&gt;&#8221; with &#8220;\\\&#8221; to work on both platforms&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608074">HIVE-3478</key>
            <summary>Remove the specialized logic to handle the file schemas in windows vs unix from build.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Sep 2012 14:49:07 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:23 +0000</updated>
                            <resolved>Fri, 28 Sep 2012 05:44:23 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13458261" author="kannakar@microsoft.com" created="Tue, 18 Sep 2012 22:48:36 +0000"  >&lt;p&gt;Attached the patch.&lt;/p&gt;</comment>
                            <comment id="13458281" author="cwsteinbach" created="Tue, 18 Sep 2012 23:39:19 +0000"  >&lt;p&gt;Please submit a review request. Thanks.&lt;/p&gt;</comment>
                            <comment id="13458297" author="kannakar@microsoft.com" created="Tue, 18 Sep 2012 23:50:28 +0000"  >&lt;p&gt;Please find the review request at &lt;a href=&quot;https://reviews.apache.org/r/7150/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7150/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13465126" author="ashutoshc" created="Thu, 27 Sep 2012 21:33:23 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13465383" author="ashutoshc" created="Fri, 28 Sep 2012 05:44:23 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13465611" author="hudson" created="Fri, 28 Sep 2012 13:53:06 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1705 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1705/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1705/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3478&quot; title=&quot;Remove the specialized logic to handle the file schemas in windows vs unix from build.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3478&quot;&gt;&lt;del&gt;HIVE-3478&lt;/del&gt;&lt;/a&gt; : Remove the specialized logic to handle the file schemas in windows vs unix from build.xml (Kanna Karanam via Ashutosh Chauhan) (Revision 1391308)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391308&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391308&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548128" author="hudson" created="Wed, 9 Jan 2013 10:24:30 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3478&quot; title=&quot;Remove the specialized logic to handle the file schemas in windows vs unix from build.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3478&quot;&gt;&lt;del&gt;HIVE-3478&lt;/del&gt;&lt;/a&gt; : Remove the specialized logic to handle the file schemas in windows vs unix from build.xml (Kanna Karanam via Ashutosh Chauhan) (Revision 1391308)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391308&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391308&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550100" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:23 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12545634" name="HIVE-3478.1.patch.txt" size="2240" author="kannakar@microsoft.com" created="Tue, 18 Sep 2012 22:48:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Sep 2012 23:39:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124518</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3479] Bug fix: Return the child JVM exit code to the parent process to handle the error conditions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3479</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It is a bug in the script and noticed it while fixing some of the Negative CLI test failures&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608075">HIVE-3479</key>
            <summary>Bug fix: Return the child JVM exit code to the parent process to handle the error conditions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Sep 2012 14:50:56 +0000</created>
                <updated>Thu, 10 Jan 2013 19:52:57 +0000</updated>
                            <resolved>Thu, 20 Sep 2012 01:07:19 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13457951" author="kannakar@microsoft.com" created="Tue, 18 Sep 2012 16:56:40 +0000"  >&lt;p&gt;Attached the patch&lt;/p&gt;</comment>
                            <comment id="13458307" author="kannakar@microsoft.com" created="Tue, 18 Sep 2012 23:57:27 +0000"  >&lt;p&gt;Please find the review request at &lt;a href=&quot;https://reviews.apache.org/r/7152/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7152/&lt;/a&gt;. Thanks&lt;/p&gt;</comment>
                            <comment id="13458516" author="ashutoshc" created="Wed, 19 Sep 2012 09:06:32 +0000"  >&lt;p&gt;+1 &lt;/p&gt;</comment>
                            <comment id="13459270" author="ashutoshc" created="Thu, 20 Sep 2012 01:07:19 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13548165" author="hudson" created="Wed, 9 Jan 2013 10:24:39 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3479&quot; title=&quot;Bug fix: Return the child JVM exit code to the parent process to handle the error conditions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3479&quot;&gt;&lt;del&gt;HIVE-3479&lt;/del&gt;&lt;/a&gt; : Bug fix: Return the child JVM exit code to the parent process to handle the error conditions (Kanna Karanam via Ashutosh Chauhan) (Revision 1387835)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1387835&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1387835&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/hadoop.cmd&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13549987" author="ashutoshc" created="Thu, 10 Jan 2013 19:52:57 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12545581" name="HIVE-3479.1.patch.txt" size="392" author="kannakar@microsoft.com" created="Tue, 18 Sep 2012 16:56:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 19 Sep 2012 09:06:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259267</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124519</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3480] &lt;Resource leak&gt;: Fix the file handle leaks in Symbolic &amp; Symlink related input formats.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3480</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Noticed these file handle leaks while fixing the Symlink related unit test failures on Windows.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608077">HIVE-3480</key>
            <summary>&lt;Resource leak&gt;: Fix the file handle leaks in Symbolic &amp; Symlink related input formats.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Sep 2012 15:02:32 +0000</created>
                <updated>Fri, 26 Feb 2016 09:13:34 +0000</updated>
                            <resolved>Thu, 8 Nov 2012 16:32:12 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>CLI</component>
                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13489713" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 20:06:06 +0000"  >&lt;p&gt;Please find the code review request at &lt;a href=&quot;https://reviews.apache.org/r/7841/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7841/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13492986" author="ashutoshc" created="Thu, 8 Nov 2012 06:07:43 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13493287" author="ashutoshc" created="Thu, 8 Nov 2012 16:32:12 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13493663" author="hudson" created="Fri, 9 Nov 2012 01:27:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1783 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1783/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1783/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3480&quot; title=&quot;&amp;lt;Resource leak&amp;gt;: Fix the file handle leaks in Symbolic &amp;amp; Symlink related input formats.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3480&quot;&gt;&lt;del&gt;HIVE-3480&lt;/del&gt;&lt;/a&gt; : &amp;lt;Resource leak&amp;gt;: Fix the file handle leaks in Symbolic &amp;amp; Symlink related input formats. (Kanna Karanam via Ashutosh Chauhan) (Revision 1407158)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407158&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407158&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/SymbolicInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/SymlinkTextInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestSymlinkTextInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548185" author="hudson" created="Wed, 9 Jan 2013 10:24:44 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3480&quot; title=&quot;&amp;lt;Resource leak&amp;gt;: Fix the file handle leaks in Symbolic &amp;amp; Symlink related input formats.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3480&quot;&gt;&lt;del&gt;HIVE-3480&lt;/del&gt;&lt;/a&gt; : &amp;lt;Resource leak&amp;gt;: Fix the file handle leaks in Symbolic &amp;amp; Symlink related input formats. (Kanna Karanam via Ashutosh Chauhan) (Revision 1407158)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407158&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407158&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/SymbolicInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/SymlinkTextInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestSymlinkTextInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550099" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:22 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12601520">HIVE-3335</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12551919" name="HIVE-3480.1.patch.txt" size="3939" author="kannakar@microsoft.com" created="Fri, 2 Nov 2012 20:06:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Nov 2012 06:07:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>254058</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0eibr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>82731</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3481] &lt;Resource leak&gt;: Hiveserver is not closing the existing driver handle before executing the next command. It results in to file handle leaks.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3481</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Close the driver object if it exists before creating another driver object. Bunch of HiveServer &amp;amp; JDBC related unit tests are failing because of these file handle leaks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608078">HIVE-3481</key>
            <summary>&lt;Resource leak&gt;: Hiveserver is not closing the existing driver handle before executing the next command. It results in to file handle leaks.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Sep 2012 15:04:03 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:10 +0000</updated>
                            <resolved>Tue, 2 Oct 2012 17:26:45 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>JDBC</component>
                    <component>ODBC</component>
                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13458115" author="kannakar@microsoft.com" created="Tue, 18 Sep 2012 20:20:50 +0000"  >&lt;p&gt;Attached the patch&lt;/p&gt;</comment>
                            <comment id="13458282" author="cwsteinbach" created="Tue, 18 Sep 2012 23:39:27 +0000"  >&lt;p&gt;Please submit a review request. Thanks.&lt;/p&gt;</comment>
                            <comment id="13458303" author="kannakar@microsoft.com" created="Tue, 18 Sep 2012 23:54:24 +0000"  >&lt;p&gt;Please find the review request at &lt;a href=&quot;https://reviews.apache.org/r/7151/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7151/&lt;/a&gt;. Thanks.&lt;/p&gt;</comment>
                            <comment id="13467080" author="ashutoshc" created="Mon, 1 Oct 2012 18:43:25 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13467887" author="ashutoshc" created="Tue, 2 Oct 2012 17:26:45 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13468313" author="hudson" created="Wed, 3 Oct 2012 03:41:33 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1717 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1717/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1717/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3481&quot; title=&quot;&amp;lt;Resource leak&amp;gt;: Hiveserver is not closing the existing driver handle before executing the next command. It results in to file handle leaks.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3481&quot;&gt;&lt;del&gt;HIVE-3481&lt;/del&gt;&lt;/a&gt;: &amp;lt;Resource leak&amp;gt;: Hiveserver is not closing the existing driver handle before executing the next command. It results in to file handle leaks. (Kanna Karanam via Ashutosh Chauhan) (Revision 1393051)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1393051&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1393051&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548187" author="hudson" created="Wed, 9 Jan 2013 10:24:44 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3481&quot; title=&quot;&amp;lt;Resource leak&amp;gt;: Hiveserver is not closing the existing driver handle before executing the next command. It results in to file handle leaks.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3481&quot;&gt;&lt;del&gt;HIVE-3481&lt;/del&gt;&lt;/a&gt;: &amp;lt;Resource leak&amp;gt;: Hiveserver is not closing the existing driver handle before executing the next command. It results in to file handle leaks. (Kanna Karanam via Ashutosh Chauhan) (Revision 1393051)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1393051&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1393051&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550301" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:10 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12545613" name="HIVE-3481.1.patch.txt" size="773" author="kannakar@microsoft.com" created="Tue, 18 Sep 2012 20:20:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Sep 2012 23:39:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242111</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02itr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12651</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3482] Add support for S3 FileSystemCounters to MapRedStats</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3482</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When I run a Hive query on data in S3, it&apos;d be nice if the output included filesystem counters for S3, too. e.g., I&apos;m envisioning a few more columns:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Job 0: Map: 14  Reduce: 1   Cumulative CPU: 491.7 sec   HDFS Read: 3714 S3N Read: 1051000000 HDFS Write: 29 SUCCESS
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;rather than&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Job 0: Map: 14  Reduce: 1   Cumulative CPU: 491.7 sec   HDFS Read: 3714 HDFS Write: 29 SUCCESS
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This shouldn&apos;t require a new setting &amp;#8211; but rather a would only output the counters for which there was a non-null value. And it wouldn&apos;t report on FILES_BYTES_READ/WRITTEN.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608121">HIVE-3482</key>
            <summary>Add support for S3 FileSystemCounters to MapRedStats</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="joecrobak">Joe Crobak</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Sep 2012 20:17:22 +0000</created>
                <updated>Tue, 18 Sep 2012 20:17:22 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 18 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08oyn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48643</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3483] joins using partitioned table give incorrect results on windows </title>
                <link>https://issues.apache.org/jira/browse/HIVE-3483</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive CombineFilter.getSplits returns single split instead of multiple splits on windows. The comparison in CombineFilter.accept() was using paths converted to strings instead of using Paths themselves, and one of the strings had &quot;/C:&quot; and other had &quot;C:&quot; .&lt;/p&gt;

&lt;p&gt;The tests that are affected by this issue include - auto_join18.q,auto_join18_multi_distinct.q,&lt;br/&gt;
join18.q,join18_multi_distinct.q,ppd_union_view.q,create_view.q and union20.q&lt;/p&gt;</description>
                <environment></environment>
        <key id="12608126">HIVE-3483</key>
            <summary>joins using partitioned table give incorrect results on windows </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Sep 2012 20:37:18 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:13 +0000</updated>
                            <resolved>Thu, 27 Sep 2012 00:35:52 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13458258" author="thejas" created="Tue, 18 Sep 2012 22:46:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3483&quot; title=&quot;joins using partitioned table give incorrect results on windows &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3483&quot;&gt;&lt;del&gt;HIVE-3483&lt;/del&gt;&lt;/a&gt;.1.patch - Uses Path for comparison instead of String representations.&lt;/p&gt;</comment>
                            <comment id="13460967" author="ashutoshc" created="Sat, 22 Sep 2012 00:48:03 +0000"  >&lt;p&gt;If this patch is ready for review, can you mark it Patch Available?&lt;/p&gt;</comment>
                            <comment id="13460968" author="thejas" created="Sat, 22 Sep 2012 00:49:50 +0000"  >&lt;p&gt;yes, patch is ready for review. &lt;/p&gt;</comment>
                            <comment id="13463406" author="ashutoshc" created="Wed, 26 Sep 2012 00:44:43 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13463925" author="ashutoshc" created="Wed, 26 Sep 2012 16:20:51 +0000"  >&lt;p&gt;Thejas this is resulting in some test failures. Can you take a look?&lt;/p&gt;</comment>
                            <comment id="13463993" author="thejas" created="Wed, 26 Sep 2012 17:56:24 +0000"  >&lt;p&gt;Sorry about that, I had uploaded an earlier version of my patch. &lt;br/&gt;
Attaching &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3483&quot; title=&quot;joins using partitioned table give incorrect results on windows &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3483&quot;&gt;&lt;del&gt;HIVE-3483&lt;/del&gt;&lt;/a&gt;.2.patch, with fix for the NPE. &lt;/p&gt;
</comment>
                            <comment id="13464327" author="ashutoshc" created="Thu, 27 Sep 2012 00:35:52 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Thejas!&lt;/p&gt;</comment>
                            <comment id="13464532" author="hudson" created="Thu, 27 Sep 2012 07:46:16 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1701 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1701/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1701/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3483&quot; title=&quot;joins using partitioned table give incorrect results on windows &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3483&quot;&gt;&lt;del&gt;HIVE-3483&lt;/del&gt;&lt;/a&gt; :joins using partitioned table give incorrect results on windows (Thejas Nair via Ashutosh Chauhan) (Revision 1390793)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1390793&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1390793&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/CombineHiveInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13494399" author="hudson" created="Fri, 9 Nov 2012 23:03:33 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1786 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1786/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1786/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3696&quot; title=&quot;Revert HIVE-3483 which causes performance regression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3696&quot;&gt;&lt;del&gt;HIVE-3696&lt;/del&gt;&lt;/a&gt; Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3483&quot; title=&quot;joins using partitioned table give incorrect results on windows &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3483&quot;&gt;&lt;del&gt;HIVE-3483&lt;/del&gt;&lt;/a&gt; which causes performance regression&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1407429)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407429&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407429&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/CombineHiveInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13506607" author="hudson" created="Thu, 29 Nov 2012 17:32:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1825 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1825/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1825/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3693&quot; title=&quot;Performance regression introduced by HIVE-3483&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3693&quot;&gt;&lt;del&gt;HIVE-3693&lt;/del&gt;&lt;/a&gt; : Performance regression introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3483&quot; title=&quot;joins using partitioned table give incorrect results on windows &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3483&quot;&gt;&lt;del&gt;HIVE-3483&lt;/del&gt;&lt;/a&gt; (Thejas Nair via Ashutosh Chauhan) (Revision 1415098)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415098&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415098&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/CombineHiveInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548177" author="hudson" created="Wed, 9 Jan 2013 10:24:42 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3693&quot; title=&quot;Performance regression introduced by HIVE-3483&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3693&quot;&gt;&lt;del&gt;HIVE-3693&lt;/del&gt;&lt;/a&gt; : Performance regression introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3483&quot; title=&quot;joins using partitioned table give incorrect results on windows &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3483&quot;&gt;&lt;del&gt;HIVE-3483&lt;/del&gt;&lt;/a&gt; (Thejas Nair via Ashutosh Chauhan) (Revision 1415098)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3696&quot; title=&quot;Revert HIVE-3483 which causes performance regression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3696&quot;&gt;&lt;del&gt;HIVE-3696&lt;/del&gt;&lt;/a&gt; Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3483&quot; title=&quot;joins using partitioned table give incorrect results on windows &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3483&quot;&gt;&lt;del&gt;HIVE-3483&lt;/del&gt;&lt;/a&gt; which causes performance regression&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1407429)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3483&quot; title=&quot;joins using partitioned table give incorrect results on windows &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3483&quot;&gt;&lt;del&gt;HIVE-3483&lt;/del&gt;&lt;/a&gt; :joins using partitioned table give incorrect results on windows (Thejas Nair via Ashutosh Chauhan) (Revision 1390793)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415098&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1415098&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/CombineHiveInputFormat.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407429&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1407429&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/CombineHiveInputFormat.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1390793&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1390793&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/CombineHiveInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550313" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:13 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12615429">HIVE-3696</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12615410">HIVE-3693</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12545633" name="HIVE-3483.1.patch" size="3577" author="thejas" created="Tue, 18 Sep 2012 22:46:24 +0000"/>
                            <attachment id="12546717" name="HIVE-3483.2.patch" size="4153" author="thejas" created="Wed, 26 Sep 2012 17:56:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 22 Sep 2012 00:48:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248735</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09y4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3484] RetryingRawStore logic needs to be significantly reworked to support retries within transactions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3484</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The logic for retrying has been moved from RetryingRawStore to RetryingHMSHandler. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12608142">HIVE-3484</key>
            <summary>RetryingRawStore logic needs to be significantly reworked to support retries within transactions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jeanxu">Jean Xu</assignee>
                                    <reporter username="jeanxu">Jean Xu</reporter>
                        <labels>
                            <label>TODOC10</label>
                    </labels>
                <created>Tue, 18 Sep 2012 21:39:08 +0000</created>
                <updated>Wed, 19 Nov 2014 07:41:36 +0000</updated>
                            <resolved>Mon, 1 Oct 2012 18:46:03 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13458296" author="jeanxu" created="Tue, 18 Sep 2012 23:48:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5535&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5535&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13460680" author="kevinwilfong" created="Fri, 21 Sep 2012 18:33:30 +0000"  >&lt;p&gt;Comments in Phabricator&lt;/p&gt;</comment>
                            <comment id="13460965" author="ashutoshc" created="Sat, 22 Sep 2012 00:40:51 +0000"  >&lt;p&gt;I haven&apos;t looked at the patch in detail. But can you please explain why are you moving retrial logic to HMSHandler from RawStore. How is it going to help retrial within a transaction? Is this patch part of series of patches or this patch alone is sufficient? Just trying to understand the goals here.&lt;/p&gt;</comment>
                            <comment id="13460998" author="kevinwilfong" created="Sat, 22 Sep 2012 01:45:37 +0000"  >&lt;p&gt;We have seen in the past errors where the connection to MySQL will be lost and hence the transaction is broken, but the RetryingRawStore happily retries the command to the RawStore, in which the connection is reestablished and the command succeeds, and continues with the rest of the commands.  These commands are performed outside a transaction and ultimately the command fails because the number of transactions the metastore tries to close at the end does not match the number of open transactions.&lt;/p&gt;</comment>
                            <comment id="13461001" author="kevinwilfong" created="Sat, 22 Sep 2012 01:50:28 +0000"  >&lt;p&gt;There are classes of errors that would be suitable to retry at the raw store level (in which the transaction is maintained open) and classes of errors that should be retried at the Hander level (in which the transaction is rolled back/lost).&lt;/p&gt;

&lt;p&gt;It&apos;s up to Jean how much she wants to accomplish in this JIRA, but when I suggested she work on this task, I was hoping for at least an implementation of something which could retry outside of transactions, determining those classes of errors that should be handled in either the raw store or the handler could be done here or as part of another JIRA.&lt;/p&gt;</comment>
                            <comment id="13461921" author="jeanxu" created="Mon, 24 Sep 2012 17:16:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5535&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5535&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13465808" author="kevinwilfong" created="Fri, 28 Sep 2012 18:33:37 +0000"  >&lt;p&gt;Looks good for the most part, a couple small comments on the diff.&lt;/p&gt;</comment>
                            <comment id="13465883" author="jeanxu" created="Fri, 28 Sep 2012 20:36:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D5535&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5535&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13465917" author="kevinwilfong" created="Fri, 28 Sep 2012 21:27:38 +0000"  >&lt;p&gt;+1 This looks good to me.&lt;/p&gt;</comment>
                            <comment id="13467084" author="kevinwilfong" created="Mon, 1 Oct 2012 18:46:03 +0000"  >&lt;p&gt;Committed, thanks Jean.&lt;/p&gt;</comment>
                            <comment id="13467578" author="hudson" created="Tue, 2 Oct 2012 08:12:12 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1714 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1714/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1714/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3484&quot; title=&quot;RetryingRawStore logic needs to be significantly reworked to support retries within transactions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3484&quot;&gt;&lt;del&gt;HIVE-3484&lt;/del&gt;&lt;/a&gt;. RetryingRawStore logic needs to be significantly reworked to support retries within transactions (Jean Xu via kevinwilfong) (Revision 1392491)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1392491&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1392491&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/IHMSHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreInit.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RetryingHMSHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548178" author="hudson" created="Wed, 9 Jan 2013 10:24:42 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3484&quot; title=&quot;RetryingRawStore logic needs to be significantly reworked to support retries within transactions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3484&quot;&gt;&lt;del&gt;HIVE-3484&lt;/del&gt;&lt;/a&gt;. RetryingRawStore logic needs to be significantly reworked to support retries within transactions (Jean Xu via kevinwilfong) (Revision 1392491)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1392491&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1392491&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/IHMSHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreInit.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RetryingHMSHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550058" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:13 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                            <comment id="14217565" author="lefty@hortonworks.com" created="Wed, 19 Nov 2014 07:40:38 +0000"  >&lt;p&gt;Doc note:  This adds three configuration parameters (&lt;b&gt;hive.hmshandler.retry.attempts&lt;/b&gt;, &lt;b&gt;hive.hmshandler.retry.interval&lt;/b&gt;, and &lt;b&gt;hive.hmshandler.force.reload.conf&lt;/b&gt;) which need to be documented in the wiki:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-MetaStore&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; MetaStore &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The patch is here:  &lt;a href=&quot;https://reviews.facebook.net/D5535&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D5535&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12755945">HIVE-8901</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 21 Sep 2012 18:33:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242114</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02iuf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12654</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
