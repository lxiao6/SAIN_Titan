<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:16:10 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2010-7-14+AND+created+%3C%3D+2010-7-21+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="11" total="11"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1464] improve test query performance</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1464</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;clientpositive/negative tests are extremely slow.&lt;/p&gt;

&lt;p&gt;one major problem seems to be that all the test warehouse tables are deleted and created/re-populated for each test. most of the times this is not required and if we can fix this the tests will run much faster.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469212">HIVE-1464</key>
            <summary>improve test query performance</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsensarma">Joydeep Sen Sarma</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Jul 2010 00:25:03 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:54 +0000</updated>
                            <resolved>Wed, 21 Jul 2010 03:43:28 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12890315" author="jsensarma" created="Tue, 20 Jul 2010 16:53:37 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;skips loading source tables again and again for each test.&lt;/li&gt;
	&lt;li&gt;clears state before a test by removing all tables other than the source tables and reinitializing hiveconf&lt;/li&gt;
	&lt;li&gt;some test results have changed because the previous results were incorrect. they depended on the presence of tables from prior tests. once those tables are cleared out - the test results change&lt;/li&gt;
	&lt;li&gt;added a pre-execute hook for test runs to make sure that none of the source tables are cleaned out.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Result: TestNegativeCliDriver is taking about:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;7 min in current trunk&lt;/li&gt;
	&lt;li&gt;1.5 min with this patch&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;this includes compilation etc. as well i presume - so the actual speedup is higher.&lt;/p&gt;

&lt;p&gt;TestCliDriver is too long to do a comparative run.&lt;/p&gt;</comment>
                            <comment id="12890330" author="nzhang" created="Tue, 20 Jul 2010 17:08:15 +0000"  >&lt;p&gt;Great! I&apos;ll take a look. &lt;/p&gt;</comment>
                            <comment id="12890449" author="nzhang" created="Tue, 20 Jul 2010 21:16:44 +0000"  >&lt;p&gt;Looks good to me. &lt;/p&gt;

&lt;p&gt;John, any comments?&lt;/p&gt;</comment>
                            <comment id="12890452" author="nzhang" created="Tue, 20 Jul 2010 21:21:11 +0000"  >&lt;p&gt;Joy, the test has a diff on clientpositive/show_tablestatus.q. Can you take a look to see if it is expected?&lt;/p&gt;
</comment>
                            <comment id="12890474" author="jsensarma" created="Tue, 20 Jul 2010 21:51:39 +0000"  >&lt;p&gt;very weird. i didn&apos;t see this in an earlier run on testclidriver and it is showing up and the new output is not correct. looking into it. a little foxed - the metadata output is not consistent with the state of the filesystem&lt;/p&gt;</comment>
                            <comment id="12890527" author="jvs" created="Wed, 21 Jul 2010 01:45:00 +0000"  >&lt;p&gt;No additional comments from me except that I am looking forward to faster tests!  &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;For Eigenbase, what we do is to have a set of fixture objects which tests are not supposed to mess with, and we have an automatic cleanup at the beginning of each test case which drops anything in the catalog other than fixture objects.  That allows us to avoid all those DROP TABLES at the beginning and ending of each test (and allows DROP TABLE to fail as it should when the object doesn&apos;t exist).&lt;/p&gt;

&lt;p&gt;Joy&apos;s approach takes us most of the way there.&lt;/p&gt;</comment>
                            <comment id="12890547" author="nzhang" created="Wed, 21 Jul 2010 03:43:28 +0000"  >&lt;p&gt;Committed. Thanks Joydeep!&lt;/p&gt;</comment>
                            <comment id="12890562" author="jsensarma" created="Wed, 21 Jul 2010 05:45:16 +0000"  >&lt;p&gt;hey ning - i wasn&apos;t able to resolve the failing clientpositive test. i see that u didn&apos;t check in the new output - were u able to resolve it somehow.&lt;/p&gt;</comment>
                            <comment id="12890580" author="nzhang" created="Wed, 21 Jul 2010 06:52:21 +0000"  >&lt;p&gt;Ahh, sorry I forgot there is a pending issue. Can you upload an additional patch based on the current trunk?&lt;/p&gt;</comment>
                            <comment id="12890597" author="jsensarma" created="Wed, 21 Jul 2010 07:29:47 +0000"  >&lt;p&gt;ok - i haven&apos;t been able to figure out why that test output changed. the new output is not correct. will investigate tomorrow.&lt;/p&gt;</comment>
                            <comment id="12890608" author="nzhang" created="Wed, 21 Jul 2010 08:19:26 +0000"  >&lt;p&gt;I commented out the cleanup function and found out there are 3 files in src&apos;s warehouse directory: kv1.txt, .kv1.txt.crc, and .gitignore. The first 2 should be correct but the .gitignore is the cause (56Bytes). I&apos;m not sure where it is created though.&lt;/p&gt;</comment>
                            <comment id="12890753" author="jsensarma" created="Wed, 21 Jul 2010 15:44:58 +0000"  >&lt;p&gt;i think i found why it&apos;s happening.&lt;/p&gt;

&lt;p&gt;these lines in build-common.xml:&lt;/p&gt;

&lt;p&gt;    &amp;lt;copy todir=&quot;${test.data.dir}&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;fileset dir=&quot;${test.src.data.dir}&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;exclude name=&quot;**/.svn&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;/fileset&amp;gt;&lt;br/&gt;
    &amp;lt;/copy&amp;gt;&lt;/p&gt;

&lt;p&gt;are copying .gitignore to test/data/warehouse/src&lt;/p&gt;

&lt;p&gt;it remains there after this. the reason this is happening now is that &apos;cleanup()&apos; happens via metadata commands - and there are no tables in metadata at the beginning of the test. so nothing gets deleted. then a whole bunch of &apos;load data&apos; commands are executed - which also don&apos;t delete old stuff.&lt;/p&gt;

&lt;p&gt;after this - earlier each test would call cleanup() again - which would delete the entire directory. but now this is not done anymore. so the .gitignore stays there.&lt;/p&gt;

&lt;p&gt;lots of ways of fixing this - but this whole data/warehouse dir and then copying it recursively is totally unnecessary i think. i will file a separate jira.&lt;/p&gt;</comment>
                            <comment id="13166838" author="hudson" created="Sat, 10 Dec 2011 11:41:39 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.23.0 #13 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.23.0/13/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.23.0/13/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add ptest script&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1464&quot; title=&quot;improve test query performance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1464&quot;&gt;&lt;del&gt;HIVE-1464&lt;/del&gt;&lt;/a&gt; speeded up serial runs somewhat - but looks like it&apos;s still&lt;br/&gt;
too slow. we should use parallel junit or some similar setup to run test queries&lt;br/&gt;
in parallel. this should be really easy as well need to just use a separate&lt;br/&gt;
warehouse/metadb and potentiall mapred system dir location.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 603&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212697&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212697&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Buffer.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Process.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/README&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Report.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Ssh.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/config.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/Properties.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/TestCase.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/TestRun.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/TestSuite.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/common.css&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13166882" author="hudson" created="Sat, 10 Dec 2011 15:05:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1137 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1137/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1137/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1487&quot; title=&quot;parallelize test query runs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1487&quot;&gt;&lt;del&gt;HIVE-1487&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add ptest script&lt;br/&gt;
(Marek Sapota via John Sichi)&lt;/p&gt;

&lt;p&gt;Summary: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1464&quot; title=&quot;improve test query performance&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1464&quot;&gt;&lt;del&gt;HIVE-1464&lt;/del&gt;&lt;/a&gt; speeded up serial runs somewhat - but looks like it&apos;s still&lt;br/&gt;
too slow. we should use parallel junit or some similar setup to run test queries&lt;br/&gt;
in parallel. this should be really easy as well need to just use a separate&lt;br/&gt;
warehouse/metadb and potentiall mapred system dir location.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, jsichi&lt;/p&gt;

&lt;p&gt;Reviewed By: jsichi&lt;/p&gt;

&lt;p&gt;CC: mareksapotafb, jsichi&lt;/p&gt;

&lt;p&gt;Differential Revision: 603&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212697&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1212697&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Buffer.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Process.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/README&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Report.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/Ssh.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/config.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/hivetest.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/Properties.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/TestCase.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/TestRun.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/TestSuite.html&lt;/li&gt;
	&lt;li&gt;/hive/trunk/testutils/ptest/templates/common.css&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12469832">HIVE-1475</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12449940" name="1464.1.patch" size="13801" author="jsensarma" created="Tue, 20 Jul 2010 16:53:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 20 Jul 2010 17:08:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72886</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lf9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123123</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1465] hive-site.xml ${user.name} not replaced for local-file derby metastore connection URL</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1465</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Seems that for this parameter&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;property&amp;gt;
&amp;lt;name&amp;gt;javax.jdo.option.ConnectionURL&amp;lt;/name&amp;gt;
&amp;lt;value&amp;gt;jdbc:derby:;databaseName=/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/hive/metastore/${user.name}_db;create=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/value&amp;gt;
&amp;lt;description&amp;gt;JDBC connect string &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a JDBC metastore&amp;lt;/description&amp;gt;
&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;${user.name} is never replaced by the actual user name:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ ls -la /&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/lib/hive/metastore/
total 24
drwxrwxrwt 3 root root 4096 Apr 30 12:37 .
drwxr-xr-x 3 root root 4096 Apr 30 12:25 ..
drwxrwxr-x 5 hadoop hadoop 4096 Apr 30 12:37 ${user.name}_db
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12469270">HIVE-1465</key>
            <summary>hive-site.xml ${user.name} not replaced for local-file derby metastore connection URL</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Jul 2010 17:55:28 +0000</created>
                <updated>Sat, 17 Dec 2011 00:01:03 +0000</updated>
                            <resolved>Sat, 12 Feb 2011 17:09:54 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.6.0</version>
                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Configuration</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12889271" author="jsensarma" created="Fri, 16 Jul 2010 19:11:23 +0000"  >&lt;p&gt;yeah - i am a little confused by this too. for many hive variables - when i try to print them out using &apos;set&apos; command - i see the unexpanded variable. yet - when hadoop uses those same variables (typically path settings) - the variable is expanded out. i am guessing we are not using the right interface call to get these variables in hive code.&lt;/p&gt;</comment>
                            <comment id="12890390" author="cwsteinbach" created="Tue, 20 Jul 2010 19:00:11 +0000"  >&lt;p&gt;I think that the current behavior of &apos;set&apos; is actually correct. In my opinion you want to be able to see the actual value of the property pre-evaluation, though I do think it makes sense to add a switch to &apos;set&apos; that allows you to force property substitution.&lt;/p&gt;</comment>
                            <comment id="12890397" author="cwsteinbach" created="Tue, 20 Jul 2010 19:09:48 +0000"  >&lt;p&gt;Filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1474&quot; title=&quot;Add &amp;#39;-s&amp;#39; option to SET command that forces substitution&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1474&quot;&gt;HIVE-1474&lt;/a&gt; to track the force substitution enhancement to the &apos;set&apos; command.&lt;/p&gt;</comment>
                            <comment id="12989059" author="cwsteinbach" created="Tue, 1 Feb 2011 06:18:37 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/373/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/373/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12990790" author="cwsteinbach" created="Fri, 4 Feb 2011 22:29:51 +0000"  >&lt;p&gt;Can someone please review this? It&apos;s a simple one-line fix (calling conf.get() to force variable substitution for metastore properties).&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                            <comment id="12990791" author="cwsteinbach" created="Fri, 4 Feb 2011 22:30:18 +0000"  >&lt;p&gt;Upgrading to blocker for 0.7.0.&lt;/p&gt;</comment>
                            <comment id="12990798" author="jvs" created="Fri, 4 Feb 2011 22:44:52 +0000"  >&lt;p&gt;+1.  Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="12993957" author="jvs" created="Sat, 12 Feb 2011 17:09:54 +0000"  >&lt;p&gt;Committed.  Thanks Carl!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12469892" name="HIVE-1464.1.patch.txt" size="895" author="cwsteinbach" created="Tue, 1 Feb 2011 06:17:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 16 Jul 2010 19:11:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72885</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lf9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1466] Add NULL DEFINED AS to ROW FORMAT specification</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1466</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;NULL values are passed to transformers as a literal backslash and a literal N. NULL values are saved when INSERT OVERWRITing LOCAL DIRECTORies as &quot;NULL&quot;. This is inconsistent.&lt;/p&gt;

&lt;p&gt;The ROW FORMAT specification of tables should be able to specify the manner in which a null character is represented. ROW FORMAT NULL DEFINED AS &apos;\N&apos; or &apos;\003&apos; or whatever should apply to all instances of table export and saving.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469316">HIVE-1466</key>
            <summary>Add NULL DEFINED AS to ROW FORMAT specification</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadm">Prasad Mujumdar</assignee>
                                    <reporter username="akramer">Adam Kramer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Jul 2010 02:30:49 +0000</created>
                <updated>Sun, 15 Jun 2014 09:59:19 +0000</updated>
                            <resolved>Mon, 16 Dec 2013 19:52:55 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13846191" author="hiveqa" created="Thu, 12 Dec 2013 09:25:32 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12618376/HIVE-1466.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12618376/HIVE-1466.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4765 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/622/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/622/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/622/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/622/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12618376&lt;/p&gt;</comment>
                            <comment id="13846939" author="xuefuz" created="Thu, 12 Dec 2013 23:57:05 +0000"  >&lt;p&gt;Patch looks good. Minor common on RB.&lt;/p&gt;</comment>
                            <comment id="13847120" author="prasadm" created="Fri, 13 Dec 2013 03:35:38 +0000"  >&lt;p&gt;Addressed review comments, added more test cases&lt;/p&gt;</comment>
                            <comment id="13847166" author="hiveqa" created="Fri, 13 Dec 2013 04:56:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12618535/HIVE-1466.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12618535/HIVE-1466.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4788 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/627/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/627/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/627/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/627/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12618535&lt;/p&gt;</comment>
                            <comment id="13847174" author="xuefuz" created="Fri, 13 Dec 2013 05:17:47 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13849656" author="prasadm" created="Mon, 16 Dec 2013 19:52:55 +0000"  >&lt;p&gt;Patch committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13850063" author="thejas" created="Tue, 17 Dec 2013 03:27:46 +0000"  >&lt;p&gt;Prasad, can you please add a release note to the jira and create a followup jira for inclusion in wiki (Lefty or someone else might be able to help with incorporation in wiki) or update the wiki page itself directly ?&lt;br/&gt;
We should try to ensure that all new features get documented. I think the best way to do that is to ensure that documentation is available before feature is committed.&lt;/p&gt;</comment>
                            <comment id="13850110" author="prasadm" created="Tue, 17 Dec 2013 05:00:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Thanks for pointing that out. I just updated the wiki to reflect the syntax changes. will add a rel note on the ticket.&lt;/p&gt;

&lt;p&gt;I guess it&apos;s a good idea to have a doc jira along with the a patch that introduces a user facing change (SQL syntax, script/tools etc). The reviewers should also verify that before approving the patch.&lt;/p&gt;</comment>
                            <comment id="14031824" author="lefty@hortonworks.com" created="Sun, 15 Jun 2014 09:52:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasadm&quot; class=&quot;user-hover&quot; rel=&quot;prasadm&quot;&gt;Prasad Mujumdar&lt;/a&gt; documented this in the DDL and DML wikidocs:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-CreateTable&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL:  Create Table (row_format) &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-RowFormat,StorageFormat,andSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL:  Row Format, Storage Format, and SerDe &lt;/a&gt;
	&lt;ul&gt;
		&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/pages/diffpagesbyversion.action?pageId=27362034&amp;amp;selectedPageVersions=72&amp;amp;selectedPageVersions=71&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL doc diffs for HIVE-1466 &lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-Writingdataintothefilesystemfromqueries&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DML:  Writing data into the filesystem from queries &lt;/a&gt;
	&lt;ul&gt;
		&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/pages/diffpagesbyversion.action?pageId=27362036&amp;amp;selectedPageVersions=21&amp;amp;selectedPageVersions=20&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DML doc diffs for HIVE-1466 &lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12618376" name="HIVE-1466.1.patch" size="28361" author="prasadm" created="Thu, 12 Dec 2013 07:45:59 +0000"/>
                            <attachment id="12618535" name="HIVE-1466.2.patch" size="39015" author="prasadm" created="Fri, 13 Dec 2013 03:35:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Dec 2013 09:25:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42488</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 32 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08nbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48378</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This features enables defining a custom null format for a table via &amp;#39;create table&amp;#39; statement. A custom null format can also be specified while exporting data to local filesystem using &amp;#39;insert overwrite .. local dir&amp;#39; statement.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1467] dynamic partitioning should cluster by partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1467</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;(based on internal discussion with Ning). Dynamic partitioning should offer a mode where it clusters data by partition before writing out to each partition. This will reduce number of files. Details:&lt;/p&gt;

&lt;p&gt;1. always use reducer stage&lt;br/&gt;
2. mapper sends to reducer based on partitioning column. ie. reducer = f(partition-cols)&lt;br/&gt;
3. f() can be made somewhat smart to:&lt;/p&gt;

&lt;p&gt;   a. spread large partitions across multiple reducers - each mapper can maintain row count seen per partition - and then apply (whenever it sees a new row for a partition): &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;reducer = (row count / 64k) % numReducers&lt;br/&gt;
       Small partitions always go to one reducer. the larger the partition, the more the reducers. this prevents one reducer becoming bottleneck writing out one partition&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   b. this still leaves the issue of very large number of splits. (64K rows from 10K mappers is pretty large). for this one can apply one slight modification:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;reducer = (mapper-id/1024 + row-count/64k) % numReducers&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   ie. - the first 1000 mappers always send the first 64K rows for one partition to the same reducer. the next 1000 send it to the next one. and so on.&lt;/p&gt;

&lt;p&gt;the constants 1024 and 64k are used just as an example. i don&apos;t know what the right numbers are. it&apos;s also clear that this is a case where we need hadoop to do only partitioning (and no sorting). this will be a useful feature to have in hadoop. that will reduce the overhead due to reducers.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469376">HIVE-1467</key>
            <summary>dynamic partitioning should cluster by partitions</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Jul 2010 20:13:47 +0000</created>
                <updated>Thu, 2 Sep 2010 22:19:18 +0000</updated>
                                                                                <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12903533" author="nzhang" created="Fri, 27 Aug 2010 19:00:08 +0000"  >&lt;p&gt;As discussed with Ashish offline. It seems appropriate to suport list partitioning now if we can sort the partition column and distribute the rows to the reducer to write. Will open a new JIRA and make comments on there. &lt;/p&gt;</comment>
                            <comment id="12903562" author="jsensarma" created="Fri, 27 Aug 2010 19:37:55 +0000"  >&lt;p&gt;@Ning - what about skew?&lt;/p&gt;</comment>
                            <comment id="12903565" author="nzhang" created="Fri, 27 Aug 2010 19:46:27 +0000"  >&lt;p&gt;@Joydeep, I filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1602&quot; title=&quot;List Partitioning&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1602&quot;&gt;HIVE-1602&lt;/a&gt; for the list partitioning. This is particularly tackling the problem of skew in partitions. &lt;/p&gt;</comment>
                            <comment id="12905700" author="nzhang" created="Thu, 2 Sep 2010 22:19:18 +0000"  >&lt;p&gt;As discussed with Joydeep and Ashish, it seems we should use the &quot;distribute by&quot; mechanism rather than &quot;cluster by&quot; to avoid sorting at the reducer side. The difference between them is &quot;distribute by&quot; only have MapReduce partition columns set to be the Dyanmic partition columns, and &quot;cluster by&quot; will additionally set &quot;key columns&quot; as the dynamic partition columns as well.&lt;/p&gt;

&lt;p&gt;So I think we can use 2 mode of reducer-side DP with tradeoffs:&lt;br/&gt;
  &amp;#8211; distribute by mode: no sorting but reducers have to keep all files open during DP insert. Good choice when there are large amount of data passed from mappers to reducers.&lt;br/&gt;
  &amp;#8211; cluster by mode: sorting by the DP columns, but we can close a DP file once FileSinkOperator sees a dfferent DP column value. Good choice when total data size is not that large but there are large number of DPs generated.  &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Aug 2010 19:00:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42487</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08obz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48541</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1468] intermediate data produced for select queries ignores hive.exec.compress.intermediate</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1468</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&amp;gt; set hive.exec.compress.intermediate=false;&lt;br/&gt;
&amp;gt; explain extended select xxx from yyy;&lt;br/&gt;
    ...&lt;/p&gt;

&lt;p&gt;            File Output Operator&lt;br/&gt;
              compressed: true&lt;br/&gt;
              GlobalTableId: 0&lt;/p&gt;

&lt;p&gt;looks like we only intermediate locations identified during splitting mr tasks follow this directive. this should be fixed because this forces clients to always decompress output data (even if the config setting is altered).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469479">HIVE-1468</key>
            <summary>intermediate data produced for select queries ignores hive.exec.compress.intermediate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Jul 2010 19:02:42 +0000</created>
                <updated>Sun, 18 Jul 2010 07:12:35 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12889528" author="zshao" created="Sat, 17 Jul 2010 18:07:49 +0000"  >&lt;p&gt;&quot;select queries&quot; means &quot;SELECT&quot; without &quot;INSERT&quot;, correct?&lt;/p&gt;

&lt;p&gt;I agree that we should treat these queries differently, specifically, no compression (or maybe use lzo to same bandwidth - clients can be in other data centers) will be a big win.&lt;/p&gt;</comment>
                            <comment id="12889579" author="jsensarma" created="Sun, 18 Jul 2010 07:12:35 +0000"  >&lt;p&gt;yes - it does make sense to differentiate result data from intermediate. if anything - there&apos;s probably a good argument to be made that we don&apos;t need a separate option for intermediate compression. it should default to whatever policy is being applied for map-reduce intermediate traffic. (that would be a better default than either true or false - that way admins have one less option to get right).&lt;/p&gt;

&lt;p&gt;interestingly - result data also needs minimal replication. the client is single threaded and cannot exploit multiple replicas for bandwidth purposes. also - the data is temporary in nature and doesn&apos;t need reliability.&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 17 Jul 2010 18:07:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42486</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lf9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123125</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1469] replace isArray() calls and remove LOG.isInfoEnabled() in Operator.forward()</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1469</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Small changes:&lt;br/&gt;
In my profiling, isArray() is kind of expensive, we should avoid to call it. &lt;br/&gt;
Also LOG.isInfoEnabled() is called in every operator&apos;s forward() method. We should only call it once.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469492">HIVE-1469</key>
            <summary>replace isArray() calls and remove LOG.isInfoEnabled() in Operator.forward()</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Jul 2010 21:19:19 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:54 +0000</updated>
                            <resolved>Mon, 19 Jul 2010 18:32:43 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12889397" author="he yongqiang" created="Fri, 16 Jul 2010 23:16:52 +0000"  >&lt;p&gt;patch for review. passes all tests in my local.&lt;/p&gt;</comment>
                            <comment id="12889433" author="nzhang" created="Sat, 17 Jul 2010 00:29:00 +0000"  >&lt;p&gt;+1.&lt;br/&gt;
Will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="12889961" author="nzhang" created="Mon, 19 Jul 2010 18:32:43 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12449731" name="hive-1469.1.patch" size="4253" author="he yongqiang" created="Fri, 16 Jul 2010 23:16:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 17 Jul 2010 00:29:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72884</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfa7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123126</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1470] percentile_approx() fails with more than 1 reducer</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1470</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The larger issue is that a UDAF that has variable return types needs two inner Evaluator classes. This patch fixes a NullPointerException bug that is only encountered when partial aggregations are invoked.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469504">HIVE-1470</key>
            <summary>percentile_approx() fails with more than 1 reducer</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mayanklahiri">Mayank Lahiri</assignee>
                                    <reporter username="mayanklahiri">Mayank Lahiri</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Jul 2010 22:37:11 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:42 +0000</updated>
                            <resolved>Tue, 27 Jul 2010 00:17:27 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12889550" author="jvs" created="Sat, 17 Jul 2010 23:33:54 +0000"  >&lt;p&gt;Unit test?&lt;/p&gt;</comment>
                            <comment id="12889551" author="jvs" created="Sat, 17 Jul 2010 23:52:19 +0000"  >&lt;p&gt;Oh...if it requires more than one reducer, we&apos;ll need minimr mode in order to exercise it, meaning I need to finish &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-117&quot; title=&quot;hive regression tests should also execute jobs in non-local mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-117&quot;&gt;HIVE-117&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="12889971" author="mayanklahiri" created="Mon, 19 Jul 2010 18:58:40 +0000"  >&lt;p&gt;Should I create a dependency on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-117&quot; title=&quot;hive regression tests should also execute jobs in non-local mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-117&quot;&gt;HIVE-117&lt;/a&gt;? The only bit that was causing the code to crash has been removed with the split-up of the Evaluator class.&lt;/p&gt;</comment>
                            <comment id="12889981" author="jvs" created="Mon, 19 Jul 2010 19:16:48 +0000"  >&lt;p&gt;How about this..post an updated patch which includes the test case, setting the number of reducers explicitly.  It will be ignored for now (so the test coverage won&apos;t actually be there yet), but I&apos;ll add a note on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-117&quot; title=&quot;hive regression tests should also execute jobs in non-local mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-117&quot;&gt;HIVE-117&lt;/a&gt; that this is a test that needs to start running in minimr mode once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-117&quot; title=&quot;hive regression tests should also execute jobs in non-local mode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-117&quot;&gt;HIVE-117&lt;/a&gt; is fixed.&lt;/p&gt;</comment>
                            <comment id="12892468" author="mayanklahiri" created="Mon, 26 Jul 2010 21:13:42 +0000"  >&lt;p&gt;Added multiple reducers to test case, for eventual testing with minimr mode.&lt;/p&gt;</comment>
                            <comment id="12892502" author="jvs" created="Mon, 26 Jul 2010 22:10:59 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="12892560" author="jvs" created="Tue, 27 Jul 2010 00:17:27 +0000"  >&lt;p&gt;Committed.  Thanks Mayank!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12449723" name="HIVE-1470.1.patch" size="7935" author="mayanklahiri" created="Fri, 16 Jul 2010 22:38:48 +0000"/>
                            <attachment id="12450520" name="HIVE-1470.2.patch" size="19233" author="mayanklahiri" created="Mon, 26 Jul 2010 21:13:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 17 Jul 2010 23:33:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72883</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123127</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1471] CTAS should unescape the column name in the select-clause. </title>
                <link>https://issues.apache.org/jira/browse/HIVE-1471</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following query &lt;br/&gt;
{{{&lt;br/&gt;
create table T as select `to` from S;&lt;br/&gt;
}}}&lt;br/&gt;
failed since `to` should be unescaped before creating the table. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12469513">HIVE-1471</key>
            <summary>CTAS should unescape the column name in the select-clause. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nzhang">Ning Zhang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Sat, 17 Jul 2010 01:05:06 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:35 +0000</updated>
                            <resolved>Thu, 29 Jul 2010 18:55:06 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12889966" author="jsensarma" created="Mon, 19 Jul 2010 18:44:15 +0000"  >&lt;p&gt;committed to trunk. thanks Ning.&lt;/p&gt;</comment>
                            <comment id="12893770" author="nzhang" created="Thu, 29 Jul 2010 18:55:05 +0000"  >&lt;p&gt;committed by Joydeep already. Closing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12449744" name="HIVE-1471.patch" size="19837" author="nzhang" created="Sat, 17 Jul 2010 01:11:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 19 Jul 2010 18:44:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72882</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123128</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1472] reduce the usage of HashMap and List.iterator. </title>
                <link>https://issues.apache.org/jira/browse/HIVE-1472</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt; HashMap is used in a lot of places in Hive. Most times we can just replace it with native array. List.iterator() give a lot of pressure to Java GC, we should avoid it.&lt;br/&gt;
Another thing we can also try here is to replace GroupByOperator&apos;s HashMap look up by not using the ObjectInspectorUtils.compare(). Instead, We can try here is to first serialize the keys and use the serialized bytes to do the comparison.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12469675">HIVE-1472</key>
            <summary>reduce the usage of HashMap and List.iterator. </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Jul 2010 01:24:39 +0000</created>
                <updated>Sun, 20 Jan 2013 15:11:48 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12627775">HIVE-3904</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42485</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08ovj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48629</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1473] plan file should have a high replication factor</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1473</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;it should be set to 10 or something like that (just like job.xml). &lt;/p&gt;</description>
                <environment></environment>
        <key id="12469726">HIVE-1473</key>
            <summary>plan file should have a high replication factor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Jul 2010 16:03:08 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:15 +0000</updated>
                            <resolved>Fri, 8 Oct 2010 04:42:23 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12919151" author="namit" created="Fri, 8 Oct 2010 04:42:23 +0000"  >&lt;p&gt;Committed. Thanks Joy&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12456555" name="1473.1.patch" size="1047" author="jsensarma" created="Wed, 6 Oct 2010 23:39:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Oct 2010 04:42:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72881</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123129</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1474] Add &apos;-s&apos; option to SET command that forces substitution</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1474</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The &apos;set&apos; and &apos;set -v&apos; commands dump unsubstituted property values. I propose adding an additional &apos;-s&apos; switch that forces substitution of the properties.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hiveCLI&amp;gt; set
...
hadoop.tmp.dir=/tmp/hadoop-${user.name}
mapred.system.dir=${hadoop.tmp.dir}/mapred/system
...
hiveCLI&amp;gt; set -s
...
hadoop.tmp.dir=/tmp/hadoop-carl
mapred.system.dir=/tmp/hadoop-carl/mapred/system
...
hiveCLI&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12469745">HIVE-1474</key>
            <summary>Add &apos;-s&apos; option to SET command that forces substitution</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 20 Jul 2010 19:08:42 +0000</created>
                <updated>Tue, 20 Jul 2010 19:08:42 +0000</updated>
                                                                            <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42484</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123130</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>
