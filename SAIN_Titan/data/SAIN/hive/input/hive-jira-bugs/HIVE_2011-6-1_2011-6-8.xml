<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:18:16 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2011-6-1+AND+created+%3C%3D+2011-6-8+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="16" total="16"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2190] WritableDoubleObjectInspector throws ClassCastException when is used in GenericUDF.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2190</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;WritableDoubleObjectInspector throws ClassCastException when I use it in GenericUDF.&lt;br/&gt;
I think it is because the type of DoubleWritable is in WritableDoubleObjectInspector is org.apache.hadoop.hive.serde2.io instead of org.apache.hadoop.io.&lt;/p&gt;

&lt;p&gt;In WritableDoubleObjectInspector,&lt;br/&gt;
org.apache.hadoop.hive.serde2.io.DoubleWritable works fine in GenericUDAF but not in GenericUDF.&lt;/p&gt;

&lt;p&gt;Here, it is query and sample code:&lt;/p&gt;

&lt;p&gt;   select to_double(&quot;1234.11&quot;) from src;&lt;/p&gt;



&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;GenericUDFToDouble &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; GenericUDF {

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; ObjectInspectorConverters.Converter[] converters;

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; ObjectInspector[] argumentOIs;

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; ObjectInspector returnInspector;

	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; ObjectInspector initialize(ObjectInspector[] arguments) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; UDFArgumentException {

		converters = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ObjectInspectorConverters.Converter[arguments.length];
		&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; arguments.length; i++) {
			converters[i] = ObjectInspectorConverters.getConverter(arguments[i],
					PrimitiveObjectInspectorFactory.writableStringObjectInspector);
		}

		argumentOIs = arguments;

		returnInspector = PrimitiveObjectInspectorFactory.writableDoubleObjectInspector;

		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; returnInspector;
	}

	&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; DoubleWritable doubleResult = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DoubleWritable();

	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; evaluate(DeferredObject[] arguments) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; HiveException {

		&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (arguments[0].get() == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
		}

		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
			Text value1 = (Text) converters[0].convert(arguments[0].get());
	
			doubleResult.set(&lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt;.parseDouble(value1.toString()));
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; doubleResult;

		} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
			e.printStackTrace();
			&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
		}

	}

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getDisplayString(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] children) {
		&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;to_double&quot;&lt;/span&gt;;
	}
	
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exception trace&lt;br/&gt;
===============================&lt;br/&gt;
Caused by: java.lang.ClassCastException: org.apache.hadoop.io.DoubleWritable cannot be cast to org.apache.hadoop.hive.serde2.io.DoubleWritable&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.objectinspector.primitive.WritableDoubleObjectInspector.get(WritableDoubleObjectInspector.java:37)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.lazy.LazyUtils.writePrimitiveUTF8(LazyUtils.java:200)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serialize(LazySimpleSerDe.java:442)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serializeField(LazySimpleSerDe.java:396)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe.serialize(LazySimpleSerDe.java:383)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.FileSinkOperator.processOp(FileSinkOperator.java:553)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:744)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.SelectOperator.processOp(SelectOperator.java:84)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:744)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:78)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:744)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:527)&lt;br/&gt;
	... 5 more&lt;br/&gt;
=======================================&lt;/p&gt;


</description>
                <environment>&lt;p&gt;Ubuntu 10.10&lt;/p&gt;</environment>
        <key id="12508911">HIVE-2190</key>
            <summary>WritableDoubleObjectInspector throws ClassCastException when is used in GenericUDF.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="seoeun25">seoeun</reporter>
                        <labels>
                    </labels>
                <created>Wed, 1 Jun 2011 04:32:02 +0000</created>
                <updated>Fri, 5 Aug 2011 00:32:24 +0000</updated>
                            <resolved>Fri, 5 Aug 2011 00:32:24 +0000</resolved>
                                    <version>0.7.0</version>
                                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13079705" author="seoeun25" created="Fri, 5 Aug 2011 00:31:42 +0000"  >&lt;p&gt;Should use DoubleWritable in serde2.io package instead in Hadoop.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43515</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 25 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0liv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123706</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2191] Allow optional [inner] on equi-join.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2191</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Lot&apos;s of databases including mysql support an optional &quot;inner&quot; keyword to explicitely select an equi-join.&lt;br/&gt;
As shown in the mysql docs: &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/join.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.1/en/join.html&lt;/a&gt;&lt;br/&gt;
For completeness/portability we should allow this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509199">HIVE-2191</key>
            <summary>Allow optional [inner] on equi-join.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bennies">Bennie Schut</assignee>
                                    <reporter username="bennies">Bennie Schut</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jun 2011 16:20:15 +0000</created>
                <updated>Fri, 16 Dec 2011 23:57:09 +0000</updated>
                            <resolved>Tue, 28 Jun 2011 21:05:07 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13043449" author="bennies" created="Fri, 3 Jun 2011 16:29:07 +0000"  >&lt;p&gt;Created an alias for inner join.&lt;/p&gt;</comment>
                            <comment id="13043967" author="jiraposter@reviews.apache.org" created="Fri, 3 Jun 2011 18:53:47 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/852/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/852/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2191&quot; title=&quot;Allow optional [inner] on equi-join.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2191&quot;&gt;&lt;del&gt;HIVE-2191&lt;/del&gt;&lt;/a&gt;: Allow optional &lt;span class=&quot;error&quot;&gt;&amp;#91;inner&amp;#93;&lt;/span&gt; on equi-join.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2191&quot; title=&quot;Allow optional [inner] on equi-join.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2191&quot;&gt;&lt;del&gt;HIVE-2191&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2191&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2191&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/docs/xdocs/language_manual/joins.xml 1131084 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 1131084 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/852/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/852/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Bennie&lt;/p&gt;
</comment>
                            <comment id="13043972" author="bennies" created="Fri, 3 Jun 2011 18:58:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/852/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/852/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I wasn&apos;t sure if a test should be added for this. I could copy a normal join test but it would add to the total build time, considering it&apos;s just an alias to join. But if a test is preferred I don&apos;t mind adding it.&lt;/p&gt;</comment>
                            <comment id="13050027" author="jvs" created="Wed, 15 Jun 2011 21:02:30 +0000"  >&lt;p&gt;Please add a testcase.&lt;/p&gt;</comment>
                            <comment id="13054973" author="jiraposter@reviews.apache.org" created="Sat, 25 Jun 2011 21:35:47 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/852/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/852/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-06-25 21:34:41.720584)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added a test&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2191&quot; title=&quot;Allow optional [inner] on equi-join.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2191&quot;&gt;&lt;del&gt;HIVE-2191&lt;/del&gt;&lt;/a&gt;: Allow optional &lt;span class=&quot;error&quot;&gt;&amp;#91;inner&amp;#93;&lt;/span&gt; on equi-join.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2191&quot; title=&quot;Allow optional [inner] on equi-join.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2191&quot;&gt;&lt;del&gt;HIVE-2191&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2191&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2191&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/docs/xdocs/language_manual/joins.xml 1139355 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 1139355 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/innerjoin.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/innerjoin.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/852/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/852/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Bennie&lt;/p&gt;
</comment>
                            <comment id="13054974" author="bennies" created="Sat, 25 Jun 2011 21:37:43 +0000"  >&lt;p&gt;Added a test.&lt;/p&gt;</comment>
                            <comment id="13055263" author="jvs" created="Mon, 27 Jun 2011 01:02:32 +0000"  >&lt;p&gt;Need an ORDER BY on SELECT to make test deterministic.&lt;/p&gt;</comment>
                            <comment id="13055450" author="jiraposter@reviews.apache.org" created="Mon, 27 Jun 2011 10:18:47 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/852/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/852/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-06-27 10:18:47.688311)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added an ORDER BY on SELECT to make test deterministic.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2191&quot; title=&quot;Allow optional [inner] on equi-join.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2191&quot;&gt;&lt;del&gt;HIVE-2191&lt;/del&gt;&lt;/a&gt;: Allow optional &lt;span class=&quot;error&quot;&gt;&amp;#91;inner&amp;#93;&lt;/span&gt; on equi-join.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2191&quot; title=&quot;Allow optional [inner] on equi-join.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2191&quot;&gt;&lt;del&gt;HIVE-2191&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2191&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2191&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/docs/xdocs/language_manual/joins.xml 1139355 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g 1139355 &lt;br/&gt;
  trunk/ql/src/test/queries/clientpositive/innerjoin.q PRE-CREATION &lt;br/&gt;
  trunk/ql/src/test/results/clientpositive/innerjoin.q.out PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/852/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/852/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Bennie&lt;/p&gt;
</comment>
                            <comment id="13055451" author="bennies" created="Mon, 27 Jun 2011 10:19:32 +0000"  >&lt;p&gt;Added an ORDER BY on SELECT to make test deterministic.&lt;/p&gt;</comment>
                            <comment id="13055790" author="jvs" created="Mon, 27 Jun 2011 21:55:05 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.  (For future reference, you should put the ORDER BY on the SELECT which does the fetch diffed by the test, not the INSERT.  In this case it&apos;s OK since it&apos;s a SELECT *, which is currently guaranteed to fetch in table order.)&lt;/p&gt;</comment>
                            <comment id="13056780" author="jvs" created="Tue, 28 Jun 2011 21:05:07 +0000"  >&lt;p&gt;Committed to trunk.  Thanks Bennie!&lt;/p&gt;</comment>
                            <comment id="13056893" author="hudson" created="Tue, 28 Jun 2011 23:43:39 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #799 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/799/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/799/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2191&quot; title=&quot;Allow optional [inner] on equi-join.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2191&quot;&gt;&lt;del&gt;HIVE-2191&lt;/del&gt;&lt;/a&gt;. Allow optional &lt;span class=&quot;error&quot;&gt;&amp;#91;inner&amp;#93;&lt;/span&gt; on equi-join (Bennie Schut via jvs)&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1140748&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1140748&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/innerjoin.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/innerjoin.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/docs/xdocs/language_manual/joins.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12524326">HIVE-2462</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12481367" name="HIVE-2191.1.patch.txt" size="1372" author="bennies" created="Fri, 3 Jun 2011 16:29:07 +0000"/>
                            <attachment id="12483829" name="HIVE-2191.2.patch.txt" size="20467" author="bennies" created="Sat, 25 Jun 2011 21:38:39 +0000"/>
                            <attachment id="12483924" name="HIVE-2191.3.patch.txt" size="21555" author="bennies" created="Mon, 27 Jun 2011 10:19:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 Jun 2011 18:53:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0livb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123707</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Allow optional [inner] on equi-join.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2192] Stats table schema incompatible after HIVE-2185</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2192</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2185&quot; title=&quot;extend table statistics to store the size of uncompressed data (+extend interfaces for collecting other types of statistics)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2185&quot;&gt;&lt;del&gt;HIVE-2185&lt;/del&gt;&lt;/a&gt; introduced a new column in the intermediate stats table. This introduces incompatibility between old and new branches (multiple branches could be deployed in production): the old branch will not work with the new schema, and the new branch will not work with the old schema. A solution would be to rename the stats table name (requires code change) or use a different database name (requires hive-default.xml conf change).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509209">HIVE-2192</key>
            <summary>Stats table schema incompatible after HIVE-2185</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tnykiel">Tomasz Nykiel</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jun 2011 17:40:35 +0000</created>
                <updated>Fri, 16 Dec 2011 23:57:01 +0000</updated>
                            <resolved>Mon, 6 Jun 2011 04:37:46 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13043934" author="tnykiel" created="Fri, 3 Jun 2011 18:18:08 +0000"  >&lt;p&gt;-Changes the table name used for collecting intermediate statistics by JDBCStatsPublisher&lt;br/&gt;
-removes an empty TestStatsPublisher.java&lt;/p&gt;</comment>
                            <comment id="13043940" author="jiraposter@reviews.apache.org" created="Fri, 3 Jun 2011 18:23:48 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/851/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/851/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive, Hairong Kuang and Ning Zhang.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2185&quot; title=&quot;extend table statistics to store the size of uncompressed data (+extend interfaces for collecting other types of statistics)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2185&quot;&gt;&lt;del&gt;HIVE-2185&lt;/del&gt;&lt;/a&gt; introduces new statistics collected by StatsPublisher, which causes a change in the schema of the table used for collecting intermediate statistics by JDBCStatsPublisher.&lt;br/&gt;
This patch changes the table name, to avoid conflicts with the previous version.&lt;/p&gt;

&lt;p&gt;Also this patch removes an empty JUnit java file.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2192&quot; title=&quot;Stats table schema incompatible after HIVE-2185&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2192&quot;&gt;&lt;del&gt;HIVE-2192&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2192&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2192&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/stats/jdbc/JDBCStatsSetupConstants.java 1131108 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/851/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/851/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;JDBCStatsPublisherEnhanced JUnit test.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Tomasz&lt;/p&gt;
</comment>
                            <comment id="13043966" author="nzhang" created="Fri, 3 Jun 2011 18:52:35 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13044707" author="nzhang" created="Mon, 6 Jun 2011 04:37:46 +0000"  >&lt;p&gt;Committed. Thanks Tom!&lt;/p&gt;</comment>
                            <comment id="13044709" author="tnykiel" created="Mon, 6 Jun 2011 04:46:36 +0000"  >&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12481385" name="HIVE-2192.patch" size="629" author="tnykiel" created="Fri, 3 Jun 2011 18:18:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 Jun 2011 18:18:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>71891</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0livj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2193] drop partition with partial specification should remove the HDFS directory corresponding to the root of PS</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2193</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If a table have multiple partitions, say (ds, hr), currently the following command:&lt;/p&gt;

&lt;p&gt; alter table T drop partition(ds=&apos;1&apos;);&lt;/p&gt;

&lt;p&gt;won&apos;t delete the directory .../T/ds=1, although all subdirectories are deleted. This could result in a lot of dangling inodes in HDFS.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509224">HIVE-2193</key>
            <summary>drop partition with partial specification should remove the HDFS directory corresponding to the root of PS</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="pauly">Paul Yang</assignee>
                                    <reporter username="nzhang">Ning Zhang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jun 2011 18:47:25 +0000</created>
                <updated>Fri, 3 Jun 2011 18:47:25 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42232</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 34 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08o9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48532</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2194] Add actions for alter table and alter partition events for metastore event listeners</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2194</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2038&quot; title=&quot;Metastore listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2038&quot;&gt;&lt;del&gt;HIVE-2038&lt;/del&gt;&lt;/a&gt; introduced the MetaStoreEventListener abstract class that defines actions to be performed after particular events on a metastore.  Improve upon that class by adding events to be performed on &quot;alter table&quot; and &quot;alter partition&quot; actions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509232">HIVE-2194</key>
            <summary>Add actions for alter table and alter partition events for metastore event listeners</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sohanjain">Sohan Jain</assignee>
                                    <reporter username="sohanjain">Sohan Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jun 2011 20:10:41 +0000</created>
                <updated>Thu, 2 May 2013 02:29:42 +0000</updated>
                            <resolved>Fri, 8 Jul 2011 20:48:05 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13044016" author="jiraposter@reviews.apache.org" created="Fri, 3 Jun 2011 20:20:47 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and Paul Yang.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2038&quot; title=&quot;Metastore listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2038&quot;&gt;&lt;del&gt;HIVE-2038&lt;/del&gt;&lt;/a&gt; introduced the MetaStoreEventListener abstract class that defines actions to be performed after particular events on a metastore. Improve upon that class by adding events to be performed on &quot;alter table&quot; and &quot;alter partition&quot; actions.  Also, update the hive metastore to call the appropriate functions of the listeners when the events happen.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2194&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/AlterHandler.java 1130342 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1130342 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1130342 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java 1130342 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java 1130342 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RawStore.java 1130342 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterPartitionEvent.java PRE-CREATION &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterTableEvent.java PRE-CREATION &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyListener.java 1130342 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1130342 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/853/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added test cases to TestMetaStoreEventListener.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Sohan&lt;/p&gt;
</comment>
                            <comment id="13044041" author="jiraposter@reviews.apache.org" created="Fri, 3 Jun 2011 20:54:48 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/853/#review758&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/#review758&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/853/#comment1598&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/#comment1598&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This method should either succeed or throw an exception. Since it already throws checked exceptions, adding a boolean return value makes things more complicated for the caller, and signals the same type of failure as an exception but without the ability to include information about what caused the failure. I think it would be better to modify the code so that an exception is always thrown when success==FALSE.&lt;/p&gt;

&lt;p&gt;    This comment also applies to the various alterTable and alterPartition methods located in other classes.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Carl&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-06-03 20:20:03, Sohan Jain wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-06-03 20:20:03)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and Paul Yang.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2038&quot; title=&quot;Metastore listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2038&quot;&gt;&lt;del&gt;HIVE-2038&lt;/del&gt;&lt;/a&gt; introduced the MetaStoreEventListener abstract class that defines actions to be performed after particular events on a metastore. Improve upon that class by adding events to be performed on &quot;alter table&quot; and &quot;alter partition&quot; actions.  Also, update the hive metastore to call the appropriate functions of the listeners when the events happen.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2194&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/AlterHandler.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RawStore.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterPartitionEvent.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterTableEvent.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyListener.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/853/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Added test cases to TestMetaStoreEventListener.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Sohan&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13045207" author="jiraposter@reviews.apache.org" created="Mon, 6 Jun 2011 23:24:59 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-06-06 23:23:50.520460)&lt;/p&gt;


&lt;p&gt;Review request for hive and Paul Yang.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;changed interface for alterTable and alterPartition back to void return type&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2038&quot; title=&quot;Metastore listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2038&quot;&gt;&lt;del&gt;HIVE-2038&lt;/del&gt;&lt;/a&gt; introduced the MetaStoreEventListener abstract class that defines actions to be performed after particular events on a metastore. Improve upon that class by adding events to be performed on &quot;alter table&quot; and &quot;alter partition&quot; actions.  Also, update the hive metastore to call the appropriate functions of the listeners when the events happen.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2194&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyListener.java 1130342 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1130342 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterTableEvent.java PRE-CREATION &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/AlterHandler.java 1130342 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1130342 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1130342 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java 1130342 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java 1130342 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterPartitionEvent.java PRE-CREATION &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/853/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added test cases to TestMetaStoreEventListener.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Sohan&lt;/p&gt;
</comment>
                            <comment id="13045208" author="jiraposter@reviews.apache.org" created="Mon, 6 Jun 2011 23:24:59 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-06-03 20:55:01, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java, line 54&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/853/diff/1/?file=20442#file20442line54&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff/1/?file=20442#file20442line54&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This method should either succeed or throw an exception. Since it already throws checked exceptions, adding a boolean return value makes things more complicated for the caller, and signals the same type of failure as an exception but without the ability to include information about what caused the failure. I think it would be better to modify the code so that an exception is always thrown when success==FALSE.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This comment also applies to the various alterTable and alterPartition methods located in other classes.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thanks for your feedback, Carl.  I understand your point about the return value of those functions.  Is throwing a MetaException in the case of failure appropriate?&lt;/p&gt;

&lt;p&gt;Furthermore, I noticed that a few other RawStore operations return boolean values, such as dropDatabase, alterDatabase, dropTable, addPartition, etc.  The return value in each case corresponds to successfully committing the transaction.  Should we adopt a uniform interface across these functions?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Sohan&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/853/#review758&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/#review758&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-06-03 20:20:03, Sohan Jain wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-06-03 20:20:03)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and Paul Yang.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2038&quot; title=&quot;Metastore listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2038&quot;&gt;&lt;del&gt;HIVE-2038&lt;/del&gt;&lt;/a&gt; introduced the MetaStoreEventListener abstract class that defines actions to be performed after particular events on a metastore. Improve upon that class by adding events to be performed on &quot;alter table&quot; and &quot;alter partition&quot; actions.  Also, update the hive metastore to call the appropriate functions of the listeners when the events happen.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2194&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/AlterHandler.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RawStore.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterPartitionEvent.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterTableEvent.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyListener.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/853/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Added test cases to TestMetaStoreEventListener.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Sohan&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13048658" author="jiraposter@reviews.apache.org" created="Mon, 13 Jun 2011 17:08:51 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-06-03 20:55:01, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java, line 54&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/853/diff/1/?file=20442#file20442line54&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff/1/?file=20442#file20442line54&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This method should either succeed or throw an exception. Since it already throws checked exceptions, adding a boolean return value makes things more complicated for the caller, and signals the same type of failure as an exception but without the ability to include information about what caused the failure. I think it would be better to modify the code so that an exception is always thrown when success==FALSE.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This comment also applies to the various alterTable and alterPartition methods located in other classes.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Sohan Jain wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks for your feedback, Carl.  I understand your point about the return value of those functions.  Is throwing a MetaException in the case of failure appropriate?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Furthermore, I noticed that a few other RawStore operations return boolean values, such as dropDatabase, alterDatabase, dropTable, addPartition, etc.  The return value in each case corresponds to successfully committing the transaction.  Should we adopt a uniform interface across these functions?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hi, is there any update on this?  Thanks for looking!&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Sohan&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/853/#review758&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/#review758&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-06-06 23:23:50, Sohan Jain wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-06-06 23:23:50)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and Paul Yang.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2038&quot; title=&quot;Metastore listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2038&quot;&gt;&lt;del&gt;HIVE-2038&lt;/del&gt;&lt;/a&gt; introduced the MetaStoreEventListener abstract class that defines actions to be performed after particular events on a metastore. Improve upon that class by adding events to be performed on &quot;alter table&quot; and &quot;alter partition&quot; actions.  Also, update the hive metastore to call the appropriate functions of the listeners when the events happen.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2194&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyListener.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterTableEvent.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/AlterHandler.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java 1130342 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterPartitionEvent.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/853/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Added test cases to TestMetaStoreEventListener.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Sohan&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13052805" author="jiraposter@reviews.apache.org" created="Tue, 21 Jun 2011 20:25:47 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-06-21 20:25:04.600512)&lt;/p&gt;


&lt;p&gt;Review request for hive and Paul Yang.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;-updated test cases to resolve conflicts with new commits to trunk.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2038&quot; title=&quot;Metastore listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2038&quot;&gt;&lt;del&gt;HIVE-2038&lt;/del&gt;&lt;/a&gt; introduced the MetaStoreEventListener abstract class that defines actions to be performed after particular events on a metastore. Improve upon that class by adding events to be performed on &quot;alter table&quot; and &quot;alter partition&quot; actions.  Also, update the hive metastore to call the appropriate functions of the listeners when the events happen.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2194&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1138144 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1138144 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java 1138144 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java 1138144 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterPartitionEvent.java PRE-CREATION &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterTableEvent.java PRE-CREATION &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyListener.java 1138144 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1138144 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/853/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added test cases to TestMetaStoreEventListener.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Sohan&lt;/p&gt;
</comment>
                            <comment id="13055983" author="jiraposter@reviews.apache.org" created="Mon, 27 Jun 2011 22:47:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/853/#review920&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/#review920&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/853/#comment1983&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/#comment1983&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Can we check for equality between origP and the old partition instead of comparing fields?&lt;/p&gt;



&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/853/#comment1982&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/#comment1982&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Same here&lt;/p&gt;



&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/853/#comment1981&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/#comment1981&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    origCols.equals(oldCols)?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Paul&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-06-21 20:25:04, Sohan Jain wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-06-21 20:25:04)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and Paul Yang.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2038&quot; title=&quot;Metastore listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2038&quot;&gt;&lt;del&gt;HIVE-2038&lt;/del&gt;&lt;/a&gt; introduced the MetaStoreEventListener abstract class that defines actions to be performed after particular events on a metastore. Improve upon that class by adding events to be performed on &quot;alter table&quot; and &quot;alter partition&quot; actions.  Also, update the hive metastore to call the appropriate functions of the listeners when the events happen.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2194&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1138144 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1138144 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java 1138144 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java 1138144 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterPartitionEvent.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterTableEvent.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyListener.java 1138144 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1138144 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/853/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Added test cases to TestMetaStoreEventListener.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Sohan&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13057463" author="jiraposter@reviews.apache.org" created="Wed, 29 Jun 2011 20:50:28 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-06-27 22:47:07, Paul Yang wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java, lines 142-144&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/853/diff/3/?file=21427#file21427line142&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff/3/?file=21427#file21427line142&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Can we check for equality between origP and the old partition instead of comparing fields?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The equals() method fails, because the parameter &quot;transient_lastDdlTime&quot; is sometimes off by one.  Otherwise, the two objects are entirely equal.  I think the db name, table name, and list of values also ensures equality.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-27 22:47:07, Paul Yang wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java, lines 183-194&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/853/diff/3/?file=21427#file21427line183&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff/3/?file=21427#file21427line183&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     origCols.equals(oldCols)?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Fixed&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-27 22:47:07, Paul Yang wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java, lines 159-161&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/853/diff/3/?file=21427#file21427line159&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff/3/?file=21427#file21427line159&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Same here&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The equals() method also fails here, even though the tables are logically equal.  In the case above, &quot;tbl&quot; does not have a PrincipalPrivilegeSet.  &quot;oldTable&quot; has a PrincipalPrivilegeSet, but all of it&apos;s fields are set to null.  This discrepancy comes from how we get the tables, but I think they should still be considered equal.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Sohan&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/853/#review920&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/#review920&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-06-21 20:25:04, Sohan Jain wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-06-21 20:25:04)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive and Paul Yang.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2038&quot; title=&quot;Metastore listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2038&quot;&gt;&lt;del&gt;HIVE-2038&lt;/del&gt;&lt;/a&gt; introduced the MetaStoreEventListener abstract class that defines actions to be performed after particular events on a metastore. Improve upon that class by adding events to be performed on &quot;alter table&quot; and &quot;alter partition&quot; actions.  Also, update the hive metastore to call the appropriate functions of the listeners when the events happen.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2194&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1138144 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1138144 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java 1138144 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java 1138144 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterPartitionEvent.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterTableEvent.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyListener.java 1138144 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1138144 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/853/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Added test cases to TestMetaStoreEventListener.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Sohan&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13057464" author="jiraposter@reviews.apache.org" created="Wed, 29 Jun 2011 20:50:30 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/853/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-06-29 20:48:43.096053)&lt;/p&gt;


&lt;p&gt;Review request for hive and Paul Yang.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;-fixed Paul&apos;s comments&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2038&quot; title=&quot;Metastore listener&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2038&quot;&gt;&lt;del&gt;HIVE-2038&lt;/del&gt;&lt;/a&gt; introduced the MetaStoreEventListener abstract class that defines actions to be performed after particular events on a metastore. Improve upon that class by adding events to be performed on &quot;alter table&quot; and &quot;alter partition&quot; actions.  Also, update the hive metastore to call the appropriate functions of the listeners when the events happen.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2194&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java 1140399 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1140399 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java 1140399 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java 1140399 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterPartitionEvent.java PRE-CREATION &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterTableEvent.java PRE-CREATION &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyListener.java 1140399 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1140399 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/853/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/853/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added test cases to TestMetaStoreEventListener.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Sohan&lt;/p&gt;
</comment>
                            <comment id="13060720" author="pauly" created="Wed, 6 Jul 2011 17:50:31 +0000"  >&lt;p&gt;+1 Will test and commit. &lt;/p&gt;</comment>
                            <comment id="13062171" author="pauly" created="Fri, 8 Jul 2011 20:48:05 +0000"  >&lt;p&gt;Committed. Thanks Sohan!&lt;/p&gt;</comment>
                            <comment id="13062239" author="pauly" created="Fri, 8 Jul 2011 22:47:41 +0000"  >&lt;p&gt;Sohan just mentioned that there was a mismatch between the RB and JIRA versions for this one too. This will require another patch.&lt;/p&gt;</comment>
                            <comment id="13062243" author="sohanjain" created="Fri, 8 Jul 2011 23:10:16 +0000"  >&lt;p&gt;Please see &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2276&quot; title=&quot;Fix Inconsistency between RB and JIRA patches for HIVE-2194&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2276&quot;&gt;&lt;del&gt;HIVE-2276&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13062296" author="hudson" created="Sat, 9 Jul 2011 02:40:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #817 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/817/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/817/&lt;/a&gt;)&lt;br/&gt;
    Adding files that were missing from the commit for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt;. Add actions for alter table and alter partition events for metastore event listeners (Sohan Jain via pauly)&lt;/p&gt;

&lt;p&gt;pauly : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1144534&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1144534&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterPartitionEvent.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterTableEvent.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;pauly : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1144504&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1144504&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyListener.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13072676" author="hudson" created="Fri, 29 Jul 2011 04:43:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #858 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/858/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/858/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2276&quot; title=&quot;Fix Inconsistency between RB and JIRA patches for HIVE-2194&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2276&quot;&gt;&lt;del&gt;HIVE-2276&lt;/del&gt;&lt;/a&gt;. Fix Inconsistency between RB and JIRA patches for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2194&quot; title=&quot;Add actions for alter table and alter partition events for metastore event listeners&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2194&quot;&gt;&lt;del&gt;HIVE-2194&lt;/del&gt;&lt;/a&gt; (Sohan Jain via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1152007&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1152007&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12513313">HIVE-2276</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12481402" name="HIVE-2194.1.patch" size="23612" author="sohanjain" created="Fri, 3 Jun 2011 20:12:01 +0000"/>
                            <attachment id="12483339" name="HIVE-2194.3.patch" size="21219" author="sohanjain" created="Tue, 21 Jun 2011 20:27:14 +0000"/>
                            <attachment id="12485792" name="HIVE-2194.4.patch" size="20747" author="sohanjain" created="Fri, 8 Jul 2011 22:46:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 Jun 2011 20:20:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66679</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0livr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123709</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2195] Hive queries hangs with first stage job created with zero mappers and 1 reducer,  </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2195</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This happens when query aggregate data w/ predicate selecting bunch of non-existing data partitions. &lt;/p&gt;

&lt;p&gt;e,g, Table XXX has five columns,  A (int), B (int), C(string), date (int) and hour (int), where date/hour are the partition columns, &lt;/p&gt;

&lt;p&gt;select cast((100*date+hour) as BIGINT) as datehour, sum(A) as sumA,&lt;br/&gt;
sum(B) as sumB from XXX where date&amp;gt;=20110925 and C=&apos;test&apos; group by date, hour order by datehour  &lt;/p&gt;


&lt;p&gt;In the above query, make a note that selected date partition range does not exists in hive table i.e. no date partitions for date&amp;gt;=20110925&lt;/p&gt;

&lt;p&gt;The above query hangs with the first map reduce job it creates, with zero mappers and 1 reducer.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509242">HIVE-2195</key>
            <summary>Hive queries hangs with first stage job created with zero mappers and 1 reducer,  </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="vaggarw">Vaibhav Aggarwal</assignee>
                                    <reporter username="vitthal_gogate">vitthal (Suhas) Gogate</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jun 2011 22:02:55 +0000</created>
                <updated>Wed, 27 Jul 2011 21:13:42 +0000</updated>
                            <resolved>Wed, 27 Jul 2011 21:13:42 +0000</resolved>
                                    <version>0.7.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13072014" author="vaggarw" created="Wed, 27 Jul 2011 21:13:09 +0000"  >&lt;p&gt;This is an issue with the fair scheduler.&lt;br/&gt;
This is not a Hive issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Jul 2011 21:13:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43514</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0livz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123710</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2196] Ensure HiveConf includes all properties defined in hive-default.xml</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2196</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There are a bunch of properties that are defined in hive-default.xml but not in HiveConf.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509259">HIVE-2196</key>
            <summary>Ensure HiveConf includes all properties defined in hive-default.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Jun 2011 07:33:06 +0000</created>
                <updated>Thu, 26 Jun 2014 19:50:38 +0000</updated>
                            <resolved>Tue, 15 Nov 2011 17:59:47 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Configuration</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13061642" author="jvs" created="Thu, 7 Jul 2011 22:51:09 +0000"  >&lt;p&gt;For each one of these, we need to verify that the parameter is actually used.  For example, I searched the code for references to hive.optimize.pruner, and could not find any.  In such cases, we should delete from xml rather than add to HiveConf.&lt;/p&gt;

&lt;p&gt;For cases where the parameter is still used (e.g. hive.io.exception.handlers), we should change the points of reference to go through the HiveConf symbol.&lt;/p&gt;</comment>
                            <comment id="13081630" author="chinnalalam" created="Tue, 9 Aug 2011 13:46:47 +0000"  >&lt;p&gt;Patch updated with below information&lt;/p&gt;

&lt;p&gt;&lt;b&gt;The below configurations are not used in the code base so removed from the hive-default.xml&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;hive.mapjoin.hashtable.initialCapacity &lt;br/&gt;
hive.mapjoin.hashtable.loadfactor &lt;br/&gt;
hive.mapjoin.smalltable.filesize &lt;br/&gt;
hive.optimize.pruner &lt;br/&gt;
hive.stats.jdbc.atomic &lt;br/&gt;
hive.concurrency.manager &lt;/p&gt;

&lt;p&gt;&lt;b&gt;The below configurations are not used in the code base but these configurations are required for the system so need to maintain in the hive-default.xml and no need to add in the HiveConf.java&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;javax.jdo.option.ConnectionDriverName &lt;br/&gt;
javax.jdo.PersistenceManagerFactoryClass &lt;br/&gt;
javax.jdo.option.DetachAllOnCommit &lt;br/&gt;
javax.jdo.option.NonTransactionalRead &lt;br/&gt;
javax.jdo.option.ConnectionUserName &lt;br/&gt;
fs.har.impl &lt;/p&gt;</comment>
                            <comment id="13081850" author="jiraposter@reviews.apache.org" created="Tue, 9 Aug 2011 19:12:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1423/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;The below configurations are not used in the code base so removed from the hive-default.xml&lt;/p&gt;

&lt;p&gt;hive.mapjoin.hashtable.initialCapacity &lt;br/&gt;
hive.mapjoin.hashtable.loadfactor &lt;br/&gt;
hive.mapjoin.smalltable.filesize &lt;br/&gt;
hive.optimize.pruner &lt;br/&gt;
hive.stats.jdbc.atomic &lt;br/&gt;
hive.concurrency.manager &lt;/p&gt;

&lt;p&gt;The below configurations are not used in the code base but these configurations are required for the system so need to maintain in the hive-default.xml and no need to add in the HiveConf.java&lt;/p&gt;

&lt;p&gt;javax.jdo.option.ConnectionDriverName &lt;br/&gt;
javax.jdo.PersistenceManagerFactoryClass &lt;br/&gt;
javax.jdo.option.DetachAllOnCommit &lt;br/&gt;
javax.jdo.option.NonTransactionalRead &lt;br/&gt;
javax.jdo.option.ConnectionUserName &lt;br/&gt;
fs.har.impl &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; title=&quot;Ensure HiveConf includes all properties defined in hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2196&quot;&gt;&lt;del&gt;HIVE-2196&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2196&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1155275 &lt;br/&gt;
  trunk/conf/hive-default.xml 1155275 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1155275 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1155275 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java 1155275 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java 1155275 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1155275 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java 1155275 &lt;br/&gt;
  trunk/shims/src/common/java/org/apache/hadoop/hive/io/HiveIOExceptionHandlerChain.java 1155275 &lt;br/&gt;
  trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java 1155275 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1423/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;All unit tests passed&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13081851" author="chinnalalam" created="Tue, 9 Aug 2011 19:12:33 +0000"  >&lt;p&gt;Added review board request.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1423/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13084944" author="jiraposter@reviews.apache.org" created="Mon, 15 Aug 2011 02:34:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1423/#review1451&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/#review1451&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;&amp;gt; The below configurations are not used in the code base but these configurations are required for the system so need to maintain in the hive-default.xml and no need to add in the HiveConf.java&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Actually, everything that appears in hive-default.xml should also appear in HiveConf and vice-versa.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Carl&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-08-09 19:11:13, chinna wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1423/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-08-09 19:11:13)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;The below configurations are not used in the code base so removed from the hive-default.xml&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;hive.mapjoin.hashtable.initialCapacity &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;hive.mapjoin.hashtable.loadfactor &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;hive.mapjoin.smalltable.filesize &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;hive.optimize.pruner &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;hive.stats.jdbc.atomic &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;hive.concurrency.manager &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;The below configurations are not used in the code base but these configurations are required for the system so need to maintain in the hive-default.xml and no need to add in the HiveConf.java&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;javax.jdo.option.ConnectionDriverName &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;javax.jdo.PersistenceManagerFactoryClass &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;javax.jdo.option.DetachAllOnCommit &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;javax.jdo.option.NonTransactionalRead &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;javax.jdo.option.ConnectionUserName &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;fs.har.impl &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; title=&quot;Ensure HiveConf includes all properties defined in hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2196&quot;&gt;&lt;del&gt;HIVE-2196&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2196&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1155275 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/conf/hive-default.xml 1155275 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1155275 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1155275 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java 1155275 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java 1155275 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1155275 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java 1155275 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/shims/src/common/java/org/apache/hadoop/hive/io/HiveIOExceptionHandlerChain.java 1155275 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java 1155275 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1423/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;All unit tests passed&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;chinna&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13085757" author="jiraposter@reviews.apache.org" created="Tue, 16 Aug 2011 14:53:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1423/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-08-16 14:51:32.766435)&lt;/p&gt;


&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;These configurations are added to HiveConf.java&lt;/p&gt;

&lt;p&gt;javax.jdo.option.ConnectionDriverName &lt;br/&gt;
javax.jdo.PersistenceManagerFactoryClass &lt;br/&gt;
javax.jdo.option.DetachAllOnCommit &lt;br/&gt;
javax.jdo.option.NonTransactionalRead &lt;br/&gt;
javax.jdo.option.ConnectionUserName &lt;br/&gt;
fs.har.impl &lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;The below configurations are not used in the code base so removed from the hive-default.xml&lt;/p&gt;

&lt;p&gt;hive.mapjoin.hashtable.initialCapacity &lt;br/&gt;
hive.mapjoin.hashtable.loadfactor &lt;br/&gt;
hive.mapjoin.smalltable.filesize &lt;br/&gt;
hive.optimize.pruner &lt;br/&gt;
hive.stats.jdbc.atomic &lt;br/&gt;
hive.concurrency.manager &lt;/p&gt;

&lt;p&gt;The below configurations are not used in the code base but these configurations are required for the system so need to maintain in the hive-default.xml and no need to add in the HiveConf.java&lt;/p&gt;

&lt;p&gt;javax.jdo.option.ConnectionDriverName &lt;br/&gt;
javax.jdo.PersistenceManagerFactoryClass &lt;br/&gt;
javax.jdo.option.DetachAllOnCommit &lt;br/&gt;
javax.jdo.option.NonTransactionalRead &lt;br/&gt;
javax.jdo.option.ConnectionUserName &lt;br/&gt;
fs.har.impl &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; title=&quot;Ensure HiveConf includes all properties defined in hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2196&quot;&gt;&lt;del&gt;HIVE-2196&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2196&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1158213 &lt;br/&gt;
  trunk/conf/hive-default.xml 1158213 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1158213 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1158213 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java 1158213 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java 1158213 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1158213 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java 1158213 &lt;br/&gt;
  trunk/shims/src/common/java/org/apache/hadoop/hive/io/HiveIOExceptionHandlerChain.java 1158213 &lt;br/&gt;
  trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java 1158213 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1423/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;All unit tests passed&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13085758" author="chinnalalam" created="Tue, 16 Aug 2011 14:54:40 +0000"  >&lt;p&gt;These configurations are added to HiveConf.java&lt;/p&gt;

&lt;p&gt;javax.jdo.option.ConnectionDriverName &lt;br/&gt;
javax.jdo.PersistenceManagerFactoryClass &lt;br/&gt;
javax.jdo.option.DetachAllOnCommit &lt;br/&gt;
javax.jdo.option.NonTransactionalRead &lt;br/&gt;
javax.jdo.option.ConnectionUserName &lt;br/&gt;
fs.har.impl &lt;/p&gt;</comment>
                            <comment id="13087484" author="cwsteinbach" created="Fri, 19 Aug 2011 03:09:40 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13087493" author="cwsteinbach" created="Fri, 19 Aug 2011 03:30:52 +0000"  >&lt;p&gt;I get a compilation error in HiveIOExceptionHandlerChain. Looks like you need to import HiveConf.&lt;/p&gt;</comment>
                            <comment id="13087766" author="chinnalalam" created="Fri, 19 Aug 2011 15:40:59 +0000"  >&lt;p&gt;Hi Carl,&lt;br/&gt;
   i applied the patch on trunk i did not get compilation failure and in HiveIOExceptionHandlerChain  HiveConf is improted in this patch. Can u check one more time. I am submitting the same patch.&lt;/p&gt;</comment>
                            <comment id="13093123" author="cwsteinbach" created="Mon, 29 Aug 2011 19:27:12 +0000"  >&lt;p&gt;@Chinna: Compilation still fails for me. Please see the attached ant build log for more details.&lt;/p&gt;</comment>
                            <comment id="13093319" author="cwsteinbach" created="Mon, 29 Aug 2011 23:53:59 +0000"  >&lt;p&gt;@Chinna: I suspect this is working for you because you haven&apos;t run &apos;ant clean&apos;. If you&lt;br/&gt;
do you&apos;ll see that your changes have introduced a circular build dependency: hive-shims&lt;br/&gt;
depends on hive-common and vice-versa, whereas previously hive-common only depended&lt;br/&gt;
on hive-shims. If you revert your changes to the shims/ directory I think this patch&lt;br/&gt;
will build cleanly and should be ready to commit.&lt;/p&gt;</comment>
                            <comment id="13094304" author="ashutoshc" created="Wed, 31 Aug 2011 04:54:04 +0000"  >&lt;p&gt;What about the values? Some keys have different default value in HiveConf then from hive-default.xml. Shouldn&apos;t the values should also match up in two places?&lt;/p&gt;</comment>
                            <comment id="13095695" author="cwsteinbach" created="Fri, 2 Sep 2011 00:48:17 +0000"  >&lt;p&gt;@Chinna: Please followup on the issue raised by Ashutosh. Configuration property values should match in HiveConf and hive-default.xml. If they don&apos;t match then the value that appears in hive-default.xml should be copied over to HiveConf. Thanks.&lt;/p&gt;</comment>
                            <comment id="13097757" author="chinnalalam" created="Tue, 6 Sep 2011 06:15:45 +0000"  >&lt;p&gt;@Carl: Reworked on the patch and latest patch taken care the below issues&lt;br/&gt;
1) Configuration property values verified and made it sync with the hive-default.xml&lt;br/&gt;
2) Compilation failure corrected.&lt;/p&gt;</comment>
                            <comment id="13097758" author="jiraposter@reviews.apache.org" created="Tue, 6 Sep 2011 06:18:10 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1423/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-06 06:16:26.733090)&lt;/p&gt;


&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Reworked on the patch and latest patch taken care the below issues&lt;br/&gt;
1) Configuration property values verified and made it sync with the hive-default.xml&lt;br/&gt;
2) Compilation failure corrected.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;The below configurations are not used in the code base so removed from the hive-default.xml&lt;/p&gt;

&lt;p&gt;hive.mapjoin.hashtable.initialCapacity &lt;br/&gt;
hive.mapjoin.hashtable.loadfactor &lt;br/&gt;
hive.mapjoin.smalltable.filesize &lt;br/&gt;
hive.optimize.pruner &lt;br/&gt;
hive.stats.jdbc.atomic &lt;br/&gt;
hive.concurrency.manager &lt;/p&gt;

&lt;p&gt;The below configurations are not used in the code base but these configurations are required for the system so need to maintain in the hive-default.xml and no need to add in the HiveConf.java&lt;/p&gt;

&lt;p&gt;javax.jdo.option.ConnectionDriverName &lt;br/&gt;
javax.jdo.PersistenceManagerFactoryClass &lt;br/&gt;
javax.jdo.option.DetachAllOnCommit &lt;br/&gt;
javax.jdo.option.NonTransactionalRead &lt;br/&gt;
javax.jdo.option.ConnectionUserName &lt;br/&gt;
fs.har.impl &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; title=&quot;Ensure HiveConf includes all properties defined in hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2196&quot;&gt;&lt;del&gt;HIVE-2196&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2196&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java 1165244 &lt;br/&gt;
  trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java 1165244 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java 1165244 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java 1165244 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1165244 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1165244 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1165244 &lt;br/&gt;
  trunk/conf/hive-default.xml 1165244 &lt;br/&gt;
  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1165244 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1423/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;All unit tests passed&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13103016" author="cwsteinbach" created="Mon, 12 Sep 2011 20:32:12 +0000"  >&lt;p&gt;Please run the tests before submitting a patch. All of the tests currently fail due to an assertion error in HiveConf:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.AssertionError
	at org.apache.hadoop.hive.conf.HiveConf.getVar(HiveConf.java:638)
	at org.apache.hadoop.hive.conf.HiveConf.getVar(HiveConf.java:648)
	at org.apache.hadoop.hive.ql.lockmgr.zookeeper.ZooKeeperHiveLockManager.getQuorumServers(ZooKeeperHiveLockManager.java:80)
	at org.apache.hadoop.hive.ql.lockmgr.zookeeper.ZooKeeperHiveLockManager.setContext(ZooKeeperHiveLockManager.java:92)
	at org.apache.hadoop.hive.ql.Driver.setLockManager(Driver.java:168)
	at org.apache.hadoop.hive.ql.Driver.checkLockManager(Driver.java:141)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:908)
	at org.apache.hadoop.hive.ql.QTestUtil.runLoadCmd(QTestUtil.java:394)
	at org.apache.hadoop.hive.ql.QTestUtil.createSources(QTestUtil.java:441)
	at org.apache.hadoop.hive.cli.TestCliDriver.&amp;lt;clinit&amp;gt;(TestCliDriver.java:38)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:169)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:337)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:931)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:785)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, please update the contents of data/conf/hive-site.xml&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13115583" author="jiraposter@reviews.apache.org" created="Tue, 27 Sep 2011 15:52:11 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1423/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-27 15:51:37.029125)&lt;/p&gt;


&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;All tests passed&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;The below configurations are not used in the code base so removed from the hive-default.xml&lt;/p&gt;

&lt;p&gt;hive.mapjoin.hashtable.initialCapacity &lt;br/&gt;
hive.mapjoin.hashtable.loadfactor &lt;br/&gt;
hive.mapjoin.smalltable.filesize &lt;br/&gt;
hive.optimize.pruner &lt;br/&gt;
hive.stats.jdbc.atomic &lt;br/&gt;
hive.concurrency.manager &lt;/p&gt;

&lt;p&gt;The below configurations are not used in the code base but these configurations are required for the system so need to maintain in the hive-default.xml and no need to add in the HiveConf.java&lt;/p&gt;

&lt;p&gt;javax.jdo.option.ConnectionDriverName &lt;br/&gt;
javax.jdo.PersistenceManagerFactoryClass &lt;br/&gt;
javax.jdo.option.DetachAllOnCommit &lt;br/&gt;
javax.jdo.option.NonTransactionalRead &lt;br/&gt;
javax.jdo.option.ConnectionUserName &lt;br/&gt;
fs.har.impl &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; title=&quot;Ensure HiveConf includes all properties defined in hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2196&quot;&gt;&lt;del&gt;HIVE-2196&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2196&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1175859 &lt;br/&gt;
  trunk/conf/hive-default.xml 1175859 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1175859 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1175859 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java 1175859 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java 1175859 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1175859 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java 1175859 &lt;br/&gt;
  trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java 1175859 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1423/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;All unit tests passed&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13115597" author="chinnalalam" created="Tue, 27 Sep 2011 16:04:23 +0000"  >&lt;p&gt;All tests passed. Changes make it sink the contents of hive-default.xml to Hiveconf.java. After hive-default.xml loaded hive-site.xml will load so no need to change the contents of hive-site.xml&lt;/p&gt;</comment>
                            <comment id="13125620" author="ashutoshc" created="Wed, 12 Oct 2011 06:19:57 +0000"  >&lt;p&gt;@Chinna,&lt;/p&gt;

&lt;p&gt;I guess you need to mark it as Patch Available so that committers know that its ready for review. We should get this in, lest some other property get introduced which again violates this. &lt;/p&gt;

&lt;p&gt;Others,&lt;br/&gt;
HiveConf first loads hive-default.xml and then loads hive-site.xml Isn&apos;t loading hive-default.xml will be redundant after this change. Default values should come from HiveConf not from external xml file, if user wishes to override he should provide that value in hive-site.xml. We should stop loading hive-default.xml while initializing HiveConf. &lt;/p&gt;</comment>
                            <comment id="13125623" author="ashutoshc" created="Wed, 12 Oct 2011 06:24:37 +0000"  >&lt;p&gt;Looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1571&quot; title=&quot;hive.metastore.uris is missing its definition in hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1571&quot;&gt;&lt;del&gt;HIVE-1571&lt;/del&gt;&lt;/a&gt; will get fixed alongwith this.&lt;/p&gt;</comment>
                            <comment id="13127691" author="chinnalalam" created="Fri, 14 Oct 2011 16:54:06 +0000"  >&lt;p&gt;Rebase the patch on the trunk&lt;/p&gt;</comment>
                            <comment id="13127692" author="jiraposter@reviews.apache.org" created="Fri, 14 Oct 2011 16:54:12 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1423/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-10-14 16:54:00.383612)&lt;/p&gt;


&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Rebase the patch on the trunk&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;The below configurations are not used in the code base so removed from the hive-default.xml&lt;/p&gt;

&lt;p&gt;hive.mapjoin.hashtable.initialCapacity &lt;br/&gt;
hive.mapjoin.hashtable.loadfactor &lt;br/&gt;
hive.mapjoin.smalltable.filesize &lt;br/&gt;
hive.optimize.pruner &lt;br/&gt;
hive.stats.jdbc.atomic &lt;br/&gt;
hive.concurrency.manager &lt;/p&gt;

&lt;p&gt;The below configurations are not used in the code base but these configurations are required for the system so need to maintain in the hive-default.xml and no need to add in the HiveConf.java&lt;/p&gt;

&lt;p&gt;javax.jdo.option.ConnectionDriverName &lt;br/&gt;
javax.jdo.PersistenceManagerFactoryClass &lt;br/&gt;
javax.jdo.option.DetachAllOnCommit &lt;br/&gt;
javax.jdo.option.NonTransactionalRead &lt;br/&gt;
javax.jdo.option.ConnectionUserName &lt;br/&gt;
fs.har.impl &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; title=&quot;Ensure HiveConf includes all properties defined in hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2196&quot;&gt;&lt;del&gt;HIVE-2196&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2196&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1182263 &lt;br/&gt;
  trunk/conf/hive-default.xml 1182263 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1182263 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java 1182263 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java 1182263 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java 1182263 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java 1182263 &lt;br/&gt;
  trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java 1182263 &lt;br/&gt;
  trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java 1182263 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1423/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;All unit tests passed&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13145219" author="namit" created="Mon, 7 Nov 2011 04:24:38 +0000"  >&lt;p&gt;@Chinna, this slipped through the cracks and is not generating a lot of merge conflicts.&lt;br/&gt;
I think this is a really good idea - Can you refresh ? I will definitely go over it this time and try to get it in.&lt;/p&gt;</comment>
                            <comment id="13145220" author="namit" created="Mon, 7 Nov 2011 04:25:06 +0000"  >&lt;p&gt;And, also please mark it as &apos;Patch Available&apos; so that everyone takes a look&lt;/p&gt;</comment>
                            <comment id="13146110" author="jiraposter@reviews.apache.org" created="Tue, 8 Nov 2011 07:08:51 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1423/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-11-08 07:07:28.602261)&lt;/p&gt;


&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;refreshed the patch&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;The below configurations are not used in the code base so removed from the hive-default.xml&lt;/p&gt;

&lt;p&gt;hive.mapjoin.hashtable.initialCapacity &lt;br/&gt;
hive.mapjoin.hashtable.loadfactor &lt;br/&gt;
hive.mapjoin.smalltable.filesize &lt;br/&gt;
hive.optimize.pruner &lt;br/&gt;
hive.stats.jdbc.atomic &lt;br/&gt;
hive.concurrency.manager &lt;/p&gt;

&lt;p&gt;The below configurations are not used in the code base but these configurations are required for the system so need to maintain in the hive-default.xml and no need to add in the HiveConf.java&lt;/p&gt;

&lt;p&gt;javax.jdo.option.ConnectionDriverName &lt;br/&gt;
javax.jdo.PersistenceManagerFactoryClass &lt;br/&gt;
javax.jdo.option.DetachAllOnCommit &lt;br/&gt;
javax.jdo.option.NonTransactionalRead &lt;br/&gt;
javax.jdo.option.ConnectionUserName &lt;br/&gt;
fs.har.impl &lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; title=&quot;Ensure HiveConf includes all properties defined in hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2196&quot;&gt;&lt;del&gt;HIVE-2196&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2196&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1198626 &lt;br/&gt;
  trunk/conf/hive-default.xml 1198626 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1198626 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1423/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1423/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;All unit tests passed&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13150187" author="hudson" created="Tue, 15 Nov 2011 02:17:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1085 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1085/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1085/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2196&quot; title=&quot;Ensure HiveConf includes all properties defined in hive-default.xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2196&quot;&gt;&lt;del&gt;HIVE-2196&lt;/del&gt;&lt;/a&gt; Ensure HiveConf includes all properties defined in&lt;br/&gt;
hive-default.xml (Chinna Rao Lalam via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1201872&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1201872&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13150639" author="namit" created="Tue, 15 Nov 2011 17:59:47 +0000"  >&lt;p&gt;Committed. Thanks Chinna&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12498241">HIVE-1984</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                            <outwardlinks description="incorporates">
                                        <issuelink>
            <issuekey id="12472046">HIVE-1571</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12531884">HIVE-2596</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12684897">HIVE-6037</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12489845" name="HIVE-2196.1.patch" size="12825" author="chinnalalam" created="Tue, 9 Aug 2011 14:04:09 +0000"/>
                            <attachment id="12490538" name="HIVE-2196.2.patch" size="12958" author="chinnalalam" created="Tue, 16 Aug 2011 14:45:57 +0000"/>
                            <attachment id="12493117" name="HIVE-2196.3.patch" size="17864" author="chinnalalam" created="Tue, 6 Sep 2011 06:09:37 +0000"/>
                            <attachment id="12496704" name="HIVE-2196.4.patch" size="18094" author="chinnalalam" created="Tue, 27 Sep 2011 15:46:37 +0000"/>
                            <attachment id="12499062" name="HIVE-2196.5.patch" size="18094" author="chinnalalam" created="Fri, 14 Oct 2011 16:52:19 +0000"/>
                            <attachment id="12502890" name="HIVE-2196.6.patch" size="12888" author="chinnalalam" created="Tue, 8 Nov 2011 07:05:31 +0000"/>
                            <attachment id="12492116" name="HIVE-2196.build.log" size="1311181" author="cwsteinbach" created="Mon, 29 Aug 2011 19:27:12 +0000"/>
                            <attachment id="12485283" name="HIVE-2196.patch" size="4110" author="chinnalalam" created="Tue, 5 Jul 2011 14:42:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 7 Jul 2011 22:51:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19458</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0liw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123711</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2197] SessionState used before ThreadLocal set</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2197</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;while invoke the method like :&lt;br/&gt;
SessionState.start(new HiveConf(HiveConf.class))&lt;/p&gt;

&lt;p&gt;it comes out following exception stack:&lt;br/&gt;
at org.apache.hadoop.hive.ql.session.CreateTableAutomaticGrant.getGrantorInfoList(CreateTableAutomaticGrant.java:101)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.session.CreateTableAutomaticGrant.getGrantMap(CreateTableAutomaticGrant.java:79)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.session.CreateTableAutomaticGrant.create(CreateTableAutomaticGrant.java:41)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:194)&lt;/p&gt;

&lt;p&gt;because the CreateTableAutomaticGrant.getGrantorInfoList will try to get Authenticator via SessionState.get().getAuthenticator() while the &apos;tts&apos;(thread local) is still null(it is being set at line 195 but the invoke happended at line 194 in SessionState.start(conf) ). &lt;/p&gt;</description>
                <environment></environment>
        <key id="12509304">HIVE-2197</key>
            <summary>SessionState used before ThreadLocal set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zizon">Zizon</reporter>
                        <labels>
                    </labels>
                <created>Sun, 5 Jun 2011 11:44:19 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:29 +0000</updated>
                            <resolved>Tue, 25 Oct 2011 03:57:19 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13134738" author="ashutoshc" created="Tue, 25 Oct 2011 03:57:19 +0000"  >&lt;p&gt;This no longer true in trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Oct 2011 03:57:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42231</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0liwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123712</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2198] While using Hive in server mode, HiveConnection.close() is not cleaning up server side resources</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2198</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;org.apache.hadoop.hive.service.ThriftHive.Client.clean() method is called for every session end in CLI mode for the cleanup but in HiveServer mode this is not called.&lt;br/&gt;
So this can be integrate with the HiveConnection.close()&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop 0.20.1, Hive0.8.0 and SUSE Linux Enterprise Server 10 SP2 (i586) - Kernel 2.6.16.60-0.21-smp (5)&lt;/p&gt;</environment>
        <key id="12509351">HIVE-2198</key>
            <summary>While using Hive in server mode, HiveConnection.close() is not cleaning up server side resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="chinnalalam">Chinna Rao Lalam</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Jun 2011 13:08:38 +0000</created>
                <updated>Fri, 16 Dec 2011 23:57:13 +0000</updated>
                            <resolved>Wed, 20 Jul 2011 04:40:12 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13063348" author="chinnalalam" created="Mon, 11 Jul 2011 14:05:57 +0000"  >&lt;p&gt;In HiveConnection.close() called client.clean() method for cleanup in server side.&lt;/p&gt;</comment>
                            <comment id="13063528" author="jvs" created="Mon, 11 Jul 2011 20:42:23 +0000"  >&lt;p&gt;Chinna, can you also open Review Board requests (reviews.apache.org) as part of submitting each patch?&lt;/p&gt;</comment>
                            <comment id="13063919" author="jiraposter@reviews.apache.org" created="Tue, 12 Jul 2011 14:10:59 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1089/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1089/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and John Sichi.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;In HiveConnection.close() called client.clean() method for cleanup in server side.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2198&quot; title=&quot;While using Hive in server mode, HiveConnection.close() is not cleaning up server side resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2198&quot;&gt;&lt;del&gt;HIVE-2198&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2198&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2198&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java 1132918 &lt;br/&gt;
  trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java 1132918 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1089/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1089/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Ran all the testcases&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13063920" author="chinnalalam" created="Tue, 12 Jul 2011 14:11:05 +0000"  >&lt;p&gt;Opened Review Board request&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1089/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1089/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13067225" author="jvs" created="Mon, 18 Jul 2011 19:16:23 +0000"  >&lt;p&gt;Changes look fine, but could you fix the indentation?&lt;/p&gt;</comment>
                            <comment id="13067639" author="chinnalalam" created="Tue, 19 Jul 2011 11:46:43 +0000"  >&lt;p&gt;Fixed the indentation&lt;/p&gt;</comment>
                            <comment id="13068042" author="jvs" created="Tue, 19 Jul 2011 22:47:59 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="13068153" author="jvs" created="Wed, 20 Jul 2011 04:40:12 +0000"  >&lt;p&gt;Committed.  Thanks Chinna!&lt;/p&gt;</comment>
                            <comment id="13068156" author="hudson" created="Wed, 20 Jul 2011 05:18:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #835 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/835/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/835/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2198&quot; title=&quot;While using Hive in server mode, HiveConnection.close() is not cleaning up server side resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2198&quot;&gt;&lt;del&gt;HIVE-2198&lt;/del&gt;&lt;/a&gt;. While using Hive in server mode, HiveConnection.close() is&lt;br/&gt;
not cleaning up server side resources&lt;br/&gt;
(Chinna Rao Lalam via jvs)&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1148622&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1148622&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12486996" name="HIVE-2198.1.patch" size="1762" author="chinnalalam" created="Tue, 19 Jul 2011 11:44:57 +0000"/>
                            <attachment id="12481705" name="HIVE-2198.patch" size="1624" author="chinnalalam" created="Tue, 7 Jun 2011 14:12:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 11 Jul 2011 20:42:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>67426</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0liwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123713</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2199] incorrect success flag passed to jobClose</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2199</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For block level merging of RCFiles, jobClose is passed the incorrect variable as the success flag&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509399">HIVE-2199</key>
            <summary>incorrect success flag passed to jobClose</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="franklinhu">Franklin Hu</assignee>
                                    <reporter username="franklinhu">Franklin Hu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Jun 2011 22:30:25 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:50 +0000</updated>
                            <resolved>Wed, 8 Jun 2011 07:55:05 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13045183" author="franklinhu" created="Mon, 6 Jun 2011 22:35:17 +0000"  >&lt;p&gt;fix success flag&lt;/p&gt;</comment>
                            <comment id="13045222" author="he yongqiang" created="Tue, 7 Jun 2011 00:31:58 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13045784" author="hudson" created="Wed, 8 Jun 2011 05:06:43 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #767 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/767/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/767/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12481638" name="hive-2199.1.patch" size="646" author="franklinhu" created="Mon, 6 Jun 2011 22:35:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 7 Jun 2011 00:31:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66851</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0liwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123714</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Committed. Thanks Franklin.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2200] DROP PARTITION does not update stats</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2200</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When hive.stats.autogather=true, dropping a partition does not appropriately update the overall table stats.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509408">HIVE-2200</key>
            <summary>DROP PARTITION does not update stats</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="franklinhu">Franklin Hu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jun 2011 00:38:08 +0000</created>
                <updated>Wed, 8 Jun 2011 21:34:53 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42230</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lix3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123715</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2201] reduce name node calls in hive by creating temporary directories</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2201</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, in Hive, when a file gets written by a FileSinkOperator,&lt;br/&gt;
the sequence of operations is as follows:&lt;/p&gt;

&lt;p&gt;1. In tmp directory tmp1, create a tmp file _tmp_1&lt;br/&gt;
2. At the end of the operator, move&lt;br/&gt;
/tmp1/_tmp_1 to /tmp1/1&lt;br/&gt;
3. Move directory /tmp1 to /tmp2&lt;br/&gt;
4. For all files in /tmp2, remove all files starting with _tmp and&lt;br/&gt;
duplicate files.&lt;/p&gt;

&lt;p&gt;Due to speculative execution, a lot of temporary files are created&lt;br/&gt;
in /tmp1 (or /tmp2). This leads to a lot of name node calls,&lt;br/&gt;
specially for large queries.&lt;/p&gt;

&lt;p&gt;The protocol above can be modified slightly:&lt;/p&gt;

&lt;p&gt;1. In tmp directory tmp1, create a tmp file _tmp_1&lt;br/&gt;
2. At the end of the operator, move&lt;br/&gt;
/tmp1/_tmp_1 to /tmp2/1&lt;br/&gt;
3. Move directory /tmp2 to /tmp3&lt;br/&gt;
4. For all files in /tmp3, remove all duplicate files.&lt;/p&gt;

&lt;p&gt;This should reduce the number of tmp files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509409">HIVE-2201</key>
            <summary>reduce name node calls in hive by creating temporary directories</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jun 2011 00:53:08 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:04 +0000</updated>
                            <resolved>Thu, 21 Jul 2011 06:46:44 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13047059" author="sdong" created="Fri, 10 Jun 2011 07:32:58 +0000"  >&lt;p&gt;Implemented the logic.&lt;br/&gt;
Discovered one problem: when moving from /tmp1/_tmp_1 to /tmp2/1, we might need to check whether /tmp2 exists before moving it. This patch avoids this call by pre-create the temp directory before submitting the job. However, we cannot do that for dynamic partitioning as we don&apos;t know the directory names. So for dynamic partitioning, we have some extra costs added for DFS namenode read. So far I think this tradeoff is worthwhile. Potentially this cost can be reduced it by caching directories created. We can try that approach as a followup.&lt;/p&gt;</comment>
                            <comment id="13047820" author="sdong" created="Sat, 11 Jun 2011 01:57:18 +0000"  >&lt;p&gt;fix a bug.&lt;/p&gt;</comment>
                            <comment id="13048867" author="sdong" created="Mon, 13 Jun 2011 23:17:11 +0000"  >&lt;p&gt;According to Hairong Kuang, Hadoop&apos;s behavior for creating a new file is that it will automatically create it&apos;s parent directory if it doesn&apos;t exist. In that case, I removed the directory check and create part when writing to a new file.&lt;/p&gt;</comment>
                            <comment id="13054188" author="sdong" created="Fri, 24 Jun 2011 00:12:42 +0000"  >&lt;p&gt;ping&lt;/p&gt;</comment>
                            <comment id="13054200" author="he yongqiang" created="Fri, 24 Jun 2011 01:06:10 +0000"  >&lt;p&gt;i will take a look...&lt;/p&gt;</comment>
                            <comment id="13054501" author="he yongqiang" created="Fri, 24 Jun 2011 15:28:35 +0000"  >&lt;p&gt;can you create a review board?&lt;/p&gt;</comment>
                            <comment id="13054508" author="he yongqiang" created="Fri, 24 Jun 2011 15:39:34 +0000"  >&lt;p&gt;1. why do you need to change &quot;RCFileOutputFormat&quot;&lt;br/&gt;
2. have you tested this code?&lt;br/&gt;
3. in Utilities, why tmpPath is still there together with taskTmpPath? And 2 toTaskTempPath(), keep one&lt;br/&gt;
4. CreateTmpDirs, lower case, and CreateTmpDirs use 2 loop, use values(). why is this even needed? &lt;br/&gt;
5. I think not just FileSinkOperator have this logic, you should change them all&lt;/p&gt;</comment>
                            <comment id="13054584" author="jiraposter@reviews.apache.org" created="Fri, 24 Jun 2011 17:57:48 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/952/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/952/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive, Yongqiang He, Ning Zhang, and namit jain.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;reduce name node calls in hive by creating temporary directories&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2201&quot; title=&quot;reduce name node calls in hive by creating temporary directories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2201&quot;&gt;&lt;del&gt;HIVE-2201&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2201&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2201&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java 1134223 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java 1134223 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java 1134223 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFileOutputFormat.java 1134223 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/952/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/952/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Siying&lt;/p&gt;
</comment>
                            <comment id="13054595" author="sdong" created="Fri, 24 Jun 2011 18:10:12 +0000"  >&lt;p&gt;Yongqiang:&lt;br/&gt;
1. As I commented previously &quot;According to Hairong Kuang, Hadoop&apos;s behavior for creating a new file is that it will automatically create it&apos;s parent directory if it doesn&apos;t exist. In that case, I removed the directory check and create part when writing to a new file.&quot;&lt;br/&gt;
2. I tested the codes. I ran the whole regression tests and tested several cases manually in the cluster. I tried to kill some tasks manually&lt;br/&gt;
3. I&apos;ll see whether there are another dependency so that I can remove the old one. Having two reloaded calls are the convention we have in the file. All other similar calls have one function with Path call and one with String call. &lt;br/&gt;
4. The tree traversal logic is copied from localizeMRTmpFilesImpl(). The first look is to go through every operator tree. The second loop is to Breadth-First Search the operator tree to check any FileSyncOperator.&lt;br/&gt;
5. OK. I&apos;ll make the change. My understanding is that only FileSinkOperator and the BlockMerge file sink have the problem and the second one is going to have some large changes by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2035&quot; title=&quot;Use block-level merge for RCFile if merging intermediate results are needed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2035&quot;&gt;&lt;del&gt;HIVE-2035&lt;/del&gt;&lt;/a&gt;. Also BlockMerge file sink suffers the problem less as it runs faster that has less change to have incomplete results.&lt;/p&gt;</comment>
                            <comment id="13068713" author="sdong" created="Wed, 20 Jul 2011 23:30:46 +0000"  >&lt;p&gt;1. change block merge task too&lt;br/&gt;
2. change the capital file name&lt;/p&gt;</comment>
                            <comment id="13068715" author="jiraposter@reviews.apache.org" created="Wed, 20 Jul 2011 23:31:57 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/952/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/952/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-07-20 23:31:54.007436)&lt;/p&gt;


&lt;p&gt;Review request for hive, Yongqiang He, Ning Zhang, and namit jain.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;1. change block merge task too&lt;br/&gt;
2. change the capital file name&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;reduce name node calls in hive by creating temporary directories&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2201&quot; title=&quot;reduce name node calls in hive by creating temporary directories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2201&quot;&gt;&lt;del&gt;HIVE-2201&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2201&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2201&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java 1148905 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java 1148905 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java 1148905 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFileOutputFormat.java 1148905 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/BlockMergeTask.java 1148905 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/RCFileMergeMapper.java 1148905 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/952/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/952/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Siying&lt;/p&gt;
</comment>
                            <comment id="13068787" author="he yongqiang" created="Thu, 21 Jul 2011 03:46:48 +0000"  >&lt;p&gt;+1, will commit after tests pass.&lt;/p&gt;</comment>
                            <comment id="13068834" author="he yongqiang" created="Thu, 21 Jul 2011 06:46:44 +0000"  >&lt;p&gt;committed, thanks Siying!&lt;/p&gt;</comment>
                            <comment id="13068839" author="hudson" created="Thu, 21 Jul 2011 07:03:45 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #839 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/839/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/839/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2201&quot; title=&quot;reduce name node calls in hive by creating temporary directories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2201&quot;&gt;&lt;del&gt;HIVE-2201&lt;/del&gt;&lt;/a&gt;:reduce name node calls in hive by creating temporary directories (Siying Dong via He Yongqiang)&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1149047&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1149047&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FileSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFileOutputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/RCFileMergeMapper.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/BlockMergeTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12482034" name="HIVE-2201.1.patch" size="7949" author="sdong" created="Fri, 10 Jun 2011 07:37:48 +0000"/>
                            <attachment id="12482126" name="HIVE-2201.2.patch" size="7934" author="sdong" created="Sat, 11 Jun 2011 01:57:18 +0000"/>
                            <attachment id="12482492" name="HIVE-2201.3.patch" size="8553" author="sdong" created="Mon, 13 Jun 2011 23:17:11 +0000"/>
                            <attachment id="12487234" name="HIVE-2201.4.patch" size="12098" author="sdong" created="Wed, 20 Jul 2011 23:30:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 10 Jun 2011 07:32:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66866</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lixb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123716</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2202] multi-thread hive io and execution</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2202</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Multi-threading hive&apos;s IO part and execution part. For Hive&apos;s RCFile, the reader can be put in a separate thread, and can keep 2 blocks in memory. One block for current processing, and the other for next batch. Potentially this can be more intelligent (like determine how many threads to read depending on the execution speed), but this will depends on the HDFS client&apos;s implementation. And the writer can also put into a separate thread, this way, the execution will not need to block on writer.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509410">HIVE-2202</key>
            <summary>multi-thread hive io and execution</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jun 2011 00:54:01 +0000</created>
                <updated>Sun, 23 Oct 2011 20:30:32 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12424803">HIVE-477</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42229</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08o47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48506</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2203] Extend concat_ws() UDF to support arrays of strings</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2203</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;concat_ws() should support the following type of input parameters:&lt;/p&gt;

&lt;p&gt;concat_ws(string separator, array&amp;lt;string&amp;gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509412">HIVE-2203</key>
            <summary>Extend concat_ws() UDF to support arrays of strings</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jun 2011 02:30:51 +0000</created>
                <updated>Wed, 9 Jan 2013 10:23:50 +0000</updated>
                            <resolved>Fri, 20 Jan 2012 21:32:52 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13177719" author="phabricator@reviews.facebook.net" created="Fri, 30 Dec 2011 18:36:30 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Extend concat_ws() UDF to support arrays of strings&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt;: format GenericUDFConcatWS.java&lt;/p&gt;

&lt;p&gt;  concat_ws() should support the following type of input parameters:&lt;/p&gt;

&lt;p&gt;  concat_ws(string separator, array&amp;lt;string&amp;gt;)&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2247/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2247/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13177720" author="phabricator@reviews.facebook.net" created="Fri, 30 Dec 2011 18:46:30 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Extend concat_ws() UDF to support arrays of strings&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt;: concat_ws() UDF supports arbitrary combination of strings and arrays of strings&lt;/p&gt;

&lt;p&gt;  concat_ws() should support the following type of input parameters:&lt;/p&gt;

&lt;p&gt;  concat_ws(string separator, array&amp;lt;string&amp;gt;)&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1071&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1071&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_concat_ws.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_concat_ws.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2253/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2253/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13177724" author="phabricator@reviews.facebook.net" created="Fri, 30 Dec 2011 18:54:30 +0000"  >&lt;p&gt;zhenxiao has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Extend concat_ws() UDF to support arrays of strings&quot;.&lt;/p&gt;

&lt;p&gt;  This is a bad patch due to inconsistent use of Phabricator. No need to review at all.&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt;.D1071.1.patch is the correct patch.&lt;/p&gt;

&lt;p&gt;  Sorry for the inconvenience.&lt;/p&gt;

&lt;p&gt;  Zhenxiao&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1065&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13179233" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 02:12:39 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Extend concat_ws() UDF to support arrays of strings&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java:36 I think this should be changed to:&lt;/p&gt;

&lt;p&gt;  CONCAT_WS(sep, &lt;span class=&quot;error&quot;&gt;&amp;#91;string | array(string)&amp;#93;&lt;/span&gt;+)&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java:69 Please add a negative testcase that exercises this validation code. Other examples of this are available here: ql/src/test/queries/clientnegative/udf_*.q&lt;/p&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java:62 Can you rewrite this using switch statements? I generally find that easier to read.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java:99 Indentation is wrong here. Please use 2 character indents.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java:103 Leave a space after semicolons in a for statement.&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_concat_ws.q:20 Please add an EXPLAIN query.&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_concat_ws.q:28 Maybe replace this query with one call to concat_ws(NULL, ....) in the previous query?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1071&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1071&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13179739" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 18:47:39 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Extend concat_ws() UDF to support arrays of strings&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt;: resolve trailing whitespace&lt;/p&gt;

&lt;p&gt;  concat_ws() should support the following type of input parameters:&lt;/p&gt;

&lt;p&gt;  concat_ws(string separator, array&amp;lt;string&amp;gt;)&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1113&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1113&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2331/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2331/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13179752" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 19:01:39 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Extend concat_ws() UDF to support arrays of strings&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt;: Extend concat_ws() UDF to support arrays of strings&lt;/p&gt;

&lt;p&gt;  concat_ws() should support the following type of input parameters:&lt;/p&gt;

&lt;p&gt;  concat_ws(string separator, array&amp;lt;string&amp;gt;)&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1119&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1119&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/udf_concat_ws_wrong1.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/udf_concat_ws_wrong2.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/udf_concat_ws_wrong3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_concat_ws.q&lt;br/&gt;
  ql/src/test/results/clientnegative/udf_concat_ws_wrong1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/udf_concat_ws_wrong2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/udf_concat_ws_wrong3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_concat_ws.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2343/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2343/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13179758" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 19:03:39 +0000"  >&lt;p&gt;zhenxiao has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Extend concat_ws() UDF to support arrays of strings&quot;.&lt;/p&gt;

&lt;p&gt;  Invalid patch. D1119 is the correct one for review.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1113&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1113&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13182425" author="phabricator@reviews.facebook.net" created="Mon, 9 Jan 2012 09:22:39 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Extend concat_ws() UDF to support arrays of strings&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java:64 Calling getTypeName and comparing strings is hacky. Instead lets cast the oi to a ListObjectInspector and call getListElementObjectInspector().&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java:114 Indentation.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1119&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1119&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13182684" author="phabricator@reviews.facebook.net" created="Mon, 9 Jan 2012 18:20:38 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Extend concat_ws() UDF to support arrays of strings&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt;: Extend concat_ws() UDF to support arrays of strings&lt;/p&gt;

&lt;p&gt;  concat_ws() should support the following type of input parameters:&lt;/p&gt;

&lt;p&gt;  concat_ws(string separator, array&amp;lt;string&amp;gt;)&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1137&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1137&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/udf_concat_ws_wrong1.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/udf_concat_ws_wrong2.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/udf_concat_ws_wrong3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_concat_ws.q&lt;br/&gt;
  ql/src/test/results/clientnegative/udf_concat_ws_wrong1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/udf_concat_ws_wrong2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/udf_concat_ws_wrong3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_concat_ws.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2409/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2409/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13186823" author="cwsteinbach" created="Mon, 16 Jan 2012 09:57:02 +0000"  >&lt;p&gt;@Zhenxiao: Please attach a copy of the patch (D1137) and give license rights to Apache.&lt;/p&gt;</comment>
                            <comment id="13186824" author="phabricator@reviews.facebook.net" created="Mon, 16 Jan 2012 09:57:39 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Extend concat_ws() UDF to support arrays of strings&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1137&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1137&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13190134" author="cwsteinbach" created="Fri, 20 Jan 2012 21:32:52 +0000"  >&lt;p&gt;Committed to trunk. Thanks Zhenxiao!&lt;/p&gt;</comment>
                            <comment id="13190323" author="hudson" created="Sat, 21 Jan 2012 06:03:31 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1211 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1211/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1211/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt;. Extend concat_ws() UDF to support arrays of strings (Zhenxiao Luo via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234150&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234150&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/udf_concat_ws_wrong1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/udf_concat_ws_wrong2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/udf_concat_ws_wrong3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_concat_ws.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/udf_concat_ws_wrong1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/udf_concat_ws_wrong2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/udf_concat_ws_wrong3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_concat_ws.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265317" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:41 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13528493" author="phabricator@reviews.facebook.net" created="Tue, 11 Dec 2012 00:25:19 +0000"  >&lt;p&gt;zhenxiao has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Extend concat_ws() UDF to support arrays of strings&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1065&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1065&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, zhenxiao&lt;br/&gt;
Cc: zhenxiao&lt;/p&gt;</comment>
                            <comment id="13528498" author="phabricator@reviews.facebook.net" created="Tue, 11 Dec 2012 00:27:20 +0000"  >&lt;p&gt;zhenxiao has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Extend concat_ws() UDF to support arrays of strings&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1113&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1113&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, zhenxiao&lt;br/&gt;
Cc: zhenxiao&lt;/p&gt;</comment>
                            <comment id="13528531" author="phabricator@reviews.facebook.net" created="Tue, 11 Dec 2012 00:53:21 +0000"  >&lt;p&gt;zhenxiao has closed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Extend concat_ws() UDF to support arrays of strings&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1137&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1137&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, cwsteinbach, zhenxiao&lt;br/&gt;
Cc: cwsteinbach&lt;/p&gt;</comment>
                            <comment id="13547983" author="hudson" created="Wed, 9 Jan 2013 10:23:50 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2203&quot; title=&quot;Extend concat_ws() UDF to support arrays of strings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2203&quot;&gt;&lt;del&gt;HIVE-2203&lt;/del&gt;&lt;/a&gt;. Extend concat_ws() UDF to support arrays of strings (Zhenxiao Luo via cws) (Revision 1234150)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234150&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234150&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/udf_concat_ws_wrong1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/udf_concat_ws_wrong2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/udf_concat_ws_wrong3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_concat_ws.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/udf_concat_ws_wrong1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/udf_concat_ws_wrong2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/udf_concat_ws_wrong3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_concat_ws.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12508945" name="ASF.LICENSE.NOT.GRANTED--HIVE-2203.D1065.1.patch" size="2199" author="phabricator@reviews.facebook.net" created="Fri, 30 Dec 2011 18:36:31 +0000"/>
                            <attachment id="12508946" name="ASF.LICENSE.NOT.GRANTED--HIVE-2203.D1071.1.patch" size="10329" author="phabricator@reviews.facebook.net" created="Fri, 30 Dec 2011 18:46:31 +0000"/>
                            <attachment id="12509440" name="ASF.LICENSE.NOT.GRANTED--HIVE-2203.D1113.1.patch" size="1405" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 18:47:39 +0000"/>
                            <attachment id="12509444" name="ASF.LICENSE.NOT.GRANTED--HIVE-2203.D1119.1.patch" size="17070" author="phabricator@reviews.facebook.net" created="Wed, 4 Jan 2012 19:01:39 +0000"/>
                            <attachment id="12509940" name="ASF.LICENSE.NOT.GRANTED--HIVE-2203.D1137.1.patch" size="17100" author="phabricator@reviews.facebook.net" created="Mon, 9 Jan 2012 18:20:39 +0000"/>
                            <attachment id="12510729" name="HIVE-2203.D1137.1.patch" size="17100" author="zhenxiao" created="Mon, 16 Jan 2012 18:41:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 30 Dec 2011 18:36:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42228</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05ijb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2204] unable to get column names for a specific table that has &apos;_&apos; as part of its table name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2204</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I have a table age_group and I am trying to get list of columns for this table name. As underscore and &apos;%&apos; have special meaning in table search pattern according to JDBC searchPattern string specification, I escape the &apos;_&apos; in my table name when I call getColumns for this single table. But HIVE does not return any columns. My call to getColumns is as follows&lt;br/&gt;
catalog	&amp;lt;null&amp;gt;&lt;br/&gt;
schemaPattern	&quot;%&quot;&lt;br/&gt;
tableNamePattern  &quot;age&amp;#95;group&quot;&lt;br/&gt;
columnNamePattern  &quot;%&quot;&lt;/p&gt;

&lt;p&gt;If I don&apos;t escape the &apos;_&apos; in my tableNamePattern, I am able to get the list of columns.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509457">HIVE-2204</key>
            <summary>unable to get column names for a specific table that has &apos;_&apos; as part of its table name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="phunt">Patrick Hunt</assignee>
                                    <reporter username="mgk.424@gmail.com">Mythili Gopalakrishnan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jun 2011 13:21:38 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:09 +0000</updated>
                            <resolved>Thu, 14 Jul 2011 18:08:09 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13065049" author="phunt" created="Thu, 14 Jul 2011 04:59:35 +0000"  >&lt;p&gt;Added handling of escaped wildcard characters. Also updated jdbc tests to verify.&lt;/p&gt;</comment>
                            <comment id="13065055" author="jiraposter@reviews.apache.org" created="Thu, 14 Jul 2011 05:25:59 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1106/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1106/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added additional handling for escaped wildcards.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2204&quot; title=&quot;unable to get column names for a specific table that has &amp;#39;_&amp;#39; as part of its table name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2204&quot;&gt;&lt;del&gt;HIVE-2204&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2204&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2204&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java d1ff509 &lt;br/&gt;
  jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java 591fa1f &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1106/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1106/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;added new tests, all tests pass for me.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Patrick&lt;/p&gt;
</comment>
                            <comment id="13065101" author="cwsteinbach" created="Thu, 14 Jul 2011 07:37:28 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13065426" author="cwsteinbach" created="Thu, 14 Jul 2011 18:08:09 +0000"  >&lt;p&gt;Committed to trunk. Thanks Patrick!&lt;/p&gt;</comment>
                            <comment id="13065597" author="hudson" created="Thu, 14 Jul 2011 23:00:28 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #827 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/827/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/827/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2204&quot; title=&quot;unable to get column names for a specific table that has &amp;#39;_&amp;#39; as part of its table name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2204&quot;&gt;&lt;del&gt;HIVE-2204&lt;/del&gt;&lt;/a&gt;. Unable to get column names for a specific table that has &apos;_&apos; as part of its table name (Patrick Hunt via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1146828&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1146828&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12486405" name="HIVE-2204.patch" size="10443" author="phunt" created="Thu, 14 Jul 2011 04:59:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Jul 2011 04:59:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37476</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05ilj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30110</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2205] Miscellaneous code improvements in all the packages</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2205</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Miscellaneous code improvements from all the packages and some code cleanup.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop 0.20.1, Hive0.8.0 and SUSE Linux Enterprise Server 10 SP2 (i586) - Kernel 2.6.16.60-0.21-smp (5)&lt;/p&gt;</environment>
        <key id="12509461">HIVE-2205</key>
            <summary>Miscellaneous code improvements in all the packages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="chinnalalam">Chinna Rao Lalam</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Jun 2011 13:33:00 +0000</created>
                <updated>Mon, 22 Aug 2016 18:20:54 +0000</updated>
                            <resolved>Mon, 22 Aug 2016 18:20:54 +0000</resolved>
                                                                    <component>CLI</component>
                    <component>Query Processor</component>
                    <component>Serializers/Deserializers</component>
                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                            <attachment id="12481706" name="HIVE-2205.patch" size="95771" author="chinnalalam" created="Tue, 7 Jun 2011 14:13:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42227</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lixj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123717</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
