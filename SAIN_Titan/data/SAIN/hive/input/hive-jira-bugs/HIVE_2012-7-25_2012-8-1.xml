<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:21:25 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-7-25+AND+created+%3C%3D+2012-8-1+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="30" total="30"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-3296] comments before a set statement in a test do not work</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3296</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following test fails:::&lt;/p&gt;

&lt;p&gt;&amp;#8211; test comment&lt;br/&gt;
set hive.test=&quot;foo&quot;;&lt;/p&gt;

&lt;p&gt;create table tst(key string);&lt;/p&gt;


&lt;p&gt;The output is::&lt;/p&gt;

&lt;p&gt;FAILED: ParseException line 2:0 cannot recognize input near &apos;set&apos; &apos;hive&apos; &apos;.&apos;&lt;/p&gt;


&lt;p&gt;However, if the comment position is changed it works fine.&lt;br/&gt;
The following test:&lt;/p&gt;

&lt;p&gt;&amp;#8211; test comment&lt;br/&gt;
create table tst(key string);&lt;br/&gt;
set hive.test=&quot;foo&quot;;&lt;/p&gt;

&lt;p&gt;works fine&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600118">HIVE-3296</key>
            <summary>comments before a set statement in a test do not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="svemuri3">Srinivas Vemuri</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jul 2012 05:05:07 +0000</created>
                <updated>Mon, 13 Apr 2015 09:05:33 +0000</updated>
                                                                            <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="14492104" author="pelle76" created="Mon, 13 Apr 2015 09:05:33 +0000"  >&lt;p&gt;This also fails in the Cli so it&apos;s not isolated to the Testing Infrastructure.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; 
    &amp;gt; -- &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is a comment
    &amp;gt; select * from some_table limit 1;
OK
...
hive&amp;gt; 
    &amp;gt; -- &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is another comment
    &amp;gt; set foo=bar;
NoViableAltException(213@[])
	at org.apache.hadoop.hive.ql.parse.HiveParser.statement(HiveParser.java:900)
	at org.apache.hadoop.hive.ql.parse.ParseDriver.parse(ParseDriver.java:190)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:435)
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:353)
	at org.apache.hadoop.hive.ql.Driver.compileInternal(Driver.java:979)
	at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1022)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:915)
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:905)
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)
	at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:781)
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:675)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:614)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:208)
FAILED: ParseException line 2:0 cannot recognize input near &lt;span class=&quot;code-quote&quot;&gt;&apos;set&apos;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;foo&apos;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;=&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Running CDH5beta1-Packaging-Hive-2013-10-27_18-38-32/hive-0.11.0-cdh5.0.0-beta-1&lt;/p&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 13 Apr 2015 09:05:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259169</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124417</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3297] change hive.auto.convert.join&apos;s default value to true</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3297</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For unit tests also, this parameter should be set to true.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600120">HIVE-3297</key>
            <summary>change hive.auto.convert.join&apos;s default value to true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jul 2012 05:31:04 +0000</created>
                <updated>Tue, 20 May 2014 07:24:34 +0000</updated>
                            <resolved>Thu, 7 Mar 2013 01:30:40 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13532587" author="mgrover" created="Fri, 14 Dec 2012 19:43:48 +0000"  >&lt;p&gt;+1 on the idea!&lt;/p&gt;</comment>
                            <comment id="13594816" author="ashutoshc" created="Wed, 6 Mar 2013 16:03:59 +0000"  >&lt;p&gt;Here is the patch which flips the default value in HiveConf to true. I kept the value as false for unit tests because tests which is testing for auto-converting joins is anyways setting it to true. For tests which which aren&apos;t setting it to true, assumptions and intent of original test will be changed and thus semantic they are testing will be different.&lt;/p&gt;</comment>
                            <comment id="13594832" author="ashutoshc" created="Wed, 6 Mar 2013 16:23:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D9159&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D9159&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13594916" author="namit" created="Wed, 6 Mar 2013 18:12:02 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, can you commit it if the tests pass ?&lt;/p&gt;</comment>
                            <comment id="13595407" author="ashutoshc" created="Thu, 7 Mar 2013 01:30:40 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13595707" author="hudson" created="Thu, 7 Mar 2013 09:18:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2004 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2004/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2004/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3297&quot; title=&quot;change hive.auto.convert.join&amp;#39;s default value to true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3297&quot;&gt;&lt;del&gt;HIVE-3297&lt;/del&gt;&lt;/a&gt; : change hive.auto.convert.joins default value to true (Ashutosh Chauhan) (Revision 1453649)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1453649&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1453649&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/conf/hive-site.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13623071" author="hudson" created="Thu, 4 Apr 2013 23:40:00 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #138 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/138/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3297&quot; title=&quot;change hive.auto.convert.join&amp;#39;s default value to true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3297&quot;&gt;&lt;del&gt;HIVE-3297&lt;/del&gt;&lt;/a&gt; : change hive.auto.convert.joins default value to true (Ashutosh Chauhan) (Revision 1453649)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1453649&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1453649&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/conf/hive-site.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13689985" author="wankunde" created="Fri, 21 Jun 2013 02:41:24 +0000"  >&lt;p&gt;hello,I find while the code had updated ,the configurate file hive-default.xml is the old version.&lt;br/&gt;
this makes me confused.&lt;br/&gt;
Should we update that???&lt;/p&gt;

&lt;p&gt;&amp;lt;property&amp;gt;&lt;br/&gt;
  &amp;lt;name&amp;gt;hive.auto.convert.join&amp;lt;/name&amp;gt;&lt;br/&gt;
  &amp;lt;value&amp;gt;false&amp;lt;/value&amp;gt;&lt;br/&gt;
  &amp;lt;description&amp;gt;Whether Hive enable the optimization about converting common join into mapjoin based on the input file size&amp;lt;/description&amp;gt;&lt;br/&gt;
&amp;lt;/property&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13887666" author="lefty@hortonworks.com" created="Fri, 31 Jan 2014 11:38:01 +0000"  >&lt;p&gt;Yes, hive-default.xml.template needs to be updated for the new default value of &lt;b&gt;hive.auto.convert.join&lt;/b&gt;.  Now it&apos;s on my fix-it list.&lt;/p&gt;

&lt;p&gt;The wikidoc has been fixed:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+JoinOptimization#LanguageManualJoinOptimization-PriorSupportforMAPJOIN&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Join Optimization:  Prior Support for MAPJOIN &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-QueryExecution&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties:  Query Execution &lt;/a&gt; &amp;#8211; search for &quot;hive.auto.convert.join&quot;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14002903" author="lefty@hortonworks.com" created="Tue, 20 May 2014 07:24:34 +0000"  >&lt;p&gt;I added notes about hive-default.xml.template showing the wrong default.  Presumably &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; will fix the error, since its patch has the correct default.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+JoinOptimization#LanguageManualJoinOptimization-PriorSupportforMAPJOIN&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Join Optimization &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.auto.convert.join&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;hive.auto.convert.join &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12572337" name="HIVE-3297.patch" size="1687" author="ashutoshc" created="Wed, 6 Mar 2013 16:03:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 Dec 2012 19:43:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259170</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124418</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3298] select 1+1 from dual; if dual is an empty table this statement will return no result </title>
                <link>https://issues.apache.org/jira/browse/HIVE-3298</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;hive&amp;gt;drop table if exists dual;&lt;br/&gt;
hive&amp;gt;create table dual (dummy string);&lt;br/&gt;
hive&amp;gt;select 1+1 from dual;&lt;/p&gt;

&lt;p&gt;Total MapReduce jobs = 1&lt;br/&gt;
Launching Job 1 out of 1&lt;br/&gt;
Number of reduce tasks is set to 0 since there&apos;s no reduce operator&lt;br/&gt;
Starting Job = job_201206081154_0458, Tracking URL = &lt;a href=&quot;http://dwtest-93-61:50030/jobdetails.jsp?jobid=job_201206081154_0458&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dwtest-93-61:50030/jobdetails.jsp?jobid=job_201206081154_0458&lt;/a&gt;&lt;br/&gt;
Kill Command = /home/hive/hadoop-0.20.2-cdh3u0/bin/hadoop job  -Dmapred.job.tracker=dwtest-93-61:9001 -kill job_201206081154_0458&lt;br/&gt;
Hadoop job information for Stage-1: number of mappers: 0; number of reducers: 0&lt;br/&gt;
2012-07-25 16:58:15,793 Stage-1 map = 0%,  reduce = 0%&lt;br/&gt;
2012-07-25 16:58:17,817 Stage-1 map = 100%,  reduce = 100%&lt;br/&gt;
Ended Job = job_201206081154_0458&lt;br/&gt;
MapReduce Jobs Launched: &lt;br/&gt;
Job 0:  HDFS Read: 0 HDFS Write: 0 SUCESS&lt;br/&gt;
Total MapReduce CPU Time Spent: 0 msec&lt;br/&gt;
OK&lt;br/&gt;
Time taken: 6.607 seconds&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux  3.0.0-14-generic #23-Ubuntu SMP Mon Nov 21 20:34:47 UTC 2011 i686 i686 i386 GNU/Linux&lt;br/&gt;
java version &quot;1.6.0_25&quot;&lt;br/&gt;
hadoop-0.20.2-cdh3u0&lt;br/&gt;
hive-0.8.1&lt;/p&gt;</environment>
        <key id="12600134">HIVE-3298</key>
            <summary>select 1+1 from dual; if dual is an empty table this statement will return no result </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="caofangkun">caofangkun</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jul 2012 09:02:32 +0000</created>
                <updated>Wed, 25 Jul 2012 14:50:58 +0000</updated>
                            <resolved>Wed, 25 Jul 2012 14:50:58 +0000</resolved>
                                    <version>0.8.1</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13422325" author="appodictic" created="Wed, 25 Jul 2012 14:50:47 +0000"  >&lt;p&gt;That is what it is supposed to do. If you are selecting a table with no rows you are going to get no rows. Consider looking at the duelinputformat I created. It always returns a single row regardless of the data.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/edwardcapriolo/DualInputFormat&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/edwardcapriolo/DualInputFormat&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Jul 2012 14:50:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259171</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124419</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3299] Create UDF  DAYNAME(date)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3299</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;dayname(date/timestamp/string)&lt;/p&gt;

&lt;p&gt;Returns the name of the weekday for date. The language used for the name is English.&lt;/p&gt;

&lt;p&gt;select dayname(&apos;2015-04-08&apos;);&lt;br/&gt;
Wednesday&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600146">HIVE-3299</key>
            <summary>Create UDF  DAYNAME(date)</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="apivovarov">Alexander Pivovarov</assignee>
                                    <reporter username="medicaux">Namitha Babychan</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 25 Jul 2012 10:33:06 +0000</created>
                <updated>Sun, 19 Apr 2015 08:26:41 +0000</updated>
                            <resolved>Sat, 18 Apr 2015 20:03:15 +0000</resolved>
                                    <version>0.9.0</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13422156" author="shalishvj" created="Wed, 25 Jul 2012 10:55:41 +0000"  >&lt;p&gt;Current releases of Hive lacks a function which would return the day name corresponding to a date / timestamp value which might be a part of a column.   &lt;br/&gt;
The function -DAYNAME (date) would return the day name from a date / timestamp or column which would be useful while using HiveQL. This would find its use  in various business sectors like retail, which would help in  identifying the trends and sales datails for a particular weekday for entire year,month or week.&lt;/p&gt;


&lt;p&gt;Functionality :-&lt;/p&gt;

&lt;p&gt;Function Name: DAYNAME (date)&lt;/p&gt;

&lt;p&gt;Returns the name of the weekday for date. &lt;br/&gt;
Example: hive&amp;gt; SELECT DAYNAME(&apos;2012-07-25&apos;);&lt;br/&gt;
                   -&amp;gt; &apos;Wednesday&apos;&lt;/p&gt;

&lt;p&gt;Usage :-&lt;/p&gt;

&lt;p&gt;Case 1 : To find DAY NAME corresponding to a particular date &lt;/p&gt;

&lt;p&gt;hive&amp;gt; SELECT DAYNAME(&apos;2012-07-25&apos;);&lt;/p&gt;

&lt;p&gt;                   -&amp;gt; &apos;Wednesday&apos;&lt;/p&gt;



&lt;p&gt;Case 2 : To query a table to find details based on a particular day name&lt;br/&gt;
Table :-&lt;br/&gt;
date      |item id|store id    |value|unit|price&lt;/p&gt;

&lt;p&gt;01/07/2012|110001|0011111111003|0.99|1.00|0.99&lt;/p&gt;

&lt;p&gt;02/07/2012|110001|0011111111008|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;03/07/2012|110001|0011111111009|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;04/07/2012|110001|0011111112002|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;05/07/2012|110001|0011111112003|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;06/07/2012|110001|0011111112006|0.99|1.00|0.99&lt;/p&gt;

&lt;p&gt;07/07/2012|110001|0011111112007|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;08/07/2012|110001|0011111112008|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;09/07/2012|110001|0011111112009|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;10/07/2012|110001|0011111112010|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;11/07/2012|110001|0011111113003|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;12/07/2012|110001|0011111113006|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;13/07/2012|110001|0011111113008|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;14/07/2012|110001|0011111113010|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;15/07/2012|110001|0011111114002|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;16/07/2012|110001|0011111114004|0.99|1.00|0.99&lt;/p&gt;

&lt;p&gt;17/07/2012|110001|0011111114005|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;18/07/2012|110001|0011111121004|0.99|0.00|0.00&lt;/p&gt;




&lt;p&gt;Query : select * from sales where dayname(date)=&apos;wednesday&apos;;&lt;/p&gt;


&lt;p&gt;Result :-&lt;br/&gt;
04/07/2012|110001|0011111112002|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;11/07/2012|110001|0011111113003|0.99|0.00|0.00&lt;/p&gt;

&lt;p&gt;18/07/2012|110001|0011111121004|0.99|0.00|0.00&lt;/p&gt;</comment>
                            <comment id="13422296" author="bennies" created="Wed, 25 Jul 2012 14:12:15 +0000"  >&lt;p&gt;Currently you can get this trough a unix_timestamp function so if you don&apos;t want to wait for an implementation do something like this.&lt;br/&gt;
select from_unixtime(unix_timestamp() , &apos;EEEE&apos;) from dummytable limit 1;&lt;br/&gt;
or&lt;br/&gt;
select from_unixtime(unix_timestamp(&apos;2012-07-25 00:00:00&apos;), &apos;EEEE&apos;) from dummytable limit 1;&lt;/p&gt;

&lt;p&gt;However simply having a nice udf for it would be nice, like they have in mysql: &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_dayname&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_dayname&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13422899" author="shalishvj" created="Thu, 26 Jul 2012 05:22:12 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Our team here is working on this UDF and would fix it ASAP.&lt;/p&gt;</comment>
                            <comment id="13425664" author="medicaux" created="Tue, 31 Jul 2012 10:36:50 +0000"  >&lt;p&gt;patch for the issue hive-3299 is attached. &lt;/p&gt;</comment>
                            <comment id="13425666" author="medicaux" created="Tue, 31 Jul 2012 10:39:03 +0000"  >&lt;p&gt;patch for the hive-3299 is available in the file hive-3299.1.patch&lt;/p&gt;</comment>
                            <comment id="13426023" author="cwsteinbach" created="Tue, 31 Jul 2012 18:59:26 +0000"  >&lt;p&gt;@Namitha: The patch needs to apply cleanly with &apos;patch -p0 &amp;lt; patch.txt&apos;. Please review the other tips for contributing patches here: &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HowToContribute&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HowToContribute&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Also, can you please add a testcase? Thanks.&lt;/p&gt;</comment>
                            <comment id="13426369" author="medicaux" created="Wed, 1 Aug 2012 08:08:28 +0000"  >&lt;p&gt;The patch for the issue Hive-3299 is attached&lt;/p&gt;</comment>
                            <comment id="13426370" author="medicaux" created="Wed, 1 Aug 2012 08:09:10 +0000"  >&lt;p&gt;The patch for issue Hive -3299 is attached&lt;/p&gt;</comment>
                            <comment id="13426557" author="medicaux" created="Wed, 1 Aug 2012 12:40:45 +0000"  >&lt;p&gt;Testcases of the issue Hive-3299 is attached&lt;/p&gt;</comment>
                            <comment id="13428970" author="medicaux" created="Mon, 6 Aug 2012 04:01:53 +0000"  >&lt;p&gt;@Carl Steinbach : I have attached the patch for the issue. Please review and let me know if any modifications has to be made. Thanks.&lt;/p&gt;</comment>
                            <comment id="13429365" author="cwsteinbach" created="Mon, 6 Aug 2012 19:21:49 +0000"  >&lt;p&gt;@Namitha: Thanks for adding the test doc. However, we prefer that each patch include an executable testcase. In this case it&apos;s OK to add a qfile testcase. Please take a look at the UDF qfile testcases in ql/src/test/queries/clientpositive/udf_*.q. For this patch you should add a new testcase called udf_dayname.q, and then generate test results for the test by running the following command:&lt;/p&gt;

&lt;p&gt;% ant test -Dtestcase=TestCliDriver -Dqfile=udf_dayname.q -Doverwrite=true&lt;/p&gt;

&lt;p&gt;More details are available in the HowToContribute document I referenced earlier.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13431594" author="medicaux" created="Thu, 9 Aug 2012 05:53:29 +0000"  >&lt;p&gt;Thanks for the guidelines.I am attaching the patch and the sample executable test queries and their outputs.&lt;/p&gt;</comment>
                            <comment id="13431597" author="medicaux" created="Thu, 9 Aug 2012 06:06:57 +0000"  >&lt;p&gt;Hi Carl, Thanks alot..Please review and provide your valuable comments.&lt;/p&gt;</comment>
                            <comment id="13455584" author="cwsteinbach" created="Fri, 14 Sep 2012 05:31:00 +0000"  >&lt;p&gt;@Namitha: A couple comments about the patch:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;The patch causes a test failure in show_functions.q. It looks like the output for this test needs to be updated.&lt;/li&gt;
	&lt;li&gt;FunctionRegistry was modified to include UDFRpad twice. This looks like a cut-and-paste error. Please remove.&lt;/li&gt;
	&lt;li&gt;The formatting in UDFDayName doesn&apos;t adhere to the project guidelines (i.e. indent with two spaces, no TABS, comments on their own lines, etc).&lt;/li&gt;
	&lt;li&gt;In the future please submit review requests using either reviewboard (reviews.apache.org) or phabricator. Directions for the latter option are linked off of the HowToContribute wiki page.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13458248" author="aniket486" created="Tue, 18 Sep 2012 22:24:06 +0000"  >&lt;p&gt;@Carl, are we not considering adding new UDFs to builtin instead? There are several interesting udfs here - &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2361&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2361&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13458255" author="cwsteinbach" created="Tue, 18 Sep 2012 22:42:47 +0000"  >&lt;p&gt;@Aniket: it would be great to get &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2361&quot; title=&quot; Add some UDFs which help to migrate Oracle to Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2361&quot;&gt;HIVE-2361&lt;/a&gt; committed. At this point someone still needs to take the attached code from 2361 and submit a proper patch with testcases. As for the builtins subproject, at this point we haven&apos;t really started using that mechanism for new UDFs, and I&apos;m a little worried that we may have remove some code rust before we can get it to work. If you have time to look into it that would great.&lt;/p&gt;</comment>
                            <comment id="13567530" author="ak.arun@aol.com" created="Thu, 31 Jan 2013 10:49:41 +0000"  >&lt;p&gt;This is a quite useful UDF and hope it shall be taken into account. Please review the same- &lt;a href=&quot;https://reviews.apache.org/r/9176/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/9176/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13573167" author="ann dominic" created="Thu, 7 Feb 2013 04:11:15 +0000"  >&lt;p&gt;The patch for the issue has been attached on 06/02/2013&lt;/p&gt;</comment>
                            <comment id="13853087" author="kostiantyn" created="Thu, 19 Dec 2013 18:08:37 +0000"  >&lt;p&gt;Please, take into account this is very specific user case. It makes sense to create as general as possible public to cover wide range of use cases. A few days ago I create ticket &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6046&quot; title=&quot;add  UDF for converting date time from one presentation to another&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6046&quot;&gt;&lt;del&gt;HIVE-6046&lt;/del&gt;&lt;/a&gt; and working on that currently&lt;br/&gt;
I&apos;m pretty sure &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6046&quot; title=&quot;add  UDF for converting date time from one presentation to another&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6046&quot;&gt;&lt;del&gt;HIVE-6046&lt;/del&gt;&lt;/a&gt; gives possibility to get name from date as described in the current ticket &lt;/p&gt;</comment>
                            <comment id="14485847" author="apivovarov" created="Wed, 8 Apr 2015 19:18:52 +0000"  >&lt;p&gt;patch #2&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the function extends GenericUDF and uses GenericUDF methods.&lt;/li&gt;
	&lt;li&gt;added JUnit tests&lt;/li&gt;
	&lt;li&gt;added q test for string/date/timestamps arguments&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14486721" author="apivovarov" created="Thu, 9 Apr 2015 05:15:18 +0000"  >&lt;p&gt;patch #3&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fixed GenericUDFDayName class comments&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14487709" author="apivovarov" created="Thu, 9 Apr 2015 17:30:57 +0000"  >&lt;p&gt;patch #4&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fixed typo in q file&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14487712" author="apivovarov" created="Thu, 9 Apr 2015 17:32:02 +0000"  >&lt;p&gt;the function can be replaced by&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;date_format(date, &lt;span class=&quot;code-quote&quot;&gt;&apos;EEEE&apos;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14487980" author="hiveqa" created="Thu, 9 Apr 2015 18:56:18 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12724134/HIVE-3299.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12724134/HIVE-3299.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 17 failed/errored test(s), 8660 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCustomAuthentication - did not produce a TEST-*.xml file
TestMinimrCliDriver-bucketmapjoin6.q-constprog_partitioner.q-infer_bucket_sort_dyn_part.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-external_table_with_space_in_location_path.q-infer_bucket_sort_merge.q-auto_sortmerge_join_16.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-groupby2.q-import_exported_table.q-bucketizedhiveinputformat.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-index_bitmap3.q-stats_counter_partitioned.q-temp_table_external.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_map_operators.q-join1.q-bucketmapjoin7.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_num_buckets.q-disable_merge_for_bucketing.q-uber_reduce.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_reducers_power_two.q-scriptfile1.q-scriptfile1_win.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-leftsemijoin_mr.q-load_hdfs_file_with_space_in_the_name.q-root_dir_external_table.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-list_bucket_dml_10.q-bucket_num_reducers.q-bucket6.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-load_fs2.q-file_with_header_footer.q-ql_rewrite_gbtoidx_cbo_1.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-parallel_orderby.q-reduce_deduplicate.q-ql_rewrite_gbtoidx_cbo_2.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-ql_rewrite_gbtoidx.q-smb_mapjoin_8.q - did not produce a TEST-*.xml file
TestMinimrCliDriver-schemeAuthority2.q-bucket4.q-input16_cc.q-and-1-more - did not produce a TEST-*.xml file
TestSparkClient - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_functions
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3347/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3347/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3347/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3347/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3347/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3347/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 17 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12724134 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14488028" author="apivovarov" created="Thu, 9 Apr 2015 19:12:05 +0000"  >&lt;p&gt;patch #5&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fixed show_functions.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14490750" author="hiveqa" created="Sat, 11 Apr 2015 03:12:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12724305/HIVE-3299.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12724305/HIVE-3299.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 18 failed/errored test(s), 8674 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMinimrCliDriver-bucketmapjoin6.q-constprog_partitioner.q-infer_bucket_sort_dyn_part.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-external_table_with_space_in_location_path.q-infer_bucket_sort_merge.q-auto_sortmerge_join_16.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-groupby2.q-import_exported_table.q-bucketizedhiveinputformat.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-index_bitmap3.q-stats_counter_partitioned.q-temp_table_external.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_map_operators.q-join1.q-bucketmapjoin7.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_num_buckets.q-disable_merge_for_bucketing.q-uber_reduce.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-infer_bucket_sort_reducers_power_two.q-scriptfile1.q-scriptfile1_win.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-leftsemijoin_mr.q-load_hdfs_file_with_space_in_the_name.q-root_dir_external_table.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-list_bucket_dml_10.q-bucket_num_reducers.q-bucket6.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-load_fs2.q-file_with_header_footer.q-ql_rewrite_gbtoidx_cbo_1.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-parallel_orderby.q-reduce_deduplicate.q-ql_rewrite_gbtoidx_cbo_2.q-and-1-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-ql_rewrite_gbtoidx.q-smb_mapjoin_8.q - did not produce a TEST-*.xml file
TestMinimrCliDriver-schemeAuthority2.q-bucket4.q-input16_cc.q-and-1-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testMetastoreProxyUser
org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testSaslWithHiveMetaStore
org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler.org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testNewConnectionConfiguration
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3368/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3368/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3368/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3368/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3368/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3368/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 18 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12724305 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14490806" author="apivovarov" created="Sat, 11 Apr 2015 05:45:06 +0000"  >&lt;p&gt;Test results look good. Failed tests has no relation to patch #5&lt;/p&gt;</comment>
                            <comment id="14501567" author="apivovarov" created="Sat, 18 Apr 2015 20:03:15 +0000"  >&lt;p&gt;Set the Jira as resolved because the function can be replaced by&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;date_format(date, &lt;span class=&quot;code-quote&quot;&gt;&apos;EEEE&apos;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14501742" author="bennies" created="Sun, 19 Apr 2015 08:26:41 +0000"  >&lt;p&gt;I would like you to reconsider adding this patch. Historically we add functionality similar to mysql and this function is available in mysql: &lt;a href=&quot;https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_dayname&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://dev.mysql.com/doc/refman/5.5/en/date-and-time-functions.html#function_dayname&lt;/a&gt;&lt;br/&gt;
Now granted we can easily workaround it but that would mean we stop taking mysql as our target.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12819560">HIVE-10276</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12539965" name="HIVE-3299.1.patch.txt" size="14649" author="medicaux" created="Thu, 9 Aug 2012 05:53:28 +0000"/>
                            <attachment id="12723992" name="HIVE-3299.2.patch" size="18820" author="apivovarov" created="Wed, 8 Apr 2015 19:18:52 +0000"/>
                            <attachment id="12724134" name="HIVE-3299.3.patch" size="18785" author="apivovarov" created="Thu, 9 Apr 2015 05:15:18 +0000"/>
                            <attachment id="12724272" name="HIVE-3299.4.patch" size="18773" author="apivovarov" created="Thu, 9 Apr 2015 17:30:57 +0000"/>
                            <attachment id="12724305" name="HIVE-3299.5.patch" size="18868" author="apivovarov" created="Thu, 9 Apr 2015 19:12:05 +0000"/>
                            <attachment id="12568222" name="HIVE-3299.patch.txt" size="11696" author="ann dominic" created="Wed, 6 Feb 2013 13:52:55 +0000"/>
                            <attachment id="12538775" name="Hive-3299_Testcase.doc" size="26112" author="medicaux" created="Wed, 1 Aug 2012 12:40:45 +0000"/>
                            <attachment id="12539966" name="udf_dayname.q" size="602" author="medicaux" created="Thu, 9 Aug 2012 05:53:28 +0000"/>
                            <attachment id="12539967" name="udf_dayname.q.out" size="4118" author="medicaux" created="Thu, 9 Aug 2012 05:53:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Jul 2012 10:55:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259172</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124420</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3300] LOAD DATA INPATH fails if a hdfs file with same name is added to table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3300</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If we are loading data from local fs to hive tables using &apos;LOAD DATA LOCAL INPATH&apos; and if a file with the same name exists in the table&apos;s location then the new file will be suffixed by *_copy_1.&lt;/p&gt;

&lt;p&gt;But if we do the &apos;LOAD DATA INPATH&apos;  for a file in hdfs then there is no rename happening but just a move task is getting triggered. Since a file with same name exists in same hdfs location, hadoop fs move operation throws an error.&lt;/p&gt;


&lt;p&gt;hive&amp;gt; LOAD DATA INPATH &apos;/userdata/bejoy/site.txt&apos; INTO TABLE test.site;&lt;br/&gt;
Loading data to table test.site&lt;br/&gt;
Failed with exception null&lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.MoveTask&lt;br/&gt;
hive&amp;gt; &lt;/p&gt;
</description>
                <environment>&lt;p&gt;ubuntu linux, hadoop 1.0.3, hive 0.9&lt;/p&gt;</environment>
        <key id="12600184">HIVE-3300</key>
            <summary>LOAD DATA INPATH fails if a hdfs file with same name is added to table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="bejoyks">Bejoy KS</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Jul 2012 16:02:27 +0000</created>
                <updated>Thu, 16 May 2013 21:10:28 +0000</updated>
                            <resolved>Mon, 7 Jan 2013 06:40:56 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Import/Export</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13423009" author="navis" created="Thu, 26 Jul 2012 11:01:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D4383&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4383&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13423558" author="navis" created="Thu, 26 Jul 2012 23:33:25 +0000"  >&lt;p&gt;I think attached test is not appropriate for this usecase. &lt;/p&gt;</comment>
                            <comment id="13529604" author="phabricator@reviews.facebook.net" created="Wed, 12 Dec 2012 03:49:20 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3300&quot; title=&quot;LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3300&quot;&gt;&lt;del&gt;HIVE-3300&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  1. Removed staging stage for source files before copy/move&lt;br/&gt;
  2. Rebase on trunk&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4383&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4383&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs2.q&lt;br/&gt;
  ql/src/test/results/clientpositive/load_fs2.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13533865" author="namit" created="Mon, 17 Dec 2012 11:32:51 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13533867" author="phabricator@reviews.facebook.net" created="Mon, 17 Dec 2012 11:34:12 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3300&quot; title=&quot;LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3300&quot;&gt;&lt;del&gt;HIVE-3300&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs2.q:1 Add some comments in the test.&lt;br/&gt;
  What are you trying to test ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4383&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4383&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13545384" author="phabricator@reviews.facebook.net" created="Sun, 6 Jan 2013 13:00:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3300&quot; title=&quot;LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3300&quot;&gt;&lt;del&gt;HIVE-3300&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Addressed comments&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4383&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4383&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/load_fs2.q&lt;br/&gt;
  ql/src/test/results/clientpositive/load_fs2.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13545635" author="namit" created="Mon, 7 Jan 2013 04:48:56 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="13545636" author="phabricator@reviews.facebook.net" created="Mon, 7 Jan 2013 04:50:11 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3300&quot; title=&quot;LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3300&quot;&gt;&lt;del&gt;HIVE-3300&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4383&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4383&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1679&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13545671" author="namit" created="Mon, 7 Jan 2013 06:40:56 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13545874" author="hudson" created="Mon, 7 Jan 2013 13:36:20 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1898 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1898/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1898/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3300&quot; title=&quot;LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3300&quot;&gt;&lt;del&gt;HIVE-3300&lt;/del&gt;&lt;/a&gt; LOAD DATA INPATH fails if a hdfs file with same name is added to table&lt;br/&gt;
(Navis via namit) (Revision 1429686)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1429686&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1429686&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/load_fs2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_fs2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548012" author="hudson" created="Wed, 9 Jan 2013 10:23:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3300&quot; title=&quot;LOAD DATA INPATH fails if a hdfs file with same name is added to table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3300&quot;&gt;&lt;del&gt;HIVE-3300&lt;/del&gt;&lt;/a&gt; LOAD DATA INPATH fails if a hdfs file with same name is added to table&lt;br/&gt;
(Navis via namit) (Revision 1429686)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1429686&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1429686&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/load_fs2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_fs2.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12537982" name="HIVE-3300.1.patch.txt" size="14880" author="navis" created="Thu, 26 Jul 2012 11:03:02 +0000"/>
                            <attachment id="12560503" name="HIVE-3300.D4383.3.patch" size="15345" author="phabricator@reviews.facebook.net" created="Wed, 12 Dec 2012 03:49:20 +0000"/>
                            <attachment id="12563480" name="HIVE-3300.D4383.4.patch" size="15166" author="phabricator@reviews.facebook.net" created="Sun, 6 Jan 2013 13:00:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Jul 2012 11:01:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259173</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124421</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3301] Fix quote printing bug in mapreduce_stack_trace.q testcase failure when running hive on hadoop23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3301</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When running hive on hadoop0.23, mapreduce_stack_trace.q is failing due to quote printing bug:&lt;/p&gt;

&lt;p&gt;quote is printed as: &apos;&amp;quot;&apos;, instead of &quot;&lt;/p&gt;

&lt;p&gt;Seems not able to state the bug clearly in html:&lt;/p&gt;

&lt;p&gt;quote is printed as &apos;address sign&apos; + &apos;quot&apos; + semicolon&lt;br/&gt;
not the expected &apos;quote sign&apos;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600246">HIVE-3301</key>
            <summary>Fix quote printing bug in mapreduce_stack_trace.q testcase failure when running hive on hadoop23</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="zhenxiao">Zhenxiao Luo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jul 2012 00:45:08 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:11 +0000</updated>
                            <resolved>Thu, 26 Jul 2012 23:24:42 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13422787" author="zhenxiao" created="Thu, 26 Jul 2012 00:58:32 +0000"  >&lt;p&gt;The problem is:&lt;/p&gt;

&lt;p&gt;In hadoop23, TaskLogServlet.java is using a new utility HtmlQuoting.java to print Task Log.&lt;/p&gt;

&lt;p&gt;In TaskLogServlet.java, printTaskLog() function:&lt;/p&gt;

&lt;p&gt;result = taskLogReader.read(b);&lt;br/&gt;
        if (result &amp;gt; 0) {&lt;br/&gt;
          if (plainText) &lt;/p&gt;
{
            out.write(b, 0, result);
          } else {
            HtmlQuoting.quoteHtmlChars(out, b, 0, result);
          }&lt;br/&gt;
        } else {
          break;
        }&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
While, in hadoop20,  TaskLogServlet.java is using its own utility(there is no such HtmlQuoting.java at all) to print Task Log:&lt;br/&gt;
&lt;br/&gt;
In TaskLogServlet.java, printTaskLog fucntion:&lt;br/&gt;
&lt;br/&gt;
result = taskLogReader.read(b);&lt;br/&gt;
        if (result &amp;gt; 0) {&lt;br/&gt;
          if (plainText) {            out.write(b, 0, result);          }
&lt;p&gt; else &lt;/p&gt;
{
            quotedWrite(out, b, 0, result);
          }
&lt;p&gt;        } else &lt;/p&gt;
{
          break;
        }


&lt;p&gt;And in Hive, TaskLogProcessor.java is generating stack trace by reading the raw taskAttemptLog.&lt;/p&gt;

&lt;p&gt;In ql/src/java/org/apache/hadoop/hive/ql/exec/errors/TaskLogProcessor.java, getStackTraces() fuction:&lt;/p&gt;


&lt;p&gt;List&amp;lt;String&amp;gt; stackTrace = null;&lt;/p&gt;

&lt;p&gt;        // Patterns that match the middle/end of stack traces&lt;br/&gt;
        Pattern stackTracePattern = Pattern.compile(&quot;^\tat .*&quot;, Pattern.CASE_INSENSITIVE);&lt;br/&gt;
        Pattern endStackTracePattern =&lt;br/&gt;
            Pattern.compile(&quot;^\t... &lt;span class=&quot;error&quot;&gt;&amp;#91;0-9&amp;#93;&lt;/span&gt;+ more.*&quot;, Pattern.CASE_INSENSITIVE);&lt;/p&gt;

&lt;p&gt;        while ((inputLine = in.readLine()) != null) {&lt;/p&gt;

&lt;p&gt;          if (stackTracePattern.matcher(inputLine).matches() ||&lt;br/&gt;
              endStackTracePattern.matcher(inputLine).matches()) {&lt;/p&gt;


&lt;p&gt;To have Hive working for both hadoop20 and hadoop23, we should use different mechanisms when hive TaskLogProcessor is parsing TaskAttemptLog.&lt;/p&gt;

&lt;p&gt;My plan is creating a shim, which have different implementations for hadoop20 and hadoop23.&lt;/p&gt;

&lt;p&gt;In hadoop23, HtmlQuoting.unquoteHtmlChars() is used to parse the TaskAttemptLog.&lt;/p&gt;</comment>
                            <comment id="13422789" author="appodictic" created="Thu, 26 Jul 2012 01:01:14 +0000"  >&lt;p&gt;You know these hadoop 23 jiras are like death of a thousand paper cuts, if I had known we were going to face so many issues i would have proposed making a larger shim layer. Can we come up with a definitive list of all the 23 problems?&lt;/p&gt;</comment>
                            <comment id="13422790" author="zhenxiao" created="Thu, 26 Jul 2012 01:02:29 +0000"  >&lt;p&gt;review request submitted at:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D4353&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4353&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13422795" author="zhenxiao" created="Thu, 26 Jul 2012 01:08:40 +0000"  >&lt;p&gt;@Edward: oh yes. As I know, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3301&quot; title=&quot;Fix quote printing bug in mapreduce_stack_trace.q testcase failure when running hive on hadoop23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3301&quot;&gt;&lt;del&gt;HIVE-3301&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3275&quot; title=&quot;Fix autolocal1.q testcase failure when building hive on hadoop0.23 MR2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3275&quot;&gt;&lt;del&gt;HIVE-3275&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3273&quot; title=&quot;Add avro jars into hive execution classpath&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3273&quot;&gt;&lt;del&gt;HIVE-3273&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3242&quot; title=&quot;Fix cascade_dbdrop.q when building hive on hadoop0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3242&quot;&gt;&lt;del&gt;HIVE-3242&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3240&quot; title=&quot;Fix non-deterministic results in newline.q and timestamp_lazy.q&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3240&quot;&gt;&lt;del&gt;HIVE-3240&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3257&quot; title=&quot;Fix avro_joins.q testcase failure when building hive on hadoop0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3257&quot;&gt;&lt;del&gt;HIVE-3257&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3249&quot; title=&quot;Upgrade guava to 11.0.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3249&quot;&gt;&lt;del&gt;HIVE-3249&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2804&quot; title=&quot;Task log retrieval fails on Hadoop 0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2804&quot;&gt;&lt;del&gt;HIVE-2804&lt;/del&gt;&lt;/a&gt; are all hadoop 23 bugs. I am fixing these one by one. Thanks for your advice. I will try to put them into a larger shim layer.&lt;/p&gt;

&lt;p&gt;I just found an Error Code retrieval inconsistency between hadoop20 and hadoop23. Will file another one soon.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Zhenxiao&lt;/p&gt;</comment>
                            <comment id="13422800" author="appodictic" created="Thu, 26 Jul 2012 01:15:37 +0000"  >&lt;p&gt;I am not saying we need to shim layer all the fixes, but having a reasonably exhaustive list of the problems linked together in jira would make me more confident that we are taking the right plan of action. &lt;/p&gt;</comment>
                            <comment id="13422809" author="ashutoshc" created="Thu, 26 Jul 2012 01:25:36 +0000"  >&lt;p&gt;Zhenxiao I left comments on Phabricator.&lt;/p&gt;</comment>
                            <comment id="13422826" author="zhenxiao" created="Thu, 26 Jul 2012 01:46:54 +0000"  >&lt;p&gt;Link with hadoop23 integration related bugs&lt;/p&gt;</comment>
                            <comment id="13422831" author="zhenxiao" created="Thu, 26 Jul 2012 01:53:12 +0000"  >&lt;p&gt;@Edward: related HIVE tickets are linked. I will add more whenever any new bugs filed. Do we need a separate upper level JIRA to trace all the hadoop23 integration bugs?&lt;/p&gt;</comment>
                            <comment id="13422832" author="zhenxiao" created="Thu, 26 Jul 2012 01:53:52 +0000"  >&lt;p&gt;@ashutosh: Thanks a lot for the comments.&lt;/p&gt;

&lt;p&gt;I made updates and resubmitted review request at:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D4353&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4353&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13422836" author="zhenxiao" created="Thu, 26 Jul 2012 02:00:37 +0000"  >&lt;p&gt;patch has prefix in it&lt;/p&gt;</comment>
                            <comment id="13422837" author="zhenxiao" created="Thu, 26 Jul 2012 02:01:06 +0000"  >&lt;p&gt;updated patch without prefix&lt;br/&gt;
could apply cleanly&lt;/p&gt;</comment>
                            <comment id="13423167" author="ashutoshc" created="Thu, 26 Jul 2012 15:56:19 +0000"  >&lt;p&gt;+1 Running tests.&lt;/p&gt;</comment>
                            <comment id="13423555" author="ashutoshc" created="Thu, 26 Jul 2012 23:24:42 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Zhenxiao!&lt;/p&gt;</comment>
                            <comment id="13423778" author="hudson" created="Fri, 27 Jul 2012 10:09:05 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1570 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1570/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1570/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3301&quot; title=&quot;Fix quote printing bug in mapreduce_stack_trace.q testcase failure when running hive on hadoop23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3301&quot;&gt;&lt;del&gt;HIVE-3301&lt;/del&gt;&lt;/a&gt; : Fix quote printing bug in mapreduce_stack_trace.q testcase failure when running hive on hadoop23 (Zhenxiao Luo via Ashutosh Chauhan) (Revision 1366233)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1366233&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1366233&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/errors/TaskLogProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548011" author="hudson" created="Wed, 9 Jan 2013 10:23:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3301&quot; title=&quot;Fix quote printing bug in mapreduce_stack_trace.q testcase failure when running hive on hadoop23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3301&quot;&gt;&lt;del&gt;HIVE-3301&lt;/del&gt;&lt;/a&gt; : Fix quote printing bug in mapreduce_stack_trace.q testcase failure when running hive on hadoop23 (Zhenxiao Luo via Ashutosh Chauhan) (Revision 1366233)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1366233&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1366233&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/errors/TaskLogProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/0.20/java/org/apache/hadoop/hive/shims/Hadoop20Shims.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common/java/org/apache/hadoop/hive/shims/HadoopShims.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550307" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:11 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12542461">HIVE-2804</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12597829">HIVE-3240</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12597876">HIVE-3242</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12598278">HIVE-3249</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12598782">HIVE-3257</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12599373">HIVE-3273</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12599389">HIVE-3275</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12600252">HIVE-3303</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12537939" name="HIVE-3301.1.patch.txt" size="4469" author="zhenxiao" created="Thu, 26 Jul 2012 01:03:25 +0000"/>
                            <attachment id="12537944" name="HIVE-3301.2.patch.txt" size="3722" author="zhenxiao" created="Thu, 26 Jul 2012 01:51:53 +0000"/>
                            <attachment id="12537945" name="HIVE-3301.3.patch.txt" size="3690" author="zhenxiao" created="Thu, 26 Jul 2012 02:01:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Jul 2012 01:01:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242372</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02u6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14490</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3302] Race condition in query plan for merging at the end of a query</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3302</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In the query plan that&apos;s used to merge files at the end of a query, the dependency tree looks something like:&lt;br/&gt;
                   MoveTask(1)&lt;br/&gt;
                  /           \&lt;br/&gt;
...ConditionalTask             MoveTask(2)...&lt;br/&gt;
                  \           /&lt;br/&gt;
                   MergeTask&lt;/p&gt;

&lt;p&gt;Here MoveTask(1) moves the partition data to a temporary location, and MoveTask(2) moves it to the final location.&lt;/p&gt;

&lt;p&gt;However if there are dynamic partitions generated and some of these partitions are merged and others are moved, the dependency tree is changed at runtime to:&lt;br/&gt;
...ConditionalTask           MoveTask(2)...&lt;br/&gt;
                  \         /&lt;br/&gt;
                   MergeTask&lt;br/&gt;
                            \&lt;br/&gt;
                             MoveTask(1)&lt;/p&gt;

&lt;p&gt;This produces a race condition between the two MoveTasks where if MoveTask(2) runs before MoveTask(1) the partitions moved by MoveTask(1) will get moved to an intermediate location and never moved to the final location.  In this case those partitions are quietly lost.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600247">HIVE-3302</key>
            <summary>Race condition in query plan for merging at the end of a query</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jul 2012 00:47:56 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:56 +0000</updated>
                            <resolved>Sat, 4 Aug 2012 17:08:46 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13422782" author="kevinwilfong" created="Thu, 26 Jul 2012 00:49:43 +0000"  >&lt;p&gt;JIRA screwed up the formatting of my diagrams, the first is supposed to show MoveTask(1) and MergeTask stemming from ConditionalTask and MoveTask(2) dependent upon MoveTask(1) and MergeTask.&lt;/p&gt;

&lt;p&gt;The second is supposed to show MergeTask stemming from ConditionalTask, MoveTask(1) and MoveTask(2) dependent on MergeTask, and most importantly, no dependency relationship between MoveTask(1) and MoveTask(2).&lt;/p&gt;</comment>
                            <comment id="13423488" author="kevinwilfong" created="Thu, 26 Jul 2012 21:36:59 +0000"  >&lt;p&gt;Uploaded a diff here &lt;a href=&quot;https://reviews.facebook.net/D4395&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4395&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13423545" author="kevinwilfong" created="Thu, 26 Jul 2012 23:11:41 +0000"  >&lt;p&gt;Missed some testcases, will update.&lt;/p&gt;</comment>
                            <comment id="13428236" author="kevinwilfong" created="Fri, 3 Aug 2012 17:07:20 +0000"  >&lt;p&gt;Updated diff and patch, tests all pass now.&lt;/p&gt;</comment>
                            <comment id="13428635" author="namit" created="Sat, 4 Aug 2012 17:08:46 +0000"  >&lt;p&gt;Committed. Thanks Kevin&lt;/p&gt;</comment>
                            <comment id="13428782" author="hudson" created="Sun, 5 Aug 2012 03:14:17 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1592 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1592/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1592/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3302&quot; title=&quot;Race condition in query plan for merging at the end of a query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3302&quot;&gt;&lt;del&gt;HIVE-3302&lt;/del&gt;&lt;/a&gt; Race condition in query plan for merging at the end of a query&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1369375)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1369375&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1369375&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/contrib/src/test/results/clientpositive/serde_typedbytes.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/test/results/clientpositive/serde_typedbytes2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/test/results/clientpositive/serde_typedbytes3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/test/results/clientpositive/serde_typedbytes5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ConditionalResolverMergeFiles.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/merge_dynamic_partition5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/binary_output_format.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/case_sensitivity.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/cast1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_auto.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_auto_file_format.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_auto_mult_tables_compact.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_auto_multiple.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_auto_partitioned.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_auto_update.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_compression.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input34.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input35.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input36.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input38.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_dynamicserde.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_testsequencefile.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_testxpath.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_testxpath2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert_into4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert_into5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert_into6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join26.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join27.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join28.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join29.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join32.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join34.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join35.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join36.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join37.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join39.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_map_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/lineage1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge_dynamic_partition.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge_dynamic_partition2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge_dynamic_partition3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge_dynamic_partition4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge_dynamic_partition5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert_move_tasks_share_dependencies.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/pcr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_constant_expr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/quote1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rand_partitionpruner2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_createas1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_merge1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_merge2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_merge3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_merge4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats0.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subq.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_10_trims.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_length.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_reverse.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union18.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union28.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union29.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union30.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/case_sensitivity.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input9.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testsequencefile.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/subq.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/union.q.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548010" author="hudson" created="Wed, 9 Jan 2013 10:23:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3302&quot; title=&quot;Race condition in query plan for merging at the end of a query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3302&quot;&gt;&lt;del&gt;HIVE-3302&lt;/del&gt;&lt;/a&gt; Race condition in query plan for merging at the end of a query&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1369375)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1369375&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1369375&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/contrib/src/test/results/clientpositive/serde_typedbytes.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/test/results/clientpositive/serde_typedbytes2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/test/results/clientpositive/serde_typedbytes3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/test/results/clientpositive/serde_typedbytes5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ConditionalResolverMergeFiles.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/merge_dynamic_partition5.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/binary_output_format.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/case_sensitivity.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/cast1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_auto.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_auto_file_format.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_auto_mult_tables_compact.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_auto_multiple.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_auto_partitioned.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_auto_update.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/index_compression.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input34.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input35.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input36.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input38.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_dynamicserde.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_testsequencefile.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_testxpath.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_testxpath2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert_into4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert_into5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert_into6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join25.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join26.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join27.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join28.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join29.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join32.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join34.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join35.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join36.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join37.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join39.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_map_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/lineage1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/load_dyn_part14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge_dynamic_partition.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge_dynamic_partition2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge_dynamic_partition3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge_dynamic_partition4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge_dynamic_partition5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/multi_insert_move_tasks_share_dependencies.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/pcr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_constant_expr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/quote1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rand_partitionpruner2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_createas1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_merge1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_merge2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_merge3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_merge4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats0.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/stats4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/subq.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_10_trims.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_length.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_reverse.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union18.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union28.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union29.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union30.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/case_sensitivity.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input9.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testsequencefile.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/subq.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/union.q.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550246" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:56 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12538081" name="HIVE-3302.1.patch.txt" size="468317" author="kevinwilfong" created="Thu, 26 Jul 2012 21:41:50 +0000"/>
                            <attachment id="12539067" name="HIVE-3302.2.patch.txt" size="547969" author="kevinwilfong" created="Fri, 3 Aug 2012 17:07:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 4 Aug 2012 17:08:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259174</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lna7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124422</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3303] Fix error code inconsistency bug in mapreduce_stack_trace.q and mapreduce_stack_trace_turnoff.q when running hive on hadoop23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3303</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;when running hive on hadoop23, mapreduce_stack_trace.q and mapreduce_stack_trace_turnoff.q are having inconsistent error code diffs:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; diff -a /home/cloudera/Code/hive/build/ql/test/logs/clientnegative/mapreduce_stack_trace.q.out /home/cloudera/Code/hive/ql/src/test/results/clientnegative/mapreduce_stack_trace.q.out&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; FAILED: Execution Error, return code 20000 from org.apache.hadoop.hive.ql.exec.MapRedTask. Unable to initialize custom script.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; diff -a /home/cloudera/Code/hive/build/ql/test/logs/clientnegative/mapreduce_stack_trace_turnoff.q.out /home/cloudera/Code/hive/ql/src/test/results/clientnegative/mapreduce_stack_trace_turnoff.q.out&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 5c5&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt; FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt; FAILED: Execution Error, return code 20000 from org.apache.hadoop.hive.ql.exec.MapRedTask. Unable to initialize custom script&lt;/p&gt;

&lt;p&gt;The error code 20000(which indicates unable to initialize custom script) could not be retrieved. &lt;/p&gt;
</description>
                <environment></environment>
        <key id="12600252">HIVE-3303</key>
            <summary>Fix error code inconsistency bug in mapreduce_stack_trace.q and mapreduce_stack_trace_turnoff.q when running hive on hadoop23</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="zhenxiao">Zhenxiao Luo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jul 2012 01:14:26 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:47 +0000</updated>
                            <resolved>Tue, 31 Jul 2012 05:43:53 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13422816" author="zhenxiao" created="Thu, 26 Jul 2012 01:35:21 +0000"  >&lt;p&gt;The problem is, hadoop23 is getting Task-diagnostics differently from hadoop20.&lt;/p&gt;

&lt;p&gt;In hadoop20, Task-diagnostics is retrieved via jobSubmitClient in JobClient.java:&lt;/p&gt;

&lt;p&gt; public String[] getTaskDiagnostics(TaskAttemptID id) throws IOException &lt;/p&gt;
{
      return jobSubmitClient.getTaskDiagnostics(id);
    }

&lt;p&gt;And in JobTracker.java, all the related logs are put into diagnostic info:&lt;/p&gt;


&lt;p&gt;public synchronized String[] getTaskDiagnostics(TaskAttemptID taskId)&lt;br/&gt;
    throws IOException {&lt;/p&gt;

&lt;p&gt;    JobID jobId = taskId.getJobID();&lt;br/&gt;
    TaskID tipId = taskId.getTaskID();&lt;br/&gt;
    JobInProgress job = jobs.get(jobId);&lt;br/&gt;
    if (job == null) &lt;/p&gt;
{
      throw new IllegalArgumentException(&quot;Job &quot; + jobId + &quot; not found.&quot;);
    }
&lt;p&gt;    TaskInProgress tip = job.getTaskInProgress(tipId);&lt;br/&gt;
    if (tip == null) &lt;/p&gt;
{
      throw new IllegalArgumentException(&quot;TIP &quot; + tipId + &quot; not found.&quot;);
    }
&lt;p&gt;    List&amp;lt;String&amp;gt; taskDiagnosticInfo = tip.getDiagnosticInfo(taskId);&lt;br/&gt;
    return ((taskDiagnosticInfo == null) ? null&lt;br/&gt;
            : taskDiagnosticInfo.toArray(new String&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;));&lt;br/&gt;
  }&lt;/p&gt;

&lt;p&gt;Here is the diagnostic info in hadoop20:&lt;/p&gt;

&lt;p&gt;java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
{&quot;key&quot;:&quot;238&quot;,&quot;value&quot;:&quot;val_238&quot;}
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:161)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:358)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.Child.main(Child.java:170)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
{&quot;key&quot;:&quot;238&quot;,&quot;value&quot;:&quot;val_238&quot;}
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:548)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:143)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     ... 4 more&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 20000&amp;#93;&lt;/span&gt;: Unable to initialize custom script.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ScriptOperator.processOp(ScriptOperator.java:346)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:762)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.SelectOperator.processOp(SelectOperator.java:84)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:762)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:83)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:762)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:529)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     ... 5 more&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Caused by: java.io.IOException: Cannot run program &quot;script_does_not_exist&quot;: java.io.IOException: error=2, No such file or directory&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.lang.ProcessBuilder.start(ProcessBuilder.java:475)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ScriptOperator.processOp(ScriptOperator.java:305)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     ... 14 more&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Caused by: java.io.IOException: java.io.IOException: error=2, No such file or directory&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.lang.UNIXProcess.&amp;lt;init&amp;gt;(UNIXProcess.java:164)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.lang.ProcessImpl.start(ProcessImpl.java:81)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.lang.ProcessBuilder.start(ProcessBuilder.java:468)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     ... 15 more&lt;/p&gt;

&lt;p&gt;The error code &lt;span class=&quot;error&quot;&gt;&amp;#91;20000&amp;#93;&lt;/span&gt; appears in the diagnostic info, and could be retrieved by Hive.&lt;/p&gt;

&lt;p&gt;While, in hadoop23, in Job.java, a different execution path is:&lt;/p&gt;


&lt;p&gt;public String[] getTaskDiagnostics(final TaskAttemptID taskid)&lt;br/&gt;
      throws IOException, InterruptedException {&lt;br/&gt;
    ensureState(JobState.RUNNING);&lt;br/&gt;
    return ugi.doAs(new PrivilegedExceptionAction&amp;lt;String[]&amp;gt;() {&lt;br/&gt;
      @Override&lt;br/&gt;
      public String[] run() throws IOException, InterruptedException &lt;/p&gt;
{
        return cluster.getClient().getTaskDiagnostics(taskid);
      }
&lt;p&gt;    });&lt;br/&gt;
  }&lt;/p&gt;

&lt;p&gt;Here is the diagnostic info in hadoop23:&lt;br/&gt;
java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
{&quot;key&quot;:&quot;238&quot;,&quot;value&quot;:&quot;val_238&quot;}
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:161)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:161)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:393)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:393)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:327)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.Child$4.run(Child.java:270)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at javax.security.auth.Subject.doAs(Subject.java:416)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1332)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.Child.main(Child.java:264)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
{&quot;key&quot;:&quot;238&quot;,&quot;value&quot;:&quot;val_238&quot;}
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:548)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:143)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     ... 8 more&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; C&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.MapTask.run(MapTask.java:327)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.Child$4.run(Child.java:270)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at javax.security.auth.Subject.doAs(Subject.java:416)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1332)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.mapred.Child.main(Child.java:264)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
{&quot;key&quot;:&quot;238&quot;,&quot;value&quot;:&quot;val_238&quot;}
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:548)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:143)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt;     ... 8 more&lt;/p&gt;

&lt;p&gt;Except for the Hive Runtime exception saying error while processing row, no more info is get in the diagnostic info.&lt;/p&gt;

&lt;p&gt;Since hive is using Hadoop&apos;s diagnostic info to extract Error Code, in hadoop 23, error code is only set to be 2(as no other error code could be extracted).&lt;/p&gt;

&lt;p&gt;JobDebugger.java, getTasksInfo() function:&lt;/p&gt;

&lt;p&gt;if (t.getTaskStatus() != TaskCompletionEvent.Status.SUCCEEDED) {&lt;br/&gt;
            if (ti.getErrorCode() == 0) &lt;/p&gt;
{
              String[] diags = rj.getTaskDiagnostics(t.getTaskAttemptId());
              ti.setErrorCode(extractErrorCode(diags));
              ti.setDiagnosticMesgs(diags);
            }


&lt;p&gt;I think the possible solution is to have separate expected outputs for hadoop20 and hadoop23. Since mapreduce_stack_trace.q and mapreduce_stack_trace_turnoff.q are the testcases for Negative MiniMRCluster, there is no such utility there.&lt;/p&gt;

&lt;p&gt;any suggestions are appreciated.&lt;/p&gt;</comment>
                            <comment id="13422856" author="cwsteinbach" created="Thu, 26 Jul 2012 02:51:11 +0000"  >&lt;p&gt;We should use the &lt;span class=&quot;error&quot;&gt;&amp;#91;INCLUDE|EXCLUDE&amp;#93;&lt;/span&gt;_HADOOP_MAJOR_VERSIONS macros to fix this. The 0.23 behavior should be the standard going forward, so please create mapreduce_stack_trace_h20.q and use the INCLUDE macro, and EXCLUDE 0.20 from mapreduce_stack_trace.q&lt;/p&gt;</comment>
                            <comment id="13422916" author="zhenxiao" created="Thu, 26 Jul 2012 06:12:09 +0000"  >&lt;p&gt;review request submitted at:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D4365&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4365&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13423329" author="ashutoshc" created="Thu, 26 Jul 2012 18:25:24 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13425542" author="ashutoshc" created="Tue, 31 Jul 2012 05:43:53 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Zhenxiao!&lt;/p&gt;</comment>
                            <comment id="13425913" author="hudson" created="Tue, 31 Jul 2012 16:42:52 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1579 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1579/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1579/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3303&quot; title=&quot;Fix error code inconsistency bug in mapreduce_stack_trace.q and mapreduce_stack_trace_turnoff.q when running hive on hadoop23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3303&quot;&gt;&lt;del&gt;HIVE-3303&lt;/del&gt;&lt;/a&gt;: Fix error code inconsistency bug in mapreduce_stack_trace.q and mapreduce_stack_trace_turnoff.q when running hive on hadoop23 (Zhenxiao Luo via Ashutosh Chauhan) (Revision 1367413)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367413&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367413&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace_turnoff.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace_turnoff_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/mapreduce_stack_trace.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/mapreduce_stack_trace_hadoop20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/mapreduce_stack_trace_turnoff.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/mapreduce_stack_trace_turnoff_hadoop20.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548021" author="hudson" created="Wed, 9 Jan 2013 10:23:59 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3303&quot; title=&quot;Fix error code inconsistency bug in mapreduce_stack_trace.q and mapreduce_stack_trace_turnoff.q when running hive on hadoop23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3303&quot;&gt;&lt;del&gt;HIVE-3303&lt;/del&gt;&lt;/a&gt;: Fix error code inconsistency bug in mapreduce_stack_trace.q and mapreduce_stack_trace_turnoff.q when running hive on hadoop23 (Zhenxiao Luo via Ashutosh Chauhan) (Revision 1367413)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367413&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367413&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace_turnoff.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/mapreduce_stack_trace_turnoff_hadoop20.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/mapreduce_stack_trace.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/mapreduce_stack_trace_hadoop20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/mapreduce_stack_trace_turnoff.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/mapreduce_stack_trace_turnoff_hadoop20.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550203" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:47 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12600246">HIVE-3301</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12537962" name="HIVE-3303.1.patch.txt" size="8225" author="zhenxiao" created="Thu, 26 Jul 2012 06:13:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 Jul 2012 02:51:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242373</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02u6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14491</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3304] sort merge join should work if both the tables are sorted in descending order</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3304</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, sort merge join only works if both the tables are sorted in&lt;br/&gt;
ascending order&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600293">HIVE-3304</key>
            <summary>sort merge join should work if both the tables are sorted in descending order</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jul 2012 11:36:27 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:19 +0000</updated>
                            <resolved>Mon, 6 Aug 2012 16:50:07 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13425523" author="namit" created="Tue, 31 Jul 2012 04:56:10 +0000"  >&lt;p&gt;The sort-merge join should work as long as the sorted columns list is the same as joined columns list,&lt;br/&gt;
and all the columns are sorted in the same order.&lt;/p&gt;</comment>
                            <comment id="13425630" author="namit" created="Tue, 31 Jul 2012 09:04:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D4443&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4443&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13427682" author="kevinwilfong" created="Thu, 2 Aug 2012 22:33:29 +0000"  >&lt;p&gt;Commented on the diff.&lt;/p&gt;</comment>
                            <comment id="13427921" author="namit" created="Fri, 3 Aug 2012 09:20:11 +0000"  >&lt;p&gt;comments addressed&lt;/p&gt;</comment>
                            <comment id="13428304" author="kevinwilfong" created="Fri, 3 Aug 2012 19:16:13 +0000"  >&lt;p&gt;One more comment on the diff.&lt;/p&gt;</comment>
                            <comment id="13428585" author="namit" created="Sat, 4 Aug 2012 08:55:44 +0000"  >&lt;p&gt;addressed - thanks for catching that&lt;/p&gt;</comment>
                            <comment id="13428586" author="kevinwilfong" created="Sat, 4 Aug 2012 08:59:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13428798" author="kevinwilfong" created="Sun, 5 Aug 2012 04:38:12 +0000"  >&lt;p&gt;The tests failed.&lt;/p&gt;</comment>
                            <comment id="13428812" author="namit" created="Sun, 5 Aug 2012 06:04:27 +0000"  >&lt;p&gt;fixed&lt;/p&gt;</comment>
                            <comment id="13428818" author="kevinwilfong" created="Sun, 5 Aug 2012 07:09:01 +0000"  >&lt;p&gt;Thanks, running tests again.&lt;/p&gt;</comment>
                            <comment id="13429256" author="kevinwilfong" created="Mon, 6 Aug 2012 16:50:07 +0000"  >&lt;p&gt;Committed, thanks Namit.&lt;/p&gt;</comment>
                            <comment id="13429932" author="hudson" created="Tue, 7 Aug 2012 05:10:20 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1595 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1595/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1595/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3304&quot; title=&quot;sort merge join should work if both the tables are sorted in descending order&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3304&quot;&gt;&lt;del&gt;HIVE-3304&lt;/del&gt;&lt;/a&gt;. sort merge join should work if both the tables are sorted in descending order. (njain via kevinwilfong) (Revision 1369879)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1369879&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1369879&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/SortCol1Col2.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/SortCol2Col1.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/SortDescCol1Col2.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/SortDescCol2Col1.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapJoinOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucket_map_join_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucket_map_join_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/sort_merge_join_desc_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/sort_merge_join_desc_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/sort_merge_join_desc_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/sort_merge_join_desc_4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_4.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548022" author="hudson" created="Wed, 9 Jan 2013 10:23:59 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3304&quot; title=&quot;sort merge join should work if both the tables are sorted in descending order&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3304&quot;&gt;&lt;del&gt;HIVE-3304&lt;/del&gt;&lt;/a&gt;. sort merge join should work if both the tables are sorted in descending order. (njain via kevinwilfong) (Revision 1369879)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1369879&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1369879&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/SortCol1Col2.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/SortCol2Col1.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/SortDescCol1Col2.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/SortDescCol2Col1.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/SortedMergeBucketMapJoinOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucket_map_join_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucket_map_join_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/sort_merge_join_desc_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/sort_merge_join_desc_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/sort_merge_join_desc_3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/sort_merge_join_desc_4.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_4.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550083" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:19 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12538524" name="hive.3304.1.patch" size="58349" author="namit" created="Tue, 31 Jul 2012 09:05:27 +0000"/>
                            <attachment id="12538654" name="hive.3304.2.patch" size="52178" author="namit" created="Wed, 1 Aug 2012 07:32:08 +0000"/>
                            <attachment id="12539014" name="hive.3304.3.patch" size="66492" author="namit" created="Fri, 3 Aug 2012 09:19:15 +0000"/>
                            <attachment id="12539195" name="hive.3304.4.patch" size="66644" author="namit" created="Sun, 5 Aug 2012 06:05:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Aug 2012 22:33:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259175</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124423</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3305] functions cannot be a part of Location literal in create table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3305</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When creating a table on s3 a script like this doesn&apos;t work...&lt;/p&gt;

&lt;p&gt;CREATE EXTERNAL TABLE Newsletter_LRR(UserGuid STRING, DateLastUpdated STRING) &lt;br/&gt;
STORED AS TEXTFILE&lt;br/&gt;
LOCATION CONCAT(&apos;s3://testbucket/&apos;,&apos;subdirectory/&apos;);&lt;/p&gt;

&lt;p&gt;it does not allow to have CONCAT output as the Location.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hive 0.7.1&lt;br/&gt;
Hadoop 0.20&lt;/p&gt;</environment>
        <key id="12600326">HIVE-3305</key>
            <summary>functions cannot be a part of Location literal in create table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rdhawan">rohit dhawan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jul 2012 14:47:03 +0000</created>
                <updated>Thu, 26 Jul 2012 14:47:03 +0000</updated>
                                                                            <component>SQL</component>
                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259176</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124424</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3306] SMBJoin/BucketMapJoin should be allowed only when join key expression is exactly matches with sort/cluster key</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3306</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;CREATE TABLE bucket_small (key int, value string) CLUSTERED BY (key) SORTED BY (key) INTO 2 BUCKETS STORED AS TEXTFILE;&lt;br/&gt;
load data local inpath &apos;/home/navis/apache/oss-hive/data/files/srcsortbucket1outof4.txt&apos; INTO TABLE bucket_small;&lt;br/&gt;
load data local inpath &apos;/home/navis/apache/oss-hive/data/files/srcsortbucket2outof4.txt&apos; INTO TABLE bucket_small;&lt;/p&gt;

&lt;p&gt;CREATE TABLE bucket_big (key int, value string) CLUSTERED BY (key) SORTED BY (key) INTO 4 BUCKETS STORED AS TEXTFILE;&lt;br/&gt;
load data local inpath &apos;/home/navis/apache/oss-hive/data/files/srcsortbucket1outof4.txt&apos; INTO TABLE bucket_big;&lt;br/&gt;
load data local inpath &apos;/home/navis/apache/oss-hive/data/files/srcsortbucket2outof4.txt&apos; INTO TABLE bucket_big;&lt;br/&gt;
load data local inpath &apos;/home/navis/apache/oss-hive/data/files/srcsortbucket3outof4.txt&apos; INTO TABLE bucket_big;&lt;br/&gt;
load data local inpath &apos;/home/navis/apache/oss-hive/data/files/srcsortbucket4outof4.txt&apos; INTO TABLE bucket_big;&lt;/p&gt;

&lt;p&gt;select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM bucket_small a JOIN bucket_big b ON a.key + a.key = b.key;&lt;br/&gt;
select /* + MAPJOIN(a) */ count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; FROM bucket_small a JOIN bucket_big b ON a.key + a.key = b.key;&lt;br/&gt;
returns 116 (same) &lt;/p&gt;

&lt;p&gt;But with BucketMapJoin or SMBJoin, it returns 61. But this should not be allowed cause hash(a.key) != hash(a.key + a.key). &lt;br/&gt;
Bucket context should be utilized only with exact matching join expression with sort/cluster key.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600430">HIVE-3306</key>
            <summary>SMBJoin/BucketMapJoin should be allowed only when join key expression is exactly matches with sort/cluster key</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jul 2012 06:20:48 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:36 +0000</updated>
                            <resolved>Thu, 6 Sep 2012 16:35:33 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13426335" author="navis" created="Wed, 1 Aug 2012 05:21:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D4461&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4461&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13426489" author="namit" created="Wed, 1 Aug 2012 10:11:51 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13427069" author="lianhuiwang" created="Thu, 2 Aug 2012 01:55:09 +0000"  >&lt;p&gt;also i think there have another context.&lt;br/&gt;
example:ON (a.key = b.key and a.key=10)&lt;br/&gt;
this should scan the 10 bucket&apos;s file.not all bucket&apos;s file in the table&apos;s path.&lt;/p&gt;</comment>
                            <comment id="13427110" author="namit" created="Thu, 2 Aug 2012 04:57:08 +0000"  >&lt;p&gt;@Lianhui, that is a separate (and important) issue.&lt;br/&gt;
Can you file a new jira for that ?&lt;/p&gt;</comment>
                            <comment id="13427127" author="lianhuiwang" created="Thu, 2 Aug 2012 05:47:34 +0000"  >&lt;p&gt;@Namit, i created a new jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3329&quot; title=&quot;Support bucket filtering when where expression or join key expression has the bucket key &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3329&quot;&gt;HIVE-3329&lt;/a&gt;, maybe there has some tasks.&lt;br/&gt;
now i finish the work that the table is not partition table.&lt;br/&gt;
next i will work for the partition table.&lt;/p&gt;</comment>
                            <comment id="13449427" author="namit" created="Thu, 6 Sep 2012 05:16:02 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Running tests&lt;/p&gt;</comment>
                            <comment id="13449787" author="namit" created="Thu, 6 Sep 2012 16:35:33 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13450184" author="hudson" created="Thu, 6 Sep 2012 23:57:10 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1652 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1652/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1652/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3306&quot; title=&quot;SMBJoin/BucketMapJoin should be allowed only when join key expression is exactly matches with sort/cluster key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3306&quot;&gt;&lt;del&gt;HIVE-3306&lt;/del&gt;&lt;/a&gt; SMBJoin/BucketMapJoin should be allowed only when join key expression is exactly matches&lt;br/&gt;
with sort/cluster key (Navis via namit) (Revision 1381669)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381669&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381669&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapJoinOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucket_map_join_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucket_map_join_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketmapjoin_negative3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative3.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548023" author="hudson" created="Wed, 9 Jan 2013 10:23:59 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3306&quot; title=&quot;SMBJoin/BucketMapJoin should be allowed only when join key expression is exactly matches with sort/cluster key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3306&quot;&gt;&lt;del&gt;HIVE-3306&lt;/del&gt;&lt;/a&gt; SMBJoin/BucketMapJoin should be allowed only when join key expression is exactly matches&lt;br/&gt;
with sort/cluster key (Navis via namit) (Revision 1381669)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381669&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1381669&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapJoinOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucket_map_join_1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucket_map_join_2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucketmapjoin_negative3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative3.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550156" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:36 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12543972" name="HIVE-3306.1.patch.txt" size="61571" author="navis" created="Thu, 6 Sep 2012 02:24:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Aug 2012 10:11:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124425</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3307] Hive Web Interfaces Wishes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3307</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;List of wishes :&lt;/p&gt;

&lt;p&gt;(I may contribute a few of them.)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;narrower menu : use span2 instead of span4&lt;/li&gt;
	&lt;li&gt;remove home from menu&lt;/li&gt;
	&lt;li&gt;transform the header &quot;Hive Web Interface&quot; into a link to the home&lt;/li&gt;
	&lt;li&gt;change the &quot;Link&quot; in the header into a hive logo&lt;/li&gt;
	&lt;li&gt;add icons next to Authorize (?/check) to know whether the information was supplied&lt;/li&gt;
	&lt;li&gt;add approximated number of session next to the &quot;list sessions&quot; menu&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;fix history bug&lt;/li&gt;
	&lt;li&gt;add a refresh session in order to have a relatively updated interface&lt;/li&gt;
	&lt;li&gt;add a way to know if the result bucket is outdated (ie for which run, those results are related)&lt;/li&gt;
	&lt;li&gt;change the with of the query input, it should be width:100%&lt;/li&gt;
	&lt;li&gt;remove select/drop down for running query and use a button instead&lt;/li&gt;
	&lt;li&gt;remove select/drop down for silent mode and add a checkbox&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;find a way to report query error (hack would be with explain command, is there something only checking the syntax)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;table description : decorate all key/value entries and do not display empty list&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12600442">HIVE-3307</key>
            <summary>Hive Web Interfaces Wishes</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bdechoux">Bertrand Dechoux</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jul 2012 09:26:46 +0000</created>
                <updated>Fri, 27 Jul 2012 13:56:00 +0000</updated>
                                                                            <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13423865" author="appodictic" created="Fri, 27 Jul 2012 13:31:47 +0000"  >&lt;p&gt;All good stuff. I would like to see the explain the most since explains run fast we should be able to take the query put an &apos;explain &apos; in front and then rung that in separate window (or popup in a blocking fashion) that would be a nice feature.&lt;/p&gt;</comment>
                            <comment id="13423875" author="bdechoux" created="Fri, 27 Jul 2012 13:48:27 +0000"  >&lt;p&gt;I have done tests with the CLI. Explain is quite fast when there is a syntax error and longer when it need to really explain. I was wondering are these two steps separated as of now? Would I be able to call only the first one?&lt;/p&gt;

&lt;p&gt;(That won&apos;t be the first thing I will look at because I will first need to learn a bit about the hive implementation but I am curious.)&lt;/p&gt;</comment>
                            <comment id="13423881" author="appodictic" created="Fri, 27 Jul 2012 13:56:00 +0000"  >&lt;p&gt;The explain is not two parts it is a normal query processed by the query parser. The reason it is &apos;faster&apos; if the query is wrong is because the parsing happens first, if there is a parse error less work is done, if it passes the parsing phase it has more work to do, some of that work involves communicating with the metastore so that will take longer. Generally I see explain take a couple of seconds.If there was a window with an hourglass type thing that let me the user know to wait for result I thing an async call is fine. &lt;/p&gt;

&lt;p&gt;You could probably just get at the parser and try to parse the query quickly but as far as I know there is no direct way to do that now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Jul 2012 13:31:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259178</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 26 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124426</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3308] Mixing avro and snappy gives null values</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3308</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;On default hive uses LazySimpleSerDe for output.&lt;br/&gt;
When I now enable compression and &quot;select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from avrotable&quot; the output is a file with the .avro extension but this then will display null values since the file is in reality not an avro file but a file created by LazySimpleSerDe using compression so should be a .snappy file.&lt;br/&gt;
This causes any job (exception select * from avrotable is that not truly a job) to show null values.&lt;br/&gt;
If you use any serde other then avro you can temporarily fix this by setting &quot;set hive.output.file.extension=.snappy&quot; and it will correctly work again but this won&apos;t work on avro since it overwrites the hive.output.file.extension during initializing.&lt;/p&gt;

&lt;p&gt;When you dump the query result into a table with &quot;create table bla as&quot; you can rename the .avro file into .snappy and the &quot;select from bla&quot; will also magiacally work again.&lt;/p&gt;

&lt;p&gt;Input and Ouput serdes don&apos;t always match so when I use avro as an input format it should not set the hive.output.file.extension.&lt;br/&gt;
Onces it&apos;s set all queries will use it and fail making the connection useless to reuse.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600465">HIVE-3308</key>
            <summary>Mixing avro and snappy gives null values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bennies">Bennie Schut</assignee>
                                    <reporter username="bennies">Bennie Schut</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jul 2012 13:52:27 +0000</created>
                <updated>Thu, 16 May 2013 21:10:35 +0000</updated>
                            <resolved>Tue, 9 Apr 2013 00:45:09 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13423879" author="bennies" created="Fri, 27 Jul 2012 13:54:59 +0000"  >&lt;p&gt;Added a test to show the problem.&lt;br/&gt;
Result of the test will show:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;
			&lt;ol&gt;
				&lt;li&gt;A masked pattern was here ####&lt;br/&gt;
POSTHOOK: query: select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from src&lt;br/&gt;
POSTHOOK: type: QUERY&lt;br/&gt;
POSTHOOK: Input: default@src&lt;/li&gt;
				&lt;li&gt;A masked pattern was here ####&lt;br/&gt;
NULL&lt;/li&gt;
			&lt;/ol&gt;
			&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;But should show something like:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;
			&lt;ol&gt;
				&lt;li&gt;A masked pattern was here ####&lt;br/&gt;
POSTHOOK: query: select count&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; from src&lt;br/&gt;
POSTHOOK: type: QUERY&lt;br/&gt;
POSTHOOK: Input: default@src&lt;/li&gt;
				&lt;li&gt;A masked pattern was here ####&lt;br/&gt;
500&lt;/li&gt;
			&lt;/ol&gt;
			&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="13569871" author="ashutoshc" created="Sun, 3 Feb 2013 19:32:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jakobhoman&quot; class=&quot;user-hover&quot; rel=&quot;jakobhoman&quot;&gt;Jakob Homan&lt;/a&gt; Would you like to review this patch?&lt;/p&gt;</comment>
                            <comment id="13569879" author="jghoman" created="Sun, 3 Feb 2013 19:49:23 +0000"  >&lt;p&gt;Will do.&lt;/p&gt;</comment>
                            <comment id="13612502" author="bennies" created="Mon, 25 Mar 2013 09:05:54 +0000"  >&lt;p&gt;I would really appreciate someone committing this. It has tests showing the issue with correct results after the patch. It makes the serde more consistent with other serdes. Basically anyone using compression combined with avro will hit this bug like we see with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4195&quot; title=&quot;Avro SerDe causes incorrect behavior in unrelated tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4195&quot;&gt;&lt;del&gt;HIVE-4195&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13626035" author="navis" created="Tue, 9 Apr 2013 00:44:55 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Bennie.&lt;/p&gt;</comment>
                            <comment id="13626939" author="hudson" created="Tue, 9 Apr 2013 18:44:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2053 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2053/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2053/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3308&quot; title=&quot;Mixing avro and snappy gives null values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3308&quot;&gt;&lt;del&gt;HIVE-3308&lt;/del&gt;&lt;/a&gt; Mixing avro and snappy gives null values (Bennie Schut via Navis) (Revision 1465849)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
navis : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1465849&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1465849&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/avro_compression_enabled.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_compression_enabled.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerDe.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13627034" author="hudson" created="Tue, 9 Apr 2013 20:15:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #148 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/148/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/148/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3308&quot; title=&quot;Mixing avro and snappy gives null values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3308&quot;&gt;&lt;del&gt;HIVE-3308&lt;/del&gt;&lt;/a&gt; Mixing avro and snappy gives null values (Bennie Schut via Navis) (Revision 1465849)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
navis : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1465849&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1465849&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/avro_compression_enabled.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_compression_enabled.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerDe.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12637342">HIVE-4195</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12538157" name="HIVE-3308.patch1.txt" size="1428" author="bennies" created="Fri, 27 Jul 2012 13:54:59 +0000"/>
                            <attachment id="12566516" name="HIVE-3308.patch2.txt" size="5058" author="bennies" created="Fri, 25 Jan 2013 15:07:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 3 Feb 2013 19:32:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259179</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124427</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3309] drop partition doesnot work for mixture of string and non-string columns for non-equality operatior</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3309</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There is still problem in &quot;drop partition&quot; columns if the partition columns are mixture of string and non-string.&lt;/p&gt;

&lt;p&gt;There is behavioural change after fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3063&quot; title=&quot;drop partition for non-string columns is failing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3063&quot;&gt;&lt;del&gt;HIVE-3063&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
Before fix&lt;br/&gt;
==========&lt;br/&gt;
create table ptestfilter (a string, b int) partitioned by (c string, d int);&lt;br/&gt;
alter table ptestfilter add partition (c=&apos;1&apos;, d=2);&lt;br/&gt;
alter table ptestFilter add partition (c=&apos;2&apos;, d=1);&lt;br/&gt;
alter table ptestfilter drop partition (c&amp;lt;&apos;2&apos;); //this will execute fine&lt;/p&gt;

&lt;p&gt;After fix&lt;br/&gt;
==========&lt;br/&gt;
create table ptestfilter (a string, b int) partitioned by (c string, d int);&lt;br/&gt;
alter table ptestfilter add partition (c=&apos;1&apos;, d=2);&lt;br/&gt;
alter table ptestFilter add partition (c=&apos;2&apos;, d=1);&lt;br/&gt;
alter table ptestfilter drop partition (c&amp;lt;&apos;2&apos;); //this will fail to execute.&lt;/p&gt;</description>
                <environment>&lt;p&gt;SuSE 11 SP 1&lt;br/&gt;
Hadoop Cluster + Hive&lt;/p&gt;</environment>
        <key id="12600468">HIVE-3309</key>
            <summary>drop partition doesnot work for mixture of string and non-string columns for non-equality operatior</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rohithsharma">Rohith Sharma K S</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Fri, 27 Jul 2012 14:18:59 +0000</created>
                <updated>Wed, 19 Dec 2012 06:30:56 +0000</updated>
                                            <version>0.9.1</version>
                    <version>0.10.0</version>
                                                    <component>Metastore</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13424001" author="ashutoshc" created="Fri, 27 Jul 2012 17:41:01 +0000"  >&lt;p&gt;Which version of Hive are you using. This is supposedly fixed via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3076&quot; title=&quot;drop partition does not work for non-partition columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3076&quot;&gt;&lt;del&gt;HIVE-3076&lt;/del&gt;&lt;/a&gt; Can you try with trunk?&lt;/p&gt;</comment>
                            <comment id="13424271" author="rohithsharma" created="Sat, 28 Jul 2012 05:26:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;Which version of Hive are you using.?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I am using brahcn-0.9.1. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3076&quot; title=&quot;drop partition does not work for non-partition columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3076&quot;&gt;&lt;del&gt;HIVE-3076&lt;/del&gt;&lt;/a&gt; is merged to this branch.&lt;/p&gt;
</comment>
                            <comment id="13424877" author="rohithsharma" created="Mon, 30 Jul 2012 14:21:13 +0000"  >&lt;p&gt;If the query contains partition column of type only string , then non-equality operator throw exception.&lt;br/&gt;
Example : &lt;br/&gt;
1. create table ptestfilter (a string, b int) partitioned by (c string, d int);&lt;br/&gt;
2. alter table ptestfilter add partition (c=&apos;1&apos;, d=1);&lt;br/&gt;
3. alter table ptestfilter drop partition (c&amp;lt;&apos;2&apos;);&lt;/p&gt;

&lt;p&gt;In above example, line-3 throws exception. But expected is query should drop partition columns which are less then 2.&lt;/p&gt;</comment>
                            <comment id="13424886" author="rohithsharma" created="Mon, 30 Jul 2012 14:32:14 +0000"  >&lt;p&gt;I am submitting patch with initial thoughts.Please review the patch.&lt;br/&gt;
I will submit actual patch with test if current idea is accepted.&lt;/p&gt;</comment>
                            <comment id="13425492" author="chinnalalam" created="Tue, 31 Jul 2012 03:48:24 +0000"  >&lt;p&gt;Patch is not ready for review. Pls submit patch when it is ready for review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12539865" name="HIVE-3309.patch" size="2640" author="rohithsharma" created="Wed, 8 Aug 2012 13:17:17 +0000"/>
                            <attachment id="12538350" name="HIVE-3309.patch" size="1116" author="rohithsharma" created="Mon, 30 Jul 2012 14:36:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Jul 2012 17:41:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259180</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124428</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3310] [Regression] TestMTQueries test is failing on trunk</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3310</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hudson reported &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1571/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1571/&lt;/a&gt; this as a regression. Previous build was clean &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1570/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1570/&lt;/a&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="12600501">HIVE-3310</key>
            <summary>[Regression] TestMTQueries test is failing on trunk</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jul 2012 19:06:59 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:14 +0000</updated>
                            <resolved>Tue, 31 Jul 2012 04:34:52 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13424076" author="ashutoshc" created="Fri, 27 Jul 2012 19:07:52 +0000"  >&lt;p&gt;I am able to reproduce this locally on ubuntu box as well as a rhel box.&lt;/p&gt;</comment>
                            <comment id="13425052" author="ashutoshc" created="Mon, 30 Jul 2012 17:58:27 +0000"  >&lt;p&gt;It will be great if someone can verify that this indeed is failing in their environment too to rule out the possibility that this is something related to my environment.&lt;/p&gt;</comment>
                            <comment id="13425144" author="cwsteinbach" created="Mon, 30 Jul 2012 19:19:29 +0000"  >&lt;p&gt;TestMTQueries fails for me too.&lt;/p&gt;</comment>
                            <comment id="13425438" author="ashutoshc" created="Tue, 31 Jul 2012 00:54:29 +0000"  >&lt;p&gt;Thanks a lot Navis for picking this up. Since usually we dont commit unless all unit tests pass, getting this corrected will unblock other patches to get committed. &lt;/p&gt;</comment>
                            <comment id="13425444" author="navis" created="Tue, 31 Jul 2012 01:04:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D4437&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4437&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It&apos;s from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1653&quot; title=&quot;Ability to enforce correct stats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1653&quot;&gt;&lt;del&gt;HIVE-1653&lt;/del&gt;&lt;/a&gt; and verified (only) tests in it.&lt;/p&gt;</comment>
                            <comment id="13425452" author="ashutoshc" created="Tue, 31 Jul 2012 01:14:52 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~namitjain&amp;#93;&lt;/span&gt; Since you worked on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1653&quot; title=&quot;Ability to enforce correct stats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1653&quot;&gt;&lt;del&gt;HIVE-1653&lt;/del&gt;&lt;/a&gt; you will have better context. Can you review and commit this one?&lt;/p&gt;</comment>
                            <comment id="13425453" author="ashutoshc" created="Tue, 31 Jul 2012 01:22:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; can you also upload the patch on jira? Phabricator doesnt have an option to download a patch. &lt;/p&gt;</comment>
                            <comment id="13425506" author="namit" created="Tue, 31 Jul 2012 04:13:45 +0000"  >&lt;p&gt;I will take a look&lt;/p&gt;</comment>
                            <comment id="13425507" author="namit" created="Tue, 31 Jul 2012 04:22:23 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13425511" author="namit" created="Tue, 31 Jul 2012 04:34:52 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13425671" author="hudson" created="Tue, 31 Jul 2012 10:56:26 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1578 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1578/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1578/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3310&quot; title=&quot;[Regression] TestMTQueries test is failing on trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3310&quot;&gt;&lt;del&gt;HIVE-3310&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Regression&amp;#93;&lt;/span&gt; TestMTQueries test is failing on trunk&lt;br/&gt;
(Navis via namit) (Revision 1367406)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367406&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367406&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13426035" author="cwsteinbach" created="Tue, 31 Jul 2012 19:07:29 +0000"  >&lt;p&gt;@Namit: Please set the fixversion!&lt;/p&gt;</comment>
                            <comment id="13548026" author="hudson" created="Wed, 9 Jan 2013 10:24:00 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3310&quot; title=&quot;[Regression] TestMTQueries test is failing on trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3310&quot;&gt;&lt;del&gt;HIVE-3310&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Regression&amp;#93;&lt;/span&gt; TestMTQueries test is failing on trunk&lt;br/&gt;
(Navis via namit) (Revision 1367406)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367406&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367406&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550319" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:14 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12538475" name="HIVE-3310.1.patch.txt" size="904" author="navis" created="Tue, 31 Jul 2012 01:31:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 Jul 2012 19:19:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259181</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124429</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3311] Convert runtime exceptions to semantic exceptions for validation of alter table commands</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3311</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;validateAlterTableType in DDLTask.java does a bunch of checks to ensure that the alter table/view commands are correct (operations match table type, command macthes table type).&lt;br/&gt;
This JIRA tracks moving these to semantic exceptions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600521">HIVE-3311</key>
            <summary>Convert runtime exceptions to semantic exceptions for validation of alter table commands</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sambavi">Sambavi Muthukrishnan</assignee>
                                    <reporter username="sambavi">Sambavi Muthukrishnan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jul 2012 22:09:16 +0000</created>
                <updated>Sat, 1 Apr 2017 21:17:49 +0000</updated>
                            <resolved>Mon, 30 Jul 2012 08:45:37 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due>Sun, 29 Jul 2012 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                    <timeoriginalestimate seconds="14400">4h</timeoriginalestimate>
                            <timeestimate seconds="14400">4h</timeestimate>
                                        <comments>
                            <comment id="13424223" author="sambavi" created="Sat, 28 Jul 2012 00:00:10 +0000"  >&lt;p&gt;Differential: &lt;a href=&quot;https://reviews.facebook.net/D4407&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4407&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13424313" author="namit" created="Sat, 28 Jul 2012 10:10:02 +0000"  >&lt;p&gt;Samabavi, if this is ready for review, can you mark &apos;Submit Patch&apos; ?&lt;/p&gt;</comment>
                            <comment id="13424726" author="namit" created="Mon, 30 Jul 2012 07:34:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13424757" author="namit" created="Mon, 30 Jul 2012 08:45:37 +0000"  >&lt;p&gt;Committed. Thanks Sambavi&lt;/p&gt;</comment>
                            <comment id="13425150" author="hudson" created="Mon, 30 Jul 2012 19:29:31 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1576 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1576/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1576/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3311&quot; title=&quot;Convert runtime exceptions to semantic exceptions for validation of alter table commands&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3311&quot;&gt;&lt;del&gt;HIVE-3311&lt;/del&gt;&lt;/a&gt; Convert runtime exceptions to semantic exceptions for &lt;br/&gt;
validation of alter table commands (Sambavi Muthukrishnan via namit) (Revision 1367035)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367035&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367035&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_non_native.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_view_failure.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_view_failure2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_view_failure3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_view_failure8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_view_failure9.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548024" author="hudson" created="Wed, 9 Jan 2013 10:24:00 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3311&quot; title=&quot;Convert runtime exceptions to semantic exceptions for validation of alter table commands&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3311&quot;&gt;&lt;del&gt;HIVE-3311&lt;/del&gt;&lt;/a&gt; Convert runtime exceptions to semantic exceptions for &lt;br/&gt;
validation of alter table commands (Sambavi Muthukrishnan via namit) (Revision 1367035)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367035&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367035&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_non_native.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_view_failure.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_view_failure2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_view_failure3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_view_failure8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_view_failure9.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550153" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:35 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13060842">HIVE-16349</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12538306" name="HIVE-3311.2.patch" size="20389" author="sambavi" created="Mon, 30 Jul 2012 05:16:31 +0000"/>
                            <attachment id="12538308" name="HIVE-3311.3.patch" size="20262" author="sambavi" created="Mon, 30 Jul 2012 05:19:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 28 Jul 2012 10:10:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259182</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124430</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3312] Improve Hive Map to HBase column family</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3312</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The documentation states the following way to use a map to access a whole column family:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;CREATE TABLE hbase_table_1(value map&amp;lt;string,&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;, row_key &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)
STORED BY &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos;&lt;/span&gt;
WITH SERDEPROPERTIES (
&lt;span class=&quot;code-quote&quot;&gt;&quot;hbase.columns.mapping&quot;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&quot;cf:,:key&quot;&lt;/span&gt;
);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now since we are mapping map&amp;lt;string,int&amp;gt; to the hbase column family cf, it makes a very crude assumption that all columns in the column family cf are expected to hold a int value which may not be the case always. This strategy should probably be improved to support different types of values stored in columns under the same column family. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12600524">HIVE-3312</key>
            <summary>Improve Hive Map to HBase column family</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="swarnim">Swarnim Kulkarni</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Jul 2012 22:29:44 +0000</created>
                <updated>Fri, 27 Jul 2012 22:30:56 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240711</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 26 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i014un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3313] Support tasklog retrieval for MRv2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3313</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12600537">HIVE-3313</key>
            <summary>Support tasklog retrieval for MRv2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Jul 2012 00:23:32 +0000</created>
                <updated>Thu, 2 May 2013 02:30:53 +0000</updated>
                                                                            <component>Diagnosability</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13424231" author="cwsteinbach" created="Sat, 28 Jul 2012 00:24:53 +0000"  >&lt;p&gt;MRv2 replaced MRv1&apos;s TaskLogServlet with the JobHistoryServer. If Hive is running on MRv2 it needs to use JobHistoryServer for failed task log retrieval.&lt;/p&gt;</comment>
                            <comment id="13424250" author="swarnim" created="Sat, 28 Jul 2012 01:52:59 +0000"  >&lt;p&gt;The post here&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; explains other issues while getting hive to work with MRv2.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;https://groups.google.com/a/cloudera.org/forum/?fromgroups#!topic/cdh-user/gHVq9C5H6RE&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12540175">YARN-432</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12522818">MAPREDUCE-2989</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12542461">HIVE-2804</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 28 Jul 2012 01:52:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259183</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 26 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124431</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3314] Extract global limit configuration to optimizer</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3314</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SemanticAnalyzer is growing bigger and bigger. If some codes can be separated cleanly, it would be better to do that for simplicity.&lt;/p&gt;

&lt;p&gt;Was in part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2925&quot; title=&quot;Support non-MR fetching for simple queries with select/limit/filter operations only&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2925&quot;&gt;&lt;del&gt;HIVE-2925&lt;/del&gt;&lt;/a&gt;. Suggested to separate issue as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2925?focusedCommentId=13423754&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13423754&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2925?focusedCommentId=13423754&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13423754&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600545">HIVE-3314</key>
            <summary>Extract global limit configuration to optimizer</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Jul 2012 02:12:45 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:07 +0000</updated>
                            <resolved>Tue, 31 Jul 2012 04:11:19 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13424258" author="navis" created="Sat, 28 Jul 2012 03:15:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D4419&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4419&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13424366" author="namit" created="Sat, 28 Jul 2012 15:23:34 +0000"  >&lt;p&gt;very minor comments on phabricator.&lt;/p&gt;</comment>
                            <comment id="13424689" author="namit" created="Mon, 30 Jul 2012 04:24:58 +0000"  >&lt;p&gt;answered comments&lt;/p&gt;</comment>
                            <comment id="13424693" author="navis" created="Mon, 30 Jul 2012 04:43:25 +0000"  >&lt;p&gt;updated patch&lt;/p&gt;</comment>
                            <comment id="13424711" author="namit" created="Mon, 30 Jul 2012 06:01:48 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13425504" author="namit" created="Tue, 31 Jul 2012 04:11:19 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13425672" author="hudson" created="Tue, 31 Jul 2012 10:56:27 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1578 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1578/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1578/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3314&quot; title=&quot;Extract global limit configuration to optimizer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3314&quot;&gt;&lt;del&gt;HIVE-3314&lt;/del&gt;&lt;/a&gt; Extract global limit configuration to optimizer&lt;br/&gt;
(Navis via namit) (Revision 1367405)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367405&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367405&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GlobalLimitOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/GlobalLimitCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13426031" author="cwsteinbach" created="Tue, 31 Jul 2012 19:05:27 +0000"  >&lt;p&gt;@Namit: This ticket doesn&apos;t have a set fixversion, and more importantly the patch is not attached. Can you please fix this?&lt;/p&gt;</comment>
                            <comment id="13547992" author="hudson" created="Wed, 9 Jan 2013 10:23:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3314&quot; title=&quot;Extract global limit configuration to optimizer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3314&quot;&gt;&lt;del&gt;HIVE-3314&lt;/del&gt;&lt;/a&gt; Extract global limit configuration to optimizer&lt;br/&gt;
(Navis via namit) (Revision 1367405)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367405&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367405&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GlobalLimitOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/GlobalLimitCtx.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ParseContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550034" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:07 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12538633" name="HIVE-3314.1.patch.txt" size="20018" author="navis" created="Tue, 31 Jul 2012 23:35:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 28 Jul 2012 15:23:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259184</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lncf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124432</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3315] Propagates filters which are on the join condition transitively </title>
                <link>https://issues.apache.org/jira/browse/HIVE-3315</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;explain select src1.key from src src1 join src src2 on src1.key=src2.key and src1.key &amp;lt; 100;&lt;/p&gt;

&lt;p&gt;In this case, filter on join condition src1.key &amp;lt; 100 can be propagated transitively to src2 by src2.key &amp;lt; 100. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12600551">HIVE-3315</key>
            <summary>Propagates filters which are on the join condition transitively </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 Jul 2012 07:26:37 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:31 +0000</updated>
                            <resolved>Thu, 27 Sep 2012 17:20:22 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13427822" author="navis" created="Fri, 3 Aug 2012 03:25:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D4497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4497&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13433918" author="namit" created="Tue, 14 Aug 2012 05:51:18 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13439944" author="navis" created="Wed, 22 Aug 2012 23:34:11 +0000"  >&lt;p&gt;Addressed comments&lt;/p&gt;</comment>
                            <comment id="13448617" author="navis" created="Wed, 5 Sep 2012 10:32:46 +0000"  >&lt;p&gt;I&apos;ve misunderstood join conditions. Will be updated soon.&lt;/p&gt;</comment>
                            <comment id="13449298" author="navis" created="Thu, 6 Sep 2012 00:18:40 +0000"  >&lt;p&gt;Fixed bug&lt;/p&gt;</comment>
                            <comment id="13460306" author="namit" created="Fri, 21 Sep 2012 07:12:51 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13461621" author="phabricator@reviews.facebook.net" created="Mon, 24 Sep 2012 06:32:07 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3315&quot; title=&quot;Propagates filters which are on the join condition transitively &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3315&quot;&gt;&lt;del&gt;HIVE-3315&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Propagate filers on inner join condition transitively&quot;.&lt;/p&gt;

&lt;p&gt;  This is a little old issue and I&apos;ve forgot what was this for. I&apos;ve taken sometime for remind.&lt;/p&gt;

&lt;p&gt;  I agree on what you said generally (too complex) and re-implemented as you said, except filter propagation of outer joins. For inner/semi join, filters can be propagated freely(L to R and R to L). But for left-outer join, could it be propagated in L to R only? (R to L for RO)&lt;/p&gt;

&lt;p&gt;  I&apos;m still cannot sure of this. I&apos;ll update after full test.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4497&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13462277" author="phabricator@reviews.facebook.net" created="Tue, 25 Sep 2012 00:05:07 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3315&quot; title=&quot;Propagates filters which are on the join condition transitively &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3315&quot;&gt;&lt;del&gt;HIVE-3315&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Propagate filers on inner join condition transitively&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Rebased to trunk&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4497&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_nullsafe.q&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join16.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join27.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join28.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join29.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/bucket_map_join_1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/bucket_map_join_2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/filter_join_breaktask.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join16.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join40.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_nullsafe.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin_filter_on_outerjoin.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_gby_join.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_join.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_join2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_join3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/regex_col.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoin.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt16.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt17.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt19.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt5.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13462281" author="phabricator@reviews.facebook.net" created="Tue, 25 Sep 2012 00:09:07 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3315&quot; title=&quot;Propagates filters which are on the join condition transitively &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3315&quot;&gt;&lt;del&gt;HIVE-3315&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Propagate filers on inner join condition transitively&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  1. Simplified code&lt;br/&gt;
  2. Support propagating filter on outer join condition&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4497&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_nullsafe.q&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join16.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join27.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join28.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join29.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/bucket_map_join_1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/bucket_map_join_2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/filter_join_breaktask.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join16.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join40.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_nullsafe.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin_filter_on_outerjoin.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_gby_join.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_join.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_join2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_join3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/regex_col.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoin.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt15.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt16.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt17.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt19.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt4.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoinopt5.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13463531" author="namit" created="Wed, 26 Sep 2012 05:19:23 +0000"  >&lt;p&gt;comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13463533" author="phabricator@reviews.facebook.net" created="Wed, 26 Sep 2012 05:22:07 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3315&quot; title=&quot;Propagates filters which are on the join condition transitively &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3315&quot;&gt;&lt;del&gt;HIVE-3315&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Propagate filers on inner join condition transitively&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join29.q.out:3160 There is a bug here -&lt;/p&gt;

&lt;p&gt;  the new result looks correct if I manually think about the query results.&lt;br/&gt;
  But, the results should be the same irrespective of this patch.&lt;br/&gt;
  Anyway, outside the scope of this patch.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:38 the comment is confusing - nothing gets replaced&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java:77 nit: can you have ( at the next line - it is confusing&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java:66 confusing: can you pass newFilters in the context passed to the rule dispatcher&lt;/p&gt;

&lt;p&gt;  same for filterPropagates etc.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java:183 missing full_outer_join&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:44 The size of sources, targets can be diff.&lt;/p&gt;

&lt;p&gt;  if targets.size() &amp;lt; index&lt;br/&gt;
  return null&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java:93 Wont it be simpler to add the filter in JoinTransitive instead of returning this array, and&lt;br/&gt;
  then inserting it here ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4497&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13463538" author="namit" created="Wed, 26 Sep 2012 05:28:59 +0000"  >&lt;p&gt;Can you refresh ? Some of the changes might not be needed since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3507&quot; title=&quot;Some of the tests are not deterministic&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3507&quot;&gt;&lt;del&gt;HIVE-3507&lt;/del&gt;&lt;/a&gt; is in&lt;/p&gt;</comment>
                            <comment id="13463578" author="phabricator@reviews.facebook.net" created="Wed, 26 Sep 2012 07:02:07 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3315&quot; title=&quot;Propagates filters which are on the join condition transitively &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3315&quot;&gt;&lt;del&gt;HIVE-3315&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Propagate filers on inner join condition transitively&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java:66 ok.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java:77 ok.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java:183 I think filters on FO is not transitive to opposite alias. I&apos;ll add FO case with blank line.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:38 This method actually replaces expression in sources with expression in targets.&lt;br/&gt;
  For example, origin : (a.k+100)&lt;b&gt;a.v, sources = a.k,a.v, targets = b.k+5,b.v+5 than this returns ((b.k+5)+100)&lt;/b&gt;(b.v+5)&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java:44 Length of sources and targets should be same. In this patch, sources and targets are RS keys for a join operation, which is always same. I&apos;ll update comments.&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join29.q.out:3160 Yes, right. That&apos;s for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3381&quot; title=&quot;Result of outer join is not valid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3381&quot;&gt;&lt;del&gt;HIVE-3381&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java:93 If filter already exists on the alias, filter op need not be created but just be merged with it. And also RS is still needed to insert the filter.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4497&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13464466" author="phabricator@reviews.facebook.net" created="Thu, 27 Sep 2012 05:39:07 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3315&quot; title=&quot;Propagates filters which are on the join condition transitively &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3315&quot;&gt;&lt;del&gt;HIVE-3315&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Propagate filers on inner join condition transitively&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Addressed comments and rebased to trunk&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4497&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_nullsafe.q&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join16.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join27.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join28.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/auto_join29.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/bucket_map_join_1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/bucket_map_join_2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/filter_join_breaktask.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join11.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join12.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join13.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join14.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join16.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join20.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join40.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_nullsafe.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/mapjoin_filter_on_outerjoin.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_gby_join.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_join.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_join2.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ppd_join3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/regex_col.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/skewjoin.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13464510" author="phabricator@reviews.facebook.net" created="Thu, 27 Sep 2012 07:10:07 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3315&quot; title=&quot;Propagates filters which are on the join condition transitively &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3315&quot;&gt;&lt;del&gt;HIVE-3315&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Propagate filers on inner join condition transitively&quot;.&lt;/p&gt;

&lt;p&gt;  looks mostly good - let me review one more time in detail before accepting&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4497&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13464513" author="namit" created="Thu, 27 Sep 2012 07:13:25 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13464514" author="phabricator@reviews.facebook.net" created="Thu, 27 Sep 2012 07:14:07 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3315&quot; title=&quot;Propagates filters which are on the join condition transitively &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3315&quot;&gt;&lt;del&gt;HIVE-3315&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Propagate filers on inner join condition transitively&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D4497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4497&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  DPAL-1704&lt;/p&gt;

&lt;p&gt;To: JIRA, njain, navis&lt;br/&gt;
Cc: njain&lt;/p&gt;</comment>
                            <comment id="13464887" author="namit" created="Thu, 27 Sep 2012 17:20:22 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13465307" author="hudson" created="Fri, 28 Sep 2012 03:29:50 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1704 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1704/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1704/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3315&quot; title=&quot;Propagates filters which are on the join condition transitively &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3315&quot;&gt;&lt;del&gt;HIVE-3315&lt;/del&gt;&lt;/a&gt; Propagates filters which are on the join condition transitively&lt;br/&gt;
(Navis via namit) (Revision 1391108)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391108&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391108&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join_nullsafe.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join16.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join27.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join28.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join29.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/filter_join_breaktask.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join16.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join40.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_nullsafe.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mapjoin_filter_on_outerjoin.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_gby_join.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_join.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_join2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_join3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/regex_col.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/skewjoin.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547993" author="hudson" created="Wed, 9 Jan 2013 10:23:53 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3315&quot; title=&quot;Propagates filters which are on the join condition transitively &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3315&quot;&gt;&lt;del&gt;HIVE-3315&lt;/del&gt;&lt;/a&gt; Propagates filters which are on the join condition transitively&lt;br/&gt;
(Navis via namit) (Revision 1391108)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391108&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1391108&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/Optimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeDescUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/OpProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ppd/PredicateTransitivePropagate.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join_nullsafe.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join16.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join27.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join28.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_join29.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/filter_join_breaktask.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join14.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join16.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join40.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_nullsafe.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/mapjoin_filter_on_outerjoin.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_gby_join.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_join.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_join2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_join3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/regex_col.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/skewjoin.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550135" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:31 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12539403" name="HIVE-3315.1.patch.txt" size="60577" author="navis" created="Tue, 7 Aug 2012 01:45:14 +0000"/>
                            <attachment id="12542054" name="HIVE-3315.2.patch.txt" size="99018" author="navis" created="Wed, 22 Aug 2012 23:35:15 +0000"/>
                            <attachment id="12543946" name="HIVE-3315.3.patch.txt" size="100486" author="navis" created="Thu, 6 Sep 2012 00:19:55 +0000"/>
                            <attachment id="12546415" name="HIVE-3315.D4497.5.patch" size="126212" author="phabricator@reviews.facebook.net" created="Tue, 25 Sep 2012 00:09:07 +0000"/>
                            <attachment id="12546413" name="HIVE-3315.D4497.6.patch" size="126212" author="phabricator@reviews.facebook.net" created="Tue, 25 Sep 2012 00:05:07 +0000"/>
                            <attachment id="12546812" name="HIVE-3315.D4497.7.patch" size="120091" author="phabricator@reviews.facebook.net" created="Thu, 27 Sep 2012 05:39:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 14 Aug 2012 05:51:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259185</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lncn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124433</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3316] The order of the joined tables should be based on the sizes of the tables/partitions being joined</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3316</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, the join order is based on the order in which the user specified the tables.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600639">HIVE-3316</key>
            <summary>The order of the joined tables should be based on the sizes of the tables/partitions being joined</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jul 2012 11:02:50 +0000</created>
                <updated>Wed, 5 Dec 2012 07:11:04 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259186</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lncv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124434</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3317] Fix &#8220;TestDosToUnix&#8221; unit tests on Windows by closing the leaking file handle in DosToUnix.java.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3317</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Windows can&#8217;t delete the files if there are any open file handles on it so it is required to close them properly after completing the validation in DosToUnix utilities.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows&lt;/p&gt;</environment>
        <key id="12600678">HIVE-3317</key>
            <summary>Fix &#8220;TestDosToUnix&#8221; unit tests on Windows by closing the leaking file handle in DosToUnix.java.</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12553674">HIVE-2998</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                            <label>Windows</label>
                    </labels>
                <created>Mon, 30 Jul 2012 15:54:39 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:00 +0000</updated>
                            <resolved>Wed, 1 Aug 2012 01:39:35 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Import/Export</component>
                    <component>Windows</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13424943" author="kannakar@microsoft.com" created="Mon, 30 Jul 2012 16:01:29 +0000"  >&lt;p&gt;Attached the patch. Code review request is at &lt;a href=&quot;https://reviews.apache.org/r/6213/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/6213/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13424983" author="appodictic" created="Mon, 30 Jul 2012 16:34:37 +0000"  >&lt;p&gt;+1 will commit. Yikes just crazy to see something like this.&lt;/p&gt;</comment>
                            <comment id="13424999" author="appodictic" created="Mon, 30 Jul 2012 16:51:45 +0000"  >&lt;p&gt;Sorry to be a pain but can we please update the comment.&lt;/p&gt;

&lt;p&gt; // ignore error reading file, if we can&apos;t read it then it isn&apos;t a windows script&lt;/p&gt;


&lt;p&gt;I have a hard time understanding the intentions of the code when I read double negatives.&lt;/p&gt;</comment>
                            <comment id="13425043" author="kannakar@microsoft.com" created="Mon, 30 Jul 2012 17:46:18 +0000"  >&lt;p&gt;Thanks Edward. Attached the patch with updated comment. Thanks.&lt;/p&gt;</comment>
                            <comment id="13425546" author="ashutoshc" created="Tue, 31 Jul 2012 05:49:53 +0000"  >&lt;p&gt;+1 Running tests.&lt;/p&gt;</comment>
                            <comment id="13425547" author="ashutoshc" created="Tue, 31 Jul 2012 05:58:29 +0000"  >&lt;p&gt;Oh didn&apos;t notice Ed is already looking into this.&lt;/p&gt;</comment>
                            <comment id="13426267" author="ashutoshc" created="Wed, 1 Aug 2012 01:39:35 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13426487" author="hudson" created="Wed, 1 Aug 2012 10:09:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1582 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1582/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1582/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3317&quot; title=&quot;Fix &#8220;TestDosToUnix&#8221; unit tests on Windows by closing the leaking file handle in DosToUnix.java.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3317&quot;&gt;&lt;del&gt;HIVE-3317&lt;/del&gt;&lt;/a&gt; Fix &#8220;TestDosToUnix&#8221; unit tests on Windows by closing the leaking file handle in DosToUnix.java. (Kanna Karanam via Ashutosh Chauhan) (Revision 1367838)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367838&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367838&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/util/DosToUnix.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547991" author="hudson" created="Wed, 9 Jan 2013 10:23:52 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3317&quot; title=&quot;Fix &#8220;TestDosToUnix&#8221; unit tests on Windows by closing the leaking file handle in DosToUnix.java.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3317&quot;&gt;&lt;del&gt;HIVE-3317&lt;/del&gt;&lt;/a&gt; Fix &#8220;TestDosToUnix&#8221; unit tests on Windows by closing the leaking file handle in DosToUnix.java. (Kanna Karanam via Ashutosh Chauhan) (Revision 1367838)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367838&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1367838&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/util/DosToUnix.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550003" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:00 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12538362" name="HIVE-3317.1.patch.txt" size="1073" author="kannakar@microsoft.com" created="Mon, 30 Jul 2012 16:01:28 +0000"/>
                            <attachment id="12538377" name="HIVE-3317.2.patch.txt" size="1184" author="kannakar@microsoft.com" created="Mon, 30 Jul 2012 17:46:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 Jul 2012 16:34:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259187</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124435</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3318] LazySimpleSerDe should support more levels of nested structures</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3318</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hive/blob/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazySimpleSerDe.java#L208&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;LazySimpleSerDe.initSerdeParams&lt;/a&gt; hard-codes the level of separators to 8, causing structures with more than that level of nestedness to fail.&lt;/p&gt;

&lt;p&gt;Doubling this value to 16 allowed me to read an extremely nested structure. This code was added in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-337&quot; title=&quot;LazySimpleSerDe should support multi-level nested array, map, struct types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-337&quot;&gt;&lt;del&gt;HIVE-337&lt;/del&gt;&lt;/a&gt; and reading through the jira I can&apos;t see a reason 8 was chosen, other than it seemed like a reasonable value. Any reason not to double this, or allow the user to configure via a property?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600681">HIVE-3318</key>
            <summary>LazySimpleSerDe should support more levels of nested structures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="traviscrawford">Travis Crawford</assignee>
                                    <reporter username="traviscrawford">Travis Crawford</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jul 2012 16:24:09 +0000</created>
                <updated>Mon, 30 Jul 2012 16:49:58 +0000</updated>
                            <resolved>Mon, 30 Jul 2012 16:49:58 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13424975" author="swarnim" created="Mon, 30 Jul 2012 16:28:00 +0000"  >&lt;p&gt;This bug is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3253&quot; title=&quot;ArrayIndexOutOfBounds exception for deeply nested structs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3253&quot;&gt;&lt;del&gt;HIVE-3253&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 Jul 2012 16:28:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259188</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lndb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124436</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3319] Fix the &#8220;TestHiveHistory&#8221;, &#8220;TestHiveConf&#8221;, &amp; &#8220;TestExecDriver&#8221; unit tests on Windows by fixing the path related issues.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3319</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;TestHiveConf : Location of the &#8220;hive-site.xml&#8221; path on Unix is different from Windows so need to compare the paths after generating the OS independent URI path.&lt;/p&gt;

&lt;p&gt;TestHiveHistory: Generate the testFileDirectory from URI object instead of manually constructing it to make it work on Unix as well as on Windows&lt;/p&gt;

&lt;p&gt;TestExecDriver: &lt;br/&gt;
1) Generate the testFileDirectory from URI object instead of manually constructing it to make it work on Unix as well as on Windows&lt;br/&gt;
2) change the absolute path to relative path of the &#8220;Cat&#8221; utility to make it work on windows with CygWin tools in the Windows Path.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600685">HIVE-3319</key>
            <summary>Fix the &#8220;TestHiveHistory&#8221;, &#8220;TestHiveConf&#8221;, &amp; &#8220;TestExecDriver&#8221; unit tests on Windows by fixing the path related issues.</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12553674">HIVE-2998</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                            <label>Windows</label>
                    </labels>
                <created>Mon, 30 Jul 2012 16:37:44 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:11 +0000</updated>
                            <resolved>Thu, 2 Aug 2012 00:51:05 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Tests</component>
                    <component>Windows</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13424991" author="kannakar@microsoft.com" created="Mon, 30 Jul 2012 16:44:31 +0000"  >&lt;p&gt;Attached the patch. CR is available at &lt;a href=&quot;https://reviews.apache.org/r/6214/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/6214/&lt;/a&gt;. Thanks&lt;/p&gt;</comment>
                            <comment id="13425004" author="appodictic" created="Mon, 30 Jul 2012 16:57:54 +0000"  >&lt;p&gt;Just wondering. Does this work on windows because dos has a cat operator?&lt;/p&gt;

&lt;p&gt;  Operator&amp;lt;ScriptDesc&amp;gt; op2 = OperatorFactory.get(new ScriptDesc(&quot;cat&quot;,&lt;/p&gt;

&lt;p&gt;or is the unit test only testing the plan?&lt;/p&gt;</comment>
                            <comment id="13425042" author="kannakar@microsoft.com" created="Mon, 30 Jul 2012 17:43:45 +0000"  >&lt;p&gt;@Edward &#8211; These unit tests are failing on Windows even with CygWin support because of the Unix absolute paths. We are taking dependency on &#8220;Cat, &amp;amp; TR&#8221; Cygwin utilities to run the unit tests on windows. (We are using them as part of Script Descriptor) Thanks&lt;/p&gt;</comment>
                            <comment id="13426806" author="ashutoshc" created="Wed, 1 Aug 2012 18:38:06 +0000"  >&lt;p&gt;+1. Running tests.&lt;/p&gt;</comment>
                            <comment id="13427051" author="ashutoshc" created="Thu, 2 Aug 2012 00:51:05 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13427152" author="hudson" created="Thu, 2 Aug 2012 07:06:30 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1585 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1585/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1585/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3319&quot; title=&quot;Fix the &#8220;TestHiveHistory&#8221;, &#8220;TestHiveConf&#8221;, &amp;amp; &#8220;TestExecDriver&#8221; unit tests on Windows by fixing the path related issues.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3319&quot;&gt;&lt;del&gt;HIVE-3319&lt;/del&gt;&lt;/a&gt; : Fix the TestHiveHistory, TestHiveConf, TestExecDriver unit tests on Windows by fixing the path related issues. (Kanna Karanam via Ashutosh Chauhan) (Revision 1368330)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1368330&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1368330&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/history/TestHiveHistory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547990" author="hudson" created="Wed, 9 Jan 2013 10:23:52 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3319&quot; title=&quot;Fix the &#8220;TestHiveHistory&#8221;, &#8220;TestHiveConf&#8221;, &amp;amp; &#8220;TestExecDriver&#8221; unit tests on Windows by fixing the path related issues.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3319&quot;&gt;&lt;del&gt;HIVE-3319&lt;/del&gt;&lt;/a&gt; : Fix the TestHiveHistory, TestHiveConf, TestExecDriver unit tests on Windows by fixing the path related issues. (Kanna Karanam via Ashutosh Chauhan) (Revision 1368330)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1368330&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1368330&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/test/org/apache/hadoop/hive/conf/TestHiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/history/TestHiveHistory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550052" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:11 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12538372" name="HIVE-3319.1.patch.txt" size="4425" author="kannakar@microsoft.com" created="Mon, 30 Jul 2012 16:44:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 Jul 2012 16:57:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259189</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lndj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124437</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3320] Handle &#8220;CRLF&#8221; line endings to avoid the extra spacing in generated test outputs in Windows. (Utilities.Java :: readColumn)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3320</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Existing functionality in Hive is looking for the &#8220;LF&#8221; character to extract the lines from generated output before writing to the streaming object. Whereas in Windows, the line endings are &#8220;CRLF&#8221; characters so it is leaving the &#8220;CR&#8221; character before writing each line to the streaming object. This CR is introducing the extra empty lines in the generated test output and causing several test cases to fail on Windows.&lt;/p&gt;

&lt;p&gt;Attached the generated output for one of the unit test failures with extra space. (bucket1.q)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600690">HIVE-3320</key>
            <summary>Handle &#8220;CRLF&#8221; line endings to avoid the extra spacing in generated test outputs in Windows. (Utilities.Java :: readColumn)</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12553674">HIVE-2998</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                            <label>Windows</label>
                    </labels>
                <created>Mon, 30 Jul 2012 17:53:09 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:45 +0000</updated>
                            <resolved>Thu, 2 Aug 2012 17:55:22 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>CLI</component>
                    <component>Tests</component>
                    <component>Windows</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13425048" author="kannakar@microsoft.com" created="Mon, 30 Jul 2012 17:54:31 +0000"  >&lt;p&gt;Attached the sample output file for one of the test failures.&lt;/p&gt;</comment>
                            <comment id="13425072" author="kannakar@microsoft.com" created="Mon, 30 Jul 2012 18:08:54 +0000"  >&lt;p&gt;Attached the patch. CR is available at &lt;a href=&quot;https://reviews.apache.org/r/6215/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/6215/&lt;/a&gt; . Thanks&lt;/p&gt;</comment>
                            <comment id="13427113" author="ashutoshc" created="Thu, 2 Aug 2012 05:06:33 +0000"  >&lt;p&gt;+1 Running tests.&lt;/p&gt;</comment>
                            <comment id="13427491" author="ashutoshc" created="Thu, 2 Aug 2012 17:55:22 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Kanna!&lt;/p&gt;</comment>
                            <comment id="13427825" author="hudson" created="Fri, 3 Aug 2012 03:39:07 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1588 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1588/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1588/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3320&quot; title=&quot;Handle &#8220;CRLF&#8221; line endings to avoid the extra spacing in generated test outputs in Windows. (Utilities.Java :: readColumn)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3320&quot;&gt;&lt;del&gt;HIVE-3320&lt;/del&gt;&lt;/a&gt; : Handle CRLF line endings to avoid the extra spacing in generated test outputs in Windows. (Utilities.Java :: readColumn) (Kanna Karanam via Ashutosh Chauhan) (Revision 1368624)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1368624&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1368624&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547998" author="hudson" created="Wed, 9 Jan 2013 10:23:54 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3320&quot; title=&quot;Handle &#8220;CRLF&#8221; line endings to avoid the extra spacing in generated test outputs in Windows. (Utilities.Java :: readColumn)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3320&quot;&gt;&lt;del&gt;HIVE-3320&lt;/del&gt;&lt;/a&gt; : Handle CRLF line endings to avoid the extra spacing in generated test outputs in Windows. (Utilities.Java :: readColumn) (Kanna Karanam via Ashutosh Chauhan) (Revision 1368624)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1368624&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1368624&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550194" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:45 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12538382" name="HIVE-3320.1.patch.txt" size="1783" author="kannakar@microsoft.com" created="Mon, 30 Jul 2012 18:08:54 +0000"/>
                            <attachment id="12538379" name="bucket1.q.out.patch.txt" size="6190" author="kannakar@microsoft.com" created="Mon, 30 Jul 2012 17:54:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Aug 2012 05:06:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259190</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lndr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124438</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3321] 0.23 compatibility: portions of Hive code uses mapred.job.tracker which should be changed to yarn properties</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3321</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12600693">HIVE-3321</key>
            <summary>0.23 compatibility: portions of Hive code uses mapred.job.tracker which should be changed to yarn properties</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="toffer">Francis Liu</assignee>
                                    <reporter username="toffer">Francis Liu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jul 2012 18:02:11 +0000</created>
                <updated>Mon, 20 Aug 2012 23:12:59 +0000</updated>
                            <resolved>Mon, 20 Aug 2012 23:12:59 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12603890">HIVE-3395</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259191</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lndz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124439</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3322] Split and deprecate hive.mapred.mode</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3322</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12600762">HIVE-3322</key>
            <summary>Split and deprecate hive.mapred.mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Jul 2012 00:14:39 +0000</created>
                <updated>Fri, 9 Feb 2018 16:28:26 +0000</updated>
                                                                            <component>Configuration</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13425414" author="cwsteinbach" created="Tue, 31 Jul 2012 00:19:51 +0000"  >&lt;p&gt;The configuration property hive.mapred.mode currently controls the following behaviors:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The mode in which the hive operations are being performed. 	&lt;br/&gt;
In strict mode, some risky queries are not allowed to run. They include:	&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Cartesian Product.&lt;/li&gt;
	&lt;li&gt;No partition being picked up for a query.&lt;/li&gt;
	&lt;li&gt;Comparing bigints and strings.&lt;/li&gt;
	&lt;li&gt;Comparing bigints and doubles.&lt;/li&gt;
	&lt;li&gt;Orderby without limit.&lt;/li&gt;
	&lt;li&gt;Buckets are not a multiple of each other in the tabled being joined, and the user asked for bucketed mapjoin.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;Users should have the option of enabling/disabling strict mode individually for each of these operation types. They should also have the option of a enabling a global strict mode that controls all of these properties by setting hive.enable.global.strict.mode=true.&lt;/p&gt;</comment>
                            <comment id="13425498" author="appodictic" created="Tue, 31 Jul 2012 03:56:10 +0000"  >&lt;p&gt;I have to say I thought about this but having one var for each feature does not seem that attractive to me either. It is also a migration headache, like if you are depending on mapred.strict.mode to warn of Cartesian products and we introduce a new variable the user is no longer protected.&lt;/p&gt;</comment>
                            <comment id="13425527" author="namit" created="Tue, 31 Jul 2012 05:06:56 +0000"  >&lt;p&gt;Should we have a hierarchical configurable options ?&lt;/p&gt;

&lt;p&gt;hive.mapred.mode has the behavior as Carl mentioned above. The defaults for this parameter should be such that they are&lt;br/&gt;
acceptable to a wide variety of users. However, the user should have the option to overwrite each operation individually.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13137478">HIVE-18669</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12599816">HIVE-3289</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 31 Jul 2012 03:56:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259192</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lne7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124440</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3323] enum to string conversions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3323</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When using serde-reported schemas with the ThriftDeserializer, Enum fields are presented as &lt;tt&gt;struct&amp;lt;value:int&amp;gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Many users expect to work with the string values, which is both easier and more meaningful as the string value communicates what is represented.&lt;/p&gt;

&lt;p&gt;Hive should provide a mechanism to optionally convert enum values to strings.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600769">HIVE-3323</key>
            <summary>enum to string conversions</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="traviscrawford">Travis Crawford</assignee>
                                    <reporter username="traviscrawford">Travis Crawford</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Jul 2012 02:18:40 +0000</created>
                <updated>Fri, 18 Oct 2013 22:01:47 +0000</updated>
                            <resolved>Fri, 7 Sep 2012 23:51:47 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="13425472" author="traviscrawford" created="Tue, 31 Jul 2012 02:34:50 +0000"  >&lt;p&gt;Attached is a work-in-progress patch that converts enums to strings. This implementation adds the conversion logic inside JavaStringObjectInspector because this allows us to totally behave as Strings everywhere.&lt;/p&gt;

&lt;p&gt;Something I&apos;m not clear on is how to make this conversion optional. On the MR cluster, is there a static method for getting a hive conf stored in the job conf? That would be much preferable to passing the conf through from all places where ObjectInspectorFactory is called.&lt;/p&gt;

&lt;p&gt;Thoughts on this patch, or suggestions on a better way to add this conversion?&lt;/p&gt;</comment>
                            <comment id="13426256" author="traviscrawford" created="Wed, 1 Aug 2012 01:01:06 +0000"  >&lt;p&gt;Updated patch adds a config option to enable/disable this feature.&lt;/p&gt;</comment>
                            <comment id="13426259" author="traviscrawford" created="Wed, 1 Aug 2012 01:04:34 +0000"  >&lt;p&gt;Summary of what this feature enables:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; create table convert_enum_to_string
    &amp;gt;   partitioned by (b string)
    &amp;gt;   row format serde &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hive.serde2.thrift.ThriftDeserializer&quot;&lt;/span&gt;
    &amp;gt;     with serdeproperties (
    &amp;gt;       &lt;span class=&quot;code-quote&quot;&gt;&quot;serialization.class&quot;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.hadoop.hive.serde2.thrift.test.Complex&quot;&lt;/span&gt;,
    &amp;gt;       &lt;span class=&quot;code-quote&quot;&gt;&quot;serialization.format&quot;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.thrift.protocol.TBinaryProtocol&quot;&lt;/span&gt;);
OK
Time taken: 0.067 seconds
hive&amp;gt; set hive.data.convert.&lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt;.to.string=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
hive&amp;gt; describe convert_enum_to_string;
OK
aint	&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;	from deserializer
astring	string	from deserializer
lint	array&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;	from deserializer
lstring	array&amp;lt;string&amp;gt;	from deserializer
lintstring	array&amp;lt;struct&amp;lt;myint:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,mystring:string,underscore_int:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;gt;	from deserializer
mstringstring	map&amp;lt;string,string&amp;gt;	from deserializer
myenum	string	from deserializer
b	string	
Time taken: 0.349 seconds
hive&amp;gt; set hive.data.convert.&lt;span class=&quot;code-keyword&quot;&gt;enum&lt;/span&gt;.to.string=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
hive&amp;gt; describe convert_enum_to_string;
OK
aint	&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;	from deserializer
astring	string	from deserializer
lint	array&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;	from deserializer
lstring	array&amp;lt;string&amp;gt;	from deserializer
lintstring	array&amp;lt;struct&amp;lt;myint:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,mystring:string,underscore_int:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;gt;	from deserializer
mstringstring	map&amp;lt;string,string&amp;gt;	from deserializer
myenum	struct&amp;lt;value:&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;	from deserializer
b	string	
Time taken: 0.144 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13426774" author="traviscrawford" created="Wed, 1 Aug 2012 17:48:17 +0000"  >&lt;p&gt;Adding a field to the &quot;complex&quot; thrift struct caused some test failures. This patch updates tests that failed due to the new field.&lt;/p&gt;</comment>
                            <comment id="13426779" author="traviscrawford" created="Wed, 1 Aug 2012 17:55:12 +0000"  >&lt;p&gt;I&apos;m not able to post the review with arc, getting the following error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;TW-MBP13-TCrawford:hive travis$ arc diff --jira HIVE-3323 

Exception:
Parse Exception: Expected a hunk header, like &lt;span class=&quot;code-quote&quot;&gt;&apos;Index: /path/to/file.ext&apos;&lt;/span&gt; (svn), &lt;span class=&quot;code-quote&quot;&gt;&apos;Property changes on: /path/to/file.ext&apos;&lt;/span&gt; (svn properties), &lt;span class=&quot;code-quote&quot;&gt;&apos;commit 59bcc3ad6775562f845953cf01624225&apos;&lt;/span&gt; (git show), &lt;span class=&quot;code-quote&quot;&gt;&apos;diff --git&apos;&lt;/span&gt; (git diff), or &lt;span class=&quot;code-quote&quot;&gt;&apos;--- filename&apos;&lt;/span&gt; (unified diff).

   &amp;gt;&amp;gt;&amp;gt;        1   


(Run with --trace &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a full exception trace.)
TW-MBP13-TCrawford:hive travis$ 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13426868" author="jghoman" created="Wed, 1 Aug 2012 20:10:20 +0000"  >&lt;p&gt;Just as another data point, the AvroSerde already converts Avro enums to strings, so this will make the behavior more consistent.&lt;/p&gt;</comment>
                            <comment id="13428315" author="pengfeng" created="Fri, 3 Aug 2012 19:29:05 +0000"  >&lt;p&gt;The previous patch didn&apos;t cover nested structures in map values. Posted a new patch using a static property in ObjectInspectorFactory instead of passing the property around. A better solution would be making the ObjectInspectorFactory a singleton instead of the current stateless static class.&lt;/p&gt;</comment>
                            <comment id="13428474" author="traviscrawford" created="Fri, 3 Aug 2012 23:50:20 +0000"  >&lt;p&gt;Hey all -&lt;/p&gt;

&lt;p&gt;Feng and I looked at this today and decided we missed the nested map value case because we didn&apos;t have a good way to test. We have an update (running CI now, will post patch after it passes) that adds a new test struct that contains all thrift data types, as well as some gnarly cases we found in real data (enum map keys, enum map values, etc).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/traviscrawford/hive/blob/HIVE-3323_enum_to_string/serde/if/test/megastruct.thrift&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/traviscrawford/hive/blob/HIVE-3323_enum_to_string/serde/if/test/megastruct.thrift&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This new struct will allow us to test this and other thrift cases, such as how binary data is not handled correctly (its interpreted as a ByteBuffer struct instead of byte[]).&lt;/p&gt;

&lt;p&gt;Will post what we believe is the last version of this patch after tests finish.&lt;/p&gt;</comment>
                            <comment id="13428646" author="traviscrawford" created="Sat, 4 Aug 2012 17:37:08 +0000"  >&lt;p&gt;Ok, I believe this patch is complete.&lt;/p&gt;

&lt;p&gt;Its interesting to see the megastruct serde-reported schema in the test output. For example, binary is reported as:&lt;/p&gt;

&lt;p&gt;my_binary	struct&amp;lt;hb:binary,offset:int,isreadonly:boolean,bigendian:boolean,nativebyteorder:boolean&amp;gt;	from deserializer&lt;/p&gt;

&lt;p&gt;This is because its a HeapByteBuffer; we have a followup patch that fixes this that can be submitted after this issue is resolved.&lt;/p&gt;

&lt;p&gt;Also note how sets are structs with no fields. &lt;/p&gt;

&lt;p&gt;my_stringset	struct&amp;lt;&amp;gt;	from deserializer&lt;/p&gt;

&lt;p&gt;I&apos;m not sure how to resolve this yet (turn them into lists?) but is an issue that we now have visibility into.&lt;/p&gt;</comment>
                            <comment id="13434607" author="traviscrawford" created="Tue, 14 Aug 2012 22:51:15 +0000"  >&lt;p&gt;Hey all, any chance I could get some feedback on this patch? Today we found another thrift-related issue where a struct with no fields is not handled correctly (yes a bizarre field choice but valid thrift). Fixing would depend on updating megastruct and its test (added here), and I&apos;d like to avoid piling more changes into this patch.&lt;/p&gt;</comment>
                            <comment id="13440666" author="pengfeng" created="Thu, 23 Aug 2012 21:10:58 +0000"  >&lt;p&gt;Bump. &lt;/p&gt;

&lt;p&gt;Is it possible some committer to take a look at this patch? A few of our later patches depend on it and it&apos;d be great if we can get some feedback. Thanks!&lt;/p&gt;</comment>
                            <comment id="13440713" author="jghoman" created="Thu, 23 Aug 2012 22:03:51 +0000"  >&lt;p&gt;One comment I have:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+    CONVERT_ENUM_TO_STRING(&quot;hive.data.convert.enum.to.string&quot;, false),
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;since AvroSerde already does this and doesn&apos;t provide an option not to, can we change option name to be thrift specific?&lt;/p&gt;</comment>
                            <comment id="13440719" author="dvryaboy" created="Thu, 23 Aug 2012 22:22:03 +0000"  >&lt;p&gt;Jakob, that sounds like something to fix in AvroSerde.&lt;/p&gt;</comment>
                            <comment id="13440722" author="dvryaboy" created="Thu, 23 Aug 2012 22:24:03 +0000"  >&lt;p&gt;Sorry, let me try a less snide reply &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
It doesn&apos;t make sense to me to have a situation where you are working with Thrift and Avro, and you want to not convert from Thrift but you do want to convert from Avro. What you really want is establish how Hive does serde type conversions, not how it does them for individual encodings of data.&lt;/p&gt;</comment>
                            <comment id="13440724" author="jghoman" created="Thu, 23 Aug 2012 22:25:16 +0000"  >&lt;p&gt;Right, but AvroSerde already does this conversion is what I&apos;m saying.  There&apos;s never been an option not to do the conversion.&lt;/p&gt;</comment>
                            <comment id="13440739" author="dvryaboy" created="Thu, 23 Aug 2012 22:46:28 +0000"  >&lt;p&gt;How about if we (as in, me/feng/travis) make a patch for AvroSerde to respect this property?&lt;/p&gt;</comment>
                            <comment id="13440741" author="jghoman" created="Thu, 23 Aug 2012 22:55:02 +0000"  >&lt;p&gt;Is the current Thrift behavior worth keeping around? Maybe just convert it to just do the string conversion? I can&apos;t come up with a use case where I would want the struct Thrift provides.&lt;/p&gt;</comment>
                            <comment id="13440748" author="dvryaboy" created="Thu, 23 Aug 2012 23:04:04 +0000"  >&lt;p&gt;We are thinking of a situation where you are going through HCat but consuming in something that speaks structs, your own service.&lt;/p&gt;</comment>
                            <comment id="13440821" author="jghoman" created="Fri, 24 Aug 2012 00:22:14 +0000"  >&lt;p&gt;OK, but that sounds like a less frequently useful use case than converting to strings.  Should we make the default behavior convert-to-string and add convert-to-struct as an option for thrift and avro?&lt;/p&gt;</comment>
                            <comment id="13440838" author="dvryaboy" created="Fri, 24 Aug 2012 00:57:45 +0000"  >&lt;p&gt;I am ok with making the default true. Don&apos;t think that would break anything. Feng?&lt;/p&gt;</comment>
                            <comment id="13440844" author="pengfeng" created="Fri, 24 Aug 2012 01:14:47 +0000"  >&lt;p&gt;I think it is fine. The current behavior for thrift is false and that&apos;s why we set it to false in the current patch. But I don&apos;t think people are using SerDe to read complex thrift data, otherwise they would have complained about this (and other problems we are having right now) already.&lt;/p&gt;</comment>
                            <comment id="13441463" author="pengfeng" created="Fri, 24 Aug 2012 20:29:14 +0000"  >&lt;p&gt;Hi Jakob, should we have the avro change in this same patch or in a separate patch?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
Feng&lt;/p&gt;</comment>
                            <comment id="13441509" author="jghoman" created="Fri, 24 Aug 2012 21:27:46 +0000"  >&lt;p&gt;you&apos;re welcome to if you&apos;d like.  I won&apos;t have a chance to do it anytime soon.&lt;/p&gt;</comment>
                            <comment id="13444247" author="traviscrawford" created="Wed, 29 Aug 2012 17:47:29 +0000"  >&lt;p&gt;Hey all, good discussion about this enum issue. After thinking about the comments, I think it would be appropriate to always convert enum values to strings, as the Avro serde does.&lt;/p&gt;

&lt;p&gt;Here&apos;s why:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Native Hive queries: enums-as-strings make the most sense&lt;/li&gt;
	&lt;li&gt;Pig queries through HCat: enums-as-strings make the most sense&lt;/li&gt;
	&lt;li&gt;MR jobs through HCat: enums-as-strings are reasonable, and if users actually want the int value they can convert in their code.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Since enums-as-strings makes sense for scripting languages, and users do not loose functionality in MR jobs, I think it makes sense to always convert enums to strings.&lt;/p&gt;

&lt;p&gt;Thoughts? If this sounds good I can update the patch.&lt;/p&gt;</comment>
                            <comment id="13445500" author="ashutoshc" created="Fri, 31 Aug 2012 00:20:52 +0000"  >&lt;p&gt;Travis,&lt;br/&gt;
Can you create a review request on reviews.apache.org ?&lt;/p&gt;</comment>
                            <comment id="13447975" author="ashutoshc" created="Tue, 4 Sep 2012 19:20:51 +0000"  >&lt;p&gt;I agree that enums as string (as oppose to struct&amp;lt;int&amp;gt;) makes more sense in all cases. So we can change the default behavior. But since functionality existed in previous releases and folks might be using it, we should add a config param in case folks already using thrift serde can fall back to old behavior in case they want to. I dont think we need to add that option for Avro though since there ever was only was one way of doing it for Avro data.&lt;/p&gt;</comment>
                            <comment id="13448079" author="traviscrawford" created="Tue, 4 Sep 2012 21:30:12 +0000"  >&lt;p&gt;Sounds good &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;! I&apos;m rebasing this patch against trunk and making enum-to-string the default, and leaving a property in place to disable the conversion. I&apos;ll open a reviewboard for the updated patch.&lt;/p&gt;

&lt;p&gt;I&apos;m excited to get MegaStruct in, so we can add test cases for some bizarre but valid thrift structs we&apos;ve come across &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13448155" author="jghoman" created="Tue, 4 Sep 2012 23:02:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;MegaStruct&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;eh?&lt;/p&gt;</comment>
                            <comment id="13448184" author="traviscrawford" created="Tue, 4 Sep 2012 23:22:01 +0000"  >&lt;p&gt;While making a number of thrift-related change, I&apos;ve found testing has been a challenge because we didn&apos;t have a really comprehensive thrift struct with all the field types we wanted to test. Part of this change is a new struct that actually has an enum field, but also stuff like a binary field (which we now see has basically the same issue as enum, where the HeapByteBuffer is treated like a struct rather than byte[]), set fields (which I didn&apos;t realize until recently are not supported, etc. Now we&apos;ll have visibility into this stuff and can fix.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;struct MegaStruct {
   1: optional bool my_bool,
   2: optional &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; my_byte,
   3: optional i16 my_16bit_int,
   4: optional i32 my_32bit_int,
   5: optional i64 my_64bit_int,
   6: optional &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt; my_double,
   7: optional string my_string,
   8: optional binary my_binary,
   9: optional map&amp;lt;string, string&amp;gt; my_string_string_map,
  10: optional map&amp;lt;string, MyEnum&amp;gt; my_string_enum_map,
  11: optional map&amp;lt;MyEnum, string&amp;gt; my_enum_string_map,
  12: optional map&amp;lt;MyEnum, MiniStruct&amp;gt; my_enum_struct_map,
  13: optional map&amp;lt;MyEnum, list&amp;lt;string&amp;gt;&amp;gt; my_enum_stringlist_map,
  14: optional map&amp;lt;MyEnum, list&amp;lt;MiniStruct&amp;gt;&amp;gt; my_enum_structlist_map,
  15: optional list&amp;lt;string&amp;gt; my_stringlist,
  16: optional list&amp;lt;MiniStruct&amp;gt; my_structlist,
  17: optional list&amp;lt;MyEnum&amp;gt; my_enumlist,
  18: optional set&amp;lt;string&amp;gt; my_stringset,
  19: optional set&amp;lt;MyEnum&amp;gt; my_enumset,
  20: optional set&amp;lt;MiniStruct&amp;gt; my_structset
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13448217" author="traviscrawford" created="Tue, 4 Sep 2012 23:57:37 +0000"  >&lt;p&gt;Reviewboard: &lt;a href=&quot;https://reviews.apache.org/r/6915/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/6915/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13449024" author="ashutoshc" created="Wed, 5 Sep 2012 19:12:09 +0000"  >&lt;p&gt;MultiKey stuff you added in OIcache doesn&apos;t look particularly clean. I think motivation for making that change was if there are multiple ThriftDeserializer in a job and for some reason they have different value for this new config key, you wanted to return different OIs with correct config. Intention is benign, but I am not sure if this really will work though. First of all its a rare condition that you have more then one serde in a job, only place I can think of is when you are reading two different tables in a same job (probably for joining) this will come up. There since configuration object is same for whole job, you are going to get only one value for whole job for your config key, not for each serde. So, even if some comes up with this rare use case of having two different ThriftSerDe which differs on this property, I doubt this will work. Further, this introduces dependecy on commons-collections which implies we need to package and ship this jar to backend. Thirdly, it introduces code complexity. So, I think we should drop this Multi-Key stuff for OIcache and keep it in original form. You might be able to make this work if you keep this config key in Table properties instead of Configuration, but I think we are introducing too much complexity for a rare case. At this point I will retract from opening up this option of having struct&amp;lt;int&amp;gt;. Lets always convert to string going forward, keeping the code changes to minimal and avoiding complexity.&lt;/p&gt;

&lt;p&gt;Another feedback is I think for JavaStringObjectInspector. I think instead of testing for type of object, you can always return o.toString() there, since if it was Enum, thats what you are doing and if it were String, then toString() on String returns &lt;tt&gt;this&lt;/tt&gt; so we will get desired result for both cases and avoid type-check test.     &lt;/p&gt;</comment>
                            <comment id="13449063" author="traviscrawford" created="Wed, 5 Sep 2012 19:55:55 +0000"  >&lt;p&gt;Thanks for the feedback Ashutosh &#8211; I agree making this conversion optional introduces complexity, and will remove the option + update the patch.&lt;/p&gt;</comment>
                            <comment id="13449416" author="ashutoshc" created="Thu, 6 Sep 2012 04:52:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13450726" author="ashutoshc" created="Fri, 7 Sep 2012 15:45:59 +0000"  >&lt;p&gt;Thanks, Travis for updating the patch. I will run test and commit this soon. &lt;/p&gt;</comment>
                            <comment id="13451146" author="ashutoshc" created="Fri, 7 Sep 2012 23:51:47 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Travis!&lt;/p&gt;</comment>
                            <comment id="13451311" author="hudson" created="Sat, 8 Sep 2012 11:20:24 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1656 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1656/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1656/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3323&quot; title=&quot;enum to string conversions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3323&quot;&gt;&lt;del&gt;HIVE-3323&lt;/del&gt;&lt;/a&gt; : enum to string conversions (Travis Crawford via Ashutosh Chauhan) (Revision 1382211)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1382211&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1382211&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/convert_enum_to_string.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/convert_enum_to_string.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/if/test/megastruct.thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MegaStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MiniStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MyEnum.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaStringObjectInspector.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547996" author="hudson" created="Wed, 9 Jan 2013 10:23:54 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3323&quot; title=&quot;enum to string conversions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3323&quot;&gt;&lt;del&gt;HIVE-3323&lt;/del&gt;&lt;/a&gt; : enum to string conversions (Travis Crawford via Ashutosh Chauhan) (Revision 1382211)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1382211&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1382211&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/convert_enum_to_string.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/convert_enum_to_string.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/if/test/megastruct.thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MegaStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MiniStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MyEnum.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/JavaStringObjectInspector.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550106" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:24 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                            <comment id="13798708" author="jay23jack" created="Fri, 18 Oct 2013 01:40:00 +0000"  >&lt;p&gt;Hi, we used to use the struct&amp;lt;value:int&amp;gt; representation in Hive 0.8 and got hit by this incompatible change after upgrading. Any reason not providing a configuration for this change? I guess it might break some other users.&lt;/p&gt;</comment>
                            <comment id="13798710" author="jay23jack" created="Fri, 18 Oct 2013 01:52:24 +0000"  >&lt;p&gt;From the discussion I can see the proposal of &quot;hive.data.convert.enum.to.string&quot; but it was not in the final patch.....&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12674600">HIVE-5592</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12433528">HIVE-775</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12538487" name="HIVE-3323_enum_to_string.1.patch" size="2093" author="traviscrawford" created="Tue, 31 Jul 2012 02:34:50 +0000"/>
                            <attachment id="12538642" name="HIVE-3323_enum_to_string.2.patch" size="33947" author="traviscrawford" created="Wed, 1 Aug 2012 01:01:06 +0000"/>
                            <attachment id="12538807" name="HIVE-3323_enum_to_string.3.patch" size="62910" author="traviscrawford" created="Wed, 1 Aug 2012 17:48:17 +0000"/>
                            <attachment id="12539083" name="HIVE-3323_enum_to_string.4.patch" size="60733" author="pengfeng" created="Fri, 3 Aug 2012 19:27:04 +0000"/>
                            <attachment id="12539153" name="HIVE-3323_enum_to_string.5.patch" size="129548" author="traviscrawford" created="Sat, 4 Aug 2012 17:37:08 +0000"/>
                            <attachment id="12543775" name="HIVE-3323_enum_to_string.6.patch" size="129472" author="traviscrawford" created="Tue, 4 Sep 2012 23:57:37 +0000"/>
                            <attachment id="12544227" name="HIVE-3323_enum_to_string.8.patch" size="116508" author="traviscrawford" created="Fri, 7 Sep 2012 15:20:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Aug 2012 20:10:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259193</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124441</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Hive handling of enum types has been changed to always return the string value rather than struct&amp;lt;value:int&amp;gt; as the new format is more useful to users.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3324] analyze command is not gathering &quot;num_rows&quot; present in the table.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3324</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When analyze command is executed, &quot;collectableStats&quot; i.e num_rows and raw_data_size is always zero even though table contains data.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;num_partitions: 0, num_files: 1, num_rows: 0, total_size: 5812, raw_data_size: 0&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12600866">HIVE-3324</key>
            <summary>analyze command is not gathering &quot;num_rows&quot; present in the table.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rohithsharma">Rohith Sharma K S</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Jul 2012 14:32:07 +0000</created>
                <updated>Wed, 13 Nov 2013 03:14:32 +0000</updated>
                            <resolved>Wed, 13 Nov 2013 02:40:59 +0000</resolved>
                                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13425819" author="rohithsharma" created="Tue, 31 Jul 2012 14:41:57 +0000"  >&lt;p&gt;From the code I see, default configuration is for connecting to database is  &quot;hive.stats.dbconnectionstring=jdbc:derby:;databaseName=TempStatsStore;create=true&quot;.When analyze command is executed, initialy PARTITION_STATS_V2 is created at HIVE JVM whereas statistics publishing is done at YarnChild. While publishing the statistics to database, directly executing inserting data into to table.Since yarn child is different jvm, it doesnot find initially created table PARTITION_STATS_V2.&lt;/p&gt;

</comment>
                            <comment id="13425822" author="rohithsharma" created="Tue, 31 Jul 2012 14:48:06 +0000"  >&lt;p&gt;I have one doubt for analyze configuration.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Is databaseName should be absolute path so that 2 JVM&apos;s can share this database.? &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;If yes, its better to document in Information document.&lt;/p&gt;

&lt;p&gt;I got correct statistics when database is shared amoung JVM&apos;s i.e &quot;hive.stats.dbconnectionstring=jdbc:derby:;databaseName=/home/TempStatsStore;create=true&quot; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13426345" author="rohithsharma" created="Wed, 1 Aug 2012 06:14:45 +0000"  >&lt;p&gt;There are 2 problems for analyze command.&lt;/p&gt;

&lt;p&gt;1. JDBCStastPublisher fails to connect to database since derby jar is not in classpath.In YarnChild logs we get below exception.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2012-08-01 10:25:17,954 ERROR [main] org.apache.hadoop.hive.ql.stats.jdbc.JDBCStatsPublisher: Error during instantiating JDBC driver org.apache.derby.jdbc.EmbeddedDriver. 
java.lang.ClassNotFoundException: org.apache.derby.jdbc.EmbeddedDriver
	at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:306)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:247)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:169)
	at org.apache.hadoop.hive.ql.stats.jdbc.JDBCStatsPublisher.connect(JDBCStatsPublisher.java:69)
	at org.apache.hadoop.hive.ql.exec.TableScanOperator.publishStats(TableScanOperator.java:236)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&amp;gt;&amp;gt;&amp;gt; Above problem can be resolved by setting &quot;hive.aux.jars.path&quot; for derby jar.&lt;/p&gt;

&lt;p&gt;2. JVM of Hive and YarnChild are different.So dbconnectionstring should be common location.If it is set to common location , then there is problme if the NodeManager and Hive are running in differetn machine.&lt;/p&gt;</comment>
                            <comment id="13820854" author="ashutoshc" created="Wed, 13 Nov 2013 02:40:59 +0000"  >&lt;p&gt;You can&apos;t use derby for this, since a remote daemon is required to be running which is accessible to all task nodes. Derby runs in embedded mode, so that won&apos;t work. You need mysql or orther RDBMS running as daemon and accessible from all task nodes.&lt;/p&gt;</comment>
                            <comment id="13820856" author="ashutoshc" created="Wed, 13 Nov 2013 02:42:11 +0000"  >&lt;p&gt;Also, note &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4632&quot; title=&quot;Use hadoop counter as a stat publisher&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4632&quot;&gt;&lt;del&gt;HIVE-4632&lt;/del&gt;&lt;/a&gt; will simplify stats collection mechanism, so that above is no longer a requirement.&lt;/p&gt;</comment>
                            <comment id="13820882" author="rohithsharma" created="Wed, 13 Nov 2013 03:14:32 +0000"  >&lt;p&gt;Thank you Ashutosh for updating reason for issue. I agree with your comment.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12649760">HIVE-4621</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12650087">HIVE-4632</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 13 Nov 2013 02:40:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>240092</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 10 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00x3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3294</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3325] serde-reported partition cols should not be persisted in metastore</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3325</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3279&quot; title=&quot;Table schema not being copied to Partitions with no columns&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3279&quot;&gt;&lt;del&gt;HIVE-3279&lt;/del&gt;&lt;/a&gt; an issue was fixed where serde-reported columns were not added to partitions. However, the fix in that issue caused serde-reported columns to be stored in the partition storage descriptor.&lt;/p&gt;

&lt;p&gt;Serde-reported columns should be dynamic and only reported at runtime (not stored in the partition storage descriptor).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12600882">HIVE-3325</key>
            <summary>serde-reported partition cols should not be persisted in metastore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="traviscrawford">Travis Crawford</assignee>
                                    <reporter username="traviscrawford">Travis Crawford</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Jul 2012 16:29:46 +0000</created>
                <updated>Sat, 27 Jul 2013 19:33:28 +0000</updated>
                            <resolved>Sat, 27 Jul 2013 19:33:28 +0000</resolved>
                                    <version>0.10.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13425911" author="traviscrawford" created="Tue, 31 Jul 2012 16:40:30 +0000"  >&lt;p&gt;Differential: &lt;a href=&quot;https://reviews.facebook.net/D4449&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4449&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13713221" author="appodictic" created="Fri, 19 Jul 2013 01:07:11 +0000"  >&lt;p&gt;This make sense. I will repost to see what the unit tests think.&lt;/p&gt;</comment>
                            <comment id="13713477" author="hiveqa" created="Fri, 19 Jul 2013 09:16:21 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593106/HIVE-3325.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593106/HIVE-3325.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 all tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/89/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/89/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/89/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/89/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;br/&gt;
Executing org.apache.hive.ptest.execution.CleanupPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.PrepPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ExecutionPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ReportingPhase&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13713555" author="hiveqa" created="Fri, 19 Jul 2013 11:06:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12593106/HIVE-3325.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12593106/HIVE-3325.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 all tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/90/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/90/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/90/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/90/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;br/&gt;
Executing org.apache.hive.ptest.execution.CleanupPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.PrepPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ExecutionPhase&lt;br/&gt;
Executing org.apache.hive.ptest.execution.ReportingPhase&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13714582" author="appodictic" created="Sun, 21 Jul 2013 00:31:55 +0000"  >&lt;p&gt;+1 Travis can you look at show create table as well. I noticed if you show create table on a table that dynamically gets all its columns from the serde the create table statement is not correct. Maybe we can handle that as a follow on.&lt;/p&gt;</comment>
                            <comment id="13721728" author="appodictic" created="Sat, 27 Jul 2013 19:33:28 +0000"  >&lt;p&gt;This was committed on&lt;/p&gt;

&lt;p&gt;------------------------------------------------------------------------&lt;br/&gt;
r1505418 | ecapriolo | 2013-07-21 12:50:25 -0400 (Sun, 21 Jul 2013) | 5 lines&lt;/p&gt;

&lt;p&gt;Serde-reported partition cols should not be persisted in metastore (Travis Crawford via egc)&lt;/p&gt;

&lt;p&gt;Sorry that I did not close out this ticket already. Thanks Travis.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12605448">HCATALOG-484</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12593106" name="HIVE-3325.patch.txt" size="4310" author="appodictic" created="Fri, 19 Jul 2013 01:16:51 +0000"/>
                            <attachment id="12538571" name="HIVE-3325_serde_reported_part_cols.1.patch" size="4242" author="traviscrawford" created="Tue, 31 Jul 2012 16:37:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 19 Jul 2013 01:07:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259194</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lnev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124443</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
