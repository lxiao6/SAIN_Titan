<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:18:12 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2011-5-18+AND+created+%3C%3D+2011-5-25+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="13" total="13"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2169] Hive should have support for clover and findbugs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2169</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive should have support for clover and findbugs.&lt;/p&gt;

&lt;p&gt;Clover delivers actionable Java code coverage metrics to assess the impact of unit tests.&lt;br/&gt;
Findbugs is a bug pattern detector for Java. &lt;br/&gt;
Both of them can give useful information on the code coverage and potential bugs.&lt;br/&gt;
Clover and findbugs support should be added as ant targets.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12507720">HIVE-2169</key>
            <summary>Hive should have support for clover and findbugs</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="iyappan">Iyappan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 May 2011 06:58:36 +0000</created>
                <updated>Thu, 7 Jun 2012 10:40:35 +0000</updated>
                                                                            <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12559650">HIVE-3099</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42242</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08owv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48635</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2170] Cannot run Hive 0.7.0 with Hadoop 0.20.203 </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2170</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Run hive-0.7.0 when hadoop-0.20.203 is up, get error as follows:&lt;br/&gt;
WARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated. Please use org.apache.hadoop.log.metrics.EventCounter in all the log4j.properties files.&lt;br/&gt;
Hive history file=/tmp/yifeng/hive_job_log_yifeng_201105200054_1479252065.txt&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.hadoop.security.UserGroupInformation.login(Lorg/apache/hadoop/conf/Configuration;)Lorg/apache/hadoop/security/UserGroupInformation;&lt;br/&gt;
	at org.apache.hadoop.hive.shims.Hadoop20Shims.getUGIForConf(Hadoop20Shims.java:448)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.security.HadoopDefaultAuthenticator.setConf(HadoopDefaultAuthenticator.java:51)&lt;br/&gt;
	at org.apache.hadoop.util.ReflectionUtils.setConf(ReflectionUtils.java:62)&lt;br/&gt;
	at org.apache.hadoop.util.ReflectionUtils.newInstance(ReflectionUtils.java:117)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.HiveUtils.getAuthenticator(HiveUtils.java:222)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:219)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:417)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12507781">HIVE-2170</key>
            <summary>Cannot run Hive 0.7.0 with Hadoop 0.20.203 </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="gengyifeng">Yifeng Geng</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 May 2011 16:55:17 +0000</created>
                <updated>Wed, 6 Jul 2011 23:15:49 +0000</updated>
                            <resolved>Wed, 6 Jul 2011 23:15:49 +0000</resolved>
                                    <version>0.7.0</version>
                                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13060911" author="jghoman" created="Wed, 6 Jul 2011 23:14:57 +0000"  >&lt;p&gt;I&apos;ve tested 0.7 against our 203 cluster with no problems.  I believe you&apos;ve got an old hadoop jar lying around, since you&apos;re getting the pre-203, non-secure shim.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[jhoman@da_machine hive-0.7.0-bin]$ bin/hive
WARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated. Please use org.apache.hadoop.log.metrics.EventCounter in all the log4j.properties files.
Hive history file=/tmp/jhoman/hive_job_log_jhoman_201107062259_426061277.txt
hive&amp;gt; create table doctors(id int, first_name string, last_name string) 
    &amp;gt; row format delimited fields terminated by &apos;\t&apos;
    &amp;gt; stored as textfile;
OK
Time taken: 3.745 seconds
hive&amp;gt; load data local inpath &apos;../test.tsv&apos; into table doctors;
Copying data from file:/shared/home/jhoman/test.tsv
Copying file: file:/shared/home/jhoman/test.tsv
Loading data to table default.doctors
OK
Time taken: 0.412 seconds
hive&amp;gt; select * from doctors;
OK
4	david	tennant
5	christopher	eccleston
6	matt	smith
Time taken: 0.18 seconds
hive&amp;gt; select * from doctors where last_name=&apos;eccleston&apos;;
Total MapReduce jobs = 1
Launching Job 1 out of 1
Number of reduce tasks is set to 0 since there&apos;s no reduce operator
Starting Job = job_201107062247_0001, Tracking URL = http://da_jt:50030/jobdetails.jsp?jobid=job_201107062247_0001
Kill Command = /shared/apps/hadoop/latest/bin/../bin/hadoop job  -Dmapred.job.tracker=da_jt:9001 -kill job_201107062247_0001
2011-07-06 23:01:58,989 Stage-1 map = 0%,  reduce = 0%
2011-07-06 23:02:05,044 Stage-1 map = 100%,  reduce = 0%
2011-07-06 23:02:11,101 Stage-1 map = 100%,  reduce = 100%
Ended Job = job_201107062247_0001
OK
5	christopher	eccleston
Time taken: 28.213 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13060912" author="jghoman" created="Wed, 6 Jul 2011 23:15:49 +0000"  >&lt;p&gt;Resolving as cannot reproduce.  If you run into further configuration issues, the mailing list is the best bet.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jul 2011 23:14:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>68943</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 29 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d2vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74242</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2171] Allow custom serdes to set field comments</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2171</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, while serde implementations can set a field&apos;s name, they can&apos;t set its comment.  These are set in the metastore utils to &lt;tt&gt;(from deserializer)&lt;/tt&gt;.  For those serdes that can provide meaningful comments for a field, they should be propagated to the table description.  These serde-provided comments could be prepended to &quot;(from deserializer)&quot; if others feel that&apos;s a meaningful distinction.  This change involves updating &lt;tt&gt;StructField&lt;/tt&gt; to support a (possibly null) comment field and then propagating this change out to the myriad places &lt;tt&gt;StructField&lt;/tt&gt; is thrown around.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12507797">HIVE-2171</key>
            <summary>Allow custom serdes to set field comments</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jghoman">Jakob Homan</assignee>
                                    <reporter username="jghoman">Jakob Homan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 May 2011 18:43:30 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:08 +0000</updated>
                            <resolved>Fri, 12 Aug 2011 19:29:05 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13039412" author="jghoman" created="Wed, 25 May 2011 23:06:10 +0000"  >&lt;p&gt;Patch:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Adds comment field to StructField interface and implements reasonable versions to each of its implementations.&lt;/li&gt;
	&lt;li&gt;Adds overloaded versions of each of the struct-based ObjectInspector factories to allow the comments to be set.&lt;/li&gt;
	&lt;li&gt;Adjusts MetastoreUtils to check if the comment of the field is null, if so, maintains previous behavior, else uses the comment.&lt;/li&gt;
	&lt;li&gt;Adds new unit test for MetastoreUtils.  For this, mockito was added as a dependency.  Right now it looks like Hive&apos;s Ivy conf isn&apos;t set up to only include some jars in the package.  If this patch goes in, I&apos;ll open another jira to make sure the mockito and other test-related jars aren&apos;t included in jars they don&apos;t need to be.&lt;/li&gt;
	&lt;li&gt;Refactors the TestStandardObjectInspectors test to test both with and without comments.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;After this patch, a serde that wants to specify comments can and have them show up in the table description. For example, with a table kst created by an implementation of SerDe, that has an example for each type (the comments are all separate, they&apos;re all just boring: this is field BLAH) can now set the field comments:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; describe kst;
OK
string1 string  this field is string1
string2 string  this field is string2
int1    int     this field is int1
boolean1        boolean this field is boolean1
long1   bigint  this field is long1
float1  float   this field is float1
double1 double  this field is double1
inner_record1   struct&amp;lt;int_in_inner_record1:int,string_in_inner_record1:string&amp;gt; this field is inner_record1
enum1   string  this field is enum1
array1  array&amp;lt;string&amp;gt;   this field is array1
map1    map&amp;lt;string,string&amp;gt;      this field is map1
union1  uniontype&amp;lt;float,boolean,string&amp;gt; this field is union1
fixed1  array&amp;lt;tinyint&amp;gt;  this field is fixed1
null1   void    this field is null1
unionnullint    int     this field is UnionNullInt
bytes1  array&amp;lt;tinyint&amp;gt;  this field is bytes1
ds      string
Time taken: 0.286 seconds&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;One thing I noticed is that these field comments on structs should extended to substructures, and does with this new patch for custom serdes:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; describe kst.inner_record1;
OK
int_in_inner_record1    int     this field is int_in_inner_record1
string_in_inner_record1 string  this field is string_in_inner_record1
Time taken: 0.113 seconds&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, this doesn&apos;t work correctly with built-in serdes:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; create table test_table(a STRUCT&amp;lt;z:string COMMENT &apos;comment for z&apos;,x:int&amp;gt; COMMENT &apos;comment for a&apos;);
OK
Time taken: 2.565 seconds
hive&amp;gt; describe test_table;
OK
a	struct&amp;lt;z:string,x:int&amp;gt;	comment for a
Time taken: 0.139 seconds
hive&amp;gt; describe test_table.a;
OK
z	string	from deserializer
x	int	from deserializer
Time taken: 0.096 seconds
hive&amp;gt; describe test_table.a.z;
OK
z	string	from deserializer
Time taken: 0.089 seconds
hive&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The comment for field z is lost, replaced by the boilerplate text &quot;from deserializer&quot; and can&apos;t be retrieved from the CLI.  I&apos;ll open a JIRA for this.&lt;/p&gt;

&lt;p&gt;This is my first Hive patch, so please check to see if I missed anything.&lt;/p&gt;</comment>
                            <comment id="13039900" author="jiraposter@reviews.apache.org" created="Thu, 26 May 2011 20:16:48 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/790/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/790/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;: Allow custom serdes to set field comments&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2171&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ivy/libraries.properties af856bd &lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java c1fa4e5 &lt;br/&gt;
  serde/ivy.xml d6c836a &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazyObjectInspectorFactory.java 4850601 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazySimpleStructObjectInspector.java e2fa9db &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/objectinspector/LazyBinaryObjectInspectorFactory.java 2947e49 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/objectinspector/LazyBinaryStructObjectInspector.java 3d5408f &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ColumnarStructObjectInspector.java 66f4f8d &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/MetadataListStructObjectInspector.java bd42a0c &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorFactory.java 90561a1 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ReflectionStructObjectInspector.java 4a934c5 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StandardStructObjectInspector.java 3b26e45 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StructField.java 62c3017 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/UnionStructObjectInspector.java 76ff736 &lt;br/&gt;
  serde/src/test/org/apache/hadoop/hive/serde2/TestSerdeWithFieldComments.java PRE-CREATION &lt;br/&gt;
  serde/src/test/org/apache/hadoop/hive/serde2/objectinspector/TestStandardObjectInspectors.java f139ea5 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/790/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/790/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;New unit test and refactor existing unit test.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jakob&lt;/p&gt;
</comment>
                            <comment id="13041754" author="jghoman" created="Tue, 31 May 2011 19:00:22 +0000"  >&lt;p&gt;Anything else necessary to get a review on this patch?&lt;/p&gt;</comment>
                            <comment id="13043057" author="he yongqiang" created="Thu, 2 Jun 2011 21:18:28 +0000"  >&lt;p&gt;hive already stores each column&apos;s comment in StorageDescriptor. Can we get the comments from there instead of putting it to StructField?&lt;/p&gt;

&lt;p&gt;And can we modify the desc table commands to show comments from StorageDescriptor, instead of putting a &quot;from deserializer&quot;?&lt;/p&gt;</comment>
                            <comment id="13060219" author="jghoman" created="Wed, 6 Jul 2011 00:40:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;hive already stores each column&apos;s comment in StorageDescriptor. Can we get the comments from there instead of putting it to StructField?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Hive stores column information for native serdes (see &lt;a href=&quot;https://github.com/apache/hive/blob/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java#L1889&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SerDeUtils.java:99&lt;/a&gt;).  For non-native serdes, it queries the serde&apos;s object inspector, which is what this patch is dealing with.&lt;/p&gt;</comment>
                            <comment id="13060805" author="jghoman" created="Wed, 6 Jul 2011 20:22:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;And can we modify the desc table commands to show comments from StorageDescriptor, instead of putting a &quot;from deserializer&quot;?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2189&quot; title=&quot;Hive ignores comments for nested structs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2189&quot;&gt;HIVE-2189&lt;/a&gt; for this issue.&lt;/p&gt;</comment>
                            <comment id="13065759" author="jghoman" created="Fri, 15 Jul 2011 08:20:00 +0000"  >&lt;p&gt;Is there anything else that needs to be done to get a code review on this patch?&lt;/p&gt;</comment>
                            <comment id="13072635" author="jvs" created="Fri, 29 Jul 2011 01:19:43 +0000"  >&lt;p&gt;I&apos;ll take a look.&lt;/p&gt;</comment>
                            <comment id="13078540" author="jvs" created="Wed, 3 Aug 2011 00:51:45 +0000"  >&lt;p&gt;I tried applying the patch against trunk for testing, but hit some conflicts...can you rebase?&lt;/p&gt;

&lt;p&gt;Also, @Yongqiang:  do you have any more comments on this one?&lt;/p&gt;</comment>
                            <comment id="13078541" author="jiraposter@reviews.apache.org" created="Wed, 3 Aug 2011 00:52:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/790/#review1274&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/790/#review1274&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazyObjectInspectorFactory.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/790/#comment2908&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/790/#comment2908&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Use curly brackets for all if statements (even when the body only has one line).  Use ant checkstyle to find more of these.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;John&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-05-26 20:16:20, Jakob Homan wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/790/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/790/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-05-26 20:16:20)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;: Allow custom serdes to set field comments&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2171&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ivy/libraries.properties af856bd &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java c1fa4e5 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/ivy.xml d6c836a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazyObjectInspectorFactory.java 4850601 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazySimpleStructObjectInspector.java e2fa9db &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/objectinspector/LazyBinaryObjectInspectorFactory.java 2947e49 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/objectinspector/LazyBinaryStructObjectInspector.java 3d5408f &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ColumnarStructObjectInspector.java 66f4f8d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/MetadataListStructObjectInspector.java bd42a0c &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorFactory.java 90561a1 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ReflectionStructObjectInspector.java 4a934c5 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StandardStructObjectInspector.java 3b26e45 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StructField.java 62c3017 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/UnionStructObjectInspector.java 76ff736 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/src/test/org/apache/hadoop/hive/serde2/TestSerdeWithFieldComments.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;serde/src/test/org/apache/hadoop/hive/serde2/objectinspector/TestStandardObjectInspectors.java f139ea5 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/790/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/790/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;New unit test and refactor existing unit test.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Jakob&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13079086" author="jghoman" created="Wed, 3 Aug 2011 22:34:20 +0000"  >&lt;p&gt;Updated patch.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;rebased against trunk&lt;/li&gt;
	&lt;li&gt;added braces around all new if statements&lt;/li&gt;
	&lt;li&gt;checked for checkstyle errors, didn&apos;t see any, although it&apos;s difficult to be sure since there is a baseline of 4,789 violations in trunk.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Do I need to open a new RB for this updated patch?  Do the committers run the full test suite?  I see lots of comments like &quot;will commit if tests pass.&quot; Does this mean that in Hive it&apos;s up to the committers to do the testing?  Thanks.&lt;/p&gt;</comment>
                            <comment id="13079135" author="jvs" created="Thu, 4 Aug 2011 00:08:27 +0000"  >&lt;ul&gt;
	&lt;li&gt;Yes, please update RB&lt;/li&gt;
	&lt;li&gt;checkstyle:  yeah, I think what people do is intersect the list of files they changed with the report output&lt;/li&gt;
	&lt;li&gt;test suite:  yes, committers run the full suite and reject if anything fails, but it&apos;s best if authors do too (takes hours these days, so kick it off before you go to bed)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(And yes, we have ideas for improving all three of these inefficiencies, but so far no owners.)&lt;/p&gt;</comment>
                            <comment id="13079136" author="jiraposter@reviews.apache.org" created="Thu, 4 Aug 2011 00:13:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/790/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/790/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-08-04 00:12:21.542815)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Updated patch based on review comments.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;: Allow custom serdes to set field comments&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2171&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ivy/libraries.properties af856bd &lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java c1fa4e5 &lt;br/&gt;
  serde/ivy.xml d6c836a &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazyObjectInspectorFactory.java 4850601 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazySimpleStructObjectInspector.java e2fa9db &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/objectinspector/LazyBinaryObjectInspectorFactory.java 2947e49 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/objectinspector/LazyBinaryStructObjectInspector.java 3d5408f &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ColumnarStructObjectInspector.java 881c3c1 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/MetadataListStructObjectInspector.java bd42a0c &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorFactory.java 0c8cc42 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ReflectionStructObjectInspector.java 4a934c5 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StandardStructObjectInspector.java 3b26e45 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StructField.java 62c3017 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/UnionStructObjectInspector.java 76ff736 &lt;br/&gt;
  serde/src/test/org/apache/hadoop/hive/serde2/TestSerdeWithFieldComments.java PRE-CREATION &lt;br/&gt;
  serde/src/test/org/apache/hadoop/hive/serde2/objectinspector/TestStandardObjectInspectors.java f139ea5 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/790/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/790/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;New unit test and refactor existing unit test.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jakob&lt;/p&gt;
</comment>
                            <comment id="13079138" author="jghoman" created="Thu, 4 Aug 2011 00:18:12 +0000"  >&lt;p&gt;I did do the intersection and didn&apos;t see anything. I&apos;ve got tests going, but don&apos;t expect anything new as the review comments were about style rather than logic.  The was relatively simple, so I&apos;m not overly concerned about new problems introduced in the interim.  Updated RB; some of the changes it shows for patch v1 to v2 are spurious and introduced by the trunk drift.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13082588" author="jiraposter@reviews.apache.org" created="Wed, 10 Aug 2011 19:24:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/790/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/790/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-08-10 19:24:16.187507)&lt;/p&gt;


&lt;p&gt;Review request for hive and John Sichi.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;updated patch based on review comments.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;: Allow custom serdes to set field comments&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2171&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  ivy/libraries.properties af856bd &lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java c1fa4e5 &lt;br/&gt;
  serde/ivy.xml d6c836a &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazyObjectInspectorFactory.java 4850601 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazySimpleStructObjectInspector.java e2fa9db &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/objectinspector/LazyBinaryObjectInspectorFactory.java 2947e49 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/objectinspector/LazyBinaryStructObjectInspector.java 3d5408f &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ColumnarStructObjectInspector.java 881c3c1 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/MetadataListStructObjectInspector.java bd42a0c &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorFactory.java 0c8cc42 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ReflectionStructObjectInspector.java 4a934c5 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StandardStructObjectInspector.java 3b26e45 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StructField.java 62c3017 &lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/UnionStructObjectInspector.java 76ff736 &lt;br/&gt;
  serde/src/test/org/apache/hadoop/hive/serde2/TestSerdeWithFieldComments.java PRE-CREATION &lt;br/&gt;
  serde/src/test/org/apache/hadoop/hive/serde2/objectinspector/TestStandardObjectInspectors.java f139ea5 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/790/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/790/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;New unit test and refactor existing unit test.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jakob&lt;/p&gt;
</comment>
                            <comment id="13083907" author="jvs" created="Fri, 12 Aug 2011 04:07:45 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="13084314" author="jvs" created="Fri, 12 Aug 2011 19:29:05 +0000"  >&lt;p&gt;Committed.  Thanks Jakob!&lt;/p&gt;</comment>
                            <comment id="13084349" author="jvs" created="Fri, 12 Aug 2011 20:16:52 +0000"  >&lt;p&gt;BTW, I noticed that the mockito jar ends up in build/dist lib (similar to junit).  Does that mean we also need to add a license notice for it?&lt;/p&gt;</comment>
                            <comment id="13084354" author="jghoman" created="Fri, 12 Aug 2011 20:24:28 +0000"  >&lt;p&gt;Quite likely.  I&apos;ll investigate and open a JIRA. Thanks.&lt;/p&gt;</comment>
                            <comment id="13084491" author="hudson" created="Sat, 13 Aug 2011 00:30:52 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #892 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/892/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/892/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;. Allow custom serdes to set field comments&lt;br/&gt;
(Jakob Homan via jvs)&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1157224&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1157224&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/objectinspector/TestStandardObjectInspectors.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ColumnarStructObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/UnionStructObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazySimpleStructObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ReflectionStructObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/TestSerdeWithFieldComments.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/MetadataListStructObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/objectinspector/LazyBinaryObjectInspectorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazyObjectInspectorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/objectinspector/LazyBinaryStructObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StandardStructObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StructField.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12489265" name="HIVE-2171-2.patch" size="37016" author="jghoman" created="Wed, 3 Aug 2011 22:34:20 +0000"/>
                            <attachment id="12480472" name="HIVE-2171.patch" size="37275" author="jghoman" created="Wed, 25 May 2011 23:06:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 26 May 2011 20:16:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>65115</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 24 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lir3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123688</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2172] Hive CLI should let you specify database on the command line</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2172</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I&apos;d like to be able to do the following:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;% hive --dbname=mydb
hive&amp;gt; ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;instead of having to do:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;% hive
hive&amp;gt; use mydb;
hive&amp;gt; ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12507818">HIVE-2172</key>
            <summary>Hive CLI should let you specify database on the command line</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="jghoman">Jakob Homan</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 May 2011 21:43:49 +0000</created>
                <updated>Fri, 1 Jun 2012 23:57:16 +0000</updated>
                            <resolved>Fri, 1 Jun 2012 23:57:15 +0000</resolved>
                                                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13186666" author="phabricator@reviews.facebook.net" created="Mon, 16 Jan 2012 02:45:38 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2172&quot; title=&quot;Hive CLI should let you specify database on the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2172&quot;&gt;&lt;del&gt;HIVE-2172&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Hive CLI should let you specify database on the command line&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-626 Hive CLI should let you specify database on the command line&lt;/p&gt;

&lt;p&gt;  I&apos;d like to be able to do the following:   &amp;lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&amp;gt;&amp;lt;div class=&quot;preformattedContent panelContent&quot;&amp;gt; &amp;lt;pre&amp;gt;% hive --dbname=mydb hive&amp;gt; ... &amp;lt;/pre&amp;gt; &amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/p&gt;

&lt;p&gt;  instead of having to do:   &amp;lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&amp;gt;&amp;lt;div class=&quot;preformattedContent panelContent&quot;&amp;gt; &amp;lt;pre&amp;gt;% hive hive&amp;gt; use mydb; hive&amp;gt; ... &amp;lt;/pre&amp;gt; &amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1269&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1269&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/CliSessionState.java&lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/OptionsProcessor.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2655/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2655/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12558676">HIVE-3066</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12510662" name="ASF.LICENSE.NOT.GRANTED--HIVE-2172.D1269.1.patch" size="1984" author="phabricator@reviews.facebook.net" created="Mon, 16 Jan 2012 02:45:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Jan 2012 02:45:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42241</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lirb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123689</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2173] Alter table recover partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2173</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;From mailing list thread: &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hive-user/201105.mbox/%3CBANLkTi=R1Dh2sNKyyJm=VsX=yqvx5mbUFQ@mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hive-user/201105.mbox/%3CBANLkTi=R1Dh2sNKyyJm=VsX=yqvx5mbUFQ@mail.gmail.com%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12507828">HIVE-2173</key>
            <summary>Alter table recover partitions</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 May 2011 23:07:06 +0000</created>
                <updated>Tue, 23 Dec 2014 19:51:23 +0000</updated>
                            <resolved>Tue, 23 Dec 2014 19:51:02 +0000</resolved>
                                                    <fixVersion>0.5.0</fixVersion>
                                    <component>CLI</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14257426" author="ashutoshc" created="Tue, 23 Dec 2014 19:51:02 +0000"  >&lt;p&gt;See usage at : &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-RecoverPartitions(MSCKREPAIRTABLE&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-RecoverPartitions(MSCKREPAIRTABLE&lt;/a&gt;)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12437997">HIVE-874</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42240</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lirj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123690</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2174] unit tests fail consistently when run according to instructions on &quot;hive how to contribute&quot; page.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2174</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The unit tests fail consistently when run according to the doc on hive how to contribute page. Specifically if you:&lt;/p&gt;

&lt;p&gt;1) checkout the code afresh (or &apos;git clean -xdf&apos; - basically be sure to start with a &lt;em&gt;very&lt;/em&gt; clean slate)&lt;br/&gt;
2) ant clean test tar -logfile ant.log&lt;/p&gt;

&lt;p&gt;the tests will fail (you can run just bucketmapjoin1.q instead of all the tests, it exhibits this behavior). However if you instead do the following &lt;/p&gt;

&lt;p&gt;2) ant clean package test tar -logfile ant.log&lt;/p&gt;

&lt;p&gt;the tests pass (notice the addition to package to the targets).&lt;/p&gt;

&lt;p&gt;I&apos;ve tried this on 5 different systems (mix of linux 32/64 bit) and the result is consistent.&lt;/p&gt;


&lt;p&gt;Running&lt;/p&gt;

&lt;p&gt;ant clean test -Dtestcase=TestCliDriver -Dqfile=bucketmapjoin1.q&lt;/p&gt;

&lt;p&gt;I see the following reason for failure&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 743c743&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt;                     numRows 0&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt;                     numRows 464&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 773c773&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt;               numRows 0&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt;               numRows 464&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 793c793&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;lt;                 numRows 0&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;#8212;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &amp;gt;                 numRows 464&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;which leads me to believe it&apos;s a metastore issue (statistics?)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12507830">HIVE-2174</key>
            <summary>unit tests fail consistently when run according to instructions on &quot;hive how to contribute&quot; page.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="phunt">Patrick Hunt</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 May 2011 23:28:38 +0000</created>
                <updated>Sat, 6 Dec 2014 05:23:27 +0000</updated>
                                            <version>0.7.1</version>
                    <version>0.8.0</version>
                                                    <component>Build Infrastructure</component>
                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13036579" author="nzhang" created="Thu, 19 May 2011 23:43:49 +0000"  >&lt;p&gt;Yes, that&apos;s a documentation bug. We should always run &apos;ant package&apos; before running tests or anything. ant package will download some necessary ivy packages and put necessary jar files under build/ directory. For the particular error, I think it is because the derby.jar is not present in the build/ directory without &apos;ant package&apos;. &lt;/p&gt;

&lt;p&gt;A fix to the code would be to make &apos;ant test&apos; dependent on &apos;package&apos;. But the downside is that each time your run some test it calls &apos;package&apos;, which is not necessary for the 2nd time. &lt;/p&gt;</comment>
                            <comment id="13036592" author="phunt" created="Fri, 20 May 2011 00:09:38 +0000"  >&lt;p&gt;Thanks Ning, I updated the following page, perhaps you can review: &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/HowToContribute&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/HowToContribute&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Any suggestions where else to look for instructions that should be fixed up? I grepped the latest codebase but didn&apos;t see anything obvious.&lt;/p&gt;</comment>
                            <comment id="13036597" author="cwsteinbach" created="Fri, 20 May 2011 00:23:23 +0000"  >&lt;p&gt;If the &quot;test&quot; target has a dependency on &quot;package&quot;, then this dependency should be made explicit in build.xml. right now &quot;test&quot; indirectly depends on &quot;jar&quot;, which is why running &apos;ant test -Dtestcase=TestCliDriver -Dqfile=bucketmapjoin1.q&quot; fails.&lt;/p&gt;

&lt;p&gt;Also, instead of modifying the &quot;test&quot; target dependencies, I think we should instead try to adhere to ant conventions and instead modify the test.classpath so that it will work after running the &quot;jar&quot; target.&lt;/p&gt;
</comment>
                            <comment id="13036703" author="nzhang" created="Fri, 20 May 2011 07:05:19 +0000"  >&lt;p&gt;@Patrick, thanks for fixing the wiki!&lt;/p&gt;

&lt;p&gt;@Carl, fixing the test.classpath would work too. Currently without &apos;ant package&apos; (which is actually the installation process) there is no build/dist/lib created. If we can make test.classpath depend on build/dist/lib, that should implicitly make &apos;ant test&apos; dependent on &apos;ant package&apos;, but without running &apos;ant package&apos; every time &apos;ant test&apos; is run.   &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 May 2011 23:43:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42239</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lirr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2175] NPE if zookeeper is down</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2175</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ERROR ZooKeeperHiveLockManager (ZooKeeperHiveLockManager.java:lock(337)) - Failed to get ZooKeeper lock: java.lang.NullPointerException&lt;/p&gt;</description>
                <environment></environment>
        <key id="12507940">HIVE-2175</key>
            <summary>NPE if zookeeper is down</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 May 2011 23:56:57 +0000</created>
                <updated>Fri, 20 May 2011 23:57:28 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13037166" author="namit" created="Fri, 20 May 2011 23:57:28 +0000"  >&lt;p&gt;We should throw a more meaningful exception.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42238</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 36 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lirz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2176] Schema creation scripts are incomplete since they leave out tables that are specific to DataNucleus</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2176</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When using the DDL SQL scripts to create the Metastore, tables like SEQUENCE_TABLE are missing and force the user to change the configuration to use Datanucleus to do all the provisioning of the Metastore tables. Adding the missing table definitions to the DDL scripts will allow to have a functional Hive Metastore without enabling additional privileges to the Metastore user and/or enabling datanucleus.autoCreateSchema property in hive-site.xml&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;After running the hive-schema-0.7.0.mysql.sql and revoking ALTER and CREATE privileges to the &amp;#39;metastoreuser&amp;#39;&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;hive&amp;gt; show tables; &lt;br/&gt;
FAILED: Error in metadata: javax.jdo.JDOException: Exception thrown calling table.exists() for `SEQUENCE_TABLE` &lt;br/&gt;
NestedThrowables: &lt;br/&gt;
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: CREATE command denied to user &apos;metastoreuser&apos;@&apos;localhost&apos; for table &apos;SEQUENCE_TABLE&apos; &lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12507944">HIVE-2176</key>
            <summary>Schema creation scripts are incomplete since they leave out tables that are specific to DataNucleus</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="esteban">Esteban Gutierrez</assignee>
                                    <reporter username="esteban">Esteban Gutierrez</reporter>
                        <labels>
                            <label>derby</label>
                            <label>mysql</label>
                            <label>postgres</label>
                    </labels>
                <created>Sat, 21 May 2011 00:28:39 +0000</created>
                <updated>Wed, 27 Jul 2011 04:20:24 +0000</updated>
                            <resolved>Wed, 15 Jun 2011 00:07:15 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.6.0</version>
                    <version>0.7.0</version>
                                    <fixVersion>0.7.1</fixVersion>
                    <fixVersion>0.8.0</fixVersion>
                                    <component>Configuration</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13042401" author="cwsteinbach" created="Wed, 1 Jun 2011 20:20:58 +0000"  >&lt;p&gt;We should try to get a fix for this in to 0.7.1.&lt;/p&gt;

&lt;p&gt;Assigning to myself.&lt;/p&gt;</comment>
                            <comment id="13042613" author="esteban" created="Thu, 2 Jun 2011 05:18:09 +0000"  >&lt;p&gt;I&apos;m working on a patch for this.&lt;/p&gt;</comment>
                            <comment id="13042631" author="cwsteinbach" created="Thu, 2 Jun 2011 06:45:20 +0000"  >&lt;p&gt;@Esteban: Reassigning this to you. Thanks!&lt;/p&gt;</comment>
                            <comment id="13045915" author="esteban" created="Wed, 8 Jun 2011 12:11:29 +0000"  >&lt;p&gt;The patch fixes the missing tables in the SQL schema for MySQL, PostgreSQL and Derby that Datanucleus creates at runtime.&lt;/p&gt;

&lt;p&gt;Also fixes a type incompatibility in the SDS table for PostgreSQL (IS_COMPRESSED should be boolean but is de&lt;/p&gt;</comment>
                            <comment id="13046928" author="esteban" created="Fri, 10 Jun 2011 00:00:25 +0000"  >&lt;p&gt;Updated patch doesn&apos;t include type incompatibility fix for IS_COMPRESSED column in PostgreSQL and fixes diff file.&lt;/p&gt;</comment>
                            <comment id="13048239" author="esteban" created="Sun, 12 Jun 2011 04:49:11 +0000"  >&lt;p&gt;Fix for PostgreSQL type in IS_COMPRESSED now  is included again.&lt;/p&gt;</comment>
                            <comment id="13048240" author="esteban" created="Sun, 12 Jun 2011 04:52:20 +0000"  >&lt;p&gt;Attached patch solves issue, please review.&lt;/p&gt;</comment>
                            <comment id="13049534" author="cwsteinbach" created="Wed, 15 Jun 2011 00:07:15 +0000"  >&lt;p&gt;Committed to trunk and branch-0.7. Thanks Esteban!&lt;/p&gt;</comment>
                            <comment id="13054059" author="hudson" created="Thu, 23 Jun 2011 19:47:05 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #790 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/790/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/790/&lt;/a&gt;)&lt;/p&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                                                <inwardlinks description="is cloned by">
                                        <issuelink>
            <issuekey id="12515357">HIVE-2307</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12482277" name="HIVE-2176.3.patch.txt" size="13971" author="esteban" created="Sun, 12 Jun 2011 04:49:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Jun 2011 20:20:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66830</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lis7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123693</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2177] JLint Comments fixes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2177</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Fix JLint Comments.&lt;/p&gt;

&lt;p&gt;About JLint Tool : &lt;br/&gt;
Jlint will check your Java code and find bugs, inconsistencies and synchronization problems by doing data flow analysis and building the lock graph.&lt;br/&gt;
&lt;a href=&quot;http://jlint.sourceforge.net/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jlint.sourceforge.net/&lt;/a&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop 0.20.1, Hive0.8.0 and SUSE Linux Enterprise Server 10 SP2 (i586) - Kernel 2.6.16.60-0.21-smp (5)&lt;/p&gt;</environment>
        <key id="12508138">HIVE-2177</key>
            <summary>JLint Comments fixes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="chinnalalam">Chinna Rao Lalam</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 May 2011 06:31:38 +0000</created>
                <updated>Mon, 22 Aug 2016 18:18:20 +0000</updated>
                            <resolved>Mon, 22 Aug 2016 18:18:20 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.8.0</version>
                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13043043" author="he yongqiang" created="Thu, 2 Jun 2011 20:57:57 +0000"  >&lt;p&gt;Great! But can you add the JLint tool to build.xml? So that whenever new codes come in, the contributor can do the check when build or compile. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12480951" name="HIVE-2177.patch" size="10953" author="chinnalalam" created="Tue, 31 May 2011 15:20:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 2 Jun 2011 20:57:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42237</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lisf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123694</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2178] Log related Check style Comments fixes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2178</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Fix Log related Check style Comments&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop 0.20.1, Hive0.8.0 and SUSE Linux Enterprise Server 10 SP2 (i586) - Kernel 2.6.16.60-0.21-smp (5)&lt;/p&gt;</environment>
        <key id="12508139">HIVE-2178</key>
            <summary>Log related Check style Comments fixes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="chinnalalam">Chinna Rao Lalam</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 May 2011 06:35:44 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:31 +0000</updated>
                            <resolved>Mon, 7 Nov 2011 17:56:58 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13089699" author="vaggarw" created="Tue, 23 Aug 2011 19:47:46 +0000"  >&lt;p&gt;This is a good patch. I have noticed a number of cases here root cause of exception is missing.&lt;/p&gt;</comment>
                            <comment id="13108714" author="jiraposter@reviews.apache.org" created="Tue, 20 Sep 2011 13:48:09 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1978/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Fixed Log related Check style Comments like including root exception and adding messages.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; title=&quot;Log related Check style Comments fixes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2178&quot;&gt;&lt;del&gt;HIVE-2178&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2178&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java 1172979 &lt;br/&gt;
  trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java 1172979 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InvalidObjectException.java 1172979 &lt;br/&gt;
  trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/MetaException.java 1172979 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1172979 &lt;br/&gt;
  trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java 1172979 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 1172979 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Partition.java 1172979 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/describe_xpath1.q.out 1172979 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/describe_xpath2.q.out 1172979 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/describe_xpath3.q.out 1172979 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/describe_xpath4.q.out 1172979 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/lockneg4.q.out 1172979 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/lockneg5.q.out 1172979 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/SimpleCharStream.java 1172979 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/thrift/TBinarySortableProtocol.java 1172979 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1978/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Ran all unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13108879" author="jiraposter@reviews.apache.org" created="Tue, 20 Sep 2011 18:13:08 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1978/#review1975&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/#review1975&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InvalidObjectException.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1978/#comment4465&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/#comment4465&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This is a generated code. You should not hand edit it. If you find a need for editing it, its probably a bug in Thrift , you can open a jira on that project.&lt;/p&gt;



&lt;p&gt;trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/MetaException.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1978/#comment4466&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/#comment4466&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Same as above.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Ashutosh&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-09-20 13:48:02, chinna wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1978/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-09-20 13:48:02)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Fixed Log related Check style Comments like including root exception and adding messages.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; title=&quot;Log related Check style Comments fixes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2178&quot;&gt;&lt;del&gt;HIVE-2178&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2178&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InvalidObjectException.java 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/MetaException.java 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Partition.java 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/describe_xpath1.q.out 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/describe_xpath2.q.out 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/describe_xpath3.q.out 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/describe_xpath4.q.out 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/lockneg4.q.out 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/lockneg5.q.out 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/SimpleCharStream.java 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/thrift/TBinarySortableProtocol.java 1172979 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1978/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Ran all unit tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;chinna&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13109498" author="jiraposter@reviews.apache.org" created="Wed, 21 Sep 2011 13:37:09 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1978/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-21 13:36:23.594198)&lt;/p&gt;


&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Thrift generated code changes are excluded from the patch. Thrift generated code changes i will follow up.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Fixed Log related Check style Comments like including root exception and adding messages.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; title=&quot;Log related Check style Comments fixes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2178&quot;&gt;&lt;del&gt;HIVE-2178&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2178&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java 1173507 &lt;br/&gt;
  trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java 1173507 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 1173507 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Partition.java 1173507 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/describe_xpath1.q.out 1173507 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/describe_xpath2.q.out 1173507 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/describe_xpath3.q.out 1173507 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/describe_xpath4.q.out 1173507 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/lockneg4.q.out 1173507 &lt;br/&gt;
  trunk/ql/src/test/results/clientnegative/lockneg5.q.out 1173507 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/SimpleCharStream.java 1173507 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/thrift/TBinarySortableProtocol.java 1173507 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1978/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Ran all unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13109501" author="jiraposter@reviews.apache.org" created="Wed, 21 Sep 2011 13:39:08 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-09-20 18:12:16, Ashutosh Chauhan wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/MetaException.java, lines 118-121&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1978/diff/1/?file=43792#file43792line118&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/diff/1/?file=43792#file43792line118&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Same as above.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thrift generated code changes are excluded from the patch. Thrift generated code changes i will follow up.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;chinna&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1978/#review1975&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/#review1975&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-09-21 13:36:23, chinna wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1978/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-09-21 13:36:23)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Fixed Log related Check style Comments like including root exception and adding messages.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; title=&quot;Log related Check style Comments fixes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2178&quot;&gt;&lt;del&gt;HIVE-2178&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2178&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java 1173507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java 1173507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 1173507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Partition.java 1173507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/describe_xpath1.q.out 1173507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/describe_xpath2.q.out 1173507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/describe_xpath3.q.out 1173507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/describe_xpath4.q.out 1173507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/lockneg4.q.out 1173507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/ql/src/test/results/clientnegative/lockneg5.q.out 1173507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/SimpleCharStream.java 1173507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/serde/src/java/org/apache/hadoop/hive/serde2/thrift/TBinarySortableProtocol.java 1173507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1978/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Ran all unit tests&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;chinna&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13127714" author="ashutoshc" created="Fri, 14 Oct 2011 17:19:40 +0000"  >&lt;p&gt;@Chinna,&lt;br/&gt;
Looks all the error messages has lost information. In all the *.q.out files which this patch  updates I was expecting those error messages to get better, but nearly all of them have become worse and not printing useful messages any more which they used to print.&lt;/p&gt;</comment>
                            <comment id="13127730" author="jvs" created="Fri, 14 Oct 2011 17:50:53 +0000"  >&lt;p&gt;I agree with Ashutosh.  It&apos;s good to be chaining the actual exception objects, but apparently Hive is ignoring them at the top level, so for now it&apos;s necessary to also append their string form to the message.&lt;/p&gt;</comment>
                            <comment id="13132869" author="chinnalalam" created="Fri, 21 Oct 2011 17:54:23 +0000"  >&lt;p&gt;In some places chaining the actual exception is like &quot;throw new HiveException(e.toString())&quot;  so i tried to correct it like &quot;throw new HiveException(&quot;ExceptionMessgae&quot;,e)&quot; and i verified the log messages it is comming properly but *.q.out files are not capturing the exception because org.apache.hadoop.hive.ql.session.SessionState.LogHelper.printError(String, String) is capturing only the first message in *.q.out file and for logs it is captured both.&lt;/p&gt;

&lt;p&gt;Now i have updated the patch like &quot;throw new HiveException(e.toString())&quot; these are changed to &quot;throw new HiveException(e)&quot; now it is capturing the exception stack trace in *.q.out and log files also&lt;/p&gt;</comment>
                            <comment id="13132873" author="jiraposter@reviews.apache.org" created="Fri, 21 Oct 2011 17:56:32 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1978/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-10-21 17:57:45.867679)&lt;/p&gt;


&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Now i have updated the patch like &quot;throw new HiveException(e.toString())&quot; these are changed to &quot;throw new HiveException(e)&quot; now it is capturing the exception stack trace in *.q.out and log files also&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Fixed Log related Check style Comments like including root exception and adding messages.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; title=&quot;Log related Check style Comments fixes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2178&quot;&gt;&lt;del&gt;HIVE-2178&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2178&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java 1187471 &lt;br/&gt;
  trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java 1187471 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 1187471 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Partition.java 1187471 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/SimpleCharStream.java 1187471 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/thrift/TBinarySortableProtocol.java 1187471 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1978/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Ran all unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13143225" author="jiraposter@reviews.apache.org" created="Thu, 3 Nov 2011 14:59:32 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1978/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-11-03 14:59:09.059591)&lt;/p&gt;


&lt;p&gt;Review request for hive, Carl Steinbach and John Sichi.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Patch become stale so rebased the patch&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Fixed Log related Check style Comments like including root exception and adding messages.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; title=&quot;Log related Check style Comments fixes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2178&quot;&gt;&lt;del&gt;HIVE-2178&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2178&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java 1197152 &lt;br/&gt;
  trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java 1197152 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java 1197152 &lt;br/&gt;
  trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Partition.java 1197152 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/SimpleCharStream.java 1197152 &lt;br/&gt;
  trunk/serde/src/java/org/apache/hadoop/hive/serde2/thrift/TBinarySortableProtocol.java 1197152 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1978/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1978/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Ran all unit tests&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13145221" author="phabricator@reviews.facebook.net" created="Mon, 7 Nov 2011 04:32:51 +0000"  >&lt;p&gt;njain requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; title=&quot;Log related Check style Comments fixes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2178&quot;&gt;&lt;del&gt;HIVE-2178&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Log related Check style Comments fixes&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; title=&quot;Log related Check style Comments fixes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2178&quot;&gt;&lt;del&gt;HIVE-2178&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Fix Log related Check style Comments&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D291&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D291&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java&lt;br/&gt;
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/SimpleCharStream.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/thrift/TBinarySortableProtocol.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Partition.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/603/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/603/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13145223" author="namit" created="Mon, 7 Nov 2011 04:36:43 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13145648" author="namit" created="Mon, 7 Nov 2011 17:56:58 +0000"  >&lt;p&gt;Committed. Thanks Chinna&lt;/p&gt;</comment>
                            <comment id="13145941" author="hudson" created="Mon, 7 Nov 2011 23:29:23 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1065 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1065/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1065/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2178&quot; title=&quot;Log related Check style Comments fixes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2178&quot;&gt;&lt;del&gt;HIVE-2178&lt;/del&gt;&lt;/a&gt; Log related Check style Comments fixes&lt;br/&gt;
(Chinna Rao Lalam via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1198841&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1198841&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveConnection.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDataSource.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Partition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/SimpleCharStream.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/thrift/TBinarySortableProtocol.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12502721" name="ASF.LICENSE.NOT.GRANTED--D291.1.patch" size="7512" author="phabricator@reviews.facebook.net" created="Mon, 7 Nov 2011 04:32:52 +0000"/>
                            <attachment id="12491379" name="HIVE-2178.1.patch" size="10039" author="chinnalalam" created="Tue, 23 Aug 2011 19:11:16 +0000"/>
                            <attachment id="12495222" name="HIVE-2178.2.patch" size="15080" author="chinnalalam" created="Tue, 20 Sep 2011 13:43:00 +0000"/>
                            <attachment id="12495359" name="HIVE-2178.3.patch" size="12106" author="chinnalalam" created="Wed, 21 Sep 2011 13:32:05 +0000"/>
                            <attachment id="12500212" name="HIVE-2178.4.patch" size="8289" author="chinnalalam" created="Fri, 21 Oct 2011 17:41:22 +0000"/>
                            <attachment id="12502165" name="HIVE-2178.5.patch" size="8289" author="chinnalalam" created="Thu, 3 Nov 2011 14:57:38 +0000"/>
                            <attachment id="12481704" name="HIVE-2178.patch" size="16269" author="chinnalalam" created="Tue, 7 Jun 2011 14:11:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 23 Aug 2011 19:47:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35809</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lisn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123695</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2179] Miscellaneous code improvements in the ql,serde,metastore and contrib packages</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2179</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Miscellaneous code improvements in the ql,serde,metastore and contrib packages like&lt;br/&gt;
Avoided creation of variables inside loop and log message improvements&lt;/p&gt;</description>
                <environment>&lt;p&gt;Hadoop 0.20.1, Hive0.8.0 and SUSE Linux Enterprise Server 10 SP2 (i586) - Kernel 2.6.16.60-0.21-smp (5)&lt;/p&gt;</environment>
        <key id="12508140">HIVE-2179</key>
            <summary>Miscellaneous code improvements in the ql,serde,metastore and contrib packages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="chinnalalam">Chinna Rao Lalam</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 May 2011 06:41:52 +0000</created>
                <updated>Mon, 22 Aug 2016 18:19:59 +0000</updated>
                            <resolved>Mon, 22 Aug 2016 18:19:59 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.8.0</version>
                                                    <component>Contrib</component>
                    <component>Metastore</component>
                    <component>Query Processor</component>
                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42236</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lisv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2180] Log message improvement and use StringBuilder for constructing messages instead of String</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2180</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Need to properly format/present the error messages for better traceability.&lt;/p&gt;

&lt;p&gt;For example in classes like ScriptOperator, FetchOperator, PartitionPruner etc, &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;LG.info(&quot;Executing &quot; + Arrays.asList(wrappedCmdArgs));
LOG.info(&quot;tablename=&quot;+ hconf.get(HiveConf.ConfVars.HIVETABLENAME.varname));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The two lines which are being logged separately can be clubbed using string builder and logged at once like &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;StringBuilder sb = new StringBuilder(&quot;Executing &quot;);
sb.append(Arrays.asList(wrappedCmdArgs));
sb.append(&quot;\ntablename=&quot;);
sb.append(hconf.get(HiveConf.ConfVars.HIVETABLENAME.varname));
LOG.info(sb.toString());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Hadoop 0.20.1, Hive0.8.0 and SUSE Linux Enterprise Server 10 SP2 (i586) - Kernel 2.6.16.60-0.21-smp (5)&lt;/p&gt;</environment>
        <key id="12508157">HIVE-2180</key>
            <summary>Log message improvement and use StringBuilder for constructing messages instead of String</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="chinnalalam">Chinna Rao Lalam</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 May 2011 09:24:00 +0000</created>
                <updated>Mon, 22 Aug 2016 18:20:28 +0000</updated>
                            <resolved>Mon, 22 Aug 2016 18:20:27 +0000</resolved>
                                    <version>0.5.0</version>
                    <version>0.8.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                            <attachment id="12480952" name="HIVE-2180.patch" size="28314" author="chinnalalam" created="Tue, 31 May 2011 15:21:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42235</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 36 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lit3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123697</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2181]  Clean up the scratch.dir (tmp/hive-root) while restarting Hive server. </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2181</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Now queries leaves the map outputs under scratch.dir after execution. If the hive server is stopped we need not keep the stopped server&apos;s map oputputs. So whle starting the server we can clear the scratch.dir. This can help in improved disk usage.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Suse linux, Hadoop 20.1, Hive 0.8&lt;/p&gt;</environment>
        <key id="12508159">HIVE-2181</key>
            <summary> Clean up the scratch.dir (tmp/hive-root) while restarting Hive server. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chinnalalam">Chinna Rao Lalam</assignee>
                                    <reporter username="sanoj">sanoj mathew</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 May 2011 09:47:28 +0000</created>
                <updated>Mon, 11 Apr 2016 23:13:15 +0000</updated>
                            <resolved>Fri, 23 Sep 2011 17:21:29 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <timeoriginalestimate seconds="172800">48h</timeoriginalestimate>
                            <timeestimate seconds="172800">48h</timeestimate>
                                        <comments>
                            <comment id="13083306" author="mis" created="Thu, 11 Aug 2011 18:09:18 +0000"  >&lt;p&gt;-1 for the issue.&lt;br/&gt;
What if I&apos;m running multiple hive servers on different port in the same machine &lt;/p&gt;
{With my metastore db on a mysql server}
&lt;p&gt;, then if one of the server instances restarts, it would end up deleting the scratch dir, which would affect other running instances as well. Even if we specify different scratch dir for each of the instances, I doubt about the value add from this property.&lt;/p&gt;</comment>
                            <comment id="13083401" author="chinnalalam" created="Thu, 11 Aug 2011 19:13:32 +0000"  >&lt;p&gt;Hi MIS,  &lt;br/&gt;
   Thanks for the point as u said if we have multiple instances with the same scratch dir on same machine it wont help. But in this case if we give different value for the scratch dir it may help(I will double check this point).&lt;/p&gt;

&lt;p&gt;   I will introduce one propety for this like hive.start.cleanup.scrachdir . This cleanup can trigger based on this property value. By default it will be turned off. If cleanup need to do while starting the server turn on. &lt;/p&gt;</comment>
                            <comment id="13084309" author="jiraposter@reviews.apache.org" created="Fri, 12 Aug 2011 19:11:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Now queries leaves the map outputs under scratch.dir after execution. If the hive server is stopped we need not keep the stopped server&apos;s map oputputs. So whle starting the server we can clear the scratch.dir. This can help in improved disk usage.&lt;/p&gt;

&lt;p&gt;Implemented a cleanup method in HiveServer and it will trigger based on the property value &quot;hive.start.cleanup.scrachdir&quot;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; title=&quot; Clean up the scratch.dir (tmp/hive-root) while restarting Hive server. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2181&quot;&gt;&lt;del&gt;HIVE-2181&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2181&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1156493 &lt;br/&gt;
  trunk/conf/hive-default.xml 1156493 &lt;br/&gt;
  trunk/data/conf/hive-site.xml 1156493 &lt;br/&gt;
  trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java 1156493 &lt;br/&gt;
  trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java 1156493 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1481/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added test case for this scenario.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13084620" author="jiraposter@reviews.apache.org" created="Sat, 13 Aug 2011 14:09:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1481/#review1444&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/#review1444&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/data/conf/hive-site.xml&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1481/#comment3342&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/#comment3342&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This overrides the value set in hive-default.xml. And also deviates from the existing behavior. So, the property needn&apos;t be mentioned in hive-site.xml&lt;/p&gt;



&lt;p&gt;trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1481/#comment3343&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/#comment3343&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Why create a reference, when the same can be logged directly and easily readable as well.&lt;/p&gt;



&lt;p&gt;trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1481/#comment3344&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/#comment3344&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    There needs to be a test case to test the other use-case also, where the user would have chosen not to set the property to &quot;true&quot;.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;M&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-08-12 19:10:40, chinna wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-08-12 19:10:40)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Now queries leaves the map outputs under scratch.dir after execution. If the hive server is stopped we need not keep the stopped server&apos;s map oputputs. So whle starting the server we can clear the scratch.dir. This can help in improved disk usage.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Implemented a cleanup method in HiveServer and it will trigger based on the property value &quot;hive.start.cleanup.scrachdir&quot;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; title=&quot; Clean up the scratch.dir (tmp/hive-root) while restarting Hive server. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2181&quot;&gt;&lt;del&gt;HIVE-2181&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2181&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1156493 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/conf/hive-default.xml 1156493 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/data/conf/hive-site.xml 1156493 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java 1156493 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java 1156493 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1481/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Added test case for this scenario.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;chinna&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13086293" author="jiraposter@reviews.apache.org" created="Wed, 17 Aug 2011 13:13:27 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-08-13 14:08:14, M IS wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/data/conf/hive-site.xml, line 181&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1481/diff/1/?file=32387#file32387line181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/diff/1/?file=32387#file32387line181&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This overrides the value set in hive-default.xml. And also deviates from the existing behavior. So, the property needn&apos;t be mentioned in hive-site.xml&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is added for the testing purpose. Now it is removed.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-08-13 14:08:14, M IS wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java, line 713&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1481/diff/1/?file=32388#file32388line713&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/diff/1/?file=32388#file32388line713&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Why create a reference, when the same can be logged directly and easily readable as well.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Creating a reference for the log message is removed&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-08-13 14:08:14, M IS wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java, line 394&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1481/diff/1/?file=32389#file32389line394&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/diff/1/?file=32389#file32389line394&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     There needs to be a test case to test the other use-case also, where the user would have chosen not to set the property to &quot;true&quot;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Added a testcase for other user-case (Test should not clear scratchDir)&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;chinna&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1481/#review1444&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/#review1444&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-08-12 19:10:40, chinna wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-08-12 19:10:40)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Now queries leaves the map outputs under scratch.dir after execution. If the hive server is stopped we need not keep the stopped server&apos;s map oputputs. So whle starting the server we can clear the scratch.dir. This can help in improved disk usage.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Implemented a cleanup method in HiveServer and it will trigger based on the property value &quot;hive.start.cleanup.scrachdir&quot;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; title=&quot; Clean up the scratch.dir (tmp/hive-root) while restarting Hive server. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2181&quot;&gt;&lt;del&gt;HIVE-2181&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2181&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1156493 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/conf/hive-default.xml 1156493 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/data/conf/hive-site.xml 1156493 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java 1156493 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java 1156493 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1481/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Added test case for this scenario.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;chinna&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13088888" author="jiraposter@reviews.apache.org" created="Mon, 22 Aug 2011 18:23:29 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-08-22 18:23:15.749654)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Fixed review comments and updated the patch.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Now queries leaves the map outputs under scratch.dir after execution. If the hive server is stopped we need not keep the stopped server&apos;s map oputputs. So whle starting the server we can clear the scratch.dir. This can help in improved disk usage.&lt;/p&gt;

&lt;p&gt;Implemented a cleanup method in HiveServer and it will trigger based on the property value &quot;hive.start.cleanup.scrachdir&quot;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; title=&quot; Clean up the scratch.dir (tmp/hive-root) while restarting Hive server. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2181&quot;&gt;&lt;del&gt;HIVE-2181&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2181&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1158629 &lt;br/&gt;
  trunk/conf/hive-default.xml 1158629 &lt;br/&gt;
  trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java 1158629 &lt;br/&gt;
  trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java 1158629 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1481/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added test case for this scenario.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13104700" author="chinnalalam" created="Wed, 14 Sep 2011 17:31:19 +0000"  >&lt;p&gt;Patch become stale i will rebase the patch and i will upload&lt;/p&gt;</comment>
                            <comment id="13105007" author="hudson" created="Wed, 14 Sep 2011 23:44:27 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #954 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/954/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/954/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; title=&quot; Clean up the scratch.dir (tmp/hive-root) while restarting Hive server. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2181&quot;&gt;&lt;del&gt;HIVE-2181&lt;/del&gt;&lt;/a&gt;. Avoid null pointer exception when executing UDF&lt;br/&gt;
(Chinna Rao Lalam via jvs)&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1170721&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1170721&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFBridge.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/udfnull.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/udfnull.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/cast1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input20.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input8.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf6.q.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13105014" author="jvs" created="Wed, 14 Sep 2011 23:51:46 +0000"  >&lt;p&gt;Oops, looks like I typed in the wrong JIRA issue number in the commit message &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13106615" author="jiraposter@reviews.apache.org" created="Fri, 16 Sep 2011 17:31:09 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-16 17:30:40.980271)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Rebased the patch on latest trunk&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Now queries leaves the map outputs under scratch.dir after execution. If the hive server is stopped we need not keep the stopped server&apos;s map oputputs. So whle starting the server we can clear the scratch.dir. This can help in improved disk usage.&lt;/p&gt;

&lt;p&gt;Implemented a cleanup method in HiveServer and it will trigger based on the property value &quot;hive.start.cleanup.scrachdir&quot;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; title=&quot; Clean up the scratch.dir (tmp/hive-root) while restarting Hive server. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2181&quot;&gt;&lt;del&gt;HIVE-2181&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2181&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/conf/hive-default.xml 1171488 &lt;br/&gt;
  trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java 1171488 &lt;br/&gt;
  trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java 1171488 &lt;br/&gt;
  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1171488 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1481/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added test case for this scenario.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13108956" author="jiraposter@reviews.apache.org" created="Tue, 20 Sep 2011 19:40:09 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1481/#review1977&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/#review1977&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1481/#comment4467&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/#comment4467&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    SCRATCH needs a T in it (everywhere).&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;John&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-09-16 17:30:40, chinna wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-09-16 17:30:40)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Now queries leaves the map outputs under scratch.dir after execution. If the hive server is stopped we need not keep the stopped server&apos;s map oputputs. So whle starting the server we can clear the scratch.dir. This can help in improved disk usage.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Implemented a cleanup method in HiveServer and it will trigger based on the property value &quot;hive.start.cleanup.scrachdir&quot;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; title=&quot; Clean up the scratch.dir (tmp/hive-root) while restarting Hive server. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2181&quot;&gt;&lt;del&gt;HIVE-2181&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2181&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/conf/hive-default.xml 1171488 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java 1171488 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java 1171488 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1171488 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1481/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Added test case for this scenario.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;chinna&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13109494" author="jiraposter@reviews.apache.org" created="Wed, 21 Sep 2011 13:31:09 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-21 13:30:22.283181)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;spelling mistake corrected&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Now queries leaves the map outputs under scratch.dir after execution. If the hive server is stopped we need not keep the stopped server&apos;s map oputputs. So whle starting the server we can clear the scratch.dir. This can help in improved disk usage.&lt;/p&gt;

&lt;p&gt;Implemented a cleanup method in HiveServer and it will trigger based on the property value &quot;hive.start.cleanup.scrachdir&quot;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; title=&quot; Clean up the scratch.dir (tmp/hive-root) while restarting Hive server. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2181&quot;&gt;&lt;del&gt;HIVE-2181&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2181&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1173539 &lt;br/&gt;
  trunk/conf/hive-default.xml 1173539 &lt;br/&gt;
  trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java 1173539 &lt;br/&gt;
  trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java 1173539 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1481/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added test case for this scenario.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13109885" author="jvs" created="Wed, 21 Sep 2011 21:22:15 +0000"  >&lt;p&gt;I ran TestHiveServer, and even though it passed, I saw the exception below in the test output.  That&apos;s because one of the test cases leaves the socket in use, so the second one fails to open it.&lt;/p&gt;

&lt;p&gt;Rather than actually starting the server, maybe just unit-test the cleanup method in isolation?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] org.apache.thrift.transport.TTransportException: Could not create ServerSocket on address 0.0.0.0/0.0.0.0:10000.
    [junit] 	at org.apache.thrift.transport.TServerSocket.&amp;lt;init&amp;gt;(TServerSocket.java:93)
    [junit] 	at org.apache.thrift.transport.TServerSocket.&amp;lt;init&amp;gt;(TServerSocket.java:75)
    [junit] 	at org.apache.thrift.transport.TServerSocket.&amp;lt;init&amp;gt;(TServerSocket.java:68)
    [junit] 	at org.apache.hadoop.hive.service.HiveServer.main(HiveServer.java:688)
    [junit] 	at org.apache.hadoop.hive.service.TestHiveServer$2.run(TestHiveServer.java:423)
    [junit] ------------- ---------------- ---------------
    [junit] 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13112796" author="jiraposter@reviews.apache.org" created="Thu, 22 Sep 2011 18:27:26 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1481/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-09-22 18:26:19.812602)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;In testcases server startup is removed and added unit tests for cleanUpScratchDir().&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Now queries leaves the map outputs under scratch.dir after execution. If the hive server is stopped we need not keep the stopped server&apos;s map oputputs. So whle starting the server we can clear the scratch.dir. This can help in improved disk usage.&lt;/p&gt;

&lt;p&gt;Implemented a cleanup method in HiveServer and it will trigger based on the property value &quot;hive.start.cleanup.scrachdir&quot;&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; title=&quot; Clean up the scratch.dir (tmp/hive-root) while restarting Hive server. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2181&quot;&gt;&lt;del&gt;HIVE-2181&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2181&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  trunk/common/src/java/org/apache/hadoop/hive/common/ServerUtils.java PRE-CREATION &lt;br/&gt;
  trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java 1174277 &lt;br/&gt;
  trunk/conf/hive-default.xml 1174277 &lt;br/&gt;
  trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java 1174277 &lt;br/&gt;
  trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java 1174277 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1481/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1481/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Added test case for this scenario.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;chinna&lt;/p&gt;
</comment>
                            <comment id="13112881" author="jvs" created="Thu, 22 Sep 2011 20:31:49 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="13113574" author="jvs" created="Fri, 23 Sep 2011 17:21:30 +0000"  >&lt;p&gt;Committed to trunk.  Thanks Chinna!&lt;/p&gt;</comment>
                            <comment id="13113865" author="hudson" created="Sat, 24 Sep 2011 01:38:03 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #974 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/974/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/974/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2181&quot; title=&quot; Clean up the scratch.dir (tmp/hive-root) while restarting Hive server. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2181&quot;&gt;&lt;del&gt;HIVE-2181&lt;/del&gt;&lt;/a&gt;. Clean up the scratch.dir (tmp/hive-root) while restarting&lt;br/&gt;
Hive server.&lt;br/&gt;
(Chinna Rao Lalam via jvs)&lt;/p&gt;

&lt;p&gt;jvs : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1174892&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1174892&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/common/ServerUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/java/org/apache/hadoop/hive/service/HiveServer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14579749" author="lefty@hortonworks.com" created="Tue, 9 Jun 2015 23:30:33 +0000"  >&lt;p&gt;Doc note:  This added configuration parameter &lt;b&gt;hive.start.cleanup.scratchdir&lt;/b&gt; to HiveConf.java in release 0.8.1 (not 0.8.0 as indicated in Fix Version).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10415&quot; title=&quot;hive.start.cleanup.scratchdir configuration is not taking effect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10415&quot;&gt;&lt;del&gt;HIVE-10415&lt;/del&gt;&lt;/a&gt; fixed a bug in release 1.3.0.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;hive.start.cleanup.scratchdir&lt;/b&gt; is documented in the wiki here:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.start.cleanup.scratchdir&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.start.cleanup.scratchdir &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12822658">HIVE-10415</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12956319">HIVE-13429</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12490241" name="HIVE-2181.1.patch" size="5071" author="chinnalalam" created="Fri, 12 Aug 2011 13:42:14 +0000"/>
                            <attachment id="12490645" name="HIVE-2181.2.patch" size="5237" author="chinnalalam" created="Wed, 17 Aug 2011 13:04:24 +0000"/>
                            <attachment id="12494827" name="HIVE-2181.3.patch" size="5309" author="chinnalalam" created="Fri, 16 Sep 2011 17:28:48 +0000"/>
                            <attachment id="12494930" name="HIVE-2181.4.patch" size="5280" author="chinnalalam" created="Sat, 17 Sep 2011 18:11:10 +0000"/>
                            <attachment id="12495358" name="HIVE-2181.5.patch" size="5288" author="chinnalalam" created="Wed, 21 Sep 2011 13:27:45 +0000"/>
                            <attachment id="12496159" name="HIVE-2181.6.patch" size="7182" author="chinnalalam" created="Thu, 22 Sep 2011 18:21:47 +0000"/>
                            <attachment id="12481232" name="HIVE-2181.patch" size="2916" author="chinnalalam" created="Thu, 2 Jun 2011 14:10:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Aug 2011 18:09:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35808</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0litb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123698</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Clear the scratch.dir while starting the hive server, will help in HDFS resource usage from hive.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Clear the scratch.dir while starting the hive server</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
