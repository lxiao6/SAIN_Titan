<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:21:19 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-7-11+AND+created+%3C%3D+2012-7-18+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="16" total="16"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-3250] ArrayIndexOutOfBoundsException in ColumnPrunerProcFactory$ColumnPrunerSelectProc</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3250</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I have a query which was not selecting field and the optimizer fails to evict them with the following stack trace:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;FAILED: Hive Internal Error: java.lang.ArrayIndexOutOfBoundsException(-1)
java.lang.ArrayIndexOutOfBoundsException: -1
    at java.util.ArrayList.get(ArrayList.java:324)
    at org.apache.hadoop.hive.ql.optimizer.ColumnPrunerProcFactory$ColumnPrunerSelectProc.process(ColumnPrunerProcFactory.java:397)
    at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:89)
    at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:88)
    at org.apache.hadoop.hive.ql.optimizer.ColumnPruner$ColumnPrunerWalker.walk(ColumnPruner.java:143)
    at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:102)
    at org.apache.hadoop.hive.ql.optimizer.ColumnPruner.transform(ColumnPruner.java:106)
    at org.apache.hadoop.hive.ql.optimizer.Optimizer.optimize(Optimizer.java:87)
    at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7306)
    at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)
    at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:430)
    at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)
    at org.apache.hadoop.hive.ql.Driver.run(Driver.java:889)
    at org.apache.hadoop.hive.service.HiveServer$HiveServerHandler.execute(HiveServer.java:191)
    at org.apache.hadoop.hive.jdbc.HiveStatement.executeQuery(HiveStatement.java:187)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The failing query reduced to the only failing part:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT explodedUrls FROM
  (
    SELECT userid, array(named_struct(&apos;date&apos;, count(*))) AS urls, count(*) AS user_lid FROM
      (
        SELECT * FROM NicoPageViewEvent WHERE day &amp;gt; &apos;20130801&apos;
      ) pve
    GROUP BY userid
  ) userViewData
LATERAL VIEW s_explode_pageflow(userViewData.urls) userViewDataLateralView AS explodedUrls
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Adding fields make it work:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT userid, explodedUrls, user_lid FROM
  (
    SELECT userid, array(named_struct(&apos;date&apos;, count(*))) AS urls, count(*) AS user_lid FROM
      (
        SELECT * FROM NicoPageViewEvent WHERE day &amp;gt; &apos;20130801&apos;
      ) pve
    GROUP BY userid
  ) userViewData
LATERAL VIEW s_explode_pageflow(userViewData.urls) userViewDataLateralView AS explodedUrls
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And s_explode_pageflow is a custom function which take an array of struct and split them into arrays of struct&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598342">HIVE-3250</key>
            <summary>ArrayIndexOutOfBoundsException in ColumnPrunerProcFactory$ColumnPrunerSelectProc</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hibou">Nicolas Lalev&#233;e</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jul 2012 09:58:02 +0000</created>
                <updated>Mon, 6 May 2013 18:17:17 +0000</updated>
                            <resolved>Fri, 28 Dec 2012 19:34:08 +0000</resolved>
                                    <version>0.8.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13412410" author="navis" created="Thu, 12 Jul 2012 00:26:22 +0000"  >&lt;p&gt;I think this is related with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3226&quot; title=&quot;ColumnPruner is not working on LateralView&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3226&quot;&gt;&lt;del&gt;HIVE-3226&lt;/del&gt;&lt;/a&gt;. Could you try again with the patch applied?&lt;/p&gt;</comment>
                            <comment id="13412830" author="hibou" created="Thu, 12 Jul 2012 14:22:32 +0000"  >&lt;p&gt;Sorry, I cannot find a proper link to download the patch&lt;/p&gt;</comment>
                            <comment id="13413638" author="navis" created="Fri, 13 Jul 2012 10:26:42 +0000"  >&lt;p&gt;Sorry, I&apos;ve attached the patch.&lt;/p&gt;</comment>
                            <comment id="13540569" author="ashutoshc" created="Fri, 28 Dec 2012 19:34:08 +0000"  >&lt;p&gt;Cannot reproduce this on latest trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Jul 2012 00:26:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259144</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124391</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3251] Hive doesn&apos;t remove scrach directories while killing running MR job</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3251</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;While killing running MR job, hive doesn&apos;t clean up scratch directory (mapred.cache.files). So that, afterwards, scratch directory is left there in hdfs. HDFS name node doesn&apos;t know it and try to do lease recovery. while such instances happen more, it will eventually crash namenode.&lt;/p&gt;

&lt;p&gt;The fix is to leverage hdfs clean up functionality. While creating scratch dirs, hive registers it to hdfs cleanup hook. While killing happens, hdfs will clean them up.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12598409">HIVE-3251</key>
            <summary>Hive doesn&apos;t remove scrach directories while killing running MR job</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gangtimliu">Gang Tim Liu</assignee>
                                    <reporter username="gangtimliu">Gang Tim Liu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jul 2012 17:43:40 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:32 +0000</updated>
                            <resolved>Thu, 19 Jul 2012 17:02:01 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13412280" author="gangtimliu" created="Wed, 11 Jul 2012 23:02:40 +0000"  >&lt;p&gt;diff is ready to review &lt;a href=&quot;https://reviews.facebook.net/D4089&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4089&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13412282" author="gangtimliu" created="Wed, 11 Jul 2012 23:03:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D4089&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4089&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13416085" author="namit" created="Tue, 17 Jul 2012 11:04:50 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13418109" author="namit" created="Thu, 19 Jul 2012 06:38:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13418445" author="namit" created="Thu, 19 Jul 2012 17:02:01 +0000"  >&lt;p&gt;Committed. Thanks Tim&lt;/p&gt;</comment>
                            <comment id="13418515" author="gangtimliu" created="Thu, 19 Jul 2012 18:06:54 +0000"  >&lt;p&gt;Namit, thank you very much for review and commit.&lt;/p&gt;</comment>
                            <comment id="13418836" author="hudson" created="Fri, 20 Jul 2012 00:49:02 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1553 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1553/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1553/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3251&quot; title=&quot;Hive doesn&amp;#39;t remove scrach directories while killing running MR job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3251&quot;&gt;&lt;del&gt;HIVE-3251&lt;/del&gt;&lt;/a&gt; Hive doesn&apos;t remove scrach directories while killing running MR job&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1363424)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1363424&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1363424&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Context.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548338" author="hudson" created="Wed, 9 Jan 2013 10:25:20 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3251&quot; title=&quot;Hive doesn&amp;#39;t remove scrach directories while killing running MR job&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3251&quot;&gt;&lt;del&gt;HIVE-3251&lt;/del&gt;&lt;/a&gt; Hive doesn&apos;t remove scrach directories while killing running MR job&lt;br/&gt;
(Gang Tim Liu via namit) (Revision 1363424)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1363424&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1363424&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Context.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/Driver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550139" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:32 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12536138" name="HIVE-3151.patch" size="3300" author="gangtimliu" created="Wed, 11 Jul 2012 23:05:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jul 2012 11:04:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259145</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124392</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3252] Add environment context to metastore Thrift calls</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3252</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently in the Hive Thrift metastore API create_table, add_partition, alter_table, alter_partition have with_environment_context analogs.  It would be really useful to add similar methods from drop_partition, drop_table, and append_partition.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598424">HIVE-3252</key>
            <summary>Add environment context to metastore Thrift calls</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sxyuan">Samuel Yuan</assignee>
                                    <reporter username="jreese">John Reese</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jul 2012 18:40:36 +0000</created>
                <updated>Thu, 16 May 2013 21:10:38 +0000</updated>
                            <resolved>Tue, 12 Feb 2013 19:32:35 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13416582" author="jreese" created="Tue, 17 Jul 2012 20:49:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D4185&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4185&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13416990" author="namit" created="Wed, 18 Jul 2012 10:45:00 +0000"  >&lt;p&gt;@John. see comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13564986" author="sxyuan" created="Tue, 29 Jan 2013 02:04:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D8241&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D8241&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13566045" author="sxyuan" created="Wed, 30 Jan 2013 01:23:58 +0000"  >&lt;p&gt;Updated, see comments in Phabricator&lt;/p&gt;</comment>
                            <comment id="13570516" author="kevinwilfong" created="Mon, 4 Feb 2013 19:08:18 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13576923" author="kevinwilfong" created="Tue, 12 Feb 2013 19:32:35 +0000"  >&lt;p&gt;Committed, thanks Sam.&lt;/p&gt;</comment>
                            <comment id="13577003" author="hudson" created="Tue, 12 Feb 2013 20:56:14 +0000"  >&lt;p&gt;Integrated in hive-trunk-hadoop1 #81 (See &lt;a href=&quot;https://builds.apache.org/job/hive-trunk-hadoop1/81/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hive-trunk-hadoop1/81/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3252&quot; title=&quot;Add environment context to metastore Thrift calls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3252&quot;&gt;&lt;del&gt;HIVE-3252&lt;/del&gt;&lt;/a&gt;. Add environment context to metastore Thrift calls. (Samuel Yuan via kevinwilfong) (Revision 1445309)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1445309&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1445309&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/if/hive_metastore.thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Database.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/EnvironmentContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Index.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Partition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrincipalPrivilegeSet.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Schema.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SerDeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/StorageDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStoreWithEnvironmentContext.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13577372" author="hudson" created="Wed, 13 Feb 2013 06:43:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1968 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1968/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1968/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3252&quot; title=&quot;Add environment context to metastore Thrift calls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3252&quot;&gt;&lt;del&gt;HIVE-3252&lt;/del&gt;&lt;/a&gt;. Add environment context to metastore Thrift calls. (Samuel Yuan via kevinwilfong) (Revision 1445309)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1445309&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1445309&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/if/hive_metastore.thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Database.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/EnvironmentContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Index.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Partition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrincipalPrivilegeSet.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Schema.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SerDeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/StorageDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStoreWithEnvironmentContext.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13577376" author="hudson" created="Wed, 13 Feb 2013 06:50:47 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #120 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/120/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/120/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3252&quot; title=&quot;Add environment context to metastore Thrift calls&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3252&quot;&gt;&lt;del&gt;HIVE-3252&lt;/del&gt;&lt;/a&gt;. Add environment context to metastore Thrift calls. (Samuel Yuan via kevinwilfong) (Revision 1445309)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1445309&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1445309&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/if/hive_metastore.thrift&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Database.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/EnvironmentContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Index.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Partition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrincipalPrivilegeSet.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Schema.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SerDeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/StorageDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStoreWithEnvironmentContext.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12566886" name="HIVE-3252.1.patch.txt" size="595225" author="sxyuan" created="Tue, 29 Jan 2013 02:04:12 +0000"/>
                            <attachment id="12567087" name="HIVE-3252.2.patch.txt" size="846170" author="sxyuan" created="Wed, 30 Jan 2013 01:23:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Jul 2012 10:45:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247703</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08p1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48657</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3253] ArrayIndexOutOfBounds exception for deeply nested structs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3253</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It was observed that while creating table with deeply nested structs might throw this exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.ArrayIndexOutOfBoundsException: 9
        at org.apache.hadoop.hive.serde2.lazy.LazyFactory.createLazyObjectInspector(LazyFactory.java:281)
	at org.apache.hadoop.hive.serde2.lazy.LazyFactory.createLazyObjectInspector(LazyFactory.java:263)
	at org.apache.hadoop.hive.serde2.lazy.LazyFactory.createLazyObjectInspector(LazyFactory.java:276)
	at org.apache.hadoop.hive.serde2.lazy.LazyFactory.createLazyObjectInspector(LazyFactory.java:263)
	at org.apache.hadoop.hive.serde2.lazy.LazyFactory.createLazyObjectInspector(LazyFactory.java:276)
	at org.apache.hadoop.hive.serde2.lazy.LazyFactory.createLazyObjectInspector(LazyFactory.java:263)
	at org.apache.hadoop.hive.serde2.lazy.LazyFactory.createLazyObjectInspector(LazyFactory.java:276)
	at org.apache.hadoop.hive.serde2.lazy.LazyFactory.createLazyObjectInspector(LazyFactory.java:263)
	at org.apache.hadoop.hive.serde2.lazy.LazyFactory.createLazyObjectInspector(LazyFactory.java:276)
	at org.apache.hadoop.hive.serde2.lazy.LazyFactory.createLazyStructInspector(LazyFactory.java:354)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The reason being that currently the separators array has been hardcoded to be of size 8 in the LazySimpleSerde.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// Read the separators: We use 8 levels of separators by &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, but we
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// should change &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; when we allow users to specify more than 10 levels
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// of separators through DDL.
&lt;/span&gt;serdeParams.separators = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[8];
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If possible, we should increase this size or at least make it configurable to properly handle deeply nested structs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598549">HIVE-3253</key>
            <summary>ArrayIndexOutOfBounds exception for deeply nested structs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="swarnim">Swarnim Kulkarni</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jul 2012 13:26:30 +0000</created>
                <updated>Wed, 28 Jan 2015 18:11:59 +0000</updated>
                            <resolved>Wed, 3 Jul 2013 15:53:46 +0000</resolved>
                                    <version>0.9.0</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13424998" author="traviscrawford" created="Mon, 30 Jul 2012 16:51:34 +0000"  >&lt;p&gt;I ran into this issue too. I&apos;m running tests with that value doubled to 16.&lt;/p&gt;</comment>
                            <comment id="13425468" author="traviscrawford" created="Tue, 31 Jul 2012 02:09:20 +0000"  >&lt;p&gt;I ran the full test suite (&lt;a href=&quot;https://travis.ci.cloudbees.com/job/HIVE-3318_moar_nesting/1/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;test report&lt;/a&gt;) increasing the number of separators to 16 and there were two failures:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_nulls&lt;/li&gt;
	&lt;li&gt;org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Neither look related to this change, and they still failed after reverting the change &amp;amp; rerunning just those tests. AFAICT increasing this constant is a safe thing to do.&lt;/p&gt;</comment>
                            <comment id="13472487" author="ashutoshc" created="Tue, 9 Oct 2012 15:50:50 +0000"  >&lt;p&gt;This needs a testcase. I will suggest to add one testcase for each of text, avro and thrift. Also, 16 sounds lower. Assuming its safe, we should bump it higher. 64? &lt;/p&gt;</comment>
                            <comment id="13472608" author="cconnell" created="Tue, 9 Oct 2012 18:23:52 +0000"  >&lt;p&gt;Test case of a large, deeply nested table definition. This is our real case that is failing.&lt;/p&gt;</comment>
                            <comment id="13489837" author="swarnim" created="Fri, 2 Nov 2012 23:28:28 +0000"  >&lt;p&gt;@Ashutosh - What I fail to understand is why do we have to hardcode this value? Instead why can&apos;t we go for a better solution where array can be dynamically resized based on requirement?&lt;/p&gt;</comment>
                            <comment id="13490281" author="mgrover" created="Sun, 4 Nov 2012 19:51:49 +0000"  >&lt;p&gt;+1 on Swarnim&apos;s comment.&lt;/p&gt;</comment>
                            <comment id="13490443" author="namit" created="Mon, 5 Nov 2012 04:07:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=swarnim&quot; class=&quot;user-hover&quot; rel=&quot;swarnim&quot;&gt;Swarnim Kulkarni&lt;/a&gt;, I agree with you that this needs a better, dynamic solution. But, dont you think we should get it in&lt;br/&gt;
to get a work-around for the current scenario, and then proceed for the general solution ?&lt;/p&gt;</comment>
                            <comment id="13681683" author="thejas" created="Wed, 12 Jun 2013 22:03:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3253&quot; title=&quot;ArrayIndexOutOfBounds exception for deeply nested structs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3253&quot;&gt;&lt;del&gt;HIVE-3253&lt;/del&gt;&lt;/a&gt;.2.patch &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;It increases the number of control charactors used by LazySimpleSerde, avoiding the chars that are likely to be present in data. Using new control chars is not backward compatible change, so you need to set the serde property hive.serialization.extend.nesting.levels to enable it for a table that is using LazySimpleSerde. If your input table has data that might contain these delimiter control chars, you should escape the delimiter chars, and set escape char using serde property.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Example :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create table nestedcomplex (
simple_int &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;,
max_nested_array  array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;array&amp;lt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;)
ROW FORMAT SERDE
  &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe&apos;&lt;/span&gt;
WITH SERDEPROPERTIES (  &lt;span class=&quot;code-quote&quot;&gt;&apos;hive.serialization.extend.nesting.levels&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;&lt;/span&gt;
)
;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;LazySimpleSerde is used by FileSyncOperator, that is why it was limited by the number of levels of nesting supported by the serde. We should look at using LazyBinarySerde here as it would be more efficient and can go beyond this nesting level restriction.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;LazySimpleSerde used in FileSyncOperator has escaping enabled, so it is safe to extend the levels of nesting using the new serde property for that use case.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The patch has fix to give better error message when the levels of nesting exceeds maximum supported levels (not an ArrayIndexOutOfBounds exception anymore)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13681686" author="thejas" created="Wed, 12 Jun 2013 22:08:57 +0000"  >&lt;p&gt;Note that with changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3253&quot; title=&quot;ArrayIndexOutOfBounds exception for deeply nested structs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3253&quot;&gt;&lt;del&gt;HIVE-3253&lt;/del&gt;&lt;/a&gt;.2.patch, the serde property has to be set to get extended nesting levels only if your tables are using the serde LazySimpleSerde . &lt;/p&gt;</comment>
                            <comment id="13681688" author="thejas" created="Wed, 12 Jun 2013 22:11:37 +0000"  >&lt;p&gt;Reviewboard link - &lt;a href=&quot;https://reviews.apache.org/r/11854/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/11854/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13686288" author="thejas" created="Tue, 18 Jun 2013 01:53:43 +0000"  >&lt;p&gt;Note that LazySimpleSerde is used by hive-server2 as the FetchTask serde (using hive.fetch.output.serde). So this would also increase the levels of nesting supported by hive server2.&lt;/p&gt;
</comment>
                            <comment id="13687145" author="ashutoshc" created="Tue, 18 Jun 2013 20:30:56 +0000"  >&lt;p&gt;Patch looks good. +1&lt;/p&gt;</comment>
                            <comment id="13688046" author="ashutoshc" created="Wed, 19 Jun 2013 14:51:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Can you also test your patch through 0.23 profile? There are quite a few updates in .q.out files and we have tests which run only on 0.23 profile. If they didn&apos;t get updated for new property, they will be broken again. &lt;/p&gt;</comment>
                            <comment id="13689505" author="thejas" created="Thu, 20 Jun 2013 18:40:48 +0000"  >&lt;p&gt;Running tests with hadoop.mr.rev=23 . Will update the jira once tests are done.&lt;/p&gt;</comment>
                            <comment id="13698212" author="thejas" created="Tue, 2 Jul 2013 20:45:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3253&quot; title=&quot;ArrayIndexOutOfBounds exception for deeply nested structs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3253&quot;&gt;&lt;del&gt;HIVE-3253&lt;/del&gt;&lt;/a&gt;.3.patch - includes 0.23 .q.out file changes, also ran with default to check if any other newly added tests need to be updated.&lt;/p&gt;</comment>
                            <comment id="13698371" author="ashutoshc" created="Tue, 2 Jul 2013 23:09:45 +0000"  >&lt;p&gt;Quite a big patch : ) Can you also update RB entry?&lt;/p&gt;</comment>
                            <comment id="13698411" author="thejas" created="Tue, 2 Jul 2013 23:52:13 +0000"  >&lt;p&gt;Sorry about that, update RB link as well. &lt;br/&gt;
The new patch just has additional .q.out changes.&lt;/p&gt;</comment>
                            <comment id="13698446" author="ashutoshc" created="Wed, 3 Jul 2013 00:36:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13699103" author="ashutoshc" created="Wed, 3 Jul 2013 15:53:46 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Thejas!&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Can you also update the release notes on jira for this since its an user facing change.&lt;/p&gt;</comment>
                            <comment id="13699113" author="hudson" created="Wed, 3 Jul 2013 16:02:10 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #2177 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2177/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2177/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3253&quot; title=&quot;ArrayIndexOutOfBounds exception for deeply nested structs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3253&quot;&gt;&lt;del&gt;HIVE-3253&lt;/del&gt;&lt;/a&gt; : ArrayIndexOutOfBounds exception for deeply nested structs (Thejas Nair via Ashutosh Chauhan) (Revision 1499450)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1499450&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1499450&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/nested_complex.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/org/apache/hadoop/hive/hbase/TestLazyHBaseObject.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/PlanUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/nested_complex_neg.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/nested_complex.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/nested_complex_neg.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_partition_coltype.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/columnstats_partlvl.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/columnstats_tbllvl.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/combine2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/combine2_hadoop20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/filter_join_breaktask.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_skew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input23.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input42.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/louter_join_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/macro.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/nested_complex.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/outer_join_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/pcr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_join_filter.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppr_allchildsarenull.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rand_partitionpruner1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rand_partitionpruner3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/regexp_extract.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/router_join_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_15.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/transform_ppr1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/transform_ppr2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/truncate_column_list_bucket.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_explode.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_java_method.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_reflect.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_reflect2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udtf_explode.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union24.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/cast1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input20.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input8.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_part1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testxpath.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testxpath2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join8.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf_case.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf_when.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazySimpleSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/lazy/TestLazyArrayMapStruct.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13699422" author="thejas" created="Wed, 3 Jul 2013 20:51:22 +0000"  >&lt;p&gt;Adding release note.&lt;/p&gt;</comment>
                            <comment id="13699750" author="hudson" created="Thu, 4 Jul 2013 04:10:44 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #270 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/270/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/270/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3253&quot; title=&quot;ArrayIndexOutOfBounds exception for deeply nested structs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3253&quot;&gt;&lt;del&gt;HIVE-3253&lt;/del&gt;&lt;/a&gt; : ArrayIndexOutOfBounds exception for deeply nested structs (Thejas Nair via Ashutosh Chauhan) (Revision 1499450)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1499450&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1499450&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/nested_complex.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/org/apache/hadoop/hive/hbase/TestLazyHBaseObject.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/PlanUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/nested_complex_neg.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/nested_complex.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/nested_complex_neg.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_partition_coltype.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/auto_sortmerge_join_8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_map_join_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketcontext_8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucketmapjoin_negative3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/columnstats_partlvl.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/columnstats_tbllvl.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/combine2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/combine2_hadoop20.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/filter_join_breaktask.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby_sort_skew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input23.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input42.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_part9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_filters_overlap.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_11.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_12.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_4.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_dml_9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_multiskew_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/list_bucket_query_oneskew_3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/louter_join_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/macro.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/metadataonly1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/nested_complex.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/outer_join_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/pcr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_join_filter.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppd_union_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ppr_allchildsarenull.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rand_partitionpruner1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rand_partitionpruner3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/regexp_extract.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/router_join_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample8.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin9.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_13.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/smb_mapjoin_15.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_5.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_6.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sort_merge_join_desc_7.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/transform_ppr1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/transform_ppr2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/truncate_column_list_bucket.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_explode.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_java_method.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_reflect.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_reflect2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udtf_explode.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union24.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_ppr.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/cast1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby3.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/groupby6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input20.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input8.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_part1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testxpath.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/input_testxpath2.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join5.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join7.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/join8.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/sample1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf1.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf4.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf6.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf_case.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/compiler/plan/udf_when.q.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazySimpleSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/lazy/TestLazyArrayMapStruct.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13796196" author="ashutoshc" created="Tue, 15 Oct 2013 23:31:43 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12647939">HIVE-4571</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12770754">HIVE-9500</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12587513" name="HIVE-3253.2.patch" size="142309" author="thejas" created="Wed, 12 Jun 2013 22:03:06 +0000"/>
                            <attachment id="12590506" name="HIVE-3253.3.patch" size="162037" author="thejas" created="Tue, 2 Jul 2013 20:45:54 +0000"/>
                            <attachment id="12538485" name="HIVE-3253_moar_nesting.1.patch" size="886" author="traviscrawford" created="Tue, 31 Jul 2012 02:12:46 +0000"/>
                            <attachment id="12548436" name="jsonout.hive" size="16861" author="cconnell" created="Tue, 9 Oct 2012 18:23:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 Jul 2012 16:51:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>246178</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07hyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This change increases the number of levels of nesting supported in hive select queries. The limitation in the serialization format used by File Output Operator for these queries (LazySimpleSerde) was restricted the number of levels of nesting to 8 earlier, this has now been extended to 24.  This extended levels of nesting is turned on by default.&lt;br/&gt;
&lt;br/&gt;
This change also improves the number of levels of nesting that you can use with tables that use LazySimpleSerde. It uses additional control charactors as delimiters. This means that your data should not have these charactors or you need to escape these charactors. As this change introduces a new requirement for the way data has been written, this is not backward compatible. Hence this is not enabled by default. To enabled this, you need to set the serde property hive.serialization.extend.nesting.levels to true.&lt;br/&gt;
&lt;br/&gt;
Look at &amp;#39;ESCAPED BY&amp;#39; documentation for create-table, to learn how to enable escaping of the delimiter charactors. &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL&lt;/a&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3254] Reuse RunningJob </title>
                <link>https://issues.apache.org/jira/browse/HIVE-3254</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;  private MapRedStats progress(ExecDriverTaskHandle th) throws IOException {&lt;/p&gt;

&lt;p&gt;    while (!rj.isComplete()) {&lt;br/&gt;
       try &lt;/p&gt;
{
         Thread.sleep(pullInterval); 
       }
&lt;p&gt; catch (InterruptedException e) { &lt;br/&gt;
       } &lt;br/&gt;
       RunningJob newRj = jc.getJob(rj.getJobID());&lt;br/&gt;
    }&lt;br/&gt;
  }&lt;br/&gt;
Should we reuse the RunningJob? If not, why? &lt;/p&gt;</description>
                <environment></environment>
        <key id="12598569">HIVE-3254</key>
            <summary>Reuse RunningJob </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aoxiang">binlijin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jul 2012 15:05:09 +0000</created>
                <updated>Sun, 29 Jul 2012 15:28:44 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13424569" author="lianhuiwang" created="Sun, 29 Jul 2012 15:28:43 +0000"  >&lt;p&gt;yes, i think that can do.&lt;br/&gt;
but maybe the newRj is null.so you must check the null.&lt;br/&gt;
because the jobtracker always cache the fixed-size completed job&apos;s infos.&lt;br/&gt;
if the job that you get have completed,maybe the JT removed the job&apos;s information.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 29 Jul 2012 15:28:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259146</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 26 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124393</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3255] Add DBTokenStore to store Delegation Tokens in DB</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3255</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Before &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1696&quot; title=&quot;Add delegation token support to metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1696&quot;&gt;&lt;del&gt;HIVE-1696&lt;/del&gt;&lt;/a&gt; metastore was completely stateless and all the data is in backend db. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1696&quot; title=&quot;Add delegation token support to metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1696&quot;&gt;&lt;del&gt;HIVE-1696&lt;/del&gt;&lt;/a&gt; added delegation tokens for metastore which metastore needs to keep in memory. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2467&quot; title=&quot;HA Support for Metastore Server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2467&quot;&gt;&lt;del&gt;HIVE-2467&lt;/del&gt;&lt;/a&gt; added support for storing delegation tokens in ZooKeeper via an interface &lt;tt&gt;DelegationTokenStore&lt;/tt&gt;. This jira is about using DB backend for storing tokens which metastore uses for storing data. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12598632">HIVE-3255</key>
            <summary>Add DBTokenStore to store Delegation Tokens in DB</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jul 2012 21:38:17 +0000</created>
                <updated>Tue, 20 Dec 2016 19:24:55 +0000</updated>
                            <resolved>Sun, 28 Jul 2013 01:48:50 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Metastore</component>
                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13413327" author="ashutoshc" created="Thu, 12 Jul 2012 23:38:55 +0000"  >&lt;p&gt;A WIP patch is available for review on &lt;a href=&quot;https://reviews.facebook.net/D4113&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4113&lt;/a&gt; in case some one wants to provide a feedback on design. Some function bodies are not done yet, but those are mostly self contained and shouldn&apos;t hinder in design review.&lt;/p&gt;</comment>
                            <comment id="13479427" author="ashutoshc" created="Thu, 18 Oct 2012 22:30:31 +0000"  >&lt;p&gt;Updating with complete patch. Patch is ready for review.&lt;/p&gt;</comment>
                            <comment id="13492874" author="ashutoshc" created="Thu, 8 Nov 2012 01:18:16 +0000"  >&lt;p&gt;Review request at &lt;a href=&quot;https://reviews.apache.org/r/7941/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/7941/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13495721" author="ashutoshc" created="Mon, 12 Nov 2012 22:53:02 +0000"  >&lt;p&gt;Updated patch on latest trunk.&lt;/p&gt;</comment>
                            <comment id="13498385" author="ashutoshc" created="Thu, 15 Nov 2012 22:07:24 +0000"  >&lt;p&gt;Updated patch incorporating Mark and Prasad&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13498571" author="mgrover" created="Fri, 16 Nov 2012 03:26:18 +0000"  >&lt;p&gt;Looks good to me (non-committer). Thanks Ashutosh!&lt;/p&gt;</comment>
                            <comment id="13510032" author="ashutoshc" created="Tue, 4 Dec 2012 21:14:42 +0000"  >&lt;p&gt;Patch refreshed for latest trunk. Really appreciate if some committer can take a look.&lt;/p&gt;</comment>
                            <comment id="13536820" author="arpitgupta" created="Thu, 20 Dec 2012 06:35:08 +0000"  >&lt;p&gt;I tested this patch out on a cluster running Hive. &lt;/p&gt;


&lt;p&gt;Ran a pig script that used hcat loader to read data from a partitioned table, processed it and then stored the partitioned results in another table.&lt;/p&gt;

&lt;p&gt;Hive metastore service was restarted as the data was being read and processed but before the data was stored in the table. The tests passed on the cluster when the following config was present on the server&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;property&amp;gt;
  &amp;lt;name&amp;gt;hive.cluster.delegation.token.store.&lt;span class=&quot;code-keyword&quot;&gt;class&amp;&lt;/span&gt;lt;/name&amp;gt;
  &amp;lt;value&amp;gt;org.apache.hadoop.hive.thrift.DBTokenStore&amp;lt;/value&amp;gt;
&amp;lt;/property&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;When i ran the same test on a metastore which did not have this enabled the test failed as expected.&lt;/p&gt;</comment>
                            <comment id="13657401" author="deepesh" created="Tue, 14 May 2013 19:18:39 +0000"  >&lt;p&gt;The patch would have issues on Postgres 8.4 as &quot;CREATE IF NOT EXISTS&quot; is not supported prior to Postgres 9.1. Attaching the patch which changes the &quot;CREATE IF NOT EXISTS&quot; to simply &quot;CREATE&quot;. This is consistent with other CREATE calls in the postgres sql files.&lt;/p&gt;</comment>
                            <comment id="13721423" author="ashutoshc" created="Sat, 27 Jul 2013 00:17:04 +0000"  >&lt;p&gt;Thanks Deepesh for the feedback. Incorporated it. Updated patch rebased on trunk.&lt;/p&gt;</comment>
                            <comment id="13721479" author="hagleitn" created="Sat, 27 Jul 2013 01:32:46 +0000"  >&lt;p&gt;+1 looks good. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13721577" author="hagleitn" created="Sat, 27 Jul 2013 08:37:29 +0000"  >&lt;p&gt;Re-uploading Ashutosh&apos; patch with different name to trigger pre-commit build. (.6 not _6)&lt;/p&gt;</comment>
                            <comment id="13721617" author="hiveqa" created="Sat, 27 Jul 2013 12:45:37 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594528/HIVE-3255.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594528/HIVE-3255.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 2646 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/207/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/207/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/207/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/207/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13721819" author="hagleitn" created="Sun, 28 Jul 2013 01:47:50 +0000"  >&lt;p&gt;Committed to trunk. Thanks Ashutosh and Deepesh!&lt;/p&gt;</comment>
                            <comment id="13795802" author="ashutoshc" created="Tue, 15 Oct 2013 23:28:44 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12476697">HIVE-1696</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12524585">HIVE-2467</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12661200">HIVE-4976</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12594528" name="HIVE-3255.6.patch" size="156192" author="hagleitn" created="Sat, 27 Jul 2013 08:37:29 +0000"/>
                            <attachment id="12594487" name="HIVE-3255_6.patch" size="156192" author="ashutoshc" created="Sat, 27 Jul 2013 00:17:04 +0000"/>
                            <attachment id="12549772" name="hive-3255.patch" size="28525" author="ashutoshc" created="Thu, 18 Oct 2012 22:30:31 +0000"/>
                            <attachment id="12553216" name="hive-3255_2.patch" size="35358" author="ashutoshc" created="Mon, 12 Nov 2012 22:53:02 +0000"/>
                            <attachment id="12553702" name="hive-3255_3.patch" size="37190" author="ashutoshc" created="Thu, 15 Nov 2012 22:07:24 +0000"/>
                            <attachment id="12555988" name="hive-3255_4.patch" size="38310" author="ashutoshc" created="Tue, 4 Dec 2012 21:14:42 +0000"/>
                            <attachment id="12583188" name="hive-3255_5.patch" size="39295" author="deepesh" created="Tue, 14 May 2013 19:19:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 16 Nov 2012 03:26:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>245460</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06amf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34652</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3256] Update asm version in Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3256</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive trunk are currently using asm version 3.1, Hadoop trunk are on 3.2. Any&lt;br/&gt;
objections to bumping the Hive version to 3.2 to be inline with Hadoop&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598658">HIVE-3256</key>
            <summary>Update asm version in Hive</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="zhenxiao">Zhenxiao Luo</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jul 2012 03:51:10 +0000</created>
                <updated>Tue, 15 Oct 2013 23:30:08 +0000</updated>
                            <resolved>Tue, 30 Jul 2013 16:05:39 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13419445" author="zhenxiao" created="Fri, 20 Jul 2012 19:00:27 +0000"  >&lt;p&gt;asm dependency only appears in metastore/ivy.xml&lt;/p&gt;

&lt;p&gt;DataNucleus Enhancer has a compile time dependency on asm(Hive runs the  enhancer at compile time in order to &quot;enhance&quot; the modeled objects that get stored in the Metastore database).&lt;/p&gt;

&lt;p&gt;we should exclude the asm JAR from Hive packages since it&apos;s not a runtime dependency.&lt;/p&gt;</comment>
                            <comment id="13419619" author="appodictic" created="Fri, 20 Jul 2012 22:07:38 +0000"  >&lt;p&gt;The last time we tried to upgrade the datanucleas jars we had a slew of problems and had to roll it back. So leaving it and DN at the current version and just using it at build time seems like a good option.&lt;/p&gt;</comment>
                            <comment id="13722245" author="andy" created="Mon, 29 Jul 2013 08:08:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3632&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3632&lt;/a&gt; upgraded Hive to use DN 3.2.x. This comes with its own repackaged ASM internally so you don&apos;t need any ASM for DataNucleus any longer. Consequently any DN-utilising system can use whichever version of ASM it requires&lt;/p&gt;</comment>
                            <comment id="13722646" author="ashutoshc" created="Mon, 29 Jul 2013 17:11:41 +0000"  >&lt;p&gt;Thanks, Andy for the update. I think we can now remove asm dependency from hive build altogether then. I dont think we use it anywhere else.&lt;/p&gt;</comment>
                            <comment id="13722664" author="ashutoshc" created="Mon, 29 Jul 2013 17:23:00 +0000"  >&lt;p&gt;Straight fwd patch.&lt;/p&gt;</comment>
                            <comment id="13722685" author="brocknoland" created="Mon, 29 Jul 2013 17:30:16 +0000"  >&lt;p&gt;+1 assuming tests pass&lt;/p&gt;</comment>
                            <comment id="13723325" author="hiveqa" created="Tue, 30 Jul 2013 03:01:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594735/HIVE-3256.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594735/HIVE-3256.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/223/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/223/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/223/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/223/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Tests failed with: ExecutionException: java.util.concurrent.ExecutionException: java.lang.IllegalArgumentException: resource batch-exec.vm not found.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13723567" author="hiveqa" created="Tue, 30 Jul 2013 08:26:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12594735/HIVE-3256.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12594735/HIVE-3256.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2736 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_serde_user_properties
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/233/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/233/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/233/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/233/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13723833" author="brocknoland" created="Tue, 30 Jul 2013 13:10:11 +0000"  >&lt;p&gt;Test failed due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4955&quot; title=&quot;serde_user_properties.q.out needs to be updated&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4955&quot;&gt;&lt;del&gt;HIVE-4955&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13724001" author="brocknoland" created="Tue, 30 Jul 2013 16:05:39 +0000"  >&lt;p&gt;Thank you for the contribution Ashutosh! I have committed this to trunk.&lt;/p&gt;</comment>
                            <comment id="13724321" author="hudson" created="Tue, 30 Jul 2013 19:52:37 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #37 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/37/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/37/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3256&quot; title=&quot;Update asm version in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3256&quot;&gt;&lt;del&gt;HIVE-3256&lt;/del&gt;&lt;/a&gt;: Update asm version in Hive (Ashutosh Chauhan via Brock Noland) (brock: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508506&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508506&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/ivy.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13724416" author="hudson" created="Tue, 30 Jul 2013 20:59:46 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-hadoop1-ptest #109 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/109/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3256&quot; title=&quot;Update asm version in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3256&quot;&gt;&lt;del&gt;HIVE-3256&lt;/del&gt;&lt;/a&gt;: Update asm version in Hive (Ashutosh Chauhan via Brock Noland) (brock: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508506&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508506&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/ivy.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13724710" author="appodictic" created="Wed, 31 Jul 2013 01:17:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; Can you please address &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4962&quot; title=&quot;fix eclipse template broken by HIVE-3256&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4962&quot;&gt;&lt;del&gt;HIVE-4962&lt;/del&gt;&lt;/a&gt; as well. No big thing. I sometimes forget the eclipse templates are there as well.&lt;/p&gt;</comment>
                            <comment id="13725328" author="hudson" created="Wed, 31 Jul 2013 15:17:33 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2234 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2234/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2234/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3256&quot; title=&quot;Update asm version in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3256&quot;&gt;&lt;del&gt;HIVE-3256&lt;/del&gt;&lt;/a&gt;: Update asm version in Hive (Ashutosh Chauhan via Brock Noland) (brock: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508506&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508506&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/ivy.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13726133" author="hudson" created="Thu, 1 Aug 2013 06:48:53 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop2 #319 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/319/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/319/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3256&quot; title=&quot;Update asm version in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3256&quot;&gt;&lt;del&gt;HIVE-3256&lt;/del&gt;&lt;/a&gt;: Update asm version in Hive (Ashutosh Chauhan via Brock Noland) (brock: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508506&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508506&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/ivy.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795977" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:08 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12660833">HIVE-4962</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12594735" name="HIVE-3256.patch" size="860" author="ashutoshc" created="Mon, 29 Jul 2013 17:23:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Jul 2012 22:07:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259147</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124394</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3257] Fix avro_joins.q testcase failure when building hive on hadoop0.23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3257</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;avro_joins.q is failing when building hive on hadoop0.23 for both MR1 and MR2. It has an execution exception:&lt;/p&gt;

&lt;p&gt;This query fails when execution:&lt;/p&gt;

&lt;p&gt;SELECT e.title, e.air_date, d.first_name, d.last_name, d.extra_field, e.air_date&lt;br/&gt;
FROM doctors4 d JOIN episodes e ON (d.number=e.doctor)&lt;br/&gt;
ORDER BY d.last_name, e.title&lt;/p&gt;


&lt;p&gt;Execution failed with exit status: 2&lt;br/&gt;
Obtaining error information&lt;br/&gt;
Task failed!&lt;br/&gt;
Task ID:&lt;br/&gt;
Stage-1&lt;br/&gt;
Logs:&lt;br/&gt;
/home/cloudera/Code/hive/build/ql/tmp//hive.log&lt;br/&gt;
FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.MapRedTask&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12598782">HIVE-3257</key>
            <summary>Fix avro_joins.q testcase failure when building hive on hadoop0.23</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="zhenxiao">Zhenxiao Luo</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Jul 2012 00:32:00 +0000</created>
                <updated>Thu, 2 May 2013 02:30:55 +0000</updated>
                            <resolved>Sat, 14 Jul 2012 12:53:57 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13414212" author="zhenxiao" created="Sat, 14 Jul 2012 00:40:38 +0000"  >&lt;p&gt;The problem is in&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroGenericRecordReader.java:&lt;/p&gt;

&lt;p&gt;in getSchema(), the FileSplit does not have the scheme part of path URI, in this case, &quot;pfile:&quot;.&lt;/p&gt;

&lt;p&gt;The matching function pathIsInPartition() is checking whether the split starts with patitionPath.&lt;/p&gt;

&lt;p&gt;In hadoop0.23, partitionPath still holds pfile: prefix, while, FileSplit does not. So, pathIsInPartition() returns false.&lt;/p&gt;

&lt;p&gt;In hadoop0.20, both partitionPath and FileSplit hold pfile: prefix. So, pathIsInPartition() returns true.&lt;/p&gt;

&lt;p&gt;The root of the problem is in:&lt;br/&gt;
shims/src/common-secure/java/org/apache/hadoop/hive/shims/HadoopShimsSecure.java&lt;br/&gt;
ql/src/java/org/apache/hadoop/hive/ql/io/CombineHiveInputFormat.java&lt;/p&gt;

&lt;p&gt;In getSplits(), hadoop0.23  removes scheme part of path URI in the CombineFileInputFormat, in this case &quot;pfile:&quot;. This diffs from hadoop0.20 behavior. &lt;/p&gt;

&lt;p&gt;The same problem happens in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2737&quot; title=&quot;CombineFileInputFormat fails if mapred.job.tracker is set to local with a sub-query&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2737&quot;&gt;HIVE-2737&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2778&quot; title=&quot;Fail on table sampling &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2778&quot;&gt;&lt;del&gt;HIVE-2778&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2784&quot; title=&quot;Integrating with MapReduce2 get NPE throwed when executing a query with a &amp;quot;TABLESAMPLE(x percent)&amp;quot; clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2784&quot;&gt;&lt;del&gt;HIVE-2784&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We already committed patches, which have workaround including checking whether the path is schemeless or not.&lt;/p&gt;

&lt;p&gt;Will do the same thing for this AvroGenericRecordReader&lt;/p&gt;</comment>
                            <comment id="13414215" author="zhenxiao" created="Sat, 14 Jul 2012 00:46:32 +0000"  >&lt;p&gt;Review request submitted at:&lt;br/&gt;
&lt;a href=&quot;https://reviews.facebook.net/D4131&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4131&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13414380" author="appodictic" created="Sat, 14 Jul 2012 12:25:26 +0000"  >&lt;p&gt;+1 will test and commit.&lt;/p&gt;</comment>
                            <comment id="13414388" author="appodictic" created="Sat, 14 Jul 2012 12:46:54 +0000"  >&lt;p&gt;Tests pass&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[edward@tablitha trunk]$ ant test -Dtestcase=TestCliDriver -Dqfile=avro_joins.q,avro_change_schema.q,avro_sanity_test.q,avro_schema_literal.q
    [junit] Done query: avro_schema_literal.q elapsedTime=0s
    [junit] Cleaning up TestCliDriver
    [junit] Tests run: 5, Failures: 0, Errors: 0, Time elapsed: 34.706 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="13414393" author="appodictic" created="Sat, 14 Jul 2012 12:53:57 +0000"  >&lt;p&gt;Committed. Thanks Zhenxiao.&lt;/p&gt;</comment>
                            <comment id="13414462" author="hudson" created="Sat, 14 Jul 2012 17:52:31 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1541 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1541/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1541/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3257&quot; title=&quot;Fix avro_joins.q testcase failure when building hive on hadoop0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3257&quot;&gt;&lt;del&gt;HIVE-3257&lt;/del&gt;&lt;/a&gt; Fix avro_joins.q testcase failure when building hive on hadoop0.23. Zhenxiao Luo (via egc) (Revision 1361537)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1361537&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1361537&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroGenericRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548333" author="hudson" created="Wed, 9 Jan 2013 10:25:19 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3257&quot; title=&quot;Fix avro_joins.q testcase failure when building hive on hadoop0.23&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3257&quot;&gt;&lt;del&gt;HIVE-3257&lt;/del&gt;&lt;/a&gt; Fix avro_joins.q testcase failure when building hive on hadoop0.23. Zhenxiao Luo (via egc) (Revision 1361537)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1361537&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1361537&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/avro/AvroGenericRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550103" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:23 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12539495">HIVE-2737</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12541728">HIVE-2784</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12541359">HIVE-2778</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12600246">HIVE-3301</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12614451">HIVE-3651</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12536487" name="HIVE-3257.1.patch.txt" size="1450" author="zhenxiao" created="Sat, 14 Jul 2012 00:46:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 14 Jul 2012 12:25:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02u73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14493</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3258] make a longtest sub ant</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3258</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The unit tests take quite some time to run. The majority of them are unit tests for UDF not like CASE or IF but ones that do not affect hive deeply. Other tests are around serdes and input formats that are abstracted away from the main hive code. We should commission a longtest sub ant and move the majority of non critical things to it. This ways devs can get good coverage on important changes without running a battery of tests that are mostly testing coverage on themselves.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598806">HIVE-3258</key>
            <summary>make a longtest sub ant</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Jul 2012 12:38:10 +0000</created>
                <updated>Sat, 14 Jul 2012 12:38:10 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259148</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 28 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124395</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3259] public Table getTable(String dbName, String tableName) throws MetaException Shoule log more detail content when exception happens</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3259</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;    public Table get_table(final String dbname, final String name) throws MetaException,&lt;br/&gt;
        NoSuchObjectException {&lt;br/&gt;
      Table t = null;&lt;br/&gt;
      startTableFunction(&quot;get_table&quot;, dbname, name);&lt;br/&gt;
      try {&lt;br/&gt;
        t = executeWithRetry(new Command&amp;lt;Table&amp;gt;() {&lt;br/&gt;
          @Override&lt;br/&gt;
          Table run(RawStore ms) throws Exception {&lt;br/&gt;
            Table t = ms.getTable(dbname, name);&lt;br/&gt;
            if (t == null) &lt;/p&gt;
{
              throw new NoSuchObjectException(dbname + &quot;.&quot; + name
                  + &quot; table not found&quot;);
            }
&lt;p&gt;            return t;&lt;br/&gt;
          }&lt;br/&gt;
        });&lt;br/&gt;
      } catch (NoSuchObjectException e) &lt;/p&gt;
{
        throw e;
      } catch (MetaException e) {        throw e;      }
&lt;p&gt; catch (Exception e) &lt;/p&gt;
{
        assert(e instanceof RuntimeException);
        throw (RuntimeException)e;
      }
&lt;p&gt; finally &lt;/p&gt;
{
        endFunction(&quot;get_table&quot;);
      }
&lt;p&gt;      return t;&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;when  Table t = ms.getTable(dbname, name); returns null, it just throw a exception, but why ? we cannot get any useful information from this exception info, so I suggest log the exception information when ms.getTable(dbname, name) really throw some exception. &lt;/p&gt;</description>
                <environment>&lt;p&gt;CDH3u4 Hive 0.8&lt;/p&gt;</environment>
        <key id="12598868">HIVE-3259</key>
            <summary>public Table getTable(String dbName, String tableName) throws MetaException Shoule log more detail content when exception happens</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cnweike">cnweike</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jul 2012 01:58:49 +0000</created>
                <updated>Mon, 16 Jul 2012 01:58:49 +0000</updated>
                                            <version>0.8.0</version>
                                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="1814400">504h</timeoriginalestimate>
                            <timeestimate seconds="1814400">504h</timeestimate>
                                                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259149</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124396</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3260] support bucketed mapjoin where the small table has different number of buckets for different partitons</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3260</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Consider the following scenario:&lt;/p&gt;

&lt;p&gt;A (1 partition) join B (2 partitions)&lt;/p&gt;

&lt;p&gt;A has 2 buckets, whereas B has 2 and 4 buckets for different partitions.&lt;/p&gt;

&lt;p&gt;The bucketed mapjoin should still work.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598923">HIVE-3260</key>
            <summary>support bucketed mapjoin where the small table has different number of buckets for different partitons</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jul 2012 07:02:15 +0000</created>
                <updated>Mon, 16 Jul 2012 11:15:24 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13414916" author="navis" created="Mon, 16 Jul 2012 08:04:59 +0000"  >&lt;p&gt;I couldn&apos;t find ddl for creating partition with bucket number.&lt;/p&gt;

&lt;p&gt;From org.apache.hadoop.hive.ql.metadata.Partition&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/**
   * The number of buckets is a property of the partition. However - internally
   * we are just storing it as a property of the table as a &lt;span class=&quot;code-object&quot;&gt;short&lt;/span&gt; term measure.
   */
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getBucketCount() {
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; table.getNumBuckets();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Does this mean that it&apos;s not possible?&lt;/p&gt;</comment>
                            <comment id="13414958" author="namit" created="Mon, 16 Jul 2012 09:39:48 +0000"  >&lt;p&gt;I agree - there is a alter table command&lt;/p&gt;


&lt;p&gt;alter TABLE &amp;lt;TBL_NAME&amp;gt; CLUSTERED BY (&amp;lt;COLS&amp;gt;) INTO &amp;lt;n&amp;gt; BUCKETS;&lt;/p&gt;

&lt;p&gt;But, the partition number of buckets are not used anywhere.&lt;/p&gt;

&lt;p&gt;Should we just disallow alter table number of buckets in strict mode if there are some partitions present in the table ?&lt;/p&gt;</comment>
                            <comment id="13414970" author="namit" created="Mon, 16 Jul 2012 09:58:35 +0000"  >&lt;p&gt;The correct fix would be &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3261&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3261&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13414980" author="navis" created="Mon, 16 Jul 2012 10:21:49 +0000"  >&lt;p&gt;It is right thing which should be done. &lt;/p&gt;

&lt;p&gt;But why not support buckets per partition? Would it be enough to change the code above to &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; bucketNum = sd.getNumBuckets();
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; bucketNum &amp;lt; 0 ? table.getNumBuckets() : bucketNum;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and add some DDL syntax for partition?&lt;/p&gt;</comment>
                            <comment id="13415004" author="namit" created="Mon, 16 Jul 2012 11:15:15 +0000"  >&lt;p&gt;I agree - this code is not the difficult part.&lt;/p&gt;

&lt;p&gt;But, we need to make sure everywhere partition metadata is getting used, like in sampling etc.&lt;/p&gt;

&lt;p&gt;Let us defer it for now, and get back to it later.&lt;br/&gt;
Do you want to open the jira for now ?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12596234">HIVE-3210</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Jul 2012 08:04:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259150</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 28 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124397</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3261] alter the number of buckets for a non-empty partitioned table should not be allowed</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3261</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is dangerous since the code uses the table metadata everywhere to get the number of buckets&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598937">HIVE-3261</key>
            <summary>alter the number of buckets for a non-empty partitioned table should not be allowed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                            <label>bucketing</label>
                    </labels>
                <created>Mon, 16 Jul 2012 09:43:25 +0000</created>
                <updated>Thu, 10 Jan 2013 19:54:11 +0000</updated>
                            <resolved>Mon, 23 Jul 2012 21:58:52 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13415014" author="namit" created="Mon, 16 Jul 2012 11:31:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D4143&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4143&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13418550" author="kevinwilfong" created="Thu, 19 Jul 2012 18:34:52 +0000"  >&lt;p&gt;This seems ok for now, but could you file a follow up task to use partition metadata instead of table metadata wherever bucketing information is used, and mention that the error message added by this JIRA can be removed once that is done.&lt;/p&gt;

&lt;p&gt;One small comment on the diff.&lt;/p&gt;</comment>
                            <comment id="13418580" author="cwsteinbach" created="Thu, 19 Jul 2012 19:00:17 +0000"  >&lt;p&gt;@Namit: I also added a small comment on phabricator. Thanks.&lt;/p&gt;</comment>
                            <comment id="13418914" author="namit" created="Fri, 20 Jul 2012 04:22:44 +0000"  >&lt;p&gt;comments addressed&lt;/p&gt;</comment>
                            <comment id="13419348" author="kevinwilfong" created="Fri, 20 Jul 2012 17:03:20 +0000"  >&lt;p&gt;+1 running tests&lt;/p&gt;</comment>
                            <comment id="13419706" author="kevinwilfong" created="Sat, 21 Jul 2012 00:34:46 +0000"  >&lt;p&gt;Saw some test failures, e.g. TestCliDriver bucket_groupby.q&lt;/p&gt;</comment>
                            <comment id="13419997" author="namit" created="Sun, 22 Jul 2012 00:28:52 +0000"  >&lt;p&gt;The tests have been fixed&lt;/p&gt;</comment>
                            <comment id="13420987" author="kevinwilfong" created="Mon, 23 Jul 2012 21:58:52 +0000"  >&lt;p&gt;Committed, thanks Namit.&lt;/p&gt;</comment>
                            <comment id="13421062" author="hudson" created="Tue, 24 Jul 2012 00:38:39 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1562 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1562/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1562/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3261&quot; title=&quot;alter the number of buckets for a non-empty partitioned table should not be allowed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3261&quot;&gt;&lt;del&gt;HIVE-3261&lt;/del&gt;&lt;/a&gt;. alter the number of buckets for a non-empty partitioned table should not be allowed. (njain via kevinwilfong) (Revision 1364815)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1364815&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1364815&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_numbuckets_partitioned_table.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucket_groupby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/exim_04_evolved_parts.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_numbuckets_partitioned_table.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_groupby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548079" author="hudson" created="Wed, 9 Jan 2013 10:24:18 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3261&quot; title=&quot;alter the number of buckets for a non-empty partitioned table should not be allowed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3261&quot;&gt;&lt;del&gt;HIVE-3261&lt;/del&gt;&lt;/a&gt;. alter the number of buckets for a non-empty partitioned table should not be allowed. (njain via kevinwilfong) (Revision 1364815)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1364815&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1364815&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/alter_numbuckets_partitioned_table.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/bucket_groupby.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/exim_04_evolved_parts.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/alter_numbuckets_partitioned_table.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/bucket_groupby.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/exim_04_evolved_parts.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550305" author="ashutoshc" created="Thu, 10 Jan 2013 19:54:11 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12599574">HIVE-3283</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 Jul 2012 18:34:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259151</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124398</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3262] bucketed mapjoin silently ignores mapjoin hint</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3262</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If the bucketed mapjoin is not performed, it is silently ignored.&lt;/p&gt;

&lt;p&gt;Atleast under strict mode, it should lead to an error.&lt;br/&gt;
Would wait for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3210&quot; title=&quot;Support Bucketed mapjoin on partitioned table which has two or more partitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3210&quot;&gt;&lt;del&gt;HIVE-3210&lt;/del&gt;&lt;/a&gt; before working on this.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598947">HIVE-3262</key>
            <summary>bucketed mapjoin silently ignores mapjoin hint</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="namit">Namit Jain</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jul 2012 11:16:53 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:17 +0000</updated>
                            <resolved>Thu, 2 Aug 2012 01:51:37 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Configuration</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13416027" author="namit" created="Tue, 17 Jul 2012 09:07:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D4179&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4179&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13416521" author="cwsteinbach" created="Tue, 17 Jul 2012 19:36:25 +0000"  >&lt;p&gt;@Namit: I left some comments on phabricator. Thanks.&lt;/p&gt;</comment>
                            <comment id="13416903" author="namit" created="Wed, 18 Jul 2012 06:32:54 +0000"  >&lt;p&gt;comments&lt;/p&gt;</comment>
                            <comment id="13422807" author="kevinwilfong" created="Thu, 26 Jul 2012 01:23:51 +0000"  >&lt;p&gt;+1 running tests&lt;/p&gt;</comment>
                            <comment id="13422824" author="cwsteinbach" created="Thu, 26 Jul 2012 01:44:46 +0000"  >&lt;p&gt;@Kevin: Canceling this patch too. I&apos;m not really sure why you need to +1 both this and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3289&quot; title=&quot;sort merge join may not work silently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3289&quot;&gt;&lt;del&gt;HIVE-3289&lt;/del&gt;&lt;/a&gt; since apparently the patch (which is not attached here!) has been combined with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3289&quot; title=&quot;sort merge join may not work silently&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3289&quot;&gt;&lt;del&gt;HIVE-3289&lt;/del&gt;&lt;/a&gt;. There should be a 1:1 correspondence between committed patches and &quot;Fixed&quot; JIRA tickets.&lt;/p&gt;</comment>
                            <comment id="13422977" author="namit" created="Thu, 26 Jul 2012 09:20:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D4371&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D4371&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Comments - added a new config parameter.&lt;/p&gt;</comment>
                            <comment id="13426754" author="kevinwilfong" created="Wed, 1 Aug 2012 16:57:10 +0000"  >&lt;p&gt;+1 This was separated from the other JIRA.&lt;/p&gt;</comment>
                            <comment id="13427066" author="kevinwilfong" created="Thu, 2 Aug 2012 01:51:37 +0000"  >&lt;p&gt;Committed, thanks Namit.&lt;/p&gt;</comment>
                            <comment id="13427306" author="hudson" created="Thu, 2 Aug 2012 13:24:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1586 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1586/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1586/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3262&quot; title=&quot;bucketed mapjoin silently ignores mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3262&quot;&gt;&lt;del&gt;HIVE-3262&lt;/del&gt;&lt;/a&gt;. bucketed mapjoin silently ignores mapjoin hint. (njain via kevinwilfong) (Revision 1368338)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1368338&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1368338&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapJoinOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/bucket_mapjoin_mismatch1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/bucket_mapjoin_mismatch1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548082" author="hudson" created="Wed, 9 Jan 2013 10:24:19 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3262&quot; title=&quot;bucketed mapjoin silently ignores mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3262&quot;&gt;&lt;del&gt;HIVE-3262&lt;/del&gt;&lt;/a&gt;. bucketed mapjoin silently ignores mapjoin hint. (njain via kevinwilfong) (Revision 1368338)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1368338&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1368338&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/ErrorMsg.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/BucketMapJoinOptimizer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/bucket_mapjoin_mismatch1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/bucket_mapjoin_mismatch1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550074" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:17 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12596234">HIVE-3210</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12537976" name="hive.3262.1.patch" size="18780" author="namit" created="Thu, 26 Jul 2012 09:22:05 +0000"/>
                            <attachment id="12538655" name="hive.3262.2.patch" size="21374" author="namit" created="Wed, 1 Aug 2012 07:49:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jul 2012 19:36:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>255904</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0fvqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>90740</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This patch adds the configuration property &amp;#39;hive.enforce.bucketmapjoin&amp;#39;, which is set to false by default. </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3263] possible NPE on udfs access/create</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3263</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If multiple threads are performing show functions, create functions concurrently, it may lead to NPE&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599069">HIVE-3263</key>
            <summary>possible NPE on udfs access/create</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jul 2012 06:11:29 +0000</created>
                <updated>Tue, 17 Jul 2012 06:11:45 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12529893">HIVE-2544</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259152</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ln53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124399</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-3264] Add support for binary dataype to AvroSerde</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3264</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When the AvroSerde was written, Hive didn&apos;t have a binary type, so Avro&apos;s byte array type is converted an array of small ints.  Now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2380&quot; title=&quot;Add Binary Datatype in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2380&quot;&gt;&lt;del&gt;HIVE-2380&lt;/del&gt;&lt;/a&gt; is in, this step isn&apos;t necessary and we can convert both Avro&apos;s bytes type and probably fixed type to Hive&apos;s binary type.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599153">HIVE-3264</key>
            <summary>Add support for binary dataype to AvroSerde</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="initialcontext">Eli Reisman</assignee>
                                    <reporter username="jghoman">Jakob Homan</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Tue, 17 Jul 2012 18:45:58 +0000</created>
                <updated>Fri, 8 Sep 2017 23:05:54 +0000</updated>
                            <resolved>Tue, 30 Jul 2013 17:10:19 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13426909" author="initialcontext" created="Wed, 1 Aug 2012 21:21:59 +0000"  >&lt;p&gt;Looking at the source, I&apos;m seeing AvroSerDe code mapping BYTE to Constants.TINYINT_TYPE_NAME in Hive, but binary type (array/blob) already maps to Constants.BINARY_TYPE_NAME &amp;#8211; and inside the Hive constants, I see no &quot;byte&quot; type to replace TINYINT_TYPE_NAME, is there something I&apos;m missing? I could not tell from the description whether the binary type is what you were discussing (looks like its already in place), or the single-byte type in specific. In that case, there is no replacement I can find for  tiny int on the Hive side. I didn&apos;t see anything on the binary array being implemented as tiny ints any more in the code. I am looking in the org.apache.hive.serde2.* packages.&lt;/p&gt;</comment>
                            <comment id="13427537" author="initialcontext" created="Thu, 2 Aug 2012 19:16:14 +0000"  >&lt;p&gt;First swipe at updating Avro-Hive binary datatype conversions.&lt;/p&gt;</comment>
                            <comment id="13427540" author="initialcontext" created="Thu, 2 Aug 2012 19:17:21 +0000"  >&lt;p&gt;This one bears a bit of scrutiny, first attempt here...&lt;/p&gt;</comment>
                            <comment id="13428242" author="initialcontext" created="Fri, 3 Aug 2012 17:23:16 +0000"  >&lt;p&gt;makes sure AvroDeserializer unwraps byte[] from ByteBuffer before returning deserialized byte[].&lt;/p&gt;

&lt;p&gt;Still wondering why the tests did catch this the first time, looking at them, possibly a subsequent patch/JIRA on the way on that one...&lt;/p&gt;</comment>
                            <comment id="13428542" author="initialcontext" created="Sat, 4 Aug 2012 02:53:16 +0000"  >&lt;p&gt;Should work at this point, adds integration test etc.&lt;/p&gt;</comment>
                            <comment id="13429252" author="initialcontext" created="Mon, 6 Aug 2012 16:46:53 +0000"  >&lt;p&gt;Managed to miss the inclusion of one of the test files, should be a complete patch now.&lt;/p&gt;</comment>
                            <comment id="13429619" author="initialcontext" created="Tue, 7 Aug 2012 00:37:24 +0000"  >&lt;p&gt;Added a .q.out file to the party, still figuring out the build pricess here. I&apos;m guessing if I say this is a complete patch at this point it will represent some form of jinx, but I&apos;m going to go ahead and say it.&lt;/p&gt;</comment>
                            <comment id="13461541" author="ashutoshc" created="Sun, 23 Sep 2012 23:46:46 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13461542" author="jghoman" created="Sun, 23 Sep 2012 23:53:53 +0000"  >&lt;p&gt;Actually, can we add to the .q file a describe on the table to verify that Hive sees the new type correctly/ Also, there should be an equivalent unit test added to TestAvroDeserializer.  Also, does this support serializing Hive binary to bytes? Sorry for this falling of my radar...&lt;/p&gt;</comment>
                            <comment id="13461605" author="ashutoshc" created="Mon, 24 Sep 2012 05:18:11 +0000"  >&lt;p&gt;I see that describe is already there in .q file and its printing the expected output as well. Adding more unit tests is always welcome. Looks like it will serialize binary to bytes. I see the code there. But there are no tests, (.q is just testing desirialization) so not sure. It will be good to add a test for it.&lt;/p&gt;</comment>
                            <comment id="13498563" author="ashutoshc" created="Fri, 16 Nov 2012 03:14:31 +0000"  >&lt;p&gt;Marking as open, since looks like it needs some more work.&lt;/p&gt;</comment>
                            <comment id="13499866" author="initialcontext" created="Sun, 18 Nov 2012 18:29:05 +0000"  >&lt;p&gt;This had fallen off my radar too, sorry. What needs to be done/added? When I was originally working on this, I was told the .q file approach was the test we needed. What sort of test should I add?&lt;/p&gt;</comment>
                            <comment id="13550963" author="initialcontext" created="Fri, 11 Jan 2013 08:09:04 +0000"  >&lt;p&gt;The patch isn&apos;t stale yet (whew!), I&apos;m working on a test...&lt;/p&gt;</comment>
                            <comment id="13707435" author="mwagner" created="Fri, 12 Jul 2013 21:59:02 +0000"  >&lt;p&gt;I rebased Eli&apos;s patch on the current trunk. I&apos;ve also made  changes so that &apos;fixed&apos; fields come out as binary as well. This isn&apos;t an exact match, but it&apos;s better than an array of tinyints I think.&lt;/p&gt;

&lt;p&gt;As far as test cases, avro_nullable_fields.q includes fields of both fixed and bytes type, so that test serializing and deserializing. There are also unit test for each of those in TestAvroDeserializer and TestAvroSerializer.&lt;/p&gt;</comment>
                            <comment id="13707503" author="mwagner" created="Fri, 12 Jul 2013 22:57:49 +0000"  >&lt;p&gt;Also posted to RB: &lt;a href=&quot;https://reviews.apache.org/r/12531/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/12531/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13709344" author="mwagner" created="Tue, 16 Jul 2013 01:34:52 +0000"  >&lt;p&gt;Changes in response to RB comments. Also updated on RB.&lt;/p&gt;</comment>
                            <comment id="13722636" author="jghoman" created="Mon, 29 Jul 2013 17:00:28 +0000"  >&lt;p&gt;+1.  Looks good.&lt;/p&gt;</comment>
                            <comment id="13722674" author="jghoman" created="Mon, 29 Jul 2013 17:25:13 +0000"  >&lt;p&gt;btw, Mark, once this goes through, please update the AvroSerde info (with the version number): &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AvroSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/AvroSerDe&lt;/a&gt;  Ping the user list if you don&apos;t have write acesss.  Thanks.&lt;/p&gt;</comment>
                            <comment id="13722704" author="ashutoshc" created="Mon, 29 Jul 2013 17:37:30 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13724080" author="ashutoshc" created="Tue, 30 Jul 2013 17:10:19 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Eli for the patch. Thanks, Mark for testcases. Thanks, Jakob for the review.&lt;/p&gt;</comment>
                            <comment id="13724323" author="hudson" created="Tue, 30 Jul 2013 19:52:37 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #37 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/37/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/37/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3264&quot; title=&quot;Add support for binary dataype to AvroSerde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3264&quot;&gt;&lt;del&gt;HIVE-3264&lt;/del&gt;&lt;/a&gt; : Add support for binary dataype to AvroSerde (Eli Reisman &amp;amp; Mark Wagner via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508528&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508528&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/csv.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/avro_nullable_fields.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_nullable_fields.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_schema_literal.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/SchemaToTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroObjectInspectorGenerator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13724418" author="hudson" created="Tue, 30 Jul 2013 20:59:47 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-hadoop1-ptest #109 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/109/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3264&quot; title=&quot;Add support for binary dataype to AvroSerde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3264&quot;&gt;&lt;del&gt;HIVE-3264&lt;/del&gt;&lt;/a&gt; : Add support for binary dataype to AvroSerde (Eli Reisman &amp;amp; Mark Wagner via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508528&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508528&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/csv.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/avro_nullable_fields.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_nullable_fields.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_schema_literal.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/SchemaToTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroObjectInspectorGenerator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13725330" author="hudson" created="Wed, 31 Jul 2013 15:17:33 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2234 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2234/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2234/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3264&quot; title=&quot;Add support for binary dataype to AvroSerde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3264&quot;&gt;&lt;del&gt;HIVE-3264&lt;/del&gt;&lt;/a&gt; : Add support for binary dataype to AvroSerde (Eli Reisman &amp;amp; Mark Wagner via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508528&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508528&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/csv.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/avro_nullable_fields.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_nullable_fields.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_schema_literal.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/SchemaToTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroObjectInspectorGenerator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13726135" author="hudson" created="Thu, 1 Aug 2013 06:48:53 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop2 #319 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/319/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/319/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3264&quot; title=&quot;Add support for binary dataype to AvroSerde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3264&quot;&gt;&lt;del&gt;HIVE-3264&lt;/del&gt;&lt;/a&gt; : Add support for binary dataype to AvroSerde (Eli Reisman &amp;amp; Mark Wagner via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508528&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508528&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/data/files/csv.txt&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/avro_nullable_fields.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_nullable_fields.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/avro_schema_literal.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/AvroSerializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/avro/SchemaToTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/avro/TestAvroObjectInspectorGenerator.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13796119" author="ashutoshc" created="Tue, 15 Oct 2013 23:31:06 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12652788">HIVE-4734</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12538939" name="HIVE-3264-1.patch" size="5716" author="initialcontext" created="Thu, 2 Aug 2012 19:17:21 +0000"/>
                            <attachment id="12539068" name="HIVE-3264-2.patch" size="6800" author="initialcontext" created="Fri, 3 Aug 2012 17:23:16 +0000"/>
                            <attachment id="12539137" name="HIVE-3264-3.patch" size="8590" author="initialcontext" created="Sat, 4 Aug 2012 02:53:16 +0000"/>
                            <attachment id="12539316" name="HIVE-3264-4.patch" size="8590" author="initialcontext" created="Mon, 6 Aug 2012 16:46:53 +0000"/>
                            <attachment id="12539388" name="HIVE-3264-5.patch" size="11003" author="initialcontext" created="Tue, 7 Aug 2012 00:37:24 +0000"/>
                            <attachment id="12592085" name="HIVE-3264.6.patch" size="46514" author="mwagner" created="Fri, 12 Jul 2013 21:59:02 +0000"/>
                            <attachment id="12592463" name="HIVE-3264.7.patch" size="47027" author="mwagner" created="Tue, 16 Jul 2013 01:34:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 1 Aug 2012 21:21:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>258117</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0kmzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>118541</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>serde</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-3265] HiveHistory.printRowCount() throws NPE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3265</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12599193">HIVE-3265</key>
            <summary>HiveHistory.printRowCount() throws NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shreepadma">Shreepadma Venugopalan</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jul 2012 23:22:12 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:20 +0000</updated>
                            <resolved>Wed, 29 Aug 2012 08:07:38 +0000</resolved>
                                    <version>0.8.1</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Diagnosability</component>
                    <component>Logging</component>
                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13416714" author="cwsteinbach" created="Tue, 17 Jul 2012 23:29:53 +0000"  >&lt;p&gt;The following NPE appeared in the log after running LOAD DATA commands:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2012-07-17 13:34:20,653 ERROR ql.Driver (SessionState.java:printError(380)) - FAILED: Hive Internal Error: java.lang.NullPointerException(null) 
java.lang.NullPointerException 
at org.apache.hadoop.hive.ql.history.HiveHistory.printRowCount(HiveHistory.java:411) 
at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1241) 
at org.apache.hadoop.hive.ql.Driver.run(Driver.java:931) 
at org.apache.hadoop.hive.service.HiveServer$HiveServerHandler.execute(HiveServer.java:191) 
at org.apache.hadoop.hive.service.ThriftHive$Processor$execute.getResult(ThriftHive.java:629) 
at org.apache.hadoop.hive.service.ThriftHive$Processor$execute.getResult(ThriftHive.java:617) 
at org.apache.thrift.ProcessFunction.process(ProcessFunction.java:32) 
at org.apache.thrift.TBaseProcessor.process(TBaseProcessor.java:34) 
at org.apache.thrift.server.TThreadPoolServer$WorkerProcess.run(TThreadPoolServer.java:176) 
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) 
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) 
at java.lang.Thread.run(Thread.java:662)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Here&apos;s the relevant code from the HiveHistory class. Line 411 corresponds to the for loop condition:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void printRowCount(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; queryId) {
    QueryInfo ji = queryInfoMap.get(queryId);
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; tab : ji.rowCountMap.keySet()) {
      console.printInfo(ji.rowCountMap.get(tab) + &lt;span class=&quot;code-quote&quot;&gt;&quot; Rows loaded to &quot;&lt;/span&gt; + tab);
    }
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So it looks like queryInfoMap doesn&apos;t have a QueryInfo object for the request queryId.&lt;/p&gt;

&lt;p&gt;It&apos;s worth noting that most of the other references to queryInfoMap in HiveHistory do a null check on the returned object before dereferencing.&lt;/p&gt;

&lt;p&gt;And then there&apos;s this pattern, which I see repeated in most of the HiveHistory setters:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void setQueryProperty(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; queryId, Keys propName, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; propValue) {
    QueryInfo ji = queryInfoMap.get(queryId);
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ji == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;;
    }
    ji.hm.put(propName.name(), propValue);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In other words, setQueryProperty() will pretend that it set the request property even if it can&apos;t find the QueryInfo object. How polite!&lt;/p&gt;</comment>
                            <comment id="13442269" author="shreepadma" created="Mon, 27 Aug 2012 04:30:39 +0000"  >&lt;p&gt;Reviewboard request URL: &lt;a href=&quot;https://reviews.apache.org/r/6779/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/6779/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13442310" author="cwsteinbach" created="Mon, 27 Aug 2012 07:13:00 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13443892" author="cwsteinbach" created="Wed, 29 Aug 2012 08:07:38 +0000"  >&lt;p&gt;Committed to trunk. Thanks Shreepadma.&lt;/p&gt;</comment>
                            <comment id="13444226" author="hudson" created="Wed, 29 Aug 2012 17:23:39 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1635 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1635/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1635/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3265&quot; title=&quot;HiveHistory.printRowCount() throws NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3265&quot;&gt;&lt;del&gt;HIVE-3265&lt;/del&gt;&lt;/a&gt;. HiveHistory.printRowCount() throws NPE (Shreepadma Venugopalan via cws) (Revision 1378472)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1378472&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1378472&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/history/HiveHistory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13444614" author="shreepadma" created="Thu, 30 Aug 2012 02:15:21 +0000"  >&lt;p&gt;Thanks Carl!&lt;/p&gt;</comment>
                            <comment id="13548083" author="hudson" created="Wed, 9 Jan 2013 10:24:19 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3265&quot; title=&quot;HiveHistory.printRowCount() throws NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3265&quot;&gt;&lt;del&gt;HIVE-3265&lt;/del&gt;&lt;/a&gt;. HiveHistory.printRowCount() throws NPE (Shreepadma Venugopalan via cws) (Revision 1378472)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1378472&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1378472&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/history/HiveHistory.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550089" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:20 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12542574" name="HIVE-3265.1.patch.txt" size="828" author="shreepadma" created="Mon, 27 Aug 2012 04:27:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 27 Aug 2012 04:30:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02u4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14481</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
