<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:19:55 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-1-10+AND+created+%3C%3D+2012-1-17+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="22" total="22"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2698] Enable Hadoop-1.0.0 in Hive</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2698</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hadoop-1.0.0 is recently released, which is AFAIK, API compatible to the 0.20S release. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12537856">HIVE-2698</key>
            <summary>Enable Hadoop-1.0.0 in Hive</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                            <label>hadoop</label>
                            <label>hadoop-1.0</label>
                            <label>jars</label>
                    </labels>
                <created>Tue, 10 Jan 2012 02:22:40 +0000</created>
                <updated>Wed, 9 Jan 2013 10:23:43 +0000</updated>
                            <resolved>Thu, 26 Jan 2012 02:02:54 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Security</component>
                    <component>Shims</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13183031" author="enis" created="Tue, 10 Jan 2012 02:48:16 +0000"  >&lt;p&gt;Attaching an initial patch (untested), which depends on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;. &lt;br/&gt;
This also changes the test secure hadoop version to be 1.0.0. &lt;/p&gt;</comment>
                            <comment id="13183043" author="thw" created="Tue, 10 Jan 2012 03:06:33 +0000"  >&lt;p&gt;Since 1.0.0 does not require a new shim, it should be sufficient to update the version used to compile the 20S shim.&lt;/p&gt;

&lt;p&gt;-hadoop-0.20S.version=0.20.3-CDH3-SNAPSHOT&lt;br/&gt;
+hadoop-0.20S.version=1.0.0&lt;/p&gt;

&lt;p&gt;Or, on the ant command line, add -Dhadoop-0.20S.version=1.0.0&lt;/p&gt;

&lt;p&gt;The hive build as is should run on 1.0.0.&lt;/p&gt;
</comment>
                            <comment id="13183451" author="enis" created="Tue, 10 Jan 2012 18:36:23 +0000"  >&lt;p&gt;You are right that we do not need a new shim, however, from my personal preference, making an explicit shim for 1.0, but reusing &lt;/p&gt;
{Hadoop|Jetty}
&lt;p&gt;20SShims seems more clear. Moreover, the tarball directory structure has changed between 0.20.x and 1.0.0, so just changing the hadoop-0.20S.version does not work.  &lt;/p&gt;</comment>
                            <comment id="13183483" author="thw" created="Tue, 10 Jan 2012 19:08:27 +0000"  >&lt;p&gt;We should treat tarball structure and shims as separate issues. As you mentioned, a few tweaks may be required for the build classpath, just as for 0.23). The tarball stuff is a hack with known issues, at some point we need to use ivy/maven (see Pig project, for example).&lt;/p&gt;

&lt;p&gt;As long as the compiled binary works on both, 0.20.205 and 1.0.0, I see no compelling reason to build an extra shim. Was that not addressed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2631&quot; title=&quot;Make Hive work with Hadoop 1.0.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2631&quot;&gt;&lt;del&gt;HIVE-2631&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13183508" author="enis" created="Tue, 10 Jan 2012 19:39:04 +0000"  >&lt;p&gt;Agreed for not needing a new shim. However, I&apos;d rather compile and run secure tests with 1.0.0 rather than 0.20.3-CDH3. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2631&quot; title=&quot;Make Hive work with Hadoop 1.0.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2631&quot;&gt;&lt;del&gt;HIVE-2631&lt;/del&gt;&lt;/a&gt; enables Hive binary to run with 1.0.0, but does not change the jar that Hive compiles against. We can change the patch for not introducing a new shim, but changing the 0.20S.version, and the classpath changes for the tarball. WDYT?&lt;/p&gt;</comment>
                            <comment id="13183518" author="thw" created="Tue, 10 Jan 2012 19:54:46 +0000"  >&lt;p&gt;+1 for changing the default version used to build 0.20S shim from 0.20.3-CDH3 to 1.0.0, let&apos;s see what others say. As stated above, the default version does not prevent you from using an override on the ant command line.&lt;/p&gt;</comment>
                            <comment id="13185147" author="enis" created="Thu, 12 Jan 2012 19:06:21 +0000"  >&lt;p&gt;Attaching a second version of the patch, which does not introduce a new shim, but changes the 0.20S version to use Hadoop-1.0.0. &lt;/p&gt;

&lt;p&gt;Waiting for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt; to be committed, before marking PA. &lt;/p&gt;</comment>
                            <comment id="13185168" author="thw" created="Thu, 12 Jan 2012 19:24:26 +0000"  >&lt;p&gt;As for the following added dependency:&lt;/p&gt;

&lt;p&gt; &amp;lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-api&quot; rev=&quot;${slf4j-api.version}&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;This already comes with Hadoop? If so, we should reference it accordingly. Please see &lt;a href=&quot;https://issues.apache.org/jira/browse/HCATALOG-201&quot; title=&quot;Should not bundle slf4j as it is part of hadoop&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HCATALOG-201&quot;&gt;HCATALOG-201&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13185178" author="enis" created="Thu, 12 Jan 2012 19:38:38 +0000"  >&lt;p&gt;This is the jar for the slf4j API only, not the binding for log4j. ql/ivy.xml and serde/ivy.xml already lists this as a dependency. &lt;/p&gt;</comment>
                            <comment id="13185258" author="thw" created="Thu, 12 Jan 2012 21:38:06 +0000"  >&lt;p&gt;That&apos;s odd, all other versions have it:&lt;/p&gt;

&lt;p&gt;$ find . -name &quot;slf4j*.*&quot;&lt;br/&gt;
./hadoop-0.20.1/lib/slf4j-api-1.4.3.jar&lt;br/&gt;
./hadoop-0.20.1/lib/slf4j-log4j12-1.4.3.jar&lt;br/&gt;
./hadoop-0.20.3-CDH3-SNAPSHOT/lib/slf4j-api-1.4.3.jar&lt;br/&gt;
./hadoop-0.20.3-CDH3-SNAPSHOT/lib/slf4j-log4j12-1.4.3.jar&lt;br/&gt;
./hadoop-0.23.0/lib/slf4j-api-1.6.1.jar&lt;br/&gt;
./hadoop-0.23.0/lib/slf4j-log4j12-1.6.1.jar&lt;br/&gt;
./hadoop-0.23.0/share/hadoop/common/lib/slf4j-api-1.5.11.jar&lt;br/&gt;
./hadoop-0.23.0/share/hadoop/common/lib/slf4j-log4j12-1.5.11.jar&lt;br/&gt;
./hadoop-0.23.0/share/hadoop/hdfs/lib/slf4j-api-1.5.11.jar&lt;br/&gt;
./hadoop-0.23.0/share/hadoop/hdfs/lib/slf4j-log4j12-1.5.11.jar&lt;/p&gt;</comment>
                            <comment id="13190190" author="enis" created="Fri, 20 Jan 2012 23:06:21 +0000"  >&lt;p&gt;Uploading a new version of the patch. I removed the slf4j import, the jars from the hadoop-1.0.0 was being extracted in a different directory, which is why they were not included in the classpath. This patch adds those jars to the classpath, similar to what we do for .20.1 and .23 &lt;/p&gt;</comment>
                            <comment id="13190302" author="jacksu" created="Sat, 21 Jan 2012 03:34:29 +0000"  >&lt;p&gt;I am not sure how to run the patch. I tried to run it as executable, I am seeing:&lt;br/&gt;
~/hive-0.8.0$ ./&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt;_v3.patch &lt;br/&gt;
diff: unrecognized option &apos;--git&apos;&lt;br/&gt;
diff: Try `diff --help&apos; for more information.&lt;br/&gt;
./&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt;_v3.patch: line 2: index: command not found&lt;br/&gt;
./&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt;_v3.patch: line 3: ---: command not found&lt;br/&gt;
./&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt;_v3.patch: line 4: +++: command not found&lt;br/&gt;
./&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt;_v3.patch: line 5: @@: command not found&lt;br/&gt;
./&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt;_v3.patch: line 6: syntax error near unexpected token `newline&apos;&lt;br/&gt;
./&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt;_v3.patch: line 6: `     &amp;lt;pathelement location=&quot;${hadoop.hdfs.jar}&quot;/&amp;gt;&apos;&lt;/p&gt;

&lt;p&gt;This is my diff info:&lt;br/&gt;
diff -version&lt;br/&gt;
diff (GNU diffutils) 3.0&lt;br/&gt;
Copyright (C) 2010 Free Software Foundation, Inc.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13190634" author="enis" created="Sun, 22 Jan 2012 09:34:06 +0000"  >&lt;p&gt;You can apply the patch with the patch command. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;patch -p1 &amp;lt; ./HIVE-2698_v3.patch 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13191404" author="cwsteinbach" created="Mon, 23 Jan 2012 20:01:56 +0000"  >&lt;p&gt;Please submit a review request on phabricator.&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/Hive/phabricatorcodereview.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/Hive/phabricatorcodereview.html&lt;/a&gt;&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="13191660" author="jacksu" created="Tue, 24 Jan 2012 00:09:11 +0000"  >&lt;p&gt;I ran with patch -p1 &amp;lt; ./&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt;_v3.patch, and seeing the following error message:&lt;/p&gt;

&lt;p&gt;patch -p1 &amp;lt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt;_v3.patch&lt;br/&gt;
can&apos;t find file to patch at input line 5&lt;br/&gt;
Perhaps you used the wrong -p or --strip option?&lt;br/&gt;
The text leading up to this was:&lt;br/&gt;
--------------------------&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;diff --git a/build-common.xml b/build-common.xml&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;index a746966..7b652cf 100644&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;#8212; a/build-common.xml&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;+++ b/build-common.xml&lt;br/&gt;
--------------------------&lt;br/&gt;
File to patch:&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;




&lt;p&gt;The following is the first 10 lines of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt;_v3.patch&lt;br/&gt;
diff --git a/build-common.xml b/build-common.xml&lt;br/&gt;
index a746966..7b652cf 100644&lt;br/&gt;
&amp;#8212; a/build-common.xml&lt;br/&gt;
+++ b/build-common.xml&lt;br/&gt;
@@ -160,6 +160,12 @@&lt;br/&gt;
     &amp;lt;pathelement location=&quot;${hadoop.hdfs.jar}&quot;/&amp;gt;&lt;br/&gt;
     &amp;lt;pathelement location=&quot;${hadoop.mapreduce.jar}&quot;/&amp;gt;&lt;br/&gt;
     &amp;lt;pathelement location=&quot;${hadoop.mapreduce.tools.jar}&quot;/&amp;gt;&lt;br/&gt;
+    &amp;lt;fileset dir=&quot;${hadoop.root}&quot; erroronmissingdir=&quot;false&quot;&amp;gt;&lt;br/&gt;
+      &amp;lt;!-- below is for 1.0 --&amp;gt;&lt;/p&gt;


&lt;p&gt;I am not seeing directory a, or b. But I see build-common.xml under src directory. &lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13192542" author="phabricator@reviews.facebook.net" created="Tue, 24 Jan 2012 21:30:39 +0000"  >&lt;p&gt;enis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable Hadoop-1.0.0 in Hive&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  third version of the patch&lt;/p&gt;

&lt;p&gt;  Hadoop-1.0.0 is recently released, which is AFAIK, API compatible to the 0.20S release.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1389&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1389&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build.properties&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  shims/build.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2907/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2907/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13192549" author="enis" created="Tue, 24 Jan 2012 21:36:01 +0000"  >&lt;p&gt;@Jack su, &lt;br/&gt;
You are probably in the wrong directory. The patch applies cleanly with -p1 on the root hive directory. The a/b prefixes are due to the git-produced patch, which is why we are using -p1 instead of -p0.  &lt;/p&gt;</comment>
                            <comment id="13192563" author="cwsteinbach" created="Tue, 24 Jan 2012 21:44:21 +0000"  >&lt;p&gt;Patches should apply cleanly with -p0. Please see this page for more info: &lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/Hive/howtocontribute.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/Hive/howtocontribute.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13192584" author="enis" created="Tue, 24 Jan 2012 21:54:19 +0000"  >&lt;p&gt;The patch from phabricator already applies with -p0. I was referring to the previous (v3) patch. &lt;/p&gt;</comment>
                            <comment id="13192738" author="jacksu" created="Wed, 25 Jan 2012 01:00:04 +0000"  >&lt;p&gt;Thanks all for help.&lt;/p&gt;

&lt;p&gt;I guess I am just not lucky. I tried from the root path of hive, hadoop, and parent folder of those two directories. I got the same &quot;can&apos;t find file to patch at input line 5&quot;&lt;/p&gt;

&lt;p&gt;~/hive-0.8.0$ patch -p1 &amp;lt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt;_v3.patch&lt;br/&gt;
can&apos;t find file to patch at input line 5&lt;br/&gt;
Perhaps you used the wrong -p or --strip option?&lt;br/&gt;
The text leading up to this was:&lt;br/&gt;
--------------------------&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;diff --git a/build-common.xml b/build-common.xml&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;index a746966..7b652cf 100644&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;#8212; a/build-common.xml&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;+++ b/build-common.xml&lt;br/&gt;
--------------------------&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;I also tried -p0, the same result....&lt;/p&gt;

&lt;p&gt;Any more suggestions?&lt;/p&gt;</comment>
                            <comment id="13192740" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 01:00:38 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable Hadoop-1.0.0 in Hive&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  build.properties:20 1.0.0 is now available from mirror2, and it should get replicated to mirror1 soon. Please remove mirror3.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1389&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1389&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13192781" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 01:48:38 +0000"  >&lt;p&gt;enis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable Hadoop-1.0.0 in Hive&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;  Removed the ibiblio mirror, and changed the tarball to download the src version, instead of the -bin version, since the tarball download will be fixed soon at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1389&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1389&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.properties&lt;/p&gt;</comment>
                            <comment id="13192784" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 01:54:39 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable Hadoop-1.0.0 in Hive&quot;.&lt;/p&gt;

&lt;p&gt;  Looks like phabricator somehow lost your changes to build-common.xml and shims/build.xml. All I see in the current diff is the change you made to build.properties, and I get the same thing when I try to apply the patch with arc.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1389&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1389&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13192795" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 02:16:40 +0000"  >&lt;p&gt;enis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable Hadoop-1.0.0 in Hive&quot;.&lt;/p&gt;

&lt;p&gt;  I removed those changes from the patch, since those were primarily needed for the directory structure in the  -bin version of the tarball. We will manage Hadoop as an ivy dependency through &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2646&quot; title=&quot;Hive Ivy dependencies on Hadoop should depend on jars directly, not tarballs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2646&quot;&gt;&lt;del&gt;HIVE-2646&lt;/del&gt;&lt;/a&gt; (hopefully soon), so I think that the src tarball should do. It seems that with the src version, it compiles as it is with just the version change.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1389&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1389&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13192798" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 02:18:41 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable Hadoop-1.0.0 in Hive&quot;.&lt;/p&gt;

&lt;p&gt;  Ah, thanks for clarifying. Will commit if tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1389&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1389&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13192810" author="enis" created="Wed, 25 Jan 2012 02:34:38 +0000"  >&lt;p&gt;Re-attaching latest patch from review for ASF grant. &lt;/p&gt;</comment>
                            <comment id="13193513" author="cwsteinbach" created="Thu, 26 Jan 2012 02:02:54 +0000"  >&lt;p&gt;Committed to trunk. Thanks Enis!&lt;/p&gt;</comment>
                            <comment id="13193516" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 02:11:41 +0000"  >&lt;p&gt;enis has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable Hadoop-1.0.0 in Hive&quot;.&lt;/p&gt;

&lt;p&gt;  Change committed by cws.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1389&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1389&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1236023&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1236023&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13193620" author="hudson" created="Thu, 26 Jan 2012 07:34:58 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1221 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1221/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1221/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable Hadoop-1.0.0 in Hive&lt;br/&gt;
(Enis S&#246;ztutar via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
third version of the patch&lt;/p&gt;

&lt;p&gt;Hadoop-1.0.0 is recently released, which is AFAIK, API compatible to the 0.20S&lt;br/&gt;
release.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;CC: cwsteinbach, enis&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D1389&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1389&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236023&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236023&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265251" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:20 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13547951" author="hudson" created="Wed, 9 Jan 2013 10:23:43 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2698&quot; title=&quot;Enable Hadoop-1.0.0 in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2698&quot;&gt;&lt;del&gt;HIVE-2698&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Enable Hadoop-1.0.0 in Hive&lt;br/&gt;
(Enis S&#246;ztutar via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
third version of the patch&lt;/p&gt;

&lt;p&gt;Hadoop-1.0.0 is recently released, which is AFAIK, API compatible to the 0.20S&lt;br/&gt;
release.&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;CC: cwsteinbach, enis&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D1389&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1389&lt;/a&gt; (Revision 1236023)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236023&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236023&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.properties&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12511731" name="ASF.LICENSE.NOT.GRANTED--HIVE-2698.D1389.1.patch" size="2868" author="phabricator@reviews.facebook.net" created="Tue, 24 Jan 2012 21:30:40 +0000"/>
                            <attachment id="12511778" name="ASF.LICENSE.NOT.GRANTED--HIVE-2698.D1389.2.patch" size="391" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 01:48:39 +0000"/>
                            <attachment id="12511785" name="HIVE-2698.D1389.2.patch" size="391" author="enis" created="Wed, 25 Jan 2012 02:34:38 +0000"/>
                            <attachment id="12509998" name="HIVE-2698_v1.patch" size="5230" author="enis" created="Tue, 10 Jan 2012 02:48:16 +0000"/>
                            <attachment id="12510408" name="HIVE-2698_v2.patch" size="2845" author="enis" created="Thu, 12 Jan 2012 19:06:21 +0000"/>
                            <attachment id="12511329" name="HIVE-2698_v3.patch" size="2905" author="enis" created="Fri, 20 Jan 2012 23:06:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Jan 2012 03:06:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223362</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06agn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2699] Is udf_like &apos;s bug ?</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2699</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12537861">HIVE-2699</key>
            <summary>Is udf_like &apos;s bug ?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aoxiang">binlijin</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jan 2012 05:50:59 +0000</created>
                <updated>Tue, 10 Jan 2012 05:51:43 +0000</updated>
                                                                            <component>UDF</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                            <attachment id="12510010" name="HIVE-2699.patch" size="2682" author="aoxiang" created="Tue, 10 Jan 2012 05:51:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223367</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124084</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2700] Add &apos;ivy-clean-cache&apos; and &apos;very-clean&apos; Ant targets</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2700</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12537863">HIVE-2700</key>
            <summary>Add &apos;ivy-clean-cache&apos; and &apos;very-clean&apos; Ant targets</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jan 2012 06:32:04 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:23 +0000</updated>
                            <resolved>Wed, 1 Feb 2012 04:36:39 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13183132" author="cwsteinbach" created="Tue, 10 Jan 2012 07:47:07 +0000"  >&lt;p&gt;This patch adds &apos;ivy-cleane-cache&apos; and &apos;very-clean&apos; targets&lt;br/&gt;
which are useful for doing release builds.&lt;/p&gt;

&lt;p&gt;I&apos;m having trouble with php and will submit for review on phabricator tomorrow.&lt;/p&gt;</comment>
                            <comment id="13188203" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 02:15:39 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2700&quot; title=&quot;Add &amp;#39;ivy-clean-cache&amp;#39; and &amp;#39;very-clean&amp;#39; Ant targets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2700&quot;&gt;&lt;del&gt;HIVE-2700&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add &apos;ivy-clean-cache&apos; and &apos;very-clean&apos; Ant targets&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Add ivy-clean-cache and very-clean ant targets&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1293&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1293&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2697/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2697/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13195878" author="phabricator@reviews.facebook.net" created="Sun, 29 Jan 2012 23:45:08 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2700&quot; title=&quot;Add &amp;#39;ivy-clean-cache&amp;#39; and &amp;#39;very-clean&amp;#39; Ant targets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2700&quot;&gt;&lt;del&gt;HIVE-2700&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Add &apos;ivy-clean-cache&apos; and &apos;very-clean&apos; Ant targets&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1293&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1293&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13197574" author="ashutoshc" created="Wed, 1 Feb 2012 04:36:39 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13265248" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:19 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548099" author="hudson" created="Wed, 9 Jan 2013 10:24:23 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2700&quot; title=&quot;Add &amp;#39;ivy-clean-cache&amp;#39; and &amp;#39;very-clean&amp;#39; Ant targets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2700&quot;&gt;&lt;del&gt;HIVE-2700&lt;/del&gt;&lt;/a&gt;: Add &apos;ivy-clean-cache&apos; and &apos;very-clean&apos; Ant targets (Carl Steinbach via Ashutosh Chauhan) (Revision 1238935)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1238935&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1238935&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12560267">HIVE-3117</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12560265">HIVE-3116</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12510933" name="ASF.LICENSE.NOT.GRANTED--HIVE-2700.D1293.1.patch" size="827" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 02:15:40 +0000"/>
                            <attachment id="12510016" name="HIVE-2700.1.patch.txt" size="9672" author="cwsteinbach" created="Tue, 10 Jan 2012 07:44:59 +0000"/>
                            <attachment id="12510125" name="HIVE-2700.2.patch.txt" size="803" author="cwsteinbach" created="Tue, 10 Jan 2012 23:44:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Jan 2012 02:15:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223369</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124085</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2701] listPartitionsByFilter only supports non-string partitions</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2701</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;listPartitionsByFilter supports only non-string partitions. This is because its explicitly specified in generateJDOFilterOverPartitions in ExpressionTree.java. &lt;/p&gt;

&lt;p&gt;//Can only support partitions whose types are string&lt;br/&gt;
      if( ! table.getPartitionKeys().get(partitionColumnIndex).&lt;br/&gt;
          getType().equals(org.apache.hadoop.hive.serde.Constants.STRING_TYPE_NAME) ) &lt;/p&gt;
{
        throw new MetaException
        (&quot;Filtering is supported only on partition keys of type string&quot;);
      }</description>
                <environment></environment>
        <key id="12537865">HIVE-2701</key>
            <summary>listPartitionsByFilter only supports non-string partitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="aniket486">Aniket Mokashi</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jan 2012 07:17:58 +0000</created>
                <updated>Tue, 10 Jan 2012 07:22:36 +0000</updated>
                            <resolved>Tue, 10 Jan 2012 07:22:36 +0000</resolved>
                                    <version>0.8.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13183127" author="aniket486" created="Tue, 10 Jan 2012 07:22:13 +0000"  >&lt;p&gt;Possibly a browser bug! I will close this ticket as duplicate of 2702.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223371</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124086</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2702] Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2702</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;listPartitionsByFilter supports only non-string partitions. This is because its explicitly specified in generateJDOFilterOverPartitions in ExpressionTree.java. &lt;/p&gt;

&lt;p&gt;//Can only support partitions whose types are string&lt;br/&gt;
      if( ! table.getPartitionKeys().get(partitionColumnIndex).&lt;br/&gt;
          getType().equals(org.apache.hadoop.hive.serde.Constants.STRING_TYPE_NAME) ) &lt;/p&gt;
{
        throw new MetaException
        (&quot;Filtering is supported only on partition keys of type string&quot;);
      }</description>
                <environment></environment>
        <key id="12537866">HIVE-2702</key>
            <summary>Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="aniket486">Aniket Mokashi</reporter>
                        <labels>
                            <label>TODOC12</label>
                    </labels>
                <created>Tue, 10 Jan 2012 07:18:00 +0000</created>
                <updated>Thu, 26 Feb 2015 02:42:35 +0000</updated>
                            <resolved>Tue, 30 Jul 2013 17:33:32 +0000</resolved>
                                    <version>0.8.1</version>
                                    <fixVersion>0.12.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="13220808" author="phabricator@reviews.facebook.net" created="Fri, 2 Mar 2012 09:49:55 +0000"  >&lt;p&gt;aniket486 requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; listPartitionsByFilter only supports non-string partitions&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2702&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Added support for integer partitions in listPartitionByFilter method&lt;/p&gt;

&lt;p&gt;  listPartitionsByFilter supports only non-string partitions. This is because its explicitly specified in generateJDOFilterOverPartitions in ExpressionTree.java.&lt;/p&gt;

&lt;p&gt;  //Can only support partitions whose types are string&lt;br/&gt;
        if( ! table.getPartitionKeys().get(partitionColumnIndex).&lt;br/&gt;
            getType().equals(org.apache.hadoop.hive.serde.Constants.STRING_TYPE_NAME) ) &lt;/p&gt;
{
          throw new MetaException
          (&quot;Filtering is supported only on partition keys of type string&quot;);
        }

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2043&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2043&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4395/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4395/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13230971" author="ashutoshc" created="Fri, 16 Mar 2012 08:32:48 +0000"  >&lt;p&gt;@Aniket,&lt;br/&gt;
This is by design. Partition values are stored as strings in backend db (mysql) so pushing filters into db where partition column is of numeric types won&apos;t work, since then comparison will happen lexicographically. You should be able to catch this with rigorous tests. e.g., with your patch on, create table with partition key of int type, add partitions 1-11 and then do filter p &amp;lt; 2 and you will get partitions 1,10,11 instead of 1. Though, you can still push equality predicate. &lt;br/&gt;
Enabling this feature requires mysql table schema updates which can retain type information for partition keys.   &lt;/p&gt;</comment>
                            <comment id="13232319" author="aniket486" created="Sun, 18 Mar 2012 18:03:18 +0000"  >&lt;p&gt;I agree on your comment, I didn&apos;t catch it earlier. I wonder if there is an elegant workaround for this. &lt;/p&gt;</comment>
                            <comment id="13438357" author="jghoman" created="Tue, 21 Aug 2012 00:29:30 +0000"  >&lt;p&gt;This is very limiting for HCat as it means HCat clients cannot access non-string partitions from Pig or MR, whereas they are available via Hive directly.  The JDOQL that&apos;s used in generateJDOFilter() to generate the query is not powerful enough to support stripping out the value, casting it to a number, and then sorting it thusly.  The best solution is probably to re-write ObjectStore.listPartitionNamesByFilter() to not use the Partitions table (which stores the values as &quot;PARTITION=FOO&quot; but rather take advantage of PARTITION_KEY_VALS, which stores the partition values by themselves.  Any objections to this approach?&lt;/p&gt;</comment>
                            <comment id="13629724" author="cyril.liao" created="Fri, 12 Apr 2013 03:08:24 +0000"  >&lt;p&gt;Drop partition get org.apache.hadoop.hive.ql.parse.SemanticException because of this design.&lt;br/&gt;
Drop partition is a base function,why this design exist if a base function can not work!&lt;/p&gt;</comment>
                            <comment id="13709315" author="sershe" created="Tue, 16 Jul 2013 01:01:27 +0000"  >&lt;p&gt;There hasn&apos;t been activity for a while, I will take over if you don&apos;t mind&lt;/p&gt;</comment>
                            <comment id="13709327" author="sershe" created="Tue, 16 Jul 2013 01:12:08 +0000"  >&lt;p&gt;Preliminary patch. No tests so far, in case something is wrong in the approach, this is my first hive patch.&lt;br/&gt;
Existing tests pass.&lt;/p&gt;

&lt;p&gt;Patch summary: for filter pushdown,&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;add support for equals for integral partition types;&lt;/li&gt;
	&lt;li&gt;add support for not-equals for both;&lt;/li&gt;
	&lt;li&gt;allow the client to push down other compare ops for string partitions - server already supports that;&lt;/li&gt;
	&lt;li&gt;change Filter.g integral type handling to use Long instead of Integer, to support bigger numbers;&lt;/li&gt;
	&lt;li&gt;refactor generateJDOFilterOverPartitions a bit.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Adding other compare operators for integral types is next. I added a TODO in the patch where it should be done. The approach will need to be considered more carefully and may involve some refactoring.&lt;/p&gt;</comment>
                            <comment id="13710450" author="phabricator@reviews.facebook.net" created="Tue, 16 Jul 2013 23:18:47 +0000"  >&lt;p&gt;sershe requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; listPartitionsByFilter only supports string partitions&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;initial changes and tests, this time posting to Phabricator; compared to previous patch in the JIRA, added testing, as well as support for negative numbers.&lt;br/&gt;
I will run some perf tests, locally on derby it seems to work well.&lt;/p&gt;

&lt;p&gt;listPartitionsByFilter supports only non-string partitions. This is because its explicitly specified in generateJDOFilterOverPartitions in ExpressionTree.java.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11715&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11715&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/Filter.g&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/27771/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/27771/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, sershe&lt;/p&gt;</comment>
                            <comment id="13711847" author="sershe" created="Thu, 18 Jul 2013 00:28:07 +0000"  >&lt;p&gt;gt/lt/etc. hit &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2609&quot; title=&quot;NPE when pruning partitions by thrift method get_partitions_by_filter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2609&quot;&gt;HIVE-2609&lt;/a&gt; unfortunately; I simplified valString to avoid nested substrings but that didn&apos;t help either, and Collection get method is not supported on DN 2.0. &lt;br/&gt;
Making blocked on DN upgrade&lt;/p&gt;</comment>
                            <comment id="13713092" author="sershe" created="Thu, 18 Jul 2013 23:34:24 +0000"  >&lt;p&gt;Well, this is also blocked (kind of) by the hack where during query parsing we set the types of all partitioning columns to string. This causes the constant type to be changed to double thru a complex chain of events, unless it&apos;s explicitly set to bigint.&lt;br/&gt;
This causes the validation to fail and filter to not be pushed down.&lt;br/&gt;
I am not sure why &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3059&quot; title=&quot;revert HIVE-2703&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3059&quot;&gt;&lt;del&gt;HIVE-3059&lt;/del&gt;&lt;/a&gt; reverted it, there are no details...&lt;/p&gt;
</comment>
                            <comment id="13713123" author="sershe" created="Thu, 18 Jul 2013 23:52:46 +0000"  >&lt;p&gt;Actually, as a quick workaround I can change the part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2249&quot; title=&quot;When creating constant expression for numbers, try to infer type from another comparison operand, instead of trying to use integer first, and then long and double&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2249&quot;&gt;&lt;del&gt;HIVE-2249&lt;/del&gt;&lt;/a&gt; that changes the legitimately derived integer type to double if the other column is string. I don&apos;t think it makes sense... I feel like an archeologist by now&lt;/p&gt;</comment>
                            <comment id="13713972" author="phabricator@reviews.facebook.net" created="Fri, 19 Jul 2013 19:10:46 +0000"  >&lt;p&gt;sershe updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; listPartitionsByFilter only supports string partitions&quot;.&lt;/p&gt;

&lt;p&gt;  Some minor fixes to the patch, remove client support for most compare ops since it cannot easily be supported due to DN bugs/missing features in 2.0, fix the number type scrambling that was causing pushdown to not work for integers.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, ashutoshc&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11715&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11715&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11715?vs=35793&amp;amp;id=35919#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11715?vs=35793&amp;amp;id=35919#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/Filter.g&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;/p&gt;</comment>
                            <comment id="13714187" author="sershe" created="Fri, 19 Jul 2013 22:51:34 +0000"  >&lt;p&gt;ran some perf tests, filter pushdown can cut about 300ms for getting partitions on 16k-partition table on my machine, with standalone metastore on the same machine (for equivalent queries e.g. n=0 vs &quot;n=0 and n&amp;gt;=0&quot;)&lt;/p&gt;</comment>
                            <comment id="13715607" author="phabricator@reviews.facebook.net" created="Mon, 22 Jul 2013 20:28:48 +0000"  >&lt;p&gt;ashutoshc has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; listPartitionsByFilter only supports string partitions&quot;.&lt;/p&gt;

&lt;p&gt;  Some comments.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java:161 Its better to say numeric type here, since we can also support byte and short (both of which are valid hive types) as well.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java:262 As stated earlier, lets rename this method and variable as doesOpSupportNumeric()&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java:272 Why are you checking value instanceof Long here ? This parsing is not done via grammar described in Filter.g&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java:299 I presume this depends on DN upgrade, lets postpone it till than.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java:7699 &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3059&quot; title=&quot;revert HIVE-2703&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3059&quot;&gt;&lt;del&gt;HIVE-3059&lt;/del&gt;&lt;/a&gt;, I assume you want to say.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11715&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11715&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;/p&gt;</comment>
                            <comment id="13715638" author="sershe" created="Mon, 22 Jul 2013 20:51:08 +0000"  >&lt;p&gt;attaching patch for hiveqa. &lt;/p&gt;</comment>
                            <comment id="13715991" author="phabricator@reviews.facebook.net" created="Tue, 23 Jul 2013 02:42:48 +0000"  >&lt;p&gt;sershe updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; listPartitionsByFilter only supports string partitions&quot;.&lt;/p&gt;

&lt;p&gt;  CR feedback. Hive QA appears to be sleeping, I will run the tests overnight.&lt;/p&gt;

&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11715&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11715&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11715?vs=35919&amp;amp;id=35991#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11715?vs=35919&amp;amp;id=35991#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/Filter.g&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;/p&gt;</comment>
                            <comment id="13716638" author="phabricator@reviews.facebook.net" created="Tue, 23 Jul 2013 17:32:46 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; listPartitionsByFilter only supports string partitions&quot;.&lt;/p&gt;

&lt;p&gt;  +1.&lt;br/&gt;
  Sergey, How did the tests go?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11715&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11715&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;/p&gt;</comment>
                            <comment id="13716657" author="sershe" created="Tue, 23 Jul 2013 17:49:00 +0000"  >&lt;p&gt;Large number of tests failed due to removal of the conversion of everything to double. I will fix them and update.&lt;/p&gt;</comment>
                            <comment id="13721181" author="phabricator@reviews.facebook.net" created="Fri, 26 Jul 2013 20:33:46 +0000"  >&lt;p&gt;sershe requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; listPartitionsByFilter only supports string partitions for equals&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;Rebase on top of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4929&quot; title=&quot;the type of all numeric constants is changed to double in the plan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4929&quot;&gt;&lt;del&gt;HIVE-4929&lt;/del&gt;&lt;/a&gt;. It should still compile/pass server tests, but won&apos;t work properly before &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4929&quot; title=&quot;the type of all numeric constants is changed to double in the plan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4929&quot;&gt;&lt;del&gt;HIVE-4929&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;listPartitionsByFilter supports only non-string partitions. This is because its explicitly specified in generateJDOFilterOverPartitions in ExpressionTree.java.&lt;/p&gt;

&lt;p&gt;//Can only support partitions whose types are string&lt;br/&gt;
      if( ! table.getPartitionKeys().get(partitionColumnIndex).&lt;br/&gt;
          getType().equals(org.apache.hadoop.hive.serde.Constants.STRING_TYPE_NAME) )&lt;/p&gt;
{
        throw new MetaException
        (&quot;Filtering is supported only on partition keys of type string&quot;);
      }

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11847&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11847&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/Filter.g&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/28167/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/28167/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, sershe&lt;/p&gt;</comment>
                            <comment id="13721198" author="ashutoshc" created="Fri, 26 Jul 2013 20:50:59 +0000"  >&lt;p&gt;Do you want to improve the description of ticket ... something like&lt;br/&gt;
Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality &lt;/p&gt;</comment>
                            <comment id="13721209" author="phabricator@reviews.facebook.net" created="Fri, 26 Jul 2013 21:05:47 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; listPartitionsByFilter only supports string partitions for equals&quot;.&lt;/p&gt;

&lt;p&gt;  +1 Looks good.&lt;br/&gt;
  Few minor nits.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/Filter.g:160 Do u want to name this as IntegralLiteral now ?&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java:312 Do you instead want to say in this TODO that this will be dealt in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4888&quot; title=&quot;listPartitionsByFilter doesn&amp;#39;t support lt/gt/lte/gte&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4888&quot;&gt;&lt;del&gt;HIVE-4888&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java:2188 Do you want to say for 2nd TODO that this will be dealt in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4888&quot; title=&quot;listPartitionsByFilter doesn&amp;#39;t support lt/gt/lte/gte&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4888&quot;&gt;&lt;del&gt;HIVE-4888&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11847&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11847&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt;-2&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;/p&gt;</comment>
                            <comment id="13722009" author="ashutoshc" created="Sun, 28 Jul 2013 17:52:28 +0000"  >&lt;p&gt;I ran the tests on current patch on latest trunk. All tests passed except alter_partition_coltype.q for which you just need to update .q.out file. Can you also include that update in your next refresh of the patch?&lt;/p&gt;</comment>
                            <comment id="13723131" author="phabricator@reviews.facebook.net" created="Mon, 29 Jul 2013 23:29:48 +0000"  >&lt;p&gt;sershe updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; listPartitionsByFilter only supports string partitions for equals&quot;.&lt;/p&gt;

&lt;p&gt;  Adding the query change. Fetching partition &quot;dt=100x&quot; for query dt = 100 seems incorrect&lt;/p&gt;

&lt;p&gt;Reviewers: ashutoshc, JIRA&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11847&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11847&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;CHANGE SINCE LAST DIFF&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D11847?vs=36303&amp;amp;id=36483#toc&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D11847?vs=36303&amp;amp;id=36483#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt;-2&lt;/p&gt;

&lt;p&gt;ARCANIST PROJECT&lt;br/&gt;
  hive&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/parser/Filter.g&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_partition_coltype.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, ashutoshc, sershe&lt;/p&gt;</comment>
                            <comment id="13724130" author="ashutoshc" created="Tue, 30 Jul 2013 17:33:32 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Sergey!&lt;/p&gt;</comment>
                            <comment id="13724324" author="hudson" created="Tue, 30 Jul 2013 19:52:37 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #37 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/37/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/37/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt; : Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality (Sergey Shelukhin via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508539&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508539&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/Filter.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_partition_coltype.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13724420" author="hudson" created="Tue, 30 Jul 2013 20:59:47 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-hadoop1-ptest #109 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/109/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/109/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt; : Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality (Sergey Shelukhin via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508539&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508539&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/Filter.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_partition_coltype.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13725331" author="hudson" created="Wed, 31 Jul 2013 15:17:34 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2234 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2234/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2234/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt; : Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality (Sergey Shelukhin via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508539&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508539&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/Filter.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_partition_coltype.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13726136" author="hudson" created="Thu, 1 Aug 2013 06:48:54 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop2 #319 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/319/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/319/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2702&quot; title=&quot;Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2702&quot;&gt;&lt;del&gt;HIVE-2702&lt;/del&gt;&lt;/a&gt; : Enhance listPartitionsByFilter to add support for integral types both for equality and non-equality (Sergey Shelukhin via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508539&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1508539&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/Filter.g&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ppr/PartitionPruner.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_partition_coltype.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13795835" author="ashutoshc" created="Tue, 15 Oct 2013 23:28:59 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                            <comment id="14337746" author="lefty@hortonworks.com" created="Thu, 26 Feb 2015 02:42:35 +0000"  >&lt;p&gt;Doc note:  See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7164&quot; title=&quot;Support non-string partition types in HCatalog&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7164&quot;&gt;&lt;del&gt;HIVE-7164&lt;/del&gt;&lt;/a&gt; comment for information about setting &lt;b&gt;hive.metastore.integral.jdo.pushdown&lt;/b&gt;.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7164?focusedCommentId=14228468&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-14228468&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-7164 comment &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12659690">HIVE-4929</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12717860">HIVE-7164</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12548063">HCATALOG-347</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12506448">HCATALOG-23</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12658681">HIVE-4888</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12501190">HIVE-2048</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12516813" name="ASF.LICENSE.NOT.GRANTED--HIVE-2702.D2043.1.patch" size="5440" author="phabricator@reviews.facebook.net" created="Fri, 2 Mar 2012 09:49:56 +0000"/>
                            <attachment id="12592462" name="HIVE-2702-v0.patch" size="19308" author="sershe" created="Tue, 16 Jul 2013 01:12:08 +0000"/>
                            <attachment id="12516808" name="HIVE-2702.1.patch" size="4611" author="aniket486" created="Fri, 2 Mar 2012 09:23:29 +0000"/>
                            <attachment id="12592662" name="HIVE-2702.D11715.1.patch" size="24366" author="phabricator@reviews.facebook.net" created="Tue, 16 Jul 2013 23:18:47 +0000"/>
                            <attachment id="12593238" name="HIVE-2702.D11715.2.patch" size="28093" author="phabricator@reviews.facebook.net" created="Fri, 19 Jul 2013 19:10:46 +0000"/>
                            <attachment id="12593633" name="HIVE-2702.D11715.3.patch" size="28618" author="phabricator@reviews.facebook.net" created="Tue, 23 Jul 2013 02:42:48 +0000"/>
                            <attachment id="12594446" name="HIVE-2702.D11847.1.patch" size="26172" author="phabricator@reviews.facebook.net" created="Fri, 26 Jul 2013 20:33:46 +0000"/>
                            <attachment id="12594819" name="HIVE-2702.D11847.2.patch" size="26702" author="phabricator@reviews.facebook.net" created="Mon, 29 Jul 2013 23:29:48 +0000"/>
                            <attachment id="12593587" name="HIVE-2702.patch" size="28093" author="sershe" created="Mon, 22 Jul 2013 20:51:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 2 Mar 2012 09:49:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223372</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 47 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124087</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2703] ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2703</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ResultSetMetaData.getColumnType() always returns VARCHAR(string) as column type, no matter what the column type is for the partition column.&lt;/p&gt;

&lt;p&gt;However DatabaseMetadata.getColumnType() returns correct type. &lt;/p&gt;


&lt;p&gt;Create a table with a partition column having a type other than string, you will see that ResultSet.getColumnType() always returns string as the type for int or boolean or float columns...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12537878">HIVE-2703</key>
            <summary>ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="tamtam180">tamtam180</assignee>
                                    <reporter username="mgk.424@gmail.com">Mythili Gopalakrishnan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jan 2012 10:01:41 +0000</created>
                <updated>Fri, 19 Jul 2013 22:52:09 +0000</updated>
                                            <version>0.8.0</version>
                                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13188480" author="steffen.lutter" created="Wed, 18 Jan 2012 14:47:57 +0000"  >&lt;p&gt;I encountered this issue as well and it would require me some efforts to work around this, so I&apos;d be really happy if this will be fixed!&lt;/p&gt;</comment>
                            <comment id="13255606" author="phabricator@reviews.facebook.net" created="Tue, 17 Apr 2012 14:48:18 +0000"  >&lt;p&gt;tamtam180 requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; title=&quot;ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2703&quot;&gt;HIVE-2703&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2703&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;  ResultSetMetaData.getColumnType() always returns VARCHAR(string) as column type, no matter what the column type is for the partition column.&lt;/p&gt;

&lt;p&gt;  However DatabaseMetadata.getColumnType() returns correct type.&lt;/p&gt;


&lt;p&gt;  Create a table with a partition column having a type other than string, you will see that ResultSet.getColumnType() always returns string as the type for int or boolean or float columns...&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2829&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2829&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/6423/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/6423/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13255608" author="tamtam180" created="Tue, 17 Apr 2012 14:50:04 +0000"  >&lt;p&gt;I was attach a patch.&lt;br/&gt;
Could someone review this patch?&lt;/p&gt;</comment>
                            <comment id="13259387" author="phabricator@reviews.facebook.net" created="Mon, 23 Apr 2012 05:19:31 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; title=&quot;ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2703&quot;&gt;HIVE-2703&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2829&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2829&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13260298" author="hudson" created="Tue, 24 Apr 2012 06:51:25 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1392 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1392/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1392/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; title=&quot;ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2703&quot;&gt;HIVE-2703&lt;/a&gt; ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns&lt;br/&gt;
irrespective of partition column type (tamtam180 via namit) (Revision 1329492)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1329492&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1329492&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13284277" author="namit" created="Mon, 28 May 2012 03:01:17 +0000"  >&lt;p&gt;Re-opening.&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3059&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-3059&lt;/a&gt; for details.&lt;/p&gt;</comment>
                            <comment id="13284607" author="hudson" created="Tue, 29 May 2012 02:45:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1455 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1455/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1455/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3059&quot; title=&quot;revert HIVE-2703&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3059&quot;&gt;&lt;del&gt;HIVE-3059&lt;/del&gt;&lt;/a&gt;. Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; title=&quot;ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2703&quot;&gt;HIVE-2703&lt;/a&gt;, add testcase for non-string partition columns&lt;br/&gt;
           passed to transform operator, updated TestJdbcDriver.&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1343331)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1343331&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1343331&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/partcols1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partcols1.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13403048" author="the6campbells" created="Thu, 28 Jun 2012 12:13:47 +0000"  >&lt;p&gt;Is this fix (or any other) addressing similar issues with respect to map, array, struct... where the type is always returned and described a string type?&lt;/p&gt;</comment>
                            <comment id="13548102" author="hudson" created="Wed, 9 Jan 2013 10:24:24 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3059&quot; title=&quot;revert HIVE-2703&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3059&quot;&gt;&lt;del&gt;HIVE-3059&lt;/del&gt;&lt;/a&gt;. Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; title=&quot;ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2703&quot;&gt;HIVE-2703&lt;/a&gt;, add testcase for non-string partition columns&lt;br/&gt;
           passed to transform operator, updated TestJdbcDriver.&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1343331)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2703&quot; title=&quot;ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns irrespective of partition column type&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2703&quot;&gt;HIVE-2703&lt;/a&gt; ResultSetMetaData.getColumnType() always returns VARCHAR(string) for partition columns&lt;br/&gt;
irrespective of partition column type (tamtam180 via namit) (Revision 1329492)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1343331&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1343331&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/partcols1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partcols1.q.out&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1329492&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1329492&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12522955" name="ASF.LICENSE.NOT.GRANTED--HIVE-2703.D2829.1.patch" size="11580" author="phabricator@reviews.facebook.net" created="Tue, 17 Apr 2012 14:48:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Jan 2012 14:47:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223384</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02upj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14576</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2704] Hive Hangs when I run SQL query with where clause</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2704</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I have setup Hadoop hadoop-0.20.203.0 and  hive-0.7.1 in Red Hat Enterprise Linux AS release 4 (Nahant Update 6)&lt;br/&gt;
In Hive when I fire a simple SQL query it gives resuult. whereas when I fire a query with where clause it hangs. I have tried even setting fairaScheduler. No luck. Please help me&lt;/p&gt;

&lt;p&gt;hive&amp;gt; show tables;&lt;br/&gt;
OK&lt;br/&gt;
user_mstr&lt;br/&gt;
Time taken: 4.568 seconds&lt;br/&gt;
hive&amp;gt; select * from user_mstr;&lt;br/&gt;
OK&lt;br/&gt;
MGMT_VIEW,58,OPEN,04-JUN-12     NULL    NULL    NULL&lt;br/&gt;
SYS,0,OPEN,04-JUN-12    NULL    NULL    NULL&lt;br/&gt;
SYSTEM,5,OPEN,04-JUN-12 NULL    NULL    NULL&lt;br/&gt;
DBSNMP,29,OPEN,04-JUN-12        NULL    NULL    NULL&lt;br/&gt;
SYSMAN,56,OPEN,04-JUN-12        NULL    NULL    NULL&lt;br/&gt;
APPS,63,OPEN,05-JUN-12  NULL    NULL    NULL&lt;br/&gt;
OUTLN,9,EXPIRED &amp;amp; LOCKED,07-DEC-11      NULL    NULL    NULL&lt;br/&gt;
FLOWS_FILES,59,EXPIRED &amp;amp; LOCKED,07-DEC-11       NULL    NULL    NULL&lt;br/&gt;
MDSYS,54,EXPIRED &amp;amp; LOCKED,07-DEC-11     NULL    NULL    NULL&lt;br/&gt;
ORDDATA,51,EXPIRED &amp;amp; LOCKED,07-DEC-11   NULL    NULL    NULL&lt;br/&gt;
ORDSYS,50,EXPIRED &amp;amp; LOCKED,07-DEC-11    NULL    NULL    NULL&lt;br/&gt;
ANONYMOUS,43,EXPIRED &amp;amp; LOCKED,07-DEC-11 NULL    NULL    NULL&lt;br/&gt;
EXFSYS,41,EXPIRED &amp;amp; LOCKED,07-DEC-11    NULL    NULL    NULL&lt;br/&gt;
WMSYS,31,EXPIRED &amp;amp; LOCKED,07-DEC-11     NULL    NULL    NULL&lt;br/&gt;
XDB,42,EXPIRED &amp;amp; LOCKED,07-DEC-11       NULL    NULL    NULL&lt;br/&gt;
APPQOSSYS,30,EXPIRED &amp;amp; LOCKED,07-DEC-11 NULL    NULL    NULL&lt;br/&gt;
ORDPLUGINS,52,EXPIRED &amp;amp; LOCKED,07-DEC-11        NULL    NULL    NULL&lt;br/&gt;
APEX_030200,62,EXPIRED &amp;amp; LOCKED,07-DEC-11       NULL    NULL    NULL&lt;br/&gt;
SI_INFORMTN_SCHEMA,53,EXPIRED &amp;amp; LOCKED,07-DEC-11        NULL    NULL    NULL&lt;br/&gt;
DIP,14,EXPIRED &amp;amp; LOCKED,07-DEC-11       NULL    NULL    NULL&lt;br/&gt;
APEX_PUBLIC_USER,60,EXPIRED &amp;amp; LOCKED,07-DEC-11  NULL    NULL    NULL&lt;br/&gt;
ORACLE_OCM,21,EXPIRED &amp;amp; LOCKED,07-DEC-11        NULL    NULL    NULL&lt;br/&gt;
XS$NULL,2147483638,EXPIRED &amp;amp; LOCKED,07-DEC-11   NULL    NULL    NULL&lt;br/&gt;
Time taken: 0.738 seconds&lt;br/&gt;
hive&amp;gt; select username from user_mstr where status=&apos;OPEN&apos;;&lt;br/&gt;
Total MapReduce jobs = 1&lt;br/&gt;
Launching Job 1 out of 1&lt;br/&gt;
Number of reduce tasks is set to 0 since there&apos;s no reduce operator&lt;br/&gt;
Starting Job = job_201201101150_0001, Tracking URL = &lt;a href=&quot;http://localhost:50030/jobdetails.jsp?jobid=job_201201101150_0001&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50030/jobdetails.jsp?jobid=job_201201101150_0001&lt;/a&gt;&lt;br/&gt;
Kill Command = /home/dbcoe/apps/uma/hadoop/hadoop-0.20.203.0/bin/../bin/hadoop job  -Dmapred.job.tracker=localhost:4004 -kill job_201201101150_0001&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;dbcoe@pc-a400158 conf&amp;#93;&lt;/span&gt;$ hive&lt;br/&gt;
WARNING: org.apache.hadoop.metrics.jvm.EventCounter is deprecated. Please use org.apache.hadoop.log.metrics.EventCounter in all the log4j.properties files.&lt;br/&gt;
Hive history file=/tmp/dbcoe/hive_job_log_dbcoe_201201101615_923409152.txt&lt;br/&gt;
hive&amp;gt; show tables;&lt;br/&gt;
OK&lt;br/&gt;
user_mstr&lt;br/&gt;
Time taken: 4.766 seconds&lt;br/&gt;
hive&amp;gt; select count(1) from user_mstr;&lt;br/&gt;
Total MapReduce jobs = 1&lt;br/&gt;
Launching Job 1 out of 1&lt;br/&gt;
Number of reduce tasks determined at compile time: 1&lt;br/&gt;
In order to change the average load for a reducer (in bytes):&lt;br/&gt;
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to limit the maximum number of reducers:&lt;br/&gt;
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;&lt;br/&gt;
In order to set a constant number of reducers:&lt;br/&gt;
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;&lt;br/&gt;
Starting Job = job_201201101150_0002, Tracking URL = &lt;a href=&quot;http://localhost:50030/jobdetails.jsp?jobid=job_201201101150_0002&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:50030/jobdetails.jsp?jobid=job_201201101150_0002&lt;/a&gt;&lt;br/&gt;
Kill Command = /home/dbcoe/apps/uma/hadoop/hadoop-0.20.203.0/bin/../bin/hadoop job  -Dmapred.job.tracker=localhost:4004 -kill job_201201101150_0002&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux RedHat server&lt;/p&gt;</environment>
        <key id="12537892">HIVE-2704</key>
            <summary>Hive Hangs when I run SQL query with where clause</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="umasantharam">Uma</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jan 2012 11:36:55 +0000</created>
                <updated>Sat, 26 May 2012 00:09:45 +0000</updated>
                            <resolved>Sat, 26 May 2012 00:09:45 +0000</resolved>
                                    <version>0.7.1</version>
                                    <fixVersion>0.7.1</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="172800">48h</timeoriginalestimate>
                            <timeestimate seconds="172800">48h</timeestimate>
                                                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223398</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124088</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This is likely a set up issue. </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2705] SemanticAnalyzer twice swallows an exception it shouldn&apos;t</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2705</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Twice SemanticAnalyzer catches an exception and drops it, just passing on the original message&apos;s in a new SemanticException. This means that those that see the message in the output cannot tell what generated the original exception.  These original exceptions should be wrapped, as they are in other parts of the code.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12537966">HIVE-2705</key>
            <summary>SemanticAnalyzer twice swallows an exception it shouldn&apos;t</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jghoman">Jakob Homan</assignee>
                                    <reporter username="jghoman">Jakob Homan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jan 2012 21:08:47 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:24 +0000</updated>
                            <resolved>Wed, 11 Jan 2012 15:28:26 +0000</resolved>
                                    <version>0.7.1</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13183568" author="jghoman" created="Tue, 10 Jan 2012 21:10:55 +0000"  >&lt;p&gt;Simple patch fixes the two instances of this I found in SemanticAnalyzer.  I&apos;m not wild about taking the message and making it the new exception&apos;s message, rather than just completely wrapping the original, but this is consistent with other uses in the file.  This is a simple change, so I&apos;ve not included tests, but did verify the new code while debugging a separate issue.&lt;/p&gt;</comment>
                            <comment id="13183852" author="ashutoshc" created="Wed, 11 Jan 2012 04:20:25 +0000"  >&lt;p&gt;+1 Running tests.&lt;/p&gt;</comment>
                            <comment id="13184127" author="ashutoshc" created="Wed, 11 Jan 2012 15:28:26 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Jakob!&lt;/p&gt;</comment>
                            <comment id="13184348" author="hudson" created="Wed, 11 Jan 2012 20:20:54 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1193 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1193/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1193/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2705&quot; title=&quot;SemanticAnalyzer twice swallows an exception it shouldn&amp;#39;t&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2705&quot;&gt;&lt;del&gt;HIVE-2705&lt;/del&gt;&lt;/a&gt;: SemanticAnalyzer twice swallows an exception it shouldn&apos;t (jghoman via hashutosh)&lt;/p&gt;

&lt;p&gt;hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230091&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230091&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13187021" author="hudson" created="Mon, 16 Jan 2012 16:51:26 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21-dbg #5 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/5/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/5/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2705&quot; title=&quot;SemanticAnalyzer twice swallows an exception it shouldn&amp;#39;t&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2705&quot;&gt;&lt;del&gt;HIVE-2705&lt;/del&gt;&lt;/a&gt;: SemanticAnalyzer twice swallows an exception it shouldn&apos;t (jghoman via hashutosh)&lt;/p&gt;

&lt;p&gt;hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230091&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230091&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265334" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:46 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548104" author="hudson" created="Wed, 9 Jan 2013 10:24:24 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2705&quot; title=&quot;SemanticAnalyzer twice swallows an exception it shouldn&amp;#39;t&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2705&quot;&gt;&lt;del&gt;HIVE-2705&lt;/del&gt;&lt;/a&gt;: SemanticAnalyzer twice swallows an exception it shouldn&apos;t (jghoman via hashutosh) (Revision 1230091)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230091&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1230091&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510101" name="HIVE-2705.patch" size="889" author="jghoman" created="Tue, 10 Jan 2012 21:10:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Jan 2012 04:20:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223472</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124089</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2706] StackOverflowError when using custom UDF after adding archive after adding jars</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2706</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When a custom UDF is used in a query after add an archive, such as a zip file, after adding jars, the XMLEncoder enters an infinite loop when serializing the map reduce task, as part of sending it to be executed. This results in a stack overflow error.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12537973">HIVE-2706</key>
            <summary>StackOverflowError when using custom UDF after adding archive after adding jars</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Jan 2012 21:46:19 +0000</created>
                <updated>Wed, 10 Apr 2013 03:43:22 +0000</updated>
                            <resolved>Wed, 11 Jan 2012 03:44:40 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13183614" author="phabricator@reviews.facebook.net" created="Tue, 10 Jan 2012 21:50:39 +0000"  >&lt;p&gt;kevinwilfong requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2706&quot; title=&quot;StackOverflowError when using custom UDF after adding archive after adding jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2706&quot;&gt;&lt;del&gt;HIVE-2706&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; StackOverflowError when using custom UDF after adding archive after adding jars&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2706&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2706&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  The issue was that the current thread&apos;s classloader and the classloader in the conf differed due to the prehook updating only the current thread&apos;s classloader with new jars.  Now, it updates both classloaders, fixing the issue.&lt;/p&gt;

&lt;p&gt;  When a custom UDF is used in a query after add an archive, such as a zip file, after adding jars, the XMLEncoder enters an infinite loop when serializing the map reduce task, as part of sending it to be executed. This results in a stack overflow error.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1167&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1167&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/processors/AddResourceProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/processors/DeleteResourceProcessor.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2439/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2439/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13183625" author="phabricator@reviews.facebook.net" created="Tue, 10 Jan 2012 21:56:40 +0000"  >&lt;p&gt;kevinwilfong updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2706&quot; title=&quot;StackOverflowError when using custom UDF after adding archive after adding jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2706&quot;&gt;&lt;del&gt;HIVE-2706&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; StackOverflowError when using custom UDF after adding archive after adding jars&quot;.&lt;br/&gt;
Reviewers: JIRA, heyongqiang, njain&lt;/p&gt;

&lt;p&gt;  Fixed imports.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1167&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1167&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/processors/AddResourceProcessor.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/processors/DeleteResourceProcessor.java&lt;/p&gt;</comment>
                            <comment id="13183839" author="he yongqiang" created="Wed, 11 Jan 2012 03:44:40 +0000"  >&lt;p&gt;committed, thanks Kevin!&lt;/p&gt;</comment>
                            <comment id="13183840" author="phabricator@reviews.facebook.net" created="Wed, 11 Jan 2012 03:45:39 +0000"  >&lt;p&gt;heyongqiang has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2706&quot; title=&quot;StackOverflowError when using custom UDF after adding archive after adding jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2706&quot;&gt;&lt;del&gt;HIVE-2706&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; StackOverflowError when using custom UDF after adding archive after adding jars&quot;.&lt;/p&gt;

&lt;p&gt;  tests passed&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1167&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1167&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13183844" author="phabricator@reviews.facebook.net" created="Wed, 11 Jan 2012 03:49:39 +0000"  >&lt;p&gt;heyongqiang has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2706&quot; title=&quot;StackOverflowError when using custom UDF after adding archive after adding jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2706&quot;&gt;&lt;del&gt;HIVE-2706&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; StackOverflowError when using custom UDF after adding archive after adding jars&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1167&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1167&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1229885&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1229885&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13183940" author="hudson" created="Wed, 11 Jan 2012 08:14:13 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1192 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1192/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1192/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2706&quot; title=&quot;StackOverflowError when using custom UDF after adding archive after adding jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2706&quot;&gt;&lt;del&gt;HIVE-2706&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; StackOverflowError when using custom UDF after adding archive&lt;br/&gt;
after adding jars&lt;br/&gt;
(Kevin Wilfong via Yongqiang He)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2706&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2706&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The issue was that the current thread&apos;s classloader and the classloader in the&lt;br/&gt;
conf differed due to the prehook updating only the current thread&apos;s classloader&lt;br/&gt;
with new jars.  Now, it updates both classloaders, fixing the issue.&lt;/p&gt;

&lt;p&gt;When a custom UDF is used in a query after add an archive, such as a zip file,&lt;br/&gt;
after adding jars, the XMLEncoder enters an infinite loop when serializing the&lt;br/&gt;
map reduce task, as part of sending it to be executed. This results in a stack&lt;br/&gt;
overflow error.&lt;/p&gt;

&lt;p&gt;Test Plan: Verified it fixed the stack overflow error.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, heyongqiang, njain&lt;/p&gt;

&lt;p&gt;Reviewed By: heyongqiang&lt;/p&gt;

&lt;p&gt;CC: heyongqiang&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D1167&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1167&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1229885&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1229885&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/AddResourceProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/DeleteResourceProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265231" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:14 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548091" author="hudson" created="Wed, 9 Jan 2013 10:24:21 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2706&quot; title=&quot;StackOverflowError when using custom UDF after adding archive after adding jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2706&quot;&gt;&lt;del&gt;HIVE-2706&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; StackOverflowError when using custom UDF after adding archive&lt;br/&gt;
after adding jars&lt;br/&gt;
(Kevin Wilfong via Yongqiang He)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2706&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2706&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The issue was that the current thread&apos;s classloader and the classloader in the&lt;br/&gt;
conf differed due to the prehook updating only the current thread&apos;s classloader&lt;br/&gt;
with new jars.  Now, it updates both classloaders, fixing the issue.&lt;/p&gt;

&lt;p&gt;When a custom UDF is used in a query after add an archive, such as a zip file,&lt;br/&gt;
after adding jars, the XMLEncoder enters an infinite loop when serializing the&lt;br/&gt;
map reduce task, as part of sending it to be executed. This results in a stack&lt;br/&gt;
overflow error.&lt;/p&gt;

&lt;p&gt;Test Plan: Verified it fixed the stack overflow error.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, heyongqiang, njain&lt;/p&gt;

&lt;p&gt;Reviewed By: heyongqiang&lt;/p&gt;

&lt;p&gt;CC: heyongqiang&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D1167&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1167&lt;/a&gt; (Revision 1229885)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1229885&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1229885&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/AddResourceProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/DeleteResourceProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12641520">HIVE-4317</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12510109" name="ASF.LICENSE.NOT.GRANTED--HIVE-2706.D1167.1.patch" size="6483" author="phabricator@reviews.facebook.net" created="Tue, 10 Jan 2012 21:50:40 +0000"/>
                            <attachment id="12510111" name="ASF.LICENSE.NOT.GRANTED--HIVE-2706.D1167.2.patch" size="4546" author="phabricator@reviews.facebook.net" created="Tue, 10 Jan 2012 21:56:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Jan 2012 21:50:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223479</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2707] Ant&apos;s untar task can&apos;t handle symlinks</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2707</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12538009">HIVE-2707</key>
            <summary>Ant&apos;s untar task can&apos;t handle symlinks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jan 2012 02:07:41 +0000</created>
                <updated>Sat, 20 Apr 2013 23:24:05 +0000</updated>
                            <resolved>Sat, 20 Apr 2013 23:24:05 +0000</resolved>
                                    <version>0.8.0</version>
                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13183793" author="cwsteinbach" created="Wed, 11 Jan 2012 02:08:30 +0000"  >&lt;p&gt;Ref: &lt;a href=&quot;https://issues.apache.org/bugzilla/show_bug.cgi?id=19252&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/bugzilla/show_bug.cgi?id=19252&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is a problem because the 0.23.x tarballs contain symlinks.&lt;/p&gt;</comment>
                            <comment id="13183855" author="ashutoshc" created="Wed, 11 Jan 2012 04:35:25 +0000"  >&lt;p&gt;Shall we first check if tar command is available and then execute it? If not available, then invoke untar task only. Else, this will break build on systems where tar is not available even for 0.20x series.&lt;/p&gt;</comment>
                            <comment id="13184736" author="cwsteinbach" created="Thu, 12 Jan 2012 05:25:16 +0000"  >&lt;p&gt;@Ashutosh: Chances are that if tar is not available on your system, then you probably shouldn&apos;t try to build Hive there anyway (e.g. Windows).&lt;/p&gt;</comment>
                            <comment id="13188202" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 02:13:39 +0000"  >&lt;p&gt;cwsteinbach requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2707&quot; title=&quot;Ant&amp;#39;s untar task can&amp;#39;t handle symlinks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2707&quot;&gt;&lt;del&gt;HIVE-2707&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Ant&apos;s untar task can&apos;t handle symlinks&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Execute tar directly instead of using Ant&apos;s untar task&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1287&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1287&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build-common.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2691/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2691/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13637402" author="ashutoshc" created="Sat, 20 Apr 2013 23:24:05 +0000"  >&lt;p&gt;Since we no longer rely on tarballs anymore, this is a non-problem now. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510932" name="ASF.LICENSE.NOT.GRANTED--HIVE-2707.D1287.1.patch" size="975" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 02:13:39 +0000"/>
                            <attachment id="12510145" name="HIVE-2707.1.patch.txt" size="958" author="cwsteinbach" created="Wed, 11 Jan 2012 02:14:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Jan 2012 04:35:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223515</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 40 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124091</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2708] Hive MR local jobs fail on Hadoop 0.23</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2708</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive MR local jobs fail on 0.23 with following exception:&lt;/p&gt;

&lt;p&gt;Job running in-process (local Hadoop)&lt;br/&gt;
Hadoop job information for null: number of mappers: 0; number of reducers: 0&lt;br/&gt;
java.io.IOException: Could not find status of job:job_local_0001&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.HadoopJobExecHelper.progress(HadoopJobExecHelper.java:291)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.HadoopJobExecHelper.progress(HadoopJobExecHelper.java:685)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:458)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:710)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:189)&lt;br/&gt;
Ended Job = job_local_0001 with exception &apos;java.io.IOException(Could not find status of job:job_local_0001)&apos;&lt;br/&gt;
Execution&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538020">HIVE-2708</key>
            <summary>Hive MR local jobs fail on Hadoop 0.23</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="amareshwari">Amareshwari Sriramadasu</assignee>
                                    <reporter username="amareshwari">Amareshwari Sriramadasu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jan 2012 06:00:22 +0000</created>
                <updated>Tue, 24 Jan 2012 06:35:23 +0000</updated>
                            <resolved>Tue, 24 Jan 2012 06:35:22 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13185146" author="vinodkv" created="Thu, 12 Jan 2012 19:00:51 +0000"  >&lt;p&gt;Amareshwari, this is highly likely a mapreduce issue. Can you paste the complete logs, possibly enabling the DEBUG mode? I am watching this issue, so we can proceed here for now.&lt;/p&gt;</comment>
                            <comment id="13185432" author="amareshwari" created="Fri, 13 Jan 2012 04:54:11 +0000"  >&lt;p&gt;Attaching the complete execution log for the local job.&lt;/p&gt;</comment>
                            <comment id="13185448" author="amareshwari" created="Fri, 13 Jan 2012 06:05:28 +0000"  >&lt;p&gt;Here is code flow in Hive:&lt;/p&gt;

&lt;p&gt;RunningJob rj = jobClient.submitJob(jobConf);&lt;/p&gt;

&lt;p&gt;while (!rj.complete()) {&lt;br/&gt;
  // sleep for a second&lt;br/&gt;
  // print the number of mappers and reducers of the job&lt;/p&gt;

&lt;p&gt;  RunningJob newRj = jc.getJob(jobId);&lt;br/&gt;
  if (newRj == null) &lt;/p&gt;
{ //fail with exception }
&lt;p&gt;  else &lt;/p&gt;
{ rj = newRj }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;I tried removing the sleep and running the same job, now the log looks like:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2012-01-13 11:13:14,004 INFO  exec.ExecDriver (SessionState.java:printInfo(371)) - Job running in-process (local Hadoop)
2012-01-13 11:13:14,021 INFO  exec.HadoopJobExecHelper (HadoopJobExecHelper.java:progress(234)) - job id:job_local_0001
2012-01-13 11:13:14,054 INFO  exec.ExecDriver (SessionState.java:printInfo(371)) - Hadoop job information for null: number of mappers: 0; number of reducers: 0
2012-01-13 11:13:14,060 ERROR exec.ExecDriver (SessionState.java:printError(380)) - Ended Job = job_local_0001 with exception &apos;java.io.IOException(Could not find status of job:job_local_0001)&apos;
java.io.IOException: Could not find status of job:job_local_0001
  at org.apache.hadoop.hive.ql.exec.HadoopJobExecHelper.progress(HadoopJobExecHelper.java:291)
  at org.apache.hadoop.hive.ql.exec.HadoopJobExecHelper.progress(HadoopJobExecHelper.java:685)
  at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:458)
  at org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:710)
  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
  at java.lang.reflect.Method.invoke(Method.java:597)
  at org.apache.hadoop.util.RunJar.main(RunJar.java:189)

2012-01-13 11:13:14,068 INFO  mapred.LocalJobRunner (LocalJobRunner.java:run(344)) - Waiting for map tasks
2012-01-13 11:13:14,076 INFO  mapred.LocalJobRunner (LocalJobRunner.java:run(207)) - Starting task: attempt_local_0001_m_000000_0
2012-01-13 11:13:14,128 WARN  mapred.LocalJobRunner (LocalJobRunner.java:run(437)) - job_local_0001
java.lang.InterruptedException
  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:1899)
  at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1976)
  at java.util.concurrent.ThreadPoolExecutor.awaitTermination(ThreadPoolExecutor.java:1245)
  at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:345)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looks like the api JobClient.getJob(jobId) is broken in 0.23. Vinod, Can you confirm this?&lt;/p&gt;</comment>
                            <comment id="13191912" author="amareshwari" created="Tue, 24 Jan 2012 06:06:19 +0000"  >&lt;p&gt;Did not see this when build was made against 0.23 alone by running the following:&lt;/p&gt;

&lt;p&gt;ant clean package -Dshims.include=0.23 -Dhadoop.version=0.23.0 -Dhadoop.security.version=0.23.0 tar&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510459" name="localjob-hive-mr23.txt" size="26236" author="amareshwari" created="Fri, 13 Jan 2012 04:54:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Jan 2012 19:00:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223526</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124092</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2709] Semantic Analysis failed for GroupBy query with aliase.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2709</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>
&lt;p&gt;In the SQL ,&lt;/p&gt;

&lt;p&gt;&quot;select empno from test t group by t.empno&quot;&lt;/p&gt;

&lt;p&gt;type of query work fine where as in hive ,below exception&lt;/p&gt;

&lt;p&gt;&quot;org.apache.hadoop.hive.ql.parse.SemanticException: line 1:7 Expression Not In Group By Key ename&quot;.&lt;/p&gt;

&lt;p&gt;For the above, column_name with aliase work fine i.e&lt;/p&gt;

&lt;p&gt;&quot;select t.empno from test t group by t.empno&quot; is work fine.&lt;/p&gt;</description>
                <environment>&lt;p&gt;SuSE11 SP1&lt;/p&gt;</environment>
        <key id="12538030">HIVE-2709</key>
            <summary>Semantic Analysis failed for GroupBy query with aliase.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rohithsharma">Rohith Sharma K S</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jan 2012 08:55:29 +0000</created>
                <updated>Fri, 20 Jan 2012 11:34:40 +0000</updated>
                                            <version>0.8.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13185500" author="navis" created="Fri, 13 Jan 2012 08:58:03 +0000"  >&lt;p&gt;Hive does not search column properly if row resolver of previous operator is expressional (rs or gby). If some equivalent logic is added, this issue could be resolved. &lt;/p&gt;

&lt;p&gt;Attached patch is just a simple scratch.&lt;/p&gt;</comment>
                            <comment id="13188242" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 03:17:40 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2709&quot; title=&quot;Semantic Analysis failed for GroupBy query with aliase.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2709&quot;&gt;HIVE-2709&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Semantic Analysis failed for GroupBy query with aliase.&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-625 Semantic Analysis failed for GroupBy query with aliase&lt;/p&gt;

&lt;p&gt;  In the SQL ,&lt;/p&gt;

&lt;p&gt;  &quot;select empno from test t group by t.empno&quot;&lt;/p&gt;

&lt;p&gt;  type of query work fine where as in hive ,below exception&lt;/p&gt;

&lt;p&gt;  &quot;org.apache.hadoop.hive.ql.parse.SemanticException: line 1:7 Expression Not In Group By Key ename&quot;.&lt;/p&gt;

&lt;p&gt;  For the above, column_name with aliase work fine i.e&lt;/p&gt;

&lt;p&gt;  &quot;select t.empno from test t group by t.empno&quot; is work fine.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1305&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ExprRowResolver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/RowResolver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby_alias.q&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby_alias.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2709/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2709/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13188246" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 03:21:41 +0000"  >&lt;p&gt;navis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2709&quot; title=&quot;Semantic Analysis failed for GroupBy query with aliase.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2709&quot;&gt;HIVE-2709&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Semantic Analysis failed for GroupBy query with aliase.&quot;.&lt;/p&gt;

&lt;p&gt;  Resolves  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-695&quot; title=&quot;sort by does not support columns along with table alias when there is a group by&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-695&quot;&gt;HIVE-695&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1449&quot; title=&quot;Table aliases in order by clause lead to semantic analysis failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1449&quot;&gt;HIVE-1449&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2348&quot; title=&quot;Group by and order by of the same columns fails semantic analysis&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2348&quot;&gt;HIVE-2348&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2709&quot; title=&quot;Semantic Analysis failed for GroupBy query with aliase.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2709&quot;&gt;HIVE-2709&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1305&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1305&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13189741" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 11:34:39 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2709&quot; title=&quot;Semantic Analysis failed for GroupBy query with aliase.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2709&quot;&gt;HIVE-2709&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Semantic Analysis failed for GroupBy query with aliase.&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  support searching table.column from column name&lt;br/&gt;
  move notable_alias3 to positive&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1305&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1305&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/ExprRowResolver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/RowResolver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby_alias.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/notable_alias3.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/notable_alias3.q&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby_alias.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/notable_alias3.q.out&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510938" name="ASF.LICENSE.NOT.GRANTED--HIVE-2709.D1305.1.patch" size="38881" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 03:17:41 +0000"/>
                            <attachment id="12511252" name="ASF.LICENSE.NOT.GRANTED--HIVE-2709.D1305.2.patch" size="38913" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 11:34:40 +0000"/>
                            <attachment id="12510474" name="HIVE-2709.1.patch.txt" size="2348" author="navis" created="Fri, 13 Jan 2012 08:58:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Jan 2012 08:58:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223536</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124093</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2710] row_sequence UDF is not documented</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2710</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;row_sequence UDF was implemented in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1304&quot; title=&quot;add row_sequence UDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1304&quot;&gt;&lt;del&gt;HIVE-1304&lt;/del&gt;&lt;/a&gt;, however the function is not documented on hive wiki.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538177">HIVE-2710</key>
            <summary>row_sequence UDF is not documented</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sho.shimauchi">Sho Shimauchi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jan 2012 10:41:12 +0000</created>
                <updated>Wed, 8 Feb 2017 05:39:20 +0000</updated>
                            <resolved>Wed, 8 Feb 2017 05:39:20 +0000</resolved>
                                                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15857440" author="apivovarov" created="Wed, 8 Feb 2017 05:39:07 +0000"  >&lt;p&gt;row_sequence UDF was moved to contrib package.&lt;br/&gt;
Usually we do not describe contrib package UDFs in LanguageManual UDF&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Feb 2017 05:39:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223683</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2711] Make the header of RCFile unique</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2711</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The RCFile implementation was copied from Hadoop&apos;s SequenceFile and copied the &apos;magic&apos; string in the header. This means that you can&apos;t use the header to distinguish between RCFiles and SequenceFiles.&lt;/p&gt;

&lt;p&gt;I&apos;d propose that we create a new header for RCFiles (RCF?) to replace the current SEQ. To maintain compatibility, we&apos;ll need to continue to accept the current &apos;SEQ\06&apos; and just make new files contain the new header.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538222">HIVE-2711</key>
            <summary>Make the header of RCFile unique</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="owen.omalley">Owen O&apos;Malley</assignee>
                                    <reporter username="owen.omalley">Owen O&apos;Malley</reporter>
                        <labels>
                            <label>rcfile</label>
                    </labels>
                <created>Thu, 12 Jan 2012 16:30:45 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:20 +0000</updated>
                            <resolved>Thu, 12 Apr 2012 18:47:29 +0000</resolved>
                                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13222846" author="phabricator@reviews.facebook.net" created="Tue, 6 Mar 2012 01:03:54 +0000"  >&lt;p&gt;omalley requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make the header of RCFile unique&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Make the header of RCFile unique wrt SequenceFile&lt;/p&gt;

&lt;p&gt;  The RCFile implementation was copied from Hadoop&apos;s SequenceFile and copied the &apos;magic&apos; string in the header. This means that you can&apos;t use the header to distinguish between RCFiles and SequenceFiles.&lt;/p&gt;

&lt;p&gt;  I&apos;d propose that we create a new header for RCFiles (RCF?) to replace the current SEQ. To maintain compatibility, we&apos;ll need to continue to accept the current &apos;SEQ\06&apos; and just make new files contain the new header.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2115&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2115&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;br/&gt;
  ql/src/test/data/rc-file-v0.rc&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/TestRCFile.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4587/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4587/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13237371" author="ashutoshc" created="Sat, 24 Mar 2012 00:57:46 +0000"  >&lt;p&gt;@Owen,&lt;br/&gt;
 I think original design of RCFile was done with compatibility with Sequence File in mind. This patch will break that. Whats the advantage of this change?&lt;/p&gt;</comment>
                            <comment id="13238857" author="owen.omalley" created="Mon, 26 Mar 2012 21:25:37 +0000"  >&lt;p&gt;The compatibility is very fragile in that SequenceFile can only read an RCFile if they have the RCFile class since the key and value classes are contained in RCFile.java. Additionally, SequenceFile would present the RCFile blocks instead of the RCFile rows.&lt;/p&gt;

&lt;p&gt;Furthermore, in the future if either RCFile or SequenceFile has a new format revision, it breaks badly.&lt;/p&gt;</comment>
                            <comment id="13242930" author="ashutoshc" created="Sat, 31 Mar 2012 01:34:34 +0000"  >&lt;p&gt;That makes sense. I will take a look.&lt;/p&gt;</comment>
                            <comment id="13242932" author="phabricator@reviews.facebook.net" created="Sat, 31 Mar 2012 01:39:24 +0000"  >&lt;p&gt;ashutoshc has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make the header of RCFile unique&quot;.&lt;/p&gt;

&lt;p&gt;  It seems like you are backward compatible with SEQ6 but not for anything before that. If the intent is to break backward compatibility, then I think we should send an email on both dev and user list about this change, since folks might have historical data in this format, which can&apos;t be read then.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java:1205 By doing this, you are effectively dropping the ability to read data before version SEQ6. This is backward incompatible change.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java:1224 By removing this, you will not be able to read data before version SEQ2.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java:1252 This removes ability to read before version 6.&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java:1256 This removes ability to read before SEQ1&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java:1357 This removes ability to read before SEQ1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2115&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2115&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13243910" author="phabricator@reviews.facebook.net" created="Mon, 2 Apr 2012 00:06:26 +0000"  >&lt;p&gt;omalley has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make the header of RCFile unique&quot;.&lt;/p&gt;

&lt;p&gt;  Ashutosh,&lt;/p&gt;

&lt;p&gt;  My point is that RCFile was &lt;b&gt;always&lt;/b&gt; distinct from Sequence Files. RCFile was a fork of Sequence File when the Sequence File version was 6, therefore nothing before version 6 can possibly be an RCFile.&lt;/p&gt;

&lt;p&gt;  Headers:&lt;br/&gt;
    Sequence Files: SEQ1, SEQ2, SEQ3, SEQ4, SEQ5, SEQ6&lt;br/&gt;
    RCFiles: SEQ6, RCF1&lt;/p&gt;

&lt;p&gt;  Also note that SEQ5 was last written by Hadoop 0.10 back in Feb 2007, a year and a half before Hive was created.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2115&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2115&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13243918" author="ashutoshc" created="Mon, 2 Apr 2012 00:21:59 +0000"  >&lt;p&gt;I see. Yeah, very first commit of RCFile &lt;a href=&quot;http://svn.apache.org/viewvc/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java?view=markup&amp;amp;pathrev=770548&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/hadoop/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java?view=markup&amp;amp;pathrev=770548&lt;/a&gt; started with SEQ6 so there could possibly be no data written in RCFile format with version SEQ5 or earlier. So, backward compatibility with SEQ6 suffices. So, +1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13243920" author="ashutoshc" created="Mon, 2 Apr 2012 00:30:05 +0000"  >&lt;p&gt;Patch fails to apply. Needs to be rebased.&lt;/p&gt;</comment>
                            <comment id="13244392" author="phabricator@reviews.facebook.net" created="Mon, 2 Apr 2012 18:09:19 +0000"  >&lt;p&gt;omalley requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make the header of RCFile unique&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Make the header of RCFile unique wrt SequenceFile&lt;/p&gt;

&lt;p&gt;  The RCFile implementation was copied from Hadoop&apos;s SequenceFile and copied the &apos;magic&apos; string in the header. This means that you can&apos;t use the header to distinguish between RCFiles and SequenceFiles.&lt;/p&gt;

&lt;p&gt;  I&apos;d propose that we create a new header for RCFiles (RCF?) to replace the current SEQ. To maintain compatibility, we&apos;ll need to continue to accept the current &apos;SEQ\06&apos; and just make new files contain the new header.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2571&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2571&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;br/&gt;
  ql/src/test/data/rc-file-v0.rc&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/TestRCFile.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/5835/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/5835/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13244404" author="phabricator@reviews.facebook.net" created="Mon, 2 Apr 2012 18:19:20 +0000"  >&lt;p&gt;omalley has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make the header of RCFile unique&quot;.&lt;/p&gt;

&lt;p&gt;  I accidentally got a new revision. This is the same as 2511.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2571&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2571&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13244406" author="phabricator@reviews.facebook.net" created="Mon, 2 Apr 2012 18:21:19 +0000"  >&lt;p&gt;omalley updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make the header of RCFile unique&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  updated to current trunk&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2115&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2115&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;br/&gt;
  ql/src/test/data/rc-file-v0.rc&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/TestRCFile.java&lt;/p&gt;</comment>
                            <comment id="13244981" author="ashutoshc" created="Tue, 3 Apr 2012 05:18:57 +0000"  >&lt;p&gt;Patch results failures in TestCliDriver in following queries:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;alter_concatenate_indexed_table.q&lt;/li&gt;
	&lt;li&gt;alter_merge.q&lt;/li&gt;
	&lt;li&gt;alter_merge_stats.q&lt;/li&gt;
	&lt;li&gt;create_merge_compressed.q&lt;/li&gt;
	&lt;li&gt;ctas.q&lt;/li&gt;
	&lt;li&gt;partition_wise_fileformat.q&lt;/li&gt;
	&lt;li&gt;partition_wise_fileformat3.q&lt;/li&gt;
	&lt;li&gt;sample10.q&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13246351" author="phabricator@reviews.facebook.net" created="Wed, 4 Apr 2012 15:19:22 +0000"  >&lt;p&gt;omalley updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make the header of RCFile unique&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Fixed unit tests based on the new file sizes.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2115&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2115&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;br/&gt;
  ql/src/test/data/rc-file-v0.rc&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/io/TestRCFile.java&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_concatenate_indexed_table.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/alter_merge_stats.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/create_merge_compressed.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ctas.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/partition_wise_fileformat.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/partition_wise_fileformat3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/sample10.q.out&lt;/p&gt;</comment>
                            <comment id="13246352" author="owen.omalley" created="Wed, 4 Apr 2012 15:20:13 +0000"  >&lt;p&gt;Sorry, I didn&apos;t re-run the test cases after removing the unused fields from the header. All of the unit tests pass now.&lt;/p&gt;</comment>
                            <comment id="13247463" author="phabricator@reviews.facebook.net" created="Thu, 5 Apr 2012 18:22:19 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make the header of RCFile unique&quot;.&lt;/p&gt;

&lt;p&gt;  +1&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2115&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2115&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  h-2711&lt;/p&gt;</comment>
                            <comment id="13247489" author="owen.omalley" created="Thu, 5 Apr 2012 18:36:53 +0000"  >&lt;p&gt;Here&apos;s the binary file that arc didn&apos;t include in the patch.&lt;/p&gt;</comment>
                            <comment id="13252720" author="ashutoshc" created="Thu, 12 Apr 2012 18:47:29 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Owen!&lt;/p&gt;</comment>
                            <comment id="13253070" author="hudson" created="Fri, 13 Apr 2012 03:07:55 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1370 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1370/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1370/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt; : Make the header of RCFile unique (Owen Omalley via Ashutosh Chauhan) (Revision 1325442)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1325442&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1325442&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/data&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/data/rc-file-v0.rc&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestRCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_concatenate_indexed_table.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_merge.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_merge_stats.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_merge_compressed.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ctas.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partition_wise_fileformat.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partition_wise_fileformat3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample10.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13274414" author="hudson" created="Mon, 14 May 2012 02:27:37 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1428 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1428/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1428/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3018&quot; title=&quot;Make the new header for RC Files introduced in HIVE-2711 optional&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3018&quot;&gt;&lt;del&gt;HIVE-3018&lt;/del&gt;&lt;/a&gt; Make the new header for RC Files introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt; optional&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1337937)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337937&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337937&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestRCFile.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548136" author="hudson" created="Wed, 9 Jan 2013 10:24:33 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3018&quot; title=&quot;Make the new header for RC Files introduced in HIVE-2711 optional&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3018&quot;&gt;&lt;del&gt;HIVE-3018&lt;/del&gt;&lt;/a&gt; Make the new header for RC Files introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt; optional&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1337937)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2711&quot; title=&quot;Make the header of RCFile unique&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2711&quot;&gt;&lt;del&gt;HIVE-2711&lt;/del&gt;&lt;/a&gt; : Make the header of RCFile unique (Owen Omalley via Ashutosh Chauhan) (Revision 1325442)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337937&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1337937&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestRCFile.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1325442&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1325442&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/data&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/data/rc-file-v0.rc&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestRCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_concatenate_indexed_table.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_merge.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/alter_merge_stats.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_merge_compressed.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ctas.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partition_wise_fileformat.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/partition_wise_fileformat3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample10.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550090" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:20 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12517173" name="ASF.LICENSE.NOT.GRANTED--HIVE-2711.D2115.1.patch" size="9125" author="phabricator@reviews.facebook.net" created="Tue, 6 Mar 2012 01:03:55 +0000"/>
                            <attachment id="12521003" name="ASF.LICENSE.NOT.GRANTED--HIVE-2711.D2115.2.patch" size="8787" author="phabricator@reviews.facebook.net" created="Mon, 2 Apr 2012 18:21:19 +0000"/>
                            <attachment id="12521316" name="ASF.LICENSE.NOT.GRANTED--HIVE-2711.D2115.3.patch" size="18783" author="phabricator@reviews.facebook.net" created="Wed, 4 Apr 2012 15:19:24 +0000"/>
                            <attachment id="12521001" name="ASF.LICENSE.NOT.GRANTED--HIVE-2711.D2571.1.patch" size="8787" author="phabricator@reviews.facebook.net" created="Mon, 2 Apr 2012 18:09:20 +0000"/>
                            <attachment id="12521545" name="rc-file-v0.rc" size="216" author="owen.omalley" created="Thu, 5 Apr 2012 18:36:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Mar 2012 01:03:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223728</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02urb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14584</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2712] Make ZooKeeper token store ACL configurable</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2712</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ACL needs to be set to secure the token store with ZK 3.4.&lt;br/&gt;
The patch will also include the review changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2467&quot; title=&quot;HA Support for Metastore Server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2467&quot;&gt;&lt;del&gt;HIVE-2467&lt;/del&gt;&lt;/a&gt; that were not committed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538244">HIVE-2712</key>
            <summary>Make ZooKeeper token store ACL configurable</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thw">Thomas Weise</assignee>
                                    <reporter username="thw">Thomas Weise</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jan 2012 18:32:30 +0000</created>
                <updated>Thu, 2 May 2013 02:29:48 +0000</updated>
                            <resolved>Sat, 25 Feb 2012 04:21:43 +0000</resolved>
                                    <version>0.8.0</version>
                    <version>0.8.1</version>
                    <version>0.9.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Metastore</component>
                    <component>Security</component>
                    <component>Server Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13192666" author="phabricator@reviews.facebook.net" created="Tue, 24 Jan 2012 23:40:40 +0000"  >&lt;p&gt;thw requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2712&quot; title=&quot;Make ZooKeeper token store ACL configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2712&quot;&gt;&lt;del&gt;HIVE-2712&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make ZooKeeper token store ACL configurable&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2712&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2712&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Patch contains changes for configurable ACL plus missed review changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2467&quot; title=&quot;HA Support for Metastore Server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2467&quot;&gt;&lt;del&gt;HIVE-2467&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;  ACL needs to be set to secure the token store with ZK 3.4.&lt;br/&gt;
  The patch will also include the review changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2467&quot; title=&quot;HA Support for Metastore Server &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2467&quot;&gt;&lt;del&gt;HIVE-2467&lt;/del&gt;&lt;/a&gt; that were not committed.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1401&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenStore.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2919/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2919/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13192710" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 00:36:40 +0000"  >&lt;p&gt;ashutoshc has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2712&quot; title=&quot;Make ZooKeeper token store ACL configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2712&quot;&gt;&lt;del&gt;HIVE-2712&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make ZooKeeper token store ACL configurable&quot;.&lt;/p&gt;

&lt;p&gt;  I dont see any test cases. Any way to easily write unit tests for it?&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenStore.java:35 Since its extending RuntimeException and not java.lang.Error I think it should be named TokenStoreException.&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java:198-221 Since all of these properties can be configured via hive-site.xml shall we document them in hive-default.xml.template too and also their default values?&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java:130 Shall we open a jira on ZK for them to refactor that code in ZK to make it available as public util method to avoid code duplication here?&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java:154-155 Use LOG.error instead of System.err.println&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java:215 If conf is null, you should throw IllegalStateException, no point in continuing without a valid ZK connect string. You are doing those checks later on as well in init() those can be removed then as well.&lt;br/&gt;
  shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java:86 Why is this required? To have an ability to test with external ZK?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1401&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1401&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13216045" author="phabricator@reviews.facebook.net" created="Fri, 24 Feb 2012 22:57:49 +0000"  >&lt;p&gt;thw updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2712&quot; title=&quot;Make ZooKeeper token store ACL configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2712&quot;&gt;&lt;del&gt;HIVE-2712&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make ZooKeeper token store ACL configurable&quot;.&lt;br/&gt;
Reviewers: JIRA, ashutoshc&lt;/p&gt;

&lt;p&gt;  Address review comments from Ashutosh. Added MiniZooKeeperCluster based tests.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1401&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  shims/src/test/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java&lt;br/&gt;
  shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenStore.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/p&gt;</comment>
                            <comment id="13216092" author="phabricator@reviews.facebook.net" created="Fri, 24 Feb 2012 23:21:46 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2712&quot; title=&quot;Make ZooKeeper token store ACL configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2712&quot;&gt;&lt;del&gt;HIVE-2712&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make ZooKeeper token store ACL configurable&quot;.&lt;/p&gt;

&lt;p&gt;  +1 Looks good. Lint is complaining about few lines being longer then 100 chars. Can you fix those and then upload the patch on jira granting perms?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1401&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  svn&lt;/p&gt;</comment>
                            <comment id="13216208" author="phabricator@reviews.facebook.net" created="Sat, 25 Feb 2012 01:11:48 +0000"  >&lt;p&gt;thw updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2712&quot; title=&quot;Make ZooKeeper token store ACL configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2712&quot;&gt;&lt;del&gt;HIVE-2712&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Make ZooKeeper token store ACL configurable&quot;.&lt;br/&gt;
Reviewers: JIRA, ashutoshc&lt;/p&gt;

&lt;p&gt;  Broke long lines in HiveConf. Let alone the import statements as this is how eclipse will generate them. Probably should adjust lint rules to ignore those as well.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1401&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1401&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  shims/src/test/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java&lt;br/&gt;
  shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenStore.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/p&gt;</comment>
                            <comment id="13216211" author="thw" created="Sat, 25 Feb 2012 01:14:19 +0000"  >&lt;p&gt;Patch with license grant. Need this patch on 0.8 branch also (no 0.8.2 fix version exists currently).&lt;/p&gt;</comment>
                            <comment id="13216296" author="ashutoshc" created="Sat, 25 Feb 2012 04:21:44 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Thomas!&lt;/p&gt;</comment>
                            <comment id="13216387" author="hudson" created="Sat, 25 Feb 2012 09:36:02 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1275 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1275/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1275/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2712&quot; title=&quot;Make ZooKeeper token store ACL configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2712&quot;&gt;&lt;del&gt;HIVE-2712&lt;/del&gt;&lt;/a&gt;: Make ZooKeeper token store ACL configurable (thw via hashutosh) (Revision 1293530)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1293530&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1293530&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265293" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:34 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548131" author="hudson" created="Wed, 9 Jan 2013 10:24:31 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2712&quot; title=&quot;Make ZooKeeper token store ACL configurable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2712&quot;&gt;&lt;del&gt;HIVE-2712&lt;/del&gt;&lt;/a&gt;: Make ZooKeeper token store ACL configurable (thw via hashutosh) (Revision 1293530)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1293530&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1293530&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/conf/hive-default.xml.template&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/DelegationTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/MemoryTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/TokenStoreDelegationTokenSecretManager.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/common-secure/java/org/apache/hadoop/hive/thrift/ZooKeeperTokenStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/shims/src/test/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12524585">HIVE-2467</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12544025">ZOOKEEPER-1401</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12539563">ZOOKEEPER-1373</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12511750" name="ASF.LICENSE.NOT.GRANTED--HIVE-2712.D1401.1.patch" size="21944" author="phabricator@reviews.facebook.net" created="Tue, 24 Jan 2012 23:40:41 +0000"/>
                            <attachment id="12515989" name="ASF.LICENSE.NOT.GRANTED--HIVE-2712.D1401.2.patch" size="36235" author="phabricator@reviews.facebook.net" created="Fri, 24 Feb 2012 22:57:51 +0000"/>
                            <attachment id="12516010" name="ASF.LICENSE.NOT.GRANTED--HIVE-2712.D1401.3.patch" size="36310" author="phabricator@reviews.facebook.net" created="Sat, 25 Feb 2012 01:11:49 +0000"/>
                            <attachment id="12516012" name="HIVE-2712.3.patch" size="36680" author="thw" created="Sat, 25 Feb 2012 01:14:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Jan 2012 23:40:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223750</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06agf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34625</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2713] ignore env variables with illegal letters when init ScriptOperator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2713</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12538245">HIVE-2713</key>
            <summary>ignore env variables with illegal letters when init ScriptOperator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jan 2012 18:40:03 +0000</created>
                <updated>Wed, 25 Jan 2012 00:34:45 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223751</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124095</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2714] Lots of special characters are not handled in LIKE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2714</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently LIKE converts the string to a regular expression.  It tries to handle special characters but many are not correctly handled, e.g. +, ?, |, etc.  That code should just use Pattern.quote.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538249">HIVE-2714</key>
            <summary>Lots of special characters are not handled in LIKE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jonchang">Jonathan Chang</assignee>
                                    <reporter username="jonchang">Jonathan Chang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jan 2012 19:20:12 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:35 +0000</updated>
                            <resolved>Tue, 13 Mar 2012 01:47:03 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13185311" author="phabricator@reviews.facebook.net" created="Thu, 12 Jan 2012 22:47:39 +0000"  >&lt;p&gt;jonchang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2714&quot; title=&quot;Lots of special characters are not handled in LIKE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2714&quot;&gt;&lt;del&gt;HIVE-2714&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Lots of special characters are not handled in LIKE&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2714&quot; title=&quot;Lots of special characters are not handled in LIKE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2714&quot;&gt;&lt;del&gt;HIVE-2714&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Currently LIKE converts the string to a regular expression.  It tries to handle special characters but many are not correctly handled, e.g. +, ?, |, etc.  That code should just use Pattern.quote.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1239&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1239&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/UDFLike.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_like.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_like.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2541/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2541/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13227863" author="phabricator@reviews.facebook.net" created="Mon, 12 Mar 2012 20:30:39 +0000"  >&lt;p&gt;kevinwilfong has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2714&quot; title=&quot;Lots of special characters are not handled in LIKE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2714&quot;&gt;&lt;del&gt;HIVE-2714&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Lots of special characters are not handled in LIKE&quot;.&lt;/p&gt;

&lt;p&gt;  +1 Will commit if tests pass&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1239&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1239&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  like&lt;/p&gt;</comment>
                            <comment id="13228130" author="kevinwilfong" created="Tue, 13 Mar 2012 01:47:03 +0000"  >&lt;p&gt;Committed.  Thanks Jonathan.&lt;/p&gt;</comment>
                            <comment id="13228188" author="hudson" created="Tue, 13 Mar 2012 04:25:36 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1307 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1307/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1307/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2714&quot; title=&quot;Lots of special characters are not handled in LIKE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2714&quot;&gt;&lt;del&gt;HIVE-2714&lt;/del&gt;&lt;/a&gt;. Lots of special characters are not handled in LIKE. (jonchang via kevinwilfong) (Revision 1299948)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1299948&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1299948&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFLike.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_like.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_like.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265300" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:35 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548145" author="hudson" created="Wed, 9 Jan 2013 10:24:35 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2714&quot; title=&quot;Lots of special characters are not handled in LIKE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2714&quot;&gt;&lt;del&gt;HIVE-2714&lt;/del&gt;&lt;/a&gt;. Lots of special characters are not handled in LIKE. (jonchang via kevinwilfong) (Revision 1299948)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
kevinwilfong : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1299948&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1299948&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFLike.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_like.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_like.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510435" name="ASF.LICENSE.NOT.GRANTED--HIVE-2714.D1239.1.patch" size="2642" author="phabricator@reviews.facebook.net" created="Thu, 12 Jan 2012 22:47:40 +0000"/>
                            <attachment id="12518081" name="HIVE-2714.D1239.1.patch" size="2642" author="jonchang" created="Mon, 12 Mar 2012 20:49:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Jan 2012 22:47:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223755</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124096</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2715] Upgrade Thrift dependency to 0.9.0</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2715</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I work on HCatalog (0.2). Recently, we ran into HCat_server running out of memory every few days, and it boiled down to a bug in thrift, (&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1468&quot; title=&quot;Memory leak in TSaslServerTransport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1468&quot;&gt;&lt;del&gt;THRIFT-1468&lt;/del&gt;&lt;/a&gt;, recently fixed).&lt;/p&gt;

&lt;p&gt;HCat-0.2-branch depends on Hive-0.8, which in turn depends on thrift-0.5.0. (The bug also exists on 0.7.0.)&lt;/p&gt;

&lt;p&gt;May I please enquire if Hive can&apos;t depend on a more current version of thrift? (Does it break the metastore?) I&apos;m afraid I&apos;m not privy to the reasoning behind Hive&apos;s dependency on a slightly dated thrift-lib. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12538256">HIVE-2715</key>
            <summary>Upgrade Thrift dependency to 0.9.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="mithun">Mithun Radhakrishnan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jan 2012 19:41:02 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:13 +0000</updated>
                            <resolved>Thu, 8 Nov 2012 09:53:26 +0000</resolved>
                                    <version>0.8.0</version>
                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13188096" author="cwsteinbach" created="Tue, 17 Jan 2012 22:52:48 +0000"  >&lt;p&gt;Looks like the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1468&quot; title=&quot;Memory leak in TSaslServerTransport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1468&quot;&gt;&lt;del&gt;THRIFT-1468&lt;/del&gt;&lt;/a&gt; will be included in the as-yet-unreleased&lt;br/&gt;
version 0.9.0. We can update Hive&apos;s Thrift dependency once this release&lt;br/&gt;
goes GA.&lt;/p&gt;</comment>
                            <comment id="13188099" author="cwsteinbach" created="Tue, 17 Jan 2012 22:54:35 +0000"  >&lt;p&gt;Also, Hive 0.8.0 depends on Thrift 0.7.0, not 0.5.0.&lt;/p&gt;</comment>
                            <comment id="13258502" author="ashutoshc" created="Fri, 20 Apr 2012 19:28:12 +0000"  >&lt;p&gt;Unlinking from 0.9&lt;/p&gt;</comment>
                            <comment id="13478584" author="cwsteinbach" created="Thu, 18 Oct 2012 01:45:43 +0000"  >&lt;p&gt;Thrift 0.9.0 has been released. We should update Hive&apos;s Thrift dependency to 0.9.0.&lt;/p&gt;</comment>
                            <comment id="13487043" author="ashutoshc" created="Tue, 30 Oct 2012 17:37:08 +0000"  >&lt;p&gt;Mithun, Carl or anyone else working on this one ?&lt;/p&gt;</comment>
                            <comment id="13487110" author="ashutoshc" created="Tue, 30 Oct 2012 18:39:46 +0000"  >&lt;p&gt;Patch which updates thrift dependency to 0.9&lt;/p&gt;</comment>
                            <comment id="13487416" author="shreepadma" created="Wed, 31 Oct 2012 00:45:45 +0000"  >&lt;p&gt;@Ashutosh: The column statistics patch is at a point where it will get committed in a couple of days. Can you please hold off on committing this patch for a couple of days? Thanks.&lt;/p&gt;</comment>
                            <comment id="13487455" author="ashutoshc" created="Wed, 31 Oct 2012 02:10:01 +0000"  >&lt;p&gt;Sure. Not a problem.&lt;/p&gt;</comment>
                            <comment id="13487466" author="shreepadma" created="Wed, 31 Oct 2012 02:44:34 +0000"  >&lt;p&gt;Thanks Ashutosh! Appreciate it!&lt;/p&gt;</comment>
                            <comment id="13488435" author="cwsteinbach" created="Thu, 1 Nov 2012 03:15:08 +0000"  >&lt;p&gt;@Ashutosh: After applying the patch I deleted the contents of &lt;b&gt;/src/gen/thrift/&lt;/b&gt;, and then tried running the thriftif target again, and noticed that the following files are not replaced:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; D metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Constants.java
 D metastore/src/gen/thrift/gen-php/ThriftHiveMetastore.php
 D metastore/src/gen/thrift/gen-php/hive_metastore/ThriftHiveMetastore.php
 D metastore/src/gen/thrift/gen-php/hive_metastore/hive_metastore_constants.php
 D metastore/src/gen/thrift/gen-php/hive_metastore/hive_metastore_types.php
 D metastore/src/gen/thrift/gen-php/hive_metastore_constants.php
 D metastore/src/gen/thrift/gen-php/hive_metastore_types.php
 D ql/src/gen/thrift/gen-php/queryplan/queryplan_types.php
 D serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/Constants.java
 D serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MegaStruct.java
 D serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MiniStruct.java
 D serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MyEnum.java
 D serde/src/gen/thrift/gen-php/serde/serde_constants.php
 D serde/src/gen/thrift/gen-php/serde/serde_types.php
 D service/src/gen/thrift/gen-php/hive_service/ThriftHive.php
 D service/src/gen/thrift/gen-php/hive_service/hive_service_types.php
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;The missing Constants.java files appear to be caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1090&quot; title=&quot;Document the generation of a file called &amp;quot;Constants.java&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1090&quot;&gt;&lt;del&gt;THRIFT-1090&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I also think it would be a good idea to modify the thriftif Ant target to automatically clean the old generated artifacts before running the code generator. The HiveServer2 patch actually includes this modification, so maybe it would be worthwhile copying it from there and including it in this patch.&lt;/p&gt;</comment>
                            <comment id="13492706" author="ashutoshc" created="Wed, 7 Nov 2012 21:12:21 +0000"  >&lt;p&gt;Carl, I am not sure what could be the reason that those files didn&apos;t get generated. After installing thrift-0.9.0 compiler I ran &lt;tt&gt;ant thriftif -Dthrift.home=/usr/local&lt;/tt&gt; ? Are there any extra steps to generate these files ?&lt;/p&gt;</comment>
                            <comment id="13492726" author="ashutoshc" created="Wed, 7 Nov 2012 21:40:16 +0000"  >&lt;p&gt;Digging more into it:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;I see megastruct.thrift was missing from thriftif target in serde/build.xml I added that so I now have MegaStruct.java, MiniStruct.java and MiniStruct.java getting generated.&lt;/li&gt;
	&lt;li&gt;Constants.java I think is now replaced by hive_metastoreConstants.java and such.&lt;/li&gt;
	&lt;li&gt;All the *.php files are new files which are getting generated. I am not sure why these files didn&apos;t exist on trunk. My guess is since thrift supports php, these files should have been there already.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13492856" author="ashutoshc" created="Thu, 8 Nov 2012 00:42:01 +0000"  >&lt;p&gt;Updated patch. Differences from previous patch:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Added megastruct.thrift in thriftif target of serde/build.xml So, now MegaStruct.java, MiniStruct.java and MyEnum.java are getting updated.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Deleted now stale Constants.java As a results bunch of changes in various places to update its references.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Kept php files since I think they should be there.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13492878" author="cwsteinbach" created="Thu, 8 Nov 2012 01:25:36 +0000"  >&lt;p&gt;@Ashutosh: Is this patch ready for testing?&lt;/p&gt;</comment>
                            <comment id="13492881" author="ashutoshc" created="Thu, 8 Nov 2012 01:32:49 +0000"  >&lt;p&gt;Yes, it is. Forgot to hit Patch Available.&lt;/p&gt;</comment>
                            <comment id="13492902" author="cwsteinbach" created="Thu, 8 Nov 2012 02:23:40 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Ashutosh: can you commit this? Thanks.&lt;/p&gt;</comment>
                            <comment id="13493071" author="ashutoshc" created="Thu, 8 Nov 2012 09:53:26 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13493566" author="hudson" created="Thu, 8 Nov 2012 22:30:57 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1782 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1782/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1782/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2715&quot; title=&quot;Upgrade Thrift dependency to 0.9.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2715&quot;&gt;&lt;del&gt;HIVE-2715&lt;/del&gt;&lt;/a&gt;: Upgrade Thrift dependency to 0.9.0 (Ashutosh Chauhan) (Revision 1406984)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406984&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406984&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/contrib/src/java/org/apache/hadoop/hive/contrib/genericudf/example/GenericUDFDBOutput.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/java/org/apache/hadoop/hive/contrib/serde2/RegexSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/java/org/apache/hadoop/hive/contrib/serde2/TypedBytesSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/java/org/apache/hadoop/hive/contrib/util/typedbytes/TypedBytesRecordReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/test/org/apache/hadoop/hive/contrib/serde2/TestRegexSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/org/apache/hadoop/hive/hbase/TestHBaseSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveResultSetMetaData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_constants.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_constants.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AlreadyExistsException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/BinaryColumnStatsData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/BooleanColumnStatsData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ColumnStatistics.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ColumnStatisticsData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ColumnStatisticsDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ColumnStatisticsObj.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ConfigValSecurityException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Constants.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Database.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/DoubleColumnStatsData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/EnvironmentContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FieldSchema.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HiveObjectPrivilege.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HiveObjectRef.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HiveObjectType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Index.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/IndexAlreadyExistsException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InvalidInputException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InvalidObjectException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InvalidOperationException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InvalidPartitionException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/LongColumnStatsData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/MetaException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/NoSuchObjectException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Order.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Partition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PartitionEventType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrincipalPrivilegeSet.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrincipalType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrivilegeBag.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrivilegeGrantInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Role.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Schema.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SerDeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/StorageDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/StringColumnStatsData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Type.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/UnknownDBException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/UnknownPartitionException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/UnknownTableException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Version.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/hive_metastoreConstants.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/metastore&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/metastore/Types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/_&lt;em&gt;init&lt;/em&gt;_.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/constants.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-rb/hive_metastore_constants.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaTool.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-cpp/queryplan_constants.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-cpp/queryplan_constants.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-cpp/queryplan_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-cpp/queryplan_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Adjacency.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/AdjacencyType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Graph.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/NodeType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Operator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/OperatorType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Query.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/QueryPlan.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Stage.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/StageType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Task.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/TaskType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-php/Types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-py/_&lt;em&gt;init&lt;/em&gt;_.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-py/queryplan/constants.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-py/queryplan/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-rb/queryplan_constants.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-rb/queryplan_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FetchOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/JoinUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ListSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/HiveIgnoreKeyTextOutputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeConstantDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/PartitionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/PlanUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ReduceSinkDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/TableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFArrayContains.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFFormatNumber.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFIf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFPrintf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSize.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFWhen.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFJSONTuple.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFParseUrlTuple.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestExpressionEvaluator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestRCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHiveMetaStoreChecker.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/udf/generic/GenericUDFEvaluateNPE.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTestTranslate.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/convert_enum_to_string.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-cpp/serde_constants.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-cpp/serde_constants.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-cpp/serde_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-cpp/serde_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/Constants.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/serdeConstants.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/test/InnerStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/test/ThriftTestObj.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/Complex.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/IntString.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MegaStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MiniStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MyEnum.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-php/org&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-php/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-php/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-php/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-php/org/apache/hadoop/hive/serde&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-php/org/apache/hadoop/hive/serde/Types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-py/_&lt;em&gt;init&lt;/em&gt;_.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-py/org_apache_hadoop_hive_serde/constants.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-py/org_apache_hadoop_hive_serde/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-rb/serde_constants.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-rb/serde_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/DelimitedJSONSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/MetadataTypedColumnsetSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/RegexSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/DynamicSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/DynamicSerDeTypeList.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazySimpleSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazyListObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazyMapObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StandardListObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StandardMapObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/thrift/TBinarySortableProtocol.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/thrift/TCTLSeparatedProtocol.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/thrift/ThriftDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/ListTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/MapTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/StructTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/UnionTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/TestStatsSerde.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/TestTCTLSeparatedProtocol.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/binarysortable/TestBinarySortableSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/columnar/TestLazyBinaryColumnarSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/dynamic_type/TestDynamicSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/lazy/TestLazySimpleSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/lazybinary/TestLazyBinarySerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/objectinspector/TestCrossMapEqualComparer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/objectinspector/TestSimpleMapEqualComparer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/ThriftHive.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/ThriftHive.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/ThriftHive_server.skeleton.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/hive_service_constants.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/hive_service_constants.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/hive_service_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/hive_service_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/service/HiveClusterStatus.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/service/HiveServerException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/service/JobTrackerState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/service/ThriftHive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-php/ThriftHive.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-php/Types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/_&lt;em&gt;init&lt;/em&gt;_.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/hive_service/ThriftHive-remote&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/hive_service/ThriftHive.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/hive_service/constants.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/hive_service/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-rb/hive_service_constants.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-rb/hive_service_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-rb/thrift_hive.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13495573" author="mithun" created="Mon, 12 Nov 2012 19:59:58 +0000"  >&lt;p&gt;Hello, Ashutosh.&lt;/p&gt;

&lt;p&gt;Was the following file-name changed on purpose?&lt;/p&gt;

&lt;p&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/hive_metastoreConstants.java&lt;/p&gt;

&lt;p&gt;The rename breaks the HCatalog-build (when I build Hive from first principles).&lt;/p&gt;

&lt;p&gt;&amp;lt;quote&amp;gt;&lt;br/&gt;
ompile-src:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Compiling 75 source files to /Users/mithunr/workspace/dev/hcatalog/trunk/build/classes&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; /Users/mithunr/workspace/dev/hcatalog/trunk/src/java/org/apache/hcatalog/har/HarOutputCommitterPostProcessor.java:26: cannot find symbol&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; symbol  : class Constants&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; location: package org.apache.hadoop.hive.metastore.api&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; import org.apache.hadoop.hive.metastore.api.Constants;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;                                            ^&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; /Users/mithunr/workspace/dev/hcatalog/trunk/src/java/org/apache/hcatalog/cli/SemanticAnalysis/CreateTableHook.java:219: cannot find symbol&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; symbol  : class Constants&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; location: package org.apache.hadoop.hive.metastore.api&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt;                         org.apache.hadoop.hive.metastore.api.Constants.META_TABLE_STORAGE,&lt;br/&gt;
&amp;lt;/quote&amp;gt;&lt;/p&gt;

&lt;p&gt;Any chance you can change the name back?&lt;/p&gt;</comment>
                            <comment id="13495583" author="ashutoshc" created="Mon, 12 Nov 2012 20:08:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/THRIFT-1090&quot; title=&quot;Document the generation of a file called &amp;quot;Constants.java&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;THRIFT-1090&quot;&gt;&lt;del&gt;THRIFT-1090&lt;/del&gt;&lt;/a&gt; changed the name of this generated file on purpose. We need to update hcatalog to handle it.&lt;/p&gt;</comment>
                            <comment id="13495631" author="mithun" created="Mon, 12 Nov 2012 21:02:40 +0000"  >&lt;p&gt;Hey, Ashutosh. Thanks for the heads-up. I&apos;ll raise a JIRA for HCatalog and post a fix. In the meantime, could the apache-maven-repository be updated with this version?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/hive/hive-metastore/0.10.0-SNAPSHOT/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/hive/hive-metastore/0.10.0-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Mithun&lt;/p&gt;</comment>
                            <comment id="13548143" author="hudson" created="Wed, 9 Jan 2013 10:24:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2715&quot; title=&quot;Upgrade Thrift dependency to 0.9.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2715&quot;&gt;&lt;del&gt;HIVE-2715&lt;/del&gt;&lt;/a&gt;: Upgrade Thrift dependency to 0.9.0 (Ashutosh Chauhan) (Revision 1406984)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406984&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1406984&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/contrib/src/java/org/apache/hadoop/hive/contrib/genericudf/example/GenericUDFDBOutput.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/java/org/apache/hadoop/hive/contrib/serde2/RegexSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/java/org/apache/hadoop/hive/contrib/serde2/TypedBytesSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/java/org/apache/hadoop/hive/contrib/util/typedbytes/TypedBytesRecordReader.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/contrib/src/test/org/apache/hadoop/hive/contrib/serde2/TestRegexSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HiveHBaseTableInputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/hbase-handler/src/test/org/apache/hadoop/hive/hbase/TestHBaseSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/libraries.properties&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveQueryResultSet.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveResultSetMetaData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_constants.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_constants.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AlreadyExistsException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/BinaryColumnStatsData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/BooleanColumnStatsData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ColumnStatistics.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ColumnStatisticsData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ColumnStatisticsDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ColumnStatisticsObj.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ConfigValSecurityException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Constants.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Database.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/DoubleColumnStatsData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/EnvironmentContext.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/FieldSchema.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HiveObjectPrivilege.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HiveObjectRef.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HiveObjectType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Index.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/IndexAlreadyExistsException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InvalidInputException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InvalidObjectException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InvalidOperationException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/InvalidPartitionException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/LongColumnStatsData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/MetaException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/NoSuchObjectException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Order.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Partition.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PartitionEventType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrincipalPrivilegeSet.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrincipalType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrivilegeBag.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrivilegeGrantInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Role.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Schema.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SerDeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/StorageDescriptor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/StringColumnStatsData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Type.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/UnknownDBException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/UnknownPartitionException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/UnknownTableException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Version.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/hive_metastoreConstants.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/metastore&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-php/metastore/Types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/_&lt;em&gt;init&lt;/em&gt;_.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/constants.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-rb/hive_metastore_constants.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaTool.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-cpp/queryplan_constants.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-cpp/queryplan_constants.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-cpp/queryplan_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-cpp/queryplan_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Adjacency.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/AdjacencyType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Graph.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/NodeType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Operator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/OperatorType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Query.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/QueryPlan.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Stage.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/StageType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/Task.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/ql/plan/api/TaskType.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-php/Types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-py/_&lt;em&gt;init&lt;/em&gt;_.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-py/queryplan/constants.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-py/queryplan/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-rb/queryplan_constants.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/gen/thrift/gen-rb/queryplan_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ArchiveUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FetchOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/FunctionRegistry.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/JoinUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ListSinkOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapOperator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/Utilities.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/HiveIgnoreKeyTextOutputFormat.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMRFileSink1.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/MapJoinProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/DDLSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/TypeCheckProcFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ExprNodeConstantDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/PartitionDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/PlanUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/ReduceSinkDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/plan/TableDesc.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFArrayContains.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFConcatWS.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFFormatNumber.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFIf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFPrintf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSize.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFWhen.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFJSONTuple.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDTFParseUrlTuple.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/exec/TestExpressionEvaluator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/io/TestRCFile.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/metadata/TestHiveMetaStoreChecker.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/udf/generic/GenericUDFEvaluateNPE.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/udf/generic/GenericUDFTestTranslate.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/convert_enum_to_string.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-cpp/serde_constants.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-cpp/serde_constants.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-cpp/serde_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-cpp/serde_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/Constants.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/serdeConstants.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/test/InnerStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde/test/ThriftTestObj.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/Complex.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/IntString.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MegaStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MiniStruct.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/serde2/thrift/test/MyEnum.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-php/org&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-php/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-php/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-php/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-php/org/apache/hadoop/hive/serde&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-php/org/apache/hadoop/hive/serde/Types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-py/_&lt;em&gt;init&lt;/em&gt;_.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-py/org_apache_hadoop_hive_serde/constants.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-py/org_apache_hadoop_hive_serde/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-rb/serde_constants.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/gen/thrift/gen-rb/serde_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/DelimitedJSONSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/MetadataTypedColumnsetSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/RegexSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/binarysortable/BinarySortableSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/DynamicSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/dynamic_type/DynamicSerDeTypeList.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazySimpleSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazyListObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/objectinspector/LazyMapObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazybinary/LazyBinarySerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/ObjectInspectorUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StandardListObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StandardMapObjectInspector.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/thrift/TBinarySortableProtocol.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/thrift/TCTLSeparatedProtocol.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/thrift/ThriftDeserializer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/ListTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/MapTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/StructTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/TypeInfoUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/typeinfo/UnionTypeInfo.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/TestStatsSerde.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/TestTCTLSeparatedProtocol.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/binarysortable/TestBinarySortableSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/columnar/TestLazyBinaryColumnarSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/dynamic_type/TestDynamicSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/lazy/TestLazySimpleSerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/lazybinary/TestLazyBinarySerDe.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/objectinspector/TestCrossMapEqualComparer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/test/org/apache/hadoop/hive/serde2/objectinspector/TestSimpleMapEqualComparer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/ThriftHive.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/ThriftHive.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/ThriftHive_server.skeleton.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/hive_service_constants.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/hive_service_constants.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/hive_service_types.cpp&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-cpp/hive_service_types.h&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/service/HiveClusterStatus.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/service/HiveServerException.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/service/JobTrackerState.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/service/ThriftHive.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-php/ThriftHive.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-php/Types.php&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/_&lt;em&gt;init&lt;/em&gt;_.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/hive_service/ThriftHive-remote&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/hive_service/ThriftHive.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/hive_service/constants.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-py/hive_service/ttypes.py&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-rb/hive_service_constants.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-rb/hive_service_types.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/gen/thrift/gen-rb/thrift_hive.rb&lt;/li&gt;
	&lt;li&gt;/hive/trunk/service/src/test/org/apache/hadoop/hive/service/TestHiveServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550061" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:13 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12535414">HCATALOG-183</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12535418">THRIFT-1468</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12551401" name="hive-2715.patch" size="3745800" author="ashutoshc" created="Tue, 30 Oct 2012 18:39:46 +0000"/>
                            <attachment id="12552578" name="hive-2715_2.patch" size="4392466" author="ashutoshc" created="Thu, 8 Nov 2012 00:42:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jan 2012 22:52:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223762</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aemf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2716] Move retry logic in HiveMetaStore to a separe class</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2716</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1219&quot; title=&quot;More robust handling of metastore connection failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1219&quot;&gt;&lt;del&gt;HIVE-1219&lt;/del&gt;&lt;/a&gt;, method retrying for raw store operation are introduced to handle jdo operations more robustly. However, the abstraction for the RawStore operations can be moved to a separate class implementing RawStore, which should clean up the code base for HiveMetaStore. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12538257">HIVE-2716</key>
            <summary>Move retry logic in HiveMetaStore to a separe class</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12511664">HIVE-2241</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jan 2012 19:44:31 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:34 +0000</updated>
                            <resolved>Fri, 2 Mar 2012 00:56:56 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13185232" author="phabricator@reviews.facebook.net" created="Thu, 12 Jan 2012 20:58:38 +0000"  >&lt;p&gt;enis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Move retry logic in HiveMetaStore to a separe class&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  First version of the patch for refactoring retry logic to the RawStore interface&lt;/p&gt;

&lt;p&gt;  In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1219&quot; title=&quot;More robust handling of metastore connection failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1219&quot;&gt;&lt;del&gt;HIVE-1219&lt;/del&gt;&lt;/a&gt;, method retrying for raw store operation are introduced to handle jdo operations more robustly. However, the abstraction for the RawStore operations can be moved to a separate class implementing RawStore, which should clean up the code base for HiveMetaStore.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1227&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1227&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/EventCleanerTask.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2523/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2523/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13185284" author="phabricator@reviews.facebook.net" created="Thu, 12 Jan 2012 22:03:39 +0000"  >&lt;p&gt;enis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Move retry logic in HiveMetaStore to a separe class&quot;.&lt;/p&gt;

&lt;p&gt;  Some context for the patch:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;All the retries in HiveMetaStore are actually retying methods of the RawStore interface, which handles the jdbc connection. Thus an abstraction in this layer makes more sense, and removes the clutter in the calling code.&lt;/li&gt;
	&lt;li&gt;The RawStore is proxied to introduce an interceptor to carry out the method invocations. Proxies of this type are used by most of the ORM frameworks for transaction management, or retrying, logging, etc. Performance-wise, there is a lot of layers already, like the thrift call -&amp;gt; jdo -&amp;gt; jdbc -&amp;gt; SQL parse -&amp;gt; db engine that it won&apos;t make a major difference to use a dynamic proxy. Besides they are not very slow as believed.&lt;/li&gt;
	&lt;li&gt;HiveMetaStore.Command and executeWithRetry() is limited-provate to HCat, and Hcat does not use these interfaces, so I just removed them. If we need them, we can instead deprecate.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1227&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1227&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13202683" author="ashutoshc" created="Tue, 7 Feb 2012 19:41:46 +0000"  >&lt;p&gt;@Enis,&lt;br/&gt;
Patch has gone stale. Can you rebase it ?&lt;/p&gt;</comment>
                            <comment id="13209922" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 00:29:59 +0000"  >&lt;p&gt;enis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Move retry logic in HiveMetaStore to a separe class&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Rebased the patch.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1227&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1227&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/EventCleanerTask.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java&lt;/p&gt;</comment>
                            <comment id="13209958" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 01:17:59 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Move retry logic in HiveMetaStore to a separe class&quot;.&lt;/p&gt;

&lt;p&gt;  What&apos;s the motivation for this patch? Is this change required by something on the HCat side?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1227&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1227&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13209965" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 01:27:58 +0000"  >&lt;p&gt;ashutoshc has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Move retry logic in HiveMetaStore to a separe class&quot;.&lt;/p&gt;

&lt;p&gt;  Enis will know more, but AFAIK HCatalog won&apos;t get anything out of this change. I like the idea of the patch for refactoring HiveMetaStore.java which is unwieldy in its current form, thus making Hive codebase easier to read and follow. Do you have any specific concerns?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1227&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1227&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13209975" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 01:47:58 +0000"  >&lt;p&gt;enis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Move retry logic in HiveMetaStore to a separe class&quot;.&lt;/p&gt;

&lt;p&gt;  &amp;gt; What&apos;s the motivation for this patch? Is this change required by something on the HCat side?&lt;/p&gt;

&lt;p&gt;  I created the issue and the patch while working on the HMS. The patch refactors the retry logic out of HMS. The Command wrapper inside HMS makes the code very hard to follow, and requires some ugly code for handling checked exceptions, and is error prone is someone forgets wrapping a new method in RawStore.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1227&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1227&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13209984" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 02:07:58 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Move retry logic in HiveMetaStore to a separe class&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestHiveMetaStore.java:136 Is this change required, or are you just providing coverage for the new dropType(String, boolean) method? Were exceptions somehow getting masked earlier?&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java:38 It&apos;s not clear to me why HCatalog needs access to this class. Can you please provide more details?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1227&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1227&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  ms-retry-logic&lt;/p&gt;</comment>
                            <comment id="13210598" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 21:59:59 +0000"  >&lt;p&gt;enis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Move retry logic in HiveMetaStore to a separe class&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach&lt;/p&gt;



&lt;p&gt;  Address review comments.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Make RetryingRawStore Private instead of LimitedPrivate&lt;/li&gt;
	&lt;li&gt;Reverted changes related to fixing drop_type inconsistency.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1227&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1227&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/EventCleanerTask.java&lt;/p&gt;</comment>
                            <comment id="13212254" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 00:31:33 +0000"  >&lt;p&gt;ashutoshc has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Move retry logic in HiveMetaStore to a separe class&quot;.&lt;/p&gt;

&lt;p&gt;  +1 will commit if tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1227&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1227&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BRANCH&lt;br/&gt;
  ms-retry-logic&lt;/p&gt;</comment>
                            <comment id="13212385" author="ashutoshc" created="Tue, 21 Feb 2012 05:42:15 +0000"  >&lt;p&gt;ant  test -Dtestcase=TestNegativeCliDriver -Dqfile=authorization_fail_1.q failed.&lt;/p&gt;</comment>
                            <comment id="13213227" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 03:06:51 +0000"  >&lt;p&gt;enis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Move retry logic in HiveMetaStore to a separe class&quot;.&lt;br/&gt;
Reviewers: JIRA, cwsteinbach, ashutoshc&lt;/p&gt;


&lt;p&gt;  The test was failing due to the change in handling checked exceptions. Updated the patch to chang the auth-related methods to throw MetaExceptions, and convert to RuntimeExceptions to keep the current behavior unchanged.&lt;br/&gt;
  Running the tests now, will update with the results.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1227&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1227&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/EventCleanerTask.java&lt;/p&gt;</comment>
                            <comment id="13213788" author="ashutoshc" created="Wed, 22 Feb 2012 17:50:03 +0000"  >&lt;p&gt;All the tests passed. Patch checked-in!&lt;/p&gt;</comment>
                            <comment id="13213851" author="enis" created="Wed, 22 Feb 2012 18:56:27 +0000"  >&lt;p&gt;Thanks Ashutosh. I&apos;m uploading the final version for license. &lt;/p&gt;</comment>
                            <comment id="13214149" author="hudson" created="Thu, 23 Feb 2012 01:02:01 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1270 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1270/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1270/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; : Move retry logic in HiveMetaStore to a separe class (enis via hashutosh) (Revision 1292420)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1292420&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1292420&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/EventCleanerTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13214241" author="ashutoshc" created="Thu, 23 Feb 2012 02:50:49 +0000"  >&lt;p&gt;I reran the ant test -Dtestcase=TestNegativeCliDriver -Dqfile=script_broken_pipe1.q which failed as reported and it passed. So, looks like that failure is not related to this patch.&lt;/p&gt;</comment>
                            <comment id="13220550" author="namit" created="Fri, 2 Mar 2012 00:49:03 +0000"  >&lt;p&gt;@Ashutosh, it broke facebook&apos;s internal branch.&lt;br/&gt;
Did you test it with mysql db - I haven&apos;t debugged it, but reverting this fixes the problem.&lt;/p&gt;</comment>
                            <comment id="13220554" author="cwsteinbach" created="Fri, 2 Mar 2012 00:56:56 +0000"  >&lt;p&gt;I created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2833&quot; title=&quot;Fix test failures caused by HIVE-2716&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2833&quot;&gt;&lt;del&gt;HIVE-2833&lt;/del&gt;&lt;/a&gt; to cover the task of fixing the test failures caused by this patch.&lt;/p&gt;</comment>
                            <comment id="13221312" author="phabricator@reviews.facebook.net" created="Fri, 2 Mar 2012 22:27:55 +0000"  >&lt;p&gt;kevinwilfong requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Move retry logic in HiveMetaStore to a separe class&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  This fixes the issue where the implementation of RawStore was being initialized in the metastore before the JDOConnectionURLHook was being called.  I moved some code around so that the RawStore implementation is initialized in the RetryRawStore initialization after the hook is called.  In addition, the URL now needs to be updated in the thread local configuration instead of the non-thread local one, as by the time the hook is now being called, the thread local configuration has already been initialized based on the other.&lt;/p&gt;

&lt;p&gt;  In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1219&quot; title=&quot;More robust handling of metastore connection failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1219&quot;&gt;&lt;del&gt;HIVE-1219&lt;/del&gt;&lt;/a&gt;, method retrying for raw store operation are introduced to handle jdo operations more robustly. However, the abstraction for the RawStore operations can be moved to a separate class implementing RawStore, which should clean up the code base for HiveMetaStore.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2055&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2055&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreConnectionUrlHook.java&lt;br/&gt;
  metastore/src/test/org/apache/hadoop/hive/metastore/DummyJdoConnectionUrlHook.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/4407/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/4407/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13221324" author="kevinwilfong" created="Fri, 2 Mar 2012 22:42:20 +0000"  >&lt;p&gt;Ignore the Phabricator comment and patch for D2055, that was intended for another JIRA.&lt;/p&gt;</comment>
                            <comment id="13222306" author="hudson" created="Mon, 5 Mar 2012 12:38:39 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1290 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1290/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1290/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2833&quot; title=&quot;Fix test failures caused by HIVE-2716&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2833&quot;&gt;&lt;del&gt;HIVE-2833&lt;/del&gt;&lt;/a&gt; Fix test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1296946)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1296946&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1296946&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyJdoConnectionUrlHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreConnectionUrlHook.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265349" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:58 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548140" author="hudson" created="Wed, 9 Jan 2013 10:24:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2833&quot; title=&quot;Fix test failures caused by HIVE-2716&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2833&quot;&gt;&lt;del&gt;HIVE-2833&lt;/del&gt;&lt;/a&gt; Fix test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
(Kevin Wilfong via namit) (Revision 1296946)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2716&quot; title=&quot;Move retry logic in HiveMetaStore to a separe class&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2716&quot;&gt;&lt;del&gt;HIVE-2716&lt;/del&gt;&lt;/a&gt; : Move retry logic in HiveMetaStore to a separe class (enis via hashutosh) (Revision 1292420)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1296946&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1296946&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyJdoConnectionUrlHook.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreConnectionUrlHook.java&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1292420&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1292420&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/RetryingRawStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/events/EventCleanerTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12544871">HIVE-2833</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12510423" name="ASF.LICENSE.NOT.GRANTED--HIVE-2716.D1227.1.patch" size="114000" author="phabricator@reviews.facebook.net" created="Thu, 12 Jan 2012 20:58:39 +0000"/>
                            <attachment id="12514916" name="ASF.LICENSE.NOT.GRANTED--HIVE-2716.D1227.2.patch" size="113820" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 00:30:00 +0000"/>
                            <attachment id="12515034" name="ASF.LICENSE.NOT.GRANTED--HIVE-2716.D1227.3.patch" size="110483" author="phabricator@reviews.facebook.net" created="Fri, 17 Feb 2012 22:00:00 +0000"/>
                            <attachment id="12515532" name="ASF.LICENSE.NOT.GRANTED--HIVE-2716.D1227.4.patch" size="108088" author="phabricator@reviews.facebook.net" created="Wed, 22 Feb 2012 03:06:52 +0000"/>
                            <attachment id="12516895" name="ASF.LICENSE.NOT.GRANTED--HIVE-2716.D2055.1.patch" size="23544" author="phabricator@reviews.facebook.net" created="Fri, 2 Mar 2012 22:27:56 +0000"/>
                            <attachment id="12515627" name="HIVE-2716.patch" size="113366" author="enis" created="Wed, 22 Feb 2012 18:56:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Jan 2012 20:58:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223763</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09yv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56089</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2717] Could not Name UDF using Reserved Word</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2717</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Parser/SemanticAnalyzer prevent Naming UDF using Reserved Word(eg. sort, format)&lt;/p&gt;

&lt;p&gt;Even with the following changes in Hive Grammer:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;~/Code/hive&amp;#93;&lt;/span&gt;git diff ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
diff --git a/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g b/ql/src/java/org/apache/hadoop/h&lt;br/&gt;
index 888bf47..ec256de 100644&lt;br/&gt;
&amp;#8212; a/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
+++ b/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;br/&gt;
@@ -1816,7 +1816,7 @@ functionName&lt;br/&gt;
 @init &lt;/p&gt;
{ msgs.push(&quot;function name&quot;); }
&lt;p&gt; @after &lt;/p&gt;
{ msgs.pop(); }
&lt;p&gt;     : // Keyword IF is also a function name&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Identifier | KW_IF | KW_ARRAY | KW_MAP | KW_STRUCT | KW_UNIONTYPE&lt;br/&gt;
+    Identifier | KW_IF | KW_ARRAY | KW_MAP | KW_STRUCT | KW_UNIONTYPE | KW_SORT&lt;br/&gt;
     ;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; castExpression&lt;br/&gt;
@@ -2091,6 +2091,7 @@ sysFuncNames&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; KW_MAP&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; KW_STRUCT&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; KW_UNIONTYPE&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; KW_SORT&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; EQUAL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; NOTEQUAL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; LESSTHANOREQUALTO&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;



&lt;p&gt;Semantic analysis always reports error:&lt;/p&gt;

&lt;p&gt;&amp;#8211; Evaluate function against STRING valued keys&lt;br/&gt;
EXPLAIN&lt;br/&gt;
SELECT sort(array(&quot;b&quot;, &quot;d&quot;, &quot;c&quot;, &quot;a&quot;)) FROM src LIMIT 1&lt;br/&gt;
2012-01-09 11:31:55,134 INFO  parse.ParseDriver (ParseDriver.java:parse(426)) - Parsing command:&lt;/p&gt;

&lt;p&gt;&amp;#8211; Evaluate function against STRING valued keys&lt;br/&gt;
EXPLAIN&lt;br/&gt;
SELECT sort(array(&quot;b&quot;, &quot;d&quot;, &quot;c&quot;, &quot;a&quot;)) FROM src LIMIT 1&lt;br/&gt;
2012-01-09 11:31:55,146 INFO  parse.ParseDriver (ParseDriver.java:parse(443)) - Parse Completed&lt;br/&gt;
2012-01-09 11:31:55,147 INFO  parse.SemanticAnalyzer (SemanticAnalyzer.java:analyzeInternal(7445)) - Starting Semantic Analysis&lt;br/&gt;
2012-01-09 11:31:55,148 INFO  parse.SemanticAnalyzer (SemanticAnalyzer.java:analyzeInternal(7475)) - Completed phase 1 of Semantic Analysis&lt;br/&gt;
2012-01-09 11:31:55,148 INFO  parse.SemanticAnalyzer (SemanticAnalyzer.java:getMetaData(942)) - Get metadata for source tables&lt;br/&gt;
2012-01-09 11:31:55,149 INFO  metastore.HiveMetaStore (HiveMetaStore.java:logInfo(528)) - 0: get_table : db=default tbl=src&lt;br/&gt;
2012-01-09 11:31:55,200 INFO  hive.log (MetaStoreUtils.java:getDDLFromFieldSchema(457)) - DDL: struct src &lt;/p&gt;
{ string key, string value}&lt;br/&gt;
2012-01-09 11:31:55,200 DEBUG lazy.LazySimpleSerDe (LazySimpleSerDe.java:initialize(195)) - org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe initialized with: columnNames=&lt;span class=&quot;error&quot;&gt;&amp;#91;key, value&amp;#93;&lt;/span&gt; columnTypes=&lt;span class=&quot;error&quot;&gt;&amp;#91;string, string&amp;#93;&lt;/span&gt; separator=[&lt;span class=&quot;error&quot;&gt;&amp;#91;B@3bb20e65&amp;#93;&lt;/span&gt; nullstring=\N lastColumnTakesRest=false&lt;br/&gt;
2012-01-09 11:31:55,200 INFO  parse.SemanticAnalyzer (SemanticAnalyzer.java:getMetaData(1021)) - Get metadata for subqueries&lt;br/&gt;
2012-01-09 11:31:55,201 INFO  parse.SemanticAnalyzer (SemanticAnalyzer.java:getMetaData(1035)) - Get metadata for destination tables&lt;br/&gt;
2012-01-09 11:31:55,201 INFO  parse.SemanticAnalyzer (SemanticAnalyzer.java:analyzeInternal(7478)) - Completed getting MetaData in Semantic Analysis&lt;br/&gt;
2012-01-09 11:31:55,203 INFO  hive.log (MetaStoreUtils.java:getDDLFromFieldSchema(457)) - DDL: struct src { string key, string value}
&lt;p&gt;2012-01-09 11:31:55,203 DEBUG lazy.LazySimpleSerDe (LazySimpleSerDe.java:initialize(195)) - org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe initialized with: columnNames=&lt;span class=&quot;error&quot;&gt;&amp;#91;key, value&amp;#93;&lt;/span&gt; columnTypes=&lt;span class=&quot;error&quot;&gt;&amp;#91;string, string&amp;#93;&lt;/span&gt; separator=[&lt;span class=&quot;error&quot;&gt;&amp;#91;B@12e84396&amp;#93;&lt;/span&gt; nullstring=\N lastColumnTakesRest=false&lt;br/&gt;
2012-01-09 11:31:55,222 DEBUG parse.SemanticAnalyzer (SemanticAnalyzer.java:genTablePlan(6598)) - Created Table Plan for src org.apache.hadoop.hive.ql.exec.TableScanOperator@5e9ea579&lt;br/&gt;
2012-01-09 11:31:55,223 DEBUG parse.SemanticAnalyzer (SemanticAnalyzer.java:genSelectPlan(2117)) - tree: (TOK_SELECT (TOK_SELEXPR (TOK_FUNCTION sort (TOK_FUNCTION array &quot;b&quot; &quot;d&quot; &quot;c&quot; &quot;a&quot;))))&lt;br/&gt;
2012-01-09 11:31:55,225 DEBUG parse.SemanticAnalyzer (SemanticAnalyzer.java:genSelectPlan(2222)) - genSelectPlan: input = src&lt;/p&gt;
{(key,key: string)(value,value: string)(block__offset__inside__file,BLOCK__OFFSET__INSIDE__FILE: bigint)(input__file__name,INPUT__FILE__NAME: string)}
&lt;p&gt;2012-01-09 11:31:55,234 ERROR ql.Driver (SessionState.java:printError(380)) - FAILED: Error in semantic analysis: Line 5:7 Arguments length mismatch &apos;sort&apos;: The function SORT(array(obj1, obj2,...)) needs one argument.&lt;br/&gt;
org.apache.hadoop.hive.ql.parse.SemanticException: Line 5:7 Arguments length mismatch &apos;sort&apos;: The function SORT(array(obj1, obj2,...)) needs one argument.&lt;br/&gt;
    at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$DefaultExprProcessor.process(TypeCheckProcFactory.java:810)&lt;br/&gt;
    at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:89)&lt;br/&gt;
    at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:88)&lt;br/&gt;
    at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.walk(DefaultGraphWalker.java:125)&lt;br/&gt;
    at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:102)&lt;br/&gt;
    at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:161)&lt;br/&gt;
    at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:7708)&lt;br/&gt;
    at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2301&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538287">HIVE-2717</key>
            <summary>Could not Name UDF using Reserved Word</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="zhenxiao">Zhenxiao Luo</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jan 2012 07:33:37 +0000</created>
                <updated>Thu, 31 May 2012 19:01:13 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12537391">HIVE-2694</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223793</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ll9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124097</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2718] NPE in union followed by join</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2718</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12538290">HIVE-2718</key>
            <summary>NPE in union followed by join</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 Jan 2012 08:03:56 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:29 +0000</updated>
                            <resolved>Wed, 18 Jan 2012 23:49:33 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13185477" author="he yongqiang" created="Fri, 13 Jan 2012 08:14:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D1245&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1245&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13185480" author="phabricator@reviews.facebook.net" created="Fri, 13 Jan 2012 08:19:41 +0000"  >&lt;p&gt;heyongqiang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2718&quot; title=&quot;NPE in union followed by join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2718&quot;&gt;&lt;del&gt;HIVE-2718&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; NPE in union followed by join&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2718&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2718&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Hive-2718:NPE in union followed by join&lt;/p&gt;



&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1245&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1245&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2565/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2565/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13185481" author="phabricator@reviews.facebook.net" created="Fri, 13 Jan 2012 08:21:39 +0000"  >&lt;p&gt;heyongqiang updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2718&quot; title=&quot;NPE in union followed by join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2718&quot;&gt;&lt;del&gt;HIVE-2718&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; NPE in union followed by join&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  add testcase&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1245&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1245&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/union27.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/union27.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/p&gt;</comment>
                            <comment id="13188814" author="namit" created="Wed, 18 Jan 2012 23:49:33 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                            <comment id="13189069" author="hudson" created="Thu, 19 Jan 2012 12:23:54 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1207 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1207/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1207/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2718&quot; title=&quot;NPE in union followed by join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2718&quot;&gt;&lt;del&gt;HIVE-2718&lt;/del&gt;&lt;/a&gt; NPE in union followed by join&lt;br/&gt;
(He Yongqiang via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1233127&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1233127&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union27.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union27.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265241" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:18 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548124" author="hudson" created="Wed, 9 Jan 2013 10:24:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2718&quot; title=&quot;NPE in union followed by join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2718&quot;&gt;&lt;del&gt;HIVE-2718&lt;/del&gt;&lt;/a&gt; NPE in union followed by join&lt;br/&gt;
(He Yongqiang via namit) (Revision 1233127)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1233127&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1233127&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/GenMapRedUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union27.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union27.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510469" name="ASF.LICENSE.NOT.GRANTED--HIVE-2718.D1245.1.patch" size="886" author="phabricator@reviews.facebook.net" created="Fri, 13 Jan 2012 08:19:42 +0000"/>
                            <attachment id="12510470" name="ASF.LICENSE.NOT.GRANTED--HIVE-2718.D1245.2.patch" size="3241" author="phabricator@reviews.facebook.net" created="Fri, 13 Jan 2012 08:21:40 +0000"/>
                            <attachment id="12510467" name="Hive-2718.1.patch" size="3401" author="he yongqiang" created="Fri, 13 Jan 2012 08:09:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Jan 2012 08:19:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223796</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lla7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2719] Fix test failures caused by HIVE-2589</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2719</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;149 new test failures appeared on Hudson after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2682&quot; title=&quot;Clean-up logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2682&quot;&gt;&lt;del&gt;HIVE-2682&lt;/del&gt;&lt;/a&gt; were committed:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1195/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1195/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;@Ashutosh: Can you please take a look?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538380">HIVE-2719</key>
            <summary>Fix test failures caused by HIVE-2589</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Jan 2012 00:27:14 +0000</created>
                <updated>Wed, 9 Jan 2013 10:24:28 +0000</updated>
                            <resolved>Wed, 18 Jan 2012 07:10:33 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13186030" author="ashutoshc" created="Sat, 14 Jan 2012 00:42:16 +0000"  >&lt;p&gt;Sure. I ran few those tests failed on jenkins on my local machines and all of them passed. Looks like either some environment issue or non-determinism in test cases. Will keep digging.&lt;/p&gt;</comment>
                            <comment id="13186686" author="cwsteinbach" created="Mon, 16 Jan 2012 04:45:30 +0000"  >&lt;p&gt;I created a copy of the Hudson build job here:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The first and second builds failed with the same errors as the original&lt;br/&gt;
job, which I think rules out the possibility of a dirty build workspace.&lt;/p&gt;

&lt;p&gt;I have also triggered three more jobs in the hope of determining which&lt;br/&gt;
checkin triggered the test failures:&lt;/p&gt;

&lt;p&gt;job #3: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2682&quot; title=&quot;Clean-up logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2682&quot;&gt;&lt;del&gt;HIVE-2682&lt;/del&gt;&lt;/a&gt; trunk@1230379&lt;br/&gt;
job #4: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; trunk@1230390&lt;br/&gt;
job #5: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2705&quot; title=&quot;SemanticAnalyzer twice swallows an exception it shouldn&amp;#39;t&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2705&quot;&gt;&lt;del&gt;HIVE-2705&lt;/del&gt;&lt;/a&gt; trunk@1230091 (checkin from immediately before symptoms appeared)&lt;/p&gt;
</comment>
                            <comment id="13187077" author="cwsteinbach" created="Mon, 16 Jan 2012 18:52:23 +0000"  >&lt;p&gt;Looks like the test failures are tied to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/4/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/4/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;@Ashutosh: Do you think you can have a fix for this ready in the next couple of days? If not, I think we should consider temporarily backing this patch out.&lt;/p&gt;</comment>
                            <comment id="13187082" author="cwsteinbach" created="Mon, 16 Jan 2012 18:58:12 +0000"  >&lt;p&gt;I was also able to reproduce the test failures on our internal Jenkins server, so this is not something unique to Apache Hudson.&lt;/p&gt;</comment>
                            <comment id="13187872" author="he yongqiang" created="Tue, 17 Jan 2012 18:45:06 +0000"  >&lt;p&gt;I am planning to revert changes that cause the current test failures. And we can get them back together with their fixes. What do u think?&lt;/p&gt;

&lt;p&gt;It seems some of these commits that cause test failures:&lt;/p&gt;

&lt;p&gt;r1230774 | namit | 2012-01-12 12:43:56 -0800 (Thu, 12 Jan 2012) | 4 lines&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2504&quot; title=&quot;Warehouse table subdirectories should inherit the group permissions of the warehouse parent directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2504&quot;&gt;&lt;del&gt;HIVE-2504&lt;/del&gt;&lt;/a&gt; Warehouse table subdirectories should inherit the group permissions of the warehouse&lt;br/&gt;
parent directory (Chinna Rao Lalam via namit)&lt;br/&gt;
------------------------------------------------------------------------&lt;br/&gt;
r1230758 | namit | 2012-01-12 12:26:20 -0800 (Thu, 12 Jan 2012) | 3 lines&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2695&quot; title=&quot;Add PRINTF() Udf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2695&quot;&gt;&lt;del&gt;HIVE-2695&lt;/del&gt;&lt;/a&gt; Add PRINTF() Udf (Zhenxiao Luo via namit)&lt;br/&gt;
------------------------------------------------------------------------&lt;br/&gt;
r1230391 | amareshwari | 2012-01-11 20:11:37 -0800 (Wed, 11 Jan 2012) | 1 line&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2629&quot; title=&quot;Make a single Hive binary work with both 0.20.x and 0.23.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2629&quot;&gt;&lt;del&gt;HIVE-2629&lt;/del&gt;&lt;/a&gt;. Make a single Hive binary work with both 0.20.x and 0.23.0. (Thomas Weise via amareshwari)&lt;br/&gt;
------------------------------------------------------------------------&lt;br/&gt;
r1230390 | hashutosh | 2012-01-11 19:59:06 -0800 (Wed, 11 Jan 2012) | 1 line&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;: Newly created partition should inherit properties from table (Ashutosh Chauhan)&lt;/p&gt;

&lt;p&gt;I think it is because r1230774(&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2504&quot; title=&quot;Warehouse table subdirectories should inherit the group permissions of the warehouse parent directory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2504&quot;&gt;&lt;del&gt;HIVE-2504&lt;/del&gt;&lt;/a&gt;) and r1230390(&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;). Any other ideas?&lt;/p&gt;</comment>
                            <comment id="13187880" author="cwsteinbach" created="Tue, 17 Jan 2012 18:54:33 +0000"  >&lt;p&gt;@Yongqiang: I think this proves that the diffs were introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;: &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/4/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/4/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m +1 on backing stuff out to fix the tests.&lt;/p&gt;</comment>
                            <comment id="13187894" author="he yongqiang" created="Tue, 17 Jan 2012 19:07:46 +0000"  >&lt;p&gt;@Carl, i am trying to revert Hive-2589 locally to see if it can pass tests or not. &lt;br/&gt;
At the same time, Carl, can u put a patch to revert it, or can you test/commit my revert? we would like to fix the test failures today.&lt;/p&gt;</comment>
                            <comment id="13187895" author="he yongqiang" created="Tue, 17 Jan 2012 19:09:15 +0000"  >&lt;p&gt;after reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;, i am still getting these errors:&lt;/p&gt;


&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; Begin query: udtf_explode2.q&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; java.lang.RuntimeException: Error while running command to get file permissions : org.apache.hadoop.util.Shell$ExitCodeException: &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.util.Shell.runCommand(Shell.java:195)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.util.Shell.run(Shell.java:134)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:286)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.util.Shell.execCommand(Shell.java:354)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.util.Shell.execCommand(Shell.java:337)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.fs.RawLocalFileSystem.execCommand(RawLocalFileSystem.java:481)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.fs.RawLocalFileSystem.access$100(RawLocalFileSystem.java:37)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.fs.RawLocalFileSystem$RawLocalFileStatus.loadPermissionInfo(RawLocalFileSystem.java:407)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.fs.RawLocalFileSystem$RawLocalFileStatus.getPermission(RawLocalFileSystem.java:382)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.fs.ProxyFileSystem.swizzleFileStatus(ProxyFileSystem.java:56)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.fs.ProxyFileSystem.listStatus(ProxyFileSystem.java:177)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.fs.FilterFileSystem.listStatus(FilterFileSystem.java:153)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getSplits(CombineHiveInputFormat.java:323)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.mapred.JobClient.writeOldSplits(JobClient.java:810)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:781)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.mapred.JobClient.submitJob(JobClient.java:730)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:432)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:690)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.fs.RawLocalFileSystem$RawLocalFileStatus.loadPermissionInfo(RawLocalFileSystem.java:432)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.fs.RawLocalFileSystem$RawLocalFileStatus.getPermission(RawLocalFileSystem.java:382)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.fs.ProxyFileSystem.swizzleFileStatus(ProxyFileSystem.java:56)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.fs.ProxyFileSystem.listStatus(ProxyFileSystem.java:177)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.fs.FilterFileSystem.listStatus(FilterFileSystem.java:153)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getSplits(CombineHiveInputFormat.java:323)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.mapred.JobClient.writeOldSplits(JobClient.java:810)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:781)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.mapred.JobClient.submitJob(JobClient.java:730)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:432)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:690)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;junit&amp;#93;&lt;/span&gt; 	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;/p&gt;</comment>
                            <comment id="13187901" author="thw" created="Tue, 17 Jan 2012 19:15:55 +0000"  >&lt;p&gt;I observed inconsistent results before r1230390. On the same machine I had a run where all tests passed and one where a few failed. The few that failed passed when running them separately.&lt;/p&gt;</comment>
                            <comment id="13187903" author="cwsteinbach" created="Tue, 17 Jan 2012 19:16:40 +0000"  >&lt;p&gt;@Yongqiang: I&apos;d like to get this fixed too. I can test/commit your patch. I recommend we back out &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; first since that&apos;s the cause of 149 of the failures, and then work back from there. Sound good?&lt;/p&gt;</comment>
                            <comment id="13187911" author="he yongqiang" created="Tue, 17 Jan 2012 19:22:51 +0000"  >&lt;p&gt;sure, let&apos;s get it fixed today. Thanks Carl!&lt;/p&gt;</comment>
                            <comment id="13187918" author="he yongqiang" created="Tue, 17 Jan 2012 19:27:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D1281&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1281&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13187924" author="phabricator@reviews.facebook.net" created="Tue, 17 Jan 2012 19:29:42 +0000"  >&lt;p&gt;heyongqiang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2719&quot; title=&quot;Fix test failures caused by HIVE-2589&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2719&quot;&gt;&lt;del&gt;HIVE-2719&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2719&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2719&lt;/a&gt;&lt;/p&gt;



&lt;p&gt;  149 new test failures appeared on Hudson after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2682&quot; title=&quot;Clean-up logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2682&quot;&gt;&lt;del&gt;HIVE-2682&lt;/del&gt;&lt;/a&gt; were committed:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1195/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1195/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  @Ashutosh: Can you please take a look?&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1281&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1281&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2685/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2685/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13187931" author="phabricator@reviews.facebook.net" created="Tue, 17 Jan 2012 19:39:39 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2719&quot; title=&quot;Fix test failures caused by HIVE-2589&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2719&quot;&gt;&lt;del&gt;HIVE-2719&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix test failures caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1281&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1281&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13187932" author="cwsteinbach" created="Tue, 17 Jan 2012 19:40:28 +0000"  >&lt;p&gt;@Yongqiang: I&apos;m running the tests now.&lt;/p&gt;</comment>
                            <comment id="13188108" author="ashutoshc" created="Tue, 17 Jan 2012 23:03:16 +0000"  >&lt;p&gt;Looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; was not the cause of failure. Last hudson builds only had 2 failures &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/lastBuild/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/lastBuild/&lt;/a&gt; which were same as before that commit. Before reverting, lets make sure 2589 indeed is the cause.&lt;/p&gt;</comment>
                            <comment id="13188109" author="ashutoshc" created="Tue, 17 Jan 2012 23:04:19 +0000"  >&lt;p&gt;Here is the permalink &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/5/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/5/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13188113" author="ashutoshc" created="Tue, 17 Jan 2012 23:08:25 +0000"  >&lt;p&gt;Even &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/3/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/3/&lt;/a&gt; which includes 2589 only had 2 failures.&lt;/p&gt;</comment>
                            <comment id="13188125" author="he yongqiang" created="Tue, 17 Jan 2012 23:30:32 +0000"  >&lt;p&gt;I just finished a full test run against revision 1230379, and all tests passed.&lt;/p&gt;</comment>
                            <comment id="13188134" author="cwsteinbach" created="Tue, 17 Jan 2012 23:55:44 +0000"  >&lt;p&gt;@Ashutosh: Build #3 was against revision 1230379, which actually corresponds to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2682&quot; title=&quot;Clean-up logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2682&quot;&gt;&lt;del&gt;HIVE-2682&lt;/del&gt;&lt;/a&gt;. Build #4 corresponds to revision 1230390 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt;), and this build fails with +149 errors compared to build #3. Build #5 corresponds to revision 1230091 (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2705&quot; title=&quot;SemanticAnalyzer twice swallows an exception it shouldn&amp;#39;t&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2705&quot;&gt;&lt;del&gt;HIVE-2705&lt;/del&gt;&lt;/a&gt;) and has two failures. I believe Jenkins is confused about the &quot;changes&quot; because I wasn&apos;t running through the revisions in order.&lt;/p&gt;

&lt;p&gt;Here&apos;s the logical order of the builds:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2705&quot; title=&quot;SemanticAnalyzer twice swallows an exception it shouldn&amp;#39;t&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2705&quot;&gt;&lt;del&gt;HIVE-2705&lt;/del&gt;&lt;/a&gt; r1230091 &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/5/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/5/&lt;/a&gt;   2 Failures&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2682&quot; title=&quot;Clean-up logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2682&quot;&gt;&lt;del&gt;HIVE-2682&lt;/del&gt;&lt;/a&gt; r1230379 &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/3/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/3/&lt;/a&gt;   2 Failures&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; r1230390 &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/4/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21-dbg/4/&lt;/a&gt;   151 Failures&lt;/p&gt;
</comment>
                            <comment id="13188180" author="he yongqiang" created="Wed, 18 Jan 2012 01:33:53 +0000"  >&lt;p&gt;@Carl, how is the test running?&lt;/p&gt;</comment>
                            <comment id="13188186" author="cwsteinbach" created="Wed, 18 Jan 2012 01:39:07 +0000"  >&lt;p&gt;Tests are still running, but I see that TestCliDriver.ppr_pushdown2 failed with a timeout. I&apos;m going to restart the job on a faster Hudson slave and hope that it finishes in the next 3 hours.&lt;/p&gt;</comment>
                            <comment id="13188311" author="cwsteinbach" created="Wed, 18 Jan 2012 07:10:33 +0000"  >&lt;p&gt;Committed to trunk. Thanks Yongqiang!&lt;/p&gt;</comment>
                            <comment id="13188446" author="hudson" created="Wed, 18 Jan 2012 13:54:44 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1204 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1204/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1204/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2719&quot; title=&quot;Fix test failures caused by HIVE-2589&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2719&quot;&gt;&lt;del&gt;HIVE-2719&lt;/del&gt;&lt;/a&gt;. Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; (He Yongqiang via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1232766&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1232766&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265374" author="ashutoshc" created="Mon, 30 Apr 2012 21:12:04 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548122" author="hudson" created="Wed, 9 Jan 2013 10:24:28 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2719&quot; title=&quot;Fix test failures caused by HIVE-2589&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2719&quot;&gt;&lt;del&gt;HIVE-2719&lt;/del&gt;&lt;/a&gt;. Revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; (He Yongqiang via cws) (Revision 1232766)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1232766&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1232766&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_empty.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/part_inherit_tbl_props_with_star.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_empty.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/part_inherit_tbl_props_with_star.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510883" name="ASF.LICENSE.NOT.GRANTED--HIVE-2719.D1281.1.patch" size="11105" author="phabricator@reviews.facebook.net" created="Tue, 17 Jan 2012 19:29:43 +0000"/>
                            <attachment id="12510880" name="HIVE-2719-revert.hive-2589.1.patch" size="11721" author="he yongqiang" created="Tue, 17 Jan 2012 19:25:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 14 Jan 2012 00:42:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>223886</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124099</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
