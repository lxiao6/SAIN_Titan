<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:20:00 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2012-1-17+AND+created+%3C%3D+2012-1-24+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="20" total="20"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-2720] Merge MetaStoreListener and HiveMetaHook interfaces</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2720</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;MetaStoreListener and HiveMetaHook both serve as a notification mechanism for metastore-related events. The former is used by hcat and the latter is by the hbase-storage handler, and invoked by the client. &lt;br/&gt;
I propose to merge these interfaces, and extend the MetaStoreListener, to add most of the on- and pre- methods at the Thrift interface. This way, extending metastore will be easier, and validation, storage-driver notification, and enforcement can be delegated to individual listeners. Besides, more functionality can be plugged-in by Hcat at this level. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12538586">HIVE-2720</key>
            <summary>Merge MetaStoreListener and HiveMetaHook interfaces</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12511664">HIVE-2241</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="enis">Enis Soztutar</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jan 2012 01:01:23 +0000</created>
                <updated>Tue, 24 Jan 2012 01:50:29 +0000</updated>
                                                                            <component>JDBC</component>
                    <component>Metastore</component>
                    <component>ODBC</component>
                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13187362" author="enis" created="Tue, 17 Jan 2012 01:22:57 +0000"  >&lt;p&gt;MetaStoreListener.onXXX() methods take an Event object to wrap the function call context, however HiveMetaHook functions does not. We can do either way, but the first one will introduce a lot of classes (50+) in case we do add corresponding methods. &lt;/p&gt;

&lt;p&gt;Since we want both preXXX() and onXXX() methods, we can do smt like:&lt;br/&gt;
preXXX() takes normal function args + context (containing back pointer to handler)&lt;br/&gt;
onXXX() takes normal function args + returned object + context (containing back pointer to handler + method status) &lt;/p&gt;

&lt;p&gt;Anyone care to comment ? &lt;/p&gt;</comment>
                            <comment id="13188239" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 03:13:42 +0000"  >&lt;p&gt;enis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2720&quot; title=&quot;Merge MetaStoreListener and HiveMetaHook interfaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2720&quot;&gt;HIVE-2720&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merge MetaStoreListener and HiveMetaHook interfaces&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2720&quot; title=&quot;Merge MetaStoreListener and HiveMetaHook interfaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2720&quot;&gt;HIVE-2720&lt;/a&gt;. Merge MetaStoreListener and HiveMetaHook interfaces. First version of the patch&lt;/p&gt;

&lt;p&gt;  MetaStoreListener and HiveMetaHook both serve as a notification mechanism for metastore-related events. The former is used by hcat and the latter is by the hbase-storage handler, and invoked by the client.&lt;br/&gt;
  I propose to merge these interfaces, and extend the MetaStoreListener, to add most of the on- and pre- methods at the Thrift interface. This way, extending metastore will be easier, and validation, storage-driver notification, and enforcement can be delegated to individual listeners. Besides, more functionality can be plugged-in by Hcat at this level.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1299&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1299&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaHook.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaHookLoader.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListenerLoader.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/AddPartitionEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterPartitionEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterTableEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/CreateDatabaseEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/CreateTableEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/DropDatabaseEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/DropPartitionEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/DropTableEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/ListenerEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/LoadPartitionDoneEvent.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/DefaultStorageHandler.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveStorageHandler.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2703/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2703/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13188247" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 03:21:42 +0000"  >&lt;p&gt;enis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2720&quot; title=&quot;Merge MetaStoreListener and HiveMetaHook interfaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2720&quot;&gt;HIVE-2720&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merge MetaStoreListener and HiveMetaHook interfaces&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Fixed lint warning for long line.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1299&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1299&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaHook.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaHookLoader.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListenerLoader.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/AddPartitionEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterPartitionEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterTableEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/CreateDatabaseEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/CreateTableEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/DropDatabaseEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/DropPartitionEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/DropTableEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/ListenerEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/LoadPartitionDoneEvent.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/DefaultStorageHandler.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/HiveStorageHandler.java&lt;/p&gt;</comment>
                            <comment id="13188252" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 03:29:41 +0000"  >&lt;p&gt;enis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2720&quot; title=&quot;Merge MetaStoreListener and HiveMetaHook interfaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2720&quot;&gt;HIVE-2720&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merge MetaStoreListener and HiveMetaHook interfaces&quot;.&lt;/p&gt;

&lt;p&gt;  Some justifications on why we want to do the changes in this patch:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In the parent issue to this, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2241&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2241&lt;/a&gt;, we are introducing authorization checks in the metastore. With this patch, the authorization enforcer for the metastore can be implemented as a MetaStoreListener.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In a future issue (no jiras yet), we want to move HBase storage handler notifications from the client, to the metastore server. So that, the clients does not have to link hbase, and the metastore server can better enforce data sync.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;again in a future issue (no jiras yet), we want to be optionally delegate ACL checks to the storage layer ( related: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1943&quot; title=&quot;Metastore operations (like drop_partition) could be improved in terms of maintaining consistency of metadata and data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1943&quot;&gt;&lt;del&gt;HIVE-1943&lt;/del&gt;&lt;/a&gt; ), so with this patch, the storage handler can implement it&apos;s own authorization and validation checks.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1299&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1299&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13188253" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 03:31:39 +0000"  >&lt;p&gt;enis has added reviewers to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2720&quot; title=&quot;Merge MetaStoreListener and HiveMetaHook interfaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2720&quot;&gt;HIVE-2720&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merge MetaStoreListener and HiveMetaHook interfaces&quot;.&lt;br/&gt;
Added Reviewers: ashutoshc, heyongqiang&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1299&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1299&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13188328" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 08:17:38 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2720&quot; title=&quot;Merge MetaStoreListener and HiveMetaHook interfaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2720&quot;&gt;HIVE-2720&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merge MetaStoreListener and HiveMetaHook interfaces&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java:105 Are the onXXXX methods called after a metastore operation has been successfully committed? If so should the name be changed to postXXX to make this clear? What happens if an onXXX method throws an exception?&lt;/p&gt;

&lt;p&gt;  I assume that preXXX methods can block operations by throwing exceptions. If that&apos;s accurate this should be explained in the javadoc.&lt;/p&gt;

&lt;p&gt;  Also, if these methods can do more than just listen, e.g. act, then I think the name of this interface needs to be changed to make that clear.&lt;/p&gt;

&lt;p&gt;  ql/src/java/org/apache/hadoop/hive/ql/metadata/DefaultStorageHandler.java:83 Formatting. The same error is repeated elsewhere.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java:199 A bunch of these methods don&apos;t appear to be hooked up yet.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1299&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1299&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13189458" author="phabricator@reviews.facebook.net" created="Thu, 19 Jan 2012 22:49:39 +0000"  >&lt;p&gt;enis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2720&quot; title=&quot;Merge MetaStoreListener and HiveMetaHook interfaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2720&quot;&gt;HIVE-2720&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merge MetaStoreListener and HiveMetaHook interfaces&quot;.&lt;br/&gt;
Reviewers: JIRA, ashutoshc, heyongqiang, cwsteinbach&lt;/p&gt;



&lt;p&gt;  Applied review suggestions by Carl Steinbach.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Renamesd onXXX methods to postXXX&lt;/li&gt;
	&lt;li&gt;Instead of using MetaStoreEventListener, we now extend HiveMetaHook.&lt;/li&gt;
	&lt;li&gt;Added hooks for all the methods in the metastore.&lt;/li&gt;
	&lt;li&gt;fixed formatting on some lines&lt;/li&gt;
	&lt;li&gt;Note that HiveMetaHook is an interface, and when we add new methods there,&lt;br/&gt;
   the current implementors(hcat) will not compile, unless they add those methods stubs.&lt;br/&gt;
   However, to keep backwords compatibility, the methods in HiveMetaHookBase, and&lt;br/&gt;
   MetaStoreEventListenerAdapter are overriden.&lt;/li&gt;
	&lt;li&gt;Tests are currently running.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1299&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1299&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  common/src/java/org/apache/hadoop/hive/conf/HiveConf.java&lt;br/&gt;
  conf/hive-default.xml.template&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStorageHandler.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/AlterHandler.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveAlterHandler.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaHook.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaHookBase.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListenerAdapter.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/AddPartitionEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterPartitionEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/AlterTableEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/CreateDatabaseEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/CreateTableEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/DropDatabaseEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/DropPartitionEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/DropTableEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/ListenerEvent.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/events/LoadPartitionDoneEvent.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/metadata/DefaultStorageHandler.java&lt;/p&gt;</comment>
                            <comment id="13189551" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 00:55:39 +0000"  >&lt;p&gt;cwsteinbach has requested changes to the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2720&quot; title=&quot;Merge MetaStoreListener and HiveMetaHook interfaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2720&quot;&gt;HIVE-2720&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merge MetaStoreListener and HiveMetaHook interfaces&quot;.&lt;/p&gt;

&lt;p&gt;  This also needs some test coverage. In particular I&apos;d like to see testcases that cover the scenario where multiple hooks are registered.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaHook.java:64 Right now pre-methods can also modify the input parameters before they are seen by the metastore. I don&apos;t think this should be allowed. We can prevent it by only passing the pre-methods copies of the input parameters, but that may be expensive. At the very least I think the javadoc needs to stipulate that pre-methods are &lt;b&gt;not&lt;/b&gt; allowed to mutate the input parameters.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaHook.java:54 &quot;and for some of the of the operations&quot;&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaHook.java:66 If multiple metahooks are registered, then it&apos;s also possible that the first metahook will raise an exception and the later metahooks won&apos;t see the event at all. This seems pretty bad from the standpoint of a person trying to write a audit plugin, since they risk not seeing a lot of operations that are failed by hooks that precede them in the list.&lt;/p&gt;

&lt;p&gt;  Also, what happens if the second prehook throws an exception? Will the first posthook still get called with a failure? It&apos;s possible that the first prehook created state that will get cleared by the posthook, but this won&apos;t happen if the posthook is not called.&lt;/p&gt;

&lt;p&gt;  I think the javadoc either needs to say that you (a) can&apos;t assume a posthook will get called just because the prehook was called, or else (b) say that the posthook will always get called if the prehook is called. Option (b) will make it much easier to write hooks at the expense of more complexity on the Hive side.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaHook.java:65 What happens if a post-method throws an exception on an operation that has already been committed to the metastore? What does that exception mean, and how is Hive supposed to handle it?&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:883 Where&apos;s the prehook? I noticed missing prehooks elsewhere as well.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:1287 This is a hack and is going to be broken by someone who doesn&apos;t understand that you&apos;re only calling get_database to trigger the hook.&lt;/p&gt;

&lt;p&gt;  Also, the fact that pre/post hooks aren&apos;t symmetrical is going to cause a lot of grief for hook implementors. This needs to be fixed.&lt;/p&gt;

&lt;p&gt;  This also introduces a time-of-check-to-time-of-use bug since you&apos;re not grabbing the DB and table definitions from within the same txn.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:1458 Is this a separate bug? Is it being tracked in a different JIRA?&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java:1624 This convention for triggering the hooks is not acceptable. I think code analysis tools will probably flag this since the db and tbl variables are not read.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreUtils.java:970 Implementations of what? Not sure if this method belongs here in the first place.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java:42 What is the plan for removing this interface? Can we remove it on trunk as soon as HCatalog has migrated to the new interface?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1299&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1299&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13189554" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 00:59:39 +0000"  >&lt;p&gt;cwsteinbach has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2720&quot; title=&quot;Merge MetaStoreListener and HiveMetaHook interfaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2720&quot;&gt;HIVE-2720&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merge MetaStoreListener and HiveMetaHook interfaces&quot;.&lt;/p&gt;

&lt;p&gt;  What effect will these changes have on StorageHandlers that were compiled against older versions of Hive. Will they still work, or will they have to be recompiled?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1299&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1299&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13190035" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 19:46:40 +0000"  >&lt;p&gt;enis has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2720&quot; title=&quot;Merge MetaStoreListener and HiveMetaHook interfaces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2720&quot;&gt;HIVE-2720&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Merge MetaStoreListener and HiveMetaHook interfaces&quot;.&lt;/p&gt;

&lt;p&gt;  The patch as it is, does not change the event listener calling semantics or hivemetahook calling semantics. For something like an audit log, the order for the registered hooks become really important, and it should indeed be the first registered hook. That was one of the reasons that the HiveMetaStore.getDefaultHooks() precede all the user-defined hooks.&lt;/p&gt;

&lt;p&gt;  As you suggested we can add transactional semantics to the hook interface, but I guess that would require exposing startTransaction, rollback and commit interfaces, and implementing something like a two phase commit to make sure to keep consistency with the external data. Without it, I don&apos;t think we can implement correct behavior.&lt;/p&gt;

&lt;p&gt;  Having said that, I am very reluctant to go that way until some real need arises. So what I propose we can do is:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Keep the HiveMetaHook as it is in trunk and HiveMetaStoreClient.&lt;/li&gt;
	&lt;li&gt;introduce HiveExtendedMetaHook interface to limited private to replace HiveMetaStoreEventListener, and allow only hive and hcat implementations (by documenting it). We guarantee correct behavior by carefully ordering the hooks.&lt;/li&gt;
	&lt;li&gt;Keep the current semantics as in the patch, but improve on the javadoc for the method semantics.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;  Would that work, what do you think?&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java:105 Renaming methods from onXXX -&amp;gt; postXX makes sense.&lt;/p&gt;

&lt;p&gt;  The MetaStoreEventListener&apos;s can interact with the function execution by throwing exceptions, or can act differently on the outcome of the method call (like the HbaseStorageHandler). We can rename MetaStoreEventListener to MetaStoreHook, or else, we can re-purpose HiveMetaHook, and deprecate MetaStoreEventListener instead. Wdyt, any other suggestions?&lt;/p&gt;

&lt;p&gt;  I&apos;ll update the patch shortly.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreEventListener.java:199 I&apos;ll update the patch to add all the method hooks.&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaHook.java:66 The patch as it is, does not change the event listener calling semantics or hivemetahook calling semantics. For something like an audit log, the order for the registered hooks become really important, and it should indeed be the first registered hook. That was one of the reasons that the HiveMetaStore.getDefaultHooks() precede all the user-defined hooks.&lt;/p&gt;

&lt;p&gt;  As you suggested we can add transactional semantics to the hook interface, but I guess that would require exposing startTransaction, rollback and commit interfaces, and implementing something like a two phase commit to make sure to keep consistency with the external data. Without it, I don&apos;t think we can implement correct behavior.&lt;/p&gt;

&lt;p&gt;  Having said that, I am very reluctant to go that way until some real need arises. So what I propose we can do is:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Keep the HiveMetaHook as it is in trunk and HiveMetaStoreClient.&lt;/li&gt;
	&lt;li&gt;introduce HiveExtendedMetaHook interface to limited private to replace HiveMetaStoreEventListener, and allow only hive and hcat implementations (by documenting it). We guarantee correct behavior by carefully ordering the hooks.&lt;/li&gt;
	&lt;li&gt;Keep the current semantics as in the patch, but improve on the javadoc for the method semantics.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;  Would that work, what do you think?&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1299&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1299&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13191809" author="cwsteinbach" created="Tue, 24 Jan 2012 01:50:29 +0000"  >&lt;blockquote&gt;&lt;p&gt;The patch as it is, does not change the event listener calling semantics or hivemetahook calling semantics.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Actually, I think this is a pretty significant change. HiveMetaStoreListener is purely a listener interface. All of the methods defined in the interface are triggered after the underlying metastore transaction has been committed or rolled back, which means that all of the methods are effectively &quot;post&quot; methods. Supporting more than one listener is uncomplicated because the listeners don&apos;t have the ability to affect the outcome of the operation.&lt;/p&gt;

&lt;p&gt;This patch replaces the listener interface with one that allows plugins to fail metastore operations by raising exceptions in pre-methods. I don&apos;t think this interface can support more than one plugin in a maintainable fashion for the reasons I mentioned earlier.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;introduce HiveExtendedMetaHook interface to limited private to replace HiveMetaStoreEventListener, and allow only hive and hcat implementations (by documenting it). We guarantee correct behavior by carefully ordering the hooks.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I don&apos;t see any reason to remove HiveMetaStoreListener. It&apos;s useful in its current form for writing audit and logging plugins, the implementation is good, and people are probably already using it since it appeared in the 0.8.0 release.&lt;/p&gt;

&lt;p&gt;As for the proposed HiveExtendedMetaHook interface, in practice I don&apos;t think you will be able to guarantee correct behavior by ordering the hooks, and making this a requirement places a significant burden on hook implementors.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510936" name="ASF.LICENSE.NOT.GRANTED--HIVE-2720.D1299.1.patch" size="51342" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 03:13:43 +0000"/>
                            <attachment id="12510941" name="ASF.LICENSE.NOT.GRANTED--HIVE-2720.D1299.2.patch" size="51349" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 03:21:43 +0000"/>
                            <attachment id="12511185" name="ASF.LICENSE.NOT.GRANTED--HIVE-2720.D1299.3.patch" size="119605" author="phabricator@reviews.facebook.net" created="Thu, 19 Jan 2012 22:49:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Jan 2012 03:13:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06anr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34658</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2721] ability to select a view qualified by the database / schema name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2721</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1517&quot; title=&quot;ability to select across a database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1517&quot;&gt;&lt;del&gt;HIVE-1517&lt;/del&gt;&lt;/a&gt; added support for selecting tables from different databases (aka schemas) by qualifying the tables with the database name. The feature work did not however extend this support to views. Note that this point came up in the earlier JIRA, but was not addressed. See the following two comments:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1517?focusedCommentId=12996641&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12996641&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1517?focusedCommentId=12996641&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12996641&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1517?focusedCommentId=12996679&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12996679&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1517?focusedCommentId=12996679&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12996679&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538589">HIVE-2721</key>
            <summary>ability to select a view qualified by the database / schema name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="martint">Martin Traverso</assignee>
                                    <reporter username="rmorton">Robert Morton</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jan 2012 01:31:52 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:19 +0000</updated>
                            <resolved>Fri, 27 Apr 2012 00:50:31 +0000</resolved>
                                    <version>0.7.0</version>
                    <version>0.7.1</version>
                    <version>0.8.0</version>
                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Database/Schema</component>
                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13258311" author="rmorton" created="Fri, 20 Apr 2012 15:29:51 +0000"  >&lt;p&gt;I believe index DDL operations like CREATE INDEX have a similar limitation.&lt;/p&gt;</comment>
                            <comment id="13258462" author="martint" created="Fri, 20 Apr 2012 18:49:24 +0000"  >&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.facebook.net/D2901&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2901&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13259384" author="namit" created="Mon, 23 Apr 2012 05:10:49 +0000"  >&lt;p&gt;some minor comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13259674" author="martint" created="Mon, 23 Apr 2012 15:44:03 +0000"  >&lt;p&gt;Update patch to address comments on phabricator&lt;/p&gt;</comment>
                            <comment id="13261019" author="namit" created="Tue, 24 Apr 2012 21:14:45 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13263280" author="namit" created="Fri, 27 Apr 2012 00:50:31 +0000"  >&lt;p&gt;Committed. Thanks Martin&lt;/p&gt;</comment>
                            <comment id="13263303" author="hudson" created="Fri, 27 Apr 2012 02:06:56 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1399 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1399/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1399/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2721&quot; title=&quot;ability to select a view qualified by the database / schema name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2721&quot;&gt;&lt;del&gt;HIVE-2721&lt;/del&gt;&lt;/a&gt; ability to select a view qualified by the database / schema name&lt;br/&gt;
(Martin Traverso via namit) (Revision 1330991)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1330991&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1330991&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/UnparseTranslator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/view.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalidate_view1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_view_partitioned.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert2_overwrite_partitions.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/view.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13263833" author="ashutoshc" created="Fri, 27 Apr 2012 17:52:18 +0000"  >&lt;p&gt;This has introduced six new failures on trunk. See: &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1399/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1399/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13264039" author="martint" created="Fri, 27 Apr 2012 22:24:17 +0000"  >&lt;p&gt;I checkout out trunk and ran those tests and can&apos;t get them to fail. Any idea what might be going on? Could it be possible hudson is not working off of a clean checkout?&lt;/p&gt;</comment>
                            <comment id="13548325" author="hudson" created="Wed, 9 Jan 2013 10:25:17 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2721&quot; title=&quot;ability to select a view qualified by the database / schema name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2721&quot;&gt;&lt;del&gt;HIVE-2721&lt;/del&gt;&lt;/a&gt; ability to select a view qualified by the database / schema name&lt;br/&gt;
(Martin Traverso via namit) (Revision 1330991)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1330991&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1330991&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/BaseSemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/UnparseTranslator.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/view.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/invalidate_view1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_or_replace_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_view.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/create_view_partitioned.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/insert2_overwrite_partitions.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/view.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550085" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:19 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12523808" name="HIVE-2721-1.patch" size="107969" author="martint" created="Mon, 23 Apr 2012 15:44:03 +0000"/>
                            <attachment id="12523536" name="HIVE-2721.patch" size="107765" author="martint" created="Fri, 20 Apr 2012 18:51:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Apr 2012 18:49:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224093</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02uof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14571</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2722] GenericUDFUtils.findText use CharBuffer other than ByteBuffer will be better</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2722</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;select instr(&quot;&#20013;&#25991;&#23383;&#31526;&#27979;&#35797;-&#31532;&#19968;&#34892;&quot;,&quot;-&quot;) from testTable limit 1;&lt;br/&gt;
result:19 (one Chinese Character was considered as  3 Unicode bits)&lt;/p&gt;

&lt;p&gt;select substr(&quot;&#20013;&#25991;&#23383;&#31526;&#27979;&#35797;-&#31532;&#19968;&#34892;&quot;,1,2) from testTable limit 1;&lt;br/&gt;
result: &quot;&#20013;&#25991;&quot; (one Chinese Character was considered as 1 Unicode Unit )&lt;/p&gt;

&lt;p&gt;instr should considered one chinese character as one Unicode Unit too.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux zongren-VirtualBox 3.0.0-14-generic #23-Ubuntu SMP Mon Nov 21 20:34:47 UTC 2011 i686 i686 i386 GNU/Linux&lt;/p&gt;

&lt;p&gt;java version &quot;1.6.0_25&quot;&lt;/p&gt;

&lt;p&gt;hadoop-0.20.2-cdh3u0&lt;/p&gt;

&lt;p&gt;hive-0.7.0-cdh3u0&lt;/p&gt;</environment>
        <key id="12538594">HIVE-2722</key>
            <summary>GenericUDFUtils.findText use CharBuffer other than ByteBuffer will be better</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="4" iconUrl="https://issues.apache.org/jira/images/icons/statuses/reopened.png" description="This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.">Reopened</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="rmsmani@gmail.com">Mani M</assignee>
                                    <reporter username="caofangkun">caofangkun</reporter>
                        <labels>
                            <label>udf</label>
                    </labels>
                <created>Tue, 17 Jan 2012 02:22:37 +0000</created>
                <updated>Tue, 22 Jan 2019 09:24:21 +0000</updated>
                                            <version>0.8.0</version>
                    <version>0.9.0</version>
                                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="13187393" author="caofangkun" created="Tue, 17 Jan 2012 02:41:40 +0000"  >&lt;p&gt;use CharBuffer&lt;/p&gt;</comment>
                            <comment id="13187398" author="caofangkun" created="Tue, 17 Jan 2012 02:54:35 +0000"  >&lt;p&gt;hive -e &quot;SELECT instr(&apos;ab&#20013;&#22269;c&#23383;d&apos;, &apos;&#22269;&apos;) from dual limit 1&quot;&lt;br/&gt;
Result : 4&lt;/p&gt;

&lt;p&gt;hive -e &quot;select  instr(&apos;ab&#20013;&#22269;c&#23383;d&apos;, &apos;&#23383;&apos;) from dual limit 1&quot;&lt;br/&gt;
Result: 6&lt;/p&gt;</comment>
                            <comment id="13258878" author="ashutoshc" created="Sat, 21 Apr 2012 16:32:11 +0000"  >&lt;p&gt;How is it resolved? Its not committed. Is it a non-issue?&lt;/p&gt;</comment>
                            <comment id="13258879" author="ashutoshc" created="Sat, 21 Apr 2012 16:32:33 +0000"  >&lt;p&gt;Unlinking from 0.9 &lt;/p&gt;</comment>
                            <comment id="16738106" author="rmsmani@gmail.com" created="Wed, 9 Jan 2019 11:01:17 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Recent changes were gone to the same file (ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUtils.java)- as available in patch, under &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-20204&quot; title=&quot;Type conversion during IN () comparisons is using different rules from other comparison operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-20204&quot;&gt;&lt;del&gt;HIVE-20204&lt;/del&gt;&lt;/a&gt;, whether still this ticket need to be addressed.&lt;/p&gt;</comment>
                            <comment id="16743806" author="rmsmani@gmail.com" created="Wed, 16 Jan 2019 09:55:47 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pvary&quot; class=&quot;user-hover&quot; rel=&quot;pvary&quot;&gt;Peter Vary&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Recent changes were gone to the same file (ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUtils.java)- as available in patch, under&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-20204&quot; title=&quot;Type conversion during IN () comparisons is using different rules from other comparison operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-20204&quot;&gt;&lt;del&gt;HIVE-20204&lt;/del&gt;&lt;/a&gt;, whether still this ticket need to be addressed.&lt;/p&gt;</comment>
                            <comment id="16748505" author="pvary" created="Tue, 22 Jan 2019 08:56:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rmsmani%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;rmsmani@gmail.com&quot;&gt;Mani M&lt;/a&gt;: Could you please check that the original problem is still exists or not on Hive master? What is the result of:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
select instr(&lt;span class=&quot;code-quote&quot;&gt;&quot;&#20013;&#25991;&#23383;&#31526;&#27979;&#35797;-&#31532;&#19968;&#34892;&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;-&quot;&lt;/span&gt;) from testTable limit 1;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the result should be 7.&lt;br/&gt;
Otherwise we still need to patch this.&lt;br/&gt;
Thanks,&lt;br/&gt;
Peter&lt;/p&gt;</comment>
                            <comment id="16748534" author="rmsmani@gmail.com" created="Tue, 22 Jan 2019 09:24:09 +0000"  >&lt;p&gt;Ok&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510792" name="HIVE-2722.patch" size="1152" author="caofangkun" created="Tue, 17 Jan 2012 02:41:39 +0000"/>
                            <attachment id="12510794" name="udf_instr_1.q" size="1152" author="caofangkun" created="Tue, 17 Jan 2012 02:47:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 21 Apr 2012 16:32:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 hours ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08p2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48662</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>change ByteBuffer to CharBuffer in GenericUDFUtil.findText</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>


<item>
            <title>[HIVE-2723] should throw  &quot;Ambiguous column reference key&quot;  Exception in particular join condition</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2723</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment>&lt;p&gt;Linux zongren-VirtualBox 3.0.0-14-generic #23-Ubuntu SMP Mon Nov 21 20:34:47 UTC 2011 i686 i686 i386 GNU/Linux&lt;/p&gt;

&lt;p&gt;java version &quot;1.6.0_25&quot;&lt;/p&gt;

&lt;p&gt;hadoop-0.20.2-cdh3u0&lt;/p&gt;

&lt;p&gt;hive-0.7.0-cdh3u0&lt;/p&gt;</environment>
        <key id="12538597">HIVE-2723</key>
            <summary>should throw  &quot;Ambiguous column reference key&quot;  Exception in particular join condition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="caofangkun">caofangkun</reporter>
                        <labels>
                            <label>exception-handling</label>
                            <label>query</label>
                            <label>queryparser</label>
                    </labels>
                <created>Tue, 17 Jan 2012 03:14:46 +0000</created>
                <updated>Thu, 16 May 2013 21:10:31 +0000</updated>
                            <resolved>Thu, 6 Dec 2012 06:16:50 +0000</resolved>
                                                    <fixVersion>0.11.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13187586" author="phabricator@reviews.facebook.net" created="Tue, 17 Jan 2012 10:58:39 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2723&quot; title=&quot;should throw  &amp;quot;Ambiguous column reference key&amp;quot;  Exception in particular join condition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2723&quot;&gt;&lt;del&gt;HIVE-2723&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; should throw  &quot;Ambiguous column reference key&quot;  Exception in particular join condition&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-638 Does not throw &quot;Ambiguous column reference key&quot; exception in sub query with select star/pattern&lt;/p&gt;

&lt;p&gt;  This Bug can be Repeated as following :&lt;/p&gt;

&lt;p&gt;  create table test(key string, value string);&lt;br/&gt;
  create table test1(key string, value string);&lt;/p&gt;

&lt;p&gt;  1: Correct!&lt;br/&gt;
  select t.key&lt;br/&gt;
  from&lt;br/&gt;
  (select a.key, b.key from (select * from src ) a right outer join (select * from src1) b on (a.key = b.key)) t;&lt;br/&gt;
  FAILED: Error in semantic analysis: Ambiguous column reference key&lt;/p&gt;

&lt;p&gt;  2: Uncorrect!! Should throw Exception as above too!&lt;br/&gt;
  select t.key --Is this a.key or b.key ? It&apos;s ambiduous!&lt;br/&gt;
  from&lt;br/&gt;
  (select a.&lt;b&gt;, b.&lt;/b&gt; from (select * from src ) a right outer join (select * from src1) b on (a.value = b.value)) t;&lt;br/&gt;
  Total MapReduce jobs = 1&lt;br/&gt;
  Launching Job 1 out of 1&lt;br/&gt;
  Number of reduce tasks not specified. Defaulting to jobconf value of: 1&lt;br/&gt;
  In order to change the average load for a reducer (in bytes):&lt;br/&gt;
  set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt;&lt;br/&gt;
  In order to limit the maximum number of reducers:&lt;br/&gt;
  set hive.exec.reducers.max=&amp;lt;number&amp;gt;&lt;br/&gt;
  In order to set a constant number of reducers:&lt;br/&gt;
  set mapred.reduce.tasks=&amp;lt;number&amp;gt;&lt;br/&gt;
  Starting Job = job_201201170959_0004, Tracking URL = &lt;a href=&quot;http://zongren-VirtualBox:50030/jobdetails.jsp?jobid=job_201201170959_0004&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://zongren-VirtualBox:50030/jobdetails.jsp?jobid=job_201201170959_0004&lt;/a&gt;&lt;br/&gt;
  Kill Command = /home/zongren/workspace/hadoop-adh/bin/hadoop job  -Dmapred.job.tracker=zongren-VirtualBox:9001 -kill job_201201170959_0004&lt;br/&gt;
  Hadoop job information for Stage-1: number of mappers: 2; number of reducers: 1&lt;br/&gt;
  2012-01-17 11:02:47,507 Stage-1 map = 0%,  reduce = 0%&lt;br/&gt;
  2012-01-17 11:02:55,002 Stage-1 map = 100%,  reduce = 0%&lt;br/&gt;
  2012-01-17 11:03:04,240 Stage-1 map = 100%,  reduce = 33%&lt;br/&gt;
  2012-01-17 11:03:05,258 Stage-1 map = 100%,  reduce = 100%&lt;br/&gt;
  Ended Job = job_201201170959_0004&lt;br/&gt;
  MapReduce Jobs Launched:&lt;br/&gt;
  Job 0: Map: 2  Reduce: 1   HDFS Read: 669 HDFS Write: 216 SUCESS&lt;br/&gt;
  Total MapReduce CPU Time Spent: 0 msec&lt;br/&gt;
  OK&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1275&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1275&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/ambiguous_col_patterned.q&lt;br/&gt;
  ql/src/test/results/clientnegative/ambiguous_col_patterned.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2673/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2673/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13256199" author="phabricator@reviews.facebook.net" created="Wed, 18 Apr 2012 04:38:57 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2723&quot; title=&quot;should throw  &amp;quot;Ambiguous column reference key&amp;quot;  Exception in particular join condition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2723&quot;&gt;&lt;del&gt;HIVE-2723&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; should throw  &quot;Ambiguous column reference key&quot;  Exception in particular join condition&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  1. Added test cases&lt;br/&gt;
  2. Avoid throwing exception if it&apos;s possible&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1275&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1275&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/ambiguous_col0.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/ambiguous_col1.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/ambiguous_col2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/ambiguous_col.q&lt;br/&gt;
  ql/src/test/results/clientnegative/ambiguous_col0.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/ambiguous_col1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/ambiguous_col2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/ambiguous_col_patterned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ambiguous_col.q.out&lt;/p&gt;</comment>
                            <comment id="13257099" author="navis" created="Wed, 18 Apr 2012 23:51:24 +0000"  >&lt;p&gt;Passed all tests&lt;/p&gt;</comment>
                            <comment id="13258504" author="ashutoshc" created="Fri, 20 Apr 2012 19:29:21 +0000"  >&lt;p&gt;Unlinking from 0.9&lt;/p&gt;</comment>
                            <comment id="13482093" author="cwsteinbach" created="Tue, 23 Oct 2012 04:02:47 +0000"  >&lt;p&gt;@Navis: Looks like this patch almost applies cleanly except for one small reject in SemanticAnalyzer.java. Would you be willing to rebase this patch and submit it for review? Thanks.&lt;/p&gt;</comment>
                            <comment id="13482107" author="phabricator@reviews.facebook.net" created="Tue, 23 Oct 2012 04:41:11 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2723&quot; title=&quot;should throw  &amp;quot;Ambiguous column reference key&amp;quot;  Exception in particular join condition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2723&quot;&gt;&lt;del&gt;HIVE-2723&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; should throw  &quot;Ambiguous column reference key&quot;  Exception in particular join condition&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Moved column checking logic into RowResolver&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1275&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1275&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/RowResolver.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;br/&gt;
  ql/src/test/queries/clientnegative/ambiguous_col0.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/ambiguous_col1.q&lt;br/&gt;
  ql/src/test/queries/clientnegative/ambiguous_col2.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/ambiguous_col.q&lt;br/&gt;
  ql/src/test/results/clientnegative/ambiguous_col0.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/ambiguous_col1.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/ambiguous_col2.q.out&lt;br/&gt;
  ql/src/test/results/clientnegative/ambiguous_col_patterned.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/ambiguous_col.q.out&lt;/p&gt;

&lt;p&gt;To: JIRA, navis&lt;/p&gt;</comment>
                            <comment id="13511099" author="namit" created="Thu, 6 Dec 2012 04:18:46 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Looks good. running tests&lt;/p&gt;</comment>
                            <comment id="13511142" author="namit" created="Thu, 6 Dec 2012 06:16:51 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13511257" author="hudson" created="Thu, 6 Dec 2012 09:08:14 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1836 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1836/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1836/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2723&quot; title=&quot;should throw  &amp;quot;Ambiguous column reference key&amp;quot;  Exception in particular join condition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2723&quot;&gt;&lt;del&gt;HIVE-2723&lt;/del&gt;&lt;/a&gt; should throw &quot;Ambiguous column reference key&quot; Exception in particular&lt;br/&gt;
join condition (Navis via namit) (Revision 1417743)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417743&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417743&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/RowResolver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/ambiguous_col0.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/ambiguous_col1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/ambiguous_col2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ambiguous_col.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/ambiguous_col0.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/ambiguous_col1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/ambiguous_col2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/ambiguous_col_patterned.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ambiguous_col.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13526777" author="kevinwilfong" created="Fri, 7 Dec 2012 21:19:34 +0000"  >&lt;p&gt;Hi, I realize I&apos;m a little late but why should the following query fail (from the clientnegative test cases)?&lt;/p&gt;

&lt;p&gt;explain select * from (select * from (select * from src) a join (select * from src1) b on (a.key = b.key)) t;&lt;/p&gt;</comment>
                            <comment id="13527350" author="namit" created="Sun, 9 Dec 2012 06:11:04 +0000"  >&lt;p&gt;I will let Navis confirm, but the output columns from the sub-query have the same name.&lt;/p&gt;

&lt;p&gt;select * from (select * from src) a join (select * from src1) b on (a.key = b.key)&lt;/p&gt;

&lt;p&gt;This will return a.key, a.value, b.key, b.value with column names key, value, key, value respectively.&lt;/p&gt;</comment>
                            <comment id="13527672" author="navis" created="Mon, 10 Dec 2012 01:05:22 +0000"  >&lt;p&gt;As Namit said, output columns is duplicating. &lt;/p&gt;

&lt;p&gt;I&apos;ve thought replacing names of those with auto-generated one, but that seemed making another problem. And also, mysql throws exception for that query something like &quot;ERROR 1060 (42S21): Duplicate column name &apos;akey&apos;&quot;&lt;/p&gt;</comment>
                            <comment id="13527705" author="namit" created="Mon, 10 Dec 2012 04:01:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kevinwilfong&quot; class=&quot;user-hover&quot; rel=&quot;kevinwilfong&quot;&gt;Kevin Wilfong&lt;/a&gt;, what do you think ? I feel that throwing an error is reasonable.&lt;/p&gt;</comment>
                            <comment id="13528135" author="kevinwilfong" created="Mon, 10 Dec 2012 18:25:55 +0000"  >&lt;p&gt;I ran the query on a version of Hive without this patch and it gave only 2 columns of output.  Given that it&apos;s giving wrong answers today anyway, I&apos;m fine with throwing an error.&lt;/p&gt;</comment>
                            <comment id="13548327" author="hudson" created="Wed, 9 Jan 2013 10:25:18 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2723&quot; title=&quot;should throw  &amp;quot;Ambiguous column reference key&amp;quot;  Exception in particular join condition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2723&quot;&gt;&lt;del&gt;HIVE-2723&lt;/del&gt;&lt;/a&gt; should throw &quot;Ambiguous column reference key&quot; Exception in particular&lt;br/&gt;
join condition (Navis via namit) (Revision 1417743)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417743&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1417743&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/RowResolver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/ambiguous_col0.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/ambiguous_col1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/ambiguous_col2.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/ambiguous_col.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/ambiguous_col0.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/ambiguous_col1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/ambiguous_col2.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientnegative/ambiguous_col_patterned.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/ambiguous_col.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12613095">HIVE-3609</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12626898">HIVE-3882</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12510829" name="ASF.LICENSE.NOT.GRANTED--HIVE-2723.D1275.1.patch" size="3528" author="phabricator@reviews.facebook.net" created="Tue, 17 Jan 2012 10:58:40 +0000"/>
                            <attachment id="12523072" name="ASF.LICENSE.NOT.GRANTED--HIVE-2723.D1275.2.patch" size="17307" author="phabricator@reviews.facebook.net" created="Wed, 18 Apr 2012 04:39:05 +0000"/>
                            <attachment id="12550414" name="HIVE-2723.D1275.3.patch" size="18447" author="phabricator@reviews.facebook.net" created="Tue, 23 Oct 2012 04:41:11 +0000"/>
                            <attachment id="12556213" name="hive.2723.1.patch" size="19012" author="namit" created="Thu, 6 Dec 2012 04:18:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jan 2012 10:58:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ayxb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>61931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2724] Remove unused lib/log4j-1.2.15.jar</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2724</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There&apos;s still a file, lib/log4j-1.2.15.jar, even though log4j is now pulled in via Ivy. As a result, this older log4j gets pulled into the Hive release tarball, and may end up in classpaths as well. It should be removed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538720">HIVE-2724</key>
            <summary>Remove unused lib/log4j-1.2.15.jar</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="abayer">Andrew Bayer</assignee>
                                    <reporter username="abayer">Andrew Bayer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jan 2012 00:51:56 +0000</created>
                <updated>Wed, 9 Jan 2013 10:25:15 +0000</updated>
                            <resolved>Mon, 23 Jan 2012 20:04:39 +0000</resolved>
                                    <version>0.8.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13188158" author="abayer" created="Wed, 18 Jan 2012 00:54:09 +0000"  >&lt;p&gt;Removes lib/log4j-1.2.15.jar.&lt;/p&gt;</comment>
                            <comment id="13188166" author="cwsteinbach" created="Wed, 18 Jan 2012 01:12:55 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13191407" author="cwsteinbach" created="Mon, 23 Jan 2012 20:04:39 +0000"  >&lt;p&gt;Committed to trunk. Thanks Andrew!&lt;/p&gt;</comment>
                            <comment id="13191804" author="hudson" created="Tue, 24 Jan 2012 01:42:19 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1216 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1216/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1216/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2724&quot; title=&quot;Remove unused lib/log4j-1.2.15.jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2724&quot;&gt;&lt;del&gt;HIVE-2724&lt;/del&gt;&lt;/a&gt;. Remove unused lib/log4j-1.2.15.jar (Andrew Bayer via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234962&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234962&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/lib/log4j-1.2.15.jar&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265337" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:50 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548315" author="hudson" created="Wed, 9 Jan 2013 10:25:15 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2724&quot; title=&quot;Remove unused lib/log4j-1.2.15.jar&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2724&quot;&gt;&lt;del&gt;HIVE-2724&lt;/del&gt;&lt;/a&gt;. Remove unused lib/log4j-1.2.15.jar (Andrew Bayer via cws) (Revision 1234962)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234962&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1234962&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/lib/log4j-1.2.15.jar&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12510924" name="HIVE-2724.diff.txt" size="156" author="abayer" created="Wed, 18 Jan 2012 00:54:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Jan 2012 01:12:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224223</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2725] Fix flaky testing infrastructure </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2725</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;To begin with  org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert2_overwrite_partitions and org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_inputddl5 are failing on trunk for a while now.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538870">HIVE-2725</key>
            <summary>Fix flaky testing infrastructure </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jan 2012 19:38:41 +0000</created>
                <updated>Mon, 30 Apr 2012 21:11:31 +0000</updated>
                            <resolved>Tue, 21 Feb 2012 07:01:20 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13188663" author="ashutoshc" created="Wed, 18 Jan 2012 19:48:49 +0000"  >&lt;p&gt;They are failing on apache jenkins build server.&lt;br/&gt;
When I try to debug them can&apos;t reproduce them locally. Both of them passed when ran individually.&lt;br/&gt;
My local environment information:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ svn up
At revision 1233014.
$ svn info
Path: .
URL: https:&lt;span class=&quot;code-comment&quot;&gt;//svn.apache.org/repos/asf/hive/trunk
&lt;/span&gt;Repository Root: https:&lt;span class=&quot;code-comment&quot;&gt;//svn.apache.org/repos/asf
&lt;/span&gt;Repository UUID: 13f79535-47bb-0310-9956-ffa450edef68
Revision: 1233014
Node Kind: directory
Schedule: normal
Last Changed Author: cws
Last Changed Rev: 1232766
Last Changed Date: 2012-01-18 07:10:02 +0000 (Wed, 18 Jan 2012)

$ uname -a
Linux 2.6.18-238.1 #1 SMP Mon Feb 21 19:27:52 PST 2011 x86_64 x86_64 x86_64 GNU/Linux

$ cat /etc/redhat-release 
Red Hat Enterprise Linux Server release 5.6 (Tikanga)
[hortonas@hrt8n30 hive-trunk]$ ant -version
Apache Ant(TM) version 1.8.2 compiled on December 20 2010

$ ant test -Dtestcase=TestCliDriver -Dqfile=inputddl5.q
junit] Running org.apache.hadoop.hive.cli.TestCliDriver
    [junit] Begin query: inputddl5.q
    [junit] Copying file: file:/home/ashutosh/hive-trunk/data/files/kv4.txt
    [junit] diff -a /home/ashutosh/hive-trunk/build/ql/test/logs/clientpositive/inputddl5.q.out /home/hortonas/hive-trunk/ql/src/test/results/clientpositive/inputddl5.q.out
    [junit] Done query: inputddl5.q
    [junit] Cleaning up TestCliDriver
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 10.351 sec

$ ant test -Dtestcase=TestCliDriver -Dqfile=insert2_overwrite_partitions.q
  [junit] Running org.apache.hadoop.hive.cli.TestCliDriver
    [junit] Begin query: insert2_overwrite_partitions.q
    [junit] Copying file: file:/home/ashutosh/hive-trunk/data/files/kv1.txt
    [junit] Copying file: file:/home/ashutosh/hive-trunk/data/files/kv3.txt
    [junit] Deleted pfile:/home/ashutosh/hive-trunk/build/ql/test/data/warehouse/db2.db/destintable/ds=2011-11-11
    [junit] diff -a /home/ashutosh/hive-trunk/build/ql/test/logs/clientpositive/insert2_overwrite_partitions.q.out /home/hortonas/hive-trunk/ql/src/test/results/clientpositive/insert2_overwrite_partitions.q.out
    [junit] Done query: insert2_overwrite_partitions.q
    [junit] Cleaning up TestCliDriver
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 27.886 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Does anyone have any idea why do these tests fail on apache jenkins server ?&lt;/p&gt;</comment>
                            <comment id="13188669" author="ashutoshc" created="Wed, 18 Jan 2012 20:05:03 +0000"  >&lt;p&gt;On the same build machine after applying hive-2589_2.patch following tests pass which apache jenkins reports as failures:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ svn info
Path: .
URL: https:&lt;span class=&quot;code-comment&quot;&gt;//svn.apache.org/repos/asf/hive/trunk
&lt;/span&gt;Repository Root: https:&lt;span class=&quot;code-comment&quot;&gt;//svn.apache.org/repos/asf
&lt;/span&gt;Repository UUID: 13f79535-47bb-0310-9956-ffa450edef68
Revision: 1233014
Node Kind: directory
Schedule: normal
Last Changed Author: cws
Last Changed Rev: 1232766
Last Changed Date: 2012-01-18 07:10:02 +0000 (Wed, 18 Jan 2012)

$ svn diff
Index: metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java
===================================================================
--- metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java	(revision 1233014)
+++ metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java	(working copy)
@@ -26,14 +26,17 @@
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.AbstractMap;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.ArrayList;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Arrays;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Collections;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Formatter;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.HashMap;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.HashSet;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.LinkedHashMap;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.List;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Map;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Map.Entry;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Properties;
+&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Set;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Timer;
 &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.regex.Pattern;
 
@@ -1562,7 +1565,23 @@
             part.getParameters().get(Constants.DDL_TIME) == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
           part.putToParameters(Constants.DDL_TIME, &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.toString(time));
         }
+ 
+        Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; tblParams = tbl.getParameters();
+        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; inheritProps =  hiveConf.getVar(ConfVars.METASTORE_PART_INHERIT_TBL_PROPS).trim();
+        &lt;span class=&quot;code-comment&quot;&gt;// Default value is empty string in which &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; no properties will be inherited.
&lt;/span&gt;+        &lt;span class=&quot;code-comment&quot;&gt;// * implies all properties needs to be inherited
&lt;/span&gt;+        Set&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; inheritKeys = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashSet&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;(Arrays.asList(inheritProps.split(&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;)));
+        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(inheritKeys.contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;*&quot;&lt;/span&gt;)){
+          inheritKeys =  tblParams.keySet();
+        }
 
+        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key : inheritKeys) {
+          &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; paramVal = tblParams.get(key);
+          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; != paramVal){ &lt;span class=&quot;code-comment&quot;&gt;// add the property only &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; it exists in table properties
&lt;/span&gt;+            part.putToParameters(key, paramVal);
+          }
+        }
+
         success = ms.addPartition(part);
 
       } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
Index: common/src/java/org/apache/hadoop/hive/conf/HiveConf.java
===================================================================
--- common/src/java/org/apache/hadoop/hive/conf/HiveConf.java	(revision 1233014)
+++ common/src/java/org/apache/hadoop/hive/conf/HiveConf.java	(working copy)
@@ -119,6 +119,7 @@
       HiveConf.ConfVars.METASTORE_EVENT_EXPIRY_DURATION,
       HiveConf.ConfVars.METASTORE_RAW_STORE_IMPL,
       HiveConf.ConfVars.METASTORE_END_FUNCTION_LISTENERS,
+      HiveConf.ConfVars.METASTORE_PART_INHERIT_TBL_PROPS,
       };
 
   /**
@@ -296,6 +297,7 @@
     METASTORE_NON_TRANSACTIONAL_READ(&lt;span class=&quot;code-quote&quot;&gt;&quot;javax.jdo.option.NonTransactionalRead&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;),
     METASTORE_CONNECTION_USER_NAME(&lt;span class=&quot;code-quote&quot;&gt;&quot;javax.jdo.option.ConnectionUserName&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;APP&quot;&lt;/span&gt;),
     METASTORE_END_FUNCTION_LISTENERS(&lt;span class=&quot;code-quote&quot;&gt;&quot;hive.metastore.end.function.listeners&quot;&lt;/span&gt;, &quot;&quot;),
+    METASTORE_PART_INHERIT_TBL_PROPS(&lt;span class=&quot;code-quote&quot;&gt;&quot;hive.metastore.partition.inherit.table.properties&quot;&lt;/span&gt;,&quot;&quot;),
 
     &lt;span class=&quot;code-comment&quot;&gt;// CLI
&lt;/span&gt;     CLIIGNOREERRORS(&lt;span class=&quot;code-quote&quot;&gt;&quot;hive.cli.errors.ignore&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;),

$ ant test -Dtestcase=TestCliDriver -Dqfile=repair.q
    [junit] Running org.apache.hadoop.hive.cli.TestCliDriver
    [junit] Begin query: repair.q
    [junit] diff -a /home/hortonas/hive-trunk/build/ql/test/logs/clientpositive/repair.q.out /home/hortonas/hive-trunk/ql/src/test/results/clientpositive/repair.q.out
    [junit] Done query: repair.q
    [junit] Cleaning up TestCliDriver
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 2.733 sec

$ ant test -Dtestcase=TestCliDriver -Dqfile=router_join_ppr.q
    [junit] Running org.apache.hadoop.hive.cli.TestCliDriver
    [junit] Begin query: router_join_ppr.q
    [junit] diff -a /home/hortonas/hive-trunk/build/ql/test/logs/clientpositive/router_join_ppr.q.out /home/hortonas/hive-trunk/ql/src/test/results/clientpositive/router_join_ppr.q.out
    [junit] Done query: router_join_ppr.q
    [junit] Cleaning up TestCliDriver
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 23.946 sec


 [junit] Begin query: sample1.q
    [junit] Deleted file:/home/hortonas/hive-trunk/build/ql/test/data/warehouse/dest1
    [junit] diff -a /home/hortonas/hive-trunk/build/ql/test/logs/clientpositive/sample1.q.out /home/hortonas/hive-trunk/ql/src/test/results/clientpositive/sample1.q.out
    [junit] Done query: sample1.q
    [junit] Cleaning up TestCliDriver
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 13.215 sec

$ ant test -Dtestcase=TestCliDriver -Dqfile=source.q
 [junit] Running org.apache.hadoop.hive.cli.TestCliDriver
    [junit] Begin query: source.q
    [junit] diff -a /home/hortonas/hive-trunk/build/ql/test/logs/clientpositive/source.q.out /home/hortonas/hive-trunk/ql/src/test/results/clientpositive/source.q.out
    [junit] Done query: source.q
    [junit] Cleaning up TestCliDriver
    [junit] Tests run: 2, Failures: 0, Errors: 0, Time elapsed: 2.46 sec


&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Cant figure out whats wrong with apache jenkins server or in hive test infra.&lt;/p&gt;</comment>
                            <comment id="13188803" author="cwsteinbach" created="Wed, 18 Jan 2012 23:28:26 +0000"  >&lt;p&gt;I also verified that with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; in place you can run tests individually and get them to pass. However, if you run all of TestCliDriver then 149 tests reliably fail. Someone needs to start with the entire testsuite and gradually cut away tests until they get to smallest set possible that reliably triggers the failure in repair.q, and then drill down from there.&lt;/p&gt;</comment>
                            <comment id="13189979" author="ashutoshc" created="Fri, 20 Jan 2012 18:28:47 +0000"  >&lt;p&gt;Thanks, Carl for looking into it. You are spot on. Tests don&apos;t fail when run individually but if all the tests are run then 149 of those fail. I digged into it and figured out that there is an bug in existing test code QTestUtil.java . I will upload the patch soon on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2589&quot; title=&quot;Newly created partition should inherit properties from table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2589&quot;&gt;&lt;del&gt;HIVE-2589&lt;/del&gt;&lt;/a&gt; which fixes this bug. All the tests pass with that patch.&lt;/p&gt;</comment>
                            <comment id="13190810" author="ashutoshc" created="Sun, 22 Jan 2012 22:41:53 +0000"  >&lt;p&gt;Tests insert2_overwrite_partitions and inputddl5 are failing consistently on apache jenkins server for trunk but passes for 0.8 branch. In my environment both tests pass both for 0.8 and trunk, so I don&apos;t have any way to reproduce those failures.&lt;/p&gt;</comment>
                            <comment id="13207945" author="ashutoshc" created="Tue, 14 Feb 2012 19:40:31 +0000"  >&lt;p&gt;Test inputddl5 is failing consistently on trunk for more than a month now. In my environment it passes, so I am not able to reproduce it. Does anyone else see this as a failure in their environment or have some info about this failing test.&lt;/p&gt;</comment>
                            <comment id="13212417" author="ashutoshc" created="Tue, 21 Feb 2012 07:01:20 +0000"  >&lt;p&gt;Trunk is green now. Resolving this as fixed. Only remaining issue is &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2811&quot; title=&quot;Export LANG=en_US.UTF-8 to environment while running tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2811&quot;&gt;&lt;del&gt;HIVE-2811&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13265284" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:31 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Jan 2012 23:28:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224373</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09yxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2726] COALESCE(NULL, NULL) NPEs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2726</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ReturnOIResolver returns null when it gets no non-void arguments.  This is bad.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538883">HIVE-2726</key>
            <summary>COALESCE(NULL, NULL) NPEs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jonchang">Jonathan Chang</assignee>
                                    <reporter username="jonchang">Jonathan Chang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jan 2012 22:21:23 +0000</created>
                <updated>Thu, 9 Feb 2012 07:21:00 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13188757" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 22:26:39 +0000"  >&lt;p&gt;jonchang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2726&quot; title=&quot;COALESCE(NULL, NULL) NPEs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2726&quot;&gt;HIVE-2726&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; COALESCE(NULL, NULL) NPEs&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2726&quot; title=&quot;COALESCE(NULL, NULL) NPEs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2726&quot;&gt;HIVE-2726&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  ReturnOIResolver returns null when it gets no non-void arguments.  This is bad.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1317&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1317&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUtils.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_coalesce.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_coalesce.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2745/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2745/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13203165" author="phabricator@reviews.facebook.net" created="Wed, 8 Feb 2012 02:22:58 +0000"  >&lt;p&gt;njain has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2726&quot; title=&quot;COALESCE(NULL, NULL) NPEs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2726&quot;&gt;HIVE-2726&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; COALESCE(NULL, NULL) NPEs&quot;.&lt;/p&gt;

&lt;p&gt;  running tests&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1317&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1317&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13203850" author="namit" created="Wed, 8 Feb 2012 19:02:30 +0000"  >&lt;p&gt;The following tests failed:&lt;/p&gt;

&lt;p&gt;udaf_context_ngrams.q&lt;br/&gt;
udf_array.q&lt;br/&gt;
udf_map.q&lt;br/&gt;
udf_sort_array.q&lt;/p&gt;


&lt;p&gt;Can you take a look ?&lt;/p&gt;

&lt;p&gt;For udf_array and udf_map, the output needs to be updated. I haven&apos;t looked at the other 2.&lt;/p&gt;</comment>
                            <comment id="13204319" author="phabricator@reviews.facebook.net" created="Thu, 9 Feb 2012 07:16:59 +0000"  >&lt;p&gt;jonchang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2726&quot; title=&quot;COALESCE(NULL, NULL) NPEs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2726&quot;&gt;HIVE-2726&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; COALESCE(NULL, NULL) NPEs&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2726&quot; title=&quot;COALESCE(NULL, NULL) NPEs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2726&quot;&gt;HIVE-2726&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  ReturnOIResolver returns null when it gets no non-void arguments.  This is bad.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1677&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1677&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFCoalesce.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUtils.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_coalesce.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_coalesce.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sort_array.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3567/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3567/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13204321" author="phabricator@reviews.facebook.net" created="Thu, 9 Feb 2012 07:20:59 +0000"  >&lt;p&gt;jonchang updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2726&quot; title=&quot;COALESCE(NULL, NULL) NPEs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2726&quot;&gt;HIVE-2726&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; COALESCE(NULL, NULL) NPEs&quot;.&lt;br/&gt;
Reviewers: JIRA, jsichi, raghotham, njain&lt;/p&gt;

&lt;p&gt;  Change the way it works so it no loner applies to ARRAY() and MAP().  Also clean up the way SORT_ARRAY() works.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1317&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1317&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFCoalesce.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFSortArray.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFUtils.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_coalesce.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_coalesce.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sort_array.q.out&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12511049" name="ASF.LICENSE.NOT.GRANTED--HIVE-2726.D1317.1.patch" size="7946" author="phabricator@reviews.facebook.net" created="Wed, 18 Jan 2012 22:26:40 +0000"/>
                            <attachment id="12513919" name="ASF.LICENSE.NOT.GRANTED--HIVE-2726.D1317.2.patch" size="14898" author="phabricator@reviews.facebook.net" created="Thu, 9 Feb 2012 07:21:00 +0000"/>
                            <attachment id="12513917" name="ASF.LICENSE.NOT.GRANTED--HIVE-2726.D1677.1.patch" size="14898" author="phabricator@reviews.facebook.net" created="Thu, 9 Feb 2012 07:17:00 +0000"/>
                            <attachment id="12513752" name="HIVE-2726.D1317.1.patch" size="7946" author="jonchang" created="Wed, 8 Feb 2012 02:55:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Jan 2012 22:26:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224386</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 50 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2727] add a testcase for partitioned view on union and base tables have index</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2727</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12538885">HIVE-2727</key>
            <summary>add a testcase for partitioned view on union and base tables have index</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="he yongqiang">He Yongqiang</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jan 2012 22:34:05 +0000</created>
                <updated>Wed, 9 Jan 2013 10:25:16 +0000</updated>
                            <resolved>Wed, 25 Jan 2012 18:43:12 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13188838" author="he yongqiang" created="Thu, 19 Jan 2012 00:32:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D1323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1323&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13188839" author="phabricator@reviews.facebook.net" created="Thu, 19 Jan 2012 00:34:39 +0000"  >&lt;p&gt;heyongqiang requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2727&quot; title=&quot;add a testcase for partitioned view on union and base tables have index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2727&quot;&gt;&lt;del&gt;HIVE-2727&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; add a testcase for partitioned view on union and base tables have index&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2727&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2727&lt;/a&gt;&lt;/p&gt;





&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1323&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/union_view.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/union_view.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/IndexUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/index/IndexMetadataChangeTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/index/compact/CompactIndexHandler.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2751/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2751/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13189363" author="phabricator@reviews.facebook.net" created="Thu, 19 Jan 2012 20:30:38 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2727&quot; title=&quot;add a testcase for partitioned view on union and base tables have index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2727&quot;&gt;&lt;del&gt;HIVE-2727&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; add a testcase for partitioned view on union and base tables have index&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/queries/clientpositive/union_view.q:27 The code changes look OK.&lt;/p&gt;

&lt;p&gt;  But, can you change the tests ?&lt;/p&gt;

&lt;p&gt;  Create 2 partitions in each base table.&lt;br/&gt;
  Change the explain to Explain Extended for all the queries, to verify that we are only looking at the relevant partitions of the index.&lt;/p&gt;

&lt;p&gt;  Can you unset all the hooks for this (printhook, lineagehook etc.)&lt;br/&gt;
  Also remove the merge (both map-only and map-reduce only).&lt;/p&gt;

&lt;p&gt;  It will make the test output much smaller, and easier to validate&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1323&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13189613" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 04:03:39 +0000"  >&lt;p&gt;heyongqiang updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2727&quot; title=&quot;add a testcase for partitioned view on union and base tables have index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2727&quot;&gt;&lt;del&gt;HIVE-2727&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; add a testcase for partitioned view on union and base tables have index&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  refresh to address namit&apos;s comments.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1323&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/union_view.q.out&lt;br/&gt;
  ql/src/test/queries/clientpositive/union_view.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/IndexUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/index/IndexMetadataChangeTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/index/compact/CompactIndexHandler.java&lt;/p&gt;</comment>
                            <comment id="13190015" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 19:14:40 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2727&quot; title=&quot;add a testcase for partitioned view on union and base tables have index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2727&quot;&gt;&lt;del&gt;HIVE-2727&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; add a testcase for partitioned view on union and base tables have index&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/results/clientpositive/union_view.q.out:2126 I am not sure - is this correct.&lt;/p&gt;

&lt;p&gt;  Why are we doing a index scan for this table ?&lt;/p&gt;

&lt;p&gt;  I mean src_union_3.&lt;/p&gt;

&lt;p&gt;  We are only looking for index for src_union_1, which is correct.&lt;/p&gt;

&lt;p&gt;  Let us talk offline&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1323&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13190176" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 22:28:38 +0000"  >&lt;p&gt;njain has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2727&quot; title=&quot;add a testcase for partitioned view on union and base tables have index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2727&quot;&gt;&lt;del&gt;HIVE-2727&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; add a testcase for partitioned view on union and base tables have index&quot;.&lt;/p&gt;

&lt;p&gt;INLINE COMMENTS&lt;br/&gt;
  ql/src/test/results/clientpositive/union_view.q.out:308 This needs to be masked&lt;/p&gt;

&lt;p&gt;  or ignored from the diff comparison.&lt;/p&gt;

&lt;p&gt;  This will always fail&lt;/p&gt;


&lt;p&gt;  Can you check for all lastModifiedTime occurences ?&lt;br/&gt;
  ql/src/test/queries/clientpositive/union_view.q:34 needs a order by to make it deterministic&lt;br/&gt;
  ql/src/test/queries/clientpositive/union_view.q:35 same as above&lt;br/&gt;
  ql/src/test/queries/clientpositive/union_view.q:38 same as above (line 39 also)&lt;br/&gt;
  ql/src/test/queries/clientpositive/union_view.q:59 make this and next one ordered&lt;br/&gt;
  ql/src/test/queries/clientpositive/union_view.q:84 basically, there are multiple partitions for ds=2 and ds=3.&lt;/p&gt;

&lt;p&gt;  Can you make this deterministic ?&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1323&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13191406" author="phabricator@reviews.facebook.net" created="Mon, 23 Jan 2012 20:03:40 +0000"  >&lt;p&gt;heyongqiang updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2727&quot; title=&quot;add a testcase for partitioned view on union and base tables have index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2727&quot;&gt;&lt;del&gt;HIVE-2727&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; add a testcase for partitioned view on union and base tables have index&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  address namit&apos;s comments&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1323&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/union_view.q.out&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/union_view.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/IndexUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/index/IndexMetadataChangeTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/index/compact/CompactIndexHandler.java&lt;/p&gt;</comment>
                            <comment id="13192685" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 00:20:39 +0000"  >&lt;p&gt;heyongqiang updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2727&quot; title=&quot;add a testcase for partitioned view on union and base tables have index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2727&quot;&gt;&lt;del&gt;HIVE-2727&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; add a testcase for partitioned view on union and base tables have index&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  replace explain extended with explain&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1323&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1323&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/results/clientpositive/union_view.q.out&lt;br/&gt;
  ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/union_view.q&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/IndexUtils.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/index/IndexMetadataChangeTask.java&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/index/compact/CompactIndexHandler.java&lt;/p&gt;</comment>
                            <comment id="13193196" author="namit" created="Wed, 25 Jan 2012 18:43:12 +0000"  >&lt;p&gt;Committed. Thanks Yongqiang&lt;/p&gt;</comment>
                            <comment id="13193446" author="hudson" created="Wed, 25 Jan 2012 23:55:19 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1220 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1220/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1220/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2727&quot; title=&quot;add a testcase for partitioned view on union and base tables have index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2727&quot;&gt;&lt;del&gt;HIVE-2727&lt;/del&gt;&lt;/a&gt; add a testcase for partitioned view on union and base tables have&lt;br/&gt;
index (He Yongqiang via namit)&lt;/p&gt;

&lt;p&gt;namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1235864&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1235864&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/index/IndexMetadataChangeTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/index/compact/CompactIndexHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/IndexUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union_view.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_view.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265331" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:44 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548321" author="hudson" created="Wed, 9 Jan 2013 10:25:16 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2727&quot; title=&quot;add a testcase for partitioned view on union and base tables have index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2727&quot;&gt;&lt;del&gt;HIVE-2727&lt;/del&gt;&lt;/a&gt; add a testcase for partitioned view on union and base tables have&lt;br/&gt;
index (He Yongqiang via namit) (Revision 1235864)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1235864&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1235864&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/index/IndexMetadataChangeTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/index/compact/CompactIndexHandler.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/IndexUtils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union_view.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union_view.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12511071" name="ASF.LICENSE.NOT.GRANTED--HIVE-2727.D1323.1.patch" size="214793" author="phabricator@reviews.facebook.net" created="Thu, 19 Jan 2012 00:34:40 +0000"/>
                            <attachment id="12511222" name="ASF.LICENSE.NOT.GRANTED--HIVE-2727.D1323.2.patch" size="261924" author="phabricator@reviews.facebook.net" created="Fri, 20 Jan 2012 04:03:40 +0000"/>
                            <attachment id="12511545" name="ASF.LICENSE.NOT.GRANTED--HIVE-2727.D1323.3.patch" size="259673" author="phabricator@reviews.facebook.net" created="Mon, 23 Jan 2012 20:03:40 +0000"/>
                            <attachment id="12511757" name="ASF.LICENSE.NOT.GRANTED--HIVE-2727.D1323.4.patch" size="90923" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 00:20:40 +0000"/>
                            <attachment id="12511069" name="HIVE-2727.1.patch" size="215461" author="he yongqiang" created="Thu, 19 Jan 2012 00:27:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 19 Jan 2012 00:34:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224388</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124102</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2728] fix some problems when enable automatic index</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2728</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;while adding a new testcase in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2727&quot; title=&quot;add a testcase for partitioned view on union and base tables have index&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2727&quot;&gt;&lt;del&gt;HIVE-2727&lt;/del&gt;&lt;/a&gt;, i found that the current auto index can be more aggressive. And also i doubt that there is count(1) query which should not go to index, but actually uses index.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538904">HIVE-2728</key>
            <summary>fix some problems when enable automatic index</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="kevinwilfong">Kevin Wilfong</assignee>
                                    <reporter username="he yongqiang">He Yongqiang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Jan 2012 00:22:50 +0000</created>
                <updated>Wed, 25 Jan 2012 00:34:17 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224407</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08o2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48499</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2729] Hive sets thread&apos;s ContextClassLoader to null</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2729</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;From &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2163&quot; title=&quot;SquirrelSQL 3.2.1 doesn&amp;#39;t work with Hive 0.7.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2163&quot;&gt;&lt;del&gt;HIVE-2163&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2163?focusedCommentId=13188876&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13188876&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2163?focusedCommentId=13188876&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13188876&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;We came across this same issue in another scenario - it looks like Hive is somewhere setting the thread&apos;s ContextClassLoader to null. I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7982&quot; title=&quot;UserGroupInformation fails to login if thread&amp;#39;s context classloader can&amp;#39;t load HadoopLoginModule&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7982&quot;&gt;&lt;del&gt;HADOOP-7982&lt;/del&gt;&lt;/a&gt; to work around the issue from the Hadoop side, but I think Hive must have a bug that causes these problems.&lt;br/&gt;
...&lt;br/&gt;
Unfortunately the other situation was integrated into some non-open-source software, so it&apos;s not easy to reproduce. It does make use of the Hive metadata, so my guess is that calling into some SessionState code (as described above in this ticket) was the culprit. I did verify that the ContextClassLoader was set to null which is what caused the problem, I just couldn&apos;t tell how it got that way.&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="12538916">HIVE-2729</key>
            <summary>Hive sets thread&apos;s ContextClassLoader to null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Jan 2012 02:46:47 +0000</created>
                <updated>Sun, 29 Jan 2012 21:13:41 +0000</updated>
                            <resolved>Sun, 29 Jan 2012 21:13:41 +0000</resolved>
                                    <version>0.8.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13195845" author="tlipcon" created="Sun, 29 Jan 2012 21:13:41 +0000"  >&lt;p&gt;Sorry, it turns out this wasn&apos;t Hive&apos;s fault after all. The issue was with a corner case of JNI usage - probably the same corner case that caused &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2163&quot; title=&quot;SquirrelSQL 3.2.1 doesn&amp;#39;t work with Hive 0.7.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2163&quot;&gt;&lt;del&gt;HIVE-2163&lt;/del&gt;&lt;/a&gt;. If the first thread to use libhdfs isn&apos;t the same thread that started the JVM from C code, then the thread&apos;s context classloader will be null.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12538909">HADOOP-7982</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12507063">HIVE-2163</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 29 Jan 2012 21:13:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224419</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llbb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124103</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2730] ObjectInspectors improperly converted if a constantOI is returned from a nondeterministic function.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2730</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The logic for whether constants can be folded is not consistent.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539053">HIVE-2730</key>
            <summary>ObjectInspectors improperly converted if a constantOI is returned from a nondeterministic function.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jonchang">Jonathan Chang</assignee>
                                    <reporter username="jonchang">Jonathan Chang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Jan 2012 22:09:32 +0000</created>
                <updated>Thu, 19 Jan 2012 22:09:47 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124104</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2731] Precommit builds at Jenkins </title>
                <link>https://issues.apache.org/jira/browse/HIVE-2731</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Precommit builds, similar to what Hadoop/Hbase/ZK do is a great developer tool, so that we can enforce tests, test coverage, audit checks, etc. I guess we can ask Yahoo folks to use one of the Hadoop build machines. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12539072">HIVE-2731</key>
            <summary>Precommit builds at Jenkins </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Jan 2012 00:00:48 +0000</created>
                <updated>Sat, 25 Feb 2012 04:38:22 +0000</updated>
                            <resolved>Sat, 25 Feb 2012 04:38:22 +0000</resolved>
                                                                    <component>Build Infrastructure</component>
                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13216303" author="ashutoshc" created="Sat, 25 Feb 2012 04:38:22 +0000"  >&lt;p&gt;Dupe of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1175&quot; title=&quot;Enable automatic patch testing on Hudson&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1175&quot;&gt;&lt;del&gt;HIVE-1175&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 25 Feb 2012 04:38:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224574</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124105</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2732] Reduce Sink deduplication fails if the child reduce sink is followed by a join</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2732</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;set hive.optimize.reducededuplication=true;&lt;br/&gt;
set hive.auto.convert.join=true;&lt;br/&gt;
explain select * from (select * from src distribute by key sort by key) a join src b on a.key = b.key;&lt;/p&gt;

&lt;p&gt;fails with the following exception&lt;/p&gt;

&lt;p&gt;java.lang.ClassCastException: org.apache.hadoop.hive.ql.exec.SelectOperator cannot be cast to org.apache.hadoop.hive.ql.exec.ReduceSinkOperator&lt;br/&gt;
	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.convertMapJoin(MapJoinProcessor.java:313)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.genMapJoinOpAndLocalWork(MapJoinProcessor.java:226)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinResolver$CommonJoinTaskDispatcher.processCurrentTask(CommonJoinResolver.java:174)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinResolver$CommonJoinTaskDispatcher.dispatch(CommonJoinResolver.java:287)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.dispatch(TaskGraphWalker.java:111)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.walk(TaskGraphWalker.java:194)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.startWalking(TaskGraphWalker.java:139)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinResolver.resolve(CommonJoinResolver.java:68)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.optimizer.physical.PhysicalOptimizer.optimize(PhysicalOptimizer.java:72)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genMapRedTasks(SemanticAnalyzer.java:7019)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7312)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:48)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:430)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:889)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:255)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:212)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:403)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:671)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:554)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;/p&gt;

&lt;p&gt;If hive.auto.convert.join is set to false, it produces an incorrect plan where the two halves of the join are processed in two separate map reduce tasks, and the reducers of these two tasks both contain the join operator resulting in an exception.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539233">HIVE-2732</key>
            <summary>Reduce Sink deduplication fails if the child reduce sink is followed by a join</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="kevinwilfong">Kevin Wilfong</reporter>
                        <labels>
                    </labels>
                <created>Sat, 21 Jan 2012 00:44:07 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:31 +0000</updated>
                            <resolved>Tue, 15 May 2012 20:06:48 +0000</resolved>
                                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13212284" author="navis" created="Tue, 21 Feb 2012 01:33:40 +0000"  >&lt;p&gt;Join/MapJoins also should not be deduplicated.&lt;/p&gt;</comment>
                            <comment id="13212291" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 01:49:34 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2732&quot; title=&quot;Reduce Sink deduplication fails if the child reduce sink is followed by a join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2732&quot;&gt;&lt;del&gt;HIVE-2732&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Reduce Sink deduplication fails if the child reduce sink is followed by a join&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-854 Reduce Sink deduplication fails if the child reduce sink is followed by a join&lt;/p&gt;

&lt;p&gt;  set hive.optimize.reducededuplication=true;&lt;br/&gt;
  set hive.auto.convert.join=true;&lt;br/&gt;
  explain select * from (select * from src distribute by key sort by key) a join src b on a.key = b.key;&lt;/p&gt;

&lt;p&gt;  fails with the following exception&lt;/p&gt;

&lt;p&gt;  java.lang.ClassCastException: org.apache.hadoop.hive.ql.exec.SelectOperator cannot be cast to org.apache.hadoop.hive.ql.exec.ReduceSinkOperator&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.convertMapJoin(MapJoinProcessor.java:313)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.MapJoinProcessor.genMapJoinOpAndLocalWork(MapJoinProcessor.java:226)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinResolver$CommonJoinTaskDispatcher.processCurrentTask(CommonJoinResolver.java:174)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinResolver$CommonJoinTaskDispatcher.dispatch(CommonJoinResolver.java:287)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.dispatch(TaskGraphWalker.java:111)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.walk(TaskGraphWalker.java:194)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.lib.TaskGraphWalker.startWalking(TaskGraphWalker.java:139)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.physical.CommonJoinResolver.resolve(CommonJoinResolver.java:68)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.optimizer.physical.PhysicalOptimizer.optimize(PhysicalOptimizer.java:72)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genMapRedTasks(SemanticAnalyzer.java:7019)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7312)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.parse.ExplainSemanticAnalyzer.analyzeInternal(ExplainSemanticAnalyzer.java:48)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:430)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)&lt;br/&gt;
  	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:889)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:255)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:212)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:403)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:671)&lt;br/&gt;
  	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:554)&lt;br/&gt;
  	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
  	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
  	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
  	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
  	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;/p&gt;

&lt;p&gt;  If hive.auto.convert.join is set to false, it produces an incorrect plan where the two halves of the join are processed in two separate map reduce tasks, and the reducers of these two tasks both contain the join operator resulting in an exception.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1809&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1809&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/reduce_deduplicate_exclude_gby.q&lt;br/&gt;
  ql/src/test/results/clientpositive/reduce_deduplicate_exclude_gby.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3855/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3855/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13269323" author="phabricator@reviews.facebook.net" created="Mon, 7 May 2012 01:42:46 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2732&quot; title=&quot;Reduce Sink deduplication fails if the child reduce sink is followed by a join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2732&quot;&gt;&lt;del&gt;HIVE-2732&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Reduce Sink deduplication fails if the child reduce sink is followed by a join&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  1. Rebased &amp;amp; Fixed test case&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1809&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1809&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/reduce_deduplicate_exclude_join.q&lt;br/&gt;
  ql/src/test/results/clientpositive/reduce_deduplicate_exclude_join.q.out&lt;/p&gt;</comment>
                            <comment id="13274797" author="namit" created="Mon, 14 May 2012 17:45:53 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Running tests&lt;/p&gt;</comment>
                            <comment id="13276173" author="namit" created="Tue, 15 May 2012 20:06:48 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13276395" author="hudson" created="Wed, 16 May 2012 02:43:24 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1433 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1433/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1433/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2732&quot; title=&quot;Reduce Sink deduplication fails if the child reduce sink is followed by a join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2732&quot;&gt;&lt;del&gt;HIVE-2732&lt;/del&gt;&lt;/a&gt; Reduce Sink deduplication fails if the child reduce sink is followed by a join&lt;br/&gt;
(Navis via namit) (Revision 1338871)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1338871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1338871&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/reduce_deduplicate_exclude_join.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/reduce_deduplicate_exclude_join.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13548347" author="hudson" created="Wed, 9 Jan 2013 10:25:23 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2732&quot; title=&quot;Reduce Sink deduplication fails if the child reduce sink is followed by a join&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2732&quot;&gt;&lt;del&gt;HIVE-2732&lt;/del&gt;&lt;/a&gt; Reduce Sink deduplication fails if the child reduce sink is followed by a join&lt;br/&gt;
(Navis via namit) (Revision 1338871)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1338871&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1338871&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/optimizer/ReduceSinkDeDuplication.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/reduce_deduplicate_exclude_join.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/reduce_deduplicate_exclude_join.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550138" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:31 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12515895">HIVE-2329</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12515307" name="ASF.LICENSE.NOT.GRANTED--HIVE-2732.D1809.1.patch" size="4909" author="phabricator@reviews.facebook.net" created="Tue, 21 Feb 2012 01:49:35 +0000"/>
                            <attachment id="12525795" name="ASF.LICENSE.NOT.GRANTED--HIVE-2732.D1809.2.patch" size="10291" author="phabricator@reviews.facebook.net" created="Mon, 7 May 2012 01:42:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Feb 2012 01:33:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224735</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02ujb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14548</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2733] PrimitiveObjectInspector.getPrimitiveCategory() returns DOUBLE for LONG MIN_VAUE(-9223372036854775808)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2733</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12539244">HIVE-2733</key>
            <summary>PrimitiveObjectInspector.getPrimitiveCategory() returns DOUBLE for LONG MIN_VAUE(-9223372036854775808)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="zhenxiao">Zhenxiao Luo</reporter>
                        <labels>
                    </labels>
                <created>Sat, 21 Jan 2012 02:38:19 +0000</created>
                <updated>Thu, 31 May 2012 18:59:25 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12537391">HIVE-2694</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224746</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124106</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2734] Fix some nondeterministic test output</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2734</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Many Hive query tests lack an ORDER BY clause, and consequently the ordering&lt;br/&gt;
of the rows in the result set is nondeterministic:&lt;/p&gt;

&lt;p&gt;groupby1_limit&lt;br/&gt;
input11_limit&lt;br/&gt;
input1_limit&lt;br/&gt;
input_lazyserde&lt;br/&gt;
join18_multi_distinct&lt;br/&gt;
join_1to1&lt;br/&gt;
join_casesensitive&lt;br/&gt;
join_filters&lt;br/&gt;
join_nulls&lt;br/&gt;
merge3&lt;br/&gt;
rcfile_columnar&lt;br/&gt;
rcfile_lazydecompress&lt;br/&gt;
rcfile_union&lt;br/&gt;
sample10&lt;br/&gt;
udf_sentences&lt;br/&gt;
union24&lt;br/&gt;
columnarserde_create_shortcut&lt;br/&gt;
combine1&lt;br/&gt;
global_limit&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539250">HIVE-2734</key>
            <summary>Fix some nondeterministic test output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="zhenxiao">Zhenxiao Luo</reporter>
                        <labels>
                    </labels>
                <created>Sat, 21 Jan 2012 03:09:40 +0000</created>
                <updated>Wed, 9 Jan 2013 10:25:22 +0000</updated>
                            <resolved>Fri, 27 Jan 2012 01:42:22 +0000</resolved>
                                                    <fixVersion>0.9.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13190319" author="phabricator@reviews.facebook.net" created="Sat, 21 Jan 2012 05:58:39 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt;: Fix some nondeterministic test output&lt;/p&gt;

&lt;p&gt;  Many Hive query tests lack an ORDER BY clause, and consequently the ordering&lt;br/&gt;
  of the rows in the result set is nondeterministic:&lt;/p&gt;

&lt;p&gt;  groupby1_limit&lt;br/&gt;
  input11_limit&lt;br/&gt;
  input1_limit&lt;br/&gt;
  input_lazyserde&lt;br/&gt;
  join18_multi_distinct&lt;br/&gt;
  join_1to1&lt;br/&gt;
  join_casesensitive&lt;br/&gt;
  join_filters&lt;br/&gt;
  join_nulls&lt;br/&gt;
  merge3&lt;br/&gt;
  metadataonly1&lt;br/&gt;
  rcfile_columnar&lt;br/&gt;
  rcfile_lazydecompress&lt;br/&gt;
  rcfile_union&lt;br/&gt;
  sample10&lt;br/&gt;
  udf_sentences&lt;br/&gt;
  union24&lt;br/&gt;
  virtual_column&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1359&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1359&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input11_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input_lazyserde.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join18_multi_distinct.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_1to1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_casesensitive.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_filters.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_nulls.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/merge3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/metadataonly1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_columnar.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_lazydecompress.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_union.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/sample10.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sentences.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union24.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/virtual_column.q&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input11_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input_lazyserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join18_multi_distinct.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_1to1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_casesensitive.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_nulls.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/metadataonly1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_lazydecompress.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_union.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/sample10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sentences.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/virtual_column.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2829/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2829/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13190342" author="phabricator@reviews.facebook.net" created="Sat, 21 Jan 2012 07:53:35 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt;: Fix some nondeterministic test output&lt;/p&gt;

&lt;p&gt;  Many Hive query tests lack an ORDER BY clause, and consequently the ordering&lt;br/&gt;
  of the rows in the result set is nondeterministic:&lt;/p&gt;

&lt;p&gt;  groupby1_limit&lt;br/&gt;
  input11_limit&lt;br/&gt;
  input1_limit&lt;br/&gt;
  input_lazyserde&lt;br/&gt;
  join18_multi_distinct&lt;br/&gt;
  join_1to1&lt;br/&gt;
  join_casesensitive&lt;br/&gt;
  join_filters&lt;br/&gt;
  join_nulls&lt;br/&gt;
  merge3&lt;br/&gt;
  metadataonly1&lt;br/&gt;
  rcfile_columnar&lt;br/&gt;
  rcfile_lazydecompress&lt;br/&gt;
  rcfile_union&lt;br/&gt;
  sample10&lt;br/&gt;
  udf_sentences&lt;br/&gt;
  union24&lt;br/&gt;
  virtual_column&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1365&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1365&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input11_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input_lazyserde.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join18_multi_distinct.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_1to1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_casesensitive.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_filters.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_nulls.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/merge3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/metadataonly1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_columnar.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_lazydecompress.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_union.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/sample10.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sentences.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union24.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/virtual_column.q&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input11_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input_lazyserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join18_multi_distinct.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_1to1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_casesensitive.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_nulls.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/metadataonly1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_lazydecompress.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_union.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/sample10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sentences.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/virtual_column.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2835/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2835/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13190343" author="phabricator@reviews.facebook.net" created="Sat, 21 Jan 2012 07:54:58 +0000"  >&lt;p&gt;zhenxiao has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;/p&gt;

&lt;p&gt;  This is the patch for branch apache/branch-0.8-r2&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1359&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1359&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13190344" author="phabricator@reviews.facebook.net" created="Sat, 21 Jan 2012 07:55:10 +0000"  >&lt;p&gt;zhenxiao has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;/p&gt;

&lt;p&gt;  This is the patch for apache/trunk&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1365&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1365&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13191796" author="zhenxiao" created="Tue, 24 Jan 2012 01:30:41 +0000"  >&lt;p&gt;The following testcases are also in this category:&lt;/p&gt;

&lt;p&gt;columnarserde_create_shortcut&lt;br/&gt;
combine1&lt;br/&gt;
global_limit&lt;/p&gt;

&lt;p&gt;Will submit new patch, including these fixes soon.&lt;/p&gt;</comment>
                            <comment id="13191838" author="phabricator@reviews.facebook.net" created="Tue, 24 Jan 2012 02:49:39 +0000"  >&lt;p&gt;zhenxiao updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;


&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt;: fix non-deterministic test output in:&lt;br/&gt;
              columnarserde_create_shortcut&lt;br/&gt;
              combine1&lt;br/&gt;
              global_limit&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1365&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1365&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/columnarserde_create_shortcut.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/combine1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/global_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input11_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input_lazyserde.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join18_multi_distinct.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_1to1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_casesensitive.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_filters.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_nulls.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/merge3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/metadataonly1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_columnar.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_lazydecompress.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_union.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/sample10.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sentences.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union24.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/virtual_column.q&lt;br/&gt;
  ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/global_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input11_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input_lazyserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join18_multi_distinct.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_1to1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_casesensitive.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_nulls.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/metadataonly1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_lazydecompress.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_union.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/sample10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sentences.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/virtual_column.q.out&lt;/p&gt;</comment>
                            <comment id="13191841" author="phabricator@reviews.facebook.net" created="Tue, 24 Jan 2012 03:07:42 +0000"  >&lt;p&gt;zhenxiao updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;


&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt;: fix non-deterministic test output in:&lt;br/&gt;
              columnarserde_create_shortcut&lt;br/&gt;
              combine1&lt;br/&gt;
              global_limit&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1359&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1359&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/columnarserde_create_shortcut.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/combine1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/global_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input11_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input_lazyserde.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join18_multi_distinct.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_1to1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_casesensitive.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_filters.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_nulls.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/merge3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/metadataonly1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_columnar.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_lazydecompress.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_union.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/sample10.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sentences.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union24.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/virtual_column.q&lt;br/&gt;
  ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/global_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input11_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input_lazyserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join18_multi_distinct.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_1to1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_casesensitive.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_nulls.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/metadataonly1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_lazydecompress.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_union.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/sample10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sentences.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/virtual_column.q.out&lt;/p&gt;</comment>
                            <comment id="13192841" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 03:38:40 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt;: Fix some nondeterministic test output&lt;/p&gt;

&lt;p&gt;  Many Hive query tests lack an ORDER BY clause, and consequently the ordering&lt;br/&gt;
  of the rows in the result set is nondeterministic:&lt;/p&gt;

&lt;p&gt;  groupby1_limit&lt;br/&gt;
  input11_limit&lt;br/&gt;
  input1_limit&lt;br/&gt;
  input_lazyserde&lt;br/&gt;
  join18_multi_distinct&lt;br/&gt;
  join_1to1&lt;br/&gt;
  join_casesensitive&lt;br/&gt;
  join_filters&lt;br/&gt;
  join_nulls&lt;br/&gt;
  merge3&lt;br/&gt;
  metadataonly1&lt;br/&gt;
  rcfile_columnar&lt;br/&gt;
  rcfile_lazydecompress&lt;br/&gt;
  rcfile_union&lt;br/&gt;
  sample10&lt;br/&gt;
  udf_sentences&lt;br/&gt;
  union24&lt;br/&gt;
  virtual_column&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1419&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1419&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/columnarserde_create_shortcut.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/combine1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/global_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input11_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input_lazyserde.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join18_multi_distinct.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_1to1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_casesensitive.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_filters.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_nulls.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/merge3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/metadataonly1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_columnar.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_lazydecompress.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_union.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/sample10.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sentences.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union24.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/virtual_column.q&lt;br/&gt;
  ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/global_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input11_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input_lazyserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join18_multi_distinct.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_1to1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_casesensitive.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_nulls.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/metadataonly1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_lazydecompress.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_union.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/sample10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sentences.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/virtual_column.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2955/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2955/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13192852" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 04:20:39 +0000"  >&lt;p&gt;zhenxiao has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;/p&gt;

&lt;p&gt;  New Patch for apache/trunk&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1419&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1419&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13192865" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 05:22:40 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt;: Fix some nondeterministic test output&lt;/p&gt;

&lt;p&gt;  Many Hive query tests lack an ORDER BY clause, and consequently the ordering&lt;br/&gt;
  of the rows in the result set is nondeterministic:&lt;/p&gt;

&lt;p&gt;  groupby1_limit&lt;br/&gt;
  input11_limit&lt;br/&gt;
  input1_limit&lt;br/&gt;
  input_lazyserde&lt;br/&gt;
  join18_multi_distinct&lt;br/&gt;
  join_1to1&lt;br/&gt;
  join_casesensitive&lt;br/&gt;
  join_filters&lt;br/&gt;
  join_nulls&lt;br/&gt;
  merge3&lt;br/&gt;
  metadataonly1&lt;br/&gt;
  rcfile_columnar&lt;br/&gt;
  rcfile_lazydecompress&lt;br/&gt;
  rcfile_union&lt;br/&gt;
  sample10&lt;br/&gt;
  udf_sentences&lt;br/&gt;
  union24&lt;br/&gt;
  virtual_column&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1425&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1425&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/columnarserde_create_shortcut.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/combine1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/global_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input11_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input_lazyserde.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join18_multi_distinct.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_1to1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_casesensitive.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_filters.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_nulls.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/merge3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/metadataonly1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_columnar.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_lazydecompress.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_union.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/sample10.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sentences.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union24.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/virtual_column.q&lt;br/&gt;
  ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/global_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input11_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input_lazyserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join18_multi_distinct.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_1to1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_casesensitive.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_nulls.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/metadataonly1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_lazydecompress.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_union.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/sample10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sentences.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/virtual_column.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/2961/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/2961/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13192866" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 05:24:39 +0000"  >&lt;p&gt;zhenxiao has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;/p&gt;

&lt;p&gt;  This is the patch for apache/branch-0.8-r2&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1425&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1425&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13193479" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 00:39:39 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt;: Fix some nondeterministic test output&lt;/p&gt;

&lt;p&gt;  Many Hive query tests lack an ORDER BY clause, and consequently the ordering&lt;br/&gt;
  of the rows in the result set is nondeterministic:&lt;/p&gt;

&lt;p&gt;  groupby1_limit&lt;br/&gt;
  input11_limit&lt;br/&gt;
  input1_limit&lt;br/&gt;
  input_lazyserde&lt;br/&gt;
  join18_multi_distinct&lt;br/&gt;
  join_1to1&lt;br/&gt;
  join_casesensitive&lt;br/&gt;
  join_filters&lt;br/&gt;
  join_nulls&lt;br/&gt;
  merge3&lt;br/&gt;
  rcfile_columnar&lt;br/&gt;
  rcfile_lazydecompress&lt;br/&gt;
  rcfile_union&lt;br/&gt;
  sample10&lt;br/&gt;
  udf_sentences&lt;br/&gt;
  union24&lt;br/&gt;
  columnarserde_create_shortcut&lt;br/&gt;
  combine1&lt;br/&gt;
  global_limit&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1443&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1443&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/columnarserde_create_shortcut.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/combine1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/global_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input11_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input_lazyserde.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join18_multi_distinct.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_1to1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_casesensitive.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_filters.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_nulls.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/merge3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_columnar.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_lazydecompress.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_union.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/sample10.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sentences.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union24.q&lt;br/&gt;
  ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/global_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input11_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input_lazyserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join18_multi_distinct.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_1to1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_casesensitive.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_nulls.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_lazydecompress.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_union.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/sample10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sentences.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3003/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3003/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13193480" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 00:41:39 +0000"  >&lt;p&gt;zhenxiao has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;/p&gt;

&lt;p&gt;  patch for branch-0.8-r2&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1443&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1443&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13193503" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 01:23:40 +0000"  >&lt;p&gt;zhenxiao has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;/p&gt;

&lt;p&gt;  This is the patch for trunk&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1449&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1449&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13193504" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 01:25:40 +0000"  >&lt;p&gt;zhenxiao requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt;: Fix some nondeterministic test output&lt;/p&gt;

&lt;p&gt;  Many Hive query tests lack an ORDER BY clause, and consequently the ordering&lt;br/&gt;
  of the rows in the result set is nondeterministic:&lt;/p&gt;

&lt;p&gt;  groupby1_limit&lt;br/&gt;
  input11_limit&lt;br/&gt;
  input1_limit&lt;br/&gt;
  input_lazyserde&lt;br/&gt;
  join18_multi_distinct&lt;br/&gt;
  join_1to1&lt;br/&gt;
  join_casesensitive&lt;br/&gt;
  join_filters&lt;br/&gt;
  join_nulls&lt;br/&gt;
  merge3&lt;br/&gt;
  rcfile_columnar&lt;br/&gt;
  rcfile_lazydecompress&lt;br/&gt;
  rcfile_union&lt;br/&gt;
  sample10&lt;br/&gt;
  udf_sentences&lt;br/&gt;
  union24&lt;br/&gt;
  columnarserde_create_shortcut&lt;br/&gt;
  combine1&lt;br/&gt;
  global_limit&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1449&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1449&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/columnarserde_create_shortcut.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/combine1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/global_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/groupby1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input11_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input1_limit.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/input_lazyserde.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join18_multi_distinct.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_1to1.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_casesensitive.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_filters.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/join_nulls.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/merge3.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_columnar.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_lazydecompress.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/rcfile_union.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/sample10.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_sentences.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/union24.q&lt;br/&gt;
  ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/combine1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/global_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/groupby1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input11_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input1_limit.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/input_lazyserde.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join18_multi_distinct.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_1to1.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_casesensitive.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_filters.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/join_nulls.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/merge3.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_lazydecompress.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/rcfile_union.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/sample10.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_sentences.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/union24.q.out&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/3009/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/3009/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13193527" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 02:33:39 +0000"  >&lt;p&gt;cwsteinbach has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;/p&gt;

&lt;p&gt;  +1. Will commit if tests pass.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1449&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1449&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13194352" author="cwsteinbach" created="Fri, 27 Jan 2012 01:42:22 +0000"  >&lt;p&gt;Committed to trunk. Thanks Zhenxiao.&lt;/p&gt;</comment>
                            <comment id="13194356" author="phabricator@reviews.facebook.net" created="Fri, 27 Jan 2012 01:51:39 +0000"  >&lt;p&gt;zhenxiao has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;/p&gt;

&lt;p&gt;  Change committed by cws.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1449&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1449&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;COMMIT&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/rHIVE1236489&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/rHIVE1236489&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13194505" author="hudson" created="Fri, 27 Jan 2012 06:05:18 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1224 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1224/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1224/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&lt;br/&gt;
(Zhenxiao Luo via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt;: Fix some nondeterministic test output&lt;/p&gt;

&lt;p&gt;Many Hive query tests lack an ORDER BY clause, and consequently the ordering&lt;br/&gt;
of the rows in the result set is nondeterministic:&lt;/p&gt;

&lt;p&gt;groupby1_limit&lt;br/&gt;
input11_limit&lt;br/&gt;
input1_limit&lt;br/&gt;
input_lazyserde&lt;br/&gt;
join18_multi_distinct&lt;br/&gt;
join_1to1&lt;br/&gt;
join_casesensitive&lt;br/&gt;
join_filters&lt;br/&gt;
join_nulls&lt;br/&gt;
merge3&lt;br/&gt;
rcfile_columnar&lt;br/&gt;
rcfile_lazydecompress&lt;br/&gt;
rcfile_union&lt;br/&gt;
sample10&lt;br/&gt;
udf_sentences&lt;br/&gt;
union24&lt;br/&gt;
columnarserde_create_shortcut&lt;br/&gt;
combine1&lt;br/&gt;
global_limit&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;CC: zhenxiao, cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D1449&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1449&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236489&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236489&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/columnarserde_create_shortcut.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/combine1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/global_limit.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby1_limit.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input11_limit.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input1_limit.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input_lazyserde.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join18_multi_distinct.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join_1to1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join_casesensitive.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join_filters.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join_nulls.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/merge3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/rcfile_columnar.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/rcfile_lazydecompress.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/rcfile_union.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/sample10.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_sentences.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union24.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/combine1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/global_limit.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby1_limit.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input11_limit.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input1_limit.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_lazyserde.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join18_multi_distinct.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_1to1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_casesensitive.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_filters.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_nulls.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_lazydecompress.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_union.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_sentences.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union24.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265242" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:18 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13528505" author="phabricator@reviews.facebook.net" created="Tue, 11 Dec 2012 00:29:20 +0000"  >&lt;p&gt;zhenxiao has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1443&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1443&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, zhenxiao&lt;br/&gt;
Cc: zhenxiao&lt;/p&gt;</comment>
                            <comment id="13528509" author="phabricator@reviews.facebook.net" created="Tue, 11 Dec 2012 00:31:21 +0000"  >&lt;p&gt;zhenxiao has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1365&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1365&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, zhenxiao&lt;br/&gt;
Cc: zhenxiao&lt;/p&gt;</comment>
                            <comment id="13528512" author="phabricator@reviews.facebook.net" created="Tue, 11 Dec 2012 00:33:20 +0000"  >&lt;p&gt;zhenxiao has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1359&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1359&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, zhenxiao&lt;br/&gt;
Cc: zhenxiao&lt;/p&gt;</comment>
                            <comment id="13528514" author="phabricator@reviews.facebook.net" created="Tue, 11 Dec 2012 00:35:20 +0000"  >&lt;p&gt;zhenxiao has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1419&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1419&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, zhenxiao&lt;br/&gt;
Cc: zhenxiao&lt;/p&gt;</comment>
                            <comment id="13528515" author="phabricator@reviews.facebook.net" created="Tue, 11 Dec 2012 00:35:20 +0000"  >&lt;p&gt;zhenxiao has abandoned the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D1425&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1425&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, zhenxiao&lt;br/&gt;
Cc: zhenxiao&lt;/p&gt;</comment>
                            <comment id="13548345" author="hudson" created="Wed, 9 Jan 2013 10:25:22 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; Fix some nondeterministic test output&lt;br/&gt;
(Zhenxiao Luo via Carl Steinbach)&lt;/p&gt;

&lt;p&gt;Summary:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2734&quot; title=&quot;Fix some nondeterministic test output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2734&quot;&gt;&lt;del&gt;HIVE-2734&lt;/del&gt;&lt;/a&gt;: Fix some nondeterministic test output&lt;/p&gt;

&lt;p&gt;Many Hive query tests lack an ORDER BY clause, and consequently the ordering&lt;br/&gt;
of the rows in the result set is nondeterministic:&lt;/p&gt;

&lt;p&gt;groupby1_limit&lt;br/&gt;
input11_limit&lt;br/&gt;
input1_limit&lt;br/&gt;
input_lazyserde&lt;br/&gt;
join18_multi_distinct&lt;br/&gt;
join_1to1&lt;br/&gt;
join_casesensitive&lt;br/&gt;
join_filters&lt;br/&gt;
join_nulls&lt;br/&gt;
merge3&lt;br/&gt;
rcfile_columnar&lt;br/&gt;
rcfile_lazydecompress&lt;br/&gt;
rcfile_union&lt;br/&gt;
sample10&lt;br/&gt;
udf_sentences&lt;br/&gt;
union24&lt;br/&gt;
columnarserde_create_shortcut&lt;br/&gt;
combine1&lt;br/&gt;
global_limit&lt;/p&gt;

&lt;p&gt;Test Plan: EMPTY&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA, cwsteinbach&lt;/p&gt;

&lt;p&gt;Reviewed By: cwsteinbach&lt;/p&gt;

&lt;p&gt;CC: zhenxiao, cwsteinbach&lt;/p&gt;

&lt;p&gt;Differential Revision: &lt;a href=&quot;https://reviews.facebook.net/D1449&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D1449&lt;/a&gt; (Revision 1236489)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236489&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1236489&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/columnarserde_create_shortcut.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/combine1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/global_limit.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/groupby1_limit.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input11_limit.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input1_limit.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input_lazyserde.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join18_multi_distinct.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join_1to1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join_casesensitive.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join_filters.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/join_nulls.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/merge3.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/rcfile_columnar.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/rcfile_lazydecompress.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/rcfile_union.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/sample10.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_sentences.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/union24.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/columnarserde_create_shortcut.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/combine1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/global_limit.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/groupby1_limit.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input11_limit.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input1_limit.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/input_lazyserde.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join18_multi_distinct.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_1to1.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_casesensitive.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_filters.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/join_nulls.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/merge3.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_columnar.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_lazydecompress.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/rcfile_union.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/sample10.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_sentences.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/union24.q.out&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12511363" name="ASF.LICENSE.NOT.GRANTED--HIVE-2734.D1359.1.patch" size="1182127" author="phabricator@reviews.facebook.net" created="Sat, 21 Jan 2012 05:58:40 +0000"/>
                            <attachment id="12511618" name="ASF.LICENSE.NOT.GRANTED--HIVE-2734.D1359.2.patch" size="1242004" author="phabricator@reviews.facebook.net" created="Tue, 24 Jan 2012 03:07:43 +0000"/>
                            <attachment id="12511369" name="ASF.LICENSE.NOT.GRANTED--HIVE-2734.D1365.1.patch" size="708843" author="phabricator@reviews.facebook.net" created="Sat, 21 Jan 2012 07:53:38 +0000"/>
                            <attachment id="12511616" name="ASF.LICENSE.NOT.GRANTED--HIVE-2734.D1365.2.patch" size="757548" author="phabricator@reviews.facebook.net" created="Tue, 24 Jan 2012 02:49:40 +0000"/>
                            <attachment id="12511796" name="ASF.LICENSE.NOT.GRANTED--HIVE-2734.D1419.1.patch" size="757482" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 03:38:42 +0000"/>
                            <attachment id="12511802" name="ASF.LICENSE.NOT.GRANTED--HIVE-2734.D1425.1.patch" size="1234112" author="phabricator@reviews.facebook.net" created="Wed, 25 Jan 2012 05:22:41 +0000"/>
                            <attachment id="12511920" name="ASF.LICENSE.NOT.GRANTED--HIVE-2734.D1443.1.patch" size="907286" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 00:39:40 +0000"/>
                            <attachment id="12511926" name="ASF.LICENSE.NOT.GRANTED--HIVE-2734.D1449.1.patch" size="726219" author="phabricator@reviews.facebook.net" created="Thu, 26 Jan 2012 01:25:41 +0000"/>
                            <attachment id="12511781" name="HIVE-2734.D1359.2.patch" size="1242004" author="zhenxiao" created="Wed, 25 Jan 2012 02:09:50 +0000"/>
                            <attachment id="12511782" name="HIVE-2734.D1365.2.patch" size="757548" author="zhenxiao" created="Wed, 25 Jan 2012 02:09:50 +0000"/>
                            <attachment id="12511803" name="HIVE-2734.D1419.1.patch" size="757482" author="zhenxiao" created="Wed, 25 Jan 2012 05:24:58 +0000"/>
                            <attachment id="12511804" name="HIVE-2734.D1425.1.patch" size="1234112" author="zhenxiao" created="Wed, 25 Jan 2012 05:24:58 +0000"/>
                            <attachment id="12511928" name="HIVE-2734.D1443.1.patch" size="907286" author="zhenxiao" created="Thu, 26 Jan 2012 02:04:14 +0000"/>
                            <attachment id="12511929" name="HIVE-2734.D1449.1.patch" size="726219" author="zhenxiao" created="Thu, 26 Jan 2012 02:04:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 21 Jan 2012 05:58:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224752</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124107</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2735] PlanUtils.configureTableJobPropertiesForStorageHandler() is not called for partitioned table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2735</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As a result, if there is a query which results in a MR job which needs to be configured via storage handler, it returns in failure.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539356">HIVE-2735</key>
            <summary>PlanUtils.configureTableJobPropertiesForStorageHandler() is not called for partitioned table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Jan 2012 22:10:33 +0000</created>
                <updated>Wed, 9 Jan 2013 10:25:21 +0000</updated>
                            <resolved>Sun, 29 Jan 2012 16:35:15 +0000</resolved>
                                    <version>0.7.0</version>
                    <version>0.7.1</version>
                    <version>0.8.0</version>
                    <version>0.8.1</version>
                    <version>0.9.0</version>
                                    <fixVersion>0.9.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13190819" author="sushanth" created="Sun, 22 Jan 2012 23:34:10 +0000"  >&lt;p&gt;Hit this issue while working on a HCat StorageHandler - this results in the jobProperties not being copied out to the JobConf.&lt;/p&gt;</comment>
                            <comment id="13190823" author="sushanth" created="Sun, 22 Jan 2012 23:51:58 +0000"  >&lt;p&gt;(having some difficulty with my arcanist setup - uploading patch here for view anyway, will update if that&apos;s fixed)&lt;/p&gt;</comment>
                            <comment id="13195652" author="ashutoshc" created="Sun, 29 Jan 2012 01:05:57 +0000"  >&lt;p&gt;+1. Running tests.&lt;/p&gt;</comment>
                            <comment id="13195785" author="ashutoshc" created="Sun, 29 Jan 2012 16:35:15 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Sushanth!&lt;/p&gt;</comment>
                            <comment id="13195844" author="hudson" created="Sun, 29 Jan 2012 21:08:29 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1229 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1229/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1229/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2735&quot; title=&quot;PlanUtils.configureTableJobPropertiesForStorageHandler() is not called for partitioned table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2735&quot;&gt;&lt;del&gt;HIVE-2735&lt;/del&gt;&lt;/a&gt;: PlanUtils.configureTableJobPropertiesForStorageHandler() is not called for partitioned table (sushanth via ashutosh)&lt;/p&gt;

&lt;p&gt;hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1237329&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1237329&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13265338" author="ashutoshc" created="Mon, 30 Apr 2012 21:11:50 +0000"  >&lt;p&gt;This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.&lt;/p&gt;</comment>
                            <comment id="13548341" author="hudson" created="Wed, 9 Jan 2013 10:25:21 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2735&quot; title=&quot;PlanUtils.configureTableJobPropertiesForStorageHandler() is not called for partitioned table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2735&quot;&gt;&lt;del&gt;HIVE-2735&lt;/del&gt;&lt;/a&gt;: PlanUtils.configureTableJobPropertiesForStorageHandler() is not called for partitioned table (sushanth via ashutosh) (Revision 1237329)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1237329&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1237329&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12511457" name="sem_patch.patch" size="1081" author="sushanth" created="Sun, 22 Jan 2012 23:51:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 22 Jan 2012 23:34:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224858</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09z27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56121</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2736] Hive UDFs cannot emit binary constants</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2736</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I recently wrote a UDF which emits BINARY values (as implemented in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2380&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-2380&lt;/a&gt;). When testing this, I encountered the following exception (because I was evaluating f(g(constant string))) and g() was emitting a BytesWritable type.&lt;/p&gt;

&lt;p&gt;FAILED: Hive Internal Error: java.lang.RuntimeException(Internal error: Cannot find ConstantObjectInspector for BINARY)&lt;br/&gt;
java.lang.RuntimeException: Internal error: Cannot find ConstantObjectInspector for BINARY&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.objectinspector.primitive.PrimitiveObjectInspectorFactory.getPrimitiveWritableConstantObjectInspector(PrimitiveObjectInspectorFactory.java:196)&lt;br/&gt;
	at org.apache.hadoop.hive.serde2.objectinspector.ObjectInspectorUtils.getConstantObjectInspector(ObjectInspectorUtils.java:899)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.udf.generic.GenericUDF.initializeAndFoldConstants(GenericUDF.java:128)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.plan.ExprNodeGenericFuncDesc.newInstance(ExprNodeGenericFuncDesc.java:214)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$DefaultExprProcessor.getXpathOrFuncExprNodeDesc(TypeCheckProcFactory.java:684)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory$DefaultExprProcessor.process(TypeCheckProcFactory.java:805)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.lib.DefaultRuleDispatcher.dispatch(DefaultRuleDispatcher.java:89)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.dispatch(DefaultGraphWalker.java:88)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.walk(DefaultGraphWalker.java:125)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.lib.DefaultGraphWalker.startWalking(DefaultGraphWalker.java:102)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.TypeCheckProcFactory.genExprNode(TypeCheckProcFactory.java:161)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genExprNodeDesc(SemanticAnalyzer.java:7708)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2301)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genSelectPlan(SemanticAnalyzer.java:2103)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPostGroupByBodyPlan(SemanticAnalyzer.java:6126)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genBodyPlan(SemanticAnalyzer.java:6097)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.genPlan(SemanticAnalyzer.java:6723)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.SemanticAnalyzer.analyzeInternal(SemanticAnalyzer.java:7484)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.parse.BaseSemanticAnalyzer.analyze(BaseSemanticAnalyzer.java:243)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:430)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.compile(Driver.java:337)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:889)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:255)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:212)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:403)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:671)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:554)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)&lt;/p&gt;

&lt;p&gt;It looks like a pretty simple fix - add a case for BINARY in PrimitiveObjectInspectorFactory.getPrimitiveWritableConstantObjectInspector() and implement a WritableConstantByteArrayObjectInspector class (almost identical to the others). I&apos;m happy to do this, although this is my first foray into the world of contributing to FOSS so I might end up asking a few stupid questions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539474">HIVE-2736</key>
            <summary>Hive UDFs cannot emit binary constants</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="philip.tromans">Philip Tromans</assignee>
                                    <reporter username="philip.tromans">Philip Tromans</reporter>
                        <labels>
                            <label>newbie</label>
                    </labels>
                <created>Mon, 23 Jan 2012 14:22:05 +0000</created>
                <updated>Thu, 10 Jan 2013 19:53:42 +0000</updated>
                            <resolved>Thu, 7 Jun 2012 14:56:36 +0000</resolved>
                                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                    <component>Serializers/Deserializers</component>
                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <timeoriginalestimate seconds="14400">4h</timeoriginalestimate>
                            <timeestimate seconds="14400">4h</timeestimate>
                                        <comments>
                            <comment id="13191203" author="ashutoshc" created="Mon, 23 Jan 2012 15:27:13 +0000"  >&lt;p&gt;Philip,&lt;br/&gt;
Welcome to awesome world of FOSS. Go ahead, create a patch and submit it. Someone, will take a look. I have assigned the jira to you as well.&lt;/p&gt;</comment>
                            <comment id="13252992" author="ashutoshc" created="Fri, 13 Apr 2012 00:04:30 +0000"  >&lt;p&gt;@Philip,&lt;br/&gt;
Patch looks good. Can you add a test case for it? You may find this howto useful : &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HowToContribute#HowToContribute-AddaUnitTest&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HowToContribute#HowToContribute-AddaUnitTest&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="13254367" author="philip.tromans" created="Sun, 15 Apr 2012 16:43:53 +0000"  >&lt;p&gt;@Ashutosh - I&apos;ve added a tiny test query as well. It throws an exception on the unpatched codebase. Let me know if it&apos;s sufficient, or if I should write a proper unit test.&lt;/p&gt;</comment>
                            <comment id="13258508" author="ashutoshc" created="Fri, 20 Apr 2012 19:31:09 +0000"  >&lt;p&gt;Unlinking from 0.9&lt;/p&gt;</comment>
                            <comment id="13290812" author="ashutoshc" created="Thu, 7 Jun 2012 05:47:13 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13291051" author="ashutoshc" created="Thu, 7 Jun 2012 14:56:36 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Philip!&lt;/p&gt;</comment>
                            <comment id="13548344" author="hudson" created="Wed, 9 Jan 2013 10:25:22 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2736&quot; title=&quot;Hive UDFs cannot emit binary constants&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2736&quot;&gt;&lt;del&gt;HIVE-2736&lt;/del&gt;&lt;/a&gt; : Hive UDFs cannot emit binary constants (Philip Tromans via Ashutosh Chauhan) (Revision 1347654)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
hashutosh : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1347654&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1347654&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/binary_constant.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/binary_constant.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/PrimitiveObjectInspectorFactory.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/primitive/WritableConstantBinaryObjectInspector.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550184" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:42 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12522020" name="HIVE-2736.1.patch.txt" size="4154" author="philip.tromans" created="Mon, 9 Apr 2012 20:48:56 +0000"/>
                            <attachment id="12522707" name="HIVE-2736.2.patch.txt" size="5130" author="philip.tromans" created="Sun, 15 Apr 2012 16:43:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 23 Jan 2012 15:27:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224976</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02ufb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14530</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-2737] CombineFileInputFormat fails if mapred.job.tracker is set to local with a sub-query</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2737</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If the CombineFileInputFormat and mapred.job.tracker=local are used together, the CombineFileInputFormat throws a java.io.FileNotFoundException if the query statment contains a sub-query:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; select count(*) from (select count(*), a from hivetest2 group by a) x; 
Total MapReduce jobs = 2 
Launching Job 1 out of 2 
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of reduce tasks not specified. Estimated from input data size: 1 
In order to change the average load &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a reducer (in bytes): 
set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt; 
In order to limit the maximum number of reducers: 
set hive.exec.reducers.max=&amp;lt;number&amp;gt; 
In order to set a constant number of reducers: 
set mapred.reduce.tasks=&amp;lt;number&amp;gt; 
Execution log at: /tmp/esteban/esteban_20120119134040_5d105797-1444-43ce-8ca8-3b4735b7a70d.log 
Job running in-process (local Hadoop) 
2012-01-19 13:40:49,618 &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; map = 100%, reduce = 100% 
Ended Job = job_local_0001 
Launching Job 2 out of 2 
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of reduce tasks determined at compile time: 1 
In order to change the average load &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a reducer (in bytes): 
set hive.exec.reducers.bytes.per.reducer=&amp;lt;number&amp;gt; 
In order to limit the maximum number of reducers: 
set hive.exec.reducers.max=&amp;lt;number&amp;gt; 
In order to set a constant number of reducers: 
set mapred.reduce.tasks=&amp;lt;number&amp;gt; 
Execution log at: /tmp/esteban/esteban_20120119134040_5d105797-1444-43ce-8ca8-3b4735b7a70d.log 
java.io.FileNotFoundException: File does not exist: /tmp/esteban/hive_2012-01-19_13-40-45_277_494412568828098242/-mr-10002/000000_0 
at org.apache.hadoop.hdfs.DistributedFileSystem.getFileStatus(DistributedFileSystem.java:546) 
at org.apache.hadoop.mapred.lib.CombineFileInputFormat$OneFileInfo.&amp;lt;init&amp;gt;(CombineFileInputFormat.java:462) 
at org.apache.hadoop.mapred.lib.CombineFileInputFormat.getMoreSplits(CombineFileInputFormat.java:256) 
at org.apache.hadoop.mapred.lib.CombineFileInputFormat.getSplits(CombineFileInputFormat.java:212) 
at org.apache.hadoop.hive.shims.Hadoop20SShims$CombineFileInputFormatShim.getSplits(Hadoop20SShims.java:347) 
at org.apache.hadoop.hive.shims.Hadoop20SShims$CombineFileInputFormatShim.getSplits(Hadoop20SShims.java:313) 
at org.apache.hadoop.hive.ql.io.CombineHiveInputFormat.getSplits(CombineHiveInputFormat.java:377) 
at org.apache.hadoop.mapred.JobClient.writeOldSplits(JobClient.java:971) 
at org.apache.hadoop.mapred.JobClient.writeSplits(JobClient.java:963) 
at org.apache.hadoop.mapred.JobClient.access$500(JobClient.java:170) 
at org.apache.hadoop.mapred.JobClient$2.run(JobClient.java:880) 
at org.apache.hadoop.mapred.JobClient$2.run(JobClient.java:833) 
at java.security.AccessController.doPrivileged(Native Method) 
at javax.security.auth.Subject.doAs(Subject.java:396) 
at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1127) 
at org.apache.hadoop.mapred.JobClient.submitJobInternal(JobClient.java:833) 
at org.apache.hadoop.mapred.JobClient.submitJob(JobClient.java:807) 
at org.apache.hadoop.hive.ql.exec.ExecDriver.execute(ExecDriver.java:671) 
at org.apache.hadoop.hive.ql.exec.ExecDriver.main(ExecDriver.java:1092) 
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) 
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) 
at java.lang.reflect.Method.invoke(Method.java:597) 
at org.apache.hadoop.util.RunJar.main(RunJar.java:186) 
Job Submission failed with exception &lt;span class=&quot;code-quote&quot;&gt;&apos;java.io.FileNotFoundException(File does not exist: /tmp/esteban/hive_2012-01-19_13-40-45_277_494412568828098242/-mr-10002/000000_0)&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12539495">HIVE-2737</key>
            <summary>CombineFileInputFormat fails if mapred.job.tracker is set to local with a sub-query</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="esteban">Esteban Gutierrez</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jan 2012 16:25:22 +0000</created>
                <updated>Thu, 2 May 2013 02:30:54 +0000</updated>
                                            <version>0.8.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13212293" author="navis" created="Tue, 21 Feb 2012 02:10:13 +0000"  >&lt;p&gt;Similar problem with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2778&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2778&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Hadoop-CDH3 removes scheme part of path URI in the CombineFileInputFormat, in this case &apos;file:///&apos;, which causes various problems in hive(&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2778&quot; title=&quot;Fail on table sampling &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2778&quot;&gt;&lt;del&gt;HIVE-2778&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2784&quot; title=&quot;Integrating with MapReduce2 get NPE throwed when executing a query with a &amp;quot;TABLESAMPLE(x percent)&amp;quot; clause&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2784&quot;&gt;&lt;del&gt;HIVE-2784&lt;/del&gt;&lt;/a&gt;). &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12610602">HIVE-3540</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12541359">HIVE-2778</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12598782">HIVE-3257</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Feb 2012 02:10:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224997</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07pyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2738] NPE in ExprNodeGenericFuncEvaluator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2738</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Here is the query:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;tt&gt;SELECT t.lid, &apos;2011-12-12&apos;, s_map2json(s_maxmap(UNION_MAP(t.categoryCount), 100)) FROM ( SELECT theme_lid AS theme_lid, MAP(s_host(referer), COUNT( * )) AS categoryCount FROM PageViewEvent WHERE day &amp;gt;= &apos;20130104&apos; AND day &amp;lt;= &apos;20130112&apos; AND date_ &amp;gt;= &apos;2012-01-04&apos; AND date_ &amp;lt; &apos;2012-01-13&apos; AND lid IS NOT NULL GROUP BY lid, s_host(referer) ) t GROUP BY t.lid&lt;/tt&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Removing the call s_map2json make it work but not by removing s_maxmap, but I don&apos;t understand what could be wrong with the implementation of my udf. And I don&apos;t know how to debug remote hadoop jobs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539503">HIVE-2738</key>
            <summary>NPE in ExprNodeGenericFuncEvaluator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="hibou">Nicolas Lalev&#233;e</assignee>
                                    <reporter username="hibou">Nicolas Lalev&#233;e</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jan 2012 17:22:54 +0000</created>
                <updated>Tue, 3 Apr 2012 09:08:27 +0000</updated>
                                            <version>0.8.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13191272" author="hibou" created="Mon, 23 Jan 2012 17:23:49 +0000"  >&lt;p&gt;Find attached the log of the hadoop Job, and the implementations of my custom udfs.&lt;/p&gt;</comment>
                            <comment id="13192971" author="hibou" created="Wed, 25 Jan 2012 10:24:19 +0000"  >&lt;p&gt;For what it&apos;s worth, here is the plan of the second hadoop job which is been executed. The two generic udf seems to be declared on ExprNodeGenericFuncDesc (l. 490-538)&lt;/p&gt;</comment>
                            <comment id="13196216" author="hibou" created="Mon, 30 Jan 2012 16:46:39 +0000"  >&lt;p&gt;Actually there was some classpath issues, the version of jackson use by hadoop and mine are conflicting. The result is that my genericUDF failed to be instanciated, and the XMLDecoder, rather than reporting the error, returns null. Hence the NPE.&lt;/p&gt;

&lt;p&gt;I suggest the XMLDecoder should always fail on error. See the attached patch.&lt;/p&gt;</comment>
                            <comment id="13244954" author="ashutoshc" created="Tue, 3 Apr 2012 03:58:23 +0000"  >&lt;p&gt;+1 will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13245080" author="ashutoshc" created="Tue, 3 Apr 2012 09:08:27 +0000"  >&lt;p&gt;Patch fails ant test -Dtestcase=TestNegativeCliDriver -Dqfile=udfnull.q &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12511821" name="750c8966-6402-465a-b011-903469fe56da.xml" size="30802" author="hibou" created="Wed, 25 Jan 2012 10:24:18 +0000"/>
                            <attachment id="12512429" name="HIVE-2738-r1237763.patch" size="2050" author="hibou" created="Mon, 30 Jan 2012 16:47:46 +0000"/>
                            <attachment id="12511516" name="MapMaxUDF.java" size="4752" author="hibou" created="Mon, 23 Jan 2012 17:23:49 +0000"/>
                            <attachment id="12511517" name="MapToJsonUDF.java" size="3601" author="hibou" created="Mon, 23 Jan 2012 17:23:49 +0000"/>
                            <attachment id="12511515" name="hive_job_logs.txt" size="14708" author="hibou" created="Mon, 23 Jan 2012 17:23:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 Apr 2012 03:58:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-2739] Manage Eclipse integration with IvyDE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2739</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;We should use Apache IvyDE to generate the Eclipse .classpath file instead of maintaining this file by hand.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12539531">HIVE-2739</key>
            <summary>Manage Eclipse integration with IvyDE</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jan 2012 21:19:58 +0000</created>
                <updated>Mon, 23 Jan 2012 21:20:17 +0000</updated>
                                                                            <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12522761">ZOOKEEPER-1178</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>225033</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 week ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08o33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>
