<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 03:25:55 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2013-12-3+AND+created+%3C%3D+2013-12-10+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="73" total="73"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-5920] Implement vectorized support for CASE WHEN a THEN b [WHEN c THEN d]* [ELSE e] END </title>
                <link>https://issues.apache.org/jira/browse/HIVE-5920</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Implement vectorized support for the second of the two types of CASE expressions:&lt;/p&gt;

&lt;p&gt;CASE WHEN a THEN b &lt;span class=&quot;error&quot;&gt;&amp;#91;WHEN c THEN d&amp;#93;&lt;/span&gt;* &lt;span class=&quot;error&quot;&gt;&amp;#91;ELSE e&amp;#93;&lt;/span&gt; END &lt;/p&gt;</description>
                <environment></environment>
        <key id="12682285">HIVE-5920</key>
            <summary>Implement vectorized support for CASE WHEN a THEN b [WHEN c THEN d]* [ELSE e] END </summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ehans">Eric Hanson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 01:00:00 +0000</created>
                <updated>Sun, 23 Mar 2014 17:48:08 +0000</updated>
                            <resolved>Wed, 4 Dec 2013 00:33:15 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13837999" author="ehans" created="Tue, 3 Dec 2013 18:28:19 +0000"  >&lt;p&gt;This syntax uses GenericUDFWhen internally.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                                                <inwardlinks description="Is contained by">
                                        <issuelink>
            <issuekey id="12677818">HIVE-5757</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12677818">HIVE-5757</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qbmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361840</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5921] Better heuristics for worst case statistics estimates for join, limit and filter operator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5921</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is a subtask of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5369&quot; title=&quot;Annotate hive operator tree with statistics from metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5369&quot;&gt;&lt;del&gt;HIVE-5369&lt;/del&gt;&lt;/a&gt;. In worst case (i.e; absence of column statistics) &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5849&quot; title=&quot;Improve the stats of operators based on heuristics in the absence of any column statistics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5849&quot;&gt;&lt;del&gt;HIVE-5849&lt;/del&gt;&lt;/a&gt; improved the basic statistics with heuristics. But the heuristics failed to provide better estimates in few cases. For example: FILTER operator heuristics did not take into account the number of predicates and if the predicate contains partition column. Also, JOIN estimates were too aggressive and was not user configurable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682288">HIVE-5921</key>
            <summary>Better heuristics for worst case statistics estimates for join, limit and filter operator</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12670659">HIVE-5369</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 01:55:39 +0000</created>
                <updated>Tue, 13 Dec 2016 21:14:51 +0000</updated>
                            <resolved>Fri, 6 Dec 2013 00:02:44 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13838099" author="prasanth_j" created="Tue, 3 Dec 2013 19:57:12 +0000"  >&lt;p&gt;FILTER rule is improved to evaluate each predicate expression. JOIN rule is improved to get hints from user in form of hive config. In absence of basic statistics (row count and data size), estimated row count/data size is computed from average row size which is computed from schema. Regenerated all affecting tests.&lt;/p&gt;</comment>
                            <comment id="13838102" author="prasanth_j" created="Tue, 3 Dec 2013 19:59:22 +0000"  >&lt;p&gt;Making it as patch available for precommit tests&lt;/p&gt;</comment>
                            <comment id="13838227" author="hiveqa" created="Tue, 3 Dec 2013 21:43:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12616842/HIVE-5921.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12616842/HIVE-5921.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 14 failed/errored test(s), 4449 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_partition_coltype
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynamic_partition_skip_default
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_multi_single_reducer3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_auto
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_lateral_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_predicate_pushdown
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_udf_case
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_between
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_short_regress
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorized_string_funcs
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_ppd_key_range
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_pushdown
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_ppd_key_ranges
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/499/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/499/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/499/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/499/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 14 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12616842&lt;/p&gt;</comment>
                            <comment id="13838438" author="prasanth_j" created="Wed, 4 Dec 2013 01:10:13 +0000"  >&lt;p&gt;Fixed failing tests.&lt;/p&gt;</comment>
                            <comment id="13838556" author="hiveqa" created="Wed, 4 Dec 2013 03:11:08 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12616903/HIVE-5921.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12616903/HIVE-5921.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 4453 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_dynamic_partition_skip_default
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/506/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/506/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/506/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/506/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12616903&lt;/p&gt;</comment>
                            <comment id="13839373" author="prasanth_j" created="Wed, 4 Dec 2013 22:00:37 +0000"  >&lt;p&gt;Addressed &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt;&apos;s review comments.&lt;/p&gt;</comment>
                            <comment id="13839441" author="hiveqa" created="Wed, 4 Dec 2013 22:53:09 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617062/HIVE-5921.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617062/HIVE-5921.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 4457 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket_map_join_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucket_map_join_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join32
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join32_lessSize
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join33
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_map_ppr
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/518/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/518/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/518/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/518/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617062&lt;/p&gt;</comment>
                            <comment id="13839486" author="prasanth_j" created="Wed, 4 Dec 2013 23:40:58 +0000"  >&lt;p&gt;Fixed failing tests. decimal_udf.q failure is addressed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5947&quot; title=&quot;Fix test failure in decimal_udf.q&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5947&quot;&gt;&lt;del&gt;HIVE-5947&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
testMinimrCliDriver.testCliDriver_bucket_num_reducers seems to be unrelated to this jira.&lt;/p&gt;</comment>
                            <comment id="13839687" author="rhbutani" created="Thu, 5 Dec 2013 01:59:34 +0000"  >&lt;p&gt;+1&lt;br/&gt;
subject to all tests passing&lt;/p&gt;</comment>
                            <comment id="13839839" author="prasanth_j" created="Thu, 5 Dec 2013 05:39:02 +0000"  >&lt;p&gt;Reuploading patch for precommit tests.&lt;/p&gt;</comment>
                            <comment id="13839957" author="hiveqa" created="Thu, 5 Dec 2013 09:04:18 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617115/HIVE-5921.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617115/HIVE-5921.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4457 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/528/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/528/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/528/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/528/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617115&lt;/p&gt;</comment>
                            <comment id="13840714" author="ashutoshc" created="Fri, 6 Dec 2013 00:02:44 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Prasanth!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12690947">HIVE-6300</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12616842" name="HIVE-5921.1.patch" size="544734" author="prasanth_j" created="Tue, 3 Dec 2013 19:48:01 +0000"/>
                            <attachment id="12616903" name="HIVE-5921.2.patch" size="544447" author="prasanth_j" created="Wed, 4 Dec 2013 01:10:13 +0000"/>
                            <attachment id="12617062" name="HIVE-5921.3.patch" size="558306" author="prasanth_j" created="Wed, 4 Dec 2013 22:00:37 +0000"/>
                            <attachment id="12617115" name="HIVE-5921.4.patch" size="557362" author="prasanth_j" created="Thu, 5 Dec 2013 05:39:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 Dec 2013 21:43:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361545</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qbnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361843</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5922] In orc.InStream.CompressedStream, the desired position passed to seek can equal offsets[i] + bytes[i].remaining() when ORC predicate pushdown is enabled</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5922</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Two stack traces ...&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.io.IOException: IO error in map input file hdfs:&lt;span class=&quot;code-comment&quot;&gt;//10.38.55.204:8020/user/hive/warehouse/ssdb_bin_compress_orc_large_0_13.db/cycle/000004_0
&lt;/span&gt;	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.moveToNext(MapTask.java:236)
	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.next(MapTask.java:210)
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:48)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:430)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:366)
	at org.apache.hadoop.mapred.Child$4.run(Child.java:255)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:415)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1190)
	at org.apache.hadoop.mapred.Child.main(Child.java:249)
Caused by: java.io.IOException: java.io.IOException: Seek outside of data in compressed stream Stream &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; column 9 kind DATA position: 21496054 length: 33790900 range: 2 offset: 1048588 limit: 1048588 range 0 = 13893791 to 1048588;  range 1 = 17039555 to 1310735;  range 2 = 20447466 to 1048588;  range 3 = 23855377 to 1048588;  range 4 = 27263288 to 1048588;  range 5 = 30409052 to 1310735 uncompressed: 262144 to 262144 to 21496054
	at org.apache.hadoop.hive.io.HiveIOExceptionHandlerChain.handleRecordReaderNextException(HiveIOExceptionHandlerChain.java:121)
	at org.apache.hadoop.hive.io.HiveIOExceptionHandlerUtil.handleRecordReaderNextException(HiveIOExceptionHandlerUtil.java:77)
	at org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader.doNext(HiveContextAwareRecordReader.java:276)
	at org.apache.hadoop.hive.ql.io.HiveRecordReader.doNext(HiveRecordReader.java:79)
	at org.apache.hadoop.hive.ql.io.HiveRecordReader.doNext(HiveRecordReader.java:33)
	at org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader.next(HiveContextAwareRecordReader.java:108)
	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.moveToNext(MapTask.java:230)
	... 9 more
Caused by: java.io.IOException: Seek outside of data in compressed stream Stream &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; column 9 kind DATA position: 21496054 length: 33790900 range: 2 offset: 1048588 limit: 1048588 range 0 = 13893791 to 1048588;  range 1 = 17039555 to 1310735;  range 2 = 20447466 to 1048588;  range 3 = 23855377 to 1048588;  range 4 = 27263288 to 1048588;  range 5 = 30409052 to 1310735 uncompressed: 262144 to 262144 to 21496054
	at org.apache.hadoop.hive.ql.io.orc.InStream$CompressedStream.seek(InStream.java:328)
	at org.apache.hadoop.hive.ql.io.orc.InStream$CompressedStream.readHeader(InStream.java:161)
	at org.apache.hadoop.hive.ql.io.orc.InStream$CompressedStream.read(InStream.java:205)
	at org.apache.hadoop.hive.ql.io.orc.SerializationUtils.readInts(SerializationUtils.java:450)
	at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerReaderV2.readDirectValues(RunLengthIntegerReaderV2.java:240)
	at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerReaderV2.readValues(RunLengthIntegerReaderV2.java:53)
	at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerReaderV2.next(RunLengthIntegerReaderV2.java:288)
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl$IntTreeReader.next(RecordReaderImpl.java:510)
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl$StructTreeReader.next(RecordReaderImpl.java:1581)
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl.next(RecordReaderImpl.java:2707)
	at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$OrcRecordReader.next(OrcInputFormat.java:110)
	at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$OrcRecordReader.next(OrcInputFormat.java:86)
	at org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader.doNext(HiveContextAwareRecordReader.java:274)
	... 13 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.io.IOException: IO error in map input file hdfs:&lt;span class=&quot;code-comment&quot;&gt;//10.38.55.204:8020/user/hive/warehouse/ssdb_bin_compress_orc_large_0_13.db/cycle/000095_0
&lt;/span&gt;	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.moveToNext(MapTask.java:236)
	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.next(MapTask.java:210)
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:48)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:430)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:366)
	at org.apache.hadoop.mapred.Child$4.run(Child.java:255)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:415)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1190)
	at org.apache.hadoop.mapred.Child.main(Child.java:249)
Caused by: java.io.IOException: java.lang.IllegalStateException: Can&apos;t read header at compressed stream Stream &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; column 9 kind DATA position: 20447466 length: 20958101 range: 6 offset: 1835029 limit: 1835029 range 0 = 0 to 524294;  range 1 = 1835029 to 2097176;  range 2 = 5242940 to 1835029;  range 3 = 8650851 to 1835029;  range 4 = 11796615 to 2097176;  range 5 = 15204526 to 2097176;  range 6 = 18612437 to 1835029 uncompressed: 262144 to 262144
	at org.apache.hadoop.hive.io.HiveIOExceptionHandlerChain.handleRecordReaderNextException(HiveIOExceptionHandlerChain.java:121)
	at org.apache.hadoop.hive.io.HiveIOExceptionHandlerUtil.handleRecordReaderNextException(HiveIOExceptionHandlerUtil.java:77)
	at org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader.doNext(HiveContextAwareRecordReader.java:276)
	at org.apache.hadoop.hive.ql.io.HiveRecordReader.doNext(HiveRecordReader.java:79)
	at org.apache.hadoop.hive.ql.io.HiveRecordReader.doNext(HiveRecordReader.java:33)
	at org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader.next(HiveContextAwareRecordReader.java:108)
	at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.moveToNext(MapTask.java:230)
	... 9 more
Caused by: java.lang.IllegalStateException: Can&apos;t read header at compressed stream Stream &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; column 9 kind DATA position: 20447466 length: 20958101 range: 6 offset: 1835029 limit: 1835029 range 0 = 0 to 524294;  range 1 = 1835029 to 2097176;  range 2 = 5242940 to 1835029;  range 3 = 8650851 to 1835029;  range 4 = 11796615 to 2097176;  range 5 = 15204526 to 2097176;  range 6 = 18612437 to 1835029 uncompressed: 262144 to 262144
	at org.apache.hadoop.hive.ql.io.orc.InStream$CompressedStream.readHeader(InStream.java:195)
	at org.apache.hadoop.hive.ql.io.orc.InStream$CompressedStream.read(InStream.java:205)
	at org.apache.hadoop.hive.ql.io.orc.SerializationUtils.readInts(SerializationUtils.java:450)
	at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerReaderV2.readDirectValues(RunLengthIntegerReaderV2.java:240)
	at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerReaderV2.readValues(RunLengthIntegerReaderV2.java:53)
	at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerReaderV2.next(RunLengthIntegerReaderV2.java:288)
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl$IntTreeReader.next(RecordReaderImpl.java:510)
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl$StructTreeReader.next(RecordReaderImpl.java:1581)
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl.next(RecordReaderImpl.java:2707)
	at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$OrcRecordReader.next(OrcInputFormat.java:110)
	at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$OrcRecordReader.next(OrcInputFormat.java:86)
	at org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader.doNext(HiveContextAwareRecordReader.java:274)
	... 13 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12682296">HIVE-5922</key>
            <summary>In orc.InStream.CompressedStream, the desired position passed to seek can equal offsets[i] + bytes[i].remaining() when ORC predicate pushdown is enabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 03:03:59 +0000</created>
                <updated>Fri, 1 Jul 2016 19:08:58 +0000</updated>
                                                                            <component>File Formats</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13837275" author="yhuai" created="Tue, 3 Dec 2013 03:08:54 +0000"  >&lt;p&gt;For the first trace, the desired position is 21496054 and the second range is &quot;range 2 = 20447466 to 1048588&quot;. For the second trace, the desired position is 20447466 and the sixth range is &quot;range 6 = 18612437 to 1835029&quot;. &lt;/p&gt;

&lt;p&gt;When I turned off predicate pushdown or I used predicate pushdown with uncompressed data, I did not see this problem.&lt;/p&gt;</comment>
                            <comment id="13902353" author="puneetkgupta" created="Sat, 15 Feb 2014 08:53:04 +0000"  >&lt;p&gt;I got a similar Exception  ( on seeking to row 9,103,258 )&lt;/p&gt;

&lt;p&gt;java.io.IOException: Seek outside of data in compressed stream Stream for column 65 kind DATA position: 1572882 length: 2116178 range: 1 offset: 1048588 limit: 1048588 range 0 = 0 to 0;  range 1 = 524294 to 1048588;  range 2 = 1835029 to 262147 uncompressed: 1048588 to 1048588 to 1572882&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.orc.InStream$CompressedStream.seek(InStream.java:277)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.orc.InStream$CompressedStream.readHeader(InStream.java:153)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.orc.InStream$CompressedStream.read(InStream.java:197)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.orc.SerializationUtils.readInts(SerializationUtils.java:450)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerReaderV2.readPatchedBaseValues(RunLengthIntegerReaderV2.java:161)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerReaderV2.readValues(RunLengthIntegerReaderV2.java:54)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerReaderV2.skip(RunLengthIntegerReaderV2.java:318)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl$IntTreeReader.skipRows(RecordReaderImpl.java:427)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl$StructTreeReader.skipRows(RecordReaderImpl.java:1181)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl.advanceToNextRow(RecordReaderImpl.java:2183)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl.seekToRow(RecordReaderImpl.java:2284)&lt;/p&gt;

&lt;p&gt;Some observations&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;1. I have used Snappy for compression &lt;/p&gt;

&lt;p&gt;2. there are 75 columns in the file (mostly numbers - int,long,byte,short  and a few strings). Exception always happens for column 65 which is an int. If I remove this column from include column list, seek works fine . &lt;/p&gt;

&lt;p&gt;2. This issue happens only when I am seeking to row using RecordReader.seekToRow(long). In this flow the RecordReader is created using  Reader.rows(long, long, boolean[], SearchArgument, String[]). The SearchArgument is using &quot;IN&quot; construct with 200 long values which are actually the row numbers I want to retrieve   (SearchArgument.FACTORY.newBuilder().startOr().in(colName, 200 Long Values).end().build()). Exception happens for seek to row 9103258 (file has about 13 million rows). I tried SearchArgument with just one IN value of 9103258.... BINGO .. got the same Exception. This problem can be reproduced for any rowSeek between 9103258 and 9103279. Rows after this seem to work fine .&lt;/p&gt;

&lt;p&gt;3. I face no Exceptions if the RecordReader is created using Reader.rows(null), and the entire file is iterated using RecordReader.hasNext() and RecordReader.next()&lt;/p&gt;

&lt;p&gt;4. I face no Exceptions if the RecordReader is created using  Reader.rows(long, long, boolean[], SearchArgument, String[]) and SearchArgument is passed null. Then the required data (about 200 rows) is retrieved using RecordReader.seekToRow(long) and RecordReader.next()&lt;/p&gt;

&lt;p&gt;5.Obvious WorkAround is not to use predicate push down . In may case since I know the row numbers to be seeked to, the performance let down is not very drastic. &lt;br/&gt;
	Read/SeekTO 167 rows in (ms)3609   : Existing usage with predicate push down in ORC  &lt;br/&gt;
	Read/SeekTo 167 rows in (ms)4626   : WorkAround without predicate/Search-Argument pushdown&lt;br/&gt;
	   &amp;gt;&amp;gt;&amp;gt;&amp;gt; Difference of  1017 ms  = approx 7 ms per row let down in performance (arounf 80% values are fetched from different strides)&lt;/p&gt;</comment>
                            <comment id="13902355" author="prasanth_j" created="Sat, 15 Feb 2014 09:00:44 +0000"  >&lt;p&gt;Hi Puneeth&lt;/p&gt;

&lt;p&gt;The issue might be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6320&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-6320&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6287&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-6287&lt;/a&gt; depends on whether you have enable vectorization or not. Is this issue happening in trunk?&lt;/p&gt;</comment>
                            <comment id="13902358" author="puneetkgupta" created="Sat, 15 Feb 2014 09:16:20 +0000"  >&lt;p&gt;Hi Prasanth&lt;/p&gt;

&lt;p&gt;I am using Hive Binary from &quot;hive-0.12.0-bin.tar.gz&quot;&lt;br/&gt;
&lt;a href=&quot;http://apache.claz.org/hive/hive-0.12.0/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://apache.claz.org/hive/hive-0.12.0/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I am using only the ORC file format part to store my data . Its not used along with Hive . &lt;/p&gt;</comment>
                            <comment id="13902956" author="puneetkgupta" created="Mon, 17 Feb 2014 04:52:58 +0000"  >&lt;p&gt;From what is know 0.12.0 does not have vectorization support .So that can not be the issue.  Also this happens only on seeking while predicate push-down is enabled . Normal iteration is fine . &lt;/p&gt;</comment>
                            <comment id="15357581" author="frankluo" created="Thu, 30 Jun 2016 18:03:24 +0000"  >&lt;p&gt;same issue here and I am using Apache Hive 1.2.1.&lt;/p&gt;
</comment>
                            <comment id="15359489" author="prasanth_j" created="Fri, 1 Jul 2016 19:08:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=puneet884&quot; class=&quot;user-hover&quot; rel=&quot;puneet884&quot;&gt;Puneet Gupta&lt;/a&gt;/&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=frankluo&quot; class=&quot;user-hover&quot; rel=&quot;frankluo&quot;&gt;Frank Luo&lt;/a&gt; Are you using the ORC writer APIs directly or using custom MapReduce program to write ORC files? If so can you make sure the row that you are writing to ORC is not null. Recently observed similar issue with a customer and looks like they were using a custom MR program that writes to ORC file. The value passed to writer.addRow() seems to have been null. Orc writer does not expect null as a row. The columns within a row can be null though. This can be verified from orcfiledump. If you guys can provide me orcfiledump output I can confirm if that&apos;s the case. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;writer.addRow(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// invalid
&lt;/span&gt;writer.addRow([a, b, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, d]); &lt;span class=&quot;code-comment&quot;&gt;// valid
&lt;/span&gt;writer.addRow([&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;]); &lt;span class=&quot;code-comment&quot;&gt;// valid&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We are planning to fix this in the writer API documentation and code to make sure users does not pass null row.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 15 Feb 2014 08:53:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361553</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 29 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qbpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361851</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5923] SQL std auth - parser changes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5923</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There are new access control statements proposed in the functional spec in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5837&quot; title=&quot;SQL standard based secure authorization for hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5837&quot;&gt;&lt;del&gt;HIVE-5837&lt;/del&gt;&lt;/a&gt; . It also proposes some small changes to the existing query syntax (mostly extensions and some optional keywords).&lt;/p&gt;

&lt;p&gt;The syntax supported should depend on the current authorization mode.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12682299">HIVE-5923</key>
            <summary>SQL std auth - parser changes</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 04:14:00 +0000</created>
                <updated>Tue, 22 Jul 2014 06:41:19 +0000</updated>
                            <resolved>Fri, 3 Jan 2014 23:24:37 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                    <timeoriginalestimate seconds="345600">96h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="604800">168h</timespent>
                                <comments>
                            <comment id="13837309" author="thejas" created="Tue, 3 Dec 2013 04:14:55 +0000"  >&lt;p&gt;new statements in proposal &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;SET ROLE&lt;/li&gt;
	&lt;li&gt;SHOW CURRENT ROLES&lt;/li&gt;
	&lt;li&gt;SHOW ALL ROLES&lt;/li&gt;
	&lt;li&gt;DESCRIBE ROLE&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Changes in existing statement support -&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Grant privilege and revoke privilege statements need to be changed to remove the requirement (but not the option) for the noise word TABLE.  In the SQL specification table is the assumed default for grant and revoke statements.  Today Hive&#8217;s syntax is GRANT action ON TABLE table TO grantee.  It should be GRANT action ON &lt;span class=&quot;error&quot;&gt;&amp;#91;TABLE&amp;#93;&lt;/span&gt; table TO grantee.&lt;/li&gt;
	&lt;li&gt;Grant privilege and revoke privilege statements need to be changed to remove the requirement to specify whether the grantee is a user or role.  That is, today Hive&#8217;s syntax is GRANT action ON &lt;span class=&quot;error&quot;&gt;&amp;#91;TABLE&amp;#93;&lt;/span&gt; table TO grantee where grantee is USER|ROLE identifier.  The keywords USER or ROLE do not belong here.  It should not be legal to have a role that shares a name with a user.  For backward compatibility we will allow these extra keywords but warn that the usage is deprecated.&lt;/li&gt;
	&lt;li&gt;Grant role and revoke role statements need to be changed to remove the keyword ROLE.  Current Hive syntax is GRANT ROLE rolename TO grantee.  It should be GRANT rolename TO grantee.  The same applies for revoke role.&lt;/li&gt;
	&lt;li&gt;Support for WITH ADMIN OPTION needs to be added to grant role and revoke role statements.&lt;/li&gt;
	&lt;li&gt;Support for GRANTED BY needs to be added to all grant and revoke statements.&lt;/li&gt;
	&lt;li&gt;Privileges INSERT and DELETE need to be added to the language.&lt;/li&gt;
	&lt;li&gt;New statements SHOW ROLE and SHOW ROLE roleid need to be added to the language.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13838075" author="thejas" created="Tue, 3 Dec 2013 19:36:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Looks like you already have internal patches for some of the new access control statements. Will you be able to contribute those ? That would give this a head start. If you don&apos;t have cycles to rebase them and test them against trunk, thats fine, I can help with that.&lt;br/&gt;
Feel free to create subtasks for this jira if you prefer.&lt;/p&gt;</comment>
                            <comment id="13839895" author="navis" created="Thu, 5 Dec 2013 07:12:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Surely. Could you review &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2093&quot; title=&quot;create/drop database should populate inputs/outputs and check concurrency and user permission&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2093&quot;&gt;&lt;del&gt;HIVE-2093&lt;/del&gt;&lt;/a&gt; as a start? It&apos;s been patch-available state for nearly three years. I&apos;ll rebase it again.&lt;/p&gt;</comment>
                            <comment id="13839935" author="thejas" created="Thu, 5 Dec 2013 08:19:01 +0000"  >&lt;p&gt;Thanks Navis. Sure, I will review &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2093&quot; title=&quot;create/drop database should populate inputs/outputs and check concurrency and user permission&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2093&quot;&gt;&lt;del&gt;HIVE-2093&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13839937" author="thejas" created="Thu, 5 Dec 2013 08:20:17 +0000"  >&lt;p&gt;I had noticed that you have around 50 patches in patch-available state. I will try to nudge more committers to review those and get the overall patch-available count down!&lt;/p&gt;</comment>
                            <comment id="13857215" author="thejas" created="Fri, 27 Dec 2013 00:52:44 +0000"  >&lt;p&gt;Remaining work will be done in other jiras.&lt;br/&gt;
Support for GRANTED BY needs to be added to all grant and revoke statements. - &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6111&quot; title=&quot;SQL std auth - support granted-by in grant statements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6111&quot;&gt;&lt;del&gt;HIVE-6111&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
Privileges INSERT and DELETE need to be added to the language. - &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6112&quot; title=&quot;SQL std auth - support new privileges INSERT, DELETE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6112&quot;&gt;&lt;del&gt;HIVE-6112&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
New statements SHOW ROLE and SHOW ROLE roleid need to be added to the language. - (describe role and not &apos;show role roleid&apos; )- &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5941&quot; title=&quot;SQL std auth - support &amp;#39;show roles&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5941&quot;&gt;&lt;del&gt;HIVE-5941&lt;/del&gt;&lt;/a&gt;,&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5942&quot; title=&quot;SQL std auth - support DESCRIBE ROLE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5942&quot;&gt;&lt;del&gt;HIVE-5942&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13857223" author="hiveqa" created="Fri, 27 Dec 2013 01:10:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12620570/HIVE-5923.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12620570/HIVE-5923.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/745/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/745/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/745/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/745/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/antlr/antlr/2.7.7/antlr-2.7.7.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/apache/thrift/libfb303/0.9.0/libfb303-0.9.0.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/apache/thrift/libthrift/0.9.0/libthrift-0.9.0.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/apache/httpcomponents/httpclient/4.2.5/httpclient-4.2.5.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/apache/httpcomponents/httpcore/4.2.4/httpcore-4.2.4.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/apache/hadoop/hadoop-core/1.2.1/hadoop-core-1.2.1.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/xmlenc/xmlenc/0.52/xmlenc-0.52.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/com/sun/jersey/jersey-core/1.14/jersey-core-1.14.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/com/sun/jersey/jersey-json/1.14/jersey-json-1.14.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/codehaus/jettison/jettison/1.1/jettison-1.1.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/stax/stax-api/1.0.1/stax-api-1.0.1.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/com/sun/xml/bind/jaxb-impl/2.2.3-1/jaxb-impl-2.2.3-1.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/javax/xml/bind/jaxb-api/2.2.2/jaxb-api-2.2.2.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/javax/xml/stream/stax-api/1.0-2/stax-api-1.0-2.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/javax/activation/activation/1.1/activation-1.1.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/codehaus/jackson/jackson-jaxrs/1.9.2/jackson-jaxrs-1.9.2.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/codehaus/jackson/jackson-xc/1.9.2/jackson-xc-1.9.2.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/com/sun/jersey/jersey-server/1.14/jersey-server-1.14.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/asm/asm/3.1/asm-3.1.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/commons-io/commons-io/2.4/commons-io-2.4.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/commons-httpclient/commons-httpclient/3.0.1/commons-httpclient-3.0.1.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/apache/commons/commons-math/2.1/commons-math-2.1.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/commons-configuration/commons-configuration/1.6/commons-configuration-1.6.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/commons-collections/commons-collections/3.2.1/commons-collections-3.2.1.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/commons-digester/commons-digester/1.8/commons-digester-1.8.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/commons-beanutils/commons-beanutils/1.7.0/commons-beanutils-1.7.0.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/commons-beanutils/commons-beanutils-core/1.8.0/commons-beanutils-core-1.8.0.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/commons-net/commons-net/1.4.1/commons-net-1.4.1.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/mortbay/jetty/jetty/6.1.26/jetty-6.1.26.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/mortbay/jetty/servlet-api/2.5-20081211/servlet-api-2.5-20081211.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/mortbay/jetty/jetty-util/6.1.26/jetty-util-6.1.26.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/tomcat/jasper-runtime/5.5.12/jasper-runtime-5.5.12.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/tomcat/jasper-compiler/5.5.12/jasper-compiler-5.5.12.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/mortbay/jetty/jsp-api-2.1/6.1.14/jsp-api-2.1-6.1.14.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/mortbay/jetty/servlet-api-2.5/6.1.14/servlet-api-2.5-6.1.14.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/mortbay/jetty/jsp-2.1/6.1.14/jsp-2.1-6.1.14.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/ant/ant/1.6.5/ant-1.6.5.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/commons-el/commons-el/1.0/commons-el-1.0.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/net/java/dev/jets3t/jets3t/0.6.1/jets3t-0.6.1.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/hsqldb/hsqldb/1.8.0.10/hsqldb-1.8.0.10.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/oro/oro/2.0.8/oro-2.0.8.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/eclipse/jdt/core/3.1.1/core-3.1.1.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/codehaus/jackson/jackson-mapper-asl/1.9.2/jackson-mapper-asl-1.9.2.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/slf4j/slf4j-api/1.7.5/slf4j-api-1.7.5.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/org/slf4j/slf4j-log4j12/1.7.5/slf4j-log4j12-1.7.5.jar
&amp;gt;&amp;gt;  /data/hive-ptest/working/maven/log4j/log4j/1.2.16/log4j-1.2.16.jar
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MDatabase
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MFieldSchema
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MType
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MTable
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MSerDeInfo
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MOrder
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MColumnDescriptor
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MStringList
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MStorageDescriptor
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MPartition
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MIndex
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MRole
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MRoleMap
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MGlobalPrivilege
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MDBPrivilege
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MTablePrivilege
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MPartitionPrivilege
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MTableColumnPrivilege
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MPartitionColumnPrivilege
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MPartitionEvent
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MMasterKey
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MDelegationToken
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MTableColumnStatistics
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MPartitionColumnStatistics
ENHANCED (PersistenceCapable) : org.apache.hadoop.hive.metastore.model.MVersionTable
DataNucleus Enhancer completed with success for 25 classes. Timings : input=589 ms, enhance=939 ms, total=1528 ms. Consult the log for full details

[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-metastore ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/metastore/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-metastore ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/metastore/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/metastore/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/metastore/target/tmp/conf
     [copy] Copying 4 files to /data/hive-ptest/working/apache-svn-trunk-source/metastore/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-metastore ---
[INFO] Compiling 10 source files to /data/hive-ptest/working/apache-svn-trunk-source/metastore/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-metastore ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-metastore ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/metastore/target/hive-metastore-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-jar-plugin:2.2:test-jar (default) @ hive-metastore ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/metastore/target/hive-metastore-0.13.0-SNAPSHOT-tests.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-metastore ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/metastore/target/hive-metastore-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-metastore/0.13.0-SNAPSHOT/hive-metastore-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/metastore/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-metastore/0.13.0-SNAPSHOT/hive-metastore-0.13.0-SNAPSHOT.pom
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/metastore/target/hive-metastore-0.13.0-SNAPSHOT-tests.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-metastore/0.13.0-SNAPSHOT/hive-metastore-0.13.0-SNAPSHOT-tests.jar
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Query Language 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-exec ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/ql (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (generate-sources) @ hive-exec ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/ql/target/generated-sources/java/org/apache/hadoop/hive/ql/exec/vector/expressions/gen
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/ql/target/generated-sources/java/org/apache/hadoop/hive/ql/exec/vector/expressions/aggregates/gen
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/ql/target/generated-test-sources/java/org/apache/hadoop/hive/ql/exec/vector/expressions/gen
Generating vector expression code
Generating vector expression test code
[INFO] Executed tasks
[INFO] 
[INFO] --- build-helper-maven-plugin:1.8:add-source (add-source) @ hive-exec ---
[INFO] Source directory: /data/hive-ptest/working/apache-svn-trunk-source/ql/src/gen/protobuf/gen-java added.
[INFO] Source directory: /data/hive-ptest/working/apache-svn-trunk-source/ql/src/gen/thrift/gen-javabean added.
[INFO] Source directory: /data/hive-ptest/working/apache-svn-trunk-source/ql/target/generated-sources/java added.
[INFO] 
[INFO] --- antlr3-maven-plugin:3.4:antlr (default) @ hive-exec ---
[INFO] ANTLR: Processing source directory /data/hive-ptest/working/apache-svn-trunk-source/ql/src/java
ANTLR Parser Generator  Version 3.4
org/apache/hadoop/hive/ql/parse/HiveLexer.g
error(100): IdentifiersParser.g:539:1: syntax error: antlr: NoViableAltException(-1@[722:4: ( ( id ( ASSIGN | PLUS_ASSIGN ) ( atom | block ) ) (sub= ebnfSuffix[root_0,false] )? | a= atom (sub2= ebnfSuffix[$a.tree,false] )? | ebnf | FORCED_ACTION | ACTION | p= SEMPRED ( IMPLIES )? | t3= tree_ )])
error(100): IdentifiersParser.g:539:1: syntax error: antlr: NoViableAltException(-1@[722:4: ( ( id ( ASSIGN | PLUS_ASSIGN ) ( atom | block ) ) (sub= ebnfSuffix[root_0,false] )? | a= atom (sub2= ebnfSuffix[$a.tree,false] )? | ebnf | FORCED_ACTION | ACTION | p= SEMPRED ( IMPLIES )? | t3= tree_ )])
error(100): IdentifiersParser.g:539:1: syntax error: antlr: NoViableAltException(-1@[])
error(100): IdentifiersParser.g:539:1: syntax error: antlr: MismatchedTokenException(-1!=52)
org/apache/hadoop/hive/ql/parse/HiveParser.g
error(100): IdentifiersParser.g:539:1: syntax error: antlr: NoViableAltException(-1@[722:4: ( ( id ( ASSIGN | PLUS_ASSIGN ) ( atom | block ) ) (sub= ebnfSuffix[root_0,false] )? | a= atom (sub2= ebnfSuffix[$a.tree,false] )? | ebnf | FORCED_ACTION | ACTION | p= SEMPRED ( IMPLIES )? | t3= tree_ )])
error(100): IdentifiersParser.g:539:1: syntax error: antlr: NoViableAltException(-1@[722:4: ( ( id ( ASSIGN | PLUS_ASSIGN ) ( atom | block ) ) (sub= ebnfSuffix[root_0,false] )? | a= atom (sub2= ebnfSuffix[$a.tree,false] )? | ebnf | FORCED_ACTION | ACTION | p= SEMPRED ( IMPLIES )? | t3= tree_ )])
error(100): IdentifiersParser.g:539:1: syntax error: antlr: NoViableAltException(-1@[])
error(100): IdentifiersParser.g:539:1: syntax error: antlr: MismatchedTokenException(-1!=52)
error(100): IdentifiersParser.g:0:1: syntax error: assign.types: MismatchedTreeNodeException(0!=3)
org/antlr/grammar/v3/DefineGrammarItemsWalker.g: node from line 539:0 mismatched tree node: &amp;lt;mismatched token: [@4508,15388:15388=&apos;&amp;lt;EOF&amp;gt;&apos;,&amp;lt;-1&amp;gt;,539:0], resync=nonReserved
    :
    KW_TRUE | KW_FALSE | KW_LIKE | KW_EXISTS | KW_ASC | KW_DESC | KW_ORDER | KW_GROUP | KW_BY | KW_AS | KW_INSERT | KW_OVERWRITE | KW_OUTER | KW_LEFT | KW_RIGHT | KW_FULL | KW_PARTITION | KW_PARTITIONS | KW_TABLE | KW_TABLES | KW_COLUMNS | KW_INDEX | KW_INDEXES | KW_REBUILD | KW_FUNCTIONS | KW_SHOW | KW_MSCK | KW_REPAIR | KW_DIRECTORY | KW_LOCAL | KW_USING | KW_CLUSTER | KW_DISTRIBUTE | KW_SORT | KW_UNION | KW_LOAD | KW_EXPORT | KW_IMPORT | KW_DATA | KW_INPATH | KW_IS | KW_NULL | KW_CREATE | KW_EXTERNAL | KW_ALTER | KW_CHANGE | KW_FIRST | KW_AFTER | KW_DESCRIBE | KW_DROP | KW_RENAME | KW_IGNORE | KW_PROTECTION | KW_TO | KW_COMMENT | KW_BOOLEAN | KW_TINYINT | KW_SMALLINT | KW_INT | KW_BIGINT | KW_FLOAT | KW_DOUBLE | KW_DATE | KW_DATETIME | KW_TIMESTAMP | KW_DECIMAL | KW_STRING | KW_ARRAY | KW_STRUCT | KW_UNIONTYPE | KW_PARTITIONED | KW_CLUSTERED | KW_SORTED | KW_INTO | KW_BUCKETS | KW_ROW | KW_ROWS | KW_FORMAT | KW_DELIMITED | KW_FIELDS | KW_TERMINATED | KW_ESCAPED | KW_COLLECTION | KW_ITEMS | KW_KEYS | KW_KEY_TYPE | KW_LINES | KW_STORED | KW_FILEFORMAT | KW_SEQUENCEFILE | KW_TEXTFILE | KW_RCFILE | KW_ORCFILE | KW_INPUTFORMAT | KW_OUTPUTFORMAT | KW_INPUTDRIVER | KW_OUTPUTDRIVER | KW_OFFLINE | KW_ENABLE | KW_DISABLE | KW_READONLY | KW_NO_DROP | KW_LOCATION | KW_BUCKET | KW_OUT | KW_OF | KW_PERCENT | KW_ADD | KW_REPLACE | KW_RLIKE | KW_REGEXP | KW_TEMPORARY | KW_EXPLAIN | KW_FORMATTED | KW_PRETTY | KW_DEPENDENCY | KW_LOGICAL | KW_SERDE | KW_WITH | KW_DEFERRED | KW_SERDEPROPERTIES | KW_DBPROPERTIES | KW_LIMIT | KW_SET | KW_UNSET | KW_TBLPROPERTIES | KW_IDXPROPERTIES | KW_VALUE_TYPE | KW_ELEM_TYPE | KW_MAPJOIN | KW_STREAMTABLE | KW_HOLD_DDLTIME | KW_CLUSTERSTATUS | KW_UTC | KW_UTCTIMESTAMP | KW_LONG | KW_DELETE | KW_PLUS | KW_MINUS | KW_FETCH | KW_INTERSECT | KW_VIEW | KW_IN | KW_DATABASES | KW_MATERIALIZED | KW_SCHEMA | KW_SCHEMAS | KW_GRANT | KW_REVOKE | KW_SSL | KW_UNDO | KW_LOCK | KW_LOCKS | KW_UNLOCK | KW_SHARED | KW_EXCLUSIVE | KW_PROCEDURE | KW_UNSIGNED | KW_WHILE | KW_READ | KW_READS | KW_PURGE | KW_RANGE | KW_ANALYZE | KW_BEFORE | KW_BETWEEN | KW_BOTH | KW_BINARY | KW_CONTINUE | KW_CURSOR | KW_TRIGGER | KW_RECORDREADER | KW_RECORDWRITER | KW_SEMI | KW_LATERAL | KW_TOUCH | KW_ARCHIVE | KW_UNARCHIVE | KW_COMPUTE | KW_STATISTICS | KW_USE | KW_OPTION | KW_CONCATENATE | KW_SHOW_DATABASE | KW_UPDATE | KW_RESTRICT | KW_CASCADE | KW_SKEWED | KW_ROLLUP | KW_CUBE | KW_DIRECTORIES | KW_FOR | KW_GROUPING | KW_SETS | KW_TRUNCATE | KW_NOSCAN | KW_USER | KW_ROLE | KW_INNER | KW_DEFINED | KW_ADMIN
&amp;gt; expecting &amp;lt;UP&amp;gt;
error(106): IdentifiersParser.g:533:7: reference to undefined rule: nonReserved
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [3.043s]
[INFO] Hive Ant Utilities ................................ SUCCESS [9.132s]
[INFO] Hive Shims Common ................................. SUCCESS [3.433s]
[INFO] Hive Shims 0.20 ................................... SUCCESS [2.074s]
[INFO] Hive Shims Secure Common .......................... SUCCESS [2.824s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [1.446s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [3.382s]
[INFO] Hive Shims ........................................ SUCCESS [0.585s]
[INFO] Hive Common ....................................... SUCCESS [15.038s]
[INFO] Hive Serde ........................................ SUCCESS [13.336s]
[INFO] Hive Metastore .................................... SUCCESS [26.147s]
[INFO] Hive Query Language ............................... FAILURE [6.123s]
[INFO] Hive Service ...................................... SKIPPED
[INFO] Hive JDBC ......................................... SKIPPED
[INFO] Hive Beeline ...................................... SKIPPED
[INFO] Hive CLI .......................................... SKIPPED
[INFO] Hive Contrib ...................................... SKIPPED
[INFO] Hive HBase Handler ................................ SKIPPED
[INFO] Hive HCatalog ..................................... SKIPPED
[INFO] Hive HCatalog Core ................................ SKIPPED
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog HBase Storage Handler ............... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1:29.266s
[INFO] Finished at: Thu Dec 26 20:10:48 EST 2013
[INFO] Final Memory: 39M/271M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.antlr:antlr3-maven-plugin:3.4:antlr (default) on project hive-exec: ANTLR caught 10 build errors. -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-exec
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12620570&lt;/p&gt;</comment>
                            <comment id="13857739" author="thejas" created="Fri, 27 Dec 2013 21:16:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5923&quot; title=&quot;SQL std auth - parser changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5923&quot;&gt;&lt;del&gt;HIVE-5923&lt;/del&gt;&lt;/a&gt;.2.patch  - adding a semi-colon that went missing during rebase&lt;/p&gt;</comment>
                            <comment id="13857846" author="hiveqa" created="Fri, 27 Dec 2013 23:53:37 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12620656/HIVE-5923.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12620656/HIVE-5923.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 4819 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_role_grant1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_exim_24_import_nonexist_authsuccess
org.apache.hadoop.hive.ql.security.TestClientSideAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestMetastoreAuthorizationProvider.testSimplePrivileges
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/758/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/758/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/758/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/758/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12620656&lt;/p&gt;</comment>
                            <comment id="13858874" author="brocknoland" created="Mon, 30 Dec 2013 15:35:21 +0000"  >&lt;p&gt;Hey Thejas, would you mind creating a RB item for this? Thanks!&lt;/p&gt;</comment>
                            <comment id="13859042" author="thejas" created="Mon, 30 Dec 2013 20:05:01 +0000"  >&lt;p&gt;sure, will post it on RB. I am looking at the unit test failures and upload the new patch there.&lt;/p&gt;</comment>
                            <comment id="13860057" author="thejas" created="Thu, 2 Jan 2014 07:07:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5923&quot; title=&quot;SQL std auth - parser changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5923&quot;&gt;&lt;del&gt;HIVE-5923&lt;/del&gt;&lt;/a&gt;.3.patch - Fixing unit test issues. &lt;/p&gt;

&lt;p&gt;What is included in the patch - &lt;br/&gt;
Grant privilege and revoke privilege statements need to be changed to remove the requirement (but not the option) for the noise word TABLE. In the SQL specification table is the assumed default for grant and revoke statements. Today Hive&#8217;s syntax is GRANT action ON TABLE table TO grantee. It should be GRANT action ON &lt;span class=&quot;error&quot;&gt;&amp;#91;TABLE&amp;#93;&lt;/span&gt; table TO grantee.&lt;/p&gt;

&lt;p&gt;Grant role and revoke role statements has been changed to remove the need for keyword ROLE. &lt;/p&gt;

&lt;p&gt;Support for WITH ADMIN OPTION needs to be added to grant role and revoke role statement syntax.&lt;/p&gt;


&lt;p&gt;Created another followup jira - &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6127&quot; title=&quot;SQL std auth - make role/user optional in grant/revoke statements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6127&quot;&gt;&lt;del&gt;HIVE-6127&lt;/del&gt;&lt;/a&gt;- SQL std auth - make role/user optional in grant/revoke statements .&lt;/p&gt;</comment>
                            <comment id="13860083" author="thejas" created="Thu, 2 Jan 2014 08:26:44 +0000"  >&lt;p&gt;rb link &lt;a href=&quot;https://reviews.apache.org/r/16565/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/16565/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13860863" author="hiveqa" created="Thu, 2 Jan 2014 22:21:09 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12621039/HIVE-5923.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12621039/HIVE-5923.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4821 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_role_grant1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/782/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/782/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/782/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/782/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12621039&lt;/p&gt;</comment>
                            <comment id="13860886" author="thejas" created="Thu, 2 Jan 2014 22:41:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5923&quot; title=&quot;SQL std auth - parser changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5923&quot;&gt;&lt;del&gt;HIVE-5923&lt;/del&gt;&lt;/a&gt;.4.patch - updating test output for new changes in trunk (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5414&quot; title=&quot;The result of show grant is not visible via JDBC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5414&quot;&gt;&lt;del&gt;HIVE-5414&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="13861068" author="hiveqa" created="Fri, 3 Jan 2014 01:24:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12621175/HIVE-5923.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12621175/HIVE-5923.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4872 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/785/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/785/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/785/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/785/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12621175&lt;/p&gt;</comment>
                            <comment id="13861137" author="thejas" created="Fri, 3 Jan 2014 02:51:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; Can you please take a look at this minor update to the patch as well (test case output fix)?&lt;/p&gt;</comment>
                            <comment id="13861655" author="brocknoland" created="Fri, 3 Jan 2014 16:47:12 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13862021" author="thejas" created="Fri, 3 Jan 2014 23:24:37 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks for the review Brock!&lt;br/&gt;
(Regarding commit wait period - The original version of the patch was reviewed yesterday, and new version reviewed again today has only minor changes. )&lt;/p&gt;
</comment>
                            <comment id="13862053" author="lefty@hortonworks.com" created="Sat, 4 Jan 2014 00:02:44 +0000"  >&lt;p&gt;Should this be documented now or should we wait for the umbrella jira (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5837&quot; title=&quot;SQL standard based secure authorization for hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5837&quot;&gt;&lt;del&gt;HIVE-5837&lt;/del&gt;&lt;/a&gt;) or release 0.13.0, whichever comes first?&lt;/p&gt;</comment>
                            <comment id="13862122" author="thejas" created="Sat, 4 Jan 2014 01:22:28 +0000"  >&lt;p&gt;Let me add a release note, and we can include the changes to wiki as part of the umbrella jira documentation.&lt;/p&gt;</comment>
                            <comment id="14069903" author="lefty@hortonworks.com" created="Tue, 22 Jul 2014 06:41:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;, do the changes in the release note also apply to default Hive authorization?  (The wiki still shows ROLE and TABLE keywords.) &lt;/p&gt;

&lt;p&gt;Also, while checking the Authorization doc for these changes I noticed a flaw in the syntax for GRANT priv and REVOKE priv:  they both say &quot;ON object_type&quot; where object_type can be TABLE or DATABASE, but the name of the table or database isn&apos;t in the syntax.  Have I misunderstood, or does this need to be fixed?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;GRANT
    priv_type [(column_list)]
      [, priv_type [(column_list)]] ...
    [ON object_type]
    TO principal_specification [, principal_specification] ...
    [WITH GRANT OPTION]

REVOKE [GRANT OPTION FOR]
    priv_type [(column_list)]
      [, priv_type [(column_list)]] ...
    [ON object_type priv_level]
    FROM principal_specification [, principal_specification] ...

object_type:
    TABLE
  | DATABASE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Of course, if this jira&apos;s changes don&apos;t apply to the default authorization then this comment belongs somewhere else.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Authorization#LanguageManualAuthorization-Grant/RevokePrivileges&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Authorization &amp;#8211; Grant/Revoke Privileges &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12682521">HIVE-5930</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12682600">HIVE-5940</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12682603">HIVE-5942</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12620570" name="HIVE-5923.1.patch" size="13318" author="thejas" created="Fri, 27 Dec 2013 00:43:14 +0000"/>
                            <attachment id="12620656" name="HIVE-5923.2.patch" size="13318" author="thejas" created="Fri, 27 Dec 2013 21:16:01 +0000"/>
                            <attachment id="12621039" name="HIVE-5923.3.patch" size="21195" author="thejas" created="Thu, 2 Jan 2014 07:07:13 +0000"/>
                            <attachment id="12621175" name="HIVE-5923.4.patch" size="21175" author="thejas" created="Thu, 2 Jan 2014 22:41:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Dec 2013 07:12:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361556</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qbpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361854</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Grant privilege and revoke privilege statements don&amp;#39;t have the requirement (but not the option) for the noise word TABLE. &lt;br/&gt;
&amp;nbsp;TABLE is the assumed default for grant and revoke statements. &lt;br/&gt;
Hive&#8217;s syntax changes from &amp;quot;GRANT action ON TABLE table TO grantee&amp;quot; to  &amp;quot;GRANT action ON [TABLE] table TO grantee&amp;quot;.&lt;br/&gt;
&lt;br/&gt;
Grant role and revoke role statements has been changed to remove the need for keyword ROLE.&lt;br/&gt;
&lt;br/&gt;
Support for WITH ADMIN OPTION has been added to grant role and revoke role statement syntax.&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5924] Save operation logs in per operation directories in HiveServer2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5924</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12682313">HIVE-5924</key>
            <summary>Save operation logs in per operation directories in HiveServer2</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="jaideepdhok">Jaideep Dhok</assignee>
                                    <reporter username="jaideepdhok">Jaideep Dhok</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 05:28:39 +0000</created>
                <updated>Wed, 25 Dec 2013 03:51:29 +0000</updated>
                                            <version>0.13.0</version>
                                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="13837354" author="jaideepdhok" created="Tue, 3 Dec 2013 05:31:21 +0000"  >&lt;p&gt;Currently in HiveServer2, all query logs are mixed with the HiveServer2 process&apos; stdout and stderr. It would be useful if logs are stored isolated at per session and per operation level. This would help users in quickly retrieving their query logs for debugging.&lt;/p&gt;

&lt;p&gt;Directory structure similar to the one used by Hadoop JT - job_id/task_it/task.out|err can be used here -&lt;/p&gt;

&lt;p&gt;HS2_LOG_DIR/session_id/operation_id/operation.out|err&lt;/p&gt;</comment>
                            <comment id="13844130" author="jaideepdhok" created="Tue, 10 Dec 2013 09:38:09 +0000"  >&lt;p&gt;I am ready to put in a patch, but before that I wanted to present the approach so that I could get some feedback -&lt;br/&gt;
The changes are as follows -&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;New conf setting for location of query logs (queryLogDir), and a flag to indicate if log redirection should be enabled, the flag will be default by false.&lt;/li&gt;
	&lt;li&gt;For each session there will be a directory under queryLogDir with name = session id. In the directory there will be a session.out and a session.err for session level logs&lt;/li&gt;
	&lt;li&gt;Similarly, for each operation in the session there will be a directory with name = operation id under queryLogDir/sessionDir/ Each directory will further contain an operationid.err and operationid.out&lt;/li&gt;
	&lt;li&gt;Changed LogHelper in SessionState.java so that all streams can be set externally. Similarly the getters can check if an instance stream (for out or error) is set and return that instead of returning the System.out and System.err streams. Only if the instance streams are not set, it will return the System streams.&lt;/li&gt;
	&lt;li&gt;Pass LogHelper objects created in the operation to Driver and further down to Tasks, so that output of Tasks and child processes can be redirected back. Currently this is done only for SQLOperation&lt;/li&gt;
	&lt;li&gt;Query purger executor that periodically checks if the session has been closed for sufficient duration, and delete log files.&lt;/li&gt;
&lt;/ol&gt;

</comment>
                            <comment id="13847078" author="vgumashta" created="Fri, 13 Dec 2013 02:36:08 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jaideepdhok&quot; class=&quot;user-hover&quot; rel=&quot;jaideepdhok&quot;&gt;Jaideep Dhok&lt;/a&gt;. Couple of questions:&lt;br/&gt;
1. Would enabling the per session/operation log config mean that there will be no consolidated log?&lt;br/&gt;
2. Regarding 6.), there is an open JIRA - &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5268&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-5268&lt;/a&gt; which has some overlap. There is also a different approach taken here &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5799&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-5799&lt;/a&gt;, which is being discussed. I&apos;d be curious to hear what your method of detecting abandoned sessions is.&lt;/p&gt;

&lt;p&gt;Look forward to the patch. Thanks!&lt;/p&gt;</comment>
                            <comment id="13847151" author="jaideepdhok" created="Fri, 13 Dec 2013 04:29:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt; Thanks for looking at the issue. &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;1. Would enabling the per session/operation log config mean that there will be no consolidated log?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;HiveServer2 logs like session open, session close etc will continue to be consolidated. Only the query logs like job client logs, driver or task logs will be redirected. Turning off the log redirection would again consolidate everything into a single log file as is done currently.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;d be curious to hear what your method of detecting abandoned sessions is.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;For detecting abandoned sessions w.r.t. log purging, I can check the last modified time of an operation log file. If that is older than a configured value, we can close the session.&lt;/p&gt;</comment>
                            <comment id="13847153" author="jaideepdhok" created="Fri, 13 Dec 2013 04:29:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;we can close the session&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We will not actually close the session, just delete the log files.&lt;/p&gt;</comment>
                            <comment id="13847191" author="prasadm" created="Fri, 13 Dec 2013 05:50:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jaideepdhok&quot; class=&quot;user-hover&quot; rel=&quot;jaideepdhok&quot;&gt;Jaideep Dhok&lt;/a&gt; Thanks for bringing this up. Certainly a useful functionality.&lt;br/&gt;
The proposed directory layout (1-3) sounds reasonable.&lt;/p&gt;

&lt;p&gt;You might want to take a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4629&quot; title=&quot;HS2 should support an API to retrieve query logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4629&quot;&gt;&lt;del&gt;HIVE-4629&lt;/del&gt;&lt;/a&gt;. There&apos;s patch attached which keeps a copy of the current session&apos;s log in a mem buffer and allows that to be retrieved by the client. Most of that implementation would be useful for this work. &lt;/p&gt;

&lt;p&gt;These two patches combined, will enable clients to retrieve the query specific logs which would be highly useful for troubleshooting.&lt;/p&gt;
</comment>
                            <comment id="13848897" author="jaideepdhok" created="Mon, 16 Dec 2013 07:42:35 +0000"  >&lt;p&gt;First version of the patch&lt;/p&gt;</comment>
                            <comment id="13848898" author="jaideepdhok" created="Mon, 16 Dec 2013 07:44:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt; [&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasadm&quot; class=&quot;user-hover&quot; rel=&quot;prasadm&quot;&gt;Prasad Mujumdar&lt;/a&gt; Please have a look at the patch.&lt;br/&gt;
How to submit a review request? Seems that the Phabricator documentation on the wiki is bit outdated.&lt;/p&gt;</comment>
                            <comment id="13848907" author="jaideepdhok" created="Mon, 16 Dec 2013 08:02:01 +0000"  >&lt;p&gt;I&apos;ve created a reviewboard request - &lt;a href=&quot;https://reviews.apache.org/r/16285/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/16285/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12650031">HIVE-4629</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12618868" name="HIVE-5924.1.patch.txt" size="34849" author="jaideepdhok" created="Mon, 16 Dec 2013 07:42:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Dec 2013 02:36:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361570</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qbt3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5925] when aggregate with partitioned key, it would occur an empty path error.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5925</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;CREATE TABLE test_paritions (uid BIGINT ) PARTITIONED BY (ds int);&lt;/p&gt;

&lt;p&gt; insert OVERWRITE TABLE test_paritions PARTITION (ds=20081221) &lt;br/&gt;
 select foo  from pokes; &lt;/p&gt;

&lt;p&gt; select min(ds) from test_paritions; &lt;/p&gt;

&lt;p&gt;ava.lang.IllegalArgumentException: Can not create a Path from an empty string &lt;br/&gt;
at org.apache.hadoop.fs.Path.checkPathArg(Path.java:82) &lt;br/&gt;
at org.apache.hadoop.fs.Path.&amp;lt;init&amp;gt;(Path.java:90) &lt;br/&gt;
at org.apache.hadoop.hive.ql.io.HiveInputFormat$HiveInputSplit.getPath(HiveInputFormat.java:106) &lt;br/&gt;
at org.apache.hadoop.mapred.MapTask.updateJobWithSplit(MapTask.java:457) &lt;br/&gt;
at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:416) &lt;br/&gt;
at org.apache.hadoop.mapred.MapTask.run(MapTask.java:373) &lt;br/&gt;
at org.apache.hadoop.mapred.Child$4.run(Child.java:266) &lt;br/&gt;
at java.security.AccessController.doPrivileged(Native Method) &lt;br/&gt;
at javax.security.auth.Subject.doAs(Subject.java:396) &lt;br/&gt;
at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1113) &lt;br/&gt;
at org.apache.hadoop.mapred.Child.main(Child.java:260) &lt;/p&gt;</description>
                <environment></environment>
        <key id="12682340">HIVE-5925</key>
            <summary>when aggregate with partitioned key, it would occur an empty path error.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chengxiang li">Chengxiang Li</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 09:24:28 +0000</created>
                <updated>Fri, 6 Dec 2013 02:33:42 +0000</updated>
                                            <version>0.12.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                            <attachment id="12617314" name="HIVE-5925.patch" size="3801" author="chengxiang li" created="Fri, 6 Dec 2013 02:33:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qbz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361895</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5926] Load Data OverWrite Into Table Throw org.apache.hadoop.hive.ql.metadata.HiveException</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5926</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;step1: create table &lt;br/&gt;
step2: load data &lt;br/&gt;
load data inpath &apos;/tianyi/usys_etl_map_total.del&apos; overwrite into table tianyi_test3&lt;br/&gt;
step3: copy file back&lt;br/&gt;
hadoop fs -cp /user/hive/warehouse/tianyi_test3/usys_etl_map_total.del /tianyi&lt;br/&gt;
step4: load data again&lt;br/&gt;
load data inpath &apos;/tianyi/usys_etl_map_total.del&apos; overwrite into table tianyi_test3&lt;/p&gt;

&lt;p&gt;here we can see the error in console:&lt;br/&gt;
Failed with exception Error moving: hdfs://ocdccluster/tianyi/usys_etl_map_total.del into: /user/hive/warehouse/tianyi_test3/usys_etl_map_total.del&lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.MoveTask&lt;/p&gt;

&lt;p&gt;we can find error detail in hive.log:&lt;/p&gt;

&lt;p&gt;2013-12-03 17:26:41,717 ERROR exec.Task (SessionState.java:printError(419)) - Failed with exception Error moving: hdfs://ocdccluster/tianyi/usys_etl_map_total.del into: /user/hive/warehouse/tianyi_test3/usys_etl_map_total.del&lt;br/&gt;
org.apache.hadoop.hive.ql.metadata.HiveException: Error moving: hdfs://ocdccluster/tianyi/usys_etl_map_total.del into: /user/hive/warehouse/tianyi_test3/usys_etl_map_total.del&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.replaceFiles(Hive.java:2323)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Table.replaceFiles(Table.java:639)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.loadTable(Hive.java:1441)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MoveTask.execute(MoveTask.java:283)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:151)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:65)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1414)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1192)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1020)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:888)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:259)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:216)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:413)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:781)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:675)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:614)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.util.RunJar.main(RunJar.java:208)&lt;br/&gt;
Caused by: java.io.IOException: Error moving: hdfs://ocdccluster/tianyi/usys_etl_map_total.del into: /user/hive/warehouse/tianyi_test3/usys_etl_map_total.del&lt;br/&gt;
	at org.apache.hadoop.hive.ql.metadata.Hive.replaceFiles(Hive.java:2317)&lt;br/&gt;
	... 20 more&lt;/p&gt;

&lt;p&gt;2013-12-03 17:26:41,718 ERROR ql.Driver (SessionState.java:printError(419)) - FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.MoveTask&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS: Red Hat Enterprise Linux Server release 6.2&lt;br/&gt;
HDFS: CDH-4.2.1&lt;br/&gt;
MAPRED: CDH-4.2.1-mr1&lt;/p&gt;</environment>
        <key id="12682341">HIVE-5926</key>
            <summary>Load Data OverWrite Into Table Throw org.apache.hadoop.hive.ql.metadata.HiveException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="tianyi">Yi Tian</assignee>
                                    <reporter username="tianyi">Yi Tian</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 09:33:38 +0000</created>
                <updated>Mon, 3 Mar 2014 08:55:19 +0000</updated>
                            <resolved>Mon, 3 Mar 2014 08:55:19 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Database/Schema</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13837572" author="tianyi" created="Tue, 3 Dec 2013 11:00:07 +0000"  >&lt;p&gt;the problem is when the src is a single file or a pattern , Hive.java did not delete the dest path before move files.&lt;/p&gt;</comment>
                            <comment id="13837929" author="xuefuz" created="Tue, 3 Dec 2013 17:36:46 +0000"  >&lt;p&gt;If I&apos;m not mistaken, you&apos;re trying to load files with the same name into the same table. While it&apos;s valid to load multiple files into a table, I don&apos;t think hive should remove the destination. It&apos;s better to given an error rather than silently overwriting. The error msg from hive can be improved, but I think  the behavior is expected.&lt;/p&gt;

&lt;p&gt;If you want to load the data twice, you&apos;d better rename the data file before loading it again.&lt;/p&gt;</comment>
                            <comment id="13838980" author="tianyi" created="Wed, 4 Dec 2013 15:26:17 +0000"  >&lt;p&gt;I thought OVERWRITE means delete the dest path before load&lt;/p&gt;</comment>
                            <comment id="13838983" author="xuefuz" created="Wed, 4 Dec 2013 15:32:50 +0000"  >&lt;p&gt;Sorry I missed the &quot;overwrite&quot; keyword. This might be a bug indeed. I&apos;ll take a closer look.&lt;/p&gt;</comment>
                            <comment id="13839000" author="tianyi" created="Wed, 4 Dec 2013 15:42:02 +0000"  >&lt;p&gt;Add codes for remove and recreate dest path before load&lt;/p&gt;</comment>
                            <comment id="13840007" author="hiveqa" created="Thu, 5 Dec 2013 10:45:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12616998/HIVE-5926.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12616998/HIVE-5926.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4457 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/530/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/530/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/530/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/530/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12616998&lt;/p&gt;</comment>
                            <comment id="13841570" author="xuefuz" created="Fri, 6 Dec 2013 19:17:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tianyi&quot; class=&quot;user-hover&quot; rel=&quot;tianyi&quot;&gt;Yi Tian&lt;/a&gt; Thanks for your contribution. It would be nice if the following can be provided:&lt;/p&gt;

&lt;p&gt;1. Test cases in your patch&lt;br/&gt;
2. Review board item so that reviewers can post comments.&lt;/p&gt;</comment>
                            <comment id="13841571" author="xuefuz" created="Fri, 6 Dec 2013 19:18:32 +0000"  >&lt;p&gt;3. Please use --no-prefix when generating patch using git.&lt;/p&gt;</comment>
                            <comment id="13905683" author="xuefuz" created="Wed, 19 Feb 2014 17:09:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tianyi&quot; class=&quot;user-hover&quot; rel=&quot;tianyi&quot;&gt;Yi Tian&lt;/a&gt; I&apos;m not sure if you&apos;re still working on this issue, but would you like moving this forward? Thanks.&lt;/p&gt;</comment>
                            <comment id="13913040" author="tianyi" created="Wed, 26 Feb 2014 15:49:12 +0000"  >&lt;p&gt;OK, I will do it asap&lt;/p&gt;</comment>
                            <comment id="13917811" author="liuluxyz" created="Mon, 3 Mar 2014 07:52:06 +0000"  >&lt;p&gt;After I check the latest code, i found this issue has been fixed by another patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6209&quot; title=&quot;&amp;#39;LOAD DATA INPATH ... OVERWRITE ..&amp;#39; doesn&amp;#39;t overwrite current data&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6209&quot;&gt;&lt;del&gt;HIVE-6209&lt;/del&gt;&lt;/a&gt;. I think we can ignore the patch of this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12689142">HIVE-6209</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12616998" name="HIVE-5926.patch" size="1207" author="tianyi" created="Wed, 4 Dec 2013 15:42:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 3 Dec 2013 17:36:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qbzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361896</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5927] wrong start/stop key on hbase scan with inner join and where clause on id</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5927</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Given two hbase tables (hbase shell commands shown to create and populate them):&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create &lt;span class=&quot;code-quote&quot;&gt;&apos;tablea&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;data&apos;&lt;/span&gt;
create &lt;span class=&quot;code-quote&quot;&gt;&apos;tableb&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;data&apos;&lt;/span&gt;
put &lt;span class=&quot;code-quote&quot;&gt;&apos;tablea&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;data:linkb&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt;
put &lt;span class=&quot;code-quote&quot;&gt;&apos;tableb&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;data:linka&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And given two corresponding hive table definitions:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;create external table tablea(rowkey string, linkb string) stored by &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos;&lt;/span&gt; with SERDEPROPERTIES (&lt;span class=&quot;code-quote&quot;&gt;&apos;hbase.columns.mapping&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;:key,data:linkb&apos;&lt;/span&gt;) tblproperties (&lt;span class=&quot;code-quote&quot;&gt;&apos;hbase.table.name&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;tablea&apos;&lt;/span&gt;);
create external table tableb(rowkey string, linka string) stored by &lt;span class=&quot;code-quote&quot;&gt;&apos;org.apache.hadoop.hive.hbase.HBaseStorageHandler&apos;&lt;/span&gt; with SERDEPROPERTIES (&lt;span class=&quot;code-quote&quot;&gt;&apos;hbase.columns.mapping&apos;&lt;/span&gt; = &lt;span class=&quot;code-quote&quot;&gt;&apos;:key,data:linka&apos;&lt;/span&gt;) tblproperties (&lt;span class=&quot;code-quote&quot;&gt;&apos;hbase.table.name&apos;&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;tableb&apos;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;These two queries return no results while they should return a single result:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from tablea join tableb on tablea.linkb = tableb.rowkey where tablea.linkb = &lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt;;
select * from tablea join tableb on tablea.linkb = tableb.rowkey where tableb.rowkey = &lt;span class=&quot;code-quote&quot;&gt;&apos;b&apos;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;For reference, this works:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select * from tablea join tableb on tablea.linkb = tableb.rowkey;
+---------+--------+---------+--------+
| rowkey  | linkb  | rowkey  | linka  |
+---------+--------+---------+--------+
| a       | b      | b       | a      |
+---------+--------+---------+--------+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think the problem is related to how the HBaseStorageHandler builds scans. The failing queries result in two scans, one for each table. However, both scans seem to be configured with start and stop row keys = &apos;b&apos;. This is only correct for the scan over tableb. This seems to be caused by the TableScanDesc.FILTER_EXPR_CONF_STR on the job configuration, which is set to the same value for both cases.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682394">HIVE-5927</key>
            <summary>wrong start/stop key on hbase scan with inner join and where clause on id</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="janvanbesien@ngdata.com">Jan Van Besien</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 14:24:32 +0000</created>
                <updated>Tue, 3 Dec 2013 14:25:19 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>HBase Handler</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361651</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qcb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5928] Add a hive authorization plugin api that does not assume privileges needed</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5928</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The existing HiveAuthorizationProvider interface implementations can be used to support custom authorization models.&lt;br/&gt;
But this interface limits the customization for these reasons -&lt;br/&gt;
1. It has assumptions about the privileges required for an action.&lt;br/&gt;
2. It does have not functions that you can implement for having custom ways of doing the actions of access control statements.&lt;/p&gt;

&lt;p&gt;This jira proposes a new interface HiveAuthorizer that does not make assumptions of the privileges required for the actions. The authorize() functions will be equivalent of authorize(&amp;lt;operation type&amp;gt;, &amp;lt;input objects&amp;gt;, &amp;lt;output objects&amp;gt;). It will also have functions that will be called from the access control statements.&lt;/p&gt;

&lt;p&gt;The current HiveAuthorizationProvider will continue to be supported for backward compatibility. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12682516">HIVE-5928</key>
            <summary>Add a hive authorization plugin api that does not assume privileges needed</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 21:03:10 +0000</created>
                <updated>Mon, 27 Jan 2014 23:29:47 +0000</updated>
                            <resolved>Fri, 17 Jan 2014 21:26:47 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                    <timeoriginalestimate seconds="432000">120h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="21600">6h</timespent>
                                <comments>
                            <comment id="13838190" author="thejas" created="Tue, 3 Dec 2013 21:08:37 +0000"  >&lt;p&gt;During this refactor, we need to explore how the existing access control statement update code can be re-used across both old and new authorization models.&lt;/p&gt;</comment>
                            <comment id="13839442" author="thejas" created="Wed, 4 Dec 2013 22:53:20 +0000"  >&lt;p&gt;The operation types for grant in HiveOperation are not sufficient for this interface. It has only GRANT_PRIVILEGE and REVOKE_PRIVILEGE . It needs to be extended to be able to authorize the specific privilege being granted. However, the privileges will depend on the authorization model. So the privilege will need to be passed to the authorization calls as a string.&lt;/p&gt;</comment>
                            <comment id="13850574" author="brocknoland" created="Tue, 17 Dec 2013 15:34:22 +0000"  >&lt;blockquote&gt;&lt;p&gt;interface HiveBaseAuthorizationProvider&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;There will be a subclass of HiveBaseAuthorizationProvider &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Since it doesn&apos;t look like we have implemented here...may I interject some thoughts? I think we should start moving hive development from inheritance to composition where possible&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;. This looks like a great place to start.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://en.wikipedia.org/wiki/Composition_over_inheritance&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://en.wikipedia.org/wiki/Composition_over_inheritance&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13863631" author="thejas" created="Mon, 6 Jan 2014 23:32:49 +0000"  >&lt;p&gt;Brock, attaching a preview of the class structure I am planning to create -hive_auth_class_preview.txt&lt;/p&gt;

&lt;p&gt;I will create the proper java code and upload that soon. Just uploading this file early, for any feedback.&lt;/p&gt;</comment>
                            <comment id="13864353" author="brocknoland" created="Tue, 7 Jan 2014 16:06:03 +0000"  >&lt;p&gt;Thank you Thejas for posting this. It looks good! It&apos;s minor but I might change HiveAuthValidator to HiveAuthorizationValidator.&lt;/p&gt;</comment>
                            <comment id="13872796" author="thejas" created="Wed, 15 Jan 2014 23:29:48 +0000"  >&lt;p&gt;Addressing reviewing comments -  &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5928&quot; title=&quot;Add a hive authorization plugin api that does not assume privileges needed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5928&quot;&gt;&lt;del&gt;HIVE-5928&lt;/del&gt;&lt;/a&gt;.2.patch.&lt;/p&gt;</comment>
                            <comment id="13873165" author="hiveqa" created="Thu, 16 Jan 2014 08:45:30 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12623259/HIVE-5928.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12623259/HIVE-5928.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4929 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/927/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/927/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/927/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/927/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12623259&lt;/p&gt;</comment>
                            <comment id="13873855" author="thejas" created="Thu, 16 Jan 2014 20:00:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; Please let me know if the updated patch looks good.&lt;/p&gt;</comment>
                            <comment id="13875274" author="thejas" created="Fri, 17 Jan 2014 21:26:47 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks for the review Brock!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12682517">HIVE-5929</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12686486">HIVE-6112</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12622783" name="HIVE-5928.1.patch" size="58688" author="thejas" created="Tue, 14 Jan 2014 03:47:32 +0000"/>
                            <attachment id="12623259" name="HIVE-5928.2.patch" size="63667" author="thejas" created="Wed, 15 Jan 2014 23:29:48 +0000"/>
                            <attachment id="12621711" name="hive_auth_class_preview.txt" size="1873" author="thejas" created="Mon, 6 Jan 2014 23:32:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Dec 2013 15:34:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361773</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qd1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362070</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5929] SQL std auth - Access control statement updates</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5929</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Subtask for sql standard based auth, for performing the updates to metastore from newly supported access  control statements .&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682517">HIVE-5929</key>
            <summary>SQL std auth - Access control statement updates</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 21:06:36 +0000</created>
                <updated>Tue, 28 Jan 2014 19:26:06 +0000</updated>
                            <resolved>Tue, 28 Jan 2014 19:26:06 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <timeoriginalestimate seconds="172800">48h</timeoriginalestimate>
                            <timeestimate seconds="28800">8h</timeestimate>
                            <timespent seconds="5760">1.6h</timespent>
                                <comments>
                            <comment id="13838219" author="thejas" created="Tue, 3 Dec 2013 21:34:15 +0000"  >&lt;p&gt;Things to be done include &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In grant/revoke statements, identify user vs role and make appropriate call&lt;/li&gt;
	&lt;li&gt;For grant-role, add checks to prevent cycles in role relationship&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13878005" author="thejas" created="Tue, 21 Jan 2014 23:28:09 +0000"  >&lt;p&gt;I will upload a new patch, cleaning up the trailing whitespaces in first one.&lt;br/&gt;
rb link - &lt;a href=&quot;https://reviews.apache.org/r/17163/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/17163/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13878065" author="thejas" created="Wed, 22 Jan 2014 00:17:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5929&quot; title=&quot;SQL std auth - Access control statement updates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5929&quot;&gt;&lt;del&gt;HIVE-5929&lt;/del&gt;&lt;/a&gt;.2.patch - removing trailing whitespace, and other cosmetic cleanup&lt;/p&gt;</comment>
                            <comment id="13879104" author="ashutoshc" created="Wed, 22 Jan 2014 19:59:15 +0000"  >&lt;p&gt;Left some comments on RB. Also, you may want to mark it Patch Available to get Hive QA run on it.&lt;/p&gt;</comment>
                            <comment id="13879348" author="ashutoshc" created="Wed, 22 Jan 2014 23:27:25 +0000"  >&lt;p&gt;+1 pending tests&lt;/p&gt;</comment>
                            <comment id="13879428" author="thejas" created="Thu, 23 Jan 2014 03:44:57 +0000"  >&lt;p&gt;re uploading file for pre-commit tests.&lt;/p&gt;</comment>
                            <comment id="13881808" author="hiveqa" created="Sat, 25 Jan 2014 10:55:15 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12624926/HIVE-5929.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12624926/HIVE-5929.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 11 failed/errored test(s), 4959 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_part_inherit_tbl_props
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_part_inherit_tbl_props_with_star
org.apache.hadoop.hive.cli.TestContribNegativeCliDriver.testNegativeCliDriver_url_hook
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_import_exported_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_load_hdfs_file_with_space_in_the_name
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_add_partition_with_whitelist
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_partition_with_whitelist
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_disallow_incompatible_type_change_on1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_dynamic_partitions_with_whitelist
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_file_with_header_footer_negative
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1012/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1012/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1012/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1012/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 11 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12624926&lt;/p&gt;</comment>
                            <comment id="13883513" author="thejas" created="Mon, 27 Jan 2014 23:25:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5929&quot; title=&quot;SQL std auth - Access control statement updates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5929&quot;&gt;&lt;del&gt;HIVE-5929&lt;/del&gt;&lt;/a&gt;.5.patch - fixes the unit test failures (change in SessionState.java, to create a copy of HiveConf before calling Hive.get(conf) ). This problem was not seen earlier because one of the calls from SessionState.setupAuth() was leading to a new HiveObject being created with HiveConf copy.  As a side effect of not calling  SessionState.setupAuth()  from SessionState.start() this bug showed up.&lt;/p&gt;</comment>
                            <comment id="13883564" author="thejas" created="Tue, 28 Jan 2014 00:35:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5929&quot; title=&quot;SQL std auth - Access control statement updates&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5929&quot;&gt;&lt;del&gt;HIVE-5929&lt;/del&gt;&lt;/a&gt;.6.patch - addresses review comments&lt;/p&gt;</comment>
                            <comment id="13883705" author="ashutoshc" created="Tue, 28 Jan 2014 03:20:51 +0000"  >&lt;p&gt;LGTM +1&lt;/p&gt;</comment>
                            <comment id="13884045" author="hiveqa" created="Tue, 28 Jan 2014 11:49:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12625484/HIVE-5929.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12625484/HIVE-5929.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 4962 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_import_exported_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_load_hdfs_file_with_space_in_the_name
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_file_with_header_footer_negative
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1058/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1058/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1058/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1058/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12625484&lt;/p&gt;</comment>
                            <comment id="13884465" author="ashutoshc" created="Tue, 28 Jan 2014 19:26:06 +0000"  >&lt;p&gt;All above failed tests are known to be flaky. Committed to trunk. Thanks, Thejas!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12690175">HIVE-6258</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12682516">HIVE-5928</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12624226" name="HIVE-5929.1.patch" size="73396" author="thejas" created="Tue, 21 Jan 2014 23:28:09 +0000"/>
                            <attachment id="12624237" name="HIVE-5929.2.patch" size="75892" author="thejas" created="Wed, 22 Jan 2014 00:17:50 +0000"/>
                            <attachment id="12624415" name="HIVE-5929.3.patch" size="75732" author="thejas" created="Wed, 22 Jan 2014 20:10:59 +0000"/>
                            <attachment id="12624926" name="HIVE-5929.4.patch" size="71225" author="thejas" created="Thu, 23 Jan 2014 22:16:06 +0000"/>
                            <attachment id="12625461" name="HIVE-5929.5.patch" size="71937" author="thejas" created="Mon, 27 Jan 2014 22:45:48 +0000"/>
                            <attachment id="12625484" name="HIVE-5929.6.patch" size="71886" author="thejas" created="Tue, 28 Jan 2014 00:35:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Jan 2014 19:59:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361774</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qd1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362071</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5930] SQL std auth - implement set roles, show current roles </title>
                <link>https://issues.apache.org/jira/browse/HIVE-5930</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Implement set roles, show current roles as per functional spec for SQL standard based auth.&lt;br/&gt;
Also authorize set role - check if user belongs to the role.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682521">HIVE-5930</key>
            <summary>SQL std auth - implement set roles, show current roles </summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 21:28:01 +0000</created>
                <updated>Sat, 8 Feb 2014 15:34:00 +0000</updated>
                            <resolved>Sat, 8 Feb 2014 15:34:00 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                    <timeoriginalestimate seconds="129600">36h</timeoriginalestimate>
                            <timeestimate seconds="129600">36h</timeestimate>
                                        <comments>
                            <comment id="13838210" author="thejas" created="Tue, 3 Dec 2013 21:29:10 +0000"  >&lt;p&gt;This sub-task includes parser changes for the same.&lt;/p&gt;</comment>
                            <comment id="13838221" author="thejas" created="Tue, 3 Dec 2013 21:34:57 +0000"  >&lt;p&gt;We would need to store the current role for the session.&lt;/p&gt;</comment>
                            <comment id="13839448" author="thejas" created="Wed, 4 Dec 2013 22:57:06 +0000"  >&lt;p&gt;metastore list_roles call can be used to get all roles the user belongs to.&lt;/p&gt;</comment>
                            <comment id="13895199" author="ashutoshc" created="Fri, 7 Feb 2014 22:57:52 +0000"  >&lt;p&gt;Addressed Brock&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13895376" author="ashutoshc" created="Sat, 8 Feb 2014 02:36:19 +0000"  >&lt;p&gt;Addressed Thejas comments.&lt;/p&gt;</comment>
                            <comment id="13895550" author="hiveqa" created="Sat, 8 Feb 2014 13:14:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12627769/HIVE-5930.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12627769/HIVE-5930.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5041 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1247/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1247/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1247/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1247/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12627769&lt;/p&gt;</comment>
                            <comment id="13895608" author="ashutoshc" created="Sat, 8 Feb 2014 15:34:00 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Thejas for review!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12682299">HIVE-5923</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12627734" name="HIVE-5930.1.patch" size="38612" author="ashutoshc" created="Fri, 7 Feb 2014 22:57:52 +0000"/>
                            <attachment id="12627769" name="HIVE-5930.2.patch" size="38247" author="ashutoshc" created="Sat, 8 Feb 2014 02:36:19 +0000"/>
                            <attachment id="12627718" name="HIVE-5930.patch" size="38268" author="ashutoshc" created="Fri, 7 Feb 2014 22:16:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 7 Feb 2014 22:57:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361778</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qd2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362075</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5931] SQL std auth - add metastore get_principals_in_role api, support SHOW PRINCIPALS role_name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5931</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Support command for listing all members of a role.&lt;br/&gt;
A new metastore api call also needs to be added for this.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12682523">HIVE-5931</key>
            <summary>SQL std auth - add metastore get_principals_in_role api, support SHOW PRINCIPALS role_name</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 21:45:41 +0000</created>
                <updated>Thu, 13 Mar 2014 07:52:44 +0000</updated>
                            <resolved>Wed, 12 Mar 2014 10:23:12 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13841874" author="thejas" created="Fri, 6 Dec 2013 23:21:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I believe your internal patch &quot;NHIVE-31 Add API for retrieving principals endowed with the specific role&quot; must be doing the same as what is described in this jira. Will you able able to contribute that ?&lt;/p&gt;</comment>
                            <comment id="13872901" author="thejas" created="Thu, 16 Jan 2014 01:08:40 +0000"  >&lt;p&gt;Navis, can you please contribute NHIVE-31 patch ? Do let me know if that patch is blocked on some other patch already submitted.&lt;/p&gt;</comment>
                            <comment id="13872931" author="navis" created="Thu, 16 Jan 2014 01:39:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; I&apos;ve tried rebase NHIVE-31 on trunk but it&apos;s heavily dependent to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6204&quot; title=&quot;The result of show grant / show role should be tabular format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6204&quot;&gt;&lt;del&gt;HIVE-6204&lt;/del&gt;&lt;/a&gt; and it is again dependent to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6122&quot; title=&quot;Implement show grant on &amp;lt;resource&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6122&quot;&gt;&lt;del&gt;HIVE-6122&lt;/del&gt;&lt;/a&gt;. I don&apos;t like the way &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6122&quot; title=&quot;Implement show grant on &amp;lt;resource&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6122&quot;&gt;&lt;del&gt;HIVE-6122&lt;/del&gt;&lt;/a&gt; is implemented but should hurry on it.&lt;/p&gt;</comment>
                            <comment id="13894305" author="thejas" created="Fri, 7 Feb 2014 08:32:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Can you please see if you can contribute the patch for this jira ?&lt;/p&gt;</comment>
                            <comment id="13918805" author="thejas" created="Tue, 4 Mar 2014 00:23:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5931&quot; title=&quot;SQL std auth - add metastore get_principals_in_role api, support SHOW PRINCIPALS role_name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5931&quot;&gt;&lt;del&gt;HIVE-5931&lt;/del&gt;&lt;/a&gt;.thriftapi.patch - thrift api that I plan to introduce.&lt;br/&gt;
I also think it will be cleaner to use an api that returns RoleGrant for the show-role-grant instead of adding the RoleGrant information to Role (which becomes confusing in the context of create-role). I am thinking of making that change in a separate follow up patch for 0.13 . I am hoping we can include that during the stabilization phase of 0.13 (ie, post branching).&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13918827" author="thejas" created="Tue, 4 Mar 2014 00:36:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5931&quot; title=&quot;SQL std auth - add metastore get_principals_in_role api, support SHOW PRINCIPALS role_name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5931&quot;&gt;&lt;del&gt;HIVE-5931&lt;/del&gt;&lt;/a&gt;.thriftapi.followup.patch - The follow up change that I am planning to introduce. Along with this change, the show-role-grants would use get_role_grants_for_principal instead of list_roles. That way we won&apos;t be storing role-to-principal mapping in the Role thrift object. This is a better normalized representation IMO.&lt;/p&gt;</comment>
                            <comment id="13918830" author="thejas" created="Tue, 4 Mar 2014 00:40:25 +0000"  >&lt;p&gt;fyi, the addition of user-to-role mapping into Role &apos;class&apos; was added in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6204&quot; title=&quot;The result of show grant / show role should be tabular format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6204&quot;&gt;&lt;del&gt;HIVE-6204&lt;/del&gt;&lt;/a&gt; (hive 0.13, so this will not be a backward incompatible change). But while working on this I feel, mixing the role-to-user mapping and Role object is not very intuitive/clean, and we might be taking on some technical debt there. &lt;/p&gt;</comment>
                            <comment id="13920423" author="ashutoshc" created="Wed, 5 Mar 2014 03:02:47 +0000"  >&lt;p&gt;Few comments on proposed api:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Better name for 1st method : get_principals_in_role() ?&lt;/li&gt;
	&lt;li&gt;Better name for 2nd method : get_roles_granted_to_principal() ?&lt;/li&gt;
	&lt;li&gt;Also struct needs better name. Also, put explanation for struct, since it carries redundant info, depending on method it is used in.&lt;/li&gt;
	&lt;li&gt;principalType in struct should be enum&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13921242" author="ashutoshc" created="Wed, 5 Mar 2014 19:14:06 +0000"  >&lt;p&gt;Don&apos;t see {{ list&amp;lt;RoleGrant&amp;gt; get_role_grants_for_principal}} in latest patch. You want to do that in separate patch?&lt;/p&gt;</comment>
                            <comment id="13921280" author="thejas" created="Wed, 5 Mar 2014 19:34:09 +0000"  >&lt;p&gt;Yes, I was planning to do that as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6547&quot; title=&quot;normalize struct Role in metastore thrift interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6547&quot;&gt;&lt;del&gt;HIVE-6547&lt;/del&gt;&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="13921287" author="ashutoshc" created="Wed, 5 Mar 2014 19:37:36 +0000"  >&lt;p&gt;OK. Current proposal looks good.&lt;/p&gt;</comment>
                            <comment id="13924779" author="thejas" created="Sat, 8 Mar 2014 09:46:22 +0000"  >&lt;p&gt;I am working on adding support for the describe role syntax as well, as part of this jira.&lt;/p&gt;

&lt;p&gt;But there is a problem, the current describe table syntax allows the following -&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;DESCRIBE t1 key1;
DESCRIBE EXTENDED t1 key1;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In hive, almost all keywords are also identifiers . So &quot;describe role &amp;lt;rolename&amp;gt;&quot; also gets translated to a describe table command with &quot;role&quot; as table name and &quot;&amp;lt;rolename&amp;gt;&quot; as a column.&lt;/p&gt;

&lt;p&gt;This is not a documented syntax AFAIK,  but we do have .q tests for it and it would break backward compatibility.The documented syntax requires a  dot &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Describe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-Describe&lt;/a&gt; . Dot became optional with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1977&quot; title=&quot;DESCRIBE TABLE syntax doesn&amp;#39;t support specifying a database qualified table name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1977&quot;&gt;&lt;del&gt;HIVE-1977&lt;/del&gt;&lt;/a&gt; . Since there are tests added as part of the patch that use this format, it looks like the change was intentional.&lt;/p&gt;

&lt;p&gt;I will look at syntax alternatives to &apos;describe role&apos;. &lt;/p&gt;

</comment>
                            <comment id="13924810" author="thejas" created="Sat, 8 Mar 2014 12:02:39 +0000"  >&lt;p&gt;The reason why &apos;describe function &amp;lt;funcname&amp;gt;&apos; works is that for some historic reason the keyword function was not marked as a non reserved keyword in IdentifiersParser.g. This is not the case with ROLE keyword.&lt;/p&gt;</comment>
                            <comment id="13925702" author="thejas" created="Mon, 10 Mar 2014 12:34:11 +0000"  >&lt;p&gt;Instead of describe-role,  I have added support for the command: SHOW ROLE PRINCIPALS role_name;&lt;/p&gt;

&lt;p&gt;Attaching a patch file without the thrift generated files as well, for ease of review ( &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5931&quot; title=&quot;SQL std auth - add metastore get_principals_in_role api, support SHOW PRINCIPALS role_name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5931&quot;&gt;&lt;del&gt;HIVE-5931&lt;/del&gt;&lt;/a&gt;.nothrifgen.1.patch  is no thrift-gen version of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5931&quot; title=&quot;SQL std auth - add metastore get_principals_in_role api, support SHOW PRINCIPALS role_name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5931&quot;&gt;&lt;del&gt;HIVE-5931&lt;/del&gt;&lt;/a&gt;.1.patch )&lt;/p&gt;
</comment>
                            <comment id="13925710" author="thejas" created="Mon, 10 Mar 2014 12:50:35 +0000"  >&lt;p&gt;Adding review board link&lt;/p&gt;</comment>
                            <comment id="13929892" author="ashutoshc" created="Tue, 11 Mar 2014 02:29:49 +0000"  >&lt;p&gt;Patch looks good. I have a minor comment on RB. &lt;br/&gt;
Although, I think following syntax  is better :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;SHOW PRINCIPALS role_name;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;having role there is redundant. &lt;/p&gt;</comment>
                            <comment id="13930215" author="thejas" created="Tue, 11 Mar 2014 11:06:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5931&quot; title=&quot;SQL std auth - add metastore get_principals_in_role api, support SHOW PRINCIPALS role_name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5931&quot;&gt;&lt;del&gt;HIVE-5931&lt;/del&gt;&lt;/a&gt;.*.2.patch  - addressing review comments. Update syntax to &apos;show principals role_name&apos;&lt;/p&gt;</comment>
                            <comment id="13930471" author="hiveqa" created="Tue, 11 Mar 2014 15:39:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12633684/HIVE-5931.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12633684/HIVE-5931.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5379 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1701/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1701/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1701/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1701/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12633684&lt;/p&gt;</comment>
                            <comment id="13930474" author="ashutoshc" created="Tue, 11 Mar 2014 15:42:42 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13931611" author="thejas" created="Wed, 12 Mar 2014 10:23:12 +0000"  >&lt;p&gt;Patch committed to trunk and 0.13 branch. &lt;br/&gt;
I didn&apos;t realize that I had not checked with Harish on including this in 0.13. Sorry, about that. I have now included it the wiki page. cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12682603">HIVE-5942</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12682603">HIVE-5942</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12682604">HIVE-5943</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12698716">HIVE-6547</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12633684" name="HIVE-5931.1.patch" size="1110462" author="thejas" created="Mon, 10 Mar 2014 12:31:28 +0000"/>
                            <attachment id="12633889" name="HIVE-5931.2.patch" size="1110507" author="thejas" created="Tue, 11 Mar 2014 11:06:21 +0000"/>
                            <attachment id="12633683" name="HIVE-5931.nothrifgen.1.patch" size="84493" author="thejas" created="Mon, 10 Mar 2014 12:30:35 +0000"/>
                            <attachment id="12633888" name="HIVE-5931.nothrifgen.2.patch" size="84578" author="thejas" created="Tue, 11 Mar 2014 11:04:09 +0000"/>
                            <attachment id="12632888" name="HIVE-5931.thriftapi.2.patch" size="1830" author="thejas" created="Wed, 5 Mar 2014 19:10:17 +0000"/>
                            <attachment id="12633409" name="HIVE-5931.thriftapi.3.patch" size="2209" author="thejas" created="Fri, 7 Mar 2014 18:12:38 +0000"/>
                            <attachment id="12632408" name="HIVE-5931.thriftapi.followup.patch" size="1596" author="thejas" created="Tue, 4 Mar 2014 01:01:53 +0000"/>
                            <attachment id="12632396" name="HIVE-5931.thriftapi.patch" size="1452" author="thejas" created="Tue, 4 Mar 2014 00:23:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 16 Jan 2014 01:39:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361780</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 45 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qd2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362077</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5932] SQL std auth - add list_all_roles to metastore api</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5932</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is needed for &apos;show all roles&apos; statement.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682524">HIVE-5932</key>
            <summary>SQL std auth - add list_all_roles to metastore api</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 21:51:45 +0000</created>
                <updated>Mon, 27 Jan 2014 23:31:56 +0000</updated>
                            <resolved>Wed, 15 Jan 2014 02:29:41 +0000</resolved>
                                                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                <comments>
                            <comment id="13871551" author="navis" created="Wed, 15 Jan 2014 02:29:41 +0000"  >&lt;p&gt;get_role_names() exists already (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5941&quot; title=&quot;SQL std auth - support &amp;#39;show roles&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5941&quot;&gt;&lt;del&gt;HIVE-5941&lt;/del&gt;&lt;/a&gt; is implemented on it).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12682602">HIVE-5941</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Jan 2014 02:29:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361781</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qd33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362078</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5933] SQL std auth - add support to metastore api to list all privileges for a user</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5933</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;This is for supporting SHOW GRANTS statements -&lt;br/&gt;
SHOW GRANTS&#894;&lt;br/&gt;
SHOW GRANTS FOR user&#894;&lt;br/&gt;
SHOW GRANTS FOR role&#894;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12682525">HIVE-5933</key>
            <summary>SQL std auth - add support to metastore api to list all privileges for a user</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 21:55:13 +0000</created>
                <updated>Mon, 2 Jun 2014 22:24:02 +0000</updated>
                            <resolved>Mon, 2 Jun 2014 22:24:02 +0000</resolved>
                                                                    <component>Authorization</component>
                    <component>SQLStandardAuthorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13918327" author="thejas" created="Mon, 3 Mar 2014 18:02:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5933&quot; title=&quot;SQL std auth - add support to metastore api to list all privileges for a user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5933&quot;&gt;&lt;del&gt;HIVE-5933&lt;/del&gt;&lt;/a&gt;.thriftapi.patch - thrift api that I plan to introduce.&lt;/p&gt;

&lt;p&gt;I also think it will be cleaner to use an api that returns RoleGrant for the show-role-grant instead of adding the RoleGrant information to Role (which becomes confusing in the context of create-role). I am thinking of making that change in a separate follow up patch for 0.13 . I am hoping we can include that during the stabilization phase of 0.13 (ie, post branching).&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13918799" author="thejas" created="Tue, 4 Mar 2014 00:22:17 +0000"  >&lt;p&gt;Sorry, I meant to attach the patch to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5931&quot; title=&quot;SQL std auth - add metastore get_principals_in_role api, support SHOW PRINCIPALS role_name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5931&quot;&gt;&lt;del&gt;HIVE-5931&lt;/del&gt;&lt;/a&gt;. Deleting this one.&lt;/p&gt;</comment>
                            <comment id="13922748" author="thejas" created="Thu, 6 Mar 2014 17:05:10 +0000"  >&lt;p&gt;&quot;show grant user hive_test_user on all;&quot; added in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6122&quot; title=&quot;Implement show grant on &amp;lt;resource&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6122&quot;&gt;&lt;del&gt;HIVE-6122&lt;/del&gt;&lt;/a&gt; provides the equivalent functionality of &lt;br/&gt;
SHOW GRANTS FOR user&#894;&lt;br/&gt;
SHOW GRANTS FOR role&#894;&lt;br/&gt;
But the command fails with sql std auth with an NPE . Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6567&quot; title=&quot;&amp;quot;show grant ... on all&amp;quot; fails with NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6567&quot;&gt;&lt;del&gt;HIVE-6567&lt;/del&gt;&lt;/a&gt; to track it.&lt;/p&gt;</comment>
                            <comment id="13922752" author="thejas" created="Thu, 6 Mar 2014 17:08:26 +0000"  >&lt;p&gt;Duplicates &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6122&quot; title=&quot;Implement show grant on &amp;lt;resource&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6122&quot;&gt;&lt;del&gt;HIVE-6122&lt;/del&gt;&lt;/a&gt; except for &apos;show grants;&apos; command which is not supported via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6122&quot; title=&quot;Implement show grant on &amp;lt;resource&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6122&quot;&gt;&lt;del&gt;HIVE-6122&lt;/del&gt;&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="14015973" author="thejas" created="Mon, 2 Jun 2014 22:24:02 +0000"  >&lt;p&gt;The metastore api now supports this, with the changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6122&quot; title=&quot;Implement show grant on &amp;lt;resource&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6122&quot;&gt;&lt;del&gt;HIVE-6122&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12682600">HIVE-5940</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12686723">HIVE-6122</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361782</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qd3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362079</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5934] Since tez has been released, we need to update version of tez used in hive-tez</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5934</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12682566">HIVE-5934</key>
            <summary>Since tez has been released, we need to update version of tez used in hive-tez</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2013 23:17:09 +0000</created>
                <updated>Thu, 5 Dec 2013 01:44:17 +0000</updated>
                            <resolved>Thu, 5 Dec 2013 01:44:17 +0000</resolved>
                                    <version>tez-branch</version>
                                    <fixVersion>tez-branch</fixVersion>
                                    <component>Tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13838454" author="hiveqa" created="Wed, 4 Dec 2013 01:30:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12616886/HIVE-5934.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12616886/HIVE-5934.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/504/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/504/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/504/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/504/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-504/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
++ egrep -v &apos;^X|^Performing status on external&apos;
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/assembly/target shims/0.20S/target shims/0.23/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update
U    ql/src/test/org/apache/hadoop/hive/ql/exec/vector/expressions/TestVectorStringExpressions.java
U    ql/src/test/org/apache/hadoop/hive/ql/exec/vector/expressions/TestVectorLogicalExpressions.java
U    ql/src/test/org/apache/hadoop/hive/ql/exec/vector/expressions/TestVectorScalarColArithmetic.java
U    ql/src/test/org/apache/hadoop/hive/ql/exec/vector/TestVectorizationContext.java
A    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/StringColumnInList.java
A    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/ILongInExpr.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/FilterLongColumnInList.java
A    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/DoubleColumnInList.java
A    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/IStringInExpr.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/FilterStringColumnInList.java
A    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/LongColumnInList.java
A    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/IDoubleInExpr.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/FilterDoubleColumnInList.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/vector/VectorizationContext.java

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
Updated external to revision 1547668.

Updated to revision 1547668.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12616886&lt;/p&gt;</comment>
                            <comment id="13839653" author="thejas" created="Thu, 5 Dec 2013 01:31:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13839671" author="thejas" created="Thu, 5 Dec 2013 01:44:17 +0000"  >&lt;p&gt;Patch committed to tez branch. Thanks for your contribution Vikram!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12616886" name="HIVE-5934.1.patch" size="478" author="vikram.dixit" created="Wed, 4 Dec 2013 00:06:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Dec 2013 01:30:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361823</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qdcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362120</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5935] hive.query.string is not provided to FetchTask</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5935</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;From &lt;a href=&quot;http://www.mail-archive.com/user@hive.apache.org/msg10187.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mail-archive.com/user@hive.apache.org/msg10187.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&quot;hive.query.string&quot; (and &quot;hive.query.id&quot;, etc.) is not set for the fetch task.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682577">HIVE-5935</key>
            <summary>hive.query.string is not provided to FetchTask</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 00:33:38 +0000</created>
                <updated>Fri, 6 Dec 2013 02:02:25 +0000</updated>
                            <resolved>Fri, 6 Dec 2013 02:02:25 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13838509" author="hiveqa" created="Wed, 4 Dec 2013 02:21:06 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12616896/HIVE-5935.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12616896/HIVE-5935.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4453 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/505/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/505/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/505/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/505/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12616896&lt;/p&gt;</comment>
                            <comment id="13839926" author="ashutoshc" created="Thu, 5 Dec 2013 08:02:41 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13840820" author="ashutoshc" created="Fri, 6 Dec 2013 02:02:25 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12616896" name="HIVE-5935.1.patch.txt" size="2798" author="navis" created="Wed, 4 Dec 2013 00:39:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Dec 2013 02:21:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361834</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qdev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362131</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5936] analyze command failing to collect stats with counter mechanism</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5936</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;With counter mechanism, MR job is successful, but StatsTask on client fails with NPE.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682583">HIVE-5936</key>
            <summary>analyze command failing to collect stats with counter mechanism</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 00:52:57 +0000</created>
                <updated>Tue, 17 Dec 2013 19:49:31 +0000</updated>
                            <resolved>Tue, 17 Dec 2013 19:49:31 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13838417" author="ashutoshc" created="Wed, 4 Dec 2013 00:54:49 +0000"  >&lt;p&gt;hive&amp;gt;  analyze table over10k compute statistics;&lt;br/&gt;
Execution completed successfully&lt;br/&gt;
MapredLocal task succeeded&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Warning&amp;#93;&lt;/span&gt; could not update stats.&lt;/p&gt;

&lt;p&gt;Log shows following exception:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; INFO  exec.Task (SessionState.java:printInfo(431)) - [Warning] could not update stats.Failed with exception &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
java.lang.NullPointerException
        at org.apache.hadoop.hive.ql.stats.CounterStatsAggregator.connect(CounterStatsAggregator.java:49)
        at org.apache.hadoop.hive.ql.exec.StatsTask.aggregateStats(StatsTask.java:194)
        at org.apache.hadoop.hive.ql.exec.StatsTask.execute(StatsTask.java:154)
        at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:153)
        at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:65)
        at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1470)
        at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1248)
        at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1076)
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:916)
        at org.apache.hadoop.hive.ql.Driver.run(Driver.java:906)
        at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:268)
        at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:220)
        at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:422)
        at org.apache.hadoop.hive.cli.CliDriver.executeDriver(CliDriver.java:790)
        at org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:684)
        at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:623)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13838420" author="ashutoshc" created="Wed, 4 Dec 2013 00:56:55 +0000"  >&lt;p&gt;Following modified .q file from original patch also repro this in test case with same stacktrace.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.stats.autogather=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
set hive.stats.dbclass=counter;

create table dummy as select * from src;

set hive.stats.autogather=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
analyze table dummy compute statistics;
desc formatted dummy;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Will you be able to take a look at this one, since this is a regression since we switched counter based mechanism as default.&lt;/p&gt;</comment>
                            <comment id="13838470" author="navis" created="Wed, 4 Dec 2013 01:44:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; Sure. I&apos;ll check this.&lt;/p&gt;</comment>
                            <comment id="13838503" author="ashutoshc" created="Wed, 4 Dec 2013 02:12:51 +0000"  >&lt;p&gt;Thanks for a quick look. Can you also add a testcase which I have above?&lt;/p&gt;</comment>
                            <comment id="13838508" author="ashutoshc" created="Wed, 4 Dec 2013 02:20:01 +0000"  >&lt;p&gt;Also what do you think of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5916&quot; title=&quot;No need to aggregate statistics collected via counter mechanism &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5916&quot;&gt;&lt;del&gt;HIVE-5916&lt;/del&gt;&lt;/a&gt;. Does it make sense ?&lt;/p&gt;</comment>
                            <comment id="13838614" author="navis" created="Wed, 4 Dec 2013 05:32:23 +0000"  >&lt;p&gt;Testing this issue, I&apos;ve confronted a problem related to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3750&quot; title=&quot;JDBCStatsPublisher fails when ID length exceeds length of ID column&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3750&quot;&gt;&lt;del&gt;HIVE-3750&lt;/del&gt;&lt;/a&gt;, taking some time to tack. I&apos;ll check &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5916&quot; title=&quot;No need to aggregate statistics collected via counter mechanism &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5916&quot;&gt;&lt;del&gt;HIVE-5916&lt;/del&gt;&lt;/a&gt;, too.&lt;/p&gt;</comment>
                            <comment id="13838651" author="ashutoshc" created="Wed, 4 Dec 2013 06:08:57 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13838661" author="hiveqa" created="Wed, 4 Dec 2013 06:32:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12616941/HIVE-5936.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12616941/HIVE-5936.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 4455 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats19
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_noscan_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_noscan_2
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats3
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/509/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/509/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/509/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/509/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12616941&lt;/p&gt;</comment>
                            <comment id="13838700" author="navis" created="Wed, 4 Dec 2013 07:56:24 +0000"  >&lt;p&gt;Would it better to have -1 for not-calculated stat values? Currently, it&apos;s mixed with 0 and -1.&lt;/p&gt;</comment>
                            <comment id="13838746" author="navis" created="Wed, 4 Dec 2013 08:56:05 +0000"  >&lt;p&gt;Stat works &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5369&quot; title=&quot;Annotate hive operator tree with statistics from metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5369&quot;&gt;&lt;del&gt;HIVE-5369&lt;/del&gt;&lt;/a&gt; is not discerning 0 to -1 and vastly using the concept all over the codes. I think 0 should be mean the emptiness of table or partition and we should revive 0 from minus(invalid) stats. Can I ask your opinion &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13839029" author="ashutoshc" created="Wed, 4 Dec 2013 16:00:25 +0000"  >&lt;p&gt;Yeah, thats the idea 0 to mean empty table / partition -1 to mean unknown stat. &lt;br/&gt;
I looked at diff of &lt;tt&gt;stats_noscan_1&lt;/tt&gt; and &lt;tt&gt;stats_noscan_2&lt;/tt&gt; because of this patch and it seems what we are getting after patch is correct stats, so for this patch we can just regenerate those .q.out files. &lt;tt&gt;decimal_udf&lt;/tt&gt; failure looks unrelated to this patch.&lt;/p&gt;</comment>
                            <comment id="13839286" author="prasanth_j" created="Wed, 4 Dec 2013 20:01:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5369&quot; title=&quot;Annotate hive operator tree with statistics from metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5369&quot;&gt;&lt;del&gt;HIVE-5369&lt;/del&gt;&lt;/a&gt; does not discern 0 to -1. The reason is that I felt even 0 (emptiness) is not very reliable. To make it more reliable in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5369&quot; title=&quot;Annotate hive operator tree with statistics from metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5369&quot;&gt;&lt;del&gt;HIVE-5369&lt;/del&gt;&lt;/a&gt; I am making another call to filesystem to check for the file size which is reliable (if metastore reports 0 then filesystem will report file size as 0). &lt;a href=&quot;https://github.com/apache/hive/blob/trunk/ql/src/java/org/apache/hadoop/hive/ql/stats/StatsUtils.java#L93&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/trunk/ql/src/java/org/apache/hadoop/hive/ql/stats/StatsUtils.java#L93&lt;/a&gt; here I am getting raw data size from metastore. If it is not reliable I will fallback to total file size from metastore. If total file size is also not reliable then I will query the filesystem to get file size. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5921&quot; title=&quot;Better heuristics for worst case statistics estimates for join, limit and filter operator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5921&quot;&gt;&lt;del&gt;HIVE-5921&lt;/del&gt;&lt;/a&gt; needs some sort of data size (raw data size or file size) to estimate the number of rows in the absence of any statistics (worst case scenario). Since all the statistics rules in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5369&quot; title=&quot;Annotate hive operator tree with statistics from metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5369&quot;&gt;&lt;del&gt;HIVE-5369&lt;/del&gt;&lt;/a&gt; needs atleast the basic statistics (row count and data size), it is better to provide some statistics (accurate or estimated) than providing no statistics at all. &lt;/p&gt;</comment>
                            <comment id="13839635" author="navis" created="Thu, 5 Dec 2013 01:04:56 +0000"  >&lt;p&gt;For the TOTAL_SIZE, it looks fair enough. But for ROW_COUNT and RAW_DATA_SIZE which is calculated by scanning the table, the default value could be -1 returning the meaning of emptiness to &quot;zero&quot;. ie,&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;long nr = getNumRows(dbName, tabName);
long rds = getRawDataSize(dbName, tabName);

 // could be &quot;rds &amp;lt; 0&quot;
if (rds &amp;lt;= 0) {
  rds = getTotalSize(dbName, tabName);
  if (rds &amp;lt;= 0) {
    rds = getFileSizeForTable(conf, table);
  }
}
// this seemed not needed
if (nr &amp;lt; 0) {
  nr = 0;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13839684" author="prasanth_j" created="Thu, 5 Dec 2013 01:59:20 +0000"  >&lt;p&gt;Even ROW_COUNT and RAW_DATA_SIZE is not reliable. Following sequence of operations illustrate it&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; create table test (key string, value string);
OK
Time taken: 0.069 seconds
hive&amp;gt; load data local inpath &lt;span class=&quot;code-quote&quot;&gt;&apos;/work/hive/trunk/hive-git/data/files/kv1.txt&apos;&lt;/span&gt; into table test;
Copying data from file:/work/hive/trunk/hive-git/data/files/kv1.txt
Copying file: file:/work/hive/trunk/hive-git/data/files/kv1.txt
Loading data to table &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.test
Table &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.test stats: [numFiles, numRows, totalSize, rawDataSize]
OK
Time taken: 0.231 seconds
hive&amp;gt; desc formatted test;
OK
# col_name            	data_type           	comment             
	 	 
key                 	string              	None                
value               	string              	None                
	 	 
# Detailed Table Information	 	 
Database:           	&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;             	 
Owner:              	pjayachandran       	 
CreateTime:         	Wed Dec 04 17:31:32 PST 2013	 
LastAccessTime:     	UNKNOWN             	 
Protect Mode:       	None                	 
Retention:          	0                   	 
Location:           	file:/tmp/warehouse/test	 
Table Type:         	MANAGED_TABLE       	 
Table Parameters:	 	 
	COLUMN_STATS_ACCURATE	&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;                
	numFiles            	1                   
	numRows             	0                   
	rawDataSize         	0                   
	totalSize           	5812                
	transient_lastDdlTime	1386207121          
	 	 
# Storage Information	 	 
SerDe Library:      	org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe	 
InputFormat:        	org.apache.hadoop.mapred.TextInputFormat	 
OutputFormat:       	org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat	 
Compressed:         	No                  	 
Num Buckets:        	-1                  	 
Bucket Columns:     	[]                  	 
Sort Columns:       	[]                  	 
Storage Desc Params:	 	 
	serialization.format	1                   
Time taken: 0.094 seconds, Fetched: 32 row(s)
hive&amp;gt; drop table test;
OK
Time taken: 0.423 seconds
hive&amp;gt; set hive.stats.autogather=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
hive&amp;gt; create table test (key string, value string);                                         
OK
Time taken: 0.03 seconds
hive&amp;gt; load data local inpath &lt;span class=&quot;code-quote&quot;&gt;&apos;/work/hive/trunk/hive-git/data/files/kv1.txt&apos;&lt;/span&gt; into table test;
Copying data from file:/work/hive/trunk/hive-git/data/files/kv1.txt
Copying file: file:/work/hive/trunk/hive-git/data/files/kv1.txt
Loading data to table &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.test
OK
Time taken: 0.097 seconds
hive&amp;gt; desc formatted test;                                                                  
OK
# col_name            	data_type           	comment             
	 	 
key                 	string              	None                
value               	string              	None                
	 	 
# Detailed Table Information	 	 
Database:           	&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;             	 
Owner:              	pjayachandran       	 
CreateTime:         	Wed Dec 04 17:32:29 PST 2013	 
LastAccessTime:     	UNKNOWN             	 
Protect Mode:       	None                	 
Retention:          	0                   	 
Location:           	file:/tmp/warehouse/test	 
Table Type:         	MANAGED_TABLE       	 
Table Parameters:	 	 
	COLUMN_STATS_ACCURATE	&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;               
	numFiles            	1                   
	numRows             	-1                  
	rawDataSize         	-1                  
	totalSize           	5812                
	transient_lastDdlTime	1386207152          
	 	 
# Storage Information	 	 
SerDe Library:      	org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe	 
InputFormat:        	org.apache.hadoop.mapred.TextInputFormat	 
OutputFormat:       	org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat	 
Compressed:         	No                  	 
Num Buckets:        	-1                  	 
Bucket Columns:     	[]                  	 
Sort Columns:       	[]                  	 
Storage Desc Params:	 	 
	serialization.format	1                   
Time taken: 0.061 seconds, Fetched: 32 row(s)
hive&amp;gt; set hive.stats.collect.rawdatasize=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;                                             
hive&amp;gt; analyze table test compute statistics;
Total MapReduce jobs = 1
Launching Job 1 out of 1
&lt;span class=&quot;code-object&quot;&gt;Number&lt;/span&gt; of reduce tasks is set to 0 since there&apos;s no reduce &lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;
Picked up JAVA_TOOL_OPTIONS: -Djava.awt.headless=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
Picked up JAVA_TOOL_OPTIONS: -Djava.awt.headless=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
Listening &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; transport dt_socket at address: 65378
2013-12-04 17:35:55.379 java[81428:1003] Unable to load realm info from SCDynamicStore
Execution log at: /&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/folders/2w/4x52xg597k50_bt27x3_k9tw0000gn/T&lt;span class=&quot;code-comment&quot;&gt;//pjayachandran/pjayachandran_20131204173535_82f7e5c3-0016-4a63-a89c-e07b6ed07ab4.log
&lt;/span&gt;Job running in-process (local Hadoop)
Hadoop job information &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;: number of mappers: 0; number of reducers: 0
2013-12-04 17:35:57,347 &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; map = 0%,  reduce = 0%
2013-12-04 17:36:14,366 &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; map = 100%,  reduce = 0%
Ended Job = job_local124477567_0001
Execution completed successfully
MapredLocal task succeeded
Table &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.test stats: [numFiles, numRows, totalSize, rawDataSize]
OK
Time taken: 36.769 seconds
hive&amp;gt; desc formatted test;                     
OK
# col_name            	data_type           	comment             
	 	 
key                 	string              	None                
value               	string              	None                
	 	 
# Detailed Table Information	 	 
Database:           	&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;             	 
Owner:              	pjayachandran       	 
CreateTime:         	Wed Dec 04 17:32:29 PST 2013	 
LastAccessTime:     	UNKNOWN             	 
Protect Mode:       	None                	 
Retention:          	0                   	 
Location:           	file:/tmp/warehouse/test	 
Table Type:         	MANAGED_TABLE       	 
Table Parameters:	 	 
	COLUMN_STATS_ACCURATE	&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;                
	numFiles            	1                   
	numRows             	500                 
	rawDataSize         	0                   
	totalSize           	5812                
	transient_lastDdlTime	1386207374          
	 	 
# Storage Information	 	 
SerDe Library:      	org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe	 
InputFormat:        	org.apache.hadoop.mapred.TextInputFormat	 
OutputFormat:       	org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat	 
Compressed:         	No                  	 
Num Buckets:        	-1                  	 
Bucket Columns:     	[]                  	 
Sort Columns:       	[]                  	 
Storage Desc Params:	 	 
	serialization.format	1                   
Time taken: 0.064 seconds, Fetched: 32 row(s)
hive&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As seen above, statistics are different when autostats gathering is enabled vs disabled. Also, not all SerDes support RAW_DATA_SIZE. AFAIK, LazySimpleSerde and ORC supports RAW_DATA_SIZE. LazySimpleSerde supports RAW_DATA_SIZE during INSERT operation and ANALYZE. But ORC supports only during INSERT operation. Since there are multiple codepaths/ways stats can be updated I do not think RAW_DATA_SIZE and ROW_COUNT is reliable always. &lt;/p&gt;

&lt;p&gt;Following code segment is removed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5921&quot; title=&quot;Better heuristics for worst case statistics estimates for join, limit and filter operator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5921&quot;&gt;&lt;del&gt;HIVE-5921&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (nr &amp;lt; 0) {
  nr = 0;
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;instead if ROW_COUNT is &amp;lt;=0, the number of rows will be estimated based on average row size computed from schema&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (nr &amp;lt;= 0) {
        nr = 0;
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; avgRowSize = estimateRowSizeFromSchema(conf, schema, neededColumns);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (avgRowSize &amp;gt; 0) {
          nr = ds / avgRowSize;
        }
       }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There is another subtask &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5949&quot; title=&quot;In statistics annotation add flag to say if statistics is estimated or accurate&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5949&quot;&gt;HIVE-5949&lt;/a&gt; which will have a flag to say if the statistics is accurate (all statistics are from metastore) or estimated. &lt;/p&gt;</comment>
                            <comment id="13839799" author="hiveqa" created="Thu, 5 Dec 2013 04:49:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617108/HIVE-5936.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617108/HIVE-5936.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 4457 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats19
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_stats3
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/524/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/524/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/524/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/524/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617108&lt;/p&gt;</comment>
                            <comment id="13839915" author="ashutoshc" created="Thu, 5 Dec 2013 07:41:13 +0000"  >&lt;p&gt;Latest patch looks good to me. +1 Navis, can you rebase it on trunk, now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5916&quot; title=&quot;No need to aggregate statistics collected via counter mechanism &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5916&quot;&gt;&lt;del&gt;HIVE-5916&lt;/del&gt;&lt;/a&gt; is committed. Lets get this one in too.&lt;/p&gt;</comment>
                            <comment id="13839933" author="hiveqa" created="Thu, 5 Dec 2013 08:13:15 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617111/HIVE-5936.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617111/HIVE-5936.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4457 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/527/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/527/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/527/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/527/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617111&lt;/p&gt;</comment>
                            <comment id="13840659" author="ashutoshc" created="Thu, 5 Dec 2013 22:51:00 +0000"  >&lt;p&gt;I tested &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5916&quot; title=&quot;No need to aggregate statistics collected via counter mechanism &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5916&quot;&gt;&lt;del&gt;HIVE-5916&lt;/del&gt;&lt;/a&gt; on a table having 2K partitions. It used to fail earlier because we used to run out of counters earlier. Now analyze command succeeds since we lowered the number of unique counters required. However, as you pointed out in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5916&quot; title=&quot;No need to aggregate statistics collected via counter mechanism &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5916&quot;&gt;&lt;del&gt;HIVE-5916&lt;/del&gt;&lt;/a&gt; review we still potentially can run into counter name limit for which we need to generate unique smaller string which is implemented in this patch. So, it will be good to shorten counter names when needed.&lt;br/&gt;
I also noted that client update the partition object one by one from client to metastore, which is both slow as well as error-prone. We should batch update partitions from client at end of job. Thats should be another jira.&lt;/p&gt;</comment>
                            <comment id="13842913" author="navis" created="Mon, 9 Dec 2013 05:27:42 +0000"  >&lt;p&gt;For running test. Not for a review.&lt;/p&gt;</comment>
                            <comment id="13842936" author="hiveqa" created="Mon, 9 Dec 2013 06:35:18 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617780/HIVE-5936.5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617780/HIVE-5936.5.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4761 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_truncate_column
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/569/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/569/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/569/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/569/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617780&lt;/p&gt;</comment>
                            <comment id="13843004" author="hiveqa" created="Mon, 9 Dec 2013 09:20:15 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617792/HIVE-5936.6.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617792/HIVE-5936.6.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/574/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/574/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/574/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/574/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-cli ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/cli/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-cli ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-cli ---
[INFO] Compiling 4 source files to /data/hive-ptest/working/apache-svn-trunk-source/cli/target/classes
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java:[74,16] warning: sun.misc.Signal is Sun proprietary API and may be removed in a future release
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java:[75,16] warning: sun.misc.SignalHandler is Sun proprietary API and may be removed in a future release
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java:[371,5] warning: sun.misc.SignalHandler is Sun proprietary API and may be removed in a future release
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java:[372,5] warning: sun.misc.Signal is Sun proprietary API and may be removed in a future release
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java:[377,27] warning: sun.misc.Signal is Sun proprietary API and may be removed in a future release
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java:[378,52] warning: sun.misc.SignalHandler is Sun proprietary API and may be removed in a future release
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java:[378,52] warning: sun.misc.SignalHandler is Sun proprietary API and may be removed in a future release
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java:[383,28] warning: sun.misc.Signal is Sun proprietary API and may be removed in a future release
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java:[378,19] warning: sun.misc.Signal is Sun proprietary API and may be removed in a future release
[WARNING] /data/hive-ptest/working/apache-svn-trunk-source/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java:[439,9] warning: sun.misc.Signal is Sun proprietary API and may be removed in a future release
[WARNING] Note: /data/hive-ptest/working/apache-svn-trunk-source/cli/src/java/org/apache/hadoop/hive/cli/RCFileCat.java uses or overrides a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[WARNING] Note: /data/hive-ptest/working/apache-svn-trunk-source/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java uses unchecked or unsafe operations.
[WARNING] Note: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-cli ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/cli/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-cli ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/cli/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/cli/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/cli/target/tmp/conf
     [copy] Copying 4 files to /data/hive-ptest/working/apache-svn-trunk-source/cli/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-cli ---
[INFO] Compiling 4 source files to /data/hive-ptest/working/apache-svn-trunk-source/cli/target/test-classes
[WARNING] Note: /data/hive-ptest/working/apache-svn-trunk-source/cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java uses unchecked or unsafe operations.
[WARNING] Note: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-cli ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-cli ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/cli/target/hive-cli-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-cli ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/cli/target/hive-cli-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-cli/0.13.0-SNAPSHOT/hive-cli-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/cli/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-cli/0.13.0-SNAPSHOT/hive-cli-0.13.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Contrib 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-contrib ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/contrib (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-contrib ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/contrib/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-contrib ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-contrib ---
[INFO] Compiling 39 source files to /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/classes
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[WARNING] Note: /data/hive-ptest/working/apache-svn-trunk-source/contrib/src/java/org/apache/hadoop/hive/contrib/udf/example/UDFExampleStructPrint.java uses unchecked or unsafe operations.
[WARNING] Note: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-contrib ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/contrib/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-contrib ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/tmp/conf
     [copy] Copying 4 files to /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-contrib ---
[INFO] Compiling 2 source files to /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/test-classes
[WARNING] Note: /data/hive-ptest/working/apache-svn-trunk-source/contrib/src/test/org/apache/hadoop/hive/contrib/serde2/TestRegexSerDe.java uses or overrides a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-contrib ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-contrib ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/hive-contrib-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-contrib ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/contrib/target/hive-contrib-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-contrib/0.13.0-SNAPSHOT/hive-contrib-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/contrib/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-contrib/0.13.0-SNAPSHOT/hive-contrib-0.13.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive HBase Handler 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-hbase-handler ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-hbase-handler ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-hbase-handler ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-hbase-handler ---
[INFO] Compiling 17 source files to /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/target/classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 2 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStatsAggregator.java:[42,8] org.apache.hadoop.hive.hbase.HBaseStatsAggregator is not abstract and does not override abstract method connect(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hive.ql.exec.Task) in org.apache.hadoop.hive.ql.stats.StatsAggregator
[INFO] 1 error
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive .............................................. SUCCESS [4.806s]
[INFO] Hive Ant Utilities ................................ SUCCESS [6.635s]
[INFO] Hive Shims Common ................................. SUCCESS [3.327s]
[INFO] Hive Shims 0.20 ................................... SUCCESS [2.429s]
[INFO] Hive Shims Secure Common .......................... SUCCESS [2.711s]
[INFO] Hive Shims 0.20S .................................. SUCCESS [1.370s]
[INFO] Hive Shims 0.23 ................................... SUCCESS [3.017s]
[INFO] Hive Shims ........................................ SUCCESS [4.024s]
[INFO] Hive Common ....................................... SUCCESS [5.472s]
[INFO] Hive Serde ........................................ SUCCESS [12.009s]
[INFO] Hive Metastore .................................... SUCCESS [26.247s]
[INFO] Hive Query Language ............................... SUCCESS [1:00.679s]
[INFO] Hive Service ...................................... SUCCESS [4.591s]
[INFO] Hive JDBC ......................................... SUCCESS [1.866s]
[INFO] Hive Beeline ...................................... SUCCESS [0.979s]
[INFO] Hive CLI .......................................... SUCCESS [1.903s]
[INFO] Hive Contrib ...................................... SUCCESS [0.958s]
[INFO] Hive HBase Handler ................................ FAILURE [1.576s]
[INFO] Hive HCatalog ..................................... SKIPPED
[INFO] Hive HCatalog Core ................................ SKIPPED
[INFO] Hive HCatalog Pig Adapter ......................... SKIPPED
[INFO] Hive HCatalog Server Extensions ................... SKIPPED
[INFO] Hive HCatalog Webhcat Java Client ................. SKIPPED
[INFO] Hive HCatalog Webhcat ............................. SKIPPED
[INFO] Hive HCatalog HBase Storage Handler ............... SKIPPED
[INFO] Hive HWI .......................................... SKIPPED
[INFO] Hive ODBC ......................................... SKIPPED
[INFO] Hive Shims Aggregator ............................. SKIPPED
[INFO] Hive TestUtils .................................... SKIPPED
[INFO] Hive Packaging .................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 2:27.520s
[INFO] Finished at: Mon Dec 09 04:20:14 EST 2013
[INFO] Final Memory: 68M/506M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hive-hbase-handler: Compilation failure
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/hbase-handler/src/java/org/apache/hadoop/hive/hbase/HBaseStatsAggregator.java:[42,8] org.apache.hadoop.hive.hbase.HBaseStatsAggregator is not abstract and does not override abstract method connect(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hive.ql.exec.Task) in org.apache.hadoop.hive.ql.stats.StatsAggregator
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-hbase-handler
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617792&lt;/p&gt;</comment>
                            <comment id="13843857" author="hiveqa" created="Tue, 10 Dec 2013 02:28:20 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617941/HIVE-5936.7.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617941/HIVE-5936.7.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/587/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/587/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/587/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/587/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[INFO] Hive Integration - Test Serde
[INFO] Hive Integration - QFile Tests
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Parent 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/target/tmp/conf
     [copy] Copying 4 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-it ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-it/0.13.0-SNAPSHOT/hive-it-0.13.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Custom Serde 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-custom-serde ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-it-custom-serde ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-custom-serde ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-custom-serde ---
[INFO] Compiling 8 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-it-custom-serde ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it-custom-serde ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/tmp/conf
     [copy] Copying 4 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-it-custom-serde ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-it-custom-serde ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-it-custom-serde ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/hive-it-custom-serde-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-it-custom-serde ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/hive-it-custom-serde-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-it-custom-serde/0.13.0-SNAPSHOT/hive-it-custom-serde-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-it-custom-serde/0.13.0-SNAPSHOT/hive-it-custom-serde-0.13.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - HCatalog Unit Tests 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-hcatalog-it-unit ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-hcatalog-it-unit ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-hcatalog-it-unit ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-hcatalog-it-unit ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-hcatalog-it-unit ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-hcatalog-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp/conf
     [copy] Copying 4 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-hcatalog-it-unit ---
[INFO] Compiling 7 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/test-classes
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-hcatalog-it-unit ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-hcatalog-it-unit ---
[WARNING] JAR will be empty - no content was marked for inclusion!
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-jar-plugin:2.2:test-jar (default) @ hive-hcatalog-it-unit ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-hcatalog-it-unit ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.pom
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Testing Utilities 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-util ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/util (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-it-util ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-util ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-util ---
[INFO] Compiling 41 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 2 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/java/org/apache/hadoop/hive/ql/stats/KeyVerifyingStatsAggregator.java:[31,8] org.apache.hadoop.hive.ql.stats.KeyVerifyingStatsAggregator is not abstract and does not override abstract method connect(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hive.ql.exec.Task) in org.apache.hadoop.hive.ql.stats.StatsAggregator
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/java/org/apache/hadoop/hive/ql/stats/DummyStatsAggregator.java:[31,8] org.apache.hadoop.hive.ql.stats.DummyStatsAggregator is not abstract and does not override abstract method connect(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hive.ql.exec.Task) in org.apache.hadoop.hive.ql.stats.StatsAggregator
[INFO] 2 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive Integration - Parent ......................... SUCCESS [3.689s]
[INFO] Hive Integration - Custom Serde ................... SUCCESS [8.677s]
[INFO] Hive Integration - HCatalog Unit Tests ............ SUCCESS [5.015s]
[INFO] Hive Integration - Testing Utilities .............. FAILURE [3.372s]
[INFO] Hive Integration - Unit Tests ..................... SKIPPED
[INFO] Hive Integration - Test Serde ..................... SKIPPED
[INFO] Hive Integration - QFile Tests .................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 22.338s
[INFO] Finished at: Mon Dec 09 21:28:18 EST 2013
[INFO] Final Memory: 27M/82M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hive-it-util: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/java/org/apache/hadoop/hive/ql/stats/KeyVerifyingStatsAggregator.java:[31,8] org.apache.hadoop.hive.ql.stats.KeyVerifyingStatsAggregator is not abstract and does not override abstract method connect(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hive.ql.exec.Task) in org.apache.hadoop.hive.ql.stats.StatsAggregator
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/java/org/apache/hadoop/hive/ql/stats/DummyStatsAggregator.java:[31,8] org.apache.hadoop.hive.ql.stats.DummyStatsAggregator is not abstract and does not override abstract method connect(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hive.ql.exec.Task) in org.apache.hadoop.hive.ql.stats.StatsAggregator
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-it-util
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617941&lt;/p&gt;</comment>
                            <comment id="13843876" author="ashutoshc" created="Tue, 10 Dec 2013 02:56:41 +0000"  >&lt;p&gt;Patch looks good. Left some comments on RB.&lt;/p&gt;</comment>
                            <comment id="13843987" author="navis" created="Tue, 10 Dec 2013 06:02:23 +0000"  >&lt;p&gt;Addressed comments&lt;/p&gt;</comment>
                            <comment id="13843991" author="ashutoshc" created="Tue, 10 Dec 2013 06:10:59 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13844094" author="hiveqa" created="Tue, 10 Dec 2013 08:47:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617992/HIVE-5936.8.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617992/HIVE-5936.8.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/595/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/595/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/595/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/595/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[INFO] Hive Integration - Test Serde
[INFO] Hive Integration - QFile Tests
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Parent 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/target/tmp/conf
     [copy] Copying 4 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-it ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-it/0.13.0-SNAPSHOT/hive-it-0.13.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Custom Serde 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-custom-serde ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-it-custom-serde ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-custom-serde ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-custom-serde ---
[INFO] Compiling 8 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-it-custom-serde ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it-custom-serde ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/tmp/conf
     [copy] Copying 4 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-it-custom-serde ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-it-custom-serde ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-it-custom-serde ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/hive-it-custom-serde-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-it-custom-serde ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/hive-it-custom-serde-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-it-custom-serde/0.13.0-SNAPSHOT/hive-it-custom-serde-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-it-custom-serde/0.13.0-SNAPSHOT/hive-it-custom-serde-0.13.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - HCatalog Unit Tests 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-hcatalog-it-unit ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-hcatalog-it-unit ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-hcatalog-it-unit ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-hcatalog-it-unit ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-hcatalog-it-unit ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-hcatalog-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp/conf
     [copy] Copying 4 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-hcatalog-it-unit ---
[INFO] Compiling 7 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/test-classes
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-hcatalog-it-unit ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-hcatalog-it-unit ---
[WARNING] JAR will be empty - no content was marked for inclusion!
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-jar-plugin:2.2:test-jar (default) @ hive-hcatalog-it-unit ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-hcatalog-it-unit ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.pom
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Testing Utilities 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-util ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/util (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-it-util ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-util ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-util ---
[INFO] Compiling 41 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 2 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/java/org/apache/hadoop/hive/ql/stats/KeyVerifyingStatsAggregator.java:[31,8] org.apache.hadoop.hive.ql.stats.KeyVerifyingStatsAggregator is not abstract and does not override abstract method connect(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hive.ql.exec.Task) in org.apache.hadoop.hive.ql.stats.StatsAggregator
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/java/org/apache/hadoop/hive/ql/stats/DummyStatsAggregator.java:[31,8] org.apache.hadoop.hive.ql.stats.DummyStatsAggregator is not abstract and does not override abstract method connect(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hive.ql.exec.Task) in org.apache.hadoop.hive.ql.stats.StatsAggregator
[INFO] 2 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive Integration - Parent ......................... SUCCESS [4.320s]
[INFO] Hive Integration - Custom Serde ................... SUCCESS [11.000s]
[INFO] Hive Integration - HCatalog Unit Tests ............ SUCCESS [6.159s]
[INFO] Hive Integration - Testing Utilities .............. FAILURE [3.449s]
[INFO] Hive Integration - Unit Tests ..................... SKIPPED
[INFO] Hive Integration - Test Serde ..................... SKIPPED
[INFO] Hive Integration - QFile Tests .................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 26.701s
[INFO] Finished at: Tue Dec 10 03:47:12 EST 2013
[INFO] Final Memory: 27M/82M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hive-it-util: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/java/org/apache/hadoop/hive/ql/stats/KeyVerifyingStatsAggregator.java:[31,8] org.apache.hadoop.hive.ql.stats.KeyVerifyingStatsAggregator is not abstract and does not override abstract method connect(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hive.ql.exec.Task) in org.apache.hadoop.hive.ql.stats.StatsAggregator
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/java/org/apache/hadoop/hive/ql/stats/DummyStatsAggregator.java:[31,8] org.apache.hadoop.hive.ql.stats.DummyStatsAggregator is not abstract and does not override abstract method connect(org.apache.hadoop.conf.Configuration,org.apache.hadoop.hive.ql.exec.Task) in org.apache.hadoop.hive.ql.stats.StatsAggregator
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-it-util
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617992&lt;/p&gt;</comment>
                            <comment id="13845112" author="ashutoshc" created="Wed, 11 Dec 2013 05:58:30 +0000"  >&lt;p&gt;Marking Patch Available to get Hive QA run.&lt;/p&gt;</comment>
                            <comment id="13845307" author="hiveqa" created="Wed, 11 Dec 2013 11:07:54 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12618158/HIVE-5936.9.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12618158/HIVE-5936.9.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 4762 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_aggregator_error_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_publisher_error_1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_stats_aggregator_error_1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_stats_aggregator_error_2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_stats_publisher_error_2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/612/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/612/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/612/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/612/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12618158&lt;/p&gt;</comment>
                            <comment id="13846004" author="navis" created="Thu, 12 Dec 2013 02:16:49 +0000"  >&lt;p&gt;Fixed error message&lt;/p&gt;</comment>
                            <comment id="13846122" author="hiveqa" created="Thu, 12 Dec 2013 07:40:22 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12618345/HIVE-5936.10.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12618345/HIVE-5936.10.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4763 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/620/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/620/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/620/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/620/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12618345&lt;/p&gt;</comment>
                            <comment id="13848768" author="hiveqa" created="Mon, 16 Dec 2013 02:39:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12618835/HIVE-5936.11.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12618835/HIVE-5936.11.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4785 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/643/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/643/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/643/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/643/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12618835&lt;/p&gt;</comment>
                            <comment id="13850824" author="ashutoshc" created="Tue, 17 Dec 2013 19:49:31 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12682245">HIVE-5916</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12616925" name="HIVE-5936.1.patch.txt" size="3045" author="navis" created="Wed, 4 Dec 2013 02:09:09 +0000"/>
                            <attachment id="12618345" name="HIVE-5936.10.patch.txt" size="71479" author="navis" created="Thu, 12 Dec 2013 02:16:49 +0000"/>
                            <attachment id="12618835" name="HIVE-5936.11.patch.txt" size="75367" author="navis" created="Mon, 16 Dec 2013 01:25:16 +0000"/>
                            <attachment id="12616941" name="HIVE-5936.2.patch.txt" size="17584" author="navis" created="Wed, 4 Dec 2013 05:30:18 +0000"/>
                            <attachment id="12617108" name="HIVE-5936.3.patch.txt" size="29156" author="navis" created="Thu, 5 Dec 2013 03:38:07 +0000"/>
                            <attachment id="12617111" name="HIVE-5936.4.patch.txt" size="31254" author="navis" created="Thu, 5 Dec 2013 05:05:16 +0000"/>
                            <attachment id="12617780" name="HIVE-5936.5.patch.txt" size="55017" author="navis" created="Mon, 9 Dec 2013 05:27:21 +0000"/>
                            <attachment id="12617792" name="HIVE-5936.6.patch.txt" size="63327" author="navis" created="Mon, 9 Dec 2013 07:46:30 +0000"/>
                            <attachment id="12617941" name="HIVE-5936.7.patch.txt" size="64309" author="navis" created="Tue, 10 Dec 2013 00:33:13 +0000"/>
                            <attachment id="12617992" name="HIVE-5936.8.patch.txt" size="64140" author="navis" created="Tue, 10 Dec 2013 06:02:23 +0000"/>
                            <attachment id="12618158" name="HIVE-5936.9.patch.txt" size="66156" author="navis" created="Wed, 11 Dec 2013 01:50:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Dec 2013 01:44:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361840</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qdg7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362137</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5937] vectorization support for decimal</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5937</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Vectorization should support decimal.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682585">HIVE-5937</key>
            <summary>vectorization support for decimal</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 00:59:25 +0000</created>
                <updated>Wed, 4 Dec 2013 17:34:23 +0000</updated>
                            <resolved>Wed, 4 Dec 2013 17:34:23 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13838431" author="sershe" created="Wed, 4 Dec 2013 01:04:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jnp&quot; class=&quot;user-hover&quot; rel=&quot;jnp&quot;&gt;Jitendra Nath Pandey&lt;/a&gt; fyi&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                            <outwardlinks description="contains">
                                        <issuelink>
            <issuekey id="12682264">HIVE-5918</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12677832">HIVE-5762</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361842</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qdgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362139</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5938] Remove apache.mina dependency for test</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5938</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;apache.mina dependency is introduced just for using IdentityHashSet in TestSearchArgumentImpl. But it&apos;s in guava, which is already in use.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682594">HIVE-5938</key>
            <summary>Remove apache.mina dependency for test</summary>
                <type id="5" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Wish</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 01:55:24 +0000</created>
                <updated>Wed, 4 Dec 2013 15:39:07 +0000</updated>
                            <resolved>Wed, 4 Dec 2013 15:39:07 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13838622" author="hiveqa" created="Wed, 4 Dec 2013 05:42:27 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12616919/HIVE-5938.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12616919/HIVE-5938.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 4455 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_udf
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/508/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/508/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/508/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/508/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12616919&lt;/p&gt;</comment>
                            <comment id="13838668" author="ashutoshc" created="Wed, 4 Dec 2013 06:51:00 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13838938" author="brocknoland" created="Wed, 4 Dec 2013 14:43:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13838942" author="brocknoland" created="Wed, 4 Dec 2013 14:47:36 +0000"  >&lt;p&gt;Sorry, didn&apos;t see Ashutosh&apos;s comment.&lt;/p&gt;</comment>
                            <comment id="13838995" author="ashutoshc" created="Wed, 4 Dec 2013 15:39:07 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12616919" name="HIVE-5938.1.patch.txt" size="5049" author="navis" created="Wed, 4 Dec 2013 01:56:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Dec 2013 05:42:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361851</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qdi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362146</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5939] HCatalog hadoop-2 execution environment needs to be addressed.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5939</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5755&quot; title=&quot;Fix hadoop2 execution environment Milestone 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5755&quot;&gt;&lt;del&gt;HIVE-5755&lt;/del&gt;&lt;/a&gt;, we need to fix hcatalog&apos;s build to work with hadoop-2.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682598">HIVE-5939</key>
            <summary>HCatalog hadoop-2 execution environment needs to be addressed.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 02:38:10 +0000</created>
                <updated>Wed, 4 Dec 2013 19:50:28 +0000</updated>
                            <resolved>Wed, 4 Dec 2013 19:50:28 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13838533" author="vikram.dixit" created="Wed, 4 Dec 2013 02:46:05 +0000"  >&lt;p&gt;Ran the tests with -Phadoop-2.&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------&lt;br/&gt;
 T E S T S&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Running org.apache.hcatalog.mapreduce.TestHCatHiveCompatibility&lt;br/&gt;
2013-12-03 18:40:17.609 java&lt;span class=&quot;error&quot;&gt;&amp;#91;26672:1903&amp;#93;&lt;/span&gt; Unable to load realm info from SCDynamicStore&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 33.329 sec - in org.apache.hcatalog.mapreduce.TestHCatHiveCompatibility&lt;br/&gt;
Running org.apache.hcatalog.mapreduce.TestHCatHiveThriftCompatibility&lt;br/&gt;
2013-12-03 18:40:50.860 java&lt;span class=&quot;error&quot;&gt;&amp;#91;26737:1903&amp;#93;&lt;/span&gt; Unable to load realm info from SCDynamicStore&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 13.056 sec - in org.apache.hcatalog.mapreduce.TestHCatHiveThriftCompatibility&lt;br/&gt;
Running org.apache.hcatalog.mapreduce.TestSequenceFileReadWrite&lt;br/&gt;
2013-12-03 18:41:00.992 java&lt;span class=&quot;error&quot;&gt;&amp;#91;26757:1903&amp;#93;&lt;/span&gt; Unable to load realm info from SCDynamicStore&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 45.214 sec - in org.apache.hcatalog.mapreduce.TestSequenceFileReadWrite&lt;br/&gt;
Running org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler&lt;br/&gt;
2013-12-03 18:41:46.608 java&lt;span class=&quot;error&quot;&gt;&amp;#91;26874:1903&amp;#93;&lt;/span&gt; Unable to load realm info from SCDynamicStore&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 49.318 sec - in org.apache.hive.hcatalog.hbase.TestPigHBaseStorageHandler&lt;br/&gt;
Running org.apache.hive.hcatalog.mapreduce.TestHCatHiveCompatibility&lt;br/&gt;
2013-12-03 18:42:40.068 java&lt;span class=&quot;error&quot;&gt;&amp;#91;26972:1903&amp;#93;&lt;/span&gt; Unable to load realm info from SCDynamicStore&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 32.083 sec - in org.apache.hive.hcatalog.mapreduce.TestHCatHiveCompatibility&lt;br/&gt;
Running org.apache.hive.hcatalog.mapreduce.TestHCatHiveThriftCompatibility&lt;br/&gt;
2013-12-03 18:43:12.733 java&lt;span class=&quot;error&quot;&gt;&amp;#91;27036:1903&amp;#93;&lt;/span&gt; Unable to load realm info from SCDynamicStore&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 13.297 sec - in org.apache.hive.hcatalog.mapreduce.TestHCatHiveThriftCompatibility&lt;br/&gt;
Running org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite&lt;br/&gt;
2013-12-03 18:43:23.818 java&lt;span class=&quot;error&quot;&gt;&amp;#91;27056:1903&amp;#93;&lt;/span&gt; Unable to load realm info from SCDynamicStore&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 45.956 sec - in org.apache.hive.hcatalog.mapreduce.TestSequenceFileReadWrite&lt;/p&gt;</comment>
                            <comment id="13838541" author="brocknoland" created="Wed, 4 Dec 2013 02:54:53 +0000"  >&lt;p&gt;Aren&apos;t some of these fixes in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5897&quot; title=&quot;Fix hadoop2 execution environment Milestone 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5897&quot;&gt;&lt;del&gt;HIVE-5897&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13838557" author="vikram.dixit" created="Wed, 4 Dec 2013 03:11:22 +0000"  >&lt;p&gt;Ah! yes. I missed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5897&quot; title=&quot;Fix hadoop2 execution environment Milestone 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5897&quot;&gt;&lt;del&gt;HIVE-5897&lt;/del&gt;&lt;/a&gt; thinking of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5894&quot; title=&quot;Fix minor PTest2 issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5894&quot;&gt;&lt;del&gt;HIVE-5894&lt;/del&gt;&lt;/a&gt;. Some of the required changes are there. Do you want to add some of these there or should I provide an incremental patch here considering that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5897&quot; title=&quot;Fix hadoop2 execution environment Milestone 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5897&quot;&gt;&lt;del&gt;HIVE-5897&lt;/del&gt;&lt;/a&gt; is ready to go in? I don&apos;t think &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5897&quot; title=&quot;Fix hadoop2 execution environment Milestone 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5897&quot;&gt;&lt;del&gt;HIVE-5897&lt;/del&gt;&lt;/a&gt; is sufficient by itself. It needs the changes in this jira as well. Let me know.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13838712" author="hiveqa" created="Wed, 4 Dec 2013 08:10:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12616930/HIVE-5939.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12616930/HIVE-5939.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4455 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_udf
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/512/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/512/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/512/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/512/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12616930&lt;/p&gt;</comment>
                            <comment id="13838945" author="brocknoland" created="Wed, 4 Dec 2013 14:49:03 +0000"  >&lt;p&gt;I think we should should add them to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5897&quot; title=&quot;Fix hadoop2 execution environment Milestone 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5897&quot;&gt;&lt;del&gt;HIVE-5897&lt;/del&gt;&lt;/a&gt;. Do you want to assign &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5897&quot; title=&quot;Fix hadoop2 execution environment Milestone 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5897&quot;&gt;&lt;del&gt;HIVE-5897&lt;/del&gt;&lt;/a&gt; to yourself and then add the items added here? Then we can mark this one resolved as duplicate.&lt;/p&gt;</comment>
                            <comment id="13839269" author="vikram.dixit" created="Wed, 4 Dec 2013 19:50:28 +0000"  >&lt;p&gt;Adding all these changes to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5897&quot; title=&quot;Fix hadoop2 execution environment Milestone 2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5897&quot;&gt;&lt;del&gt;HIVE-5897&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12681412">HIVE-5897</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12616930" name="HIVE-5939.1.patch" size="7738" author="vikram.dixit" created="Wed, 4 Dec 2013 02:46:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Dec 2013 02:54:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361855</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qdj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362150</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5940] SQL std auth - support,authorize new &apos;show grant..&apos; statements</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5940</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SHOW GRANTS statement -&lt;br/&gt;
It will give a list of objects, privileges, and who granted the grantee rights on that object&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;When used by a user who does not participate in the SUPERUSER role, it can be&lt;br/&gt;
used in three ways
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;SHOW GRANTS&#894; This will show all grants effective for the current user or&lt;br/&gt;
roles, whichever is currently determining the user&#8217;s privileges.&lt;/li&gt;
		&lt;li&gt;SHOW GRANTS FOR role&#894; This will show grants effective for a given&lt;br/&gt;
role. The user must participate in that role, otherwise permission will be&lt;br/&gt;
denied.&lt;/li&gt;
		&lt;li&gt;SHOW GRANTS FOR user&#894; where user is the username of the current&lt;br/&gt;
user. This will show grants effective for the user. Attempts to list grants&lt;br/&gt;
effective for other users will be denied.&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;When used by a user who does participate in the SUPERUSER role, it can be&lt;br/&gt;
used in three ways:
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;SHOW GRANTS&#894; As in the previous section.&lt;/li&gt;
		&lt;li&gt;SHOW GRANTS FOR role&#894; This will show grants effective for a given&lt;br/&gt;
role. Any role, regardless of whether the current user participates in it,&lt;br/&gt;
can be shown.&lt;/li&gt;
		&lt;li&gt;SHOW GRANTS FOR user&#894; where user is a valid username. This will&lt;br/&gt;
show grants effective for that user. Any user, regardless of whether it is&lt;br/&gt;
the current user, can be shown&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Task includes authorization of the statement.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682600">HIVE-5940</key>
            <summary>SQL std auth - support,authorize new &apos;show grant..&apos; statements</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="11">Done</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 02:47:15 +0000</created>
                <updated>Mon, 15 Sep 2014 17:24:45 +0000</updated>
                            <resolved>Mon, 15 Sep 2014 17:24:45 +0000</resolved>
                                                                    <component>Authorization</component>
                    <component>SQLStandardAuthorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <timeoriginalestimate seconds="129600">36h</timeoriginalestimate>
                            <timeestimate seconds="129600">36h</timeestimate>
                                        <comments>
                            <comment id="13838537" author="thejas" created="Wed, 4 Dec 2013 02:48:45 +0000"  >&lt;p&gt;Comments/questions -&lt;br/&gt;
1. I think we should support an optional keyword - USER/ROLE . In case&lt;br/&gt;
there is both user and role that matches the identifier.&lt;br/&gt;
2. Should the show-grant statement show grants the user/role gets&lt;br/&gt;
through the roles it belongs to ?&lt;/p&gt;</comment>
                            <comment id="13838565" author="thejas" created="Wed, 4 Dec 2013 03:34:00 +0000"  >&lt;p&gt;As this is not a SQL standard statement, I propose that we make the keyword USER/ROLE compulsory in this statement.&lt;/p&gt;</comment>
                            <comment id="14134152" author="thejas" created="Mon, 15 Sep 2014 17:24:30 +0000"  >&lt;p&gt;The functionality has been implemented through &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6122&quot; title=&quot;Implement show grant on &amp;lt;resource&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6122&quot;&gt;&lt;del&gt;HIVE-6122&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7294&quot; title=&quot;sql std auth - authorize show grant statements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7294&quot;&gt;&lt;del&gt;HIVE-7294&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12682299">HIVE-5923</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12682525">HIVE-5933</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12723753">HIVE-7294</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12686723">HIVE-6122</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361857</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qdjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362152</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5941] SQL std auth - support &apos;show roles&apos;</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5941</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SHOW ROLES - This will list all&lt;br/&gt;
currently existing roles. &lt;br/&gt;
This task includes parser changes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682602">HIVE-5941</key>
            <summary>SQL std auth - support &apos;show roles&apos;</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 03:01:18 +0000</created>
                <updated>Mon, 27 Jan 2014 23:33:21 +0000</updated>
                            <resolved>Wed, 15 Jan 2014 01:00:42 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="86400">24h</timespent>
                                <comments>
                            <comment id="13841880" author="thejas" created="Fri, 6 Dec 2013 23:26:00 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I believe your internal patch &quot;NHIVE-22 implement show roles&quot; must be doing the same as what is described in this jira. Will you able able to contribute that ?&lt;/p&gt;
</comment>
                            <comment id="13842931" author="navis" created="Mon, 9 Dec 2013 06:22:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Sure. I&apos;ve rebased it on trunk and found it&apos;s dependent to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5414&quot; title=&quot;The result of show grant is not visible via JDBC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5414&quot;&gt;&lt;del&gt;HIVE-5414&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5598&quot; title=&quot;Remove dummy new line at the end of non-sql commands&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5598&quot;&gt;&lt;del&gt;HIVE-5598&lt;/del&gt;&lt;/a&gt;. I&apos;ll handle those first.&lt;/p&gt;</comment>
                            <comment id="13857106" author="thejas" created="Thu, 26 Dec 2013 21:52:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I have added some minor comments to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5414&quot; title=&quot;The result of show grant is not visible via JDBC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5414&quot;&gt;&lt;del&gt;HIVE-5414&lt;/del&gt;&lt;/a&gt;, will you be able to address those , so that we can get your changes for &apos;show all roles&apos; in ?&lt;/p&gt;</comment>
                            <comment id="13858578" author="navis" created="Mon, 30 Dec 2013 05:54:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Updated &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5414&quot; title=&quot;The result of show grant is not visible via JDBC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5414&quot;&gt;&lt;del&gt;HIVE-5414&lt;/del&gt;&lt;/a&gt;. Sorry for long delay.&lt;/p&gt;</comment>
                            <comment id="13860011" author="navis" created="Thu, 2 Jan 2014 04:14:25 +0000"  >&lt;p&gt;Running preliminary test&lt;/p&gt;</comment>
                            <comment id="13860265" author="brocknoland" created="Thu, 2 Jan 2014 15:27:47 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;((FSDataOutputStream) outStream).close();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;?&lt;/p&gt;</comment>
                            <comment id="13860417" author="brocknoland" created="Thu, 2 Jan 2014 18:04:58 +0000"  >&lt;p&gt;Looks like that weird cast comes from code above.&lt;/p&gt;</comment>
                            <comment id="13860856" author="thejas" created="Thu, 2 Jan 2014 22:11:28 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; outStream.writeBytes(&lt;span class=&quot;code-quote&quot;&gt;&quot;role name: &quot;&lt;/span&gt; + roleName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think we should skip the &quot;role name:&quot; part in output. Can you also please create a reviewboard link ?&lt;/p&gt;</comment>
                            <comment id="13861412" author="hiveqa" created="Fri, 3 Jan 2014 10:41:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12621029/HIVE-5941.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12621029/HIVE-5941.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4874 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/789/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/789/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/789/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/789/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12621029&lt;/p&gt;</comment>
                            <comment id="13862699" author="navis" created="Mon, 6 Jan 2014 01:10:18 +0000"  >&lt;p&gt;Rebased to trunk&lt;/p&gt;</comment>
                            <comment id="13862734" author="hiveqa" created="Mon, 6 Jan 2014 02:59:32 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12621544/HIVE-5941.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12621544/HIVE-5941.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4876 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/807/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/807/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/807/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/807/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12621544&lt;/p&gt;</comment>
                            <comment id="13862829" author="thejas" created="Mon, 6 Jan 2014 07:50:22 +0000"  >&lt;p&gt;Looks good. I have updated the reviewboard with some minor comments.&lt;/p&gt;</comment>
                            <comment id="13869318" author="hiveqa" created="Mon, 13 Jan 2014 06:28:18 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12622565/HIVE-5941.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12622565/HIVE-5941.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4918 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_roles
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/875/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/875/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/875/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/875/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12622565&lt;/p&gt;</comment>
                            <comment id="13869647" author="hiveqa" created="Mon, 13 Jan 2014 16:09:01 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12622598/HIVE-5941.5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12622598/HIVE-5941.5.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4918 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/883/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/883/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/883/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/883/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12622598&lt;/p&gt;</comment>
                            <comment id="13870363" author="thejas" created="Tue, 14 Jan 2014 04:03:24 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13870480" author="lefty@hortonworks.com" created="Tue, 14 Jan 2014 07:32:26 +0000"  >&lt;p&gt;Please use a release note to document SHOW ALL ROLES so it can be added to the wiki when the time comes (like for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5923&quot; title=&quot;SQL std auth - parser changes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5923&quot;&gt;&lt;del&gt;HIVE-5923&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="13871446" author="thejas" created="Wed, 15 Jan 2014 00:54:03 +0000"  >&lt;p&gt;Created a jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6184&quot; title=&quot;Bug in SessionManager.stop() in HiveServer2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6184&quot;&gt;&lt;del&gt;HIVE-6184&lt;/del&gt;&lt;/a&gt; to authorize this call.&lt;/p&gt;</comment>
                            <comment id="13871451" author="thejas" created="Wed, 15 Jan 2014 01:00:42 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks for the contribution Navis!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12682524">HIVE-5932</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12671699">HIVE-5414</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12688900">HIVE-6199</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12620806" name="HIVE-5941.1.patch.txt" size="13563" author="navis" created="Mon, 30 Dec 2013 06:17:51 +0000"/>
                            <attachment id="12621029" name="HIVE-5941.2.patch.txt" size="12927" author="navis" created="Thu, 2 Jan 2014 04:14:00 +0000"/>
                            <attachment id="12621544" name="HIVE-5941.3.patch.txt" size="12963" author="navis" created="Mon, 6 Jan 2014 01:10:18 +0000"/>
                            <attachment id="12622565" name="HIVE-5941.4.patch.txt" size="18599" author="navis" created="Mon, 13 Jan 2014 01:40:41 +0000"/>
                            <attachment id="12622598" name="HIVE-5941.5.patch.txt" size="18577" author="navis" created="Mon, 13 Jan 2014 08:50:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Dec 2013 06:22:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361859</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qdjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362154</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This jira adds support for &amp;quot;show roles&amp;quot; statement, it list all existing roles.&lt;br/&gt;
&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5942] SQL std auth - support DESCRIBE ROLE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5942</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;DESCRIBE ROLE role must be supported. This will list&lt;br/&gt;
all users and roles that participate in a role. This will be available to the superuser and any member of the role that has admin privileges on the role.&lt;br/&gt;
This task includes parser changes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682603">HIVE-5942</key>
            <summary>SQL std auth - support DESCRIBE ROLE</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 03:18:17 +0000</created>
                <updated>Sun, 23 Mar 2014 17:45:51 +0000</updated>
                            <resolved>Thu, 13 Mar 2014 07:51:54 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13932958" author="thejas" created="Thu, 13 Mar 2014 07:51:54 +0000"  >&lt;p&gt;Changes already committed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5931&quot; title=&quot;SQL std auth - add metastore get_principals_in_role api, support SHOW PRINCIPALS role_name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5931&quot;&gt;&lt;del&gt;HIVE-5931&lt;/del&gt;&lt;/a&gt; . Resolving as duplicate.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12682604">HIVE-5943</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12682299">HIVE-5923</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12682523">HIVE-5931</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12682523">HIVE-5931</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361860</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 45 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qdk7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362155</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5943] SQL std auth - authorize DESCRIBE ROLE role </title>
                <link>https://issues.apache.org/jira/browse/HIVE-5943</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Should be allowed only for user who belongs to the role or superuser.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682604">HIVE-5943</key>
            <summary>SQL std auth - authorize DESCRIBE ROLE role </summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 03:23:00 +0000</created>
                <updated>Sun, 23 Mar 2014 17:45:39 +0000</updated>
                            <resolved>Thu, 13 Mar 2014 07:52:54 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <timeoriginalestimate seconds="43200">12h</timeoriginalestimate>
                            <timeestimate seconds="43200">12h</timeestimate>
                                        <comments>
                            <comment id="13932959" author="thejas" created="Thu, 13 Mar 2014 07:52:44 +0000"  >&lt;p&gt;Changes already committed as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5931&quot; title=&quot;SQL std auth - add metastore get_principals_in_role api, support SHOW PRINCIPALS role_name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5931&quot;&gt;&lt;del&gt;HIVE-5931&lt;/del&gt;&lt;/a&gt; . Resolving as duplicate.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12682603">HIVE-5942</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12682523">HIVE-5931</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361861</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 45 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qdkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362156</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5944] SQL std auth - authorize show all roles, create role, drop role</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5944</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Only superuser should be allowed to perform show all roles, create role, drop role .&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682605">HIVE-5944</key>
            <summary>SQL std auth - authorize show all roles, create role, drop role</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 03:27:56 +0000</created>
                <updated>Wed, 12 Feb 2014 17:34:28 +0000</updated>
                            <resolved>Wed, 12 Feb 2014 17:34:28 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13885758" author="ashutoshc" created="Wed, 29 Jan 2014 20:24:25 +0000"  >&lt;p&gt;Patch which adds this functionality. This correctly results in failure of : &lt;tt&gt;authorization_1_sql_std.q&lt;/tt&gt; &amp;amp; &lt;tt&gt;authorization_role_grant1.q&lt;/tt&gt; since those tests currently create / drop / show roles without admin privs. To get those to pass, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5959&quot; title=&quot;SQL std auth - bootstrap SUPERUSER roles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5959&quot;&gt;&lt;del&gt;HIVE-5959&lt;/del&gt;&lt;/a&gt; is required.&lt;/p&gt;</comment>
                            <comment id="13897584" author="ashutoshc" created="Tue, 11 Feb 2014 06:54:30 +0000"  >&lt;p&gt;RB request : &lt;a href=&quot;https://reviews.apache.org/r/17939/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/17939/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13898113" author="ashutoshc" created="Tue, 11 Feb 2014 18:35:03 +0000"  >&lt;p&gt;Incorporated Mohammad &amp;amp; Thejas feedback.&lt;/p&gt;</comment>
                            <comment id="13898279" author="thejas" created="Tue, 11 Feb 2014 20:43:01 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13899204" author="hiveqa" created="Wed, 12 Feb 2014 15:50:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12628296/HIVE-5944.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12628296/HIVE-5944.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5089 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_merge
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1284/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1284/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1284/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1284/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12628296&lt;/p&gt;</comment>
                            <comment id="13899310" author="ashutoshc" created="Wed, 12 Feb 2014 17:34:28 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12682824">HIVE-5959</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12628156" name="HIVE-5944.1.patch" size="22867" author="ashutoshc" created="Tue, 11 Feb 2014 06:53:44 +0000"/>
                            <attachment id="12628280" name="HIVE-5944.2.patch" size="29685" author="ashutoshc" created="Tue, 11 Feb 2014 18:35:03 +0000"/>
                            <attachment id="12628296" name="HIVE-5944.3.patch" size="27796" author="ashutoshc" created="Tue, 11 Feb 2014 19:17:12 +0000"/>
                            <attachment id="12625954" name="HIVE-5944.patch" size="7520" author="ashutoshc" created="Wed, 29 Jan 2014 20:24:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 29 Jan 2014 20:24:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361862</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qdkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362157</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5945] ql.plan.ConditionalResolverCommonJoin.resolveMapJoinTask also sums those tables which are not used in the child of this conditional task.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5945</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Here is an example&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select
   i_item_id,
   s_state,
   avg(ss_quantity) agg1,
   avg(ss_list_price) agg2,
   avg(ss_coupon_amt) agg3,
   avg(ss_sales_price) agg4
FROM store_sales
JOIN date_dim on (store_sales.ss_sold_date_sk = date_dim.d_date_sk)
JOIN item on (store_sales.ss_item_sk = item.i_item_sk)
JOIN customer_demographics on (store_sales.ss_cdemo_sk = customer_demographics.cd_demo_sk)
JOIN store on (store_sales.ss_store_sk = store.s_store_sk)
where
   cd_gender = &lt;span class=&quot;code-quote&quot;&gt;&apos;F&apos;&lt;/span&gt; and
   cd_marital_status = &lt;span class=&quot;code-quote&quot;&gt;&apos;U&apos;&lt;/span&gt; and
   cd_education_status = &lt;span class=&quot;code-quote&quot;&gt;&apos;Primary&apos;&lt;/span&gt; and
   d_year = 2002 and
   s_state in (&lt;span class=&quot;code-quote&quot;&gt;&apos;GA&apos;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&apos;PA&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;LA&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;SC&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;MI&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;AL&apos;&lt;/span&gt;)
group by
   i_item_id,
   s_state
order by
   i_item_id,
   s_state
limit 100;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I turned off noconditionaltask. So, I expected that there will be 4 Map-only jobs for this query. However, I got 1 Map-only job (joining strore_sales and date_dim) and 3 MR job (for reduce joins.)&lt;/p&gt;

&lt;p&gt;So, I checked the conditional task determining the plan of the join involving item. In ql.plan.ConditionalResolverCommonJoin.resolveMapJoinTask, aliasToFileSizeMap contains all input tables used in this query and the intermediate table generated by joining store_sales and date_dim. So, when we sum the size of all small tables, the size of store_sales (which is around 45GB in my test) will be also counted.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12682703">HIVE-5945</key>
            <summary>ql.plan.ConditionalResolverCommonJoin.resolveMapJoinTask also sums those tables which are not used in the child of this conditional task.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 15:31:00 +0000</created>
                <updated>Thu, 16 Jan 2014 17:46:52 +0000</updated>
                            <resolved>Thu, 16 Jan 2014 17:46:29 +0000</resolved>
                                    <version>0.8.0</version>
                    <version>0.9.0</version>
                    <version>0.10.0</version>
                    <version>0.11.0</version>
                    <version>0.12.0</version>
                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13838991" author="yhuai" created="Wed, 4 Dec 2013 15:37:10 +0000"  >&lt;p&gt;aliasToFileSizeMap should have aliases used in the next stage instead of all tables. &lt;/p&gt;</comment>
                            <comment id="13839008" author="yhuai" created="Wed, 4 Dec 2013 15:49:02 +0000"  >&lt;p&gt;Seems this bug was introduced by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2095&quot; title=&quot;auto convert map join bug&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2095&quot;&gt;&lt;del&gt;HIVE-2095&lt;/del&gt;&lt;/a&gt;. I am marking all affected versions.&lt;/p&gt;</comment>
                            <comment id="13844912" author="navis" created="Wed, 11 Dec 2013 01:27:33 +0000"  >&lt;p&gt;Running test. &lt;/p&gt;

&lt;p&gt;I&apos;ve heard MapJoin is not working after upgrading 0.11.0. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4042&quot; title=&quot;ignore mapjoin hint&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4042&quot;&gt;&lt;del&gt;HIVE-4042&lt;/del&gt;&lt;/a&gt; (ignoring mapjoin hint) which is included 0.11.0 seemed revealed this issue.&lt;/p&gt;</comment>
                            <comment id="13844968" author="yhuai" created="Wed, 11 Dec 2013 01:58:26 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; for taking this issue. Can you attach the link to the review board? Also, I saw &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+                &lt;span class=&quot;code-comment&quot;&gt;// todo: should nullify summary &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; non-&lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt; tables,
&lt;/span&gt;+                &lt;span class=&quot;code-comment&quot;&gt;// not to be selected as a mapjoin target&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;in your patch. Does a &quot;non-native&quot; table mean an intermediate table? If so, I think for a conditional task, it&apos;s better to keep the option to use the intermediate table as the small table.&lt;/p&gt;</comment>
                            <comment id="13844980" author="navis" created="Wed, 11 Dec 2013 02:11:22 +0000"  >&lt;p&gt;&quot;non-native table&quot; is table based on custom storage handler something like HBaseStorageHandler. In this case input summary for the table directory always contains 0 file and 0 length, which might confuse mapjoin resolver to take the table small enough to be hashed.&lt;/p&gt;

&lt;p&gt;I&apos;ll make a review board entry.&lt;/p&gt;</comment>
                            <comment id="13845045" author="hiveqa" created="Wed, 11 Dec 2013 03:43:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12618153/HIVE-5945.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12618153/HIVE-5945.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 4761 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_infer_bucket_sort_convert_join
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_hook
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_scan_params
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/605/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/605/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/605/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/605/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12618153&lt;/p&gt;</comment>
                            <comment id="13845076" author="navis" created="Wed, 11 Dec 2013 05:13:20 +0000"  >&lt;p&gt;Fixed infer_bucket_sort_convert_join.q and mapjoin_hook, but cannot reproduce hbase_scan_params.q (it does not have any joins)&lt;/p&gt;</comment>
                            <comment id="13845262" author="hiveqa" created="Wed, 11 Dec 2013 10:15:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12618185/HIVE-5945.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12618185/HIVE-5945.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4761 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/611/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/611/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/611/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/611/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12618185&lt;/p&gt;</comment>
                            <comment id="13851260" author="yhuai" created="Wed, 18 Dec 2013 01:54:13 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I left a few comments on the review board. I think the conditional task in the original trunk is not well tested. With a .q test file, we cannot test if a conditional task picks the right execution plan because the result of a .q file only shows the plan and the result. I think it is necessary to add a junit test to unit test the decision of resolveMapJoinTask. Also, let&apos;s add some logs in resolveMapJoinTask. Right now, we only have &quot;xx is filtered out by condition resolver.&quot; and &quot;xx is selected by condition resolver.&quot; in ConditionalTask. Through these two logs, we cannot know why a execution plan is selected. In resolveMapJoinTask, we can first log the size of tables which will be used in next task and then log why a path is selected.&lt;/p&gt;</comment>
                            <comment id="13851459" author="hiveqa" created="Wed, 18 Dec 2013 07:15:01 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12619255/HIVE-5945.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12619255/HIVE-5945.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4762 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/682/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/682/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/682/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/682/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12619255&lt;/p&gt;</comment>
                            <comment id="13851756" author="yhuai" created="Wed, 18 Dec 2013 14:08:29 +0000"  >&lt;p&gt;Two minor comments in the review board.&lt;/p&gt;

&lt;p&gt;Two additional comments.&lt;br/&gt;
When we find &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;bigTableFileAlias != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;can we also log sumOfOthers and the threshold of the size of small tables? So, the log entry will show the size of the big table, the total size of other small tables, and the threshold of the size of small tables.&lt;br/&gt;
Also, can you add a unit test?&lt;/p&gt;

&lt;p&gt;Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13857297" author="hiveqa" created="Fri, 27 Dec 2013 04:23:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12620580/HIVE-5945.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12620580/HIVE-5945.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4817 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/747/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/747/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/747/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/747/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12620580&lt;/p&gt;</comment>
                            <comment id="13858495" author="navis" created="Mon, 30 Dec 2013 00:46:37 +0000"  >&lt;p&gt;Missed comments in here.&lt;/p&gt;</comment>
                            <comment id="13858568" author="hiveqa" created="Mon, 30 Dec 2013 05:25:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12620793/HIVE-5945.5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12620793/HIVE-5945.5.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4818 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/767/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/767/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/767/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/767/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12620793&lt;/p&gt;</comment>
                            <comment id="13859114" author="yhuai" created="Mon, 30 Dec 2013 21:52:27 +0000"  >&lt;p&gt;Thanks Navis &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I played with your patch and found a issue which I commented at the review board. I am also attaching more info at here. For the query in the description, we can have 4 map-joins. There will be 3 different intermediate tables called $INTNAME. The current patch does not update the size of $INTNAME.&lt;/p&gt;

&lt;p&gt;Here are logs.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;13/12/30 16:48:25 INFO ql.Driver: MapReduce Jobs Launched: 
Job 0: Map: 1   Cumulative CPU: 12.76 sec   HDFS Read: 388445624 HDFS Write: 20815654 SUCCESS
13/12/30 16:48:25 INFO ql.Driver: Job 0: Map: 1   Cumulative CPU: 12.76 sec   HDFS Read: 388445624 HDFS Write: 20815654 SUCCESS
Job 1: Map: 1   Cumulative CPU: 9.18 sec   HDFS Read: 20816111 HDFS Write: 28593993 SUCCESS
13/12/30 16:48:25 INFO ql.Driver: Job 1: Map: 1   Cumulative CPU: 9.18 sec   HDFS Read: 20816111 HDFS Write: 28593993 SUCCESS
Job 2: Map: 1   Cumulative CPU: 17.38 sec   HDFS Read: 80660331 HDFS Write: 378063 SUCCESS
13/12/30 16:48:25 INFO ql.Driver: Job 2: Map: 1   Cumulative CPU: 17.38 sec   HDFS Read: 80660331 HDFS Write: 378063 SUCCESS
Job 3: Map: 1   Cumulative CPU: 2.06 sec   HDFS Read: 378520 HDFS Write: 96 SUCCESS
13/12/30 16:48:25 INFO ql.Driver: Job 3: Map: 1   Cumulative CPU: 2.06 sec   HDFS Read: 378520 HDFS Write: 96 SUCCESS
Job 4: Map: 1  Reduce: 1   Cumulative CPU: 2.45 sec   HDFS Read: 553 HDFS Write: 96 SUCCESS
13/12/30 16:48:25 INFO ql.Driver: Job 4: Map: 1  Reduce: 1   Cumulative CPU: 2.45 sec   HDFS Read: 553 HDFS Write: 96 SUCCESS
Job 5: Map: 1  Reduce: 1   Cumulative CPU: 2.33 sec   HDFS Read: 553 HDFS Write: 0 SUCCESS
13/12/30 16:48:25 INFO ql.Driver: Job 5: Map: 1  Reduce: 1   Cumulative CPU: 2.33 sec   HDFS Read: 553 HDFS Write: 0 SUCCESS
Total MapReduce CPU Time Spent: 46 seconds 160 msec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Map-join1:
plan.ConditionalResolverCommonJoin: Driver alias is store_sales with size 388445409 (total size of others : 0, threshold : 25000000)
Stage-28 is selected by condition resolver.

Map-join2:
plan.ConditionalResolverCommonJoin: Driver alias is $INTNAME with size 20815654 (total size of others : 5051899, threshold : 25000000)
Stage-26 is selected by condition resolver.

Map-join3:
 plan.ConditionalResolverCommonJoin: Driver alias is customer_demographics with size 80660096 (total size of others : 20815654, threshold : 25000000)
Stage-24 is filtered out by condition resolver.

Map-join4:
plan.ConditionalResolverCommonJoin: Driver alias is $INTNAME with size 20815654 (total size of others : 3155, threshold : 25000000)
Stage-22 is selected by condition resolver.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;btw, a minor question. Why the log of map-join 1 shows the size of others 0?&lt;/p&gt;</comment>
                            <comment id="13859982" author="navis" created="Thu, 2 Jan 2014 01:28:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yhuai&quot; class=&quot;user-hover&quot; rel=&quot;yhuai&quot;&gt;Yin Huai&lt;/a&gt; Ah.. right. I&apos;ll check that (and zero size issue also). Thanks for the enlightening.&lt;/p&gt;</comment>
                            <comment id="13859994" author="navis" created="Thu, 2 Jan 2014 02:34:16 +0000"  >&lt;p&gt;Made not to share size of intermediate tables among ConditionalTasks, seemingly solving invalid lengths. But I cannot reproduce zero length problem. Is it(date_dim) non-native table?&lt;/p&gt;</comment>
                            <comment id="13861465" author="hiveqa" created="Fri, 3 Jan 2014 12:13:28 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12621023/HIVE-5945.6.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12621023/HIVE-5945.6.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4873 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/790/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/790/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/790/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/790/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12621023&lt;/p&gt;</comment>
                            <comment id="13863047" author="yhuai" created="Mon, 6 Jan 2014 15:33:02 +0000"  >&lt;p&gt;Thanks Navis for the change. date_dim is a native table. Actually, I think the problem is org.apache.hadoop.hive.ql.plan.ConditionalResolverCommonJoin.getParticipants. It uses ctx.getAliasToTask(); to get all aliases. However, these aliases do not include aliases appearing in the MapLocalWork (those small tables.). So for a query like &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;set hive.auto.convert.join.noconditionaltask=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
select
   i_item_id
FROM store_sales
JOIN item on (store_sales.ss_item_sk = item.i_item_sk)
limit 10;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The plan is &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;STAGE DEPENDENCIES:
  Stage-5 is a root stage , consists of Stage-6, Stage-1
  Stage-6 has a backup stage: Stage-1
  Stage-3 depends on stages: Stage-6
  Stage-1
  Stage-0 is a root stage

STAGE PLANS:
  Stage: Stage-5
    Conditional Operator

  Stage: Stage-6
    Map Reduce Local Work
      Alias -&amp;gt; Map Local Tables:
        item 
          Fetch Operator
            limit: -1
      Alias -&amp;gt; Map Local Operator Tree:
        item 
          TableScan
            alias: item
            HashTable Sink Operator
              condition expressions:
                0 
                1 {i_item_id}
              handleSkewJoin: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
              keys:
                0 [Column[ss_item_sk]]
                1 [Column[i_item_sk]]
              Position of Big Table: 0

  Stage: Stage-3
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        store_sales 
          TableScan
            alias: store_sales
            Map Join Operator
              condition map:
                   Inner Join 0 to 1
              condition expressions:
                0 
                1 {i_item_id}
              handleSkewJoin: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
              keys:
                0 [Column[ss_item_sk]]
                1 [Column[i_item_sk]]
              outputColumnNames: _col26
              Position of Big Table: 0
              Select Operator
                expressions:
                      expr: _col26
                      type: string
                outputColumnNames: _col0
                Limit
                  File Output Operator
                    compressed: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
                    GlobalTableId: 0
                    table:
                        input format: org.apache.hadoop.mapred.TextInputFormat
                        output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat
                        serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe
      Local Work:
        Map Reduce Local Work

  Stage: Stage-1
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        item 
          TableScan
            alias: item
            Reduce Output Operator
              key expressions:
                    expr: i_item_sk
                    type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
              sort order: +
              Map-reduce partition columns:
                    expr: i_item_sk
                    type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
              tag: 1
              value expressions:
                    expr: i_item_id
                    type: string
        store_sales 
          TableScan
            alias: store_sales
            Reduce Output Operator
              key expressions:
                    expr: ss_item_sk
                    type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
              sort order: +
              Map-reduce partition columns:
                    expr: ss_item_sk
                    type: &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;
              tag: 0
      Reduce Operator Tree:
        Join Operator
          condition map:
               Inner Join 0 to 1
          condition expressions:
            0 
            1 {VALUE._col1}
          handleSkewJoin: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
          outputColumnNames: _col26
          Select Operator
            expressions:
                  expr: _col26
                  type: string
            outputColumnNames: _col0
            Limit
              File Output Operator
                compressed: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
                GlobalTableId: 0
                table:
                    input format: org.apache.hadoop.mapred.TextInputFormat
                    output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat
                    serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe

  Stage: Stage-0
    Fetch Operator
      limit: 10
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The alias of &quot;item&quot; will not be in the set returned by getParticipants. Thus, the input of sumOfExcept will be &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;aliasToSize: {store_sales=388445409, item=5051899}
aliases: [store_sales]
except: store_sales
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and then we get &quot;0&quot; for the size of small tables.&lt;/p&gt;

&lt;p&gt;I think in getParticipants, we can check the type of a task and if it is a MapRedTask, we can use getWork().getMapWork().getMapLocalWork() to get the local task. Then, we can get aliases of those small tables through aliasToWork.&lt;/p&gt;

&lt;p&gt;Another minor comment. Can you add a comment for the method of clone in the class of ConditionalResolverCommonJoinCtx to explain why we only want to copy aliasToKnownSize?&lt;/p&gt;

&lt;p&gt;Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13869351" author="hiveqa" created="Mon, 13 Jan 2014 08:07:22 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12622571/HIVE-5945.7.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12622571/HIVE-5945.7.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 4917 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join30
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join31
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join_filters
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union22
org.apache.hadoop.hive.ql.plan.TestConditionalResolverCommonJoin.testResolvingDriverAlias
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/877/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/877/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/877/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/877/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12622571&lt;/p&gt;</comment>
                            <comment id="13869579" author="hiveqa" created="Mon, 13 Jan 2014 14:32:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12622597/HIVE-5945.8.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12622597/HIVE-5945.8.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4917 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/882/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/882/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/882/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/882/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12622597&lt;/p&gt;</comment>
                            <comment id="13872582" author="yhuai" created="Wed, 15 Jan 2014 20:57:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13873656" author="yhuai" created="Thu, 16 Jan 2014 17:46:52 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12618153" name="HIVE-5945.1.patch.txt" size="13967" author="navis" created="Wed, 11 Dec 2013 01:24:02 +0000"/>
                            <attachment id="12618185" name="HIVE-5945.2.patch.txt" size="14781" author="navis" created="Wed, 11 Dec 2013 05:13:20 +0000"/>
                            <attachment id="12619255" name="HIVE-5945.3.patch.txt" size="16560" author="navis" created="Wed, 18 Dec 2013 05:03:42 +0000"/>
                            <attachment id="12620580" name="HIVE-5945.4.patch.txt" size="15626" author="navis" created="Fri, 27 Dec 2013 03:12:06 +0000"/>
                            <attachment id="12620793" name="HIVE-5945.5.patch.txt" size="19826" author="navis" created="Mon, 30 Dec 2013 02:20:10 +0000"/>
                            <attachment id="12621023" name="HIVE-5945.6.patch.txt" size="20785" author="navis" created="Thu, 2 Jan 2014 02:34:16 +0000"/>
                            <attachment id="12622571" name="HIVE-5945.7.patch.txt" size="21087" author="navis" created="Mon, 13 Jan 2014 02:33:30 +0000"/>
                            <attachment id="12622597" name="HIVE-5945.8.patch.txt" size="22292" author="navis" created="Mon, 13 Jan 2014 08:45:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Dec 2013 01:27:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>361960</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qe6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362255</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5946] DDL authorization task factory should be better tested</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5946</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Thejas is working on various authorization issues and one element that might be useful in that effort and increase test coverage and testability would be perform authorization task creation in a factory.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682748">HIVE-5946</key>
            <summary>DDL authorization task factory should be better tested</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 18:59:19 +0000</created>
                <updated>Tue, 7 Jan 2014 15:55:29 +0000</updated>
                            <resolved>Tue, 7 Jan 2014 15:55:29 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13839214" author="brocknoland" created="Wed, 4 Dec 2013 19:06:05 +0000"  >&lt;p&gt;Moves the task creation logic to a factory which is now tested with 20 unit tests.&lt;/p&gt;</comment>
                            <comment id="13839325" author="hiveqa" created="Wed, 4 Dec 2013 20:37:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617045/HIVE-5946.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617045/HIVE-5946.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4477 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_udf
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/515/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/515/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/515/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/515/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617045&lt;/p&gt;</comment>
                            <comment id="13860385" author="brocknoland" created="Thu, 2 Jan 2014 17:43:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; I created this patch a while back after I noticed that the DDL code is monolithic and poorly tested. Since you are now making changes to this code path, it might make sense to commit this. Additionally I make the code path &quot;pluggable&quot; but I am now rethinking that aspect. If the &quot;pluggable&quot; aspect doesn&apos;t make sense then I can remove that and rebase the patch.&lt;/p&gt;</comment>
                            <comment id="13860830" author="thejas" created="Thu, 2 Jan 2014 21:53:35 +0000"  >&lt;p&gt;Thanks Brock, this is very useful change, and it will help in adding more tests. I reviewed the changes and they look good to me.&lt;br/&gt;
It also sets a good example for writing testable code!&lt;/p&gt;

&lt;p&gt;As you mention, I don&apos;t think we should make this pluggable. Once we make it &apos;pluggable&apos; it would be considered a public API and we would need to start worrying about backward compatibility for it. &lt;/p&gt;</comment>
                            <comment id="13861793" author="brocknoland" created="Fri, 3 Jan 2014 19:08:05 +0000"  >&lt;p&gt;Sounds good, I will rebase this patch after committing the other change.&lt;/p&gt;</comment>
                            <comment id="13863082" author="brocknoland" created="Mon, 6 Jan 2014 16:31:08 +0000"  >&lt;p&gt;New patch modified to remove the pluggable aspect and rebased on trunk.&lt;/p&gt;</comment>
                            <comment id="13863214" author="hiveqa" created="Mon, 6 Jan 2014 18:40:43 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12621618/HIVE-5946.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12621618/HIVE-5946.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 4895 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantGroupTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantRoleTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testGrantUserTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeGroupTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeRoleTable
org.apache.hadoop.hive.ql.parse.authorization.TestHiveAuthorizationTaskFactory.testRevokeUserTable
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/811/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/811/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/811/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/811/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12621618&lt;/p&gt;</comment>
                            <comment id="13863388" author="thejas" created="Mon, 6 Jan 2014 20:44:38 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13863392" author="brocknoland" created="Mon, 6 Jan 2014 20:47:52 +0000"  >&lt;p&gt;Thanks Thejas! I will get an updated patch which fixes those tests in a few minutes.&lt;/p&gt;</comment>
                            <comment id="13863398" author="brocknoland" created="Mon, 6 Jan 2014 20:54:07 +0000"  >&lt;p&gt;One line change was required in the TestHiveAuth* class.&lt;/p&gt;</comment>
                            <comment id="13863591" author="hiveqa" created="Mon, 6 Jan 2014 23:03:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12621670/HIVE-5946.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12621670/HIVE-5946.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4895 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/813/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/813/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/813/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/813/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12621670&lt;/p&gt;</comment>
                            <comment id="13864347" author="brocknoland" created="Tue, 7 Jan 2014 15:55:29 +0000"  >&lt;p&gt;Committed to trunk! Thank you Thejas for the review!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12621670" name="HIVE-5946.patch" size="61584" author="brocknoland" created="Mon, 6 Jan 2014 20:54:07 +0000"/>
                            <attachment id="12621618" name="HIVE-5946.patch" size="61582" author="brocknoland" created="Mon, 6 Jan 2014 16:31:08 +0000"/>
                            <attachment id="12617045" name="HIVE-5946.patch" size="66396" author="brocknoland" created="Wed, 4 Dec 2013 19:06:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Dec 2013 20:37:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qegf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5947] Fix test failure in decimal_udf.q</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5947</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12682766">HIVE-5947</key>
            <summary>Fix test failure in decimal_udf.q</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="xuefuz">Xuefu Zhang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 20:53:01 +0000</created>
                <updated>Thu, 5 Dec 2013 01:02:46 +0000</updated>
                            <resolved>Thu, 5 Dec 2013 01:02:46 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13839407" author="brocknoland" created="Wed, 4 Dec 2013 22:25:47 +0000"  >&lt;p&gt;+1 &lt;/p&gt;</comment>
                            <comment id="13839490" author="hiveqa" created="Wed, 4 Dec 2013 23:45:10 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617067/HIVE-5947.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617067/HIVE-5947.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4457 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/519/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/519/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/519/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/519/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617067&lt;/p&gt;</comment>
                            <comment id="13839633" author="xuefuz" created="Thu, 5 Dec 2013 01:02:46 +0000"  >&lt;p&gt;Patch was committed to trunk. Thanks to Brock for the review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12617067" name="HIVE-5947.patch" size="1051" author="xuefuz" created="Wed, 4 Dec 2013 22:19:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Dec 2013 22:25:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362023</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qekf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362318</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5948] Output file name is random when using Tez with &quot;insert overwrite local directory&quot; </title>
                <link>https://issues.apache.org/jira/browse/HIVE-5948</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;NO PRECOMMIT TESTS&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682768">HIVE-5948</key>
            <summary>Output file name is random when using Tez with &quot;insert overwrite local directory&quot; </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hitesh">Hitesh Shah</assignee>
                                    <reporter username="hitesh">Hitesh Shah</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 21:05:07 +0000</created>
                <updated>Fri, 6 Dec 2013 02:12:37 +0000</updated>
                            <resolved>Fri, 6 Dec 2013 02:12:37 +0000</resolved>
                                                    <fixVersion>tez-branch</fixVersion>
                                    <component>Tez</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13839361" author="hitesh" created="Wed, 4 Dec 2013 21:07:40 +0000"  >&lt;p&gt;hive&amp;gt; insert overwrite local directory &apos;outdir&apos; select * from studenttab10k limit 10;&lt;br/&gt;
Total MapReduce jobs = 1&lt;br/&gt;
Launching Job 1 out of 1&lt;/p&gt;


&lt;p&gt;Status: Running (application id: application_1384838428767_0705)&lt;/p&gt;

&lt;p&gt;Map 1: &lt;del&gt;/&lt;/del&gt;	Reducer 2: 0/1&lt;br/&gt;
Map 1: 0/1	Reducer 2: 0/1&lt;br/&gt;
Map 1: 0/1	Reducer 2: 0/1&lt;br/&gt;
Map 1: 1/1	Reducer 2: 0/1&lt;br/&gt;
Map 1: 1/1	Reducer 2: 1/1&lt;br/&gt;
Status: Finished successfully&lt;br/&gt;
Copying data to local directory outdir&lt;br/&gt;
Copying data to local directory outdir&lt;br/&gt;
OK&lt;br/&gt;
Time taken: 7.094 seconds&lt;br/&gt;
hive&amp;gt; exit;&lt;br/&gt;
bash-4.1$ ls outdir/&lt;br/&gt;
2014843718&lt;/p&gt;</comment>
                            <comment id="13839425" author="thejas" created="Wed, 4 Dec 2013 22:39:53 +0000"  >&lt;p&gt;I understand the expected dir name (ie behavior with MR) is of the form &quot;000000_0&quot; , ie the task id.&lt;/p&gt;

&lt;p&gt;Can you also add a comment to the setupMRLegacyConfigs function explaining why those configs are being set.&lt;/p&gt;

&lt;p&gt;It will also be good to have a unit test for this, you can take a look at ql/src/test/queries/clientpositive/insert_overwrite_local_directory_1.q&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;insert overwrite local directory &lt;span class=&quot;code-quote&quot;&gt;&apos;../../data/files/local_src_table_1&apos;&lt;/span&gt;
select * from src ;
dfs -cat ../../data/files/local_src_table_1/000000_0;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You need to add the query file name to itests/qtest/pom.xml under  &amp;lt;minitez.query.files&amp;gt; .&lt;br/&gt;
To generate the benchmark output file, run&lt;br/&gt;
mvn test -Dtest=TestMiniTezCliDriver -Dqfile=&amp;lt;new test file&amp;gt;.q -Phadoop-2&lt;/p&gt;
</comment>
                            <comment id="13839428" author="thejas" created="Wed, 4 Dec 2013 22:41:09 +0000"  >&lt;p&gt;the core changes in the patch look good to me.&lt;/p&gt;</comment>
                            <comment id="13840770" author="hitesh" created="Fri, 6 Dec 2013 01:08:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; New patch attached with unit tests.&lt;/p&gt;</comment>
                            <comment id="13840811" author="thejas" created="Fri, 6 Dec 2013 01:49:12 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13840822" author="thejas" created="Fri, 6 Dec 2013 02:04:13 +0000"  >&lt;p&gt;I have committed the patch to tez branch. I added a comment to the function, before committing (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5948&quot; title=&quot;Output file name is random when using Tez with &amp;quot;insert overwrite local directory&amp;quot; &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5948&quot;&gt;&lt;del&gt;HIVE-5948&lt;/del&gt;&lt;/a&gt;.3.patch).&lt;/p&gt;

&lt;p&gt;Thanks for your contribution Hitesh! Looking forward to more contributions! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12651047">HIVE-4660</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617061" name="HIVE-5948.1.patch" size="2455" author="hitesh" created="Wed, 4 Dec 2013 21:08:29 +0000"/>
                            <attachment id="12617289" name="HIVE-5948.2.patch" size="8262" author="hitesh" created="Fri, 6 Dec 2013 01:08:08 +0000"/>
                            <attachment id="12617301" name="HIVE-5948.3.patch" size="8483" author="thejas" created="Fri, 6 Dec 2013 02:04:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 4 Dec 2013 22:39:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362025</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qekv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362320</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5949] In statistics annotation add flag to say if statistics is estimated or accurate</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5949</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5921&quot; title=&quot;Better heuristics for worst case statistics estimates for join, limit and filter operator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5921&quot;&gt;&lt;del&gt;HIVE-5921&lt;/del&gt;&lt;/a&gt; estimates the basic statistics (row count/data size) if its not available in metastore. It will be better to have a flag which says if the statistics is estimated value or accurate value from metastore. Also basic statistics state will no longer be useful since even in worst case the state will be COMPLETE because of estimation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682772">HIVE-5949</key>
            <summary>In statistics annotation add flag to say if statistics is estimated or accurate</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12670659">HIVE-5369</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 22:08:39 +0000</created>
                <updated>Thu, 20 Sep 2018 08:59:27 +0000</updated>
                                            <version>0.13.0</version>
                                                    <component>Statistics</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="16621693" author="jk_self" created="Thu, 20 Sep 2018 08:59:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt; hi, I am interested with this feature. And have you test the accurate of the estimation in plan phase, such as filter and join operator? Thanks for your share!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Sep 2018 08:59:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362029</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qelr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362324</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5950] ORC SARG creation fails with NPE for predicate conditions with decimal/date/char/varchar datatypes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5950</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When decimal or date column is used, the type field in PredicateLeafImpl will be set to null. This will result in NPE during predicate leaf generation because of null dereferencing in hashcode computation. SARG creation should be extended to support/handle decimal and date data types.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682782">HIVE-5950</key>
            <summary>ORC SARG creation fails with NPE for predicate conditions with decimal/date/char/varchar datatypes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                            <label>orcfile</label>
                    </labels>
                <created>Wed, 4 Dec 2013 23:03:52 +0000</created>
                <updated>Sun, 23 Mar 2014 17:45:23 +0000</updated>
                            <resolved>Tue, 4 Mar 2014 23:10:05 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13842850" author="prasanth_j" created="Mon, 9 Dec 2013 01:59:26 +0000"  >&lt;p&gt;Making it as patch available for precommit tests.&lt;/p&gt;</comment>
                            <comment id="13842894" author="hiveqa" created="Mon, 9 Dec 2013 04:00:53 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617770/HIVE-5950.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617770/HIVE-5950.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4768 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/568/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/568/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/568/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/568/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617770&lt;/p&gt;</comment>
                            <comment id="13854628" author="owen.omalley" created="Fri, 20 Dec 2013 22:24:54 +0000"  >&lt;p&gt;Using the objectinspectors in the compare method involves a lot of overhead and complexity. In particular, the objectinspector factories aren&apos;t thread safe. I&apos;d handle the individual cases of types.&lt;/p&gt;</comment>
                            <comment id="13868877" author="prasanth_j" created="Sat, 11 Jan 2014 21:22:15 +0000"  >&lt;p&gt;Addressed &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=owen.omalley&quot; class=&quot;user-hover&quot; rel=&quot;owen.omalley&quot;&gt;Owen O&apos;Malley&lt;/a&gt;&apos;s comment. Removed objectinspectors from compare method. Instead handling each primitive types.&lt;/p&gt;</comment>
                            <comment id="13868915" author="hiveqa" created="Sun, 12 Jan 2014 00:59:53 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12622518/HIVE-5950.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12622518/HIVE-5950.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 4922 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_ppd_date
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_ppd_decimal
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/870/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/870/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/870/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/870/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12622518&lt;/p&gt;</comment>
                            <comment id="13875664" author="prasanth_j" created="Sat, 18 Jan 2014 14:25:30 +0000"  >&lt;p&gt;Fixed test failures.&lt;/p&gt;</comment>
                            <comment id="13875684" author="hiveqa" created="Sat, 18 Jan 2014 16:30:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12623815/HIVE-5950.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12623815/HIVE-5950.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4947 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/957/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/957/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/957/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/957/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12623815&lt;/p&gt;</comment>
                            <comment id="13908942" author="prasanth_j" created="Fri, 21 Feb 2014 22:46:03 +0000"  >&lt;p&gt;Refreshed the patch to trunk.&lt;/p&gt;</comment>
                            <comment id="13910193" author="hiveqa" created="Mon, 24 Feb 2014 10:40:12 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12630405/HIVE-5950.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12630405/HIVE-5950.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5181 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1467/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1467/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1467/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1467/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12630405&lt;/p&gt;</comment>
                            <comment id="13918320" author="hagleitn" created="Mon, 3 Mar 2014 17:55:02 +0000"  >&lt;p&gt;comments on rb&lt;/p&gt;</comment>
                            <comment id="13918639" author="prasanth_j" created="Mon, 3 Mar 2014 22:12:50 +0000"  >&lt;p&gt;Addressed &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt;&apos;s code review comments.&lt;/p&gt;</comment>
                            <comment id="13918652" author="hagleitn" created="Mon, 3 Mar 2014 22:20:44 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13919202" author="hiveqa" created="Tue, 4 Mar 2014 09:56:28 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12632367/HIVE-5950.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12632367/HIVE-5950.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5243 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1610/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1610/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1610/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1610/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12632367&lt;/p&gt;</comment>
                            <comment id="13919770" author="prasanth_j" created="Tue, 4 Mar 2014 18:59:25 +0000"  >&lt;p&gt;Test failure is not related.&lt;/p&gt;</comment>
                            <comment id="13920181" author="hagleitn" created="Tue, 4 Mar 2014 23:10:05 +0000"  >&lt;p&gt;Committed to trunk. Thanks Prasanth!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12674189">HIVE-5567</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617770" name="HIVE-5950.1.patch" size="138074" author="prasanth_j" created="Mon, 9 Dec 2013 01:51:28 +0000"/>
                            <attachment id="12622518" name="HIVE-5950.2.patch" size="122809" author="prasanth_j" created="Sat, 11 Jan 2014 21:21:08 +0000"/>
                            <attachment id="12623815" name="HIVE-5950.3.patch" size="125009" author="prasanth_j" created="Sat, 18 Jan 2014 14:25:30 +0000"/>
                            <attachment id="12630405" name="HIVE-5950.4.patch" size="125769" author="prasanth_j" created="Fri, 21 Feb 2014 22:46:03 +0000"/>
                            <attachment id="12632367" name="HIVE-5950.5.patch" size="125418" author="prasanth_j" created="Mon, 3 Mar 2014 22:12:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Dec 2013 04:00:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362039</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qenz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362334</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5951] improve performance of adding partitions from client</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5951</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Adding partitions to metastore is currently very inefficient. There are small things like, for !ifNotExists case, DDLSemanticAnalyzer gets the full partition object for every spec (which is a network call to metastore), and then discards it instantly; there&apos;s also general problem that too much processing is done on client side. DDLSA should analyze the query and make one call to metastore (or maybe a set of batched  calls if there are too many partitions in the command), metastore should then figure out stuff and insert in batch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682783">HIVE-5951</key>
            <summary>improve performance of adding partitions from client</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sershe">Sergey Shelukhin</assignee>
                                    <reporter username="sershe">Sergey Shelukhin</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 23:05:09 +0000</created>
                <updated>Thu, 16 Jan 2014 22:02:30 +0000</updated>
                            <resolved>Thu, 16 Jan 2014 22:02:30 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13840830" author="sershe" created="Fri, 6 Dec 2013 02:12:07 +0000"  >&lt;p&gt;preliminary patches. Some more query results will probably change, so not submitting yet, I will run overnight and update. &lt;/p&gt;</comment>
                            <comment id="13840837" author="sershe" created="Fri, 6 Dec 2013 02:13:47 +0000"  >&lt;p&gt;RB at &lt;a href=&quot;https://reviews.apache.org/r/16074/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/16074/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13841716" author="sershe" created="Fri, 6 Dec 2013 21:15:54 +0000"  >&lt;p&gt;updated patch, I think tests should pass although for some tests I got different results on my and other machine&lt;/p&gt;</comment>
                            <comment id="13841818" author="hiveqa" created="Fri, 6 Dec 2013 22:38:34 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617474/HIVE-5951.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617474/HIVE-5951.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 4460 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_addpart1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_failure4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_archive5
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_default_partition_name
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_join28
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_join32
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_stats_partialscan_autogether
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_stats_partscan_norcfile
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/556/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/556/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/556/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/556/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617474&lt;/p&gt;</comment>
                            <comment id="13841888" author="ashutoshc" created="Fri, 6 Dec 2013 23:31:22 +0000"  >&lt;p&gt;Does this handle the case of insert query which dynamically creates partition and load partitions in metastore at the end of MR job. That code-path is in MoveTask::execute() -&amp;gt; Hive.loadDynamicPartitions() ? That path is likely to be more relevant for this problem instead of from a ddl command someone trying to add 100s of partitions?&lt;/p&gt;</comment>
                            <comment id="13841910" author="sershe" created="Fri, 6 Dec 2013 23:53:22 +0000"  >&lt;p&gt;no, this is only for static partitions for now&lt;/p&gt;</comment>
                            <comment id="13841912" author="sershe" created="Fri, 6 Dec 2013 23:53:35 +0000"  >&lt;p&gt;I am looking at neg tests, forgot to run those&lt;/p&gt;</comment>
                            <comment id="13841992" author="ashutoshc" created="Sat, 7 Dec 2013 01:31:27 +0000"  >&lt;p&gt;It will be good to show partition spec in explain plan (unless its too complicated) instead of &amp;lt;multiple partition spec&amp;gt;. Also for input / output hook, that stuff is used for authorization, so it will be good not to loose that. &lt;/p&gt;</comment>
                            <comment id="13841994" author="sershe" created="Sat, 7 Dec 2013 01:36:13 +0000"  >&lt;p&gt;the partitions gone from output are the ones that were not added (already exist). Should they also be present in output?&lt;/p&gt;</comment>
                            <comment id="13841998" author="ashutoshc" created="Sat, 7 Dec 2013 01:39:16 +0000"  >&lt;p&gt;In explain plan or hooks ?&lt;/p&gt;</comment>
                            <comment id="13842003" author="sershe" created="Sat, 7 Dec 2013 01:58:19 +0000"  >&lt;p&gt;that is about not showing in hooks. That is because the new code does not put the partitions that were duplicate into output... that is easy to fix, but I wonder why they are needed&lt;/p&gt;</comment>
                            <comment id="13842006" author="ashutoshc" created="Sat, 7 Dec 2013 02:00:47 +0000"  >&lt;p&gt;If they are duplicate then its fine not to show them.&lt;/p&gt;</comment>
                            <comment id="13842046" author="hiveqa" created="Sat, 7 Dec 2013 03:32:22 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617525/HIVE-5951.02.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617525/HIVE-5951.02.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4460 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/559/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/559/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/559/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/559/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617525&lt;/p&gt;</comment>
                            <comment id="13843453" author="sershe" created="Mon, 9 Dec 2013 19:35:34 +0000"  >&lt;p&gt;addressing comment in the jira, minor changes&lt;/p&gt;</comment>
                            <comment id="13843564" author="hiveqa" created="Mon, 9 Dec 2013 21:16:40 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617880/HIVE-5951.03.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617880/HIVE-5951.03.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4761 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/583/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/583/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/583/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/583/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617880&lt;/p&gt;</comment>
                            <comment id="13852835" author="ashutoshc" created="Thu, 19 Dec 2013 11:59:56 +0000"  >&lt;p&gt;Can you comment why we need to add new api in metastore thrift interface? This is a public api and there should be strong justification why existing api (add_partitions()) doesn&apos;t fit the requirement and new one is required.&lt;/p&gt;</comment>
                            <comment id="13853070" author="sershe" created="Thu, 19 Dec 2013 17:51:05 +0000"  >&lt;p&gt;New parameters are needed for the API, and they cannot be added in backward compatible manner.&lt;br/&gt;
Overall, it&apos;s a good idea to have APIs in request-response pattern, and not with separate parameters due to this issue... let me file brainstorming jira for that.&lt;/p&gt;</comment>
                            <comment id="13853074" author="sershe" created="Thu, 19 Dec 2013 17:58:30 +0000"  >&lt;p&gt;Filed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6061&quot; title=&quot;Metastore (and other) Thrift APIs should use request-response pattern&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6061&quot;&gt;HIVE-6061&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13854436" author="sershe" created="Fri, 20 Dec 2013 19:10:52 +0000"  >&lt;p&gt;ping?&lt;/p&gt;</comment>
                            <comment id="13867036" author="ashutoshc" created="Thu, 9 Jan 2014 20:52:29 +0000"  >&lt;p&gt;I thought perf gain would be because of doing one call on backend DBMS (probably using directsql). But looking at newly added method in ObjectStore, we are still adding partitions one by one in for loop. I think there will be quite a bit of perf to have by making single call on backend db.&lt;br/&gt;
Apart from perf, for atomicity guarantees it also make sense to do one call. &lt;/p&gt;</comment>
                            <comment id="13867131" author="sershe" created="Thu, 9 Jan 2014 21:57:21 +0000"  >&lt;p&gt;For atomicity guarantees there are transactions &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;br/&gt;
We do the loop on the backend, and no longer do e.g. existence checks for each partitions separately from client.&lt;br/&gt;
Anyway there&apos;s no such thing as inserting multiple things in one go, other than maybe inserting into separate table and then putting into main table. Also, it&apos;s going to be a mess given how much stuff partition can have.&lt;/p&gt;</comment>
                            <comment id="13867298" author="ashutoshc" created="Thu, 9 Jan 2014 23:46:07 +0000"  >&lt;p&gt;Added few comments on RB. What I meant is to use pm.makePersistentAll() instead of pm.makePersistent() Take a look at RB comment. &lt;br/&gt;
Also, did you do any testing to see how much perf gain this change is getting us?&lt;/p&gt;</comment>
                            <comment id="13868336" author="hiveqa" created="Fri, 10 Jan 2014 21:38:41 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12622418/HIVE-5951.04.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12622418/HIVE-5951.04.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 4917 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_table_add_partition
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_failure5
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_illegal_partition_type2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_illegal_partition_type3
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_illegal_partition_type4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_load_wrong_noof_part
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_truncate_partition_column
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/852/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/852/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/852/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/852/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12622418&lt;/p&gt;</comment>
                            <comment id="13868363" author="sershe" created="Fri, 10 Jan 2014 21:58:20 +0000"  >&lt;p&gt;Simple test; on my machine, when adding 1000 partitions on an empty table via &quot;alter table add partition - partition - ...&quot;, it went from 54.194 seconds to 15.877 seconds (with recent patch). Let me look at the tests...&lt;/p&gt;</comment>
                            <comment id="13868441" author="sershe" created="Fri, 10 Jan 2014 23:08:36 +0000"  >&lt;p&gt;exception texts changed in some places&lt;/p&gt;</comment>
                            <comment id="13868555" author="ashutoshc" created="Sat, 11 Jan 2014 01:01:35 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13868714" author="hiveqa" created="Sat, 11 Jan 2014 09:45:31 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12622457/HIVE-5951.05.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12622457/HIVE-5951.05.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 7 failed/errored test(s), 4917 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_table_add_partition
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_failure5
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_failure7
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_analyze1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_dyn_part1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_touch2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_truncate_partition_column
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/859/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/859/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/859/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/859/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 7 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12622457&lt;/p&gt;</comment>
                            <comment id="13870088" author="sershe" created="Mon, 13 Jan 2014 22:50:09 +0000"  >&lt;p&gt;Update some tests; rename method in thrift better (in other JIRA I am adding more methods with request-response pattern, probably a good idea to call them all ..._req rather than ...2).&lt;/p&gt;</comment>
                            <comment id="13870477" author="hiveqa" created="Tue, 14 Jan 2014 07:21:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12622722/HIVE-5951.07.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12622722/HIVE-5951.07.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/894/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/894/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/894/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/894/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-894/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen service/target contrib/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1557954.

At revision 1557954.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12622722&lt;/p&gt;</comment>
                            <comment id="13871159" author="sershe" created="Tue, 14 Jan 2014 20:51:51 +0000"  >&lt;p&gt;Hmm, I was able to merge and to apply patch w/o problems. Let&apos;s try again&lt;/p&gt;</comment>
                            <comment id="13871332" author="hiveqa" created="Tue, 14 Jan 2014 22:58:57 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12622970/HIVE-5951.07.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12622970/HIVE-5951.07.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4924 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/910/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/910/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/910/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/910/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12622970&lt;/p&gt;</comment>
                            <comment id="13874022" author="ashutoshc" created="Thu, 16 Jan 2014 22:02:30 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Sergey!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12617474" name="HIVE-5951.01.patch" size="722171" author="sershe" created="Fri, 6 Dec 2013 21:15:54 +0000"/>
                            <attachment id="12617525" name="HIVE-5951.02.patch" size="723763" author="sershe" created="Sat, 7 Dec 2013 01:18:24 +0000"/>
                            <attachment id="12617880" name="HIVE-5951.03.patch" size="724036" author="sershe" created="Mon, 9 Dec 2013 19:35:34 +0000"/>
                            <attachment id="12622418" name="HIVE-5951.04.patch" size="729674" author="sershe" created="Fri, 10 Jan 2014 19:13:47 +0000"/>
                            <attachment id="12622457" name="HIVE-5951.05.patch" size="732383" author="sershe" created="Fri, 10 Jan 2014 23:08:36 +0000"/>
                            <attachment id="12622970" name="HIVE-5951.07.patch" size="735153" author="sershe" created="Tue, 14 Jan 2014 20:51:51 +0000"/>
                            <attachment id="12622722" name="HIVE-5951.07.patch" size="735086" author="sershe" created="Mon, 13 Jan 2014 22:50:09 +0000"/>
                            <attachment id="12617879" name="HIVE-5951.nogen.patch" size="90905" author="sershe" created="Mon, 9 Dec 2013 19:35:34 +0000"/>
                            <attachment id="12617524" name="HIVE-5951.nogen.patch" size="90632" author="sershe" created="Sat, 7 Dec 2013 01:18:00 +0000"/>
                            <attachment id="12617473" name="HIVE-5951.nogen.patch" size="89040" author="sershe" created="Fri, 6 Dec 2013 21:15:54 +0000"/>
                            <attachment id="12617304" name="HIVE-5951.nogen.patch" size="87237" author="sershe" created="Fri, 6 Dec 2013 02:12:07 +0000"/>
                            <attachment id="12617305" name="HIVE-5951.patch" size="720368" author="sershe" created="Fri, 6 Dec 2013 02:12:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Dec 2013 22:38:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362040</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qeo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362335</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5952] SQL std auth - authorize grant/revoke roles</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5952</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;User should be allowed to grant/revoke a role only if the user is SUPERUSER or has admin privileges for the role.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682784">HIVE-5952</key>
            <summary>SQL std auth - authorize grant/revoke roles</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 23:07:55 +0000</created>
                <updated>Wed, 12 Feb 2014 19:36:42 +0000</updated>
                            <resolved>Wed, 12 Feb 2014 19:36:41 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="172800">48h</timeoriginalestimate>
                            <timeestimate seconds="172800">48h</timeestimate>
                                        <comments>
                            <comment id="13899324" author="ashutoshc" created="Wed, 12 Feb 2014 17:44:07 +0000"  >&lt;p&gt;This is fixed via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5944&quot; title=&quot;SQL std auth - authorize show all roles, create role, drop role&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5944&quot;&gt;&lt;del&gt;HIVE-5944&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13899443" author="thejas" created="Wed, 12 Feb 2014 19:09:22 +0000"  >&lt;p&gt;One part of this issue is not there as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5944&quot; title=&quot;SQL std auth - authorize show all roles, create role, drop role&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5944&quot;&gt;&lt;del&gt;HIVE-5944&lt;/del&gt;&lt;/a&gt;, if the user has admin privileges, then the user should be able to grant/revoke.&lt;/p&gt;</comment>
                            <comment id="13899480" author="ashutoshc" created="Wed, 12 Feb 2014 19:36:42 +0000"  >&lt;p&gt;I will open another jira for that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Feb 2014 17:44:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362041</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qeof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5953] SQL std auth - authorize grant/revoke on table</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5953</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;User (or a role user belongs to ) should have grant privileges to be able to grant/revoke privileges for a user/role.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682785">HIVE-5953</key>
            <summary>SQL std auth - authorize grant/revoke on table</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 23:09:33 +0000</created>
                <updated>Sat, 22 Oct 2016 00:32:39 +0000</updated>
                            <resolved>Sun, 9 Feb 2014 20:50:58 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                    <timeoriginalestimate seconds="432000">120h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="518400">144h</timespent>
                                <comments>
                            <comment id="13894240" author="thejas" created="Fri, 7 Feb 2014 06:34:56 +0000"  >&lt;p&gt;review board link &lt;a href=&quot;https://reviews.apache.org/r/17835/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/17835/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13894300" author="thejas" created="Fri, 7 Feb 2014 08:28:30 +0000"  >&lt;p&gt;Earlier patch was missing 2 files.&lt;/p&gt;</comment>
                            <comment id="13894946" author="thejas" created="Fri, 7 Feb 2014 19:58:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5953&quot; title=&quot;SQL std auth - authorize grant/revoke on table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5953&quot;&gt;&lt;del&gt;HIVE-5953&lt;/del&gt;&lt;/a&gt;.3.patch - adds a package level documentation for the authorization interface (package-info.java ). Also minor change to Driver.java to remove a hack about URI handling.&lt;/p&gt;</comment>
                            <comment id="13895020" author="hiveqa" created="Fri, 7 Feb 2014 20:54:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12627577/HIVE-5953.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12627577/HIVE-5953.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 5049 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_grant_table_allpriv
org.apache.hadoop.hive.ql.metadata.TestHive.testTable
org.apache.hadoop.hive.ql.metadata.TestHive.testThriftTable
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testTable
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testThriftTable
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1239/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1239/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1239/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1239/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12627577&lt;/p&gt;</comment>
                            <comment id="13895134" author="hiveqa" created="Fri, 7 Feb 2014 22:22:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12627688/HIVE-5953.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12627688/HIVE-5953.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 5049 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_revoke_table_priv
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_grant_table_allpriv
org.apache.hadoop.hive.ql.metadata.TestHive.testTable
org.apache.hadoop.hive.ql.metadata.TestHive.testThriftTable
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testTable
org.apache.hadoop.hive.ql.metadata.TestHiveRemote.testThriftTable
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1240/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1240/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1240/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1240/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12627688&lt;/p&gt;</comment>
                            <comment id="13895303" author="thejas" created="Sat, 8 Feb 2014 00:28:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5953&quot; title=&quot;SQL std auth - authorize grant/revoke on table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5953&quot;&gt;&lt;del&gt;HIVE-5953&lt;/del&gt;&lt;/a&gt;.4.patch - addressing review comments from Brock, fixing unit tests.&lt;/p&gt;</comment>
                            <comment id="13895349" author="lefty@hortonworks.com" created="Sat, 8 Feb 2014 01:27:53 +0000"  >&lt;p&gt;Typos in patch 3, mostly trivial:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;lines 769 &amp;amp; 824:  &quot;a authorization&quot; should be &quot;an authorization&quot;&lt;/li&gt;
	&lt;li&gt;line 959:  &quot;the hive privilege&quot; should be &quot;Hive&quot;&lt;/li&gt;
	&lt;li&gt;package-info.java (lines 1037-1067):
	&lt;ul&gt;
		&lt;li&gt;&quot;hive&quot; should be &quot;Hive&quot; on lines 1038, 1040, 1041, 1049, 1059&lt;/li&gt;
		&lt;li&gt;&quot;and&quot; could be added before last class name on line 1042&lt;/li&gt;
		&lt;li&gt;unnecessary comma on line 1045 (but it does no harm)&lt;/li&gt;
		&lt;li&gt;&quot;The methods in the interface throws two ...&quot; should be &quot;throw&quot;&lt;/li&gt;
		&lt;li&gt;&quot;one is the actions performed by the access control statements, which updates ... (and stores ...), and also retrieves ...&quot; on lines 1053-1055:  if updates, stores, &amp;amp; retrieves go with &quot;one&quot; then this is okay, but if they go with &quot;actions&quot; or &quot;statements&quot; then drop the final &quot;s&quot; on the verbs&lt;/li&gt;
		&lt;li&gt;&quot;the privileges ... (and stores in some where like metastore database)&quot; on lines 1054-1055:  &quot;somewhere&quot; &amp;amp; &quot;stores them&quot;?&lt;/li&gt;
		&lt;li&gt;&quot;and juse a no-op&quot; on line 1056:  &quot;use&quot;&lt;/li&gt;
		&lt;li&gt;micronit:  &quot;eg,&quot; technically should be &quot;e.g.,&quot; but nobody really cares&lt;/li&gt;
		&lt;li&gt;unnecessary initial spaces on lines 1058 &amp;amp; 1062&lt;/li&gt;
		&lt;li&gt;&quot;HiveAuthorizationValidator has interface&quot; on line 1062:  &quot;has the interface&quot;&lt;/li&gt;
		&lt;li&gt;&quot;HiveAuthorizerImpl is a convenience class that you can use by just passing the implementations of these two interfaces (HiveAuthorizerImpl, HiveAuthorizationValidator) in the constructor&quot; on lines 1064-1065:  should the 2nd HiveAuthorizerImpl be HiveAccessController?&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;That&apos;s it for now; I&apos;ll go through the rest of the javadoc comments later.  Sorry for not doing this in the review board.  (Can&apos;t register &amp;#8211; should I open an INFRA ticket or just ask for help on dev@hive?)&lt;/p&gt;</comment>
                            <comment id="13895389" author="thejas" created="Sat, 8 Feb 2014 02:52:31 +0000"  >&lt;p&gt;Lefty, you should be able to create the account on review board through &lt;a href=&quot;https://reviews.apache.org/account/register/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/account/register/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13895411" author="thejas" created="Sat, 8 Feb 2014 03:33:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5953&quot; title=&quot;SQL std auth - authorize grant/revoke on table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5953&quot;&gt;&lt;del&gt;HIVE-5953&lt;/del&gt;&lt;/a&gt;.5.patch- Addressing comments from Ashutosh, Lefty.&lt;/p&gt;
</comment>
                            <comment id="13895433" author="lefty@hortonworks.com" created="Sat, 8 Feb 2014 04:53:00 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;, that&apos;s where I kept trying without success but I tried again, got a different error message, and ... (skipping the details) now I&apos;m all set up.  So I&apos;ll resume my typo hunt in patch 5 on the review board.&lt;/p&gt;</comment>
                            <comment id="13895533" author="hiveqa" created="Sat, 8 Feb 2014 11:35:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12627777/HIVE-5953.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12627777/HIVE-5953.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1246/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1246/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1246/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1246/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[INFO] Hive Integration - Testing Utilities
[INFO] Hive Integration - Unit Tests
[INFO] Hive Integration - Test Serde
[INFO] Hive Integration - QFile Tests
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Parent 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-it ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-it/0.13.0-SNAPSHOT/hive-it-0.13.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Custom Serde 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-custom-serde ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-it-custom-serde ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-custom-serde ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-custom-serde ---
[INFO] Compiling 8 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-it-custom-serde ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it-custom-serde ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-it-custom-serde ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-it-custom-serde ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-it-custom-serde ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/hive-it-custom-serde-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-it-custom-serde ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/target/hive-it-custom-serde-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-it-custom-serde/0.13.0-SNAPSHOT/hive-it-custom-serde-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/custom-serde/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-it-custom-serde/0.13.0-SNAPSHOT/hive-it-custom-serde-0.13.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - HCatalog Unit Tests 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-hcatalog-it-unit ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-hcatalog-it-unit ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-hcatalog-it-unit ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-hcatalog-it-unit ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-hcatalog-it-unit ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-hcatalog-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp/conf
     [copy] Copying 5 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-hcatalog-it-unit ---
[INFO] Compiling 7 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/test-classes
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-hcatalog-it-unit ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-hcatalog-it-unit ---
[WARNING] JAR will be empty - no content was marked for inclusion!
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-jar-plugin:2.2:test-jar (default) @ hive-hcatalog-it-unit ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-hcatalog-it-unit ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.pom
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Testing Utilities 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-util ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/util (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-it-util ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-util ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-util ---
[INFO] Compiling 41 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 2 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/java/org/apache/hadoop/hive/ql/security/InjectableDummyAuthenticator.java:[32,8] org.apache.hadoop.hive.ql.security.InjectableDummyAuthenticator is not abstract and does not override abstract method setSessionState(org.apache.hadoop.hive.ql.session.SessionState) in org.apache.hadoop.hive.ql.security.HiveAuthenticationProvider
[INFO] 1 error
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive Integration - Parent ......................... SUCCESS [3.731s]
[INFO] Hive Integration - Custom Serde ................... SUCCESS [8.884s]
[INFO] Hive Integration - HCatalog Unit Tests ............ SUCCESS [5.140s]
[INFO] Hive Integration - Testing Utilities .............. FAILURE [4.155s]
[INFO] Hive Integration - Unit Tests ..................... SKIPPED
[INFO] Hive Integration - Test Serde ..................... SKIPPED
[INFO] Hive Integration - QFile Tests .................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 23.520s
[INFO] Finished at: Sat Feb 08 06:34:58 EST 2014
[INFO] Final Memory: 29M/85M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project hive-it-util: Compilation failure
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/java/org/apache/hadoop/hive/ql/security/InjectableDummyAuthenticator.java:[32,8] org.apache.hadoop.hive.ql.security.InjectableDummyAuthenticator is not abstract and does not override abstract method setSessionState(org.apache.hadoop.hive.ql.session.SessionState) in org.apache.hadoop.hive.ql.security.HiveAuthenticationProvider
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-it-util
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12627777&lt;/p&gt;</comment>
                            <comment id="13895600" author="ashutoshc" created="Sat, 8 Feb 2014 14:50:54 +0000"  >&lt;p&gt;+1 pending tests pass.&lt;br/&gt;
 Also, there are few files which are no longer required. I commented on RB. Though, it could be that RB diff was showing them, although they aren&apos;t in patch file. Didn&apos;t cross-check. Anyhow, just make sure not to commit any unwanted file.&lt;/p&gt;</comment>
                            <comment id="13895716" author="thejas" created="Sat, 8 Feb 2014 20:14:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5953&quot; title=&quot;SQL std auth - authorize grant/revoke on table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5953&quot;&gt;&lt;del&gt;HIVE-5953&lt;/del&gt;&lt;/a&gt;.6.patch - rebased to trunk.&lt;/p&gt;</comment>
                            <comment id="13895738" author="thejas" created="Sat, 8 Feb 2014 21:55:15 +0000"  >&lt;p&gt;Ashutosh, yes, it is just RB diff that still shows the files deleted in updated patch.&lt;/p&gt;</comment>
                            <comment id="13895774" author="hiveqa" created="Sat, 8 Feb 2014 23:31:02 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12627832/HIVE-5953.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12627832/HIVE-5953.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5050 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketizedhiveinputformat
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_external_table_with_space_in_location_path
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1259/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1259/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1259/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1259/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12627832&lt;/p&gt;</comment>
                            <comment id="13896034" author="thejas" created="Sun, 9 Feb 2014 20:50:59 +0000"  >&lt;p&gt;Patch committed to trunk.&lt;br/&gt;
Thanks for the review Brock and Ashutosh.&lt;/p&gt;

&lt;p&gt;Note that in response to review comment, I added a method to HiveAuthenticationProvider interface in a new revision, instead of introducing another interface class (to keep things simpler). There not likely to be many users of this interface, it is likely to be only used in installations that are highly customized. But any users would need to implement that method.&lt;br/&gt;
I am marking it as an incompatible change for that reason.&lt;/p&gt;
</comment>
                            <comment id="15596785" author="lefty@hortonworks.com" created="Sat, 22 Oct 2016 00:32:39 +0000"  >&lt;p&gt;Doc note:  This changes the default value of &lt;b&gt;hive.conf.restricted.list&lt;/b&gt; which was created by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2935&quot; title=&quot;Implement HiveServer2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2935&quot;&gt;&lt;del&gt;HIVE-2935&lt;/del&gt;&lt;/a&gt; in release 0.11.0.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.conf.restricted.list&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.conf.restricted.list &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The default value is changed again by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6437&quot; title=&quot;DefaultHiveAuthorizationProvider should not initialize a new HiveConf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6437&quot;&gt;&lt;del&gt;HIVE-6437&lt;/del&gt;&lt;/a&gt; (0.14.0), &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13853&quot; title=&quot;Add X-XSRF-Header filter to HS2 HTTP mode and WebHCat&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13853&quot;&gt;&lt;del&gt;HIVE-13853&lt;/del&gt;&lt;/a&gt; (2.1.0), and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14099&quot; title=&quot;Hive security authorization can be disabled by users&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14099&quot;&gt;&lt;del&gt;HIVE-14099&lt;/del&gt;&lt;/a&gt; (2.2.0).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12983438">HIVE-14099</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12627550" name="HIVE-5953.1.patch" size="153382" author="thejas" created="Fri, 7 Feb 2014 04:06:14 +0000"/>
                            <attachment id="12627577" name="HIVE-5953.2.patch" size="157452" author="thejas" created="Fri, 7 Feb 2014 08:28:30 +0000"/>
                            <attachment id="12627688" name="HIVE-5953.3.patch" size="158726" author="thejas" created="Fri, 7 Feb 2014 19:58:59 +0000"/>
                            <attachment id="12627752" name="HIVE-5953.4.patch" size="160608" author="thejas" created="Sat, 8 Feb 2014 00:28:26 +0000"/>
                            <attachment id="12627777" name="HIVE-5953.5.patch" size="172137" author="thejas" created="Sat, 8 Feb 2014 03:33:44 +0000"/>
                            <attachment id="12627832" name="HIVE-5953.6.patch" size="178496" author="thejas" created="Sat, 8 Feb 2014 20:13:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 7 Feb 2014 20:54:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362042</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 13 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qeon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362337</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Granting privileges on a table now requires the grantor to have the same privileges &amp;#39;with grant option&amp;#39;.&lt;br/&gt;
&lt;br/&gt;
Also, note that this patch adds a new method setSessionState to the authentication interface. Any users of the interface would need to add that method.&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5954] SQL std auth - get_privilege_set should check role hierarchy</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5954</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A role can belong to another role. But get_privilege_set in hive metastore api checks only the privileges of the immediate roles a user belongs to.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682787">HIVE-5954</key>
            <summary>SQL std auth - get_privilege_set should check role hierarchy</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 23:16:17 +0000</created>
                <updated>Fri, 21 Mar 2014 15:51:31 +0000</updated>
                            <resolved>Tue, 25 Feb 2014 04:37:31 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="86400">24h</timeestimate>
                                        <comments>
                            <comment id="13841879" author="thejas" created="Fri, 6 Dec 2013 23:24:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; I believe your internal patch &quot;NHIVE-26 Indirect roles are not reflected in authorization&quot; must be doing the same as what is described in this jira. Will you able able to contribute that ?&lt;/p&gt;</comment>
                            <comment id="13894307" author="thejas" created="Fri, 7 Feb 2014 08:33:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; This is probably another jira where you have a patch already.&lt;/p&gt;
</comment>
                            <comment id="13895843" author="navis" created="Sun, 9 Feb 2014 06:21:14 +0000"  >&lt;p&gt;Looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6203&quot; title=&quot;Privileges of role granted indrectily to user is not applied&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6203&quot;&gt;&lt;del&gt;HIVE-6203&lt;/del&gt;&lt;/a&gt;. I&apos;ll update that in tomorrow.&lt;/p&gt;</comment>
                            <comment id="13909303" author="thejas" created="Sat, 22 Feb 2014 08:25:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5954&quot; title=&quot;SQL std auth - get_privilege_set should check role hierarchy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5954&quot;&gt;&lt;del&gt;HIVE-5954&lt;/del&gt;&lt;/a&gt;.1.patch - With this change, the current roles used in SQL standard auth also now includes roles in hierarchy.&lt;/p&gt;</comment>
                            <comment id="13909312" author="thejas" created="Sat, 22 Feb 2014 09:30:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5954&quot; title=&quot;SQL std auth - get_privilege_set should check role hierarchy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5954&quot;&gt;&lt;del&gt;HIVE-5954&lt;/del&gt;&lt;/a&gt;.2.patch - sorting show roles and show current roles output for deterministic results.&lt;/p&gt;</comment>
                            <comment id="13909936" author="ashutoshc" created="Sun, 23 Feb 2014 23:45:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Can you create RB request for this?&lt;/p&gt;</comment>
                            <comment id="13909944" author="thejas" created="Mon, 24 Feb 2014 00:21:44 +0000"  >&lt;p&gt;Adding review board link.&lt;/p&gt;</comment>
                            <comment id="13910799" author="hiveqa" created="Mon, 24 Feb 2014 20:54:43 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12630473/HIVE-5954.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12630473/HIVE-5954.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5177 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_rolehierarchy_privs
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1476/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1476/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1476/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1476/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12630473&lt;/p&gt;</comment>
                            <comment id="13910829" author="ashutoshc" created="Mon, 24 Feb 2014 21:19:00 +0000"  >&lt;p&gt;I think in most (all ?) cases full role hierarchy is required, so it may be better to add another parameter to list_roles() thrift api to get immediate vs all roles. That would also get rid of multiple calls that client currently makes to server. Can you create follow-up jira to track this for future work?&lt;br/&gt;
Other than that looks good, +1&lt;/p&gt;</comment>
                            <comment id="13910877" author="thejas" created="Mon, 24 Feb 2014 22:05:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5954&quot; title=&quot;SQL std auth - get_privilege_set should check role hierarchy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5954&quot;&gt;&lt;del&gt;HIVE-5954&lt;/del&gt;&lt;/a&gt;.3.patch - updates authorization_rolehierarchy_privs.q.out (roles should get printed in sorted order.)&lt;/p&gt;</comment>
                            <comment id="13910883" author="thejas" created="Mon, 24 Feb 2014 22:16:42 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6494&quot; title=&quot;support list_roles metastore api that returns all the roles in hierarchy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6494&quot;&gt;HIVE-6494&lt;/a&gt; for metastore api support for returning list of roles considering the hierarchy.&lt;/p&gt;</comment>
                            <comment id="13911244" author="thejas" created="Tue, 25 Feb 2014 04:37:31 +0000"  >&lt;p&gt;Patch committed to trunk. Thanks for the review Ashutosh!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12688940">HIVE-6203</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12688940">HIVE-6203</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12697011">HIVE-6494</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12630470" name="HIVE-5954.1.patch" size="21181" author="thejas" created="Sat, 22 Feb 2014 08:25:14 +0000"/>
                            <attachment id="12630473" name="HIVE-5954.2.patch" size="24291" author="thejas" created="Sat, 22 Feb 2014 09:30:16 +0000"/>
                            <attachment id="12630811" name="HIVE-5954.3.patch" size="24291" author="thejas" created="Mon, 24 Feb 2014 22:04:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 9 Feb 2014 06:21:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362044</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qep3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362339</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5955] SQL std auth - metastore api support for get_privilege_set api that checks specific role</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5955</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If the user has a set a specific role using &apos;SET ROLE role&apos;, then the authorization check should be done for specific role.&lt;br/&gt;
The authorization check should not check with all the roles the user belongs to.&lt;br/&gt;
This would new/different method in metastore api .&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12682791">HIVE-5955</key>
            <summary>SQL std auth - metastore api support for get_privilege_set api that checks specific role</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Dec 2013 23:27:49 +0000</created>
                <updated>Sun, 23 Mar 2014 17:44:07 +0000</updated>
                            <resolved>Tue, 18 Feb 2014 19:23:48 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="172800">48h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="86400">24h</timespent>
                                <comments>
                            <comment id="13904443" author="ashutoshc" created="Tue, 18 Feb 2014 19:23:48 +0000"  >&lt;p&gt;metastore api is no longer required. checks are happening using current roles already.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Feb 2014 19:23:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362048</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qepz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362343</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5956] SHOW TBLPROPERTIES doesn&apos;t take db name</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5956</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Identified in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5912&quot; title=&quot;Show partition command doesn&amp;#39;t support db.table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5912&quot;&gt;&lt;del&gt;HIVE-5912&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682815">HIVE-5956</key>
            <summary>SHOW TBLPROPERTIES doesn&apos;t take db name</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="xuefuz">Xuefu Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 01:22:00 +0000</created>
                <updated>Tue, 2 Sep 2014 04:49:12 +0000</updated>
                            <resolved>Tue, 2 Sep 2014 04:49:12 +0000</resolved>
                                    <version>0.12.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                                                <inwardlinks description="Is contained by">
                                        <issuelink>
            <issuekey id="12633663">HIVE-4064</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12633663">HIVE-4064</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362072</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qevb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362367</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5957] Fix HCatalog Unit tests on Windows</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5957</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;org.apache.hcatalog.hbase.TestHBaseHCatStorageHandler fails on Windows. It generates &quot;java.lang.IllegalStateException: Failed to setup cluster at org.apache.hcatalog.hbase.ManyMiniCluster.start(ManyMiniCluster.java:119)&quot;. Digging further there is &lt;br/&gt;
&quot;Please fix invalid configuration for hbase.rootdir &lt;a href=&quot;file://C:/tmp/build/test/data/test_default_573990410261077827/hbase&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://C:/tmp/build/test/data/test_default_573990410261077827/hbase&lt;/a&gt;&lt;br/&gt;
java.lang.IllegalArgumentException: Wrong FS: &lt;a href=&quot;file://C:/tmp/build/test/data/test_default_573990410261077827/hbase&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file://C:/tmp/build/test/data/test_default_573990410261077827/hbase&lt;/a&gt;, expected: &lt;a href=&quot;file:///&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:///&lt;/a&gt;&lt;br/&gt;
at org.apache.hadoop.fs.FileSystem.checkPath(FileSystem.java:642)&quot;&lt;/p&gt;

&lt;p&gt;This was fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5015&quot; title=&quot;[HCatalog] Fix HCatalog unit tests on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5015&quot;&gt;&lt;del&gt;HIVE-5015&lt;/del&gt;&lt;/a&gt; (9/3/13) and &lt;br/&gt;
and got clobbered by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5261&quot; title=&quot;Make the Hive HBase storage handler work from HCatalog, and use HiveStorageHandlers instead of HCatStorageHandlers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5261&quot;&gt;&lt;del&gt;HIVE-5261&lt;/del&gt;&lt;/a&gt; (9/12/13).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682819">HIVE-5957</key>
            <summary>Fix HCatalog Unit tests on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ekoifman">Eugene Koifman</assignee>
                                    <reporter username="ekoifman">Eugene Koifman</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 02:31:55 +0000</created>
                <updated>Fri, 20 Dec 2013 21:57:02 +0000</updated>
                            <resolved>Fri, 20 Dec 2013 21:57:02 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13851240" author="ekoifman" created="Wed, 18 Dec 2013 01:51:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5957&quot; title=&quot;Fix HCatalog Unit tests on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5957&quot;&gt;&lt;del&gt;HIVE-5957&lt;/del&gt;&lt;/a&gt;.patch has updates to many tests to make them run on Windows (pretty much entirely fixing path issues due to C&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13851244" author="ekoifman" created="Wed, 18 Dec 2013 01:52:16 +0000"  >&lt;p&gt;The patch has many other fixes in addition to what is in the bug description&lt;/p&gt;</comment>
                            <comment id="13851324" author="hiveqa" created="Wed, 18 Dec 2013 03:43:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12619223/HIVE-5957.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12619223/HIVE-5957.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4791 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/678/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/678/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/678/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/678/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12619223&lt;/p&gt;</comment>
                            <comment id="13852201" author="daijy" created="Wed, 18 Dec 2013 21:54:45 +0000"  >&lt;p&gt;Do we still need the change in TestMultiOutputFormat.java? Seems it is for debug?&lt;/p&gt;</comment>
                            <comment id="13852240" author="ekoifman" created="Wed, 18 Dec 2013 22:25:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daijy&quot; class=&quot;user-hover&quot; rel=&quot;daijy&quot;&gt;Daniel Dai&lt;/a&gt;Not sure I understand.  It seems like a proper change.&lt;/p&gt;</comment>
                            <comment id="13852494" author="ekoifman" created="Thu, 19 Dec 2013 02:18:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5957&quot; title=&quot;Fix HCatalog Unit tests on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5957&quot;&gt;&lt;del&gt;HIVE-5957&lt;/del&gt;&lt;/a&gt;.2.patch to address Daniel&apos;s comments&lt;/p&gt;</comment>
                            <comment id="13852696" author="hiveqa" created="Thu, 19 Dec 2013 07:21:14 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12619456/HIVE-5957.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12619456/HIVE-5957.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4792 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/696/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/696/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/696/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/696/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12619456&lt;/p&gt;</comment>
                            <comment id="13854596" author="daijy" created="Fri, 20 Dec 2013 21:57:02 +0000"  >&lt;p&gt;+1.&lt;/p&gt;

&lt;p&gt;Patch committed to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12619456" name="HIVE-5957.2.patch" size="30955" author="ekoifman" created="Thu, 19 Dec 2013 02:18:55 +0000"/>
                            <attachment id="12619223" name="HIVE-5957.patch" size="29769" author="ekoifman" created="Wed, 18 Dec 2013 01:51:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Dec 2013 03:43:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362076</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qew7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362371</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5958] SQL std auth - authorize statements that work with paths</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5958</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Statement such as create table, alter table that specify an path uri should be allowed under the new authorization scheme only if URI(Path) specified has permissions including read/write and ownership of the file/dir and its children.&lt;br/&gt;
Also, fix issue of database not getting set as output for create-table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682822">HIVE-5958</key>
            <summary>SQL std auth - authorize statements that work with paths</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 03:03:42 +0000</created>
                <updated>Mon, 10 Mar 2014 11:55:42 +0000</updated>
                            <resolved>Thu, 20 Feb 2014 15:52:49 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                    <timeoriginalestimate seconds="259200">72h</timeoriginalestimate>
                            <timeestimate seconds="259200">72h</timeestimate>
                                        <comments>
                            <comment id="13839745" author="thejas" created="Thu, 5 Dec 2013 03:04:36 +0000"  >&lt;p&gt;Something to explore is if adding a authorization based on dir permissions/ownership makes sense.&lt;/p&gt;</comment>
                            <comment id="13851777" author="brocknoland" created="Wed, 18 Dec 2013 14:36:58 +0000"  >&lt;p&gt;Hi Thejas,&lt;/p&gt;

&lt;p&gt;I feel disabling all commands which have a path will result in an unusable system since so many users user LOAD DATA ... and external tables. You agree that URI is essential:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;URI authorization is very essential &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5837?focusedCommentId=13850885&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13850885&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;source&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Therefore I assume &quot;in the first pass&quot; means in the very first iteration and that URI support will be supported in the first release?&lt;/p&gt;</comment>
                            <comment id="13856944" author="thejas" created="Thu, 26 Dec 2013 17:18:35 +0000"  >&lt;p&gt;I mean, in the first iteration, I am planning to add support for URI as an object to be authorized, but not supporting grant/revoke statements and authorization checks for it. So I am thinking of just returning access denied error for URI in first iteration.&lt;br/&gt;
I understand it will limit the functionality available with the first iteration. What is available in first release would depend on when the next hive release happens.&lt;/p&gt;</comment>
                            <comment id="13860411" author="alangates" created="Thu, 2 Jan 2014 18:01:03 +0000"  >&lt;p&gt;As an intermediate could we allow URI operations (like LOAD and LOCATION for tables) only if the user executing the command owns the file or directory being referenced?  This avoids the need to add full URI permissions into the first phase (thus making it harder to deliver some useful functionality) but delivers something that is hopefully still useful.&lt;/p&gt;</comment>
                            <comment id="13902650" author="thejas" created="Sun, 16 Feb 2014 07:21:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5958&quot; title=&quot;SQL std auth - authorize statements that work with paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5958&quot;&gt;&lt;del&gt;HIVE-5958&lt;/del&gt;&lt;/a&gt;.1.patch - has code changes, but needs several .q.out files to be updated&lt;/p&gt;</comment>
                            <comment id="13902694" author="thejas" created="Sun, 16 Feb 2014 12:38:52 +0000"  >&lt;p&gt;I am following the suggestions of Alan for allowing the use of URI. But it will be restricted to files that are owned by the user and permissions on the file should also be permissive enough.&lt;/p&gt;</comment>
                            <comment id="13902696" author="thejas" created="Sun, 16 Feb 2014 12:41:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; This patch includes the change in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2818&quot; title=&quot;Create table should check privilege of target database, not default database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2818&quot;&gt;&lt;del&gt;HIVE-2818&lt;/del&gt;&lt;/a&gt; for adding database to create-table outputs. I decided to add it here as there are failures in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2818&quot; title=&quot;Create table should check privilege of target database, not default database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2818&quot;&gt;&lt;del&gt;HIVE-2818&lt;/del&gt;&lt;/a&gt; that still need to be investigated. I will help by rebasing that patch and re-generating the q.out files in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2818&quot; title=&quot;Create table should check privilege of target database, not default database&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2818&quot;&gt;&lt;del&gt;HIVE-2818&lt;/del&gt;&lt;/a&gt; if this goes in first.&lt;/p&gt;</comment>
                            <comment id="13902697" author="thejas" created="Sun, 16 Feb 2014 12:42:45 +0000"  >&lt;p&gt;Adding review board link&lt;/p&gt;</comment>
                            <comment id="13902901" author="navis" created="Mon, 17 Feb 2014 01:30:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; I&apos;ve been a little frustrated on generating q.out files on too many issues. I really appreciated if anyone can help this process. &lt;/p&gt;</comment>
                            <comment id="13902939" author="thejas" created="Mon, 17 Feb 2014 04:13:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5958&quot; title=&quot;SQL std auth - authorize statements that work with paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5958&quot;&gt;&lt;del&gt;HIVE-5958&lt;/del&gt;&lt;/a&gt;.2.patch - more test cases, NPE fixes&lt;/p&gt;</comment>
                            <comment id="13902953" author="thejas" created="Mon, 17 Feb 2014 04:49:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5958&quot; title=&quot;SQL std auth - authorize statements that work with paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5958&quot;&gt;&lt;del&gt;HIVE-5958&lt;/del&gt;&lt;/a&gt;.3.patch - patch with q.out file updates&lt;/p&gt;</comment>
                            <comment id="13902962" author="thejas" created="Mon, 17 Feb 2014 05:07:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5958&quot; title=&quot;SQL std auth - authorize statements that work with paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5958&quot;&gt;&lt;del&gt;HIVE-5958&lt;/del&gt;&lt;/a&gt;.4.patch - addressing Brock&apos;s review comments&lt;/p&gt;</comment>
                            <comment id="13903304" author="hiveqa" created="Mon, 17 Feb 2014 15:25:34 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629313/HIVE-5958.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629313/HIVE-5958.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 20 failed/errored test(s), 5122 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_binarysortable_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_like
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_like_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_escape1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_escape2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_binary_data
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sample8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_create_table_alter
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_create_table_serde
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_functions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_roles
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_noscan_2
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_parallel_orderby
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_addpartition
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_mapreduce_stack_trace_hadoop20
org.apache.hive.hcatalog.cli.TestPermsGrp.testCustomPerms
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testURIDatabaseName
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1360/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1360/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1360/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1360/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 20 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629313&lt;/p&gt;</comment>
                            <comment id="13903404" author="thejas" created="Mon, 17 Feb 2014 17:39:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5958&quot; title=&quot;SQL std auth - authorize statements that work with paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5958&quot;&gt;&lt;del&gt;HIVE-5958&lt;/del&gt;&lt;/a&gt;.5.patch - fixing test outputs. Added pattern in QTestUtil to mask path used from hive root dir.&lt;/p&gt;</comment>
                            <comment id="13903506" author="ashutoshc" created="Mon, 17 Feb 2014 21:06:05 +0000"  >&lt;p&gt;Mostly looks good. Left some comments on RB.&lt;/p&gt;</comment>
                            <comment id="13903653" author="thejas" created="Tue, 18 Feb 2014 00:46:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5958&quot; title=&quot;SQL std auth - authorize statements that work with paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5958&quot;&gt;&lt;del&gt;HIVE-5958&lt;/del&gt;&lt;/a&gt;.6.patch - addressing review comments from Ashutosh&lt;/p&gt;</comment>
                            <comment id="13903843" author="ashutoshc" created="Tue, 18 Feb 2014 07:07:13 +0000"  >&lt;p&gt;+1 pending tests.&lt;/p&gt;</comment>
                            <comment id="13904069" author="hiveqa" created="Tue, 18 Feb 2014 14:07:54 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629454/HIVE-5958.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629454/HIVE-5958.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 5123 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_binarysortable_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_escape1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_escape2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_insert_overwrite_local_directory_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_binary_data
org.apache.hive.hcatalog.cli.TestPermsGrp.testCustomPerms
org.apache.hive.jdbc.TestJdbcWithMiniHS2.testURIDatabaseName
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1372/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1372/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1372/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1372/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629454&lt;/p&gt;</comment>
                            <comment id="13905588" author="thejas" created="Wed, 19 Feb 2014 15:55:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5958&quot; title=&quot;SQL std auth - authorize statements that work with paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5958&quot;&gt;&lt;del&gt;HIVE-5958&lt;/del&gt;&lt;/a&gt;.7.patch - fixes the locking timeout issue in TestPermsGrp.testCustomPerms ,TestJdbcWithMiniHS2.testURIDatabaseName  and TestHiveServer2.testConnection . There tests attempted to disable locking but were not doing it the right way, I have fixed that in the tests. When db got added as output in create table command in this patch, the locking had an object to lock and tried to get kicked off. &lt;br/&gt;
Other tests had failed because I didn&apos;t generate the patch with &quot;git diff -a&quot; , and some file q.out got treated as binary files.&lt;/p&gt;</comment>
                            <comment id="13906127" author="hiveqa" created="Wed, 19 Feb 2014 21:38:56 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12629792/HIVE-5958.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12629792/HIVE-5958.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5143 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1416/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1416/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1416/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1416/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12629792&lt;/p&gt;</comment>
                            <comment id="13907099" author="thejas" created="Thu, 20 Feb 2014 15:52:49 +0000"  >&lt;p&gt;Patch committed to trunk.&lt;br/&gt;
Thanks for the review Ashutosh!&lt;br/&gt;
I will add documentation information in release notes.&lt;/p&gt;</comment>
                            <comment id="13925131" author="lefty@hortonworks.com" created="Sun, 9 Mar 2014 06:54:43 +0000"  >&lt;p&gt;Will this be documented along with the parent jira, or does it need separate documentation?&lt;/p&gt;</comment>
                            <comment id="13925684" author="thejas" created="Mon, 10 Mar 2014 11:55:42 +0000"  >&lt;p&gt;I will document this along with the parent jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12683004">HIVE-5969</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12629256" name="HIVE-5958.1.patch" size="103481" author="thejas" created="Sun, 16 Feb 2014 07:21:18 +0000"/>
                            <attachment id="12629300" name="HIVE-5958.2.patch" size="135113" author="thejas" created="Mon, 17 Feb 2014 04:13:37 +0000"/>
                            <attachment id="12629307" name="HIVE-5958.3.patch" size="2106235" author="thejas" created="Mon, 17 Feb 2014 04:53:54 +0000"/>
                            <attachment id="12629313" name="HIVE-5958.4.patch" size="2106249" author="thejas" created="Mon, 17 Feb 2014 05:42:51 +0000"/>
                            <attachment id="12629405" name="HIVE-5958.5.patch" size="2107138" author="thejas" created="Mon, 17 Feb 2014 17:39:59 +0000"/>
                            <attachment id="12629454" name="HIVE-5958.6.patch" size="2102403" author="thejas" created="Tue, 18 Feb 2014 00:46:17 +0000"/>
                            <attachment id="12629792" name="HIVE-5958.7.patch" size="2129979" author="thejas" created="Wed, 19 Feb 2014 15:55:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 Dec 2013 14:36:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362079</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qewv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362374</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5959] SQL std auth - bootstrap SUPERUSER roles</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5959</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;SUPERUSER and PUBLIC are two roles that are always present, these need to be added automatically on metastore startup. This would be similar to creation of the &quot;default&quot; database from HMSHandler.init().&lt;/p&gt;

&lt;p&gt;A config param in hive-site.xml will be used to specify the list of users who belong to the SUPERUSER role.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12682824">HIVE-5959</key>
            <summary>SQL std auth - bootstrap SUPERUSER roles</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 03:16:28 +0000</created>
                <updated>Sun, 16 Mar 2014 07:03:20 +0000</updated>
                            <resolved>Thu, 30 Jan 2014 18:51:09 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                    <timeoriginalestimate seconds="259200">72h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="86400">24h</timespent>
                                <comments>
                            <comment id="13883040" author="ashutoshc" created="Mon, 27 Jan 2014 18:14:24 +0000"  >&lt;p&gt;This patch adds root role at metastore startup time.&lt;/p&gt;</comment>
                            <comment id="13883484" author="hiveqa" created="Mon, 27 Jan 2014 22:59:26 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12625390/HIVE-5959.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12625390/HIVE-5959.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 4962 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_import_exported_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_load_hdfs_file_with_space_in_the_name
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_file_with_header_footer_negative
org.apache.hadoop.hive.metastore.TestMetastoreVersion.testVersionMisMatch
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1049/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1049/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1049/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1049/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12625390&lt;/p&gt;</comment>
                            <comment id="13883654" author="ashutoshc" created="Tue, 28 Jan 2014 02:04:09 +0000"  >&lt;p&gt;RB request : &lt;a href=&quot;https://reviews.apache.org/r/17441/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/17441/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13884201" author="brocknoland" created="Tue, 28 Jan 2014 14:44:44 +0000"  >&lt;p&gt;The spacing of the new lines is way off? Looks like tabs and strange formatting?&lt;/p&gt;</comment>
                            <comment id="13884704" author="ashutoshc" created="Tue, 28 Jan 2014 21:20:48 +0000"  >&lt;p&gt;Updated patch to incorporate feedback from RB. Also, I renamed root to admin since in sql parlance I think thats more common.&lt;/p&gt;</comment>
                            <comment id="13884947" author="thejas" created="Wed, 29 Jan 2014 03:05:04 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13885187" author="hiveqa" created="Wed, 29 Jan 2014 09:58:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12625774/HIVE-5959.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12625774/HIVE-5959.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4973 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.jdbc.TestJdbcDriver2.testNewConnectionConfiguration
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1093/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1093/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1093/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1093/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12625774&lt;/p&gt;</comment>
                            <comment id="13885505" author="ashutoshc" created="Wed, 29 Jan 2014 16:43:24 +0000"  >&lt;p&gt;Cannot repro above failed testcase. Anyways look unrelated. Seems like port contention issue on Hive QA box. Reuploading to get another run. Also, incoporated Swarnim&apos;s comments on improving log messages.&lt;/p&gt;</comment>
                            <comment id="13885842" author="brocknoland" created="Wed, 29 Jan 2014 21:37:46 +0000"  >&lt;p&gt;This is a bad idea:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;assert (e instanceof RuntimeException);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;all we will know is that an assertion failed but no idea what exception caused it. If we want this to be true we should only patch runtimeexception.&lt;/p&gt;</comment>
                            <comment id="13885847" author="ashutoshc" created="Wed, 29 Jan 2014 21:41:40 +0000"  >&lt;p&gt;I guess you are looking in createDefaultDb() method. I haven&apos;t altered logic of that method. Its existing code. Shall we try to improve that in different jira ?&lt;/p&gt;</comment>
                            <comment id="13886210" author="hiveqa" created="Thu, 30 Jan 2014 03:01:22 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12625894/HIVE-5959.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12625894/HIVE-5959.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1104/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1104/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1104/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1104/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n &apos;&apos; ]]
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-1104/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
++ awk &apos;{print $2}&apos;
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/storage-handlers/hbase/target hcatalog/server-extensions/target hcatalog/core/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hcatalog/hcatalog-pig-adapter/target hwi/target common/target common/src/gen contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1562672.

At revision 1562672.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12625894&lt;/p&gt;</comment>
                            <comment id="13886228" author="ashutoshc" created="Thu, 30 Jan 2014 03:50:31 +0000"  >&lt;p&gt;Another rebase on trunk.&lt;/p&gt;</comment>
                            <comment id="13886254" author="brocknoland" created="Thu, 30 Jan 2014 04:47:29 +0000"  >&lt;p&gt;It looks like we are moving quite a bit a code around. I don&apos;t see why we cannot do it in this jira? It&apos;s trivial...&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;+      } catch (Exception e) {
+        assert (e instanceof RuntimeException);
+        throw (RuntimeException) e;
+      }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This code is completely bad on many levels.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;If there is any possibility that a non-RTE can be thrown, then this code is completely wrong. Specifically if a non-RTE can be thrown then it&apos;s event worse than just ugly code because depending on if assertions are enabled or not, the &lt;b&gt;type&lt;/b&gt; of the exception is eaten or the message and stack trace are eaten.&lt;/li&gt;
	&lt;li&gt;If there is no possibility that non-RTE can be thrown then the catch should be RTE in which case it&apos;s immediately re-thrown and this code is completely useless.&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="13886650" author="ashutoshc" created="Thu, 30 Jan 2014 15:19:26 +0000"  >&lt;p&gt;I have created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6338&quot; title=&quot;Improve exception handling in createDefaultDb() in Metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6338&quot;&gt;&lt;del&gt;HIVE-6338&lt;/del&gt;&lt;/a&gt; and have marked it for 0.13 Reason I don&apos;t want to make these  changes (which anyways don&apos;t serve purpose of this jira) is because I have set of jiras which are dependent on this one, like &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5944&quot; title=&quot;SQL std auth - authorize show all roles, create role, drop role&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5944&quot;&gt;&lt;del&gt;HIVE-5944&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5943&quot; title=&quot;SQL std auth - authorize DESCRIBE ROLE role &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5943&quot;&gt;&lt;del&gt;HIVE-5943&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5952&quot; title=&quot;SQL std auth - authorize grant/revoke roles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5952&quot;&gt;&lt;del&gt;HIVE-5952&lt;/del&gt;&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;I am happy to make your suggested changes in different one. It might even make sense to scrub all of Hive code to spot on those kind of incorrect exception handling and fix them.&lt;/p&gt;</comment>
                            <comment id="13886738" author="brocknoland" created="Thu, 30 Jan 2014 16:25:24 +0000"  >&lt;p&gt;OK fair enough. I marked &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6338&quot; title=&quot;Improve exception handling in createDefaultDb() in Metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6338&quot;&gt;&lt;del&gt;HIVE-6338&lt;/del&gt;&lt;/a&gt; as a blocker.&lt;/p&gt;</comment>
                            <comment id="13886823" author="hiveqa" created="Thu, 30 Jan 2014 17:54:40 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12626051/HIVE-5959.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12626051/HIVE-5959.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4972 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_auto_sortmerge_join_16
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1116/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1116/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1116/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1116/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12626051&lt;/p&gt;</comment>
                            <comment id="13886904" author="ashutoshc" created="Thu, 30 Jan 2014 18:51:09 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Thejas &amp;amp; Brock for review!&lt;/p&gt;</comment>
                            <comment id="13887321" author="lefty@hortonworks.com" created="Fri, 31 Jan 2014 00:48:18 +0000"  >&lt;p&gt;This adds &lt;b&gt;hive.users.in.admin.role&lt;/b&gt; to HiveConf.java &amp;amp; hive-default.xml.template, so I&apos;ll put it in the wiki with a release note.  But some explanation is also needed in the Authorization wiki, and perhaps a mention in Configuration.  Should that be done now, or wait for the umbrella jira (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5837&quot; title=&quot;SQL standard based secure authorization for hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5837&quot;&gt;&lt;del&gt;HIVE-5837&lt;/del&gt;&lt;/a&gt;)?&lt;/p&gt;

&lt;p&gt;Quick ref:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5837&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-5837:  SQL standard based secure authorization for hive &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-Authentication/Authorization&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties:  Authentication/Authorization &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Authorization&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Hive Authorization &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AdminManual+Configuration&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;AdminManual Configuration &lt;/a&gt;
	&lt;ul&gt;
		&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AdminManual+Configuration#AdminManualConfiguration-ConfiguringHive&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuring Hive &lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AdminManual+Configuration#AdminManualConfiguration-ConfigurationVariables&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Variables &lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13894671" author="ashutoshc" created="Fri, 7 Feb 2014 16:14:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; I added the release notes. I think same text can be put on wiki also.&lt;/p&gt;</comment>
                            <comment id="13936461" author="lefty@hortonworks.com" created="Sun, 16 Mar 2014 07:03:20 +0000"  >&lt;p&gt;Added a subsection to Authentication/Authorization in Configuration Properties, and documented &lt;b&gt;hive.users.in.admin.role&lt;/b&gt;:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-SQLStandardBasedAuthorization&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties:  SQL Standard Based Authorization &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;But I didn&apos;t find any other config parameters for SQL standard authorization.  I&apos;ll keep the separate section for now, but if no new parameters are added then it might get merged into Hive Client Security later on.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12682605">HIVE-5944</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12625668" name="HIVE-5959.2.patch" size="9523" author="ashutoshc" created="Tue, 28 Jan 2014 21:20:48 +0000"/>
                            <attachment id="12625687" name="HIVE-5959.3.patch" size="9915" author="ashutoshc" created="Tue, 28 Jan 2014 22:24:46 +0000"/>
                            <attachment id="12625774" name="HIVE-5959.5.patch" size="10803" author="ashutoshc" created="Wed, 29 Jan 2014 02:46:22 +0000"/>
                            <attachment id="12625894" name="HIVE-5959.6.patch" size="8268" author="ashutoshc" created="Wed, 29 Jan 2014 16:43:24 +0000"/>
                            <attachment id="12626051" name="HIVE-5959.7.patch" size="8247" author="ashutoshc" created="Thu, 30 Jan 2014 03:50:31 +0000"/>
                            <attachment id="12625390" name="HIVE-5959.patch" size="7792" author="ashutoshc" created="Mon, 27 Jan 2014 18:14:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 27 Jan 2014 18:14:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362081</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qexb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362376</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>A new property is added in HiveConf. {{hive.users.in.admin.role}} An admin can provide a comma separated list of users which will be added to admin role when metastore starts up. More users can still be added later on. </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5960] SQL std auth - special handling of PUBLIC role</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5960</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;All users should belong to the public role. Users don&apos;t have to be (/can&apos;t be) added to this role .&lt;br/&gt;
Metastore api/checks should return this role.&lt;br/&gt;
set role should allow setting to this role.&lt;br/&gt;
GRANT/REVOKE on this should be disabled.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682825">HIVE-5960</key>
            <summary>SQL std auth - special handling of PUBLIC role</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 03:19:33 +0000</created>
                <updated>Mon, 10 Feb 2014 06:46:15 +0000</updated>
                            <resolved>Wed, 5 Feb 2014 18:36:51 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <timeoriginalestimate seconds="86400">24h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="86400">24h</timespent>
                                <comments>
                            <comment id="13890988" author="ashutoshc" created="Tue, 4 Feb 2014 18:41:16 +0000"  >&lt;p&gt;Added PUBLIC role.&lt;/p&gt;</comment>
                            <comment id="13891069" author="ashutoshc" created="Tue, 4 Feb 2014 19:32:30 +0000"  >&lt;p&gt;RB request : &lt;a href=&quot;https://reviews.apache.org/r/17718/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/17718/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13891367" author="hiveqa" created="Tue, 4 Feb 2014 23:02:54 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12626929/HIVE-5960.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12626929/HIVE-5960.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5014 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_authorization_role_grant1
org.apache.hadoop.hive.jdbc.TestJdbcDriver.testShowRoleGrant
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1187/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1187/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1187/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1187/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12626929&lt;/p&gt;</comment>
                            <comment id="13891468" author="ashutoshc" created="Wed, 5 Feb 2014 00:03:05 +0000"  >&lt;p&gt;Incorporated Brock &amp;amp; Thejas feedback. Fixed test fails.&lt;/p&gt;</comment>
                            <comment id="13891481" author="thejas" created="Wed, 5 Feb 2014 00:11:03 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13892105" author="hiveqa" created="Wed, 5 Feb 2014 13:46:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12627032/HIVE-5960.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12627032/HIVE-5960.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5014 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_dyn_part
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_parallel_orderby
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1199/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1199/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1199/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1199/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12627032&lt;/p&gt;</comment>
                            <comment id="13892400" author="ashutoshc" created="Wed, 5 Feb 2014 18:36:51 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                            <comment id="13893259" author="lefty@hortonworks.com" created="Thu, 6 Feb 2014 10:59:23 +0000"  >&lt;p&gt;Should this be documented now, or wait for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6355&quot; title=&quot;sql std auth - document configuration necessary for security&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6355&quot;&gt;&lt;del&gt;HIVE-6355&lt;/del&gt;&lt;/a&gt; / &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5837&quot; title=&quot;SQL standard based secure authorization for hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5837&quot;&gt;&lt;del&gt;HIVE-5837&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Authorization&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Language Manual:  Authorization &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13894676" author="ashutoshc" created="Fri, 7 Feb 2014 16:17:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt; I added release notes. Same text can be added in cwiki also.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12627032" name="HIVE-5960.1.patch" size="27519" author="ashutoshc" created="Wed, 5 Feb 2014 00:03:05 +0000"/>
                            <attachment id="12626929" name="HIVE-5960.patch" size="15957" author="ashutoshc" created="Tue, 4 Feb 2014 18:41:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 4 Feb 2014 18:41:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362082</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 50 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qexj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362377</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>In sql standard authorization mode all users by default belong to PUBLIC role</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5961] Add explain authorize for checking privileges</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5961</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For easy checking of need privileges for a query, &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;explain authorize select * from src join srcpart
INPUTS: 
  default@srcpart
  default@srcpart@ds=2008-04-08/hr=11
  default@srcpart@ds=2008-04-08/hr=12
  default@srcpart@ds=2008-04-09/hr=11
  default@srcpart@ds=2008-04-09/hr=12
  default@src
OUTPUTS: 
  file:/home/navis/apache/oss-hive/itests/qtest/target/tmp/localscratchdir/hive_2013-12-04_21-57-53_748_5323811717799107868-1/-mr-10000
CURRENT_USER: 
  hive_test_user
OPERATION: 
  QUERY
AUTHORIZATION_FAILURES: 
  No privilege &apos;Select&apos; found for inputs { database:default, table:srcpart, columnName:key}
  No privilege &apos;Select&apos; found for inputs { database:default, table:src, columnName:key}
  No privilege &apos;Select&apos; found for inputs { database:default, table:src, columnName:key}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Hopefully good for debugging of authorization, which is in progress on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5837&quot; title=&quot;SQL standard based secure authorization for hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5837&quot;&gt;&lt;del&gt;HIVE-5837&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682839">HIVE-5961</key>
            <summary>Add explain authorize for checking privileges</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 06:08:58 +0000</created>
                <updated>Sun, 16 Nov 2014 20:25:31 +0000</updated>
                            <resolved>Sun, 25 May 2014 19:28:13 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13841045" author="hiveqa" created="Fri, 6 Dec 2013 07:05:01 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617282/HIVE-5961.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617282/HIVE-5961.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 44 failed/errored test(s), 4459 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_or_replace_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_view_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_database_drop
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_describe_formatted_view_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_describe_formatted_view_partitioned_json
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_explain_logical
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auth
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_empty
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_file_format
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_mult_tables
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_mult_tables_compact
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_multiple
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_self_join
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_unused
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_auto_update
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_auto
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_auto_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_compression
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_bitmap_rc
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_binary_search
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compression
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_creation
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_serde
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_stale
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_stale_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_indexes_edge_cases
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_show_indexes_syntax
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_as_select_with_partition
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_alter_view_failure4
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_or_replace_view1
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_create_or_replace_view2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_index_compact_entry_limit
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_index_compact_size_limit
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/540/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/540/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/540/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/540/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 44 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617282&lt;/p&gt;</comment>
                            <comment id="13842431" author="navis" created="Sun, 8 Dec 2013 07:01:52 +0000"  >&lt;p&gt;Fix tests&lt;/p&gt;</comment>
                            <comment id="13842453" author="hiveqa" created="Sun, 8 Dec 2013 08:19:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617620/HIVE-5961.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617620/HIVE-5961.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 4461 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_view_as_select
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_explain_logical
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/562/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/562/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/562/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/562/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617620&lt;/p&gt;</comment>
                            <comment id="13843921" author="hiveqa" created="Tue, 10 Dec 2013 04:13:13 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617947/HIVE-5961.3.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617947/HIVE-5961.3.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4762 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_precision
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/589/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/589/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/589/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/589/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617947&lt;/p&gt;</comment>
                            <comment id="13844987" author="navis" created="Wed, 11 Dec 2013 02:14:44 +0000"  >&lt;p&gt;decimal_precision is not related to this and fixed on other issue. &lt;/p&gt;</comment>
                            <comment id="13894126" author="navis" created="Fri, 7 Feb 2014 02:30:08 +0000"  >&lt;p&gt;Rebased to trunk&lt;/p&gt;</comment>
                            <comment id="13894128" author="navis" created="Fri, 7 Feb 2014 02:31:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Could you check this? This might help implementation of authorization.&lt;/p&gt;</comment>
                            <comment id="13894299" author="thejas" created="Fri, 7 Feb 2014 08:28:05 +0000"  >&lt;p&gt;Sure, I will take a look at it. This can be useful for developers for debugging.&lt;br/&gt;
FYI, for users I have introduced better error messages in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5953&quot; title=&quot;SQL std auth - authorize grant/revoke on table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5953&quot;&gt;&lt;del&gt;HIVE-5953&lt;/del&gt;&lt;/a&gt; . eg&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; &quot;Permission denied. Principal [name=user2, type=USER] does not have following privileges on Hive Object [type=TABLE, dbname=default, table/viewname=table_priv_allf] :DELETE with grant, SELECT with grant, UPDATE with grant&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13894647" author="hiveqa" created="Fri, 7 Feb 2014 15:49:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12627542/HIVE-5961.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12627542/HIVE-5961.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5042 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_bucketed_table
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1235/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1235/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1235/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1235/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12627542&lt;/p&gt;</comment>
                            <comment id="13958422" author="hiveqa" created="Thu, 3 Apr 2014 01:35:37 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12638220/HIVE-5961.5.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12638220/HIVE-5961.5.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5543 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_smb_mapjoin_8
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2086/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2086/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2086/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/2086/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12638220&lt;/p&gt;</comment>
                            <comment id="13974270" author="ashutoshc" created="Fri, 18 Apr 2014 17:25:48 +0000"  >&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Would you like to take a look? In addition to explain which is super useful for debugging, this also decouples authorizer from SessionState and puts in SemanticAnalyzer, an useful change.&lt;/p&gt;</comment>
                            <comment id="14007936" author="ashutoshc" created="Sat, 24 May 2014 00:51:54 +0000"  >&lt;p&gt;Left some comments on RB&lt;/p&gt;</comment>
                            <comment id="14008137" author="ashutoshc" created="Sat, 24 May 2014 14:28:42 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14008401" author="hiveqa" created="Sun, 25 May 2014 18:42:24 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12646664/HIVE-5961.6.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12646664/HIVE-5961.6.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 5463 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_parquet_decimal1
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_ctas
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimal
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimalX
org.apache.hive.hcatalog.pig.TestOrcHCatPigStorer.testWriteDecimalXY
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/292/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/292/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/292/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/292/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-292/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-292/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12646664&lt;/p&gt;</comment>
                            <comment id="14008414" author="ashutoshc" created="Sun, 25 May 2014 19:28:14 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Navis!&lt;/p&gt;</comment>
                            <comment id="14207216" author="lefty@hortonworks.com" created="Tue, 11 Nov 2014 22:34:11 +0000"  >&lt;p&gt;Doc note:  This should be documented in the EXPLAIN wikidoc (with version information).  The authorization docs should also mention it, perhaps with examples, and link to the EXPLAIN syntax.&lt;/p&gt;

&lt;p&gt;Question:  Does this work for all three types of authorization?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Explain&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;LanguageManual &amp;#8211; Explain &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Authorization&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;LanguageManual &amp;#8211; Authorization &lt;/a&gt;
	&lt;ul&gt;
		&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Storage+Based+Authorization+in+the+Metastore+Server&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Storage Based Authorization &lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SQL Standard Based Authorization &lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Hive+Default+Authorization+-+Legacy+Mode&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Default Authorization &amp;#8211; Legacy Mode &lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14211053" author="thejas" created="Thu, 13 Nov 2014 19:43:53 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                            <comment id="14214053" author="lefty@hortonworks.com" created="Sun, 16 Nov 2014 20:25:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; documented this in the EXPLAIN syntax doc.  Thanks!&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Explain&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;LanguageManual &amp;#8211; Explain &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Question:  Is FORMATTED a general keyword, or just for AUTHORIZATION?  In other words, is it this:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;EXPLAIN [EXTENDED|DEPENDENCY|AUTHORIZATION] [FORMATTED] query&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;or this:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;EXPLAIN [EXTENDED|DEPENDENCY|AUTHORIZATION [FORMATTED]] query&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Presumably the first, but I want to be sure before adding it to the doc.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12724569">HIVE-7317</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12719020">HIVE-7194</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617282" name="HIVE-5961.1.patch.txt" size="30151" author="navis" created="Fri, 6 Dec 2013 00:57:09 +0000"/>
                            <attachment id="12617620" name="HIVE-5961.2.patch.txt" size="31146" author="navis" created="Sun, 8 Dec 2013 07:01:19 +0000"/>
                            <attachment id="12617947" name="HIVE-5961.3.patch.txt" size="30314" author="navis" created="Tue, 10 Dec 2013 01:01:42 +0000"/>
                            <attachment id="12627542" name="HIVE-5961.4.patch.txt" size="32511" author="navis" created="Fri, 7 Feb 2014 02:30:08 +0000"/>
                            <attachment id="12638220" name="HIVE-5961.5.patch.txt" size="34012" author="navis" created="Wed, 2 Apr 2014 09:06:32 +0000"/>
                            <attachment id="12646664" name="HIVE-5961.6.patch.txt" size="35766" author="navis" created="Sat, 24 May 2014 08:44:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Dec 2013 07:05:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362096</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qf0n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362391</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5962] Support UTF8 character for table or column names</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5962</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;One of the customer wanted table name to be UTF8 string in mysql metastore. This patch is not intended to be included in hive trunk.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682845">HIVE-5962</key>
            <summary>Support UTF8 character for table or column names</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                            <label>i18n</label>
                    </labels>
                <created>Thu, 5 Dec 2013 06:56:58 +0000</created>
                <updated>Thu, 16 Nov 2017 13:56:04 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13118917">HIVE-18083</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617122" name="HIVE-5962.1.patch.txt" size="7495" author="navis" created="Thu, 5 Dec 2013 06:58:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362102</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qf1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362397</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5963] Update build instructions in Getting Started wikidoc</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5963</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In the &quot;Getting Started&quot; wikidoc, &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/GettingStarted#GettingStarted-BuildingHivefromSource&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Building Hive from Source&lt;/a&gt; still uses &lt;tt&gt;ant&lt;/tt&gt; instead of &lt;tt&gt;mvn&lt;/tt&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;  $ ant clean package&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;and:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;  $ ant clean package -Dhadoop.version=0.23.3 -Dhadoop-0.23.version=0.23.3 -Dhadoop.mr.rev=23&lt;br/&gt;
  $ ant clean package -Dhadoop.version=2.0.0-alpha -Dhadoop-0.23.version=2.0.0-alpha -Dhadoop.mr.rev=23&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Perhaps these instructions should be retained for earlier releases, but Maven instructions need to be added for 0.13.0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682860">HIVE-5963</key>
            <summary>Update build instructions in Getting Started wikidoc</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="szehon">Szehon Ho</assignee>
                                    <reporter username="leftylev">Lefty Leverenz</reporter>
                        <labels>
                            <label>documentation</label>
                    </labels>
                <created>Thu, 5 Dec 2013 08:46:27 +0000</created>
                <updated>Sat, 16 Aug 2014 07:50:08 +0000</updated>
                                            <version>0.13.0</version>
                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13894358" author="lefty@hortonworks.com" created="Fri, 7 Feb 2014 09:55:42 +0000"  >&lt;p&gt;A gentle reminder ... this should get done by the time Hive 0.13.0 is released.&lt;/p&gt;</comment>
                            <comment id="13937474" author="lefty@hortonworks.com" created="Mon, 17 Mar 2014 05:46:03 +0000"  >&lt;p&gt;Another reminder.&lt;/p&gt;</comment>
                            <comment id="13947678" author="lefty@hortonworks.com" created="Wed, 26 Mar 2014 08:43:55 +0000"  >&lt;p&gt;The &quot;Installation&quot; wikidoc also needs to be updated with maven instructions:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AdminManual+Installation&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;AdminManual Installation &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;A recent message to the user mailing list pointed out the obsolete Installation doc:  &lt;a href=&quot;http://mail-archives.apache.org/mod_mbox/hive-user/201403.mbox/%3cCAHwWqxgykr+eo+VqZ-jmC+AcC=rK9yQcTriyPxvAY5J_k9J92A@mail.gmail.com%3e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://mail-archives.apache.org/mod_mbox/hive-user/201403.mbox/%3cCAHwWqxgykr+eo+VqZ-jmC+AcC=rK9yQcTriyPxvAY5J_k9J92A@mail.gmail.com%3e&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13947683" author="lefty@hortonworks.com" created="Wed, 26 Mar 2014 08:54:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;, can you take care of these doc changes or suggest someone else?&lt;/p&gt;</comment>
                            <comment id="13948231" author="brocknoland" created="Wed, 26 Mar 2014 18:03:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xuefuz&quot; class=&quot;user-hover&quot; rel=&quot;xuefuz&quot;&gt;Xuefu Zhang&lt;/a&gt; any interest in taking this up?&lt;/p&gt;</comment>
                            <comment id="13948246" author="szehon" created="Wed, 26 Mar 2014 18:13:07 +0000"  >&lt;p&gt;Sure I update the build instruction, but it is a wiki change only right ?  I dont think I have permission for wiki, can somebody grant?&lt;/p&gt;</comment>
                            <comment id="13948333" author="lefty@hortonworks.com" created="Wed, 26 Mar 2014 19:07:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; has been granting wiki edit privileges lately, and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt; used to.  (I don&apos;t know who else can do it.)  Or you could tell me what changes to make, but I&apos;m swamped trying to catch up with 0.13.0 doc issues.&lt;/p&gt;

&lt;p&gt;Thanks for volunteering, Szehon.&lt;/p&gt;</comment>
                            <comment id="13948400" author="ashutoshc" created="Wed, 26 Mar 2014 20:18:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; I granted you wiki edit karma.&lt;/p&gt;</comment>
                            <comment id="13948461" author="szehon" created="Wed, 26 Mar 2014 21:04:07 +0000"  >&lt;p&gt;Thanks Ashutosh.  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;Lefty Leverenz&lt;/a&gt;  I updated the page with the latest information on the current maven distributable.  Feel free to look and correct if necessary, when you get the chance.&lt;/p&gt;</comment>
                            <comment id="14099552" author="lefty@hortonworks.com" created="Sat, 16 Aug 2014 07:50:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;, I added an introductory sentence in &quot;Installation and Configuration&quot; to clarify the either/or nature of its subsections and made some changes in &quot;Building Hive from Source&quot; to differentiate trunk from branches &amp;#8211; would you please review the doc?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/GettingStarted#GettingStarted-InstallationandConfiguration&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Getting Started &amp;#8211; Installation and Configuration &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/GettingStarted#GettingStarted-BuildingHivefromSource&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Getting Started &amp;#8211; Building Hive from Source &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;While you&apos;re at it, you might revise the Disclaimer at the beginning of the doc:  &quot;Hive has only been tested on Unix (Linux) and Mac systems using Java 1.6....&quot;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12663974">HIVE-5107</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 26 Mar 2014 18:03:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362117</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qf5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362412</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5964] Hive missing a filter predicate causing wrong results joining tables after sort by</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5964</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It seems like the optimization of predicate pushdown is failing under certain conditions causing wrong results as a filter predicate appears to be completely disregarded by the query processor for some reason.&lt;/p&gt;

&lt;p&gt;Here is the scenario (assuming &quot;dual&quot; table exists) :&lt;/p&gt;

&lt;p&gt;set hive.optimize.ppd=true;&lt;br/&gt;
drop table if exists test_tbl ;&lt;br/&gt;
create table test_tbl (id string,name string);&lt;/p&gt;

&lt;p&gt;insert into table test_tbl&lt;br/&gt;
select &apos;a&apos;,&apos;b&apos; from dual;&lt;/p&gt;

&lt;p&gt;test_tbl now contains :&lt;br/&gt;
a b&lt;/p&gt;

&lt;p&gt;the following query :&lt;br/&gt;
select t2.* &lt;br/&gt;
from&lt;br/&gt;
(select id,name from (select id,name from test_tbl) t1 sort by id) t2&lt;br/&gt;
 join test_tbl t3 on (t2.id=t3.id )&lt;br/&gt;
where t2.name=&apos;c&apos; and t3.id=&apos;a&apos;;&lt;/p&gt;

&lt;p&gt;returns :&lt;br/&gt;
a b&lt;/p&gt;

&lt;p&gt;The filter :&quot; t2.name=&apos;c&apos; &quot; is missing from the execution plan and obviously doesn&apos;t apply.&lt;br/&gt;
The filter &quot;t3.id=&apos;a&apos; &quot; does appear in the plan and is being applied before the join.&lt;/p&gt;

&lt;p&gt;If the query changes a little bit like removing the sort by, removing the t1 sub-query or disabling hive.optimize.ppd then the predicate appears.&lt;/p&gt;

&lt;p&gt;I&apos;m able to reproduce the problem both in Hive 0.10 and Hive 0.11 although It seems to work fine in Hive 0.7&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682903">HIVE-5964</key>
            <summary>Hive missing a filter predicate causing wrong results joining tables after sort by</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="dimamah">dima machlin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 13:32:21 +0000</created>
                <updated>Sat, 22 Mar 2014 05:35:43 +0000</updated>
                            <resolved>Sat, 22 Mar 2014 05:35:43 +0000</resolved>
                                    <version>0.10.0</version>
                    <version>0.11.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13840769" author="thejas" created="Fri, 6 Dec 2013 01:08:04 +0000"  >&lt;p&gt;Thanks for reporting this issue. &quot;&quot; t2.name=&apos;c&apos; &quot; missing is certainly a bug. I verified that this happens with hive 0.12 as well . &lt;br/&gt;
 &quot;t3.id=&apos;a&apos; &quot; happening before the join looks fine, that can be pushed since this is an inner join.&lt;/p&gt;</comment>
                            <comment id="13840799" author="navis" created="Fri, 6 Dec 2013 01:29:37 +0000"  >&lt;p&gt;I didn&apos;t checked exactly, but &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4293&quot; title=&quot;Predicates following UDTF operator are removed by PPD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4293&quot;&gt;&lt;del&gt;HIVE-4293&lt;/del&gt;&lt;/a&gt; is seemingly fixing this issue.&lt;/p&gt;

&lt;p&gt;trunk&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;STAGE PLANS:
  Stage: Stage-2
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        t2:t1:test_tbl 
          TableScan
            alias: test_tbl
            Select Operator
              expressions:
                    expr: id
                    type: string
                    expr: name
                    type: string
              outputColumnNames: _col0, _col1
              Reduce Output Operator
                key expressions:
                      expr: _col0
                      type: string
                sort order: +
                tag: -1
                value expressions:
                      expr: _col0
                      type: string
                      expr: _col1
                      type: string
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4293&quot; title=&quot;Predicates following UDTF operator are removed by PPD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4293&quot;&gt;&lt;del&gt;HIVE-4293&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;STAGE PLANS:
  Stage: Stage-2
    Map Reduce
      Alias -&amp;gt; Map Operator Tree:
        t2:t1:test_tbl 
          TableScan
            alias: test_tbl
            Filter Operator
              predicate:
                  expr: ((name = &apos;c&apos;) and (id = &apos;a&apos;))
                  type: boolean
              Select Operator
                expressions:
                      expr: id
                      type: string
                      expr: name
                      type: string
                outputColumnNames: _col0, _col1
                Reduce Output Operator
                  key expressions:
                        expr: _col0
                        type: string
                  sort order: +
                  tag: -1
                  value expressions:
                        expr: _col0
                        type: string
                        expr: _col1
                        type: string
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13943926" author="ashutoshc" created="Sat, 22 Mar 2014 05:35:43 +0000"  >&lt;p&gt;Fixed via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4293&quot; title=&quot;Predicates following UDTF operator are removed by PPD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4293&quot;&gt;&lt;del&gt;HIVE-4293&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12640695">HIVE-4293</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Dec 2013 01:08:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362160</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 44 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qfev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362455</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5965] hadoop.bin.path on Windows .q tests should contain .cmd extension</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5965</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Tests fail with:&lt;/p&gt;

&lt;p&gt;java.io.IOException: Cannot run program &quot;E:\HW\project\hive-monarch\itests\qtest/../../testutils/hadoop&quot; (in directory &quot;E:\HW\project\hive-monarch\itests\qtest&quot;): CreateProcess error=193, %1 is not a valid Win32 application&lt;br/&gt;
	at java.lang.ProcessBuilder.start(ProcessBuilder.java:460)&lt;br/&gt;
	at java.lang.Runtime.exec(Runtime.java:593)&lt;br/&gt;
	at java.lang.Runtime.exec(Runtime.java:431)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.mr.MapRedTask.execute(MapRedTask.java:262)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Task.executeTask(Task.java:153)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.TaskRunner.runSequential(TaskRunner.java:65)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.launchTask(Driver.java:1470)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.execute(Driver.java:1248)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.runInternal(Driver.java:1076)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:916)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.Driver.run(Driver.java:906)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLocalCmd(CliDriver.java:268)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:220)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:422)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:357)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.QTestUtil.executeClient(QTestUtil.java:826)&lt;br/&gt;
	at org.apache.hadoop.hive.cli.TestCliDriver.runTest(TestCliDriver.java:130)&lt;/p&gt;

&lt;p&gt;The hadoop.bin.path comes from the po.xml:&lt;/p&gt;

&lt;p&gt; &amp;lt;hadoop.bin.path&amp;gt;${basedir}/${hive.path.to.root}/testutils/hadoop&amp;lt;/hadoop.bin.path&amp;gt;&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Windows&lt;/p&gt;</environment>
        <key id="12682904">HIVE-5965</key>
            <summary>hadoop.bin.path on Windows .q tests should contain .cmd extension</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="rusanu">Remus Rusanu</assignee>
                                    <reporter username="rusanu">Remus Rusanu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 13:37:17 +0000</created>
                <updated>Thu, 5 Dec 2013 13:37:17 +0000</updated>
                                                                            <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362161</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qff3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362456</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5966] Fix eclipse:eclipse post shim aggregation changes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5966</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The shim bundle module marks it&apos;s deps provided so users of the bundle won&apos;t pull in the child dependencies. This causes the eclipse workspace generated by eclipse:eclipse to fail because it only includes the source from the bundle source directory, which is empty.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682929">HIVE-5966</key>
            <summary>Fix eclipse:eclipse post shim aggregation changes</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12663974">HIVE-5107</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="szehon">Szehon Ho</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 15:50:45 +0000</created>
                <updated>Thu, 19 Dec 2013 16:24:38 +0000</updated>
                            <resolved>Thu, 19 Dec 2013 16:24:38 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13840199" author="brocknoland" created="Thu, 5 Dec 2013 15:53:51 +0000"  >&lt;p&gt;I see two solutions:&lt;/p&gt;

&lt;p&gt;1) Change the bundle to a simple aggregation point of dependencies. I don&apos;t see why we actually have to bundle the classes into a single jar. In this scenerio we&apos;d remove the assembly and create a module called say &quot;hive-shims-aggregator&quot; which would do nothing but depend on the other shims with a scope of runtime. That way the other modules could simply use this dep to pull in all shims.&lt;/p&gt;

&lt;p&gt;2) Add the three version specific shims to all modules which depend on the shims with a scope of provided. This should make them available to eclipse but not pulled in by children.&lt;/p&gt;

&lt;p&gt;I prefer 1.&lt;/p&gt;</comment>
                            <comment id="13840606" author="szehon" created="Thu, 5 Dec 2013 21:46:25 +0000"  >&lt;p&gt;I also think 1 is cleaner, but we would need the scope to be &quot;compile&quot; at least for the dependency on &quot;shim-common&quot; and &quot;shim-common-secure&quot;, if I am not mistaken.  &lt;/p&gt;

&lt;p&gt;At least this will compile, have to check if runtime and tests still work.&lt;/p&gt;</comment>
                            <comment id="13840656" author="brocknoland" created="Thu, 5 Dec 2013 22:43:05 +0000"  >&lt;p&gt;You are right, I was thinking scope of compile but said runtime.&lt;/p&gt;</comment>
                            <comment id="13840673" author="szehon" created="Thu, 5 Dec 2013 23:06:01 +0000"  >&lt;p&gt;Attaching a patch that implements #1.&lt;/p&gt;

&lt;p&gt;Details at ReviewBoard:  &lt;a href=&quot;https://reviews.apache.org/r/16053/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/16053/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13840720" author="hiveqa" created="Fri, 6 Dec 2013 00:08:23 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617257/HIVE-5966.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617257/HIVE-5966.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4457 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/533/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/533/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/533/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/533/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617257&lt;/p&gt;</comment>
                            <comment id="13841105" author="hiveqa" created="Fri, 6 Dec 2013 08:48:16 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617309/HIVE-5966.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617309/HIVE-5966.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4458 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/545/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/545/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/545/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/545/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617309&lt;/p&gt;</comment>
                            <comment id="13846919" author="szehon" created="Thu, 12 Dec 2013 23:41:17 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;, wondering if this be committed as it was reviewed on reviewboard, or it needs more thought ?  Not very urgent, but it would help productivity by getting rid of eclipse errors.&lt;/p&gt;</comment>
                            <comment id="13853010" author="brocknoland" created="Thu, 19 Dec 2013 16:24:38 +0000"  >&lt;p&gt;Great fix!! Thank you for very much for the contribution!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12617309" name="HIVE-5966.1.patch" size="8556" author="szehon" created="Fri, 6 Dec 2013 02:14:43 +0000"/>
                            <attachment id="12617257" name="HIVE-5966.patch" size="7523" author="szehon" created="Thu, 5 Dec 2013 23:06:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Dec 2013 21:46:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362186</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qfkn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362481</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5967] generate eclipse settings files that comply with hive code convention</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5967</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;I see more patches getting submitted by contributors that don&apos;t comply with the hive code conventions. &lt;br/&gt;
I believe this is because we no longer generate the &quot;.settings/org.eclipse.jdt.core.prefs&quot; files with the right settings for hive.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12682975">HIVE-5967</key>
            <summary>generate eclipse settings files that comply with hive code convention</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12663974">HIVE-5107</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 19:15:02 +0000</created>
                <updated>Sat, 1 Feb 2014 23:29:35 +0000</updated>
                            <resolved>Sat, 1 Feb 2014 23:29:35 +0000</resolved>
                                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12691455">HIVE-6317</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362232</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qfuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362527</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5968] Assign (and expose to the client) unique object IDs for each metastore object</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5968</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The Hive Metastore should assign a unique ID to every metastore object - Database, Table, Partition,  etc. These IDs should also be exposed on each of the corresponding thrift structs. There are many cases where this would be useful, one simple case is the following:&lt;br/&gt;
hive1&amp;gt; CREATE TABLE Foo;&lt;br/&gt;
hive2&amp;gt; DROP TABLE Foo;&lt;br/&gt;
hive3&amp;gt; CREATE Table Foo;&lt;/p&gt;

&lt;p&gt;Without object ID, there is no good way for the client to differentiate the table created in step1 versus the table created in step3. In general, working with object IDs is much more robust (especially with concurrent operations) than only the object names. With an ID the client can call get_table(object_id) and ensure the table they get back is exactly the one they expect.&lt;/p&gt;




</description>
                <environment></environment>
        <key id="12682998">HIVE-5968</key>
            <summary>Assign (and expose to the client) unique object IDs for each metastore object</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21141&amp;avatarType=issuetype">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lskuff">Lenni Kuff</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 21:27:19 +0000</created>
                <updated>Thu, 5 Dec 2013 21:27:19 +0000</updated>
                                            <version>0.12.0</version>
                                                    <component>Database/Schema</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362255</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qfzr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5969] SQL std auth - authorize create database</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5969</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Permission to create a database must be given to any user, with the following caveats&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The user must have HDFS rights to create a directory in the Hive warehouse&lt;br/&gt;
directory, if no database location is specified&#894;&lt;/li&gt;
	&lt;li&gt;or the user must own the directory provided in the database location specification&lt;br/&gt;
(in this case it is recommended but not required that the group of the directory be&lt;br/&gt;
hive, so that the hive user has access to the data in the database)&#894;&lt;/li&gt;
	&lt;li&gt;and if the database is owned by a role (rather than a user) the directory must be&lt;br/&gt;
owned by the hive user.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12683004">HIVE-5969</key>
            <summary>SQL std auth - authorize create database</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12679546">HIVE-5837</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10">Implemented</resolution>
                                        <assignee username="thejas">Thejas M Nair</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 21:58:14 +0000</created>
                <updated>Fri, 25 Apr 2014 21:55:49 +0000</updated>
                            <resolved>Fri, 25 Apr 2014 21:54:20 +0000</resolved>
                                                                    <component>Authorization</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="172800">48h</timeoriginalestimate>
                            <timeestimate seconds="172800">48h</timeestimate>
                                        <comments>
                            <comment id="13981676" author="thejas" created="Fri, 25 Apr 2014 21:54:20 +0000"  >&lt;p&gt;This is already implemented as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5958&quot; title=&quot;SQL std auth - authorize statements that work with paths&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5958&quot;&gt;&lt;del&gt;HIVE-5958&lt;/del&gt;&lt;/a&gt; .&lt;/p&gt;</comment>
                            <comment id="13981679" author="thejas" created="Fri, 25 Apr 2014 21:55:49 +0000"  >&lt;p&gt;Regarding the statement in description:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;and if the database is owned by a role (rather than a user) the directory must be&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;owned by the hive user.&lt;/p&gt;

&lt;p&gt;The create database statement does not allow specifying the owner role. So this is not currently applicable.&lt;br/&gt;
The ownership can be changed to another using or role only using admin role privileges.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12682822">HIVE-5958</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362261</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 39 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qg13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5970] ArrayIndexOutOfBoundsException in RunLengthIntegerReaderV2.java</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5970</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A workload involving ORC tables starts getting the following ArrayIndexOutOfBoundsException AFTER the upgrade to Hive 0.12. The file is added as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4123&quot; title=&quot;The RLE encoding for ORC can be improved&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4123&quot;&gt;&lt;del&gt;HIVE-4123&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;2013-12-04 14:42:08,537 ERROR &lt;br/&gt;
cause:java.io.IOException: java.io.IOException: java.lang.ArrayIndexOutOfBoundsException: 0&lt;br/&gt;
2013-12-04 14:42:08,537 WARN org.apache.hadoop.mapred.Child: Error running child&lt;br/&gt;
java.io.IOException: java.io.IOException: java.lang.ArrayIndexOutOfBoundsException: 0&lt;br/&gt;
        at org.apache.hadoop.hive.io.HiveIOExceptionHandlerChain.handleRecordReaderNextException(HiveIOExceptionHandlerChain.java:121)&lt;br/&gt;
        at org.apache.hadoop.hive.io.HiveIOExceptionHandlerUtil.handleRecordReaderNextException(HiveIOExceptionHandlerUtil.java:77)&lt;br/&gt;
        at org.apache.hadoop.hive.shims.HadoopShimsSecure$CombineFileRecordReader.doNextWithExceptionHandler(HadoopShimsSecure.java:304)&lt;br/&gt;
        at org.apache.hadoop.hive.shims.HadoopShimsSecure$CombineFileRecordReader.next(HadoopShimsSecure.java:220)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.moveToNext(MapTask.java:215)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.next(MapTask.java:200)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:48)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:417)&lt;br/&gt;
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:332)&lt;br/&gt;
        at org.apache.hadoop.mapred.Child$4.run(Child.java:268)&lt;br/&gt;
        at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
        at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1408)&lt;br/&gt;
        at org.apache.hadoop.mapred.Child.main(Child.java:262)&lt;br/&gt;
Caused by: java.io.IOException: java.lang.ArrayIndexOutOfBoundsException: 0&lt;br/&gt;
        at org.apache.hadoop.hive.io.HiveIOExceptionHandlerChain.handleRecordReaderNextException(HiveIOExceptionHandlerChain.java:121)&lt;br/&gt;
        at org.apache.hadoop.hive.io.HiveIOExceptionHandlerUtil.handleRecordReaderNextException(HiveIOExceptionHandlerUtil.java:77)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader.doNext(HiveContextAwareRecordReader.java:276)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.CombineHiveRecordReader.doNext(CombineHiveRecordReader.java:101)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.CombineHiveRecordReader.doNext(CombineHiveRecordReader.java:41)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader.next(HiveContextAwareRecordReader.java:108)&lt;br/&gt;
        at org.apache.hadoop.hive.shims.HadoopShimsSecure$CombineFileRecordReader.doNextWithExceptionHandler(HadoopShimsSecure.java:302)&lt;br/&gt;
        ... 11 more&lt;br/&gt;
Caused by: java.lang.ArrayIndexOutOfBoundsException: 0&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerReaderV2.readPatchedBaseValues(RunLengthIntegerReaderV2.java:171)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerReaderV2.readValues(RunLengthIntegerReaderV2.java:54)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerReaderV2.next(RunLengthIntegerReaderV2.java:287)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl$LongTreeReader.next(RecordReaderImpl.java:473)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl$StructTreeReader.next(RecordReaderImpl.java:1157)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.RecordReaderImpl.next(RecordReaderImpl.java:2196)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$OrcRecordReader.next(OrcInputFormat.java:129)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.orc.OrcInputFormat$OrcRecordReader.next(OrcInputFormat.java:80)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.io.HiveContextAwareRecordReader.doNext(HiveContextAwareRecordReader.java:274)&lt;br/&gt;
        ... 15 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683013">HIVE-5970</key>
            <summary>ArrayIndexOutOfBoundsException in RunLengthIntegerReaderV2.java</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ericchu30">Eric Chu</reporter>
                        <labels>
                            <label>orcfile</label>
                    </labels>
                <created>Thu, 5 Dec 2013 22:48:06 +0000</created>
                <updated>Thu, 7 Aug 2014 20:08:31 +0000</updated>
                            <resolved>Thu, 31 Jul 2014 18:25:32 +0000</resolved>
                                    <version>0.12.0</version>
                                                    <component>File Formats</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13840730" author="ericchu30" created="Fri, 6 Dec 2013 00:22:29 +0000"  >&lt;p&gt;Looking at the code where the exception occurs, It seems like the array unpackedPatch could be empty after SerializationUtils.readInts(), but there&apos;s no checking when accessing the array.&lt;/p&gt;

&lt;p&gt;   // unpack the patch blob&lt;br/&gt;
    long[] unpackedPatch = new long&lt;span class=&quot;error&quot;&gt;&amp;#91;pl&amp;#93;&lt;/span&gt;;&lt;br/&gt;
    SerializationUtils.readInts(unpackedPatch, 0, pl, pw + pgw, input);&lt;/p&gt;

&lt;p&gt;    // apply the patch directly when decoding the packed data&lt;br/&gt;
    int patchIdx = 0;&lt;br/&gt;
    long currGap = 0;&lt;br/&gt;
    long currPatch = 0;&lt;br/&gt;
    currGap = unpackedPatch&lt;span class=&quot;error&quot;&gt;&amp;#91;patchIdx&amp;#93;&lt;/span&gt; &amp;gt;&amp;gt;&amp;gt; pw;&lt;/p&gt;

</comment>
                            <comment id="13840743" author="ericchu30" created="Fri, 6 Dec 2013 00:33:03 +0000"  >&lt;p&gt;Or pl could be 0&lt;/p&gt;</comment>
                            <comment id="13841743" author="aleksei" created="Fri, 6 Dec 2013 21:41:44 +0000"  >&lt;p&gt;My findings show that there is a problem in run length encoding.&lt;br/&gt;
You can reproduce the problem by doing the following steps:&lt;br/&gt;
1. Create the table:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;TABLE&lt;/span&gt; test_orc_format(
  site &lt;span class=&quot;code-keyword&quot;&gt;STRING&lt;/span&gt;,
  &lt;span class=&quot;code-keyword&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;DOUBLE&lt;/span&gt;,
  b &lt;span class=&quot;code-keyword&quot;&gt;BIGINT&lt;/span&gt;,
  &lt;span class=&quot;code-keyword&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BIGINT&lt;/span&gt;,
  d &lt;span class=&quot;code-keyword&quot;&gt;BIGINT&lt;/span&gt;,
  e &lt;span class=&quot;code-keyword&quot;&gt;DOUBLE&lt;/span&gt;,
  f &lt;span class=&quot;code-keyword&quot;&gt;DOUBLE&lt;/span&gt;,
  &lt;span class=&quot;code-keyword&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;DOUBLE&lt;/span&gt;,
  h &lt;span class=&quot;code-keyword&quot;&gt;DOUBLE&lt;/span&gt;,
  i &lt;span class=&quot;code-keyword&quot;&gt;DOUBLE&lt;/span&gt;,
  j &lt;span class=&quot;code-keyword&quot;&gt;DOUBLE&lt;/span&gt;,
  &lt;span class=&quot;code-keyword&quot;&gt;k&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BIGINT&lt;/span&gt;,
  l &lt;span class=&quot;code-keyword&quot;&gt;BIGINT&lt;/span&gt;,
  &lt;span class=&quot;code-keyword&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BIGINT&lt;/span&gt;,
  n &lt;span class=&quot;code-keyword&quot;&gt;BIGINT&lt;/span&gt;,
  o &lt;span class=&quot;code-keyword&quot;&gt;BIGINT&lt;/span&gt;,
  p &lt;span class=&quot;code-keyword&quot;&gt;BIGINT&lt;/span&gt;,
  q &lt;span class=&quot;code-keyword&quot;&gt;ARRAY&lt;/span&gt;&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;DOUBLE&lt;/span&gt;&amp;gt;,
  r &lt;span class=&quot;code-keyword&quot;&gt;ARRAY&lt;/span&gt;&amp;lt;&lt;span class=&quot;code-keyword&quot;&gt;DOUBLE&lt;/span&gt;&amp;gt;
)
&lt;span class=&quot;code-keyword&quot;&gt;ROW&lt;/span&gt; FORMAT DELIMITED
&lt;span class=&quot;code-keyword&quot;&gt;FIELDS&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;TERMINATED&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;\t&apos;&lt;/span&gt;
COLLECTION ITEMS &lt;span class=&quot;code-keyword&quot;&gt;TERMINATED&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;BY&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;,&apos;&lt;/span&gt;
STORED &lt;span class=&quot;code-keyword&quot;&gt;AS&lt;/span&gt; ORC
;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2. Load the data from attached file.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;load&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;local&lt;/span&gt; inpath &lt;span class=&quot;code-quote&quot;&gt;&apos;test_data&apos;&lt;/span&gt; overwrite &lt;span class=&quot;code-keyword&quot;&gt;into&lt;/span&gt; test_orc_format;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;3. Use one of the following queries:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; * &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; test_orc_format;
&lt;span class=&quot;code-keyword&quot;&gt;select&lt;/span&gt; o &lt;span class=&quot;code-keyword&quot;&gt;from&lt;/span&gt; test_orc_format;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Note, the attached file was created by hive during a job execution and not crafted by hands, it might be wrongly encoded as well. Also, note that the query that does calculation for column &quot;o&quot; cannot give negative results.&lt;/p&gt;</comment>
                            <comment id="13843739" author="prasanth_j" created="Tue, 10 Dec 2013 00:08:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ericchu30&quot; class=&quot;user-hover&quot; rel=&quot;ericchu30&quot;&gt;Eric Chu&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Aleksei&quot; class=&quot;user-hover&quot; rel=&quot;Aleksei&quot;&gt;Aleksei Statkevich&lt;/a&gt; thanks for looking into this issue and your findings. I tried to reproduce the issue with the test data that is being provided. I think the attached test data is a corrupted orc file and so I was not able to reproduce the issue. But I recently faced a similar issue, ArrayIndexOutOfBoundsException while writing data using the new RunLengthIntegerReaderV2. I suspect that this issue might be related to writing of data RLEv2. I posted a patch for it here &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5991&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-5991&lt;/a&gt;. Will it be possible to apply this patch and see if this issue happens again?&lt;/p&gt;</comment>
                            <comment id="13845144" author="jakeri" created="Wed, 11 Dec 2013 07:09:28 +0000"  >&lt;p&gt;Also running into same problem. We have setup a new test cluster (Hortonworks 2.0) where we move some test data (roughly 6 000 000 000 rows) and try to move into a more optimized format (orc with buckets in a partitioned table).&lt;/p&gt;

&lt;p&gt;Not sure if this will help you but here is the stacktrace. Do you want some more information?&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;INSERT OVERWRITE TABLE hellotestdataend2 PARTITION(dt) SELECT * FROM event.hellotestdataend2 SORT BY dt, someid, msts, userid
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;at javax.security.auth.Subject.doAs(Subject.java:415)
at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1491)
at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:157)
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row (tag=0) {&quot;key&quot;:{&quot;reducesinkkey0&quot;:10017,&quot;reducesinkkey1&quot;:1384880695473,&quot;reducesinkkey2&quot;:1242212467},&quot;value&quot;:{&quot;_col0&quot;:1384880695473,&quot;_col1&quot;:&quot;10017&quot;,&quot;_col2&quot;:1242212467,&quot;_col3&quot;:&quot;ASPV6f3f82454d0df89704c74f7f0884fa15&quot;,&quot;_col4&quot;:1384880654,&quot;_col5&quot;:19,&quot;_col6&quot;:15,&quot;_col7&quot;:21700,&quot;_col8&quot;:0,&quot;_col9&quot;:2552,&quot;_col10&quot;:100,&quot;_col11&quot;:1384880624,&quot;_col12&quot;:0,&quot;_col13&quot;:&quot;2013-11-19&quot;}}
at org.apache.hadoop.hive.ql.exec.mr.ExecReducer.reduce(ExecReducer.java:258)
... 7 more
Caused by: java.lang.ArrayIndexOutOfBoundsException: 3
at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerWriterV2.preparePatchedBlob(RunLengthIntegerWriterV2.java:593)
at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerWriterV2.determineEncoding(RunLengthIntegerWriterV2.java:541)
at org.apache.hadoop.hive.ql.io.orc.RunLengthIntegerWriterV2.write(RunLengthIntegerWriterV2.java:746)
at org.apache.hadoop.hive.ql.io.orc.WriterImpl$IntegerTreeWriter.write(WriterImpl.java:744)
at org.apache.hadoop.hive.ql.io.orc.WriterImpl$StructTreeWriter.write(WriterImpl.java:1320)
at org.apache.hadoop.hive.ql.io.orc.WriterImpl.addRow(WriterImpl.java:1849)
at org.apache.hadoop.hive.ql.io.orc.OrcOutputFormat$OrcRecordWriter.write(OrcOutputFormat.java:75)
at org.apache.hadoop.hive.ql.exec.FileSinkOperator.processOp(FileSinkOperator.java:638)
at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:501)
at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:842)
at org.apache.hadoop.hive.ql.exec.SelectOperator.processOp(SelectOperator.java:88)
at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:501)
at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:842)
at org.apache.hadoop.hive.ql.exec.ExtractOperator.processOp(ExtractOperator.java:45)
at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:501)
at org.apache.hadoop.hive.ql.exec.mr.ExecReducer.reduce(ExecReducer.java:249)
... 7 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13845147" author="prasanth_j" created="Wed, 11 Dec 2013 07:18:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jakeri&quot; class=&quot;user-hover&quot; rel=&quot;jakeri&quot;&gt;Jakob Sultan Ericsson&lt;/a&gt; This issue with new RLEv2 encoding should be addressed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5991&quot; title=&quot;ORC RLEv2 fails with ArrayIndexOutOfBounds exception for PATCHED_BLOB encoding &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5991&quot;&gt;&lt;del&gt;HIVE-5991&lt;/del&gt;&lt;/a&gt;. You can try &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5991&quot; title=&quot;ORC RLEv2 fails with ArrayIndexOutOfBounds exception for PATCHED_BLOB encoding &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5991&quot;&gt;&lt;del&gt;HIVE-5991&lt;/del&gt;&lt;/a&gt; patch or the alternative workaround would be to use hive.exec.orc.write.format=&#8220;0.11&#8221;. This will use the old RLE encoding. &lt;/p&gt;</comment>
                            <comment id="13845159" author="ericchu30" created="Wed, 11 Dec 2013 07:35:45 +0000"  >&lt;p&gt;If we have already started using RLE 0.11 for some partitions of the table and want to switch to RLEv2, would we need to rewrite existing partitions in RLEv2? If not, would we need to set hive.exec.orc.write.format=0.11 when we query partitions with the old RLE, and set hive.exec.orc.write.format=null when we query partitions with RLEv2?&lt;/p&gt;</comment>
                            <comment id="13845166" author="prasanth_j" created="Wed, 11 Dec 2013 07:57:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;If we have already started using RLE 0.11 for some partitions of the table and want to switch to RLEv2, would we need to rewrite existing partitions in RLEv2?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes. The partitions that used RLE 0.11 earlier needs to be rewritten to take advantage of RLEv2. In fact both RLE and RLEv2 partitions can co-exist. The advantage of using RLEv2 is that it has a better compression in most of the cases wrt old RLE because of improved run lengths and bit packing.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;If not, would we need to set hive.exec.orc.write.format=0.11 when we query partitions with the old RLE, and set hive.exec.orc.write.format=null when we query partitions with RLEv2?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No.  reading the ORC files or while querying, there is no need to set hive.exec.orc.write.format config. The config is required only during writing the data. While reading ORC reader will read the version of RLE encoding used from the file footer.&lt;/p&gt;</comment>
                            <comment id="13856024" author="rcuso123" created="Mon, 23 Dec 2013 23:49:30 +0000"  >&lt;p&gt;FYI&lt;/p&gt;

&lt;p&gt;Setting set hive.exec.orc.write.format=0.11 (without quotes) resolved my error.&lt;/p&gt;</comment>
                            <comment id="13857166" author="lefty@hortonworks.com" created="Thu, 26 Dec 2013 23:54:46 +0000"  >&lt;p&gt;The wiki does not document hive.exec.orc.write.format, nor any other ORC configuration parameters.&lt;/p&gt;

&lt;p&gt;I found these in HiveConf.java with an &quot;orc&quot; search: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;hive.exec.orc.memory.pool&lt;/li&gt;
	&lt;li&gt;hive.exec.orc.write.format&lt;/li&gt;
	&lt;li&gt;hive.exec.orc.default.stripe.size&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Also, hive.default.fileformat can take the value ORC.  Are there any others?&lt;/p&gt;</comment>
                            <comment id="13912231" author="prasanth_j" created="Tue, 25 Feb 2014 23:14:37 +0000"  >&lt;p&gt;I just verified with the attached test data. This bug is solved by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6382&quot; title=&quot;PATCHED_BLOB encoding in ORC will corrupt data in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6382&quot;&gt;&lt;del&gt;HIVE-6382&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14081237" author="prasanth_j" created="Thu, 31 Jul 2014 18:25:33 +0000"  >&lt;p&gt;Closing this issue as I was able to verify &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6382&quot; title=&quot;PATCHED_BLOB encoding in ORC will corrupt data in some cases&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6382&quot;&gt;&lt;del&gt;HIVE-6382&lt;/del&gt;&lt;/a&gt; solves the issue for the test data provided. Feel free to reopen the issue if this issue is not solved.&lt;/p&gt;</comment>
                            <comment id="14089730" author="lefty@hortonworks.com" created="Thu, 7 Aug 2014 20:08:31 +0000"  >&lt;p&gt;Just for the record, ORC parameters are now documented in the wiki:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-ORCFileFormat&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; ORC File Format &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12693495">HIVE-6382</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12635386">HIVE-4123</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617479" name="test_data" size="288012" author="Aleksei" created="Fri, 6 Dec 2013 21:41:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Dec 2013 21:41:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qg27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5971] ProtoBuf jar should be included in the dist</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5971</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It appears that post-maven the build doesn&apos;t assemble protobuf jar in the distribution. I&apos;m not sure if this is intentional, but in the ant era, we used to include it in the dist.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683015">HIVE-5971</key>
            <summary>ProtoBuf jar should be included in the dist</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="xuefuz">Xuefu Zhang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Dec 2013 22:57:28 +0000</created>
                <updated>Thu, 5 Dec 2013 22:57:28 +0000</updated>
                                            <version>0.13.0</version>
                                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362268</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qg2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362562</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5972] Hiveserver2 is much slower than hiveserver1</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5972</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;we are building ms sql cube by linkedserver connectiong hiveserver with Cloudera&apos;s ODBC driver.&lt;/p&gt;

&lt;p&gt;There are two test results:&lt;br/&gt;
1. hiveserver1 running on 2CPUs, 8G mem, took about 8 hours&lt;br/&gt;
2. hiveserver2 running on 4CPUs, 16 mem, took about 13 hours and 27min (never successful on machine with 2CPUs, 8G mem)&lt;/p&gt;

&lt;p&gt; Although on both cases, almost all CPUs are busy when building cube.&lt;/p&gt;

&lt;p&gt;But I cannot understand why hiveserver2 is much slower than hiveserver1, because from doc, hs2 support concurrency, it should be faster than hs1, isn&apos;t it?&lt;/p&gt;



&lt;p&gt;Thanks.&lt;/p&gt;



&lt;p&gt;CDH4.3 on CentOS6.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683047">HIVE-5972</key>
            <summary>Hiveserver2 is much slower than hiveserver1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="qwert">a bc</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Dec 2013 03:19:42 +0000</created>
                <updated>Mon, 16 Dec 2013 05:18:01 +0000</updated>
                            <resolved>Mon, 16 Dec 2013 05:17:38 +0000</resolved>
                                    <version>0.10.0</version>
                                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13840939" author="cwsteinbach" created="Fri, 6 Dec 2013 03:59:34 +0000"  >&lt;blockquote&gt;
&lt;p&gt;1. hiveserver1 running on 2CPUs, 8G mem, took about 8 hours&lt;br/&gt;
2. hiveserver2 running on 4CPUs, 16 mem, took about 13 hours and 27min (never successful on machine with 2CPUs, 8G mem)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;How large was the resultset that your query generated? How much time did hs1/hs2 spend executing the query on the cluster as opposed to fetching the resultset through hs1/hs2?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;But I cannot understand why hiveserver2 is much slower than hiveserver1, because from doc, hs2 support concurrency, it should be faster than hs1, isn&apos;t it?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In this context &quot;concurrency&quot; means that HiveServer2 is able to handle multiple concurrent client connections, something that HS1 can&apos;t do. Also, regardless of whether you&apos;re using HS1 or HS2, the actual work of executing the query is delegated to the underlying MR cluster. The HS1/HS2 server coordinates query execution on the cluster and then acts as a relay through which the client fetches the results of the query. It&apos;s this last step (the result set fetch) which is known to be slower on HS2, and we&apos;re tracking the task of fixing this performance regression in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3746&quot; title=&quot;Fix HS2 ResultSet Serialization Performance Regression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3746&quot;&gt;&lt;del&gt;HIVE-3746&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;So far the information you have provided makes me think that this is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3746&quot; title=&quot;Fix HS2 ResultSet Serialization Performance Regression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3746&quot;&gt;&lt;del&gt;HIVE-3746&lt;/del&gt;&lt;/a&gt;. Please let us know if you think some other issue is causing the performance regression.&lt;/p&gt;</comment>
                            <comment id="13848827" author="cwsteinbach" created="Mon, 16 Dec 2013 05:17:38 +0000"  >&lt;p&gt;Resolving this as a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3746&quot; title=&quot;Fix HS2 ResultSet Serialization Performance Regression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3746&quot;&gt;&lt;del&gt;HIVE-3746&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12617683">HIVE-3746</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12668186">HIVE-5276</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Dec 2013 03:59:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362299</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qg9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362593</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5973] SMB joins produce incorrect results with multiple partitions and buckets</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5973</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It looks like there is an issue with re-using the output object array in the select operator. When we read rows of the non-big tables, we hold on to the output object in the priority queue. This causes hive to produce incorrect results because all the elements in the priority queue refer to the same object and the join happens on only one of the buckets.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;output[i] = eval[i].evaluate(row);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12683050">HIVE-5973</key>
            <summary>SMB joins produce incorrect results with multiple partitions and buckets</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vikram.dixit">Vikram Dixit K</assignee>
                                    <reporter username="vikram.dixit">Vikram Dixit K</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Dec 2013 03:42:52 +0000</created>
                <updated>Tue, 17 Dec 2013 00:39:31 +0000</updated>
                            <resolved>Tue, 17 Dec 2013 00:39:31 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13840956" author="vikram.dixit" created="Fri, 6 Dec 2013 04:22:25 +0000"  >&lt;p&gt;The naive fix is to have&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;output = new Object[eval.length];
try {
      for (; i &amp;lt; eval.length; ++i) {
        output[i] = eval[i].evaluate(row);
      }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;in the select operator processOp.&lt;/p&gt;

&lt;p&gt;However this affects all the other operations as well possibly leading to memory churn. All other approaches I could think of seem cumbersome.&lt;/p&gt;

&lt;p&gt;1. Copy the object using the copyToStandardObject method in ObjectInspectorUtils modifies the object itself and requires re-initializing the joinKeys(ExprNodeEvaluators) with the new object inspector. However, this doesn&apos;t work with just these changes because we cannot re-initialize an ExprNodeEvaluator with a StandardObjectInspector. It expects a StructObjectInspector which will have to re-worked if we go with this approach.&lt;/p&gt;

&lt;p&gt;2. Try to create a new object of the same composition with a shallow copy. However this is not straight-forward either. It requires the struct object inspector to be re-worked to return an object in the same composition as the original.&lt;/p&gt;

&lt;p&gt;3. Special case SMB with an if in the select operator to create a new output object. This would hurt vectorization though because it adds an if condition in the tight loop.&lt;/p&gt;

&lt;p&gt;4. Create a new select operator for SMB join which extends the current select operator. This could be fixed to have the naive solution above without the memory penalty for the other operations. However, this requires some plan side changes.&lt;/p&gt;

&lt;p&gt;I am not sure if I have missed any other way of solving this. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=navis&quot; class=&quot;user-hover&quot; rel=&quot;navis&quot;&gt;Navis&lt;/a&gt; Could you please provide your comments.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="13842957" author="navis" created="Mon, 9 Dec 2013 07:57:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vikram.dixit&quot; class=&quot;user-hover&quot; rel=&quot;vikram.dixit&quot;&gt;Vikram Dixit K&lt;/a&gt; I&apos;ve forgot whole context of SMBJoin. Could I get some test queries to follow up your description?&lt;/p&gt;</comment>
                            <comment id="13843946" author="vikram.dixit" created="Tue, 10 Dec 2013 05:02:14 +0000"  >&lt;p&gt;It is quite easy to reproduce this on a cluster but I haven&apos;t had success&lt;br/&gt;
with our unit tests. I will come up with one and post it here.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;






&lt;p&gt;&amp;#8211; &lt;br/&gt;
Nothing better than when appreciated for hard work.&lt;br/&gt;
-Mark&lt;/p&gt;</comment>
                            <comment id="13846202" author="vikram.dixit" created="Thu, 12 Dec 2013 09:36:20 +0000"  >&lt;p&gt;Attached is the test and a fix. The problem occurs when the small table is bucketed and partitioned and has a select sub-query. The select operator that is introduced as part of the sub-query causes the issue described.&lt;/p&gt;

&lt;p&gt;Thanks to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rhbutani&quot; class=&quot;user-hover&quot; rel=&quot;rhbutani&quot;&gt;Harish Butani&lt;/a&gt; for helping with the solution and test case. It looks like the right way to run these type of tests is via the MinimrCliDriver as the CliDriver tests mask the issue by having a single reducer resulting in incorrect bucketing.&lt;/p&gt;</comment>
                            <comment id="13846211" author="vikram.dixit" created="Thu, 12 Dec 2013 09:49:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/16213/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/16213/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13846235" author="hiveqa" created="Thu, 12 Dec 2013 10:34:38 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12618384/HIVE-5973.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12618384/HIVE-5973.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4763 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/623/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/623/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/623/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/623/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12618384&lt;/p&gt;</comment>
                            <comment id="13848042" author="vikram.dixit" created="Fri, 13 Dec 2013 23:09:39 +0000"  >&lt;p&gt;Updated to address Harish&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13848096" author="hiveqa" created="Sat, 14 Dec 2013 00:23:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12618717/HIVE-5973.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12618717/HIVE-5973.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4785 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/637/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/637/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/637/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/637/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12618717&lt;/p&gt;</comment>
                            <comment id="13848114" author="rhbutani" created="Sat, 14 Dec 2013 00:49:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13849935" author="rhbutani" created="Tue, 17 Dec 2013 00:39:31 +0000"  >&lt;p&gt;thanks Vikram&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12618384" name="HIVE-5973.1.patch" size="18973" author="vikram.dixit" created="Thu, 12 Dec 2013 09:36:20 +0000"/>
                            <attachment id="12618717" name="HIVE-5973.2.patch" size="19152" author="vikram.dixit" created="Fri, 13 Dec 2013 23:09:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Dec 2013 07:57:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362302</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qga7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362596</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5974] chinese character can not display normally when use hive jdbc 0.10.0</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5974</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;when i query table using hive jdbc which content contains chinese characters ,it can not be display normally&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;hive -S -e &quot;select * from test_alex&quot;&lt;br/&gt;
1       &#25105;&#30340;&#27979;&#35797;        &#27979;&#35797;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;run java code using hive jdbc output &lt;br/&gt;
1:??&lt;cite&gt;:&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;here is my test code&lt;/p&gt;

&lt;p&gt;import java.sql.Connection;&lt;br/&gt;
import java.sql.DriverManager;&lt;br/&gt;
import java.sql.ResultSet;&lt;br/&gt;
import java.sql.SQLException;&lt;br/&gt;
import java.sql.Statement;&lt;/p&gt;

&lt;p&gt;  public class DemoHive {&lt;/p&gt;

&lt;p&gt;            public static void main(String[] args) throws  Exception {&lt;/p&gt;

&lt;p&gt;                Class.forName(&quot;org.apache.hive.jdbc.HiveDriver&quot;);&lt;/p&gt;

&lt;p&gt;                Connection hiveConn  =  DriverManager.getConnection(&quot;jdbc:hive2://192.168.10.223:10000/default&quot;,&quot;&quot; ,&quot;&quot;);&lt;/p&gt;

&lt;p&gt;                Statement stat =hiveConn.createStatement(); &lt;/p&gt;

&lt;p&gt;                ResultSet rs = stat.executeQuery( &quot;select * from test_alex&quot; );&lt;br/&gt;
                int i=1;&lt;br/&gt;
                while(rs.next())&lt;/p&gt;
                {
                    System.out.println(i+&quot;:&quot;+rs.getString(&quot;name&quot;)+&quot;:&quot;+rs.getString(&quot;email&quot;));
                    i++;
                }

&lt;p&gt;            }&lt;br/&gt;
        }&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS : redhat6.2     hadoop CDH4.4  hive 0.10.0 hive-server2&lt;/p&gt;</environment>
        <key id="12683060">HIVE-5974</key>
            <summary>chinese character can not display normally when use hive jdbc 0.10.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="justlooks">alex kim</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Dec 2013 06:00:11 +0000</created>
                <updated>Fri, 6 Dec 2013 06:15:23 +0000</updated>
                                            <version>0.10.0</version>
                                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13841016" author="justlooks" created="Fri, 6 Dec 2013 06:15:23 +0000"  >&lt;p&gt;use beeline test result is same&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;beeline&lt;br/&gt;
Beeline version 0.10.0-cdh4.4.0 by Apache Hive&lt;br/&gt;
beeline&amp;gt; !connect jdbc:hive2://192.168.10.223:10000&lt;br/&gt;
scan complete in 2ms&lt;br/&gt;
Connecting to jdbc:hive2://192.168.10.223:10000&lt;br/&gt;
Enter username for jdbc:hive2://192.168.10.223:10000:&lt;br/&gt;
Enter password for jdbc:hive2://192.168.10.223:10000:&lt;br/&gt;
Connected to: Hive (version 0.10.0)&lt;br/&gt;
Driver: Hive (version 0.10.0-cdh4.4.0)&lt;br/&gt;
Transaction isolation: TRANSACTION_REPEATABLE_READ&lt;br/&gt;
0: jdbc:hive2://192.168.10.223:10000&amp;gt; select * from test_alex;&lt;br/&gt;
&lt;ins&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;-----&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;/ins&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; id  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; name  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; email  &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;-----&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;/ins&gt;&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; 1   &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ????  &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ??     &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;ins&gt;----&lt;del&gt;&lt;/ins&gt;&lt;/del&gt;-----&lt;del&gt;&lt;ins&gt;&lt;/del&gt;-------&lt;/ins&gt;&lt;br/&gt;
1 row selected (0.377 seconds)&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362312</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qgcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362606</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5975] [WebHCat] templeton mapreduce job failed if provide &quot;define&quot; parameters</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5975</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Trying to submit a mapreduce job through templeton failed:&lt;/p&gt;

&lt;p&gt;curl -k -u user:pass -d user.name=user -d define=JobName=MRPiJob -d class=pi -d arg=16 -d arg=100 -d jar=&quot;hadoop-mapreduce-examples.jar&quot; &lt;a href=&quot;https://xxx/templeton/v1/mapreduce/jar&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://xxx/templeton/v1/mapreduce/jar&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The error message is:&lt;br/&gt;
&quot;Usage: org.apache.hadoop.examples.QuasiMonteCarlo &amp;lt;nMaps&amp;gt; &amp;lt;nSamples&amp;gt;&lt;br/&gt;
 Generic options supported are&lt;br/&gt;
 -conf &amp;lt;configuration file&amp;gt; specify an application configuration file&lt;br/&gt;
 -D &amp;lt;property=value&amp;gt; use value for given property&lt;br/&gt;
 -fs &amp;lt;local|namenode:port&amp;gt; specify a namenode&lt;br/&gt;
 -jt &amp;lt;local|jobtracker:port&amp;gt; specify a job tracker&lt;br/&gt;
 -files &amp;lt;comma separated list of files&amp;gt; specify comma separated files to be copied to the map reduce cluster&lt;br/&gt;
 -libjars &amp;lt;comma separated list of jars&amp;gt; specify comma separated jar files to include in the classpath.&lt;br/&gt;
 -archives &amp;lt;comma separated list of archives&amp;gt; specify comma separated archives to be unarchived on the compute machines.&lt;/p&gt;

&lt;p&gt;The general command line syntax is&lt;br/&gt;
 bin/hadoop command &lt;span class=&quot;error&quot;&gt;&amp;#91;genericOptions&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;commandOptions&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;templeton: job failed with exit code 2&quot;&lt;/p&gt;

&lt;p&gt;Note that if we remove the &quot;define&quot; parameter it works fine.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683073">HIVE-5975</key>
            <summary>[WebHCat] templeton mapreduce job failed if provide &quot;define&quot; parameters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="shanyu">shanyu zhao</assignee>
                                    <reporter username="shanyu">shanyu zhao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Dec 2013 07:15:58 +0000</created>
                <updated>Mon, 16 Dec 2013 18:22:52 +0000</updated>
                            <resolved>Mon, 16 Dec 2013 18:22:52 +0000</resolved>
                                    <version>0.12.0</version>
                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>HCatalog</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13841059" author="shanyu" created="Fri, 6 Dec 2013 07:28:26 +0000"  >&lt;p&gt;The root cause is that the defines are not added to args, probably a typo or merge error.&lt;/p&gt;

&lt;p&gt;Also for the token file args, use &quot;-D prop=value&quot; instead of &quot;-Dprop=value&quot; to make it consistent with the defines.&lt;/p&gt;

&lt;p&gt;Patch attached.&lt;/p&gt;</comment>
                            <comment id="13844948" author="shanyu" created="Wed, 11 Dec 2013 01:49:04 +0000"  >&lt;p&gt;Adding e2e tests to verify this problem.&lt;/p&gt;</comment>
                            <comment id="13845986" author="ekoifman" created="Thu, 12 Dec 2013 01:40:49 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13848879" author="thejas" created="Mon, 16 Dec 2013 07:08:21 +0000"  >&lt;p&gt;Marking it patch available.&lt;/p&gt;</comment>
                            <comment id="13849044" author="hiveqa" created="Mon, 16 Dec 2013 11:09:57 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12618157/hive-5975.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12618157/hive-5975.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4785 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/651/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/651/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/651/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/651/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12618157&lt;/p&gt;</comment>
                            <comment id="13849422" author="thejas" created="Mon, 16 Dec 2013 18:22:52 +0000"  >&lt;p&gt;Patch committed to trunk.&lt;br/&gt;
Thanks for the patch Shanyu, and thanks for the review Eugene!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12618157" name="hive-5975.2.patch" size="1919" author="shanyu" created="Wed, 11 Dec 2013 01:49:04 +0000"/>
                            <attachment id="12617350" name="hive-5975.patch" size="1085" author="shanyu" created="Fri, 6 Dec 2013 07:28:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Dec 2013 01:40:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362325</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qgfb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362619</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5976] Decouple input formats from STORED as keywords</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5976</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As noted in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5783&quot; title=&quot;Native Parquet Support in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5783&quot;&gt;&lt;del&gt;HIVE-5783&lt;/del&gt;&lt;/a&gt;, we hard code the input formats mapped to keywords. It&apos;d be nice if there was a registration system so we didn&apos;t need to do that.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683190">HIVE-5976</key>
            <summary>Decouple input formats from STORED as keywords</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davidzchen">David Chen</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Dec 2013 19:54:10 +0000</created>
                <updated>Tue, 6 Jan 2015 08:25:31 +0000</updated>
                            <resolved>Mon, 14 Jul 2014 16:01:32 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="13902946" author="brocknoland" created="Mon, 17 Feb 2014 04:33:36 +0000"  >&lt;p&gt;I have a patch for this using the ServiceLoader facility:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I will post it tomorrow.&lt;/p&gt;</comment>
                            <comment id="13904284" author="brocknoland" created="Tue, 18 Feb 2014 17:27:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/18224/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18224/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13904289" author="brocknoland" created="Tue, 18 Feb 2014 17:29:15 +0000"  >&lt;p&gt;Note that the &quot;generic stored as&quot; was already in the grammar. This just implements it.&lt;/p&gt;</comment>
                            <comment id="13904613" author="brocknoland" created="Tue, 18 Feb 2014 21:17:55 +0000"  >&lt;p&gt;Latest patch from RB.&lt;/p&gt;</comment>
                            <comment id="13904616" author="brocknoland" created="Tue, 18 Feb 2014 21:21:23 +0000"  >&lt;p&gt;Trims trailing ws.&lt;/p&gt;</comment>
                            <comment id="14043100" author="szehon" created="Wed, 25 Jun 2014 06:43:27 +0000"  >&lt;p&gt;This is nice, makes it easy to add a new native serde, I looked through the RB and am +1&lt;/p&gt;

&lt;p&gt;But patch needs rebase and resubmission for test at this point.&lt;/p&gt;</comment>
                            <comment id="14043966" author="davidzchen" created="Wed, 25 Jun 2014 19:53:23 +0000"  >&lt;p&gt;Hi Brock,&lt;/p&gt;

&lt;p&gt;Thank you for working on this! This will make a lot of things easier, including some of the work I am doing to help improve HCatalog&apos;s test coverage.&lt;/p&gt;

&lt;p&gt;If you would like, I&apos;d be glad to help out with finishing up this patch.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
David&lt;/p&gt;</comment>
                            <comment id="14044411" author="davidzchen" created="Thu, 26 Jun 2014 07:16:33 +0000"  >&lt;p&gt;I took a shot at rebasing Brock&apos;s patch on the current trunk. Uploading patch for pre-commit testing.&lt;/p&gt;</comment>
                            <comment id="14044793" author="hiveqa" created="Thu, 26 Jun 2014 16:00:11 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12652566/HIVE-5976.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12652566/HIVE-5976.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 16 failed/errored test(s), 5671 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_file_format
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ctas
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_storage_format_descriptor
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_ctas
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority2
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_fileformat_bad_class
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_genericFileFormat
org.apache.hive.hcatalog.pig.TestOrcHCatLoader.testReadDataPrimitiveTypes
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbort
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchAbortAndCommit
org.apache.hive.hcatalog.streaming.TestStreaming.testTransactionBatchCommit_Delimited
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/601/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/601/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/601/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/601/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-601/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-601/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 16 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12652566&lt;/p&gt;</comment>
                            <comment id="14044838" author="brocknoland" created="Thu, 26 Jun 2014 16:45:18 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidzchen&quot; class=&quot;user-hover&quot; rel=&quot;davidzchen&quot;&gt;David Chen&lt;/a&gt;! Some of those failures are unrelated... I think the partition wise ones are related though.&lt;/p&gt;</comment>
                            <comment id="14045285" author="davidzchen" created="Thu, 26 Jun 2014 22:41:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; No problem! Would you be fine if I picked this up and fix the test failures?&lt;/p&gt;</comment>
                            <comment id="14045339" author="brocknoland" created="Thu, 26 Jun 2014 23:46:22 +0000"  >&lt;p&gt;I&apos;d be delighted! &lt;/p&gt;</comment>
                            <comment id="14046593" author="cwsteinbach" created="Sat, 28 Jun 2014 01:23:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidzchen&quot; class=&quot;user-hover&quot; rel=&quot;davidzchen&quot;&gt;David Chen&lt;/a&gt;, I&apos;d like to review this and get it committed. Can you post an RB? Thanks!&lt;/p&gt;</comment>
                            <comment id="14046928" author="brocknoland" created="Sat, 28 Jun 2014 17:14:57 +0000"  >&lt;p&gt;FYI it looks like in ParseUtils.ensureClassExists I think we should use JavaUtils.getClassLoader().&lt;/p&gt;</comment>
                            <comment id="14047307" author="davidzchen" created="Mon, 30 Jun 2014 01:42:00 +0000"  >&lt;p&gt;Thanks for the info, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;. I am submitting a new patch to run the pre-commit tests again.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt;, here is the RB: &lt;a href=&quot;https://reviews.apache.org/r/23153&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/23153&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14047356" author="hiveqa" created="Mon, 30 Jun 2014 04:19:25 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12653081/HIVE-5976.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12653081/HIVE-5976.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 10 failed/errored test(s), 5672 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_file_format
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ctas
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_storage_format_descriptor
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_ctas
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_fileformat_bad_class
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_genericFileFormat
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/629/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/629/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/629/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/629/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-629/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-629/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 10 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12653081&lt;/p&gt;</comment>
                            <comment id="14048091" author="brocknoland" created="Mon, 30 Jun 2014 20:20:48 +0000"  >&lt;p&gt;Some of those failures appear to be related.&lt;/p&gt;</comment>
                            <comment id="14048130" author="davidzchen" created="Mon, 30 Jun 2014 20:42:29 +0000"  >&lt;p&gt;Agreed. The TestCliDriver failures seem to be related and may be caused by the same underlying problem. I am looking into those failures.&lt;/p&gt;</comment>
                            <comment id="14048632" author="davidzchen" created="Tue, 1 Jul 2014 08:27:09 +0000"  >&lt;p&gt;I have posted a new patch that should fix some of the tests. Some of the test failures appear to be caused by slightly different output that Hive now prints due to this patch. The changes should fix the following tests:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_ctas&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ctas&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Test failed because output files expected old parse tree dump.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_fileformat_bad_class&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Hive now outputs &lt;tt&gt;FAILED: SemanticException Cannot find class &apos;ClassDoesNotExist&apos;&lt;/tt&gt; if SerDe class is not found.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_genericFileFormat&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Hive now prints format name in all caps in quotes.&lt;/p&gt;

&lt;p&gt;I am still looking into the other test failures.&lt;/p&gt;</comment>
                            <comment id="14048634" author="davidzchen" created="Tue, 1 Jul 2014 08:29:31 +0000"  >&lt;p&gt;Rebasing on trunk.&lt;/p&gt;</comment>
                            <comment id="14049302" author="hiveqa" created="Tue, 1 Jul 2014 20:44:45 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12653346/HIVE-5976.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12653346/HIVE-5976.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 5673 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_alter_file_format
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_storage_format_descriptor
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_root_dir_external_table
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/650/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/650/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/650/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/650/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-650/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-650/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12653346&lt;/p&gt;</comment>
                            <comment id="14056697" author="davidzchen" created="Wed, 9 Jul 2014 20:15:24 +0000"  >&lt;p&gt;I have fixed the test failure for alter_file_format. The failure was caused by the fact that the SerDe of the table was not set when the StorageFormatDescriptor does not specify a SerDe, as is the case for text and sequencefile. To fix this, I added a new HiveConf variable, HIVEDEFAULTSERDE, which is set to LazySimpleSerDe by default.&lt;/p&gt;

&lt;p&gt;Another source of the failure is if INPUTFORMAT, OUTPUTFORMAT, and SERDE are set using SET FILEFORMAT, the SerDe is not applied.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; - I noticed that AvroSerDe is not included in this patch. Was this because we only want to port the current &quot;native&quot; storage formats for this patch and make Avro a native storage format in a separate patch? I am thinking that AvroSerDe&apos;s requirement for a schema URL or schema literal to be set might cause some complications.&lt;/p&gt;</comment>
                            <comment id="14056764" author="hiveqa" created="Wed, 9 Jul 2014 21:20:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12654861/HIVE-5976.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12654861/HIVE-5976.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/724/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/724/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/724/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/724/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-724/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-724/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-724/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
Reverted &apos;metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreControlledCommit.java&apos;
Reverted &apos;metastore/src/test/org/apache/hadoop/hive/metastore/DummyRawStoreForJdoConnection.java&apos;
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/RawStore.java&apos;
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java&apos;
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/IMetaStoreClient.java&apos;
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&apos;
Reverted &apos;metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py&apos;
Reverted &apos;metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore.py&apos;
Reverted &apos;metastore/src/gen/thrift/gen-py/hive_metastore/ThriftHiveMetastore-remote&apos;
Reverted &apos;metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.cpp&apos;
Reverted &apos;metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp&apos;
Reverted &apos;metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore.h&apos;
Reverted &apos;metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h&apos;
Reverted &apos;metastore/src/gen/thrift/gen-cpp/ThriftHiveMetastore_server.skeleton.cpp&apos;
Reverted &apos;metastore/src/gen/thrift/gen-rb/thrift_hive_metastore.rb&apos;
Reverted &apos;metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrivilegeBag.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ColumnStatistics.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Partition.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HiveObjectRef.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PartitionsStatsRequest.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetPrincipalsInRoleResponse.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/SkewedInfo.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowCompactResponse.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/RequestPartsSpec.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AddPartitionsRequest.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Type.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/HeartbeatTxnRangeResponse.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ShowLocksResponse.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetOpenTxnsResponse.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/OpenTxnsResponse.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Schema.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/ThriftHiveMetastore.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PrincipalPrivilegeSet.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/AddPartitionsResult.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/TableStatsResult.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/TableStatsRequest.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PartitionsByExprResult.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Table.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/LockRequest.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/StorageDescriptor.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetRoleGrantsForPrincipalResponse.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GetOpenTxnsInfoResponse.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/PartitionsStatsResult.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/DropPartitionsResult.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Function.java&apos;
Reverted &apos;metastore/src/gen/thrift/gen-php/metastore/ThriftHiveMetastore.php&apos;
Reverted &apos;metastore/src/gen/thrift/gen-php/metastore/Types.php&apos;
Reverted &apos;metastore/if/hive_metastore.thrift&apos;
Reverted &apos;itests/hive-unit/src/test/java/org/apache/hadoop/hive/metastore/TestAuthorizationApiAuthorizer.java&apos;
Reverted &apos;ql/src/test/results/clientpositive/authorization_role_grant1.q.out&apos;
Reverted &apos;ql/src/test/queries/clientpositive/authorization_role_grant1.q&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/parse/authorization/HiveAuthorizationTaskFactoryImpl.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java&apos;
Reverted &apos;ql/src/java/org/apache/hadoop/hive/ql/security/authorization/plugin/sqlstd/SQLStdHiveAccessController.java&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf target datanucleus.log ant/target shims/target shims/0.20/target shims/0.20S/target shims/0.23/target shims/aggregator/target shims/common/target shims/common-secure/target packaging/target hbase-handler/target testutils/target jdbc/target metastore/target metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GrantRevokeRoleRequest.java metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GrantRevokeRoleResponse.java metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/GrantRevokeType.java itests/target itests/hcatalog-unit/target itests/test-serde/target itests/qtest/target itests/hive-unit-hadoop2/target itests/hive-minikdc/target itests/hive-unit/target itests/custom-serde/target itests/util/target hcatalog/target hcatalog/core/target hcatalog/streaming/target hcatalog/server-extensions/target hcatalog/hcatalog-pig-adapter/target hcatalog/webhcat/svr/target hcatalog/webhcat/java-client/target hwi/target common/target common/src/gen contrib/target service/target serde/target beeline/target odbc/target cli/target ql/dependency-reduced-pom.xml ql/target ql/src/test/results/clientnegative/authorization_role_grant2.q.out ql/src/test/queries/clientnegative/authorization_role_grant2.q
+ svn update
U    itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestJdbcWithMiniMr.java
U    itests/qtest/testconfiguration.properties
U    metastore/if/hive_metastore.thrift
U    metastore/src/gen/thrift/gen-cpp/hive_metastore_types.cpp
U    metastore/src/gen/thrift/gen-cpp/hive_metastore_types.h
U    metastore/src/gen/thrift/gen-rb/hive_metastore_types.rb
U    metastore/src/gen/thrift/gen-javabean/org/apache/hadoop/hive/metastore/api/Table.java
U    metastore/src/gen/thrift/gen-php/metastore/Types.php
U    metastore/src/gen/thrift/gen-py/hive_metastore/ttypes.py
U    metastore/src/java/org/apache/hadoop/hive/metastore/Warehouse.java
U    metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java
A    ql/src/test/queries/clientnegative/temp_table_rename.q
A    ql/src/test/queries/clientnegative/temp_table_index.q
A    ql/src/test/queries/clientnegative/temp_table_column_stats.q
A    ql/src/test/queries/clientnegative/temp_table_create_like_partitions.q
A    ql/src/test/queries/clientnegative/temp_table_authorize_create_tbl.q
A    ql/src/test/queries/clientnegative/temp_table_partitions.q
A    ql/src/test/queries/clientpositive/show_create_table_temp_table.q
U    ql/src/test/queries/clientpositive/stats19.q
A    ql/src/test/queries/clientpositive/temp_table_gb1.q
A    ql/src/test/queries/clientpositive/temp_table_subquery1.q
A    ql/src/test/queries/clientpositive/temp_table_external.q
A    ql/src/test/queries/clientpositive/temp_table_names.q
A    ql/src/test/queries/clientpositive/temp_table_options1.q
A    ql/src/test/queries/clientpositive/temp_table.q
A    ql/src/test/queries/clientpositive/temp_table_windowing_expressions.q
A    ql/src/test/queries/clientpositive/temp_table_precedence.q
A    ql/src/test/queries/clientpositive/authorization_create_temp_table.q
A    ql/src/test/queries/clientpositive/temp_table_join1.q
A    ql/src/test/results/clientnegative/temp_table_rename.q.out
A    ql/src/test/results/clientnegative/temp_table_create_like_partitions.q.out
A    ql/src/test/results/clientnegative/temp_table_partitions.q.out
A    ql/src/test/results/clientnegative/temp_table_index.q.out
A    ql/src/test/results/clientnegative/temp_table_column_stats.q.out
A    ql/src/test/results/clientnegative/temp_table_authorize_create_tbl.q.out
A    ql/src/test/results/clientpositive/temp_table_options1.q.out
A    ql/src/test/results/clientpositive/temp_table_windowing_expressions.q.out
A    ql/src/test/results/clientpositive/show_create_table_temp_table.q.out
U    ql/src/test/results/clientpositive/nullformatCTAS.q.out
A    ql/src/test/results/clientpositive/temp_table_external.q.out
A    ql/src/test/results/clientpositive/temp_table_precedence.q.out
U    ql/src/test/results/clientpositive/nullformat.q.out
U    ql/src/test/results/clientpositive/show_create_table_delimited.q.out
A    ql/src/test/results/clientpositive/temp_table_names.q.out
A    ql/src/test/results/clientpositive/temp_table_subquery1.q.out
A    ql/src/test/results/clientpositive/temp_table_gb1.q.out
A    ql/src/test/results/clientpositive/authorization_create_temp_table.q.out
A    ql/src/test/results/clientpositive/temp_table_join1.q.out
U    ql/src/test/results/clientpositive/show_create_table_alter.q.out
U    ql/src/test/results/clientpositive/show_create_table_db_table.q.out
A    ql/src/test/results/clientpositive/tez/temp_table.q.out
A    ql/src/test/results/clientpositive/temp_table.q.out
U    ql/src/test/results/clientpositive/show_create_table_serde.q.out
U    ql/src/test/org/apache/hadoop/hive/ql/exec/tez/TestTezTask.java
U    ql/src/test/org/apache/hadoop/hive/ql/lockmgr/TestDbTxnManager.java
U    ql/src/test/org/apache/hadoop/hive/ql/parse/authorization/TestHiveAuthorizationTaskFactory.java
U    ql/src/test/org/apache/hadoop/hive/ql/parse/TestMacroSemanticAnalyzer.java
A    ql/src/java/org/apache/hadoop/hive/ql/metadata/SessionHiveMetaStoreClient.java
U    ql/src/java/org/apache/hadoop/hive/ql/metadata/Table.java
U    ql/src/java/org/apache/hadoop/hive/ql/metadata/Hive.java
U    ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java
U    ql/src/java/org/apache/hadoop/hive/ql/Context.java
U    ql/src/java/org/apache/hadoop/hive/ql/parse/HiveParser.g
U    ql/src/java/org/apache/hadoop/hive/ql/parse/ImportSemanticAnalyzer.java
U    ql/src/java/org/apache/hadoop/hive/ql/parse/SemanticAnalyzer.java
U    ql/src/java/org/apache/hadoop/hive/ql/parse/ColumnStatsSemanticAnalyzer.java
U    ql/src/java/org/apache/hadoop/hive/ql/session/SessionState.java
U    ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableDesc.java
U    ql/src/java/org/apache/hadoop/hive/ql/plan/CreateTableLikeDesc.java

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
Updated external to revision 1609306.

Updated to revision 1609305.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12654861&lt;/p&gt;</comment>
                            <comment id="14056804" author="davidzchen" created="Wed, 9 Jul 2014 21:52:52 +0000"  >&lt;p&gt;Previous patch was not created correctly. Attaching a new one.&lt;/p&gt;</comment>
                            <comment id="14056853" author="hiveqa" created="Wed, 9 Jul 2014 22:21:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12654880/HIVE-5976.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12654880/HIVE-5976.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/726/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/726/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/726/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/726/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-726/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-726/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-726/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ egrep -v &apos;^X|^Performing status on external&apos;
++ awk &apos;{print $2}&apos;
++ svn status --no-ignore
+ rm -rf
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1609331.

At revision 1609331.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12654880&lt;/p&gt;</comment>
                            <comment id="14056864" author="davidzchen" created="Wed, 9 Jul 2014 22:36:01 +0000"  >&lt;p&gt;Let&apos;s try not using --no-prefix.&lt;/p&gt;</comment>
                            <comment id="14056870" author="hiveqa" created="Wed, 9 Jul 2014 22:41:47 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12654885/HIVE-5976.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12654885/HIVE-5976.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/727/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/727/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/727/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/727/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-727/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-727/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Tests exited with: NonZeroExitCodeException
Command &apos;bash /data/hive-ptest/working/scratch/source-prep.sh&apos; failed with exit status 1 and output &apos;+ [[ -n /usr/java/jdk1.7.0_45-cloudera ]]
+ export JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ JAVA_HOME=/usr/java/jdk1.7.0_45-cloudera
+ export PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ PATH=/usr/java/jdk1.7.0_45-cloudera/bin/:/usr/local/apache-maven-3.0.5/bin:/usr/java/jdk1.6.0_34/bin:/usr/local/apache-ant-1.9.1/bin:/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/hiveptest/bin
+ export &apos;ANT_OPTS=-Xmx1g -XX:MaxPermSize=256m &apos;
+ ANT_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m &apos;
+ export &apos;M2_OPTS=-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ M2_OPTS=&apos;-Xmx1g -XX:MaxPermSize=256m -Dhttp.proxyHost=localhost -Dhttp.proxyPort=3128&apos;
+ cd /data/hive-ptest/working/
+ tee /data/hive-ptest/logs/PreCommit-HIVE-Build-727/source-prep.txt
+ [[ false == \t\r\u\e ]]
+ mkdir -p maven ivy
+ [[ svn = \s\v\n ]]
+ [[ -n &apos;&apos; ]]
+ [[ -d apache-svn-trunk-source ]]
+ [[ ! -d apache-svn-trunk-source/.svn ]]
+ [[ ! -d apache-svn-trunk-source ]]
+ cd apache-svn-trunk-source
+ svn revert -R .
++ awk &apos;{print $2}&apos;
++ egrep -v &apos;^X|^Performing status on external&apos;
++ svn status --no-ignore
+ rm -rf
+ svn update

Fetching external item into &apos;hcatalog/src/test/e2e/harness&apos;
External at revision 1609333.

At revision 1609333.
+ patchCommandPath=/data/hive-ptest/working/scratch/smart-apply-patch.sh
+ patchFilePath=/data/hive-ptest/working/scratch/build.patch
+ [[ -f /data/hive-ptest/working/scratch/build.patch ]]
+ chmod +x /data/hive-ptest/working/scratch/smart-apply-patch.sh
+ /data/hive-ptest/working/scratch/smart-apply-patch.sh /data/hive-ptest/working/scratch/build.patch
The patch does not appear to apply with p0, p1, or p2
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12654885&lt;/p&gt;</comment>
                            <comment id="14056873" author="davidzchen" created="Wed, 9 Jul 2014 22:45:40 +0000"  >&lt;p&gt;Ok, I tried uploading a patch using:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;git format-patch trunk&lt;/li&gt;
	&lt;li&gt;git diff trunk --no-prefix&lt;/li&gt;
	&lt;li&gt;git diff trunk&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I am getting the &lt;tt&gt;The patch does not appear to apply with p0, p1, or p2&lt;/tt&gt; error for each of them.&lt;/p&gt;

&lt;p&gt;Is there something wrong with the Hive pre-commit test job?&lt;/p&gt;</comment>
                            <comment id="14056876" author="brocknoland" created="Wed, 9 Jul 2014 22:52:44 +0000"  >&lt;p&gt;Can you verify your patch applies on top of trunk HEAD?&lt;/p&gt;</comment>
                            <comment id="14056898" author="davidzchen" created="Wed, 9 Jul 2014 23:28:52 +0000"  >&lt;p&gt;Ah. I rebased before I submitted the first of those patches and thought the error message implied something wrong with the format of the patch itself.&lt;/p&gt;

&lt;p&gt;I have rebased on trunk again and resolved the merge conflict. Uploading a new patch.&lt;/p&gt;</comment>
                            <comment id="14056964" author="hiveqa" created="Thu, 10 Jul 2014 00:52:00 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12654895/HIVE-5976.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12654895/HIVE-5976.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 23 failed/errored test(s), 5720 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_sortmerge_join_8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_create_union_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ctas
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ctas_colname
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ctas_uses_database_location
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_duplicate_key
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_inputddl1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_inputddl2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_inputddl3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nonmr_fetch
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nullformat
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_nullformatCTAS
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoin_noskew
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_smb_mapjoin9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_storage_format_descriptor
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_temp_table
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_top_level
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_ctas
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_tez_dml
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_parallel_orderby
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/728/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/728/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/728/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/728/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-728/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-728/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 23 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12654895&lt;/p&gt;</comment>
                            <comment id="14056969" author="davidzchen" created="Thu, 10 Jul 2014 00:58:18 +0000"  >&lt;p&gt;I am looking into the test failures. It looks like my patch caused additional tests to fail due to an extra line in the output:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;serde name: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There are three test failures that appear to be caused by other problems.&lt;/p&gt;

&lt;p&gt;Finally, it seems that the test failures in the previous runs where the data size was different are no longer appearing.&lt;/p&gt;</comment>
                            <comment id="14057974" author="davidzchen" created="Thu, 10 Jul 2014 21:18:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; I realized that the reason why the alter table tests are now passing and a number of the create table tests are now failing is that the create table and alter table codepaths do things differently in terms of setting the SerDe for text and sequencefile. The create table codepath does not set the SerDe for these two storage formats (see BaseSemanticAnalyzer. StorageFormat.fillStorageFormat()).&lt;/p&gt;

&lt;p&gt;However, the alter table codepath, in fact, does (see DDLSemanticAnalyze.analyzeAlterTableFileFormat()) and sets them to LazySimpleSerDe. However, now that both code paths go through the new StorageFormat class, not setting the SerDe to LazySimpleSerDe for text and sequencefile causes alter table fileformat to fail because the SerDe remains unchanged &amp;#8211; which is clearly incorrect &amp;#8211; but setting the SerDe to LazySimpleSerDe causes the create table tests to fail because now we have one extra line in the output because the SerDe is now being set.&lt;/p&gt;

&lt;p&gt;It seems to me that the create table codepath should also set the SerDe to LazySimpleSerDe for text and sequencefile. Is there a reason why it is currently not doing so?&lt;/p&gt;</comment>
                            <comment id="14058098" author="brocknoland" created="Thu, 10 Jul 2014 23:09:56 +0000"  >&lt;p&gt;Thank you for your analysis!&lt;/p&gt;

&lt;p&gt;I think that both alter and create should set the serde. AFAIK it is populated in the HMS despite not being set. If tests fail because an additional line of output we&apos;ll just have to update them. Instructions on how to update them is under &quot;How do I update the output of a CliDriver testcase?&quot; here &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/HiveDeveloperFAQ&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14058193" author="davidzchen" created="Fri, 11 Jul 2014 01:20:12 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt;! I have updated the test output and attached a new patch.&lt;/p&gt;</comment>
                            <comment id="14058516" author="hiveqa" created="Fri, 11 Jul 2014 07:41:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12655127/HIVE-5976.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12655127/HIVE-5976.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5720 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_storage_format_descriptor
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_optimization
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/744/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/744/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/744/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/744/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-744/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-744/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12655127&lt;/p&gt;</comment>
                            <comment id="14058823" author="brocknoland" created="Fri, 11 Jul 2014 14:09:21 +0000"  >&lt;p&gt;storage_format_descriptor might be related. Can you reproduce locally? The other two don&apos;t look to be.&lt;/p&gt;</comment>
                            <comment id="14059627" author="davidzchen" created="Sat, 12 Jul 2014 03:38:48 +0000"  >&lt;p&gt;I can reproduce it locally. It looks the failure is caused by additional lines in the output, specifically PREHOOK and POSTHOOK output printing the input file path (which is masked) and the table being written to.&lt;/p&gt;

&lt;p&gt;I think this does not appear to be an issue and should be fixed by updating the expected output. &lt;/p&gt;</comment>
                            <comment id="14059749" author="hiveqa" created="Sat, 12 Jul 2014 11:26:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12655358/HIVE-5976.8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12655358/HIVE-5976.8.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5706 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/754/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/754/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/754/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/754/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-754/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-754/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12655358&lt;/p&gt;</comment>
                            <comment id="14059775" author="davidzchen" created="Sat, 12 Jul 2014 12:48:13 +0000"  >&lt;p&gt;This test failure does not appear to be related. I think this patch is ready to be committed unless there is additional feedback.&lt;/p&gt;</comment>
                            <comment id="14059919" author="brocknoland" created="Sat, 12 Jul 2014 21:06:18 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14060208" author="brocknoland" created="Sun, 13 Jul 2014 19:02:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davidzchen&quot; class=&quot;user-hover&quot; rel=&quot;davidzchen&quot;&gt;David Chen&lt;/a&gt; I&apos;d like to commit this today, but I committed &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; first since it&apos;s such a huge patch which is PIA the rebase... Could you rebase this one?&lt;/p&gt;</comment>
                            <comment id="14060399" author="davidzchen" created="Mon, 14 Jul 2014 07:21:26 +0000"  >&lt;p&gt;No problem. I have rebased against trunk and attached a new patch.&lt;/p&gt;</comment>
                            <comment id="14060532" author="hiveqa" created="Mon, 14 Jul 2014 10:53:19 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12655501/HIVE-5976.9.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12655501/HIVE-5976.9.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 3 failed/errored test(s), 5717 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_temp_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hive.hcatalog.cli.TestPermsGrp.testCustomPerms
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/775/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/775/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/775/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-Build/775/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-775/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-Build-775/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 3 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12655501&lt;/p&gt;</comment>
                            <comment id="14060791" author="brocknoland" created="Mon, 14 Jul 2014 16:01:32 +0000"  >&lt;p&gt;Thank you David for your contribution!! I have committed this to trunk!&lt;/p&gt;</comment>
                            <comment id="14060932" author="davidzchen" created="Mon, 14 Jul 2014 17:51:58 +0000"  >&lt;p&gt;Thanks, Brock!&lt;/p&gt;</comment>
                            <comment id="14061316" author="lefty@hortonworks.com" created="Mon, 14 Jul 2014 21:54:12 +0000"  >&lt;p&gt;This adds configuration parameter &lt;b&gt;hive.default.serde&lt;/b&gt; with its description to the new, improved HiveConf.java.  (Also to hive-default.xml.template, but isn&apos;t that redundant now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6037&quot; title=&quot;Synchronize HiveConf with hive-default.xml.template and support show conf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6037&quot;&gt;&lt;del&gt;HIVE-6037&lt;/del&gt;&lt;/a&gt; is committed?)  So the Configuration Properties wiki needs to be updated.&lt;/p&gt;

&lt;p&gt;What other documentation does this need?  Here are some candidates for revision:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/SerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SerDe &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-HiveSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Developer Guide &amp;#8211; Hive SerDe &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-CreateTable&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; CREATE TABLE syntax &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-RowFormat,StorageFormat,andSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; Create Table &amp;#8211; Row Format, Storage Format, and SerDe &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AddSerDeProperties&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; Alter Table &amp;#8211; Add SerDe Properties &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;(maybe) &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-CreateTableAsSelect(CTAS)&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; CTAS &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;(maybe) &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-AlterTable/PartitionFileFormat&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DDL &amp;#8211; Alter Table/Partition File Format &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/StorageHandlers#StorageHandlers-DDL&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Hive Storage Handlers &amp;#8211; DDL &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/HCatalog+StorageFormats&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HCatalog Storage Formats &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;(maybe) &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AvroSerDe&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Avro SerDe &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;(no change?) &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Parquet#Parquet-HiveQLSyntax&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Parquet &amp;#8211; HiveQL Syntax &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;(no change?) &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+ORC#LanguageManualORC-HiveQLSyntax&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;ORC &amp;#8211; HiveQL Syntax &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;(maybe) &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/GettingStarted#GettingStarted-ApacheWeblogData&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Getting Started &amp;#8211; Apache Weblog Data &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;(no examples yet, but could add some) &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Tutorial#Tutorial-UsageandExamples&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Tutorial &amp;#8211; Usage and Examples &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14210549" author="thejas" created="Thu, 13 Nov 2014 19:41:24 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                            <comment id="14265538" author="szehon" created="Tue, 6 Jan 2015 01:50:52 +0000"  >&lt;p&gt;It&apos;s mostly an internal implementation change, so I think none of the DDL pages have to change as there is no DDL syntax change.&lt;/p&gt;

&lt;p&gt;I did add a section describing this change to the developer guide for any developers to know about the registration mechanism:&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-RegistrationofNativeSerDe&amp;#39;s&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-RegistrationofNativeSerDe&apos;s&lt;/a&gt;.  &lt;/p&gt;

&lt;p&gt;Feel free to edit/move it if there is a better place, suggest more edits, or remove the TODOC label if this is sufficient.&lt;/p&gt;</comment>
                            <comment id="14265569" author="szehon" created="Tue, 6 Jan 2015 02:22:34 +0000"  >&lt;p&gt;Also added property description &apos;hive.default.serde&apos; to &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-FileFormatsandI/O&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-FileFormatsandI/O&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14265842" author="lefty@hortonworks.com" created="Tue, 6 Jan 2015 08:25:31 +0000"  >&lt;p&gt;Nicely documented, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt;.  Removing the TODOC14 label.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12678287">HIVE-5783</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12723510">HIVE-7286</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12706013">HIVE-6806</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12750305">HIVE-8591</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12652566" name="HIVE-5976.2.patch" size="74345" author="davidzchen" created="Thu, 26 Jun 2014 07:16:33 +0000"/>
                            <attachment id="12653341" name="HIVE-5976.3.patch" size="76496" author="davidzchen" created="Tue, 1 Jul 2014 08:02:33 +0000"/>
                            <attachment id="12653081" name="HIVE-5976.3.patch" size="74540" author="davidzchen" created="Mon, 30 Jun 2014 01:39:48 +0000"/>
                            <attachment id="12653346" name="HIVE-5976.4.patch" size="76498" author="davidzchen" created="Tue, 1 Jul 2014 08:29:31 +0000"/>
                            <attachment id="12654885" name="HIVE-5976.5.patch" size="77709" author="davidzchen" created="Wed, 9 Jul 2014 22:36:01 +0000"/>
                            <attachment id="12654895" name="HIVE-5976.6.patch" size="77690" author="davidzchen" created="Wed, 9 Jul 2014 23:29:52 +0000"/>
                            <attachment id="12655127" name="HIVE-5976.7.patch" size="95101" author="davidzchen" created="Fri, 11 Jul 2014 01:20:12 +0000"/>
                            <attachment id="12655358" name="HIVE-5976.8.patch" size="95246" author="davidzchen" created="Sat, 12 Jul 2014 03:45:04 +0000"/>
                            <attachment id="12655501" name="HIVE-5976.9.patch" size="97392" author="davidzchen" created="Mon, 14 Jul 2014 07:21:26 +0000"/>
                            <attachment id="12629626" name="HIVE-5976.patch" size="78051" author="brocknoland" created="Tue, 18 Feb 2014 21:21:23 +0000"/>
                            <attachment id="12629624" name="HIVE-5976.patch" size="78054" author="brocknoland" created="Tue, 18 Feb 2014 21:17:55 +0000"/>
                            <attachment id="12629598" name="HIVE-5976.patch" size="76842" author="brocknoland" created="Tue, 18 Feb 2014 19:15:11 +0000"/>
                            <attachment id="12629571" name="HIVE-5976.patch" size="76834" author="brocknoland" created="Tue, 18 Feb 2014 17:27:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Jun 2014 06:43:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362442</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qh5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362736</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5977] Ability to selectively enable/disable WebHCat REST API components</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5977</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12683208">HIVE-5977</key>
            <summary>Ability to selectively enable/disable WebHCat REST API components</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Dec 2013 21:54:07 +0000</created>
                <updated>Sat, 6 Dec 2014 05:23:26 +0000</updated>
                                                                            <component>WebHCat</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13841772" author="cwsteinbach" created="Fri, 6 Dec 2013 21:59:17 +0000"  >&lt;p&gt;The RPCs in the &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/WebHCat+Reference&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;WebHCat REST API&lt;/a&gt; can be divided divided into the following categories:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;General (version, status, etc)&lt;/li&gt;
	&lt;li&gt;DDL&lt;/li&gt;
	&lt;li&gt;MapReduce job submission&lt;/li&gt;
	&lt;li&gt;Pig job submission&lt;/li&gt;
	&lt;li&gt;Hive job submission&lt;/li&gt;
	&lt;li&gt;Queue (job management, deprecated)&lt;/li&gt;
	&lt;li&gt;Jobs (job management)&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;We should provide administrators with the ability to selectively disable categories 2-7 by setting properties in the WebHCat configuration file. By default all categories will be enabled.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362460</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qh9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362754</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5978] Rollups not supported in vector mode.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5978</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Rollups are not supported in vector mode, the query should fail to vectorize. A separate jira will be filed to implement rollups in vector mode.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683216">HIVE-5978</key>
            <summary>Rollups not supported in vector mode.</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jnp">Jitendra Nath Pandey</assignee>
                                    <reporter username="jnp">Jitendra Nath Pandey</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Dec 2013 22:54:55 +0000</created>
                <updated>Wed, 11 Dec 2013 09:42:24 +0000</updated>
                            <resolved>Mon, 9 Dec 2013 18:52:14 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13841881" author="ashutoshc" created="Fri, 6 Dec 2013 23:26:01 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13841939" author="hiveqa" created="Sat, 7 Dec 2013 00:27:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617500/HIVE-5978.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617500/HIVE-5978.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4460 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/558/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/558/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/558/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/558/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617500&lt;/p&gt;</comment>
                            <comment id="13843401" author="ashutoshc" created="Mon, 9 Dec 2013 18:52:14 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Jitendra!&lt;/p&gt;</comment>
                            <comment id="13845189" author="lefty@hortonworks.com" created="Wed, 11 Dec 2013 08:44:41 +0000"  >&lt;p&gt;Does this need to be documented in the design doc (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4160&quot; title=&quot;Vectorized Query Execution in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4160&quot;&gt;&lt;del&gt;HIVE-4160&lt;/del&gt;&lt;/a&gt;)?&lt;/p&gt;</comment>
                            <comment id="13845228" author="lefty@hortonworks.com" created="Wed, 11 Dec 2013 09:42:24 +0000"  >&lt;p&gt;Oh, just realized the wiki has a vectorization design doc now:  &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Vectorized+Query+Execution&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/Hive/Vectorized+Query+Execution&lt;/a&gt;.  It links to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4160&quot; title=&quot;Vectorized Query Execution in Hive&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4160&quot;&gt;&lt;del&gt;HIVE-4160&lt;/del&gt;&lt;/a&gt; for the complete doc, very helpful.&lt;/p&gt;

&lt;p&gt;ROLLUP isn&apos;t in the list of supported data types and operations, so perhaps its current lack of support is implied.  Should there be a list of supported aggregates?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12617500" name="HIVE-5978.1.patch" size="737" author="jnp" created="Fri, 6 Dec 2013 23:03:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Dec 2013 23:26:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362468</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qhb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362762</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5979] Failure in cast to timestamps.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5979</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Query ran:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(t as timestamp), &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(si as timestamp),
       &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(i as timestamp), &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(b as timestamp),
       &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(f as string), &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(d as timestamp),
       &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(bo as timestamp), &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(b * 0 as timestamp),
       &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(ts as timestamp), &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(s as timestamp),
       &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(substr(s, 1, 1) as timestamp)
from Table1;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Running this query with hive.vectorized.execution.enabled=true fails with the following exception:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;13/12/05 07:56:36 ERROR tez.TezJobMonitor: Status: Failed
Vertex failed, vertexName=Map 1, vertexId=vertex_1386227234886_0482_1_00, diagnostics=[Task failed, taskId=task_1386227234886_0482_1_00_000000, diagnostics=[AttemptID:attempt_1386227234886_0482_1_00_000000_0 Info:Error: java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row
        at org.apache.hadoop.hive.ql.exec.tez.MapRecordProcessor.processRow(MapRecordProcessor.java:205)
        at org.apache.hadoop.hive.ql.exec.tez.MapRecordProcessor.run(MapRecordProcessor.java:171)
        at org.apache.hadoop.hive.ql.exec.tez.TezProcessor.run(TezProcessor.java:112)
        at org.apache.tez.runtime.LogicalIOProcessorRuntimeTask.run(LogicalIOProcessorRuntimeTask.java:201)
        at org.apache.hadoop.mapred.YarnTezDagChild$4.run(YarnTezDagChild.java:484)
        at java.security.AccessController.doPrivileged(Native Method)
        at javax.security.auth.Subject.doAs(Subject.java:396)
        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1491)
        at org.apache.hadoop.mapred.YarnTezDagChild.main(YarnTezDagChild.java:474)
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row
        at org.apache.hadoop.hive.ql.exec.vector.VectorMapOperator.process(VectorMapOperator.java:45)
        at org.apache.hadoop.hive.ql.exec.tez.MapRecordProcessor.processRow(MapRecordProcessor.java:193)
        ... 8 more
Caused by: java.lang.IllegalArgumentException: nanos &amp;gt; 999999999 or &amp;lt; 0
        at java.sql.Timestamp.setNanos(Timestamp.java:383)
        at org.apache.hadoop.hive.ql.exec.vector.TimestampUtils.assignTimeInNanoSec(TimestampUtils.java:27)
        at org.apache.hadoop.hive.ql.exec.vector.expressions.VectorExpressionWriterFactory$1.writeValue(VectorExpressionWriterFactory.java:412)
        at org.apache.hadoop.hive.ql.exec.vector.expressions.VectorExpressionWriterFactory$VectorExpressionWriterLong.writeValue(VectorExpressionWriterFactory.java:162)
        at org.apache.hadoop.hive.ql.exec.vector.VectorizedRowBatch.toString(VectorizedRowBatch.java:152)
        at org.apache.hadoop.hive.ql.exec.vector.VectorFileSinkOperator.processOp(VectorFileSinkOperator.java:85)
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:786)
        at org.apache.hadoop.hive.ql.exec.vector.VectorSelectOperator.processOp(VectorSelectOperator.java:129)
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:786)
        at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:93)
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:786)
        at org.apache.hadoop.hive.ql.exec.vector.VectorMapOperator.process(VectorMapOperator.java:43)
        ... 9 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Full log is attached.&lt;br/&gt;
Schema for the table is as follows:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; desc Table1;
OK
t                   	tinyint             	from deserializer
si                  	smallint            	from deserializer
i                   	&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;                 	from deserializer
b                   	bigint              	from deserializer
f                   	&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;               	from deserializer
d                   	&lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;              	from deserializer
bo                  	&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt;             	from deserializer
s                   	string              	from deserializer
s2                  	string              	from deserializer
ts                  	timestamp           	from deserializer
Time taken: 0.521 seconds, Fetched: 10 row(s)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12683220">HIVE-5979</key>
            <summary>Failure in cast to timestamps.</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21146&amp;avatarType=issuetype">Sub-task</type>
                            <parent id="12636846">HIVE-4160</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jnp">Jitendra Nath Pandey</assignee>
                                    <reporter username="jnp">Jitendra Nath Pandey</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Dec 2013 23:14:19 +0000</created>
                <updated>Wed, 11 Dec 2013 21:35:04 +0000</updated>
                            <resolved>Wed, 11 Dec 2013 21:34:14 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13842163" author="gopalv" created="Sat, 7 Dec 2013 09:52:58 +0000"  >&lt;p&gt;(Pasted from an email)&lt;/p&gt;

&lt;p&gt;The nano second sql timestamp stuff in Java is horribly broken for usability.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hive/blob/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/VectorUDFTimestampFieldLong.java#L52&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/vector/expressions/VectorUDFTimestampFieldLong.java#L52&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Read my comments there on how it handles -ve timestamps and sub-second timings.&lt;/p&gt;

&lt;p&gt;Because of the way integer division works in Java, you can end with rounding towards zero - this causes hell with the restriction that setNanos() has to always be positive.&lt;/p&gt;

&lt;p&gt;On top of that it uses 1 integer and 1 long to store the time always (unix-epoch seconds + nanos) - the millisecond fraction is stored in the nanos field, so the setNanos() overwrites the millisecond fraction of time always, which is why the getNanos() is added to it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/sql/Timestamp.java#Timestamp.setTime%28long%29&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/sql/Timestamp.java#Timestamp.setTime%28long%29&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;That makes sense, until you realize that a negative millisecond timing is stored as a -1ve second + positive nanosecond time.&lt;/p&gt;

&lt;p&gt;So when you mix that with the negative modulo in Java, you end up with a fairly ugly kludge which needs to take care of a several edge cases related to the java.sql.Timestamp implementation.&lt;/p&gt;</comment>
                            <comment id="13842240" author="xuefuz" created="Sat, 7 Dec 2013 14:54:46 +0000"  >&lt;p&gt;Another reason for considering joda?&lt;/p&gt;</comment>
                            <comment id="13843878" author="jnp" created="Tue, 10 Dec 2013 03:00:42 +0000"  >&lt;p&gt;The reason for error is an edge case with negative times in nanosecond. In the following code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;   &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void assignTimeInNanoSec(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; timeInNanoSec, Timestamp t) {
     t.setTime((timeInNanoSec)/1000000);
     t.setNanos((&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;)((t.getNanos()) + (timeInNanoSec % 1000000)));
   }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &quot;t.setTime()&quot; call sets the nanos part as well from (timeInNanoSec)/1000000. The remaining nano seconds (timeInNanoSec % 1000000) are added in &quot;t.setNanos()&quot;. For negative values of timeInNanoSec it is expected that t.getNanos() will be positive and much larger than (timeInNanoSec % 1000000) so that &quot;t.setNanos()&quot; call works fine. But, when (timeInNanoSec)/1000000 yields zero nanoseconds the above logic fails. An example number that fails above code is &quot;-1794750230000828416L&quot;.&lt;/p&gt;</comment>
                            <comment id="13843881" author="jnp" created="Tue, 10 Dec 2013 03:03:11 +0000"  >&lt;p&gt;The attached patch fixes the above issue. A test case is also added that reproduces the issue without this patch. &lt;/p&gt;</comment>
                            <comment id="13844051" author="hiveqa" created="Tue, 10 Dec 2013 07:48:20 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617968/HIVE-5979.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617968/HIVE-5979.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4762 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_precision
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/592/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/592/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/592/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/592/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617968&lt;/p&gt;</comment>
                            <comment id="13844451" author="ehans" created="Tue, 10 Dec 2013 17:35:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/16157/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/16157/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13844581" author="ehans" created="Tue, 10 Dec 2013 19:30:56 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;The code functionality looks good to me. Please see my discussion on ReviewBoard about style and need for some comments in the code.&lt;/p&gt;</comment>
                            <comment id="13844704" author="jnp" created="Tue, 10 Dec 2013 21:48:04 +0000"  >&lt;p&gt;Updated the patch with comments.&lt;/p&gt;</comment>
                            <comment id="13844818" author="ehans" created="Tue, 10 Dec 2013 23:35:16 +0000"  >&lt;p&gt;+1 &lt;/p&gt;

&lt;p&gt;Ship it! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13844879" author="hiveqa" created="Wed, 11 Dec 2013 00:46:32 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12618106/HIVE-5979.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12618106/HIVE-5979.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4762 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/602/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/602/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/602/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/602/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12618106&lt;/p&gt;</comment>
                            <comment id="13845745" author="jnp" created="Wed, 11 Dec 2013 21:35:04 +0000"  >&lt;p&gt;Committed to trunk.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12617968" name="HIVE-5979.1.patch" size="3632" author="jnp" created="Tue, 10 Dec 2013 03:03:11 +0000"/>
                            <attachment id="12618106" name="HIVE-5979.2.patch" size="4886" author="jnp" created="Tue, 10 Dec 2013 21:48:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 7 Dec 2013 09:52:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362472</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qhbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362766</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5980] MapJoin does not take effect</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5980</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;step1:&lt;br/&gt;
  hive-site.xml &lt;br/&gt;
 &amp;lt;property&amp;gt;&lt;br/&gt;
  &amp;lt;name&amp;gt;hive.auto.convert.join&amp;lt;/name&amp;gt;&lt;br/&gt;
  &amp;lt;value&amp;gt;true&amp;lt;/value&amp;gt;&lt;br/&gt;
 &amp;lt;/property&amp;gt;&lt;br/&gt;
step2: set the parameter in console: &lt;br/&gt;
 cli:  set hive.auto.convert.join=false;&lt;br/&gt;
step3:  	execute sql, mapjoin Does not take effect	&lt;br/&gt;
   select /&lt;b&gt;+ mapjoin(t2)&lt;/b&gt;/ * from t1 join t2 on t1.f=t2.f;&lt;br/&gt;
step4: explain sql,  we can see that the join does not conver to mapjoin&lt;br/&gt;
   select /&lt;b&gt;+ mapjoin(t2)&lt;/b&gt;/ * from t1 join t2 on t1.f=t2.f;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12683278">HIVE-5980</key>
            <summary>MapJoin does not take effect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ruishlee">ruish li</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Sat, 7 Dec 2013 13:32:11 +0000</created>
                <updated>Tue, 27 May 2014 08:43:45 +0000</updated>
                            <resolved>Tue, 27 May 2014 08:42:58 +0000</resolved>
                                    <version>0.12.0</version>
                                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13848550" author="navis" created="Sun, 15 Dec 2013 06:00:12 +0000"  >&lt;p&gt;From hive-0.11.0, mapjoin hint is ignored by default. Could you check this again with hive.ignore.mapjoin.hint=false?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 15 Dec 2013 06:00:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362530</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qhov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362824</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>From hive-0.11.0, hive.ignore.mapjoin.hint=true by default.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>mapjoin </customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5981] Add hive-unit back to itests pom</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5981</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5755&quot; title=&quot;Fix hadoop2 execution environment Milestone 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5755&quot;&gt;&lt;del&gt;HIVE-5755&lt;/del&gt;&lt;/a&gt; removed hive-unit from the itests pom and it should not have been removed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683290">HIVE-5981</key>
            <summary>Add hive-unit back to itests pom</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Sat, 7 Dec 2013 18:15:06 +0000</created>
                <updated>Mon, 9 Dec 2013 23:36:31 +0000</updated>
                            <resolved>Sun, 8 Dec 2013 17:35:42 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13842278" author="brocknoland" created="Sat, 7 Dec 2013 18:17:46 +0000"  >&lt;p&gt;Assuming tests comeback green, can I get a +1 &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasadm&quot; class=&quot;user-hover&quot; rel=&quot;prasadm&quot;&gt;Prasad Mujumdar&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13842282" author="ashutoshc" created="Sat, 7 Dec 2013 18:26:03 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13842283" author="prasadm" created="Sat, 7 Dec 2013 18:27:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; I ran into compilation error in my setup y&apos;day. Looks like it needs HBase dependencies in hive-unit/pom.xml,  similar to qtest and other poms that were updated as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5755&quot; title=&quot;Fix hadoop2 execution environment Milestone 1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5755&quot;&gt;&lt;del&gt;HIVE-5755&lt;/del&gt;&lt;/a&gt;. I was able to compile and run test with hadoop-1 profile, though I didn&apos;t run the full set.&lt;br/&gt;
will try it out the full set with both profiles in my setup later today and let you know.&lt;/p&gt;</comment>
                            <comment id="13842536" author="brocknoland" created="Sun, 8 Dec 2013 15:27:29 +0000"  >&lt;p&gt;Thanks Prasad!! If adding hive-unit back doesn&apos;t affect hadoop-1 then I think we should commit this change and fix hadoop-2 in a separate ticket.&lt;/p&gt;</comment>
                            <comment id="13842540" author="hiveqa" created="Sun, 8 Dec 2013 15:44:53 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 no tests executed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617572/HIVE-5981.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617572/HIVE-5981.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/563/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/563/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/563/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/563/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;**** This message was trimmed, see log for full details ****
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-hcatalog-it-unit ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-hcatalog-it-unit ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-hcatalog-it-unit ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-hcatalog-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp/conf
     [copy] Copying 4 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-hcatalog-it-unit ---
[INFO] Compiling 7 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/test-classes
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-hcatalog-it-unit ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-hcatalog-it-unit ---
[WARNING] JAR will be empty - no content was marked for inclusion!
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-jar-plugin:2.2:test-jar (default) @ hive-hcatalog-it-unit ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-hcatalog-it-unit ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT.pom
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/hcatalog-unit/target/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-hcatalog-it-unit/0.13.0-SNAPSHOT/hive-hcatalog-it-unit-0.13.0-SNAPSHOT-tests.jar
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Testing Utilities 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-util ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/util (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-it-util ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-util ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-util ---
[INFO] Compiling 41 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/classes
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-it-util ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/util/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it-util ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/tmp/conf
     [copy] Copying 4 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-it-util ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.16:test (default-test) @ hive-it-util ---
[INFO] Tests are skipped.
[INFO] 
[INFO] --- maven-jar-plugin:2.2:jar (default-jar) @ hive-it-util ---
[INFO] Building jar: /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/hive-it-util-0.13.0-SNAPSHOT.jar
[INFO] 
[INFO] --- maven-install-plugin:2.4:install (default-install) @ hive-it-util ---
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/util/target/hive-it-util-0.13.0-SNAPSHOT.jar to /data/hive-ptest/working/maven/org/apache/hive/hive-it-util/0.13.0-SNAPSHOT/hive-it-util-0.13.0-SNAPSHOT.jar
[INFO] Installing /data/hive-ptest/working/apache-svn-trunk-source/itests/util/pom.xml to /data/hive-ptest/working/maven/org/apache/hive/hive-it-util/0.13.0-SNAPSHOT/hive-it-util-0.13.0-SNAPSHOT.pom
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Hive Integration - Unit Tests 0.13.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ hive-it-unit ---
[INFO] Deleting /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit (includes = [datanucleus.log, derby.log], excludes = [])
[INFO] 
[INFO] --- maven-resources-plugin:2.5:resources (default-resources) @ hive-it-unit ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/main/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (define-classpath) @ hive-it-unit ---
[INFO] Executing tasks

main:
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ hive-it-unit ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-resources-plugin:2.5:testResources (default-testResources) @ hive-it-unit ---
[debug] execute contextualize
[INFO] Using &apos;UTF-8&apos; encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/test/resources
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-test-dirs) @ hive-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/tmp
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/warehouse
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/tmp/conf
     [copy] Copying 4 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/tmp/conf
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (setup-metastore-scripts) @ hive-it-unit ---
[INFO] Executing tasks

main:
    [mkdir] Created dir: /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/tmp/scripts/metastore
     [copy] Copying 129 files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/tmp/scripts/metastore
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ hive-it-unit ---
[INFO] Compiling 52 source files to /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/target/test-classes
[INFO] -------------------------------------------------------------
[WARNING] COMPILATION WARNING : 
[INFO] -------------------------------------------------------------
[WARNING] Note: Some input files use or override a deprecated API.
[WARNING] Note: Recompile with -Xlint:deprecation for details.
[WARNING] Note: Some input files use unchecked or unsafe operations.
[WARNING] Note: Recompile with -Xlint:unchecked for details.
[INFO] 4 warnings 
[INFO] -------------------------------------------------------------
[INFO] -------------------------------------------------------------
[ERROR] COMPILATION ERROR : 
[INFO] -------------------------------------------------------------
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[28,41] package org.apache.hadoop.hbase.zookeeper does not exist
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[40,11] cannot find symbol
symbol  : class MiniZooKeeperCluster
location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[53,26] cannot find symbol
symbol  : class MiniZooKeeperCluster
location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[INFO] 3 errors 
[INFO] -------------------------------------------------------------
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Hive Integration - Parent ......................... SUCCESS [3.754s]
[INFO] Hive Integration - Custom Serde ................... SUCCESS [8.761s]
[INFO] Hive Integration - HCatalog Unit Tests ............ SUCCESS [4.959s]
[INFO] Hive Integration - Testing Utilities .............. SUCCESS [4.843s]
[INFO] Hive Integration - Unit Tests ..................... FAILURE [5.269s]
[INFO] Hive Integration - Test Serde ..................... SKIPPED
[INFO] Hive Integration - QFile Tests .................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 29.171s
[INFO] Finished at: Sun Dec 08 10:44:52 EST 2013
[INFO] Final Memory: 29M/82M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile (default-testCompile) on project hive-it-unit: Compilation failure: Compilation failure:
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[28,41] package org.apache.hadoop.hbase.zookeeper does not exist
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[40,11] cannot find symbol
[ERROR] symbol  : class MiniZooKeeperCluster
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] /data/hive-ptest/working/apache-svn-trunk-source/itests/hive-unit/src/test/java/org/apache/hadoop/hive/thrift/TestZooKeeperTokenStore.java:[53,26] cannot find symbol
[ERROR] symbol  : class MiniZooKeeperCluster
[ERROR] location: class org.apache.hadoop.hive.thrift.TestZooKeeperTokenStore
[ERROR] -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hive-it-unit
+ exit 1
&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617572&lt;/p&gt;</comment>
                            <comment id="13842548" author="brocknoland" created="Sun, 8 Dec 2013 16:17:24 +0000"  >&lt;p&gt;Sorry Prasad, I misunderstood.... Attached patch should fix hive-unit for hadoop-1.&lt;/p&gt;</comment>
                            <comment id="13842564" author="hiveqa" created="Sun, 8 Dec 2013 17:30:46 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617643/HIVE-5981.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617643/HIVE-5981.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4761 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/564/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/564/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/564/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/564/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617643&lt;/p&gt;</comment>
                            <comment id="13842566" author="prasadm" created="Sun, 8 Dec 2013 17:32:27 +0000"  >&lt;p&gt;+1&lt;br/&gt;
Thanks Brock!&lt;/p&gt;</comment>
                            <comment id="13842567" author="brocknoland" created="Sun, 8 Dec 2013 17:35:43 +0000"  >&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                            <comment id="13843694" author="vikram.dixit" created="Mon, 9 Dec 2013 23:35:06 +0000"  >&lt;p&gt;Sorry about that. The change was unintended. &lt;/p&gt;</comment>
                            <comment id="13843696" author="brocknoland" created="Mon, 9 Dec 2013 23:36:31 +0000"  >&lt;p&gt;No worries &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12617643" name="HIVE-5981.patch" size="2684" author="brocknoland" created="Sun, 8 Dec 2013 16:17:24 +0000"/>
                            <attachment id="12617572" name="HIVE-5981.patch" size="378" author="brocknoland" created="Sat, 7 Dec 2013 18:17:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 7 Dec 2013 18:26:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362542</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qhrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5982] Remove redundant filesystem operations and methods in FileSink</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5982</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12683302">HIVE-5982</key>
            <summary>Remove redundant filesystem operations and methods in FileSink</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="ashutoshc">Ashutosh Chauhan</reporter>
                        <labels>
                    </labels>
                <created>Sat, 7 Dec 2013 22:21:35 +0000</created>
                <updated>Tue, 13 Jan 2015 21:11:13 +0000</updated>
                            <resolved>Tue, 10 Dec 2013 16:17:57 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13842342" author="ashutoshc" created="Sat, 7 Dec 2013 22:32:08 +0000"  >&lt;p&gt;Review request: &lt;a href=&quot;https://reviews.apache.org/r/16105/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/16105/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This patch has following changes:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Deletes few unused methods.&lt;/li&gt;
	&lt;li&gt;Deletes few unused fields.&lt;/li&gt;
	&lt;li&gt;Removes an unnecessary rename FS operation.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13842350" author="hiveqa" created="Sat, 7 Dec 2013 23:44:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617590/HIVE-5982.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617590/HIVE-5982.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4460 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/561/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/561/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/561/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/561/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617590&lt;/p&gt;</comment>
                            <comment id="13843642" author="thejas" created="Mon, 9 Dec 2013 22:43:56 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13844388" author="ashutoshc" created="Tue, 10 Dec 2013 16:17:57 +0000"  >&lt;p&gt;Committed to trunk. &lt;/p&gt;</comment>
                            <comment id="14275946" author="ngangam" created="Tue, 13 Jan 2015 21:11:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;Ashutosh Chauhan&lt;/a&gt; As part of this change, the row counter has been deleted. This counter is used by HiveHistoryImpl to print the number of rows loaded. Was this deletion intentional? Is there an alternate means to get this information? Thank you&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12759403">HIVE-9023</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617590" name="HIVE-5982.patch" size="6096" author="ashutoshc" created="Sat, 7 Dec 2013 22:32:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 7 Dec 2013 23:44:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362554</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qhu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362848</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5983] Fix name of ColumnProjectionUtils.appendReadColumnIDs</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5983</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5855&quot; title=&quot;Add deprecated methods back to ColumnProjectionUtils&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5855&quot;&gt;&lt;del&gt;HIVE-5855&lt;/del&gt;&lt;/a&gt; I tried to remove a backwards incompatibility, but I named the method appendReadColumnID where it should be appendReadColumnIDs:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/hive/blob/branch-0.12/serde/src/java/org/apache/hadoop/hive/serde2/ColumnProjectionUtils.java#L51&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/hive/blob/branch-0.12/serde/src/java/org/apache/hadoop/hive/serde2/ColumnProjectionUtils.java#L51&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12683334">HIVE-5983</key>
            <summary>Fix name of ColumnProjectionUtils.appendReadColumnIDs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="brocknoland">Brock Noland</assignee>
                                    <reporter username="brocknoland">Brock Noland</reporter>
                        <labels>
                    </labels>
                <created>Sun, 8 Dec 2013 16:24:09 +0000</created>
                <updated>Tue, 10 Dec 2013 03:22:28 +0000</updated>
                            <resolved>Tue, 10 Dec 2013 03:22:28 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13842923" author="navis" created="Mon, 9 Dec 2013 05:58:33 +0000"  >&lt;p&gt;+1 Sorry for missed that.&lt;/p&gt;</comment>
                            <comment id="13843384" author="brocknoland" created="Mon, 9 Dec 2013 18:38:06 +0000"  >&lt;p&gt;Thanks Navis, not sure why HiveQA didn&apos;t run... I set it to run again.&lt;/p&gt;</comment>
                            <comment id="13843512" author="hiveqa" created="Mon, 9 Dec 2013 20:24:18 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617649/HIVE-5983.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617649/HIVE-5983.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4761 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/582/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/582/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/582/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/582/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617649&lt;/p&gt;</comment>
                            <comment id="13843895" author="brocknoland" created="Tue, 10 Dec 2013 03:22:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;Sorry for missed that.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No worries it was my fault &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12617649" name="HIVE-5983.patch" size="1558" author="brocknoland" created="Sun, 8 Dec 2013 18:04:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Dec 2013 05:58:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362586</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qi13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5984] Multi insert statement fails on Tez</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5984</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Here&apos;s an example statement that doesn&apos;t work:&lt;/p&gt;

&lt;p&gt;rom (SELECT name FROM studenttab10k WHERE name != &apos;foo&apos;) a join studenttab10k on (a.name = studenttab10k.name)&lt;br/&gt;
insert overwrite table mi1&lt;br/&gt;
select a.name, a.name&lt;br/&gt;
where a.name &amp;lt;&amp;gt; &apos;foo&apos;&lt;/p&gt;

&lt;p&gt;insert overwrite table mi2&lt;br/&gt;
select a.name, a.name&lt;br/&gt;
where a.name &amp;lt;&amp;gt; &apos;bar&apos;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683537">HIVE-5984</key>
            <summary>Multi insert statement fails on Tez</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hagleitn">Gunther Hagleitner</assignee>
                                    <reporter username="hagleitn">Gunther Hagleitner</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Dec 2013 02:51:30 +0000</created>
                <updated>Mon, 9 Dec 2013 03:07:53 +0000</updated>
                            <resolved>Mon, 9 Dec 2013 03:07:53 +0000</resolved>
                                                    <fixVersion>tez-branch</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13842874" author="hagleitn" created="Mon, 9 Dec 2013 03:07:53 +0000"  >&lt;p&gt;Committed to branch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12651047">HIVE-4660</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617775" name="HIVE-5984.1.patch" size="23210" author="hagleitn" created="Mon, 9 Dec 2013 02:53:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362610</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qi6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362904</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5985] Make qfile_regex to accept multiple patterns</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5985</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;It&apos;s not easy to specify multiple tests by single pattern string.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mvn test -Dtest=TestCliDriver -Dqfile_regex=stats_no.*,alter.* -Dtest.output.overwrite=true -Phadoop-1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12683546">HIVE-5985</key>
            <summary>Make qfile_regex to accept multiple patterns</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="navis">Navis</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Dec 2013 05:52:27 +0000</created>
                <updated>Sat, 14 Dec 2013 06:49:46 +0000</updated>
                            <resolved>Sat, 14 Dec 2013 06:49:46 +0000</resolved>
                                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13842949" author="hiveqa" created="Mon, 9 Dec 2013 07:27:19 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617782/HIVE-5985.1.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617782/HIVE-5985.1.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4761 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/570/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/570/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/570/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/570/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617782&lt;/p&gt;</comment>
                            <comment id="13843206" author="ashutoshc" created="Mon, 9 Dec 2013 14:42:02 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12617782" name="HIVE-5985.1.patch.txt" size="3273" author="navis" created="Mon, 9 Dec 2013 05:53:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Dec 2013 07:27:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362619</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qi8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362913</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Committed to trunk. Thanks for a review, Ashutosh!</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5986] ORC SARG evaluation fails with NPE for UDFs or expressions in predicate condition</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5986</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;select s from orctable where length(substr(s, 1, 2)) &amp;lt;= 2 and s like &lt;span class=&quot;code-quote&quot;&gt;&apos;%&apos;&lt;/span&gt;;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; kind of queries generate empty child expressions for the operator (AND in this case). When child expressions are empty evaluate(TruthValue[] leaves) functions returns null which results in NPE during orc split elimination or row group elimination. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12683547">HIVE-5986</key>
            <summary>ORC SARG evaluation fails with NPE for UDFs or expressions in predicate condition</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                            <label>orcfile</label>
                    </labels>
                <created>Mon, 9 Dec 2013 05:59:28 +0000</created>
                <updated>Thu, 27 Feb 2014 22:31:55 +0000</updated>
                            <resolved>Tue, 10 Dec 2013 21:49:43 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13842926" author="prasanth_j" created="Mon, 9 Dec 2013 06:06:12 +0000"  >&lt;p&gt;Making it patch available for precommit tests.&lt;/p&gt;</comment>
                            <comment id="13843000" author="hiveqa" created="Mon, 9 Dec 2013 09:16:42 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617784/HIVE-5986.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617784/HIVE-5986.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4761 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.io.sarg.TestSearchArgumentImpl.testExpression9
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/573/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/573/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/573/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/573/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617784&lt;/p&gt;</comment>
                            <comment id="13843451" author="hiveqa" created="Mon, 9 Dec 2013 19:33:07 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617872/HIVE-5986.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617872/HIVE-5986.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4761 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/581/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/581/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/581/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/581/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617872&lt;/p&gt;</comment>
                            <comment id="13844502" author="owen.omalley" created="Tue, 10 Dec 2013 18:25:21 +0000"  >&lt;p&gt;The better fix is to remove the AND node from the expression.&lt;/p&gt;</comment>
                            <comment id="13844707" author="prasanth_j" created="Tue, 10 Dec 2013 21:49:43 +0000"  >&lt;p&gt;Duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5580&quot; title=&quot;push down predicates with an and-operator between non-SARGable predicates will get NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5580&quot;&gt;&lt;del&gt;HIVE-5580&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12674403">HIVE-5580</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12617784" name="HIVE-5986.1.patch" size="720" author="prasanth_j" created="Mon, 9 Dec 2013 06:01:17 +0000"/>
                            <attachment id="12617872" name="HIVE-5986.2.patch" size="765" author="prasanth_j" created="Mon, 9 Dec 2013 18:24:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Dec 2013 09:16:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362620</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qi8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362914</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5987] The secure metastore service should reject connection from users that it can&apos;t impersonate</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5987</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The secure metastore always doesn&apos;t allow any client to connect without a valid kerberos ticket. Also the client requests are executed by impersonating the requesting userid. If metastore principal doesn&apos;t have privileges to impersonate the connecting user, then the DDL operations (eg create table, partition etc) will fail. However any user with valid Kerberos ticket is can connect to metastore service and perform read-only metadata operations. For example, get list of databases, tables; properties of each table like HDFS location, file type etc.&lt;br/&gt;
The secure metastore behavior should be consistent. If a the metastore server doesn&apos;t have privileges to impersonate the connecting user, then it should reject connection.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683550">HIVE-5987</key>
            <summary>The secure metastore service should reject connection from users that it can&apos;t impersonate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="10002" iconUrl="https://issues.apache.org/jira/images/icons/statuses/document.png" description="A patch for this issue has been uploaded to JIRA by a contributor.">Patch Available</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="prasadm">Prasad Mujumdar</assignee>
                                    <reporter username="prasadm">Prasad Mujumdar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Dec 2013 07:10:57 +0000</created>
                <updated>Mon, 9 Dec 2013 11:04:58 +0000</updated>
                                            <version>0.12.0</version>
                                                    <component>Metastore</component>
                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13843062" author="hiveqa" created="Mon, 9 Dec 2013 11:04:58 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617800/HIVE-5987.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617800/HIVE-5987.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4761 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/576/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/576/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/576/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/576/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617800&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12617800" name="HIVE-5987.1.patch" size="1915" author="prasadm" created="Mon, 9 Dec 2013 08:43:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Dec 2013 11:04:58 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362623</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qi9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362917</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5988] document hive audit log</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5988</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1948&quot; title=&quot;Have audit logging in the Metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1948&quot;&gt;&lt;del&gt;HIVE-1948&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3505&quot; title=&quot;log4j template has logging threshold that hides all audit logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3505&quot;&gt;&lt;del&gt;HIVE-3505&lt;/del&gt;&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;Audit logs are logged from hive metastore server, for every metastore api invocation. It has the function and some of the relevant function arguments logged in the metastore log file. &lt;br/&gt;
It is logged at the INFO level of log4j, so you need to make sure that the logging  at INFO level is enabled.&lt;br/&gt;
The name of the log entry is &quot;HiveMetaStore.audit&quot; .&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683700">HIVE-5988</key>
            <summary>document hive audit log</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="leftylev">Lefty Leverenz</assignee>
                                    <reporter username="thejas">Thejas M Nair</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Dec 2013 22:14:27 +0000</created>
                <updated>Thu, 15 Jun 2017 21:22:37 +0000</updated>
                                                                            <component>Documentation</component>
                    <component>Logging</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13844176" author="lefty@hortonworks.com" created="Tue, 10 Dec 2013 10:39:11 +0000"  >&lt;p&gt;This information can go in the Getting Started wikidoc, which has a section on &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/GettingStarted#GettingStarted-ErrorLogs&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Error Logs&lt;/a&gt;, but it should also go in either the admin docs or the user docs, or both.  Perhaps just mention it in appropriate places with links to Getting Started.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Is there enough information for a separate wikidoc, or is it just what&apos;s in the description here?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;If not, would the user doc &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Authorization&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Authorization&lt;/a&gt; be an appropriate place for it?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;In the admin docs, Configuration has a skimpy section that links to log file information in Getting Started and the WebHCat docset:  &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/AdminManual+Configuration#AdminManualConfiguration-LogFiles&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Log Files&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13936411" author="lefty@hortonworks.com" created="Sun, 16 Mar 2014 03:47:35 +0000"  >&lt;p&gt;Added this little section to &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/GettingStarted#GettingStarted-AuditLogs&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Getting Started &lt;/a&gt;-- please review:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;b&gt;Audit Logs&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Audit logs are logged from the Hive metastore server for every metastore API invocation. &lt;/p&gt;

&lt;p&gt;An audit log has the function and some of the relevant function arguments logged in the metastore log file. It is logged at the INFO level of log4j, so you need to make sure that the logging at the INFO level is enabled (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3505&quot; title=&quot;log4j template has logging threshold that hides all audit logs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3505&quot;&gt;&lt;del&gt;HIVE-3505&lt;/del&gt;&lt;/a&gt;). The name of the log entry is &quot;HiveMetaStore.audit&quot;.&lt;/p&gt;

&lt;p&gt;Audit logs were added in Hive 0.7 for secure client connections (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1948&quot; title=&quot;Have audit logging in the Metastore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1948&quot;&gt;&lt;del&gt;HIVE-1948&lt;/del&gt;&lt;/a&gt;) and in Hive 0.10 for non-secure connections (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3277&quot; title=&quot;Enable Metastore audit logging for non-secure connections&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3277&quot;&gt;&lt;del&gt;HIVE-3277&lt;/del&gt;&lt;/a&gt;; also see &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2797&quot; title=&quot;Make the IP address of a Thrift client available to HMSHandler.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2797&quot;&gt;&lt;del&gt;HIVE-2797&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Does it belong anywhere else (admin or user docs)?&lt;/p&gt;</comment>
                            <comment id="16051083" author="lefty@hortonworks.com" created="Thu, 15 Jun 2017 21:22:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;, would you please review the doc and close this jira?  (Or suggest improvements.)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/GettingStarted#GettingStarted-AuditLogs&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Getting Started &amp;#8211; Audit Logs &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12497525">HIVE-1948</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Dec 2013 10:39:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362772</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qj6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363066</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5989] Hive metastore authorization check is not threadsafe</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5989</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Metastore-side authorization has a couple of pretty important threadsafety bugs in it:&lt;/p&gt;

&lt;p&gt;a) The HiveMetastoreAuthenticated instantiated by the AuthorizationPreEventListener is static. This is a premature optimization and incorrect, as it will result in Authenticator implementations that store state potentially giving an incorrect result, and this bug very much exists with the DefaultMetastoreAuthenticator.&lt;/p&gt;

&lt;p&gt;b) It assumes HMSHandler.getHiveConf() is itself going to be thread-safe, which it is not. HMSHandler.getConf() is the appropriate thread-safe equivalent.&lt;/p&gt;

&lt;p&gt;The effect of this bug is that if there are two users that are concurrently running jobs on the metastore, we might :&lt;/p&gt;

&lt;p&gt;a) Allow a user to do something they didn&apos;t have permission to, because the other person did. (Security hole)&lt;br/&gt;
b) Disallow a user from doing something they should have permission to (More common - annoying and can cause job failures)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683702">HIVE-5989</key>
            <summary>Hive metastore authorization check is not threadsafe</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="sushanth">Sushanth Sowmyan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Dec 2013 22:35:56 +0000</created>
                <updated>Fri, 14 Feb 2014 00:26:36 +0000</updated>
                            <resolved>Fri, 14 Feb 2014 00:26:36 +0000</resolved>
                                    <version>0.11.0</version>
                    <version>0.12.0</version>
                    <version>0.12.1</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Metastore</component>
                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13843634" author="sushanth" created="Mon, 9 Dec 2013 22:36:53 +0000"  >&lt;p&gt;I&apos;ll attach the fix patch for now as this is a pretty severe bug. As for testing, it is easy to test from manual tests or with e2e tests, but difficult to test with a unit test. I&apos;ll also attach a &quot;SleepyAuthorizationProvider&quot; that I used to test this manually, so as to elongate the critical section to demonstrate and reproduce this error easily.&lt;/p&gt;</comment>
                            <comment id="13843638" author="sushanth" created="Mon, 9 Dec 2013 22:41:35 +0000"  >&lt;p&gt;SleepyAP.patch attached - Note, before using this for testing, you&apos;ll have to set hive.metastore.client.socket.timeout to an appropriately high amount (I used 60000 for 1 minute) to make sure that we don&apos;t hit a timeout on the client.&lt;/p&gt;</comment>
                            <comment id="13843639" author="sushanth" created="Mon, 9 Dec 2013 22:42:43 +0000"  >&lt;p&gt;Attached patch.&lt;/p&gt;</comment>
                            <comment id="13843648" author="sushanth" created="Mon, 9 Dec 2013 22:47:44 +0000"  >&lt;p&gt;Setting to patch-available so Hive-QA can pick it up to run existing tests with this patch.&lt;/p&gt;</comment>
                            <comment id="13843723" author="hiveqa" created="Mon, 9 Dec 2013 23:56:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617917/HIVE-5989.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617917/HIVE-5989.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 4761 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_precision
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/584/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/584/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/584/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/584/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617917&lt;/p&gt;</comment>
                            <comment id="13899630" author="sushanth" created="Wed, 12 Feb 2014 21:53:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;, could I please get a review on this? I&apos;m not certain if this is affected by any of your newer patches, but this is a pretty important bug at scale.&lt;/p&gt;</comment>
                            <comment id="13899811" author="mithun" created="Thu, 13 Feb 2014 00:10:14 +0000"  >&lt;p&gt;As a matter of fact, I think we&apos;re hitting this right now. I&apos;ll review your patch as well.&lt;/p&gt;</comment>
                            <comment id="13899840" author="vgumashta" created="Thu, 13 Feb 2014 00:40:36 +0000"  >&lt;p&gt;This might be related: &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6245&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HS2 creates DBs/Tables with wrong ownership when HMS setugi is true&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13899900" author="sushanth" created="Thu, 13 Feb 2014 01:36:53 +0000"  >&lt;p&gt;Much appreciated Mithun.&lt;/p&gt;

&lt;p&gt;And Vaibhav, I had a look at the jira you linked to - I don&apos;t think the two are related - this bug related to the metastore auth system using a non-threadlocal hiveconf to instantiate itself and test for ownership. It&apos;s not that hive has an idea of incorrect ugi, it&apos;s that the metastore auth system uses it incorrectly.&lt;/p&gt;</comment>
                            <comment id="13899908" author="vgumashta" created="Thu, 13 Feb 2014 01:43:57 +0000"  >&lt;p&gt;Thanks for taking a look &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="13899920" author="thejas" created="Thu, 13 Feb 2014 01:55:39 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt; Can you also create a reviewboard link ?&lt;/p&gt;</comment>
                            <comment id="13899935" author="sushanth" created="Thu, 13 Feb 2014 02:14:54 +0000"  >&lt;p&gt;Reviewboard is not responding currently when I attempt to create a new review request, I will try to create it later tonight.&lt;/p&gt;</comment>
                            <comment id="13899972" author="sushanth" created="Thu, 13 Feb 2014 03:15:10 +0000"  >&lt;p&gt;Created now : &lt;a href=&quot;https://reviews.apache.org/r/18054/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/18054/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13899981" author="thejas" created="Thu, 13 Feb 2014 03:35:29 +0000"  >&lt;p&gt;+1 . Just a minor indentation issue in the patch, I can add those 2 spaces before commit.&lt;/p&gt;</comment>
                            <comment id="13900482" author="sushanth" created="Thu, 13 Feb 2014 16:32:35 +0000"  >&lt;p&gt;Thanks, and yup, the indentation is incorrect in those two places. I&apos;ve attached a newer patch with that updated.&lt;/p&gt;</comment>
                            <comment id="13900956" author="thejas" created="Fri, 14 Feb 2014 00:26:36 +0000"  >&lt;p&gt;Patch committed to trunk.&lt;br/&gt;
Thanks for the contribution Sushanth!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12628781" name="HIVE-5989.2.patch" size="9537" author="sushanth" created="Thu, 13 Feb 2014 16:32:35 +0000"/>
                            <attachment id="12617917" name="HIVE-5989.patch" size="9529" author="sushanth" created="Mon, 9 Dec 2013 22:42:43 +0000"/>
                            <attachment id="12617916" name="SleepyAP.patch" size="5613" author="sushanth" created="Mon, 9 Dec 2013 22:41:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Dec 2013 23:56:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362774</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qj6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363068</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5990] round() function with large scale chokes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5990</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ROUND(4.42330604244772E-305, 2000000000) chokes with following error:&lt;/p&gt;

&lt;p&gt;FAILED: SemanticException &lt;span class=&quot;error&quot;&gt;&amp;#91;Error 10014&amp;#93;&lt;/span&gt;: Line 1:7 Wrong arguments &apos;2000000000&apos;: org.apache.hadoop.hive.ql.metadata.HiveException: Unable to execute method public org.apache.hadoop.hive.serde2.io.DoubleWritable org.apache.hadoop.hive.ql.udf.UDFRound.evaluate(org.apache.hadoop.hive.serde2.io.DoubleWritable,org.apache.hadoop.io.IntWritable)  on object org.apache.hadoop.hive.ql.udf.UDFRound@51809ab7 of class org.apache.hadoop.hive.ql.udf.UDFRound with arguments &lt;/p&gt;
{1.001:org.apache.hadoop.hive.serde2.io.DoubleWritable, 2000000000:org.apache.hadoop.io.IntWritable}
&lt;p&gt; of size 2&lt;/p&gt;

&lt;p&gt;I think the problem might be in how Hive evaluates 2 arg ROUND(). The code uses&lt;br/&gt;
BigDecimal.valueOf(d).setScale(i, RoundingMode.HALF_UP)&lt;br/&gt;
which chokes by itself. I saw some changes in implementation of ROUND in hive trunk but this is still being used in RoundUtils.&lt;/p&gt;</description>
                <environment>&lt;p&gt;CDH 4.2 running Hive 0.9&lt;/p&gt;</environment>
        <key id="12683713">HIVE-5990</key>
            <summary>round() function with large scale chokes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mihirk">Mihir Kulkarni</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Dec 2013 23:25:40 +0000</created>
                <updated>Mon, 9 Dec 2013 23:44:03 +0000</updated>
                                            <version>0.9.0</version>
                                                    <component>Query Processor</component>
                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13843709" author="xuefuz" created="Mon, 9 Dec 2013 23:44:03 +0000"  >&lt;p&gt;Trunk has a new implementation. However, OOM is observed with the same query, seemingly due to the same issue as above.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; select ROUND(4.42330604244772E-305, 2000000000) from ts;     
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.OutOfMemoryError: Java heap space
	at java.math.BigDecimal.bigTenToThe(BigDecimal.java:3376)
	at java.math.BigDecimal.bigMultiplyPowerTen(BigDecimal.java:3508)
	at java.math.BigDecimal.setScale(BigDecimal.java:2394)
	at java.math.BigDecimal.setScale(BigDecimal.java:2335)
	at org.apache.hadoop.hive.ql.udf.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.RoundUtils.round(RoundUtils.java:49)
	at org.apache.hadoop.hive.ql.udf.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericUDFRound.round(GenericUDFRound.java:248)
	at org.apache.hadoop.hive.ql.udf.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericUDFRound.evaluate(GenericUDFRound.java:229)
	at org.apache.hadoop.hive.ql.udf.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericUDF.initializeAndFoldConstants(GenericUDF.java:145)
	at org.apache.hadoop.hive.ql.plan.ExprNodeGenericFuncDesc.newInstance(ExprNodeGenericFuncDesc.java:232)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mihirk&quot; class=&quot;user-hover&quot; rel=&quot;mihirk&quot;&gt;Mihir Kulkarni&lt;/a&gt; Do you have a fix for this, or do you plan to work on this?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 9 Dec 2013 23:44:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362785</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qj9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363079</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-5991] ORC RLEv2 fails with ArrayIndexOutOfBounds exception for PATCHED_BLOB encoding </title>
                <link>https://issues.apache.org/jira/browse/HIVE-5991</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;PATCHED_BLOB encoding creates mask with number of bits required for 95th percentile value. If the 95th percentile value requires 32 bits then the mask creation will result in integer overflow.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683724">HIVE-5991</key>
            <summary>ORC RLEv2 fails with ArrayIndexOutOfBounds exception for PATCHED_BLOB encoding </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                            <label>orcfile</label>
                    </labels>
                <created>Mon, 9 Dec 2013 23:55:17 +0000</created>
                <updated>Thu, 12 Dec 2013 22:29:13 +0000</updated>
                            <resolved>Thu, 12 Dec 2013 22:29:13 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13843745" author="prasanth_j" created="Tue, 10 Dec 2013 00:12:45 +0000"  >&lt;p&gt;Making it as patch available for precommit tests.&lt;/p&gt;</comment>
                            <comment id="13843845" author="hiveqa" created="Tue, 10 Dec 2013 02:17:08 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12617931/HIVE-5991.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12617931/HIVE-5991.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4762 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_precision
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/586/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/586/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/586/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/586/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12617931&lt;/p&gt;</comment>
                            <comment id="13844515" author="owen.omalley" created="Tue, 10 Dec 2013 18:37:55 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13844830" author="prasanth_j" created="Tue, 10 Dec 2013 23:47:42 +0000"  >&lt;p&gt;Test failure is unrelated. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5995&quot; title=&quot;decimal_precision.q test case fails in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5995&quot;&gt;&lt;del&gt;HIVE-5995&lt;/del&gt;&lt;/a&gt; addresses the test failure.&lt;/p&gt;</comment>
                            <comment id="13846830" author="ashutoshc" created="Thu, 12 Dec 2013 22:29:13 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Prasanth!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12617931" name="HIVE-5991.1.patch" size="4630" author="prasanth_j" created="Tue, 10 Dec 2013 00:00:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Dec 2013 02:17:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362796</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qjbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363089</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-5992] Hive inconsistently converts timestamp in AVG and SUM UDAF&apos;s</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5992</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;hive&amp;gt; select t, sum(t), count(*), sum(t)/count(*), avg(t) from ts group by t;
...
OK
1977-03-15 12:34:22.345678	 227306062  1  227306062	2.27306062345678E8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As it can be seen, timestamp value (1977-03-15 12:34:22.345678) is converted with fractional part ignored in sum, while preserved in avg. As a further result, sum()/count() is not equivalent to avg.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12683725">HIVE-5992</key>
            <summary>Hive inconsistently converts timestamp in AVG and SUM UDAF&apos;s</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xuefuz">Xuefu Zhang</assignee>
                                    <reporter username="xuefuz">Xuefu Zhang</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Dec 2013 23:59:46 +0000</created>
                <updated>Sat, 21 Dec 2013 01:59:30 +0000</updated>
                            <resolved>Sat, 21 Dec 2013 01:59:30 +0000</resolved>
                                    <version>0.12.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>UDF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13849819" author="hiveqa" created="Mon, 16 Dec 2013 22:47:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12618977/HIVE-5992.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12618977/HIVE-5992.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 4789 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/656/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/656/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/656/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/656/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12618977&lt;/p&gt;</comment>
                            <comment id="13850934" author="xuefuz" created="Tue, 17 Dec 2013 21:24:07 +0000"  >&lt;p&gt;RB: &lt;a href=&quot;https://reviews.apache.org/r/16328/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/16328/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13852540" author="kamrul" created="Thu, 19 Dec 2013 03:00:52 +0000"  >&lt;p&gt;Looks good.&lt;br/&gt;
+1&lt;/p&gt;</comment>
                            <comment id="13853484" author="prasadm" created="Thu, 19 Dec 2013 23:53:13 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13854751" author="xuefuz" created="Sat, 21 Dec 2013 01:59:30 +0000"  >&lt;p&gt;Patch committed to trunk. Thank Prasad for the review.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12618977" name="HIVE-5992.patch" size="4012" author="xuefuz" created="Mon, 16 Dec 2013 21:31:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Dec 2013 22:47:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>362797</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 5 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qjbr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
