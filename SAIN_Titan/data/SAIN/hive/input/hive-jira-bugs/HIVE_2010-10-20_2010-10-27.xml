<!--
RSS generated by JIRA (7.6.3#76005-sha1:8a4e38d34af948780dbf52044e7aafb13a7cae58) at Tue Jan 22 15:16:58 UTC 2019

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/issues/?jql=project+%3D+HIVE+AND+created+%3E%3D+2010-10-20+AND+created+%3C%3D+2010-10-27+ORDER+BY+key+ASC</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="18" total="18"/>
                <build-info>
            <version>7.6.3</version>
            <build-number>76005</build-number>
            <build-date>09-01-2018</build-date>
        </build-info>

<item>
            <title>[HIVE-1736] Remove &quot;-dev&quot; suffix from release package name and generate MD5 checksum using Ant</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1736</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12477806">HIVE-1736</key>
            <summary>Remove &quot;-dev&quot; suffix from release package name and generate MD5 checksum using Ant</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Oct 2010 01:30:38 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:34 +0000</updated>
                            <resolved>Wed, 20 Oct 2010 02:03:43 +0000</resolved>
                                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12922824" author="jvs" created="Wed, 20 Oct 2010 02:03:43 +0000"  >&lt;p&gt;+1.&lt;/p&gt;

&lt;p&gt;Committed to branch and trunk.  Thanks Carl!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12457628" name="HIVE-1736-backport.1.patch.txt" size="3442" author="cwsteinbach" created="Wed, 20 Oct 2010 01:38:06 +0000"/>
                            <attachment id="12457627" name="HIVE-1736.1.patch.txt" size="3374" author="cwsteinbach" created="Wed, 20 Oct 2010 01:38:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Oct 2010 02:03:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72741</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 14 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgnj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123348</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1737] Two Bugs for Estimating Row Sizes in GroupByOperator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1737</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Two bugs:&lt;br/&gt;
1. if UDAF uses string type, Group-by will break as it tries to insert an ArrayList&amp;lt;Object&amp;gt; to a HashMap&amp;lt;KeyWrapper, AggregationBuffer[]&amp;gt;.&lt;br/&gt;
2. The code to sample size of keys only handles String type and Text type, while in most cases, they are org.apache.hadoop.hive.serde2.lazy.LazyString, so that 0 is always used.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12477944">HIVE-1737</key>
            <summary>Two Bugs for Estimating Row Sizes in GroupByOperator</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="sdong">Siying Dong</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Oct 2010 00:58:08 +0000</created>
                <updated>Sat, 17 Dec 2011 00:01:13 +0000</updated>
                            <resolved>Thu, 21 Oct 2010 16:57:22 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12923320" author="namit" created="Thu, 21 Oct 2010 05:01:21 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12923518" author="namit" created="Thu, 21 Oct 2010 16:57:22 +0000"  >&lt;p&gt;Committed. Thanks Siying&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12457720" name="HIVE-1737.1.patch" size="1841" author="sdong" created="Thu, 21 Oct 2010 04:30:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Oct 2010 05:01:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72740</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 14 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123349</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1738] Optimize Key Comparison in GroupByOperator</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1738</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;GroupByOperator uses ObjectInspectorUtils.compare() to compare keys, which is written for generalized object comparisons, which is not optimized for group-by operator. By optimizing this logic, we expect to see obvious improvements in GroupByOperator.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12477945">HIVE-1738</key>
            <summary>Optimize Key Comparison in GroupByOperator</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="sdong">Siying Dong</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Oct 2010 01:05:33 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:15 +0000</updated>
                            <resolved>Fri, 22 Oct 2010 04:57:58 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12923385" author="sdong" created="Thu, 21 Oct 2010 10:07:37 +0000"  >&lt;p&gt;I compare performance for a simple group-by query:&lt;/p&gt;

&lt;p&gt;   SELECT col1,col2,col3,col4,count(1)&lt;br/&gt;
   FROM source_table&lt;br/&gt;
   GROUP BY col1, col2, col3, col4&lt;/p&gt;

&lt;p&gt;which returns about 1000 rows.&lt;br/&gt;
The input has about 736M rows in about 19GB compressed files.The query started 67 Mappers.&lt;/p&gt;

&lt;p&gt;Map&apos;s CPU MILLISECONDS are down from about 2,950,000 to about 2,800,000. I ran each query at least 5 times, and the improvement is consistent in every run.&lt;/p&gt;</comment>
                            <comment id="12923397" author="sdong" created="Thu, 21 Oct 2010 10:55:00 +0000"  >&lt;p&gt;One note: for the query above, input format is SequenceFile, which is not friendly to this kind of query. I convert the input to RCFile and do the same comparison against it, I can see Map&apos;s CPU_MILLISECONDS are improved from about 1,050,000 to about 965,000. &lt;/p&gt;</comment>
                            <comment id="12923523" author="namit" created="Thu, 21 Oct 2010 17:03:50 +0000"  >&lt;p&gt;Can you regenerate the patch ? I am getting some conflicts&lt;/p&gt;</comment>
                            <comment id="12923538" author="sdong" created="Thu, 21 Oct 2010 17:32:56 +0000"  >&lt;p&gt;Resolver conflicts to previous check-in&lt;/p&gt;</comment>
                            <comment id="12923568" author="namit" created="Thu, 21 Oct 2010 18:59:31 +0000"  >&lt;ul&gt;
	&lt;li&gt;Also, for string and test elements, it performs slightly better than&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;spelling: (should be Text)&lt;/p&gt;




&lt;p&gt;  public ListObjectsEqualComparer(ObjectInspector[] oi0, ObjectInspector[] oi1) {&lt;br/&gt;
    assert(oi0.length == oi1.length);&lt;/p&gt;


&lt;p&gt;Instead of asserting, can you throw an error ?&lt;/p&gt;




&lt;p&gt;ListObjectsEqualComparer&lt;/p&gt;

&lt;p&gt;else {&lt;br/&gt;
     assert(type0.equals(type1));&lt;br/&gt;
     compareType = CompareType.SAME_TYPE;&lt;/p&gt;


&lt;p&gt;Dont assert same type ?&lt;br/&gt;
types can be different - it wont happen for GroupBy&lt;/p&gt;


&lt;p&gt;Otherwise, it looks great&lt;/p&gt;</comment>
                            <comment id="12923640" author="sdong" created="Thu, 21 Oct 2010 21:11:31 +0000"  >&lt;p&gt;Modify according to Namit&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="12923684" author="namit" created="Thu, 21 Oct 2010 23:00:09 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12923757" author="namit" created="Fri, 22 Oct 2010 04:57:58 +0000"  >&lt;p&gt;Committed. Thanks Siying&lt;/p&gt;</comment>
                            <comment id="12923759" author="zshao" created="Fri, 22 Oct 2010 05:17:56 +0000"  >&lt;p&gt;+1. This is smart!&lt;/p&gt;

&lt;p&gt;&amp;gt; public boolean areEqual(ArrayList&amp;lt;Object&amp;gt; ol0, ArrayList&amp;lt;Object&amp;gt; ol1) ...&lt;br/&gt;
Why do we need to care about the case that the 2 array lists are different in size / shorter than numFields?&lt;/p&gt;

&lt;p&gt;&amp;gt; for (int i = 0; i &amp;lt; numFields; i++) {&lt;/p&gt;

&lt;p&gt;We might want to try comparing the last field first.  The reason is that in sort-based aggregation, the last key is more likely to be different than the first key. Not sure the effect is big enough to be noticeable though.&lt;/p&gt;</comment>
                            <comment id="12923992" author="namit" created="Fri, 22 Oct 2010 19:53:49 +0000"  >&lt;p&gt;Siying, can you file a follow-up jira for the above ?&lt;/p&gt;</comment>
                            <comment id="12924005" author="sdong" created="Fri, 22 Oct 2010 20:17:36 +0000"  >&lt;p&gt;We handle the case for comparing different size because, (for some new codes checked in by Ning, as far as I remember), if map doesn&apos;t produce anything for group by, it created a dummy record whose length is 0. Just handle lengh=0 sounds strange, so I made a little bit more general to this way.&lt;/p&gt;

&lt;p&gt;Comparing from last field is definitely a good idea. It might help a lot in reduce side for multiple key group-by when there are lots of records to reduce.  I&apos;ll open a new JIRA for it. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12457735" name="HIVE.1738.1.patch" size="11359" author="sdong" created="Thu, 21 Oct 2010 10:07:37 +0000"/>
                            <attachment id="12457766" name="HIVE.1738.2.patch" size="11513" author="sdong" created="Thu, 21 Oct 2010 17:32:56 +0000"/>
                            <attachment id="12457785" name="HIVE.1738.3.patch" size="11938" author="sdong" created="Thu, 21 Oct 2010 21:11:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Oct 2010 17:03:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72739</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgnz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1739] Move forest from hadoop svn to hive svn</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1739</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently the hive forest is still inside hadoop. Before we move to our own SVN we should move/copy the documentation from inside hadoop&apos;s svn to space in our subtree.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478002">HIVE-1739</key>
            <summary>Move forest from hadoop svn to hive svn</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="appodictic">Edward Capriolo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Oct 2010 16:00:06 +0000</created>
                <updated>Thu, 21 Oct 2010 16:05:34 +0000</updated>
                            <resolved>Thu, 21 Oct 2010 16:05:34 +0000</resolved>
                                                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12923495" author="appodictic" created="Thu, 21 Oct 2010 16:05:34 +0000"  >&lt;p&gt;We will not need this. This will happen when the entire trunk is moved.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72738</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 14 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123351</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1740] support NOT IN and NOT LIKE syntax</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1740</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive should support standard SQL syntax&lt;/p&gt;

&lt;p&gt;x NOT LIKE p&lt;br/&gt;
x NOT IN (...)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478031">HIVE-1740</key>
            <summary>support NOT IN and NOT LIKE syntax</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hassold">Eric Hassold</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Oct 2010 21:11:56 +0000</created>
                <updated>Fri, 16 Dec 2011 23:57:06 +0000</updated>
                            <resolved>Fri, 3 Jun 2011 17:20:03 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12923641" author="jvs" created="Thu, 21 Oct 2010 21:12:45 +0000"  >&lt;p&gt;This may apply to more operators such as RLIKE too.&lt;/p&gt;

&lt;p&gt;Workaround is currently to use prefix NOT&lt;/p&gt;

&lt;p&gt;NOT(x LIKE p)&lt;br/&gt;
etc.&lt;/p&gt;</comment>
                            <comment id="13041787" author="hassold" created="Tue, 31 May 2011 19:52:47 +0000"  >&lt;p&gt;Support for &quot;NOT op&quot; is implemented using only a syntactic transformation performed in grammar, without adding definition for new UDF. That is, AST generated for say &quot;value NOT LIKE &apos;pattern&apos;&quot;is strictly equal to the one for &quot;NOT (value LIKE &apos;pattern&apos;)&quot;.&lt;/p&gt;</comment>
                            <comment id="13041906" author="nzhang" created="Wed, 1 Jun 2011 00:22:40 +0000"  >&lt;p&gt;Nice approach! One minor comment: it seems KW_IN should be able to be added to precedenceEqualNegatableOperator so that we don&apos;t need to deal with IN as a separate rule? &lt;/p&gt;</comment>
                            <comment id="13041913" author="hassold" created="Wed, 1 Jun 2011 00:35:14 +0000"  >&lt;p&gt;The IN operator is turned into a different AST, which root is TOK_FUNCTION (that is, TOK_FUNCTION^ KW_IN ...), and that&apos;s probably why KW_IN wasn&apos;t part of precedenceEqualExpression either. If putting KW_IN into precedenceEqualNegatableOperator, this would require testing operator after -&amp;gt; to generate this different AST when operator is KW_IN, which IMHO would end up in a more complex and less readable change. Does it make sense?&lt;/p&gt;</comment>
                            <comment id="13041921" author="nzhang" created="Wed, 1 Jun 2011 01:05:09 +0000"  >&lt;p&gt;Actually LIKE and RLIKE etc are also functions, but I agree it&apos;s an existing issue that they are parsed and called differently in existing code. I guess we can unify them in a followup JIRA. &lt;/p&gt;

&lt;p&gt;+1 and will commit if tests pass. &lt;/p&gt;</comment>
                            <comment id="13041994" author="nzhang" created="Wed, 1 Jun 2011 06:06:11 +0000"  >&lt;p&gt;Eric, udf_in.q failed. Can you take a look? You can run the unit test by &apos;ant test -Dtestcase=TestCliDriver -Dqfile=udf_in.q&apos;.&lt;/p&gt;</comment>
                            <comment id="13042336" author="hassold" created="Wed, 1 Jun 2011 18:12:49 +0000"  >&lt;p&gt;Moving IN in same rule caused &apos;=&apos; to no more have higher precedence than &apos;IN&apos; operator (hence 1 = 1 IN (true, false) is parsed differently). Don&apos;t know how I missed this test failure, but will try to figure out how to keep support for NOT IN without breaking this.&lt;/p&gt;</comment>
                            <comment id="13043075" author="hassold" created="Thu, 2 Jun 2011 21:43:43 +0000"  >&lt;p&gt;Fix incorrect reference to left expression in AST generator of previous patch. Pass all regression tests. This adds support for NOT LIKE, NOT RLIKE, NOT REGEXP and NOT IN operators in SQL grammar.&lt;/p&gt;</comment>
                            <comment id="13043884" author="nzhang" created="Fri, 3 Jun 2011 17:20:03 +0000"  >&lt;p&gt;Committed. Thanks Eric!&lt;/p&gt;</comment>
                            <comment id="13044143" author="hudson" created="Fri, 3 Jun 2011 23:57:34 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #759 (See &lt;a href=&quot;https://builds.apache.org/hudson/job/Hive-trunk-h0.21/759/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/hudson/job/Hive-trunk-h0.21/759/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1740&quot; title=&quot;support NOT IN and NOT LIKE syntax&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1740&quot;&gt;&lt;del&gt;HIVE-1740&lt;/del&gt;&lt;/a&gt;. support NOT IN and NOT LIKE syntax (Eric Hassold via Ning Zhang)&lt;/p&gt;

&lt;p&gt;nzhang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1131114&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1131114&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_notop.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_notop.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/parse/Hive.g&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12480987" name="HIVE-1740.1.patch.txt" size="3367" author="hassold" created="Tue, 31 May 2011 19:53:36 +0000"/>
                            <attachment id="12481290" name="HIVE-1740.2.patch.txt" size="3539" author="hassold" created="Thu, 2 Jun 2011 21:43:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 31 May 2011 19:52:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72125</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 34 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05ijj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Extend SQL to support for NOT LIKE, NOT RLIKE, NOT REGEXP and NOT IN operators</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1741] HiveInputFormat.readFields should print the cause when there&apos;s an exception</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1741</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Minor annoyance when it comes to debugging using exotic input formats, currently if you do something wrong trying to get the HBase handler working you get something like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.io.IOException: Cannot create an instance of InputSplit class = org.apache.hadoop.hive.hbase.HBaseSplit:org.apache.hadoop.hive.hbase.HBaseSplit
	at org.apache.hadoop.hive.ql.io.HiveInputFormat$HiveInputSplit.readFields(HiveInputFormat.java:147)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:333)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)
	at org.apache.hadoop.mapred.Child.main(Child.java:170)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It could be a lot more helpful to see the cause, in my case:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.io.IOException: Cannot create an instance of InputSplit class = org.apache.hadoop.hive.hbase.HBaseSplit:org.apache.hadoop.hive.hbase.HBaseSplit
	at org.apache.hadoop.hive.ql.io.HiveInputFormat$HiveInputSplit.readFields(HiveInputFormat.java:147)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:333)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)
	at org.apache.hadoop.mapred.Child.main(Child.java:170)
Caused by: java.lang.ClassNotFoundException: org.apache.hadoop.hive.hbase.HBaseSplit
	at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
...
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:247)
	at org.apache.hadoop.conf.Configuration.getClassByName(Configuration.java:907)
	at org.apache.hadoop.hive.ql.io.HiveInputFormat$HiveInputSplit.readFields(HiveInputFormat.java:144)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It&apos;s just a matter of doing this in readFields:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-            + inputSplitClassName + &lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt; + e.getMessage());
+            + inputSplitClassName + &lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt; + e.getMessage(), e);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12478037">HIVE-1741</key>
            <summary>HiveInputFormat.readFields should print the cause when there&apos;s an exception</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ashutoshc">Ashutosh Chauhan</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Oct 2010 22:00:00 +0000</created>
                <updated>Fri, 16 Dec 2011 23:57:03 +0000</updated>
                            <resolved>Mon, 24 Oct 2011 03:14:26 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12923687" author="jvs" created="Thu, 21 Oct 2010 23:05:30 +0000"  >&lt;p&gt;Yeah, Hive exception-swallowing is notorious.  We really need a coding standard here...&lt;/p&gt;</comment>
                            <comment id="13125639" author="ashutoshc" created="Wed, 12 Oct 2011 07:06:25 +0000"  >&lt;p&gt;Swallowing exceptions is not cool. Attaching patch which fixes it. &lt;/p&gt;</comment>
                            <comment id="13132852" author="he yongqiang" created="Fri, 21 Oct 2011 17:31:25 +0000"  >&lt;p&gt;+1, will commit after tests pass&lt;/p&gt;</comment>
                            <comment id="13133814" author="he yongqiang" created="Mon, 24 Oct 2011 03:14:26 +0000"  >&lt;p&gt;committed, thanks Ashutosh Chauhan!&lt;/p&gt;</comment>
                            <comment id="13133879" author="hudson" created="Mon, 24 Oct 2011 07:57:46 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1028 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1028/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1028/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1741&quot; title=&quot;HiveInputFormat.readFields should print the cause when there&amp;#39;s an exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1741&quot;&gt;&lt;del&gt;HIVE-1741&lt;/del&gt;&lt;/a&gt;: HiveInputFormat.readFields should print the cause when there&apos;s an exception (Ashutosh Chauhan via He Yongqiang)&lt;/p&gt;

&lt;p&gt;heyongqiang : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1188018&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1188018&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/HiveInputFormat.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12498713" name="hive-1741.patch" size="1063" author="ashutoshc" created="Wed, 12 Oct 2011 07:06:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Oct 2010 23:05:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42381</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09zhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56190</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1742] Fix Eclipse templates (and use Ivy metadata to generate Eclipse library dependencies)</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1742</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;A previous commit broke the eclipse templates.&lt;/p&gt;

&lt;p&gt;Also, we should use the library version information in ivy/libraries.properties in&lt;br/&gt;
ivy.xml files as well as the eclipse .classpath file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478038">HIVE-1742</key>
            <summary>Fix Eclipse templates (and use Ivy metadata to generate Eclipse library dependencies)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cwsteinbach">Carl Steinbach</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Oct 2010 22:35:29 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:34 +0000</updated>
                            <resolved>Sat, 23 Oct 2010 04:39:07 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12923677" author="hbasereviewboard" created="Thu, 21 Oct 2010 22:41:19 +0000"  >&lt;p&gt;Message from: &quot;Carl Steinbach&quot; &amp;lt;carl@cloudera.com&amp;gt;&lt;/p&gt;

&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;http://review.cloudera.org/r/1066/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1066/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for Hive Developers.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1742&quot; title=&quot;Fix Eclipse templates (and use Ivy metadata to generate Eclipse library dependencies)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1742&quot;&gt;&lt;del&gt;HIVE-1742&lt;/del&gt;&lt;/a&gt;: Fix Eclipse templates (and use Ivy metadata to generate Eclipse library dependencies)&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1742&quot; title=&quot;Fix Eclipse templates (and use Ivy metadata to generate Eclipse library dependencies)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1742&quot;&gt;&lt;del&gt;HIVE-1742&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;http://issues.apache.org/jira/browse/HIVE-1742&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/HIVE-1742&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  build.xml 1407bca &lt;br/&gt;
  eclipse-templates/.classpath 48de61d &lt;br/&gt;
  ivy/libraries.properties bbbb615 &lt;br/&gt;
  metastore/ivy.xml e6057c0 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;http://review.cloudera.org/r/1066/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://review.cloudera.org/r/1066/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Carl&lt;/p&gt;

</comment>
                            <comment id="12923997" author="jvs" created="Fri, 22 Oct 2010 20:00:45 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="12924121" author="jvs" created="Sat, 23 Oct 2010 04:39:07 +0000"  >&lt;p&gt;Committed.  Thanks Carl!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12457798" name="HIVE-1742.1.patch.txt" size="9883" author="cwsteinbach" created="Thu, 21 Oct 2010 22:37:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Oct 2010 22:41:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123352</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1743] Group-by to determine equals of Keys in reverse order</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1743</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When processing group-by, in reduce side, keys are ordered. Comparing equality of two keys can be more efficient in reverse order.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478120">HIVE-1743</key>
            <summary>Group-by to determine equals of Keys in reverse order</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="sdong">Siying Dong</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Oct 2010 21:38:55 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:26 +0000</updated>
                            <resolved>Thu, 11 Nov 2010 04:22:55 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12929864" author="sdong" created="Tue, 9 Nov 2010 01:14:11 +0000"  >&lt;p&gt;Use revers order to compare list of keys. Also a couple of minor bugs in GenericUDF OP codes.&lt;/p&gt;</comment>
                            <comment id="12930671" author="namit" created="Wed, 10 Nov 2010 17:40:17 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;running tests&lt;/p&gt;</comment>
                            <comment id="12930919" author="namit" created="Thu, 11 Nov 2010 04:22:55 +0000"  >&lt;p&gt;Committed. Thanks Siying&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12459123" name="HIVE-1743.1.patch" size="3609" author="sdong" created="Tue, 9 Nov 2010 01:14:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 10 Nov 2010 17:40:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72736</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 11 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123353</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1744] Remove empty query test files</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1744</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Looks like the tests for udf_json.q were removed in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1031&quot; title=&quot;&amp;quot;DESCRIBE FUNCTION array&amp;quot; throws ParseException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1031&quot;&gt;&lt;del&gt;HIVE-1031&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478125">HIVE-1744</key>
            <summary>Remove empty query test files</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21148&amp;avatarType=issuetype">Task</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="pauly">Paul Yang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Oct 2010 23:09:45 +0000</created>
                <updated>Sat, 6 Dec 2014 05:23:28 +0000</updated>
                                                                            <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12924092" author="cwsteinbach" created="Sat, 23 Oct 2010 00:07:49 +0000"  >&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1031&quot; title=&quot;&amp;quot;DESCRIBE FUNCTION array&amp;quot; throws ParseException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1031&quot;&gt;&lt;del&gt;HIVE-1031&lt;/del&gt;&lt;/a&gt; I moved the contents of udf_json.q over to&lt;br/&gt;
udf_get_json_object.q. This was part of an effort to normalize the naming&lt;br/&gt;
scheme for UDF tests, i.e. tests for UDF x() are contained in a file named&lt;br/&gt;
&quot;udf_x.q&quot;. However, I was remiss in not also supplying a script with &quot;svn rm&quot;&lt;br/&gt;
commands. I&apos;ll take the opportunity to do that with this ticket.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 23 Oct 2010 00:07:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42380</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123354</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1745] choose hive.groupby.skewindata intelligently</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1745</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Currently, it is set to false always - it leads to problems when we are issuing select distinct from very large tables with a very large number of distincts.&lt;br/&gt;
We need to tune it intelligently&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478131">HIVE-1745</key>
            <summary>choose hive.groupby.skewindata intelligently</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="namit">Namit Jain</reporter>
                        <labels>
                    </labels>
                <created>Sat, 23 Oct 2010 00:57:44 +0000</created>
                <updated>Thu, 21 Apr 2011 00:06:37 +0000</updated>
                                                                            <component>Query Processor</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42379</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 14 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08oof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1746] Support for using ALTER to set IDXPROPERTIES</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1746</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive-1498 has support for IDXPROPERTIES on index creation, so now we want to support ALTERing those properties.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478168">HIVE-1746</key>
            <summary>Support for using ALTER to set IDXPROPERTIES</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mwang5">Marquis Wang</assignee>
                                    <reporter username="mwang5">Marquis Wang</reporter>
                        <labels>
                    </labels>
                <created>Sun, 24 Oct 2010 02:24:27 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:44 +0000</updated>
                            <resolved>Fri, 19 Nov 2010 20:10:46 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Indexing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12926525" author="mwang5" created="Sat, 30 Oct 2010 03:24:20 +0000"  >&lt;p&gt;Preliminary patch. I think I need to add an alter_index function to the HiveMetaStoreClient, which I think requires editing the thrift files.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure if that is the correct way to go about that... is there a better way to allow us to change the properties on an existing index?&lt;/p&gt;

&lt;p&gt;If that is correct, how do I generate the new ThriftHiveMetaStoreClient.java?&lt;/p&gt;</comment>
                            <comment id="12927079" author="jvs" created="Mon, 1 Nov 2010 18:41:20 +0000"  >&lt;p&gt;Yes, you do need to extend the metastore thrift API for this.  For regenerating the code, see these instructions:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/HowToContribute#Generating_Code&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hive/HowToContribute#Generating_Code&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Note that we currently check in the generated code (although we&apos;re planning to eventually stop that and make developers install the thrift tools).  However, when submitting patches, if you can omit the generated code, that makes review a lot easier.  (For the final patch, we&apos;ll ask you to include the generated code.)&lt;/p&gt;</comment>
                            <comment id="12928149" author="mwang5" created="Thu, 4 Nov 2010 07:48:37 +0000"  >&lt;p&gt;New patch. Includes thrift generated files and should work now.&lt;/p&gt;</comment>
                            <comment id="12929790" author="jvs" created="Mon, 8 Nov 2010 22:49:22 +0000"  >&lt;p&gt;In DDLTask:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Eliminate System.out.println calls&lt;/li&gt;
	&lt;li&gt;Instead of duplicating last_modified_by/time code from ALTER TABLE, factor it out to a private helper method instead&lt;/li&gt;
	&lt;li&gt;You have a bug in the case where the table is in a non-default database.  You need to remember the base table&apos;s database name in AlterIndexDesc and use it later.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12930483" author="mwang5" created="Wed, 10 Nov 2010 05:09:06 +0000"  >&lt;p&gt;New patch.&lt;/p&gt;

&lt;p&gt;Eliminates println calls, adds private updateModifiedParameters method, and pass the database name into AlterIndexDesc. Otherwise the same.&lt;/p&gt;</comment>
                            <comment id="12930675" author="jvs" created="Wed, 10 Nov 2010 17:52:42 +0000"  >&lt;p&gt;You can share the code for getting the current user too.&lt;/p&gt;</comment>
                            <comment id="12932671" author="mwang5" created="Tue, 16 Nov 2010 21:59:54 +0000"  >&lt;p&gt;Are you sure it makes sense to share the code for getting the current user? It would just be replacing the conf.getUser call be a wrapper to it and replacing a try/catch with an if/else.&lt;/p&gt;</comment>
                            <comment id="12932680" author="jvs" created="Tue, 16 Nov 2010 22:08:28 +0000"  >&lt;p&gt;My suggestion is to push the user-get completely inside of updateModifiedParameters (which would then return int, and the caller would check).&lt;/p&gt;</comment>
                            <comment id="12932833" author="mwang5" created="Wed, 17 Nov 2010 06:26:22 +0000"  >&lt;p&gt;Oops, you&apos;re right, that makes sense. New patch that includes those changes.&lt;/p&gt;</comment>
                            <comment id="12933634" author="jvs" created="Fri, 19 Nov 2010 00:45:48 +0000"  >&lt;p&gt;+1.  Will commit when tests pass.&lt;/p&gt;</comment>
                            <comment id="12933952" author="jvs" created="Fri, 19 Nov 2010 20:10:46 +0000"  >&lt;p&gt;Committed.  Thanks Marquis!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12458467" name="1746.prelim.patch" size="20431" author="mwang5" created="Sat, 30 Oct 2010 03:24:20 +0000"/>
                            <attachment id="12458801" name="HIVE-1746.2.patch" size="94547" author="mwang5" created="Thu, 4 Nov 2010 07:48:37 +0000"/>
                            <attachment id="12459223" name="HIVE-1746.3.patch" size="96294" author="mwang5" created="Wed, 10 Nov 2010 05:07:52 +0000"/>
                            <attachment id="12459773" name="HIVE-1746.4.patch" size="96751" author="mwang5" created="Wed, 17 Nov 2010 06:26:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 1 Nov 2010 18:41:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72735</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i010e7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3829</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1747] Make case-insensitive substring search as fast as case-sensitive variant</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1747</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;WHERE str_col like &apos;%XYZ%&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is very fast because the pattern matching code is special-cased.  However,&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;WHERE str_col rlike &apos;(?i).*XYZ.*&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;is very slow because it goes through the generic Java pattern matching.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478276">HIVE-1747</key>
            <summary>Make case-insensitive substring search as fast as case-sensitive variant</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Oct 2010 22:46:34 +0000</created>
                <updated>Thu, 11 Nov 2010 22:02:26 +0000</updated>
                                            <version>0.7.0</version>
                                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12924764" author="jvs" created="Mon, 25 Oct 2010 22:47:06 +0000"  >&lt;p&gt;It should not be hard to reuse the special-casing for the case-insensitive option.&lt;/p&gt;</comment>
                            <comment id="12931227" author="jvs" created="Thu, 11 Nov 2010 22:02:26 +0000"  >&lt;p&gt;Also:  while at ApacheCon, I heard that the Pig team was using this as a faster replacement for Java regexp:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.brics.dk/automaton/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.brics.dk/automaton/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We might want to do the same.  See &lt;a href=&quot;https://issues.apache.org/jira/browse/PIG-965&quot; title=&quot;PERFORMANCE: optimize common case in matches (PORegex)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PIG-965&quot;&gt;&lt;del&gt;PIG-965&lt;/del&gt;&lt;/a&gt; for more details.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42378</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 11 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08ne7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48389</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1748] Statistics broken for tables with size in excess of Integer.MAX_VALUE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1748</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ANALYZE TABLE x COMPUTE STATISTICS would fail to update the table size if it exceeded Integer.MAX_VALUE because it used parseInt instead of parseLong.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478280">HIVE-1748</key>
            <summary>Statistics broken for tables with size in excess of Integer.MAX_VALUE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="paulbutler">Paul Butler</assignee>
                                    <reporter username="paulbutler">Paul Butler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Oct 2010 23:42:29 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:33 +0000</updated>
                            <resolved>Tue, 26 Oct 2010 18:03:39 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12924801" author="namit" created="Tue, 26 Oct 2010 00:50:49 +0000"  >&lt;p&gt;Can you upload the patch here ?&lt;/p&gt;

&lt;p&gt;It needs to be committed here first, before we can deploy internally in facebook&lt;/p&gt;</comment>
                            <comment id="12924819" author="paulbutler" created="Tue, 26 Oct 2010 02:29:16 +0000"  >&lt;p&gt;@Namit added.&lt;/p&gt;

&lt;p&gt;It took a while as I had to check out Hive from Apache&apos;s repo and apply my patch to that; is there a better way to create patches against the Apache repos from the internal one?&lt;/p&gt;</comment>
                            <comment id="12924849" author="namit" created="Tue, 26 Oct 2010 06:01:18 +0000"  >&lt;p&gt;Depends on which internal branch you are working off - we can take it offline, I can go over the internal branch structure with you tomorrow&lt;/p&gt;</comment>
                            <comment id="12924850" author="namit" created="Tue, 26 Oct 2010 06:03:59 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Looks good - the patch was generated from a higher level directory - for now, I manually removed trunk/ from it&lt;/p&gt;</comment>
                            <comment id="12925067" author="namit" created="Tue, 26 Oct 2010 18:03:39 +0000"  >&lt;p&gt;Committed. Thanks Paul&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12458030" name="HIVE-1748.patch" size="812" author="paulbutler" created="Tue, 26 Oct 2010 02:27:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Oct 2010 00:50:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72734</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123355</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1749] ExecMapper and ExecReducer: reduce function calls to l4j.isInfoEnabled()</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1749</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Calling l4j.isInfoEnabled() is more expensive than we thought. By eliminating this function call, we can save 1% - 3% CPU time, according to the profiliing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478292">HIVE-1749</key>
            <summary>ExecMapper and ExecReducer: reduce function calls to l4j.isInfoEnabled()</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="sdong">Siying Dong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Oct 2010 02:45:17 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:30 +0000</updated>
                            <resolved>Tue, 26 Oct 2010 18:02:39 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12924833" author="sdong" created="Tue, 26 Oct 2010 04:14:22 +0000"  >&lt;p&gt;From ExecMapper and ExecReducer, save result of  l4j.isInfoEnabled() in configure()&lt;/p&gt;</comment>
                            <comment id="12924848" author="namit" created="Tue, 26 Oct 2010 06:00:11 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12925065" author="namit" created="Tue, 26 Oct 2010 18:02:38 +0000"  >&lt;p&gt;Committed. Thanks Siyng&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12458037" name="HIVE-1749.1.patch" size="4159" author="sdong" created="Tue, 26 Oct 2010 04:14:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Oct 2010 06:00:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72733</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgpb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123356</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1750] Remove Partition Filtering Conditions when Possible</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1750</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For some simple queries, partition filtering constraints take 8% of CPU time (now 16% since we filter twice) even if the result is always true. When possible, we should remove these constraints to save CPU times.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478293">HIVE-1750</key>
            <summary>Remove Partition Filtering Conditions when Possible</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="sdong">Siying Dong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Oct 2010 02:48:21 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:20 +0000</updated>
                            <resolved>Fri, 5 Nov 2010 17:30:23 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12924846" author="namit" created="Tue, 26 Oct 2010 05:56:41 +0000"  >&lt;p&gt;Note that it is different from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1538&quot; title=&quot;FilterOperator is applied twice with ppd on.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1538&quot;&gt;&lt;del&gt;HIVE-1538&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For eg, if T is partitioned on ds,&lt;br/&gt;
and the query is:&lt;/p&gt;

&lt;p&gt;select c1 from T where ds = &apos;1&apos; and c2 &amp;gt; 10;&lt;/p&gt;

&lt;p&gt;There is no reason to apply the filter ds=&apos;1&apos;  for each row. Partition pruning has already taken care of it.&lt;/p&gt;

&lt;p&gt;However, for a query like:&lt;/p&gt;

&lt;p&gt;select .. from T where (ds=&apos;1&apos; and x &amp;gt;1) or (ds=&apos;2&apos; and x &amp;lt; 10);&lt;/p&gt;

&lt;p&gt;We need the predicates on partitioning column &apos;ds&apos;.&lt;/p&gt;


</comment>
                            <comment id="12925201" author="namit" created="Tue, 26 Oct 2010 23:48:10 +0000"  >&lt;p&gt;I think we can use the following rules:&lt;/p&gt;

&lt;p&gt;If the predicates contain only ANDs, remove the predicate containing partitioning columns&lt;/p&gt;


&lt;p&gt;In case of any UDF (including OR):&lt;br/&gt;
  Get the columns used as arguments&lt;/p&gt;

&lt;p&gt;If all columns in the parameters are partitioning columns, we can remove the partitioning predicate.&lt;br/&gt;
If a column in the partitioning predicate contains a non-partitioning column, we cannot remove it,&lt;/p&gt;


&lt;p&gt;for eg:&lt;/p&gt;


&lt;p&gt;If the condition is:&lt;/p&gt;

&lt;p&gt;ds=1 or ds=2&lt;/p&gt;

&lt;p&gt;ds=1 and x=1&lt;/p&gt;

&lt;p&gt;we can remove the conditions for partitioning columns.&lt;/p&gt;


&lt;p&gt;However, if the condition is:&lt;/p&gt;

&lt;p&gt;ds = 1 or x = 1&lt;/p&gt;

&lt;p&gt;we cannot modify the condition.&lt;/p&gt;

&lt;p&gt;We can go over all UDFs and add them in the category of UDFs which behave like AND.&lt;br/&gt;
Any unknowns behave like OR&lt;/p&gt;</comment>
                            <comment id="12925209" author="jvs" created="Tue, 26 Oct 2010 23:59:10 +0000"  >&lt;p&gt;This is the same logic I have in IndexPredicateAnalyzer.analyzePredicate.  And it can be configured with the specific set of columns to allow.  So you might be able to reuse it as is.&lt;/p&gt;</comment>
                            <comment id="12925225" author="sdong" created="Wed, 27 Oct 2010 00:47:40 +0000"  >&lt;p&gt;How about:&lt;br/&gt;
(ds=1 and c=&apos;1) or (ds=2 or ds=3)&lt;/p&gt;

&lt;p&gt; (ds=2 or ds=3) is moved?&lt;/p&gt;</comment>
                            <comment id="12925229" author="he yongqiang" created="Wed, 27 Oct 2010 01:16:58 +0000"  >&lt;p&gt;Under a &apos;or&apos;, if we see a non-partitioning column, they can not be removed.&lt;br/&gt;
Otherwise, it can be removed.&lt;/p&gt;</comment>
                            <comment id="12925230" author="sdong" created="Wed, 27 Oct 2010 01:22:57 +0000"  >&lt;p&gt;How about doing this (something is much more expensive but should be right):&lt;/p&gt;

&lt;p&gt;We go throught the whole expression tree, for every node, we keep a vector of results. Each result is for one partition, being true, false or null.&lt;br/&gt;
When doing logical expression, we do logical expression for every vector. Every for any node, all the result of the element is all true or all false, we can replace it with the constant true or false, and potentially remove its parent logical operator.&lt;/p&gt;

&lt;p&gt;Since we only replace nodes when we know the results for sure, this algorithm will guarantee to be correct.&lt;/p&gt;</comment>
                            <comment id="12927219" author="sdong" created="Mon, 1 Nov 2010 23:11:34 +0000"  >&lt;p&gt;After generating partition predicates, we add another step to prune partitions and according to the list of pruned partitions, remove partition predicates when possible. A new optimizer (PartitionConditionRemover) is created for it, which walks the operator tree and the expression tree for target filter operator. For every expression including partition column, we evaluate the value for every partition pruned. If the result agrees for all partitions, we replace expression to be the constant result. We further remove the nodes when possible. Finally, if the whole expression tree is always to return true, we remove the filter operator.&lt;/p&gt;

&lt;p&gt;We only handle the filter pushed down to near the table scan operators. We&apos;ll reply on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1538&quot; title=&quot;FilterOperator is applied twice with ppd on.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1538&quot;&gt;&lt;del&gt;HIVE-1538&lt;/del&gt;&lt;/a&gt; to remove the original one.&lt;/p&gt;

&lt;p&gt;Fix the unit test results accordingly and add a new unit test.&lt;/p&gt;</comment>
                            <comment id="12927285" author="ted_yu" created="Tue, 2 Nov 2010 03:32:29 +0000"  >&lt;p&gt;Should #PartitionConditionRemover.java# be removed from the patch ?&lt;/p&gt;</comment>
                            <comment id="12927289" author="sdong" created="Tue, 2 Nov 2010 03:49:25 +0000"  >&lt;p&gt;Remove #PartitionConditionRemover.java# and some files that were not seriously modified.&lt;/p&gt;</comment>
                            <comment id="12927312" author="namit" created="Tue, 2 Nov 2010 06:01:19 +0000"  >&lt;p&gt;OpProcFactory:&lt;/p&gt;

&lt;p&gt;      for (Partition p: prunedPartList.getConfirmedPartns()) {&lt;br/&gt;
        if (!p.getTable().isPartitioned()) &lt;/p&gt;
{
          return null;
        }&lt;br/&gt;
      }&lt;br/&gt;
      for (Partition p: prunedPartList.getUnknownPartns()) {&lt;br/&gt;
        if (!p.getTable().isPartitioned()) {          return null;        }
&lt;p&gt;      }&lt;/p&gt;

&lt;p&gt;Why are the above changes needed ?&lt;/p&gt;


&lt;p&gt;The overall approach looks good - still looking in detail.&lt;/p&gt;
</comment>
                            <comment id="12927334" author="amareshwari" created="Tue, 2 Nov 2010 08:49:27 +0000"  >&lt;p&gt;A couple of minor comments:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;javadoc for isOpNot and isOpOr in FunctionRegistry is wrong. Do you want to correct it?&lt;/li&gt;
	&lt;li&gt;For the below code change in many optimizers :
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+          prunedParts = pGraphContext.getOpToPartList().get(tso);
+          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (prunedParts == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+            prunedParts = PartitionPruner.prune(....);
+          }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I was expecting a pGraphContext.getOpToPartList().put().&lt;br/&gt;
Is PartitonPruner.prune call really needed in all those places, because PartitionConditionRemover already does a put if it is not null ? Correct me if I&apos;m wrong.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12927517" author="ted_yu" created="Tue, 2 Nov 2010 18:08:59 +0000"  >&lt;p&gt;In ExprProcFactory.java, GenericFuncExprProcessor.process():&lt;br/&gt;
+            ExprNodeConstantDesc falseDesc = new ExprNodeConstantDesc(&lt;br/&gt;
+                wrapper.outExpr.getTypeInfo(), Boolean.TRUE);&lt;br/&gt;
variable name should be changed.&lt;/p&gt;</comment>
                            <comment id="12927533" author="sdong" created="Tue, 2 Nov 2010 18:40:05 +0000"  >&lt;p&gt;Amareshwari, it&apos;s a good catch. I&apos;ll make a put there. Will submit a patch later.&lt;/p&gt;
</comment>
                            <comment id="12927535" author="sdong" created="Tue, 2 Nov 2010 18:40:25 +0000"  >&lt;p&gt;In the case that at least one partition is a table, the result can be unpredictable. I return for the corner case since I think it is safer.&lt;/p&gt;
</comment>
                            <comment id="12927569" author="sdong" created="Tue, 2 Nov 2010 19:50:13 +0000"  >&lt;p&gt;Addressing the comments and do some code cleaning up.&lt;/p&gt;</comment>
                            <comment id="12927641" author="namit" created="Tue, 2 Nov 2010 22:01:04 +0000"  >&lt;p&gt;1. More comments for NodeInfoWrapper&lt;br/&gt;
2. Why is it public ?&lt;br/&gt;
3. Why do you need wlkEvalExpr&lt;/p&gt;


&lt;p&gt;Line 294: ExprProcFactory&lt;br/&gt;
            ExprNodeConstantDesc falseDesc = new ExprNodeConstantDesc(&lt;br/&gt;
                wrapper.outExpr.getTypeInfo(), Boolean.TRUE);&lt;br/&gt;
            return new NodeInfoWrapper(WalkState.TRUE, null, falseDesc, falseDesc);&lt;/p&gt;


&lt;p&gt;Change variable name&lt;/p&gt;


&lt;p&gt;313:&lt;br/&gt;
        for (Object child : nodeOutputs) {&lt;br/&gt;
          NodeInfoWrapper child_nd = (NodeInfoWrapper) child;&lt;br/&gt;
          if (c == 0) &lt;/p&gt;
{
            c1 = (NodeInfoWrapper) child;
            c = 1;
          }
&lt;p&gt;          c2 = (NodeInfoWrapper) child;&lt;br/&gt;
        }&lt;/p&gt;


&lt;p&gt;This code is way more complicated than:&lt;/p&gt;

&lt;p&gt;c1 = nodeOutputs&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;br/&gt;
c2 = nodeOutputs&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;



&lt;p&gt;334:&lt;br/&gt;
          for (int i = 0; i &amp;lt; ctx.getPartList().size(); i++) {&lt;br/&gt;
            results&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt; = opOr(c1.ResultVector&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;, c2.ResultVector&lt;span class=&quot;error&quot;&gt;&amp;#91;i&amp;#93;&lt;/span&gt;);&lt;/p&gt;

&lt;p&gt;shouldn&apos;t it be opAnd()&lt;/p&gt;



&lt;p&gt;OpProcFactory:153&lt;br/&gt;
      if (wrapper.state == ExprProcFactory.WalkState.TRUE) {&lt;br/&gt;
        //top.setChildOperators(fop.getChildOperators());&lt;/p&gt;


&lt;p&gt;You can use Operator.removeChild()&lt;/p&gt;</comment>
                            <comment id="12927677" author="namit" created="Tue, 2 Nov 2010 23:34:27 +0000"  >&lt;p&gt;Add comments for evalExprWithPart.&lt;br/&gt;
Also, do you think you can share/merge this code with PartitionPruner.prune()&lt;/p&gt;</comment>
                            <comment id="12927691" author="sdong" created="Tue, 2 Nov 2010 23:54:14 +0000"  >&lt;p&gt;Mostly the codes can share are walking rule settings and finding out filter operator following table scans. Kind of framework-like codes, instead of util functions. Need some efforts if we want to share them.&lt;/p&gt;

&lt;p&gt;By the way, Operator.removeChild() doesn&apos;t do the same thing as what we want to. We want to append children of the deleted filter operator to its parent but Operator.removeChild() is just a simple removing. I&apos;ll write another function in Operator to do the job.&lt;/p&gt;
</comment>
                            <comment id="12927697" author="sdong" created="Wed, 3 Nov 2010 00:12:05 +0000"  >&lt;p&gt;Namit, sorry I misunderstood. Yes, maybe evalExprWithPart() can share some codes with PartitionPruner.&lt;/p&gt;
</comment>
                            <comment id="12927716" author="sdong" created="Wed, 3 Nov 2010 01:33:43 +0000"  >&lt;p&gt;1. fix the bug of opOr -&amp;gt; opAnd&lt;br/&gt;
2. remove walkEvalExpr, as it is not really needed&lt;br/&gt;
3. Instead of removing operator after walking its expression tree, save the operator and remove them one by one after walking the operation tree. It is to handle the case like:&lt;br/&gt;
    from src_tbl&lt;br/&gt;
    insert overwrite table tbl1 where ds=&apos;1&apos;&lt;br/&gt;
    insert overwrite table tbl2 where ds=&apos;1&apos;;&lt;br/&gt;
Removing operators when walking the tree is dangerous in these cases.&lt;br/&gt;
4. fix comments and add some. Fix variable name.&lt;br/&gt;
5. rename classes for partition condition remover to be different from ppr&lt;br/&gt;
6. add some queries in the test: 1. cover opAnd case; 2. cover multiple insert from the same partition&lt;br/&gt;
7. always put pruned partitions into the hash map. (we cannot remove to calling calling partition pruners multiple places for PartitionConditionRemover is not guaranteed to prune partitions, for cases like table is not partitioned)&lt;br/&gt;
8. PartitionPruner and PartitionConditonRemover to share some codes for evaluating the expression with partition columns&lt;br/&gt;
9. some other code cleaning up&lt;/p&gt;

&lt;p&gt;ran the test pcr.q but still running the whole test suites. Will &quot;submit patch&quot; when other tests pass.&lt;/p&gt;</comment>
                            <comment id="12927735" author="namit" created="Wed, 3 Nov 2010 04:56:58 +0000"  >&lt;p&gt;The code changes look good to me.&lt;br/&gt;
Can you add some tests and do a explain plan for all kinds of scenarios:&lt;/p&gt;

&lt;p&gt;ds &amp;lt; 10 and x &amp;gt; 5&lt;br/&gt;
ds &amp;lt; 10 or x &amp;gt; 5&lt;br/&gt;
ds &amp;lt; 10 and x &amp;gt; 5 and y &amp;gt; 10&lt;br/&gt;
(ds &amp;lt; 10 and x &amp;gt; 5) or (ds &amp;gt; 10 and y &amp;gt; 5)&lt;br/&gt;
(ds &amp;lt; 10 and x &amp;gt; 5) or (ds &amp;gt; 5 and y &amp;gt; 5)&lt;br/&gt;
(ds &amp;lt; 10 or x &amp;gt; 5) and (ds &amp;gt; 5 or y &amp;gt; 5)&lt;/p&gt;</comment>
                            <comment id="12927737" author="namit" created="Wed, 3 Nov 2010 04:57:56 +0000"  >&lt;p&gt;Amareshwari, can you also confirm the changes ?&lt;/p&gt;</comment>
                            <comment id="12927742" author="amareshwari" created="Wed, 3 Nov 2010 05:20:19 +0000"  >&lt;p&gt;SemanticAnalyzer.java still has code without a &apos;put&apos; after PartitionPruner.prune().&lt;/p&gt;</comment>
                            <comment id="12928065" author="sdong" created="Wed, 3 Nov 2010 23:44:34 +0000"  >&lt;p&gt;1. fix two small bugs&lt;br/&gt;
2. add test cases Namit mentioned&lt;br/&gt;
3. addressing Amareshwari&apos;s comment: add put() after PartitionPruner.prune() in SemanticAnalyzer.java&lt;/p&gt;</comment>
                            <comment id="12928282" author="namit" created="Thu, 4 Nov 2010 17:42:25 +0000"  >&lt;p&gt;Do you think it might be simpler to update opToParts list in PartitionPruner.prune() itself - reduces the possibility of bugs.&lt;br/&gt;
It can definitely be done in a follow-up&lt;/p&gt;</comment>
                            <comment id="12928293" author="namit" created="Thu, 4 Nov 2010 18:17:23 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;will commit after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1751&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1751&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12928693" author="namit" created="Fri, 5 Nov 2010 17:30:22 +0000"  >&lt;p&gt;Committed. Thanks Siying&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12479236">HIVE-1770</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12479235">HIVE-1769</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12479236">HIVE-1770</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12479235">HIVE-1769</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12458592" name="HIVE-1750.1.patch" size="1154820" author="sdong" created="Mon, 1 Nov 2010 23:11:33 +0000"/>
                            <attachment id="12458602" name="HIVE-1750.2.patch" size="1138175" author="sdong" created="Tue, 2 Nov 2010 03:49:24 +0000"/>
                            <attachment id="12458702" name="HIVE-1750.3.patch" size="1297852" author="sdong" created="Wed, 3 Nov 2010 01:33:42 +0000"/>
                            <attachment id="12458776" name="HIVE-1750.4.patch" size="1393334" author="sdong" created="Wed, 3 Nov 2010 23:44:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Oct 2010 05:56:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72732</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 12 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1751] Optimize ColumnarStructObjectInspector.getStructFieldData()</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1751</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;ColumnarStructObjectInspector.getStructFieldData() is a heavy used function and is expensive.&lt;br/&gt;
By optimizing this function, including ColumnarStruct.uncheckedGetField() called by it, most queries can benefit from it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478295">HIVE-1751</key>
            <summary>Optimize ColumnarStructObjectInspector.getStructFieldData()</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="sdong">Siying Dong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Oct 2010 02:52:56 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:20 +0000</updated>
                            <resolved>Thu, 4 Nov 2010 21:38:53 +0000</resolved>
                                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12924828" author="ashutoshc" created="Tue, 26 Oct 2010 03:44:07 +0000"  >&lt;p&gt;Can you provide some info how you are planning to optimize it?&lt;/p&gt;</comment>
                            <comment id="12928071" author="sdong" created="Thu, 4 Nov 2010 00:28:46 +0000"  >&lt;p&gt;ExprNodeColumnEvaluator.evaluate() is very heavily used function. For most queries, it is called multiple time per row. In the group-by query in the benchmark, it is even 10 times per row.&lt;/p&gt;

&lt;p&gt;This function call sometimes takes 17%-20% CPU time. Usually ExprNodeColumnEvaluator.evaluate() itself takes 2%-3%, UnionStructObjectInspector.getStructFieldData() itself takes 2%-3%, ColumnarStruct.uncheckedGetField() itself takes 3%.&lt;/p&gt;

&lt;p&gt;It&apos;s hard to come up with a general solution that reduce the costs in a structual way. I tried to did several small code rewriting and hope we can get slight improvements:&lt;/p&gt;

&lt;p&gt;1. nullSequence is not passed in for every call but from constructor&lt;br/&gt;
2. Restructure ColumnarStruct a little bit.&lt;br/&gt;
3. In ExprNodeColumnEvaluator, makes the single level special case, which in most of the time is the common case when referring a column.&lt;/p&gt;

&lt;p&gt;When trying to optimize functions which already only take 3%, it&apos;s hard to verify the performance enhancement since experiments anyway have slight variation eveyr time.&lt;/p&gt;

&lt;p&gt;For 1 and 2, I think they anyway make code better readable. I ran many times, and consistently see about 1% improvement too.&lt;br/&gt;
3 might make code less readable, but I see about 5% improvement from some simple group-by query.&lt;/p&gt;</comment>
                            <comment id="12928133" author="namit" created="Thu, 4 Nov 2010 05:58:24 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;running tests.&lt;/p&gt;</comment>
                            <comment id="12928377" author="namit" created="Thu, 4 Nov 2010 21:38:53 +0000"  >&lt;p&gt;Committed. Thanks Siying&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12458779" name="HIVE-1751.1.patch" size="15029" author="sdong" created="Thu, 4 Nov 2010 00:28:46 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Oct 2010 03:44:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72731</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 12 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123358</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>


<item>
            <title>[HIVE-1752] Avoid UnionStructObjectInspector for partition columns when necessary</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1752</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Once &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1750&quot; title=&quot;Remove Partition Filtering Conditions when Possible&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1750&quot;&gt;&lt;del&gt;HIVE-1750&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1538&quot; title=&quot;FilterOperator is applied twice with ppd on.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1538&quot;&gt;&lt;del&gt;HIVE-1538&lt;/del&gt;&lt;/a&gt; are finished,  union struct for partition columns and normal columns is not needed anymore. We can save some costs by not having the struct.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478296">HIVE-1752</key>
            <summary>Avoid UnionStructObjectInspector for partition columns when necessary</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21140&amp;avatarType=issuetype">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="sdong">Siying Dong</assignee>
                                    <reporter username="sdong">Siying Dong</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Oct 2010 02:56:12 +0000</created>
                <updated>Thu, 11 Nov 2010 20:06:45 +0000</updated>
                                                                                <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12924847" author="namit" created="Tue, 26 Oct 2010 05:57:45 +0000"  >&lt;p&gt;Copying from &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1750&quot; title=&quot;Remove Partition Filtering Conditions when Possible&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1750&quot;&gt;&lt;del&gt;HIVE-1750&lt;/del&gt;&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;For eg, if T is partitioned on ds,&lt;br/&gt;
and the query is:&lt;/p&gt;

&lt;p&gt;select c1 from T where ds = &apos;1&apos; and c2 &amp;gt; 10;&lt;/p&gt;

&lt;p&gt;there is no reason to add &apos;ds&apos; to each row &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12471503">HIVE-1538</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Oct 2010 05:57:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42377</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08oon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>48598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>


<item>
            <title>[HIVE-1753] HIVE 1633 hit for Stage2 jobs with CombineHiveInputFormat</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1753</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Errors are the same as &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1633&quot; title=&quot;CombineHiveInputFormat fails with &amp;quot;cannot find dir for emptyFile&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1633&quot;&gt;&lt;del&gt;HIVE-1633&lt;/del&gt;&lt;/a&gt; but I see them for Stage-2 jobs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12478376">HIVE-1753</key>
            <summary>HIVE 1633 hit for Stage2 jobs with CombineHiveInputFormat</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sreekanth">Sreekanth Ramakrishnan</assignee>
                                    <reporter username="thiruvel">Thiruvel Thirumoolan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Oct 2010 18:21:46 +0000</created>
                <updated>Sat, 17 Dec 2011 00:01:12 +0000</updated>
                            <resolved>Thu, 4 Nov 2010 03:19:57 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12925075" author="thiruvel" created="Tue, 26 Oct 2010 18:23:49 +0000"  >&lt;p&gt;Sreekanth Ramakrishnan fixed it and the patch works for me. Will upload the patch.&lt;/p&gt;</comment>
                            <comment id="12925078" author="he yongqiang" created="Tue, 26 Oct 2010 18:31:33 +0000"  >&lt;p&gt;+1.&lt;/p&gt;</comment>
                            <comment id="12925317" author="sreekanth" created="Wed, 27 Oct 2010 10:18:31 +0000"  >&lt;p&gt;Hi, can a commiter add me to contributor list so can I can assign issues which I am working on?&lt;/p&gt;</comment>
                            <comment id="12925431" author="jvs" created="Wed, 27 Oct 2010 16:04:01 +0000"  >&lt;p&gt;Sreekanth, I have added you as a contributor.&lt;/p&gt;</comment>
                            <comment id="12925509" author="namit" created="Wed, 27 Oct 2010 19:02:19 +0000"  >&lt;p&gt;Yongqiang. can you commit it ?&lt;/p&gt;</comment>
                            <comment id="12925538" author="he yongqiang" created="Wed, 27 Oct 2010 20:22:00 +0000"  >&lt;p&gt;running test.&lt;/p&gt;</comment>
                            <comment id="12928102" author="he yongqiang" created="Thu, 4 Nov 2010 03:19:57 +0000"  >&lt;p&gt;Committed! Thanks Thiruvel!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12473954">HIVE-1633</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12458087" name="HIVE-1753.patch" size="647" author="thiruvel" created="Tue, 26 Oct 2010 18:24:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Oct 2010 18:31:33 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72730</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 12 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lgpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123359</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>
